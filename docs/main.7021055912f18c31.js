"use strict";(self.webpackChunkSpotyRFI=self.webpackChunkSpotyRFI||[]).push([[179],{58:(rn,Ye,X)=>{X.d(Ye,{BH:()=>Je,G6:()=>jr,L:()=>je,LL:()=>he,Pz:()=>Te,Sg:()=>qt,UG:()=>N,ZB:()=>ne,ZR:()=>ce,aH:()=>ht,b$:()=>Rn,eu:()=>J,hl:()=>Q,jU:()=>xe,m9:()=>qu,ne:()=>Xo,pd:()=>kt,r3:()=>mn,ru:()=>vt,tV:()=>G,uI:()=>ye,vZ:()=>io,w1:()=>Ai,xO:()=>Qo,xb:()=>$i,z$:()=>We,zd:()=>Fe});const be=function(F){const k=[];let B=0;for(let le=0;le<F.length;le++){let W=F.charCodeAt(le);W<128?k[B++]=W:W<2048?(k[B++]=W>>6|192,k[B++]=63&W|128):55296==(64512&W)&&le+1<F.length&&56320==(64512&F.charCodeAt(le+1))?(W=65536+((1023&W)<<10)+(1023&F.charCodeAt(++le)),k[B++]=W>>18|240,k[B++]=W>>12&63|128,k[B++]=W>>6&63|128,k[B++]=63&W|128):(k[B++]=W>>12|224,k[B++]=W>>6&63|128,k[B++]=63&W|128)}return k},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,k){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let W=0;W<F.length;W+=3){const Ne=F[W],ut=W+1<F.length,wt=ut?F[W+1]:0,hr=W+2<F.length,Ln=hr?F[W+2]:0;let Ge=(15&wt)<<2|Ln>>6,co=63&Ln;hr||(co=64,ut||(Ge=64)),le.push(B[Ne>>2],B[(3&Ne)<<4|wt>>4],B[Ge],B[co])}return le.join("")},encodeString(F,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(F):this.encodeByteArray(be(F),k)},decodeString(F,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(F):function(F){const k=[];let B=0,le=0;for(;B<F.length;){const W=F[B++];if(W<128)k[le++]=String.fromCharCode(W);else if(W>191&&W<224){const Ne=F[B++];k[le++]=String.fromCharCode((31&W)<<6|63&Ne)}else if(W>239&&W<365){const hr=((7&W)<<18|(63&F[B++])<<12|(63&F[B++])<<6|63&F[B++])-65536;k[le++]=String.fromCharCode(55296+(hr>>10)),k[le++]=String.fromCharCode(56320+(1023&hr))}else{const Ne=F[B++],ut=F[B++];k[le++]=String.fromCharCode((15&W)<<12|(63&Ne)<<6|63&ut)}}return k.join("")}(this.decodeStringToByteArray(F,k))},decodeStringToByteArray(F,k){this.init_();const B=k?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let W=0;W<F.length;){const Ne=B[F.charAt(W++)],wt=W<F.length?B[F.charAt(W)]:0;++W;const Ln=W<F.length?B[F.charAt(W)]:64;++W;const tt=W<F.length?B[F.charAt(W)]:64;if(++W,null==Ne||null==wt||null==Ln||null==tt)throw new lt;le.push(Ne<<2|wt>>4),64!==Ln&&(le.push(wt<<4&240|Ln>>2),64!==tt&&le.push(Ln<<6&192|tt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class lt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(F){return function(F){const k=be(F);return ge.encodeByteArray(k,!0)}(F).replace(/\./g,"")},G=function(F){try{return ge.decodeString(F,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function ne(F,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return k}for(const B in k)!k.hasOwnProperty(B)||!$e(B)||(F[B]=ne(F[B],k[B]));return F}function $e(F){return"__proto__"!==F}const nt=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=F&&G(F[1]);return k&&JSON.parse(k)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},ht=()=>{var F;return null===(F=nt())||void 0===F?void 0:F.config},Te=F=>{var k;return null===(k=nt())||void 0===k?void 0:k[`_${F}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,B)=>{this.resolve=k,this.reject=B})}wrapCallback(k){return(B,le)=>{B?this.reject(B):this.resolve(le),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(B):k(B,le))}}}function qt(F,k){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=k||"demo-project",W=F.iat||0,Ne=F.sub||F.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:W,exp:W+3600,auth_time:W,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},F);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(ut)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function N(){var F;const k=null===(F=nt())||void 0===F?void 0:F.forceEnvironment;if("node"===k)return!0;if("browser"===k)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xe(){return"object"==typeof self&&self.self===self}function vt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ai(){const F=We();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function jr(){return!N()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function J(){return new Promise((F,k)=>{try{let B=!0;const le="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(le);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(le),F(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var Ne;k((null===(Ne=W.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(B){k(B)}})}class ce extends Error{constructor(k,B,le){super(B),this.code=k,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(k,B,le){this.service=k,this.serviceName=B,this.errors=le}create(k,...B){const le=B[0]||{},W=`${this.service}/${k}`,Ne=this.errors[k],ut=Ne?function it(F,k){return F.replace(Ut,(B,le)=>{const W=k[le];return null!=W?String(W):`<${le}?>`})}(Ne,le):"Error";return new ce(W,`${this.serviceName}: ${ut} (${W}).`,le)}}const Ut=/\{\$([^}]+)}/g;function mn(F,k){return Object.prototype.hasOwnProperty.call(F,k)}function $i(F){for(const k in F)if(Object.prototype.hasOwnProperty.call(F,k))return!1;return!0}function io(F,k){if(F===k)return!0;const B=Object.keys(F),le=Object.keys(k);for(const W of B){if(!le.includes(W))return!1;const Ne=F[W],ut=k[W];if(Ya(Ne)&&Ya(ut)){if(!io(Ne,ut))return!1}else if(Ne!==ut)return!1}for(const W of le)if(!B.includes(W))return!1;return!0}function Ya(F){return null!==F&&"object"==typeof F}function Qo(F){const k=[];for(const[B,le]of Object.entries(F))Array.isArray(le)?le.forEach(W=>{k.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):k.push(encodeURIComponent(B)+"="+encodeURIComponent(le));return k.length?"&"+k.join("&"):""}function Fe(F){const k={};return F.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[W,Ne]=le.split("=");k[decodeURIComponent(W)]=decodeURIComponent(Ne)}}),k}function kt(F){const k=F.indexOf("?");if(!k)return"";const B=F.indexOf("#",k);return F.substring(k,B>0?B:void 0)}function Xo(F,k){const B=new dr(F,k);return B.subscribe.bind(B)}class dr{constructor(k,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{k(this)}).catch(le=>{this.error(le)})}next(k){this.forEachObserver(B=>{B.next(k)})}error(k){this.forEachObserver(B=>{B.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,B,le){let W;if(void 0===k&&void 0===B&&void 0===le)throw new Error("Missing Observer.");W=function Mi(F,k){if("object"!=typeof F||null===F)return!1;for(const B of k)if(B in F&&"function"==typeof F[B])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:B,complete:le},void 0===W.next&&(W.next=Fn),void 0===W.error&&(W.error=Fn),void 0===W.complete&&(W.complete=Fn);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Ne}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,k)}sendOne(k,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{B(this.observers[k])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}function qu(F){return F&&F._delegate?F._delegate:F}},535:(rn,Ye,X)=>{var d=X(212);let de=null;function z(){return de}class Se{}const ge=new d.OlP("DocumentToken");let lt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(je),providedIn:"platform"})}return n})();const Pt=new d.OlP("Location Initialized");let je=(()=>{class n extends lt{constructor(){super(),this._doc=(0,d.f3M)(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(t){const i=z().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=z().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function G(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function U(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let $e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(dt),providedIn:"root"})}return n})();const Pe=new d.OlP("appBaseHref");let dt=(()=>{class n extends $e{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return G(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,c){const u=this.prepareExternalUrl(s+ne(c));this._platformLocation.pushState(t,i,u)}replaceState(t,i,s,c){const u=this.prepareExternalUrl(s+ne(c));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(lt),d.LFG(Pe,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),St=(()=>{class n extends $e{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=G(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,c){let u=this.prepareExternalUrl(s+ne(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,s,c){let u=this.prepareExternalUrl(s+ne(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(lt),d.LFG(Pe,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ue=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function ht(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(U(Sn(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ne(i))}normalize(t){return n.stripTrailingSlash(function Jt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Sn(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=G;static#n=this.stripTrailingSlash=U;static#i=this.\u0275fac=function(i){return new(i||n)(d.LFG($e))};static#r=this.\u0275prov=d.Yz7({token:n,factory:()=>function nt(){return new Ue((0,d.LFG)($e))}(),providedIn:"root"})}return n})();function Sn(n){return n.replace(/\/index.html$/,"")}const Wu=/\s+/,Ig=[];let Rt=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=Ig,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Wu):Ig}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Wu):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],s=t[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Wu).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.Qsj))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class tr{constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let on=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((s,c,u)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new tr(s.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===c?void 0:c);else if(null!==c){const g=i.get(c);i.move(g,u),Eg(g,s)}});for(let s=0,c=i.length;s<c;s++){const g=i.get(s).context;g.index=s,g.count=c,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Eg(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Eg(n,e){n.context.$implicit=e.item}let Zu=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new $v,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class $v{constructor(){this.$implicit=null,this.ngIf=null}}function Vt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let Xs=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const Js="browser";function $r(n){return n===Js}function Xu(n){return"server"===n}let Jv=(()=>{class n{static#e=this.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>$r((0,d.f3M)(d.Lbi))?new pf((0,d.f3M)(ge),window):new ty})}return n})();class pf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function ey(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}s=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}}class ty{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Mg extends Se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pg extends Mg{static makeCurrent(){!function be(n){de||(de=n)}(new Pg)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function kg(){return us=us||document.querySelector("base"),us?us.getAttribute("href"):null}();return null==t?null:function Og(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ns(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[s,c]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let us=null,Ng=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Fg=new d.OlP("EventManagerPlugins");let ds=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(c=>c.supports(t)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Fg),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class wf{constructor(e){this._doc=e}}const ra="ng-app-id";let Cf=(()=>{class n{constructor(t,i,s,c={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xu(c),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ra}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){const s=this.styleRef;if(s.has(t)){const c=s.get(t);return c.usage+=i,c.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const s=this.styleNodesInDOM,c=s?.get(i);if(c?.parentNode===t)return s.delete(i),c.removeAttribute(ra),c;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(ra,this.appId),t.appendChild(u),u}}addStyleToHost(t,i){const s=this.getStyleElement(t,i),c=this.styleRef,u=c.get(i)?.elements;u?u.push(s):c.set(i,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const hs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rd=/%COMP%/g,sy=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Vg(n,e){return e.map(t=>t.replace(rd,n))}let oc=(()=>{class n{constructor(t,i,s,c,u,g,b,w=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=u,this.platformId=g,this.ngZone=b,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Xu(g),this.defaultRenderer=new Af(t,u,b,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const s=this.getOrCreateRenderer(t,i);return s instanceof cy?s.applyToHost(t):s instanceof Fi&&s.applyStyles(),s}getOrCreateRenderer(t,i){const s=this.rendererByCompId;let c=s.get(i.id);if(!c){const u=this.doc,g=this.ngZone,b=this.eventManager,w=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,A=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:c=new cy(b,w,i,this.appId,C,u,g,A);break;case d.ifc.ShadowDom:return new od(b,w,t,i,u,g,this.nonce,A);default:c=new Fi(b,w,i,C,u,g,A)}s.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ds),d.LFG(Cf),d.LFG(d.AFp),d.LFG(sy),d.LFG(ge),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class Af{constructor(e,t,i,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(hs[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xf(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(xf(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const c=hs[s];c?e.setAttributeNS(c,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=hs[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,s&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=z().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function xf(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class od extends Af{constructor(e,t,i,s,c,u,g,b){super(e,c,u,b),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Vg(s.id,s.styles);for(const C of w){const A=document.createElement("style");g&&A.setAttribute("nonce",g),A.textContent=C,this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fi extends Af{constructor(e,t,i,s,c,u,g,b){super(e,c,u,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=b?Vg(b,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cy extends Fi{constructor(e,t,i,s,c,u,g,b){const w=s+"-"+i.id;super(e,t,i,c,u,g,b,w),this.contentAttr=function Oo(n){return"_ngcontent-%COMP%".replace(rd,n)}(w),this.hostAttr=function ay(n){return"_nghost-%COMP%".replace(rd,n)}(w)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let sd=(()=>{class n extends wf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const No=["alt","control","meta","shift"],oi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rf=(()=>{class n extends wf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const c=n.parseEventName(i),u=n.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=n._normalizeKey(i.pop());let u="",g=i.indexOf("code");if(g>-1&&(i.splice(g,1),u="code."),No.forEach(w=>{const C=i.indexOf(w);C>-1&&(i.splice(C,1),u+=w+".")}),u+=c,0!=i.length||0===c.length)return null;const b={};return b.domEventName=s,b.fullKey=u,b}static matchEventFullKeyCode(t,i){let s=oi[t.key]||t.key,c="";return i.indexOf("code.")>-1&&(s=t.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),No.forEach(u=>{u!==s&&(0,Sf[u])(t)&&(c+=u+".")}),c+=s,c===i)}static eventCallback(t,i,s){return c=>{n.matchEventFullKeyCode(c,t)&&s.runGuarded(()=>i(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const oa=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Js},{provide:d.g9A,useValue:function Ug(){Pg.makeCurrent()},multi:!0},{provide:ge,useFactory:function _l(){return(0,d.RDi)(document),document},deps:[]}]),cd=new d.OlP(""),fs=[{provide:d.rWj,useClass:class kw{addToWindow(e){d.dqk.getAngularTestability=(i,s=!0)=>{const c=e.findTestabilityInTree(i,s);if(null==c)throw new d.vHH(5103,!1);return c},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const s=d.dqk.getAllAngularTestabilities();let c=s.length,u=!1;const g=function(b){u=u||b,c--,0==c&&i(u)};s.forEach(b=>{b.whenStable(g)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],at=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ad(){return new d.qLn},deps:[]},{provide:Fg,useClass:sd,multi:!0,deps:[ge,d.R0b,d.Lbi]},{provide:Fg,useClass:Rf,multi:!0,deps:[ge]},oc,Cf,ds,{provide:d.FYo,useExisting:oc},{provide:class Ju{},useClass:Ng,deps:[]},[]];let jg=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(cd,12))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[...at,...fs],imports:[Xs,d.hGG]})}return n})(),Mf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let s=null;return s=i?new i:function ps(){return new Mf((0,d.LFG)(ge))}(),s},providedIn:"root"})}return n})();typeof window<"u"&&window;let Hg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let s=null;return s=i?new(i||n):d.LFG(dd),s},providedIn:"root"})}return n})(),dd=(()=>{class n extends Hg{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let s=null;return s=i?new i:function $g(n){return new dd(n.get(ge))}(d.LFG(d.zs3)),s},providedIn:"root"})}return n})();var _n=X(592),bn=X(674),ca=X(582);const yl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Il(n){return(0,bn.m)(n?.then)}var Nf=X(850);function hd(n){return(0,bn.m)(n[Nf.L])}function Ff(n){return Symbol.asyncIterator&&(0,bn.m)(n?.[Symbol.asyncIterator])}function El(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Lf=function Gg(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fd(n){return(0,bn.m)(n?.[Lf])}function qg(n){return(0,ca.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:s}=yield(0,ca.qq)(t.read());if(s)return yield(0,ca.qq)(void 0);yield yield(0,ca.qq)(i)}}finally{t.releaseLock()}})}function Ii(n){return(0,bn.m)(n?.getReader)}var _s=X(894);function Nt(n){if(n instanceof _n.y)return n;if(null!=n){if(hd(n))return function hy(n){return new _n.y(e=>{const t=n[Nf.L]();if((0,bn.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yl(n))return function fy(n){return new _n.y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Il(n))return function Vf(n){return new _n.y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_s.h)})}(n);if(Ff(n))return wl(n);if(fd(n))return function py(n){return new _n.y(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ii(n))return function Wg(n){return wl(qg(n))}(n)}throw El(n)}function wl(n){return new _n.y(e=>{(function cc(n,e){var t,i,s,c;return(0,ca.mG)(this,void 0,void 0,function*(){try{for(t=(0,ca.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(u){s={error:u}}finally{try{i&&!i.done&&(c=t.return)&&(yield c.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Li(n,e,t,i=0,s=!1){const c=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(c),!s)return c}var xn=X(360),an=X(251);function Nr(n,e=0){return(0,xn.e)((t,i)=>{t.subscribe((0,an.x)(i,s=>Li(i,n,()=>i.next(s),e),()=>Li(i,n,()=>i.complete(),e),s=>Li(i,n,()=>i.error(s),e)))})}function Lo(n,e=0){return(0,xn.e)((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function la(n,e){if(!n)throw new Error("Iterable cannot be null");return new _n.y(t=>{Li(t,e,()=>{const i=n[Symbol.asyncIterator]();Li(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function cn(n,e){return e?function my(n,e){if(null!=n){if(hd(n))return function Cl(n,e){return Nt(n).pipe(Lo(e),Nr(e))}(n,e);if(yl(n))return function bs(n,e){return new _n.y(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Il(n))return function lc(n,e){return Nt(n).pipe(Lo(e),Nr(e))}(n,e);if(Ff(n))return la(n,e);if(fd(n))return function Bf(n,e){return new _n.y(t=>{let i;return Li(t,e,()=>{i=n[Lf](),Li(t,e,()=>{let s,c;try{({value:s,done:c}=i.next())}catch(u){return void t.error(u)}c?t.complete():t.next(s)},0,!0)}),()=>(0,bn.m)(i?.return)&&i.return()})}(n,e);if(Ii(n))return function Tl(n,e){return la(qg(n),e)}(n,e)}throw El(n)}(n,e):Nt(n)}function Uf(n){return n&&(0,bn.m)(n.schedule)}function jf(n){return n[n.length-1]}function uc(n){return Uf(jf(n))?n.pop():void 0}function qe(...n){return cn(n,uc(n))}var Vi=X(619);const{isArray:zf}=Array,{getPrototypeOf:ua,prototype:Hf,keys:vs}=Object;var _o=X(737),gt=X(398);const{isArray:Fr}=Array;function da(n){return(0,gt.U)(e=>function _y(n,e){return Fr(e)?n(...e):n(e)}(n,e))}function dc(...n){const e=uc(n),t=function gy(n){return(0,bn.m)(jf(n))?n.pop():void 0}(n),{args:i,keys:s}=function Uw(n){if(1===n.length){const e=n[0];if(zf(e))return{args:e,keys:null};if(function Zg(n){return n&&"object"==typeof n&&ua(n)===Hf}(e)){const t=vs(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return cn([],e);const c=new _n.y(function md(n,e,t=_o.y){return i=>{gd(e,()=>{const{length:s}=n,c=new Array(s);let u=s,g=s;for(let b=0;b<s;b++)gd(e,()=>{const w=cn(n[b],e);let C=!1;w.subscribe((0,an.x)(i,A=>{c[b]=A,C||(C=!0,g--),g||i.next(t(c.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,s?u=>function pd(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}(s,u):_o.y));return t?c.pipe(da(t)):c}function gd(n,e,t){n?Li(t,n,e):e()}const Dl=(0,X(306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Yn(n,e,t=1/0){return(0,bn.m)(e)?Yn((i,s)=>(0,gt.U)((c,u)=>e(i,c,s,u))(Nt(n(i,s))),t):("number"==typeof e&&(t=e),(0,xn.e)((i,s)=>function Yg(n,e,t,i,s,c,u,g){const b=[];let w=0,C=0,A=!1;const M=()=>{A&&!b.length&&!w&&e.complete()},L=ee=>w<i?K(ee):b.push(ee),K=ee=>{c&&e.next(ee),w++;let se=!1;Nt(t(ee,C++)).subscribe((0,an.x)(e,Ee=>{s?.(Ee),c?L(Ee):e.next(Ee)},()=>{se=!0},void 0,()=>{if(se)try{for(w--;b.length&&w<i;){const Ee=b.shift();u?Li(e,u,()=>K(Ee)):K(Ee)}M()}catch(Ee){e.error(Ee)}}))};return n.subscribe((0,an.x)(e,L,()=>{A=!0,M()})),()=>{g?.()}}(i,s,n,t)))}function ha(n=1/0){return Yn(_o.y,n)}function Vo(...n){return function by(){return ha(1)}()(cn(n,uc(n)))}function bo(n){return new _n.y(e=>{Nt(n()).subscribe(e)})}var Gf=X(407);function ys(n,e){const t=(0,bn.m)(n)?n:()=>n,i=s=>s.error(t());return new _n.y(e?s=>e.schedule(i,0,s):i)}const rr=new _n.y(n=>n.complete());var Qt=X(394);function _d(){return(0,xn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,an.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,c=t;t=null,s&&(!c||s===c)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class bd extends _n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,xn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qt.w0;const t=this.getSubject();e.add(this.source.subscribe((0,an.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qt.w0.EMPTY)}return e}refCount(){return _d()(this)}}var Dt=X(645);function si(n,e){return(0,xn.e)((t,i)=>{let s=null,c=0,u=!1;const g=()=>u&&!s&&i.complete();t.subscribe((0,an.x)(i,b=>{s?.unsubscribe();let w=0;const C=c++;Nt(n(b,C)).subscribe(s=(0,an.x)(i,A=>i.next(e?e(b,A,C,w++):A),()=>{s=null,g()}))},()=>{u=!0,g()}))})}function qi(n){return n<=0?()=>rr:(0,xn.e)((e,t)=>{let i=0;e.subscribe((0,an.x)(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function or(...n){const e=uc(n);return(0,xn.e)((t,i)=>{(e?Vo(n,t,e):Vo(n,t)).subscribe(i)})}function vn(n,e){return(0,xn.e)((t,i)=>{let s=0;t.subscribe((0,an.x)(i,c=>n.call(e,c,s++)&&i.next(c)))})}function Bo(n){return(0,xn.e)((e,t)=>{let i=!1;e.subscribe((0,an.x)(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function fa(n=vd){return(0,xn.e)((e,t)=>{let i=!1;e.subscribe((0,an.x)(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function vd(){return new Dl}function vo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vn((s,c)=>n(s,c,i)):_o.y,qi(1),t?Bo(e):fa(()=>new Dl))}function yo(n,e){return(0,bn.m)(e)?Yn(n,e,1):Yn(n,1)}function hi(n,e,t){const i=(0,bn.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,xn.e)((s,c)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let g=!0;s.subscribe((0,an.x)(c,b=>{var w;null===(w=i.next)||void 0===w||w.call(i,b),c.next(b)},()=>{var b;g=!1,null===(b=i.complete)||void 0===b||b.call(i),c.complete()},b=>{var w;g=!1,null===(w=i.error)||void 0===w||w.call(i,b),c.error(b)},()=>{var b,w;g&&(null===(b=i.unsubscribe)||void 0===b||b.call(i)),null===(w=i.finalize)||void 0===w||w.call(i)}))}):_o.y}function fc(n){return(0,xn.e)((e,t)=>{let c,i=null,s=!1;i=e.subscribe((0,an.x)(t,void 0,void 0,u=>{c=Nt(n(u,fc(n)(e))),i?(i.unsubscribe(),i=null,c.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,c.subscribe(t))})}function Wf(n,e){return(0,xn.e)(function qf(n,e,t,i,s){return(c,u)=>{let g=t,b=e,w=0;c.subscribe((0,an.x)(u,C=>{const A=w++;b=g?n(b,C,A):(g=!0,C),i&&u.next(b)},s&&(()=>{g&&u.next(b),u.complete()})))}}(n,e,arguments.length>=2,!0))}function Kg(n){return n<=0?()=>rr:(0,xn.e)((e,t)=>{let i=[];e.subscribe((0,an.x)(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function Qg(n){return(0,xn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var pc=X(420);function Io(n){return(0,xn.e)((e,t)=>{Nt(n).subscribe((0,an.x)(t,()=>t.complete(),pc.Z)),!t.closed&&e.subscribe(t)})}const At="primary",yn=Symbol("RouteTitle");class vy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Eo(n){return new vy(n)}function yy(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const s={};for(let c=0;c<i.length;c++){const u=i[c],g=n[c];if(u.startsWith(":"))s[u.substring(1)]=g;else if(u!==g.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Wi(n,e){const t=n?Al(n):void 0,i=e?Al(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let c=0;c<t.length;c++)if(s=t[c],!xl(n[s],e[s]))return!1;return!0}function Al(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((s,c)=>i[c]===s)}return n===e}function qr(n){return function Of(n){return!!n&&(n instanceof _n.y||(0,bn.m)(n.lift)&&(0,bn.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?cn(Promise.resolve(n)):qe(n)}const Zf={exact:function Bi(n,e,t){if(!jo(n.segments,e.segments)||!mc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Bi(n.children[i],e.children[i],t))return!1;return!0},subset:Uo},Iy={exact:function Xg(n,e){return Wi(n,e)},subset:function Kf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xl(n[t],e[t]))},ignored:()=>!0};function Yf(n,e,t){return Zf[t.paths](n.root,e.root,t.matrixParams)&&Iy[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Uo(n,e,t){return Ey(n,e,e.segments,t)}function Ey(n,e,t,i){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!jo(s,t)||e.hasChildren()||!mc(s,t,i))}if(n.segments.length===t.length){if(!jo(n.segments,t)||!mc(n.segments,t,i))return!1;for(const s in e.children)if(!n.children[s]||!Uo(n.children[s],e.children[s],i))return!1;return!0}{const s=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(jo(n.segments,s)&&mc(n.segments,s,i)&&n.children[At])&&Ey(n.children[At],e,c,i)}}function mc(n,e,t){return e.every((i,s)=>Iy[t](n[s].parameters,i.parameters))}class gc{constructor(e=new tn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eo(this.queryParams)),this._queryParamMap}toString(){return e_.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ma(this)}}class Sl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Eo(this.parameters)),this._parameterMap}toString(){return Es(this)}}function jo(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Wr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>new pa,providedIn:"root"})}return n})();class pa{parse(e){const t=new Xf(e);return new gc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Rl(e.root,!0)}`,i=function bc(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(s=>`${yd(t)}=${yd(s)}`).join("&"):`${yd(t)}=${yd(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function t_(n){return encodeURI(n)}(e.fragment)}`:""}`}}const e_=new pa;function ma(n){return n.segments.map(e=>Es(e)).join("/")}function Rl(n,e){if(!n.hasChildren())return ma(n);if(e){const t=n.children[At]?Rl(n.children[At],!1):"",i=[];return Object.entries(n.children).forEach(([s,c])=>{s!==At&&i.push(`${s}:${Rl(c,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Jg(n,e){let t=[];return Object.entries(n.children).forEach(([i,s])=>{i===At&&(t=t.concat(e(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==At&&(t=t.concat(e(s,i)))}),t}(n,(i,s)=>s===At?[Rl(n.children[At],!1)]:[`${s}:${Rl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[At]?`${ma(n)}/${t[0]}`:`${ma(n)}/(${t.join("//")})`}}function Ml(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yd(n){return Ml(n).replace(/%3B/gi,";")}function _c(n){return Ml(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ga(n){return decodeURIComponent(n)}function n_(n){return ga(n.replace(/\+/g,"%20"))}function Es(n){return`${_c(n.path)}${function wy(n){return Object.entries(n).map(([e,t])=>`;${_c(e)}=${_c(t)}`).join("")}(n.parameters)}`}const _a=/^[^\/()?;#]+/;function Qf(n){const e=n.match(_a);return e?e[0]:""}const i_=/^[^\/()?;=#]+/,Cy=/^[^=?&#]+/,Ty=/^[^&#]+/;class Xf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[At]=new tn(e,t)),i}parseSegment(){const e=Qf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Sl(ga(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function r_(n){const e=n.match(i_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=Qf(this.remaining);s&&(i=s,this.capture(i))}e[ga(t)]=ga(i)}parseQueryParam(e){const t=function o_(n){const e=n.match(Cy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Dy(n){const e=n.match(Ty);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const s=n_(t),c=n_(i);if(e.hasOwnProperty(s)){let u=e[s];Array.isArray(u)||(u=[u],e[s]=u),u.push(c)}else e[s]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Qf(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new d.vHH(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=At);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[At]:new tn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function ws(n){return n.segments.length>0?new tn([],{[At]:n}):n}function Jf(n){const e={};for(const[i,s]of Object.entries(n.children)){const c=Jf(s);if(i===At&&0===c.segments.length&&c.hasChildren())for(const[u,g]of Object.entries(c.children))e[u]=g;else(c.segments.length>0||c.hasChildren())&&(e[i]=c)}return function ep(n){if(1===n.numberOfChildren&&n.children[At]){const e=n.children[At];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function wo(n){return n instanceof gc}function tp(n){let e;const s=ws(function t(c){const u={};for(const b of c.children){const w=t(b);u[b.outlet]=w}const g=new tn(c.url,u);return c===n&&(e=g),g}(n.root));return e??s}function Pl(n,e,t,i){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return Ed(s,s,s,t,i);const c=function np(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new s_(!0,0,n);let e=0,t=!1;const i=n.reduce((s,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Object.entries(c.outlets).forEach(([b,w])=>{g[b]="string"==typeof w?w.split("/"):w}),[...s,{outlets:g}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===u?(c.split("/").forEach((g,b)=>{0==b&&"."===g||(0==b&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,c]},[]);return new s_(t,e,i)}(e);if(c.toRoot())return Ed(s,s,new tn([],{}),t,i);const u=function a_(n,e,t){if(n.isAbsolute)return new Ts(e,!0,0);if(!t)return new Ts(e,!1,NaN);if(null===t.parent)return new Ts(t,!0,0);const i=kl(n.commands[0])?0:1;return function ba(n,e,t){let i=n,s=e,c=t;for(;c>s;){if(c-=s,i=i.parent,!i)throw new d.vHH(4005,!1);s=i.segments.length}return new Ts(i,!1,s-c)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(c,s,n),g=u.processChildren?Ds(u.segmentGroup,u.index,c.commands):Ol(u.segmentGroup,u.index,c.commands);return Ed(s,u.segmentGroup,g,t,i)}function kl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cs(n){return"object"==typeof n&&null!=n&&n.outlets}function Ed(n,e,t,i,s){let u,c={};i&&Object.entries(i).forEach(([b,w])=>{c[b]=Array.isArray(w)?w.map(C=>`${C}`):`${w}`}),u=n===e?t:vc(n,e,t);const g=ws(Jf(u));return new gc(g,c,s)}function vc(n,e,t){const i={};return Object.entries(n.children).forEach(([s,c])=>{i[s]=c===e?t:vc(c,e,t)}),new tn(n.segments,i)}class s_{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&kl(i[0]))throw new d.vHH(4003,!1);const s=i.find(Cs);if(s&&s!==i.at(-1))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ts{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Ol(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Ds(n,e,t);const i=function xy(n,e,t){let i=0,s=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return c;const u=n.segments[s],g=t[i];if(Cs(g))break;const b=`${g}`,w=i<t.length-1?t[i+1]:null;if(s>0&&void 0===b)break;if(b&&w&&"object"==typeof w&&void 0===w.outlets){if(!va(b,w,u))return c;i+=2}else{if(!va(b,{},u))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new tn(n.segments.slice(0,i.pathIndex),{});return c.children[At]=new tn(n.segments.slice(i.pathIndex),n.children),Ds(c,0,s)}return i.match&&0===s.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?Nl(n,e,t):i.match?Ds(n,0,s):Nl(n,e,t)}function Ds(n,e,t){if(0===t.length)return new tn(n.segments,{});{const i=function Ay(n){return Cs(n[0])?n[0].outlets:{[At]:n}}(t),s={};if(Object.keys(i).some(c=>c!==At)&&n.children[At]&&1===n.numberOfChildren&&0===n.children[At].segments.length){const c=Ds(n.children[At],e,t);return new tn(n.segments,c.children)}return Object.entries(i).forEach(([c,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(s[c]=Ol(n.children[c],e,u))}),Object.entries(n.children).forEach(([c,u])=>{void 0===i[c]&&(s[c]=u)}),new tn(n.segments,s)}}function Nl(n,e,t){const i=n.segments.slice(0,e);let s=0;for(;s<t.length;){const c=t[s];if(Cs(c)){const b=wd(c.outlets);return new tn(i,b)}if(0===s&&kl(t[0])){i.push(new Sl(n.segments[e].path,Zi(t[0]))),s++;continue}const u=Cs(c)?c.outlets[At]:`${c}`,g=s<t.length-1?t[s+1]:null;u&&g&&kl(g)?(i.push(new Sl(u,Zi(g))),s+=2):(i.push(new Sl(u,{})),s++)}return new tn(i,{})}function wd(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Nl(new tn([],{}),0,i))}),e}function Zi(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function va(n,e,t){return n==t.path&&Wi(e,t.parameters)}const As="imperative";class Co{constructor(e,t){this.id=e,this.url=t}}class Cd extends Co{constructor(e,t,i="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zr extends Co{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yr extends Co{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ya extends Co{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=16}}class yc extends Co{constructor(e,t,i,s){super(e,t),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Td extends Co{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dd extends Co{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sy extends Co{constructor(e,t,i,s,c){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fl extends Co{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c_ extends Co{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ll{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ip{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ry{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ad{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rp{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l_{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class op{}class xd{constructor(e){this.url=e}}class gr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ia,this.attachRef=null}}let Ia=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new gr,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zo{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ic(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ic(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Vl(e,this._root).map(t=>t.value)}}function Ic(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ic(n,t);if(i)return i}return null}function Vl(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Vl(n,t);if(i.length)return i.unshift(e),i}return[]}class ln{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ss(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Sd extends zo{constructor(e,t){super(e),this.snapshot=t,Ea(this,e)}toString(){return this.snapshot.toString()}}function Rd(n){const e=function Ho(n){const c=new Md([],{},{},"",{},At,n,null,{});return new sp("",new ln(c,[]))}(n),t=new Vi.X([new Sl("",{})]),i=new Vi.X({}),s=new Vi.X({}),c=new Vi.X({}),u=new Vi.X(""),g=new fi(t,i,c,u,s,At,n,e.root);return g.snapshot=e.root,new Sd(new ln(g,[]),e)}class fi{constructor(e,t,i,s,c,u,g,b){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=c,this.outlet=u,this.component=g,this._futureSnapshot=b,this.title=this.dataSubject?.pipe((0,gt.U)(w=>w[yn]))??qe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Eo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Eo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bl(n,e,t="emptyOnly"){let i;const{routeConfig:s}=n;return i=null===e||"always"!==t&&""!==s?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...s?.data,...n._resolvedData}},s&&u_(s)&&(i.resolve[yn]=s.title),i}class Md{get title(){return this.data?.[yn]}constructor(e,t,i,s,c,u,g,b,w){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=u,this.component=g,this.routeConfig=b,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sp extends zo{constructor(e,t){super(t),this.url=e,Ea(this,t)}toString(){return My(this._root)}}function Ea(n,e){e.value._routerState=n,e.children.forEach(t=>Ea(n,t))}function My(n){const e=n.children.length>0?` { ${n.children.map(My).join(", ")} } `:"";return`${n.value}${e}`}function ap(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Wi(e.params,t.params)||n.paramsSubject.next(t.params),function sr(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Wi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cp(n,e){const t=Wi(n.params,e.params)&&function Hw(n,e){return jo(n,e)&&n.every((t,i)=>Wi(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||cp(n.parent,e.parent))}function u_(n){return"string"==typeof n.title||null===n.title}let v=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Ia),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(m,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const s=this.location,u=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,b=new f(t,g,s.injector);this.activated=s.createComponent(u,{index:s.length,injector:b,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return n})();class f{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===fi?this.route:e===Ia?this.childContexts:this.parent.get(e,t)}}const m=new d.OlP("");let I=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,s=dc([i.queryParams,i.params,i.data]).pipe(si(([c,u,g],b)=>(g={...c,...u,...g},0===b?qe(g):Promise.resolve(g)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const u=(0,d.qFp)(i.component);if(u)for(const{templateName:g}of u.inputs)t.activatedComponentRef.setInput(g,c[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function S(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const s=function P(n,e,t){return e.children.map(i=>{for(const s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return S(n,i,s);return S(n,i)})}(n,e,t);return new ln(i,s)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(g=>S(n,g)),u}}const i=function H(n){return new fi(new Vi.X(n.url),new Vi.X(n.params),new Vi.X(n.queryParams),new Vi.X(n.fragment),new Vi.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(c=>S(n,c));return new ln(i,s)}}const re="ngNavigationCancelingError";function we(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=wo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Oe(!1,0,e);return s.url=t,s.navigationBehaviorOptions=i,s}function Oe(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[re]=!0,i.cancellationCode=e,t&&(i.url=t),i}function dn(n){return n&&n[re]}let _r=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(i,s){1&i&&d._UZ(0,"router-outlet")},dependencies:[v],encapsulation:2})}return n})();function up(n){const e=n.children&&n.children.map(up),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==At&&(t.component=_r),t}function Lr(n){return n.outlet||At}function Od(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class zP{constructor(e,t,i,s,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=c}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ap(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const s=Ss(t);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,s[u],i),delete s[u]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(e,t,i){const s=e.value,c=t?t.value:null;if(s===c)if(s.component){const u=i.getContext(s.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else c&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,c=Ss(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);if(i&&i.outlet){const u=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,c=Ss(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const s=Ss(t);e.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new rp(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Ry(e.value.snapshot))}activateRoutes(e,t,i){const s=e.value,c=t?t.value:null;if(ap(s),s===c)if(s.component){const u=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(s.component){const u=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(g.contexts),u.attachRef=g.componentRef,u.route=g.route.value,u.outlet&&u.outlet.attach(g.componentRef,g.route.value),ap(g.route.value),this.activateChildRoutes(e,null,u.children)}else{const g=Od(s.snapshot);u.attachRef=null,u.route=s,u.injector=g,u.outlet&&u.outlet.activateWith(s,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Gw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ul{constructor(e,t){this.component=e,this.route=t}}function m_(n,e,t){const i=n._root;return Nd(i,e?e._root:null,t,[i.value])}function jl(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function Nd(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ss(e);return n.children.forEach(u=>{(function dp(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,u=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const b=function Jx(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jo(n.url,e.url)||!Wi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cp(n,e)||!Wi(n.queryParams,e.queryParams);default:return!cp(n,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);b?s.canActivateChecks.push(new Gw(i)):(c.data=u.data,c._resolvedData=u._resolvedData),Nd(n,e,c.component?g?g.children:null:t,i,s),b&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new Ul(g.outlet.component,u))}else u&&Fd(e,g,s),s.canActivateChecks.push(new Gw(i)),Nd(n,null,c.component?g?g.children:null:t,i,s)})(u,c[u.value.outlet],t,i.concat([u.value]),s),delete c[u.value.outlet]}),Object.entries(c).forEach(([u,g])=>Fd(g,t.getContext(u),s)),s}function Fd(n,e,t){const i=Ss(n),s=n.value;Object.entries(i).forEach(([c,u])=>{Fd(u,s.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ul(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Ld(n){return"function"==typeof n}function qw(n){return n instanceof Dl||"EmptyError"===n?.name}const v_=Symbol("INITIAL_VALUE");function Vd(){return si(n=>dc(n.map(e=>e.pipe(qi(1),or(v_)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===v_)return v_;if(!1===t||t instanceof gc)return t}return!0}),vn(e=>e!==v_),qi(1)))}function Vy(n){return(0,Gf.z)(hi(e=>{if(wo(e))throw we(0,e)}),(0,gt.U)(e=>!0===e))}class By{constructor(e){this.segmentGroup=e||null}}class y_ extends Error{constructor(e){super(),this.urlTree=e}}function Bd(n){return ys(new By(n))}class cS{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return qe(i);if(s.numberOfChildren>1||!s.children[At])return ys(new d.vHH(4e3,!1));s=s.children[At]}}applyRedirectCommands(e,t,i){const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new y_(s);return s}applyRedirectCreateUrlTree(e,t,i,s){const c=this.createSegmentGroup(e,t.root,i,s);return new gc(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([s,c])=>{if("string"==typeof c&&c.startsWith(":")){const g=c.substring(1);i[s]=t[g]}else i[s]=c}),i}createSegmentGroup(e,t,i,s){const c=this.createSegments(e,t.segments,i,s);let u={};return Object.entries(t.children).forEach(([g,b])=>{u[g]=this.createSegmentGroup(e,b,i,s)}),new tn(c,u)}createSegments(e,t,i,s){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,s):this.findOrReturn(c,i))}findPosParam(e,t,i){const s=i[t.path.substring(1)];if(!s)throw new d.vHH(4001,!1);return s}findOrReturn(e,t){let i=0;for(const s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}}const Uy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jy(n,e,t,i,s){const c=fp(n,e,t);return c.matched?(i=function Pd(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Yw(n,e,t,i){const s=e.canMatch;return s&&0!==s.length?qe(s.map(u=>{const g=jl(u,n);return qr(function nS(n){return n&&Ld(n.canMatch)}(g)?g.canMatch(e,t):(0,d.r_H)(n,()=>g(e,t)))})).pipe(Vd(),Vy()):qe(!0)}(i,e,t).pipe((0,gt.U)(u=>!0===u?c:{...Uy}))):qe(c)}function fp(n,e,t){if("**"===e.path)return function lS(n){return{matched:!0,parameters:n.at(-1)?.parameters??{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Uy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||yy)(t,n,e);if(!s)return{...Uy};const c={};Object.entries(s.posParams??{}).forEach(([g,b])=>{c[g]=b.path});const u=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:u,positionalParamSegments:s.posParams??{}}}function zl(n,e,t,i){return t.length>0&&function zy(n,e,t){return t.some(i=>w_(n,e,i)&&Lr(i)!==At)}(n,t,i)?{segmentGroup:new tn(e,Qw(i,new tn(t,n.children))),slicedSegments:[]}:0===t.length&&function E_(n,e,t){return t.some(i=>w_(n,e,i))}(n,t,i)?{segmentGroup:new tn(n.segments,I_(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new tn(n.segments,n.children),slicedSegments:t}}function I_(n,e,t,i){const s={};for(const c of t)if(w_(n,e,c)&&!i[Lr(c)]){const u=new tn([],{});s[Lr(c)]=u}return{...i,...s}}function Qw(n,e){const t={};t[At]=e;for(const i of n)if(""===i.path&&Lr(i)!==At){const s=new tn([],{});t[Lr(i)]=s}return t}function w_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class dS{}class Jw{constructor(e,t,i,s,c,u,g){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=u,this.urlSerializer=g,this.applyRedirects=new cS(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new d.vHH(4002,`'${e.segmentGroup}'`)}recognize(){const e=zl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,gt.U)(t=>{const i=new Md([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),s=new ln(i,t),c=new sp("",s),u=function Id(n,e,t=null,i=null){return Pl(tp(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(c._root,null),{state:c,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,At).pipe(fc(i=>{if(i instanceof y_)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof By?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,s=Bl(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),e.children.forEach(c=>this.inheritParamsAndData(c,i))}processSegmentGroup(e,t,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,s,!0).pipe((0,gt.U)(c=>c instanceof ln?[c]:[]))}processChildren(e,t,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return cn(s).pipe(yo(c=>{const u=i.children[c],g=function p_(n,e){const t=n.filter(i=>Lr(i)===e);return t.push(...n.filter(i=>Lr(i)!==e)),t}(t,c);return this.processSegmentGroup(e,g,u,c)}),Wf((c,u)=>(c.push(...u),c)),Bo(null),function jw(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vn((s,c)=>n(s,c,i)):_o.y,Kg(1),t?Bo(e):fa(()=>new Dl))}(),Yn(c=>{if(null===c)return Bd(i);const u=T_(c);return function pp(n){n.sort((e,t)=>e.value.outlet===At?-1:t.value.outlet===At?1:e.value.outlet.localeCompare(t.value.outlet))}(u),qe(u)}))}processSegment(e,t,i,s,c,u){return cn(t).pipe(yo(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,i,s,c,u).pipe(fc(b=>{if(b instanceof By)return qe(null);throw b}))),vo(g=>!!g),fc(g=>{if(qw(g))return function Xw(n,e,t){return 0===e.length&&!n.children[t]}(i,s,c)?qe(new dS):Bd(i);throw g}))}processSegmentAgainstRoute(e,t,i,s,c,u,g){return function uS(n,e,t,i){return!!(Lr(n)===i||i!==At&&w_(e,t,n))&&fp(e,n,t).matched}(i,s,c,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,s,i,c,u):this.allowRedirects&&g?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,i,c,u):Bd(s):Bd(s)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,c,u){const{matched:g,consumedSegments:b,positionalParamSegments:w,remainingSegments:C}=fp(t,s,c);if(!g)return Bd(t);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const A=this.applyRedirects.applyRedirectCommands(b,s.redirectTo,w);return this.applyRedirects.lineralizeSegments(s,A).pipe(Yn(M=>this.processSegment(e,i,t,M.concat(C),u,!1)))}matchSegmentAgainstRoute(e,t,i,s,c){const u=jy(t,i,s,e);return"**"===i.path&&(t.children={}),u.pipe(si(g=>g.matched?this.getChildConfig(e=i._injector??e,i,s).pipe(si(({routes:b})=>{const w=i._loadedInjector??e,{consumedSegments:C,remainingSegments:A,parameters:M}=g,L=new Md(C,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function pS(n){return n.data||{}}(i),Lr(i),i.component??i._loadedComponent??null,i,function Hy(n){return n.resolve||{}}(i)),{segmentGroup:K,slicedSegments:ee}=zl(t,C,A,b);if(0===ee.length&&K.hasChildren())return this.processChildren(w,b,K).pipe((0,gt.U)(Ee=>null===Ee?null:new ln(L,Ee)));if(0===b.length&&0===ee.length)return qe(new ln(L,[]));const se=Lr(i)===c;return this.processSegment(w,b,K,ee,se?At:c,!0).pipe((0,gt.U)(Ee=>new ln(L,Ee instanceof ln?[Ee]:[])))})):Bd(t)))}getChildConfig(e,t,i){return t.children?qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function hp(n,e,t,i){const s=e.canLoad;return void 0===s||0===s.length?qe(!0):qe(s.map(u=>{const g=jl(u,n);return qr(function __(n){return n&&Ld(n.canLoad)}(g)?g.canLoad(e,t):(0,d.r_H)(n,()=>g(e,t)))})).pipe(Vd(),Vy())}(e,t,i).pipe(Yn(s=>s?this.configLoader.loadChildren(e,t).pipe(hi(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function Kw(n){return ys(Oe(!1,3))}())):qe({routes:[],injector:e})}}function C_(n){const e=n.value.routeConfig;return e&&""===e.path}function T_(n){const e=[],t=new Set;for(const i of n){if(!C_(i)){e.push(i);continue}const s=e.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):e.push(i)}for(const i of t){const s=T_(i.children);e.push(new ln(i.value,s))}return e.filter(i=>!t.has(i))}function $y(n){const e=n.children.map(t=>$y(t)).flat();return[n,...e]}function Ud(n){return si(e=>{const t=n(e);return t?cn(t).pipe((0,gt.U)(()=>e)):qe(e)})}let nC=(()=>{class n{buildTitle(t){let i,s=t.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(c=>c.outlet===At);return i}getResolvedTitleForRoute(t){return t.data[yn]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(iC),providedIn:"root"})}return n})(),iC=(()=>{class n extends nC{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Mf))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $l=new d.OlP("",{providedIn:"root",factory:()=>({})}),Gl=new d.OlP("ROUTES");let mp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=qr(t.loadComponent()).pipe((0,gt.U)(jd),hi(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),Qg(()=>{this.componentLoaders.delete(t)})),s=new bd(i,()=>new Dt.x).pipe(_d());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=function rC(n,e,t,i){return qr(n.loadChildren()).pipe((0,gt.U)(jd),Yn(s=>s instanceof d.YKP||Array.isArray(s)?qe(s):cn(e.compileModuleAsync(s))),(0,gt.U)(s=>{i&&i(n);let c,u,g=!1;return Array.isArray(s)?(u=s,!0):(c=s.create(t).injector,u=c.get(Gl,[],{optional:!0,self:!0}).flat()),{routes:u.map(up),injector:c}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Qg(()=>{this.childrenLoaders.delete(i)})),u=new bd(c,()=>new Dt.x).pipe(_d());return this.childrenLoaders.set(i,u),u}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jd(n){return function D_(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let A_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(Gy),providedIn:"root"})}return n})(),Gy=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gp=new d.OlP(""),qy=new d.OlP("");function Wy(n,e,t){const i=n.get(qy),s=n.get(ge);return n.get(d.R0b).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let c;const u=new Promise(w=>{c=w}),g=s.startViewTransition(()=>(c(),function x_(n){return new Promise(e=>{(0,d.T8G)(e,{injector:n})})}(n))),{onViewTransitionCreated:b}=i;return b&&(0,d.r_H)(n,()=>b({transition:g,from:e,to:t})),u})}let S_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt.x,this.transitionAbortSubject=new Dt.x,this.configLoader=(0,d.f3M)(mp),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Wr),this.rootContexts=(0,d.f3M)(Ia),this.location=(0,d.f3M)(Ue),this.inputBindingEnabled=null!==(0,d.f3M)(m,{optional:!0}),this.titleStrategy=(0,d.f3M)(nC),this.options=(0,d.f3M)($l,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.f3M)(A_),this.createViewTransition=(0,d.f3M)(gp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Ll(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new mr(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,s){return this.transitions=new Vi.X({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:As,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vn(c=>0!==c.id),(0,gt.U)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),si(c=>{this.currentTransition=c;let u=!1,g=!1;return qe(c).pipe(hi(b=>{this.currentNavigation={id:b.id,initialUrl:b.rawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),si(b=>{const w=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(b.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const A="";return this.events.next(new ya(b.id,this.urlSerializer.serialize(b.rawUrl),A,0)),b.resolve(null),rr}if(this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return qe(b).pipe(si(A=>{const M=this.transitions?.getValue();return this.events.next(new Cd(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),M!==this.transitions?.getValue()?rr:Promise.resolve(A)}),function eC(n,e,t,i,s,c){return Yn(u=>function hS(n,e,t,i,s,c,u="emptyOnly"){return new Jw(n,e,t,i,s,u,c).recognize()}(n,e,t,i,u.extractedUrl,s,c).pipe((0,gt.U)(({state:g,tree:b})=>({...u,targetSnapshot:g,urlAfterRedirects:b}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),hi(A=>{c.targetSnapshot=A.targetSnapshot,c.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects};const M=new Td(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(M)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(b.currentRawUrl)){const{id:A,extractedUrl:M,source:L,restoredState:K,extras:ee}=b,se=new Cd(A,this.urlSerializer.serialize(M),L,K);this.events.next(se);const Ee=Rd(this.rootComponentType).snapshot;return this.currentTransition=c={...b,targetSnapshot:Ee,urlAfterRedirects:M,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=M,qe(c)}{const A="";return this.events.next(new ya(b.id,this.urlSerializer.serialize(b.extractedUrl),A,1)),b.resolve(null),rr}}),hi(b=>{const w=new Dd(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(w)}),(0,gt.U)(b=>(this.currentTransition=c={...b,guards:m_(b.targetSnapshot,b.currentSnapshot,this.rootContexts)},c)),function Ww(n,e){return Yn(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?qe({...t,guardsResult:!0}):function rS(n,e,t,i){return cn(n).pipe(Yn(s=>function ar(n,e,t,i,s){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?qe(c.map(g=>{const b=Od(e)??s,w=jl(g,b);return qr(function tS(n){return n&&Ld(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):(0,d.r_H)(b,()=>w(n,e,t,i))).pipe(vo())})).pipe(Vd()):qe(!0)}(s.component,s.route,t,e,i)),vo(s=>!0!==s,!0))}(u,i,s,n).pipe(Yn(g=>g&&function g_(n){return"boolean"==typeof n}(g)?function oS(n,e,t,i){return cn(e).pipe(yo(s=>Vo(function Fy(n,e){return null!==n&&e&&e(new ip(n)),qe(!0)}(s.route.parent,i),function Vr(n,e){return null!==n&&e&&e(new Ad(n)),qe(!0)}(s.route,i),function Ly(n,e,t){const i=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function Oy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>bo(()=>qe(u.guards.map(b=>{const w=Od(u.node)??t,C=jl(b,w);return qr(function eS(n){return n&&Ld(n.canActivateChild)}(C)?C.canActivateChild(i,n):(0,d.r_H)(w,()=>C(i,n))).pipe(vo())})).pipe(Vd())));return qe(c).pipe(Vd())}(n,s.path,t),function Zw(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const s=i.map(c=>bo(()=>{const u=Od(e)??t,g=jl(c,u);return qr(function b_(n){return n&&Ld(n.canActivate)}(g)?g.canActivate(e,n):(0,d.r_H)(u,()=>g(e,n))).pipe(vo())}));return qe(s).pipe(Vd())}(n,s.route,t))),vo(s=>!0!==s,!0))}(i,c,n,e):qe(g)),(0,gt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,b=>this.events.next(b)),hi(b=>{if(c.guardsResult=b.guardsResult,wo(b.guardsResult))throw we(0,b.guardsResult);const w=new Sy(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.events.next(w)}),vn(b=>!!b.guardsResult||(this.cancelNavigationTransition(b,"",3),!1)),Ud(b=>{if(b.guards.canActivateChecks.length)return qe(b).pipe(hi(w=>{const C=new Fl(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(C)}),si(w=>{let C=!1;return qe(w).pipe(function Hl(n,e){return Yn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return qe(t);const c=new Set(s.map(b=>b.route)),u=new Set;for(const b of c)if(!u.has(b))for(const w of $y(b))u.add(w);let g=0;return cn(u).pipe(yo(b=>c.has(b)?function tC(n,e,t,i){const s=n.routeConfig,c=n._resolve;return void 0!==s?.title&&!u_(s)&&(c[yn]=s.title),function mS(n,e,t,i){const s=Al(n);if(0===s.length)return qe({});const c={};return cn(s).pipe(Yn(u=>function $P(n,e,t,i){const s=Od(e)??i,c=jl(n,s);return qr(c.resolve?c.resolve(e,t):(0,d.r_H)(s,()=>c(e,t)))}(n[u],e,t,i).pipe(vo(),hi(g=>{c[u]=g}))),Kg(1),function zw(n){return(0,gt.U)(()=>n)}(c),fc(u=>qw(u)?rr:ys(u)))}(c,n,e,i).pipe((0,gt.U)(u=>(n._resolvedData=u,n.data=Bl(n,n.parent,t).resolve,null)))}(b,i,n,e):(b.data=Bl(b,b.parent,n).resolve,qe(void 0))),hi(()=>g++),Kg(1),Yn(b=>g===u.size?qe(t):rr))})}(this.paramsInheritanceStrategy,this.environmentInjector),hi({next:()=>C=!0,complete:()=>{C||this.cancelNavigationTransition(w,"",2)}}))}),hi(w=>{const C=new c_(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(C)}))}),Ud(b=>{const w=C=>{const A=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(C.routeConfig).pipe(hi(M=>{C.component=M}),(0,gt.U)(()=>{})));for(const M of C.children)A.push(...w(M));return A};return dc(w(b.targetSnapshot.root)).pipe(Bo(null),qi(1))}),Ud(()=>this.afterPreactivation()),si(()=>{const{currentSnapshot:b,targetSnapshot:w}=c,C=this.createViewTransition?.(this.environmentInjector,b.root,w.root);return C?cn(C).pipe((0,gt.U)(()=>c)):qe(c)}),(0,gt.U)(b=>{const w=function D(n,e,t){const i=S(n,e._root,t?t._root:void 0);return new Sd(i,e)}(t.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return this.currentTransition=c={...b,targetRouterState:w},this.currentNavigation.targetRouterState=w,c}),hi(()=>{this.events.next(new op)}),((n,e,t,i)=>(0,gt.U)(s=>(new zP(e,s.targetRouterState,s.currentRouterState,t,i).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,b=>this.events.next(b),this.inputBindingEnabled),qi(1),hi({next:b=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zr(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects))),this.titleStrategy?.updateTitle(b.targetRouterState.snapshot),b.resolve(!0)},complete:()=>{u=!0}}),Io(this.transitionAbortSubject.pipe(hi(b=>{throw b}))),Qg(()=>{u||g||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),fc(b=>{if(g=!0,dn(b))this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),b.message,b.cancellationCode)),function ze(n){return dn(n)&&wo(n.url)}(b)?this.events.next(new xd(b.url)):c.resolve(!1);else{this.events.next(new yc(c.id,this.urlSerializer.serialize(c.extractedUrl),b,c.targetSnapshot??void 0));try{c.resolve(t.errorHandler(b))}catch(w){c.reject(w)}}return rr}))}))}cancelNavigationTransition(t,i,s){const c=new Yr(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(c),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oC(n){return n!==As}let gS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(bS),providedIn:"root"})}return n})();class _S{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let bS=(()=>{class n extends _S{static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}})();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(sC),providedIn:"root"})}return n})(),sC=(()=>{class n extends Zy{constructor(){super(...arguments),this.location=(0,d.f3M)(Ue),this.urlSerializer=(0,d.f3M)(Wr),this.options=(0,d.f3M)($l,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.f3M)(A_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rd(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Cd)this.stateMemento=this.createStateMemento();else if(t instanceof ya)this.rawUrlTree=i.initialUrl;else if(t instanceof Td){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else t instanceof op?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Yr&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof yc?this.restoreHistory(i,!0):t instanceof Zr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",u)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",c)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===t.finalUrl&&0===c&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}})();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ec=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ec||{});function R_(n,e){n.events.pipe(vn(t=>t instanceof Zr||t instanceof Yr||t instanceof yc||t instanceof ya),(0,gt.U)(t=>t instanceof Zr||t instanceof ya?Ec.COMPLETE:t instanceof Yr&&(0===t.code||1===t.code)?Ec.REDIRECTING:Ec.FAILED),vn(t=>t!==Ec.REDIRECTING),qi(1)).subscribe(()=>{e()})}function zd(n){throw n}const vS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let To=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.f3M)(d.c2e),this.stateManager=(0,d.f3M)(Zy),this.options=(0,d.f3M)($l,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.f3M)(S_),this.urlSerializer=(0,d.f3M)(Wr),this.location=(0,d.f3M)(Ue),this.urlHandlingStrategy=(0,d.f3M)(A_),this._events=new Dt.x,this.errorHandler=this.options.errorHandler||zd,this.navigated=!1,this.routeReuseStrategy=(0,d.f3M)(gS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.f3M)(Gl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.f3M)(m,{optional:!0}),this.eventsSubscription=new Qt.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==s&&null!==c)if(this.stateManager.handleRouterEvent(i,c),i instanceof Yr&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof Zr)this.navigated=!0;else if(i instanceof xd){const u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),g={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oC(s.source)};this.scheduleNavigation(u,As,null,g,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function M_(n){return!(n instanceof op||n instanceof xd)})(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),As,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,s){const c={replaceUrl:!0},u=s?.navigationId?s:null;if(s){const b={...s};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(c.state=b)}const g=this.parseUrl(t);this.scheduleNavigation(g,i,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(up),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:s,queryParams:c,fragment:u,queryParamsHandling:g,preserveFragment:b}=i,w=b?this.currentUrlTree.fragment:u;let A,C=null;switch(g){case"merge":C={...this.currentUrlTree.queryParams,...c};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=c||null}null!==C&&(C=this.removeEmptyProps(C));try{A=tp(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),A=this.currentUrlTree.root}return Pl(A,t,C,w??null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=wo(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,As,null,i)}navigate(t,i={skipLocationChange:!1}){return function IS(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(s=!0===i?{...vS}:!1===i?{...yS}:i,wo(t))return Yf(this.currentUrlTree,t,s);const c=this.parseUrl(t);return Yf(this.currentUrlTree,c,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,c])=>(null!=c&&(i[s]=c),i),{})}scheduleNavigation(t,i,s,c,u){if(this.disposed)return Promise.resolve(!1);let g,b,w;u?(g=u.resolve,b=u.reject,w=u.promise):w=new Promise((A,M)=>{g=A,b=M});const C=this.pendingTasks.add();return R_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:g,reject:b,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(A=>Promise.reject(A))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ql=(()=>{class n{constructor(t,i,s,c,u,g){this.router=t,this.route=i,this.tabIndexAttribute=s,this.renderer=c,this.el=u,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Dt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const b=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===b||"area"===b,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof Zr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,s,c,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||s||c||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const s=this.renderer,c=this.el.nativeElement;null!==i?s.setAttribute(c,t,i):s.removeAttribute(c,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(To),d.Y36(fi),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36($e))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){1&i&&d.NdJ("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&d.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]})}return n})();class Yy{}let ES=(()=>{class n{constructor(t,i,s,c,u){this.router=t,this.injector=s,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(vn(t=>t instanceof Zr),yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,d.MMx)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,g=c._loadedInjector??u;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(u,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(g,c.children??c._loadedRoutes))}return cn(s).pipe(ha())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):qe(null);const c=s.pipe(Yn(u=>null===u?qe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));return i.loadComponent&&!i._loadedComponent?cn([c,this.loader.loadComponent(i)]).pipe(ha()):c})}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(To),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Yy),d.LFG(mp))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ky=new d.OlP("");let lC=(()=>{class n{constructor(t,i,s,c,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ya&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof l_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new l_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function br(n,e){return{\u0275kind:n,\u0275providers:e}}function uC(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(To),s=n.get(dC);1===n.get(P_)&&i.initialNavigation(),n.get(hC,null,d.XFs.Optional)?.setUpPreloading(),n.get(Ky,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const dC=new d.OlP("",{factory:()=>new Dt.x}),P_=new d.OlP("",{providedIn:"root",factory:()=>1}),hC=new d.OlP("");function k_(n){return br(0,[{provide:hC,useExisting:ES},{provide:Yy,useExisting:n}])}function pC(n){return br(9,[{provide:gp,useValue:Wy},{provide:qy,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const AS=new d.OlP("ROUTER_FORROOT_GUARD"),QP=[Ue,{provide:Wr,useClass:pa},To,Ia,{provide:fi,useFactory:function Rs(n){return n.routerState.root},deps:[To]},mp,[]];let N_=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[QP,[],{provide:Gl,multi:!0,useValue:t},{provide:AS,useFactory:mC,deps:[[To,new d.FiY,new d.tp0]]},{provide:$l,useValue:i||{}},i?.useHash?{provide:$e,useClass:St}:{provide:$e,useClass:dt},{provide:Ky,useFactory:()=>{const n=(0,d.f3M)(Jv),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)($l),i=(0,d.f3M)(S_),s=(0,d.f3M)(Wr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new lC(s,i,n,e,t)}},i?.preloadingStrategy?k_(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?xS(i):[],i?.bindToComponentInputs?br(8,[I,{provide:m,useExisting:I}]).\u0275providers:[],i?.enableViewTransitions?pC().\u0275providers:[],[{provide:gC,useFactory:uC},{provide:d.tb,multi:!0,useExisting:gC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Gl,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(AS,8))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function mC(n){return"guarded"}function xS(n){return["disabled"===n.initialNavigation?br(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(To);return()=>{e.setUpLocationChangeListener()}}},{provide:P_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?br(2,[{provide:P_,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Pt,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(To),c=e.get(dC);R_(s,()=>{i(!0)}),e.get(S_).afterPreactivation=()=>(i(!0),c.closed?qe(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const gC=new d.OlP("");let Cc=(()=>{class n{constructor(){this.title="app"}ngAfterViewInit(){$(function(){$('[data-toggle="popover"]').popover()})}openLink(t){window.open(t,"_blank")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:49,vars:0,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"],["id","picture"],[1,"about-section","mt-5"],[1,"container"],[1,"row","img-wrap","mb-5","mb-lg-0"],[1,"col-12"],[1,"row"],[1,"mb-4","margin-lg-0","col-lg-6","order-lg-2"],[1,"effect"],["src","assets/lineesiciliane.png","alt","Mappa linee ferroviarie siciliane di RFI",1,"img-fluid"],[1,"col-lg-5","mr-auto","text-lg-right","align-self-center","order-lg-1"],[1,"mb-4"],["id","popover","data-bs-container","body","data-toggle","popover","data-bs-placement","bottom","data-bs-content","Non sono attualmente previsti i posti di movimento, solo STAZIONI e FERMATE. Non sono considerate le linee dismesse. Sono considerate le linee non attive IN FASE DI RIPRISTINO",1,"btn"],["href","https://normativaesercizio.rfi.it/NormativaEsercizio/detail.xhtml?doctype=FCL&compartimento=PA","target","_blank",1,"btn","btn-about"],[1,"material-symbols-outlined"],[1,"mb-4","margin-lg-0","col-lg-6"],["src","https://www.palermomania.it/public/news/image/images/metro.jpg","alt","Cartello passante ferroviario di Palermo",1,"img-fluid"],[1,"col-lg-5","ml-auto","align-self-center","order-lg-1"],["href","https://www.palermomania.it/","target","_blank",1,"btn","btn-about"],["src","https://www.stagniweb.it/altro/orizzf/636gioi0.jpg","alt","Locomotiva E636.010 in transito a Gioiosa Marea(ME)",1,"img-fluid"],["href","https://www.stagniweb.it/foto6.asp?File=orizzf&Inizio=68&Righe=10&InizioI=1&RigheI=150&Col=5&Titolo=0","target","_blank",1,"btn","btn-about"]],template:function(i,s){1&i&&(d._UZ(0,"link",0)(1,"div",1),d.TgZ(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"a",8),d._UZ(9,"img",9),d.qZA()(),d.TgZ(10,"div",10)(11,"h2"),d._uU(12,"Benvenuto su SpotiRFI! \u{1f684}\u{1f3b5}"),d.qZA(),d.TgZ(13,"p",11),d._uU(14," SpotiRFI \xe8 un viaggio unico attraverso la musica e le linee ferroviarie della Sicilia. Ogni stazione ferroviaria sulla mappa \xe8 associata a una canzone che porta il suo nome"),d.TgZ(15,"span",12),d._uU(16," * "),d.qZA(),d._uU(17,", creando un'esperienza musicale che riflette il viaggio attraverso la nostra bellissima regione. "),d.qZA(),d.TgZ(18,"a",13)(19,"span",14),d._uU(20," open_in_new "),d.qZA()()()()()(),d.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"div",15)(25,"a",8),d._UZ(26,"img",16),d.qZA()(),d.TgZ(27,"div",17)(28,"h2"),d._uU(29,"Come funziona? \u{1f9d0}"),d.qZA(),d.TgZ(30,"p",11),d._uU(31," Scegli una linea ferroviaria sulla mappa e inizia il tuo viaggio musicale. Ad ogni fermata, ti verr\xe0 presentata una canzone che porta il nome della stazione. Puoi ascoltare la canzone mentre leggi informazioni sulla stazione e sulla sua storia. "),d.qZA(),d.TgZ(32,"a",18)(33,"span",14),d._uU(34," open_in_new "),d.qZA()()()()()(),d.TgZ(35,"div",4)(36,"div",5)(37,"div",6)(38,"div",7)(39,"a",8),d._UZ(40,"img",19),d.qZA()(),d.TgZ(41,"div",10)(42,"h2"),d._uU(43,"Perch\xe9 SpotiRFI? \u{1f914}"),d.qZA(),d.TgZ(44,"p",11),d._uU(45," La musica e i viaggi sono due esperienze che possono portarci in luoghi che non abbiamo mai visitato. SpotiRFI combina queste due esperienze in un unico viaggio, permettendoti di esplorare la Sicilia attraverso le sue linee ferroviarie e la sua musica. "),d.qZA(),d.TgZ(46,"a",20)(47,"span",14),d._uU(48," open_in_new "),d.qZA()()()()()()()())},styles:['#popover[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;padding:0 0 0 5px}.about-section[_ngcontent-%COMP%]{margin:auto}#picture[_ngcontent-%COMP%]{background-image:url(https://external-preview.redd.it/in-sicilia-su-strade-colabrodo-e-treni-lumaca-aspettando-il-v0-YGYToK560tbwieHeMTYEEwdI9G0MiCoAnOe-kdmPdrU.jpg?auto=webp&s=0d0a9a6e7891b6fe511766e49a45ffb84cf2124f);width:100%;height:550px;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}.img-wrap[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]{position:relative;margin-bottom:0;display:block}.img-wrap[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]:after{z-index:-1;content:"";position:absolute;inset:10px;background:#2b3035;transition:.3s all ease-in-out}.img-wrap[_ngcontent-%COMP%]:hover   .effect[_ngcontent-%COMP%]:after{right:-10px;bottom:-10px;position:absolute}.btn-about[_ngcontent-%COMP%]{color:#000!important;margin-right:5px;margin-left:5px;animation:skew 3s infinite;animation-direction:normal;animation-direction:alternate;padding:5px 17px}.row[_ngcontent-%COMP%]{color:#000;margin-bottom:4em}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}return n})();var $d=X(534);(0,$d.registerVersion)("firebase","10.7.1","app");class Jy extends Qt.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const F_={setInterval(n,e,...t){const{delegate:i}=F_;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=F_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var kS=X(39);class L_ extends Jy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const s=this.id,c=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(c,s,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,i=0){return F_.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&F_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(c){i=!0,s=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,kS.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const V_={now:()=>(V_.delegate||Date).now(),delegate:void 0};class B_{constructor(e,t=B_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}B_.now=V_.now;class e0 extends B_{constructor(e,t=B_.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const vC=new class _p extends e0{}(class OS extends L_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),U_=new e0(L_),j_=U_,t0=new d.GfV("ANGULARFIRE2_VERSION");class z_{constructor(){return((n,e)=>{const t=(0,$d.getApps)(),i=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i})(n0)}}const n0="app-check";function Ms(){}class bp{zone;delegate;constructor(e,t=vC){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const s=this.zone;return this.delegate.schedule(function(u){s.runGuarded(()=>{e.apply(this,[u])})},t,i)}}class qd{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),t.pipe(hi({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let H_=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new bp(Zone.current)),this.insideAngular=t.run(()=>new bp(Zone.current,U_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(d.LFG(d.R0b))};static \u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kr(n){return function wC(n){return function(t){return(t=t.lift(new qd(n.ngZone))).pipe(Lo(n.outsideAngular),Nr(n.insideAngular))}}(function Tc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Ps=X(106);Ps.Z.registerVersion("firebase","10.7.1","app-compat");const LS=["ngOnDestroy"];class vp{constructor(e){return e}}const Zd=new d.OlP("angularfire2.app.options"),q_=new d.OlP("angularfire2.app.name");function W_(n,e,t){const s="object"==typeof t&&t||{};s.name=s.name||"string"==typeof t&&t||"[DEFAULT]";const u=Ps.Z.apps.filter(g=>g&&g.name===s.name)[0]||e.runOutsideAngular(()=>Ps.Z.initializeApp(n,s));try{if(JSON.stringify(n)!==JSON.stringify(u.options)){const g=!!module.hot;r0("error",`${u.name} Firebase App already initialized with different options${g?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new vp(u)}const r0=(n,...e)=>{(0,d.X6Q)()&&typeof console<"u"&&console[n](...e)},Z_={provide:vp,useFactory:W_,deps:[Zd,d.R0b,[new d.FiY,q_]]};let BS=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Zd,useValue:t},{provide:q_,useValue:i}]}}constructor(t){Ps.Z.registerVersion("angularfire",t0.full,"core"),Ps.Z.registerVersion("angularfire",t0.full,"app-compat"),Ps.Z.registerVersion("angular",d.q4F.full,t.toString())}static \u0275fac=function(i){return new(i||n)(d.LFG(d.Lbi))};static \u0275mod=d.oAB({type:n});static \u0275inj=d.cJS({providers:[Z_]})}return n})();function o0(n,e,t,i,s){const[,c,u]=globalThis.\u0275AngularfireInstanceCache.find(g=>g[0]===n)||[];if(c)return function US(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(s,u)||(jS("error",`${e} was already initialized on the ${t} Firebase App with different settings.${TC?" You may need to reload as Firebase is not HMR aware.":""}`),jS("warn",{is:s,was:u})),c;{const g=i();return globalThis.\u0275AngularfireInstanceCache.push([n,g,s]),g}}const TC=typeof module<"u"&&!!module.hot,jS=(n,...e)=>{(0,d.X6Q)()&&typeof console<"u"&&console[n](...e)};function ks(...n){const e=uc(n),t=function Bw(n,e){return"number"==typeof jf(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Nt(i[0]):ha(t)(cn(i,e)):rr}globalThis.\u0275AngularfireInstanceCache||=[],X(230);class zS extends Dt.x{constructor(e=1/0,t=1/0,i=V_){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:u}=this;t||(i.push(e),!s&&i.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:s}=this,c=s.slice();for(let u=0;u<c.length&&!e.closed;u+=i?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:s}=this,c=(s?1:2)*e;if(e<1/0&&c<i.length&&i.splice(0,i.length-c),!s){const u=t.now();let g=0;for(let b=1;b<i.length&&i[b]<=u;b+=2)g=b;g&&i.splice(0,g+1)}}}var Wl=X(305);function s0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Wl.Hp({next:()=>{i.unsubscribe(),n()}});return Nt(e(...t)).subscribe(i)}function a0(n,e,t){let i,s=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):i=n??1/0,function yp(n={}){const{connector:e=(()=>new Dt.x),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return c=>{let u,g,b,w=0,C=!1,A=!1;const M=()=>{g?.unsubscribe(),g=void 0},L=()=>{M(),u=b=void 0,C=A=!1},K=()=>{const ee=u;L(),ee?.unsubscribe()};return(0,xn.e)((ee,se)=>{w++,!A&&!C&&M();const Ee=b=b??e();se.add(()=>{w--,0===w&&!A&&!C&&(g=s0(K,s))}),Ee.subscribe(se),!u&&w>0&&(u=new Wl.Hp({next:Be=>Ee.next(Be),error:Be=>{A=!0,M(),g=s0(L,t,Be),Ee.error(Be)},complete:()=>{C=!0,M(),g=s0(L,i),Ee.complete()}}),Nt(ee).subscribe(u))})(c)}}({connector:()=>new zS(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function DC(n,e){return(0,bn.m)(e)?si(()=>n,e):si(()=>n)}const AC=new d.OlP("angularfire2.auth.use-emulator"),Y_=new d.OlP("angularfire2.auth.settings"),$S=new d.OlP("angularfire2.auth.tenant-id"),GS=new d.OlP("angularfire2.auth.langugage-code"),qS=new d.OlP("angularfire2.auth.use-device-language"),xC=new d.OlP("angularfire.auth.persistence"),SC=(n,e,t,i,s,c,u,g)=>o0(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),i&&(b.tenantId=i),b.languageCode=s,c&&b.useDeviceLanguage(),u)for(const[w,C]of Object.entries(u))b.settings[w]=C;return g&&b.setPersistence(g),b},[t,i,s,c,u,g]);let WS=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,s,c,u,g,b,w,C,A,M,L){const K=new Dt.x,ee=qe(void 0).pipe(Nr(u.outsideAngular),si(()=>c.runOutsideAngular(()=>Promise.resolve().then(X.bind(X,230)))),(0,gt.U)(()=>W_(t,c,i)),(0,gt.U)(se=>SC(se,c,g,w,C,A,b,M)),a0({bufferSize:1,refCount:!1}));if(Xu(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{ee.pipe(vo()).subscribe();const se=ee.pipe(si(Ae=>Ae.getRedirectResult().then(Xe=>Xe,()=>null)),Kr,a0({bufferSize:1,refCount:!1})),Ee=ee.pipe(si(Ae=>new _n.y(Xe=>({unsubscribe:c.runOutsideAngular(()=>Ae.onAuthStateChanged(bt=>Xe.next(bt),bt=>Xe.error(bt),()=>Xe.complete()))})))),Be=ee.pipe(si(Ae=>new _n.y(Xe=>({unsubscribe:c.runOutsideAngular(()=>Ae.onIdTokenChanged(bt=>Xe.next(bt),bt=>Xe.error(bt),()=>Xe.complete()))}))));this.authState=se.pipe(DC(Ee),Lo(u.outsideAngular),Nr(u.insideAngular)),this.user=se.pipe(DC(Be),Lo(u.outsideAngular),Nr(u.insideAngular)),this.idToken=this.user.pipe(si(Ae=>Ae?cn(Ae.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(si(Ae=>Ae?cn(Ae.getIdTokenResult()):qe(null))),this.credential=ks(se,K,this.authState.pipe(vn(Ae=>!Ae))).pipe((0,gt.U)(Ae=>Ae?.user?Ae:null),Lo(u.outsideAngular),Nr(u.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(s,c)=>t.runOutsideAngular(()=>{if(n[c])return i?.spy?.get&&i.spy.get(c,n[c]),n[c];if(LS.indexOf(c)>-1)return()=>{};const u=e.toPromise().then(g=>{const b=g?.[c];return"function"==typeof b?b.bind(g):b?.then?b.then(w=>t.run(()=>w)):t.run(()=>b)});return new Proxy(()=>{},{get:(g,b)=>u[b],apply:(g,b,w)=>u.then(C=>{const A=C?.(...w);return i?.spy?.apply&&i.spy.apply(c,w,A),A})})})}))(this,ee,c,{spy:{apply:(se,Ee,Be)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Be.then(Ae=>K.next(Ae))}}})}static \u0275fac=function(i){return new(i||n)(d.LFG(Zd),d.LFG(q_,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(H_),d.LFG(AC,8),d.LFG(Y_,8),d.LFG($S,8),d.LFG(GS,8),d.LFG(qS,8),d.LFG(xC,8),d.LFG(z_,8))};static \u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function l0(){return(0,xn.e)((n,e)=>{let t,i=!1;n.subscribe((0,an.x)(e,s=>{const c=t;t=s,i&&e.next([c,s]),i=!0}))})}function u0(n,e=_o.y){return n=n??d0,(0,xn.e)((t,i)=>{let s,c=!0;t.subscribe((0,an.x)(i,u=>{const g=e(u);(c||!n(s,g))&&(c=!1,s=g,i.next(u))}))})}function d0(n,e){return n===e}var ke,ue=X(861),RC=X(537),Os=X(879),In=X(58),ZS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Do={},K_=K_||{},It=ZS||self;function Q_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var MC="closure_uid_"+(1e9*Math.random()>>>0),PC=0;function f0(n,e,t){return n.call.apply(n.bind,arguments)}function YS(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f0:YS).apply(null,arguments)}function Ip(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ei(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,s,c){for(var u=Array(arguments.length-2),g=2;g<arguments.length;g++)u[g-2]=arguments[g];return e.prototype[s].apply(i,u)}}function Dc(){this.s=this.s,this.o=this.o}Dc.prototype.s=!1,Dc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function h0(n){Object.prototype.hasOwnProperty.call(n,MC)&&n[MC]||(n[MC]=++PC)}(this)},Dc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function p0(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function OC(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Q_(i)){const s=n.length||0,c=i.length||0;n.length=s+c;for(let u=0;u<c;u++)n[s+u]=i[u]}else n.push(i)}}function cr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}cr.prototype.h=function(){this.defaultPrevented=!0};var NC=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};It.addEventListener("test",t,e),It.removeEventListener("test",t,e)}catch{}return n}();function Kd(n){return/^[\s\xa0]*$/.test(n)}function Ep(){var n=It.navigator;return n&&(n=n.userAgent)?n:""}function $o(n){return-1!=Ep().indexOf(n)}function FC(n){return FC[" "](n),n}FC[" "]=function(){};var _0,n,Ac=$o("Opera"),Zl=$o("Trident")||$o("MSIE"),wp=$o("Edge"),X_=wp||Zl,g0=$o("Gecko")&&!(-1!=Ep().toLowerCase().indexOf("webkit")&&!$o("Edge"))&&!($o("Trident")||$o("MSIE"))&&!$o("Edge"),QS=-1!=Ep().toLowerCase().indexOf("webkit")&&!$o("Edge");function LC(){var n=It.document;return n?n.documentMode:void 0}e:{var b0="",J_=(n=Ep(),g0?/rv:([^\);]+)(\)|;)/.exec(n):wp?/Edge\/([\d\.]+)/.exec(n):Zl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):QS?/WebKit\/(\S+)/.exec(n):Ac?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(J_&&(b0=J_?J_[1]:""),Zl){var VC=LC();if(null!=VC&&VC>parseFloat(b0)){_0=String(VC);break e}}_0=b0}var ok=It.document&&Zl&&(LC()||parseInt(_0,10))||void 0;function Qd(n,e){if(cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(g0){e:{try{FC(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:BC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qd.$.h.call(this)}}Ei(Qd,cr);var BC={2:"touch",3:"pen",4:"mouse"};Qd.prototype.h=function(){Qd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var eb="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function UC(n,e,t,i,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=s,this.key=++Ct,this.fa=this.ia=!1}function Cp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function xc(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function zC(n){const e={};for(const t in n)e[t]=n[t];return e}const Tp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yl(n,e){let t,i;for(let s=1;s<arguments.length;s++){for(t in i=arguments[s],i)n[t]=i[t];for(let c=0;c<Tp.length;c++)t=Tp[c],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xd(n){this.src=n,this.g={},this.h=0}function Kl(n,e){var t=e.type;if(t in n.g){var c,i=n.g[t],s=kC(i,e);(c=0<=s)&&Array.prototype.splice.call(i,s,1),c&&(Cp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tb(n,e,t,i){for(var s=0;s<n.length;++s){var c=n[s];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return s}return-1}Xd.prototype.add=function(n,e,t,i,s){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var u=tb(n,e,i,s);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new UC(e,this.src,c,!!i,s)).ia=t,n.push(e)),e};var Dp="closure_lm_"+(1e6*Math.random()|0),Ap={};function nb(n,e,t,i,s){if(i&&i.once)return HC(n,e,t,i,s);if(Array.isArray(e)){for(var c=0;c<e.length;c++)nb(n,e[c],t,i,s);return null}return t=D0(t),n&&n[eb]?n.O(e,t,Yd(i)?!!i.capture:!!i,s):y0(n,e,t,!1,i,s)}function y0(n,e,t,i,s,c){if(!e)throw Error("Invalid event type");var u=Yd(s)?!!s.capture:!!s,g=C0(n);if(g||(n[Dp]=g=new Xd(n)),(t=g.add(e,t,i,u,c)).proxy)return t;if(i=function I0(){const e=JS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)NC||(s=u),void 0===s&&(s=!1),n.addEventListener(e.toString(),i,s);else if(n.attachEvent)n.attachEvent(w0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function HC(n,e,t,i,s){if(Array.isArray(e)){for(var c=0;c<e.length;c++)HC(n,e[c],t,i,s);return null}return t=D0(t),n&&n[eb]?n.P(e,t,Yd(i)?!!i.capture:!!i,s):y0(n,e,t,!0,i,s)}function $C(n,e,t,i,s){if(Array.isArray(e))for(var c=0;c<e.length;c++)$C(n,e[c],t,i,s);else i=Yd(i)?!!i.capture:!!i,t=D0(t),n&&n[eb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tb(c=n.g[e],t,i,s))&&(Cp(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=C0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tb(e,t,i,s)),(t=-1<n?e[n]:null)&&E0(t))}function E0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[eb])Kl(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(w0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=C0(e))?(Kl(t,n),0==t.h&&(t.src=null,e[Dp]=null)):Cp(n)}}}function w0(n){return n in Ap?Ap[n]:Ap[n]="on"+n}function JS(n,e){if(n.fa)n=!0;else{e=new Qd(e,this);var t=n.listener,i=n.la||n.src;n.ia&&E0(n),n=t.call(i,e)}return n}function C0(n){return(n=n[Dp])instanceof Xd?n:null}var T0="__closure_events_fn_"+(1e9*Math.random()>>>0);function D0(n){return"function"==typeof n?n:(n[T0]||(n[T0]=function(e){return n.handleEvent(e)}),n[T0])}function wi(){Dc.call(this),this.i=new Xd(this),this.S=this,this.J=null}function Ui(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new cr(e,n);else if(e instanceof cr)e.target=e.target||n;else{var s=e;Yl(e=new cr(i,n),s)}if(s=!0,t)for(var c=t.length-1;0<=c;c--){var u=e.g=t[c];s=ib(u,i,!0,e)&&s}if(s=ib(u=e.g=n,i,!0,e)&&s,s=ib(u,i,!1,e)&&s,t)for(c=0;c<t.length;c++)s=ib(u=e.g=t[c],i,!1,e)&&s}function ib(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==t){var g=u.listener,b=u.la||u.src;u.ia&&Kl(n.i,u),s=!1!==g.call(b,i)&&s}}return s&&!i.defaultPrevented}Ei(wi,Dc),wi.prototype[eb]=!0,wi.prototype.removeEventListener=function(n,e,t,i){$C(this,n,e,t,i)},wi.prototype.N=function(){if(wi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Cp(t[i]);delete n.g[e],n.h--}}this.J=null},wi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},wi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var A0=It.JSON.stringify;function eR(){var n=rb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var nR=new class Qr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new x0,n=>n.reset());class x0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function GC(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function iR(n){It.setTimeout(()=>{throw n},0)}let xp,Sp=!1,rb=new class tR{constructor(){this.h=this.g=null}add(e,t){const i=nR.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},qC=()=>{const n=It.Promise.resolve(void 0);xp=()=>{n.then(rR)}};var rR=()=>{for(var n;n=eR();){try{n.h.call(n.g)}catch(t){iR(t)}var e=nR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sp=!1};function Jd(n,e){wi.call(this),this.h=n||1,this.g=e||It,this.j=pi(this.qb,this),this.l=Date.now()}function S0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function R0(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:It.setTimeout(n,e||0)}function WC(n){n.g=R0(()=>{n.g=null,n.i&&(n.i=!1,WC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ei(Jd,wi),(ke=Jd.prototype).ga=!1,ke.T=null,ke.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ui(this,"tick"),this.ga&&(S0(this),this.start()))}},ke.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ke.N=function(){Jd.$.N.call(this),S0(this),delete this.g};class oR extends Dc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WC(this)}N(){super.N(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rp(n){Dc.call(this),this.h=n,this.g={}}Ei(Rp,Dc);var Go=[];function ob(n,e,t,i){Array.isArray(t)||(t&&(Go[0]=t.toString()),t=Go);for(var s=0;s<t.length;s++){var c=nb(e,t[s],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function ZC(n){xc(n.g,function(e,t){this.g.hasOwnProperty(t)&&E0(e)},n),n.g={}}function Mp(){this.g=!0}function Ql(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function M0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<s.length;u++)s[u]=""}}}return A0(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Rp.prototype.N=function(){Rp.$.N.call(this),ZC(this)},Rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mp.prototype.Ea=function(){this.g=!1},Mp.prototype.info=function(){};var eh={},P0=null;function Pp(){return P0=P0||new wi}function k0(n){cr.call(this,eh.Ta,n)}function Sc(n){const e=Pp();Ui(e,new k0(e))}function ab(n,e){cr.call(this,eh.STAT_EVENT,n),this.stat=e}function Hn(n){const e=Pp();Ui(e,new ab(e,n))}function KC(n,e){cr.call(this,eh.Ua,n),this.size=e}function Xl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){n()},e)}eh.Ta="serverreachability",Ei(k0,cr),eh.STAT_EVENT="statevent",Ei(ab,cr),eh.Ua="timingevent",Ei(KC,cr);var cb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function O0(){}function N0(){}O0.prototype.h=null;var Op,kp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function F0(){cr.call(this,"d")}function lb(){cr.call(this,"c")}function Np(){}function wa(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Rp(this),this.P=XC,this.V=new Jd(n=X_?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new th}function th(){this.i=null,this.g="",this.h=!1}Ei(F0,cr),Ei(lb,cr),Ei(Np,O0),Np.prototype.g=function(){return new XMLHttpRequest},Np.prototype.i=function(){return{}},Op=new Np;var XC=45e3,JC={},L0={};function V0(n,e,t){n.L=1,n.A=Un(qo(e)),n.u=t,n.S=!0,eT(n,null)}function eT(n,e){n.G=Date.now(),Fp(n),n.B=qo(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),$0(t.i,"t",i),n.o=0,t=n.l.J,n.h=new th,n.g=J0(n.l,t?e:null,!n.u),0<n.O&&(n.M=new oR(pi(n.Pa,n,n.g),n.O)),ob(n.U,n.g,"readystatechange",n.nb),e=n.I?zC(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Sc(),function sR(n,e,t,i,s,c){n.info(function(){if(n.g)if(c)for(var u="",g=c.split("&"),b=0;b<g.length;b++){var w=g[b].split("=");if(1<w.length){var C=w[0];w=w[1];var A=C.split("_");u=2<=A.length&&"type"==A[1]?u+(C+"=")+w+"&":u+(C+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.v,n.B,n.m,n.W,n.u)}function cR(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function lR(n,e,t){let s,i=!0;for(;!n.J&&n.o<t.length;){if(s=ub(n,t),s==L0){4==e&&(n.s=4,Hn(14),i=!1),Ql(n.j,n.m,null,"[Incomplete Response]");break}if(s==JC){n.s=4,Hn(15),Ql(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ql(n.j,n.m,s,null),U0(n,s)}cR(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Hn(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Oc(e),e.M=!0,Hn(11))):(Ql(n.j,n.m,t,"[Invalid Chunked Response]"),Jl(n),Lp(n))}function ub(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?L0:(t=Number(e.substring(t,i)),isNaN(t)?JC:(i+=1)+t>e.length?L0:(e=e.slice(i,i+t),n.o=i+t,e))}function Fp(n){n.Y=Date.now()+n.P,tT(n,n.P)}function tT(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Xl(pi(n.lb,n),e)}function B0(n){n.C&&(It.clearTimeout(n.C),n.C=null)}function Lp(n){0==n.l.H||n.J||au(n.l,n)}function Jl(n){B0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,S0(n.V),ZC(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function U0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||zp(t.i,n)))if(!n.K&&zp(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ca(t),Pc(t)}kc(t),Hn(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Xl(pi(t.ib,t),6e3));if(1>=dT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else xo(t,11)}else if((n.K||t.g==n)&&Ca(t),!Kd(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let w=s[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const C=w[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const A=w[4];null!=A&&(t.Ga=A,t.l.info("SVER="+t.Ga));const M=w[5];null!=M&&"number"==typeof M&&0<M&&(t.L=i=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const L=n.g;if(L){const K=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var c=i.i;c.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(q0(c,c.h),c.h=null))}if(i.F){const ee=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.Da=ee,Bn(i.I,i.F,ee))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=X0(i,i.J?i.pa:null,i.Y),u.K){Hp(i.i,u);var g=u,b=i.L;b&&g.setTimeout(b),g.C&&(B0(g),Fp(g)),i.g=u}else ou(i);0<t.j.length&&Fs(t)}else"stop"!=w[0]&&"close"!=w[0]||xo(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?xo(t,7):Ao(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Sc()}catch{}}function nT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Q_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dR(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Q_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function uR(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Q_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),s=i.length,c=0;c<s;c++)e.call(void 0,i[c],t&&t[c],n)}(ke=wa.prototype).setTimeout=function(n){this.P=n},ke.nb=function(n){n=n.target;const e=this.M;e&&3==Ns(n)?e.l():this.Pa(n)},ke.Pa=function(n){try{if(n==this.g)e:{const C=Ns(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||X_||this.g&&(this.h.h||this.g.ja()||Y0(this.g)))){this.J||4!=C||7==e||Sc(),B0(this);var t=this.g.da();this.ca=t;t:if(cR(this)){var i=Y0(this.g);n="";var s=i.length,c=4==Ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),Lp(this);var u="";break t}this.h.i=new It.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:c&&e==s-1});i.length=0,this.h.g+=n,this.o=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function YC(n,e,t,i,s,c,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+c+" "+u})}(this.j,this.v,this.B,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,b=this.g;if((g=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kd(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.s=3,Hn(12),Jl(this),Lp(this);break e}Ql(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,U0(this,t)}this.S?(lR(this,C,u),X_&&this.i&&3==C&&(ob(this.U,this.V,"tick",this.mb),this.V.start())):(Ql(this.j,this.m,u,null),U0(this,u)),4==C&&Jl(this),this.i&&!this.J&&(4==C?au(this.l,this):(this.i=!1,Fp(this)))}else(function bT(n){const e={};n=(n.g&&2<=Ns(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Kd(n[i]))continue;var t=GC(n[i]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[s]||[];e[s]=c,c.push(t)}!function jC(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),Jl(this),Lp(this)}}}catch{}},ke.mb=function(){if(this.g){var n=Ns(this.g),e=this.g.ja();this.o<e.length&&(B0(this),lR(this,n,e),this.i&&4!=n&&Fp(this))}},ke.cancel=function(){this.J=!0,Jl(this)},ke.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function sb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Sc(),Hn(17)),Jl(this),this.s=2,Lp(this)):tT(this,this.Y-n)};var j0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tu){this.h=n.h,Xr(this,n.j),this.s=n.s,this.g=n.g,Vp(this,n.m),this.l=n.l;var e=n.i,t=new Up;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),iT(this,t),this.o=n.o}else n&&(e=String(n).match(j0))?(this.h=!1,Xr(this,e[1]||"",!0),this.s=Bp(e[2]||""),this.g=Bp(e[3]||"",!0),Vp(this,e[4]),this.l=Bp(e[5]||"",!0),iT(this,e[6]||"",!0),this.o=Bp(e[7]||"")):(this.h=!1,this.i=new Up(null,this.h))}function qo(n){return new tu(n)}function Xr(n,e,t){n.j=t?Bp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Vp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iT(n,e,t){e instanceof Up?(n.i=e,function cT(n,e){e&&!n.j&&(Rc(n),n.i=null,n.g.forEach(function(t,i){var s=i.toLowerCase();i!=s&&(Mc(this,i),$0(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=nu(e,sT)),n.i=new Up(e,n.h))}function Bn(n,e,t){n.i.set(e,t)}function Un(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nu(e,rT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nu(e,rT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(nu(t,"/"==t.charAt(0)?oT:z0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nu(t,aT)),n.join("")};var rT=/[#\/\?@]/g,z0=/[#\?:]/g,oT=/[#\?]/g,sT=/[#\?@]/g,aT=/#/g;function Up(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function eu(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),s=null;if(0<=i){var c=n[t].substring(0,i);s=n[t].substring(i+1)}else c=n[t];e(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Mc(n,e){Rc(n),e=nh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function H0(n,e){return Rc(n),e=nh(n,e),n.g.has(e)}function $0(n,e,t){Mc(n,e),0<t.length&&(n.i=null,n.g.set(nh(n,e),p0(t)),n.h+=t.length)}function nh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ke=Up.prototype).add=function(n,e){Rc(this),this.i=null,n=nh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ke.forEach=function(n,e){Rc(this),this.g.forEach(function(t,i){t.forEach(function(s){n.call(e,s,i,this)},this)},this)},ke.ta=function(){Rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const s=n[i];for(let c=0;c<s.length;c++)t.push(e[i])}return t},ke.Z=function(n){Rc(this);let e=[];if("string"==typeof n)H0(this,n)&&(e=e.concat(this.g.get(nh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ke.set=function(n,e){return Rc(this),this.i=null,H0(this,n=nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ke.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var s=c;""!==u[i]&&(s+="="+encodeURIComponent(String(u[i]))),n.push(s)}}return this.i=n.join("&")};var lT=class{constructor(n,e){this.g=n,this.map=e}};function G0(n){this.l=n||jp,n=It.PerformanceNavigationTiming?0<(n=It.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(It.g&&It.g.Ka&&It.g.Ka()&&It.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jp=10;function uT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dT(n){return n.h?1:n.g?n.g.size:0}function zp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function q0(n,e){n.g?n.g.add(e):n.h=e}function Hp(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function W0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return p0(n.i)}G0.prototype.cancel=function(){if(this.i=W0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var hT=class{stringify(n){return It.JSON.stringify(n,void 0)}parse(n){return It.JSON.parse(n,void 0)}};function fR(){this.g=new hT}function pR(n,e,t){const i=t||"";try{nT(n,function(s,c){let u=s;Yd(s)&&(u=A0(s)),e.push(i+c+"="+encodeURIComponent(u))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function db(n,e,t,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Gp(n){this.l=n.ec||null,this.j=n.ob||!1}function hb(n,e){wi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Z0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ei(Gp,O0),Gp.prototype.g=function(){return new hb(this.l,this.j)},Gp.prototype.i=function(n){return function(){return n}}({}),Ei(hb,wi);var Z0=0;function fT(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wp(n)}function Wp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ke=hb.prototype).open=function(n,e){if(this.readyState!=Z0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wp(this)},ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||It).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qp(this)),this.readyState=Z0},ke.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wp(this)),this.g&&(this.readyState=3,Wp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof It.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fT(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ke.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qp(this):Wp(this),3==this.readyState&&fT(this)}},ke.Za=function(n){this.g&&(this.response=this.responseText=n,qp(this))},ke.Ya=function(n){this.g&&(this.response=n,qp(this))},ke.ka=function(){this.g&&qp(this)},ke.setRequestHeader=function(n,e){this.v.append(n,e)},ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mR=It.JSON.parse;function $n(n){wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fb,this.L=this.M=!1}Ei($n,wi);var fb="",gR=/^https?$/i,pb=["POST","PUT"];function pT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mT(n),mb(n)}function mT(n){n.F||(n.F=!0,Ui(n,"complete"),Ui(n,"error"))}function gT(n){if(n.h&&typeof K_<"u"&&(!n.C[1]||4!=Ns(n)||2!=n.da()))if(n.v&&4==Ns(n))R0(n.La,0,n);else if(Ui(n,"readystatechange"),4==Ns(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var s=String(n.I).match(j0)[1]||null;!s&&It.self&&It.self.location&&(s=It.self.location.protocol.slice(0,-1)),i=!gR.test(s?s.toLowerCase():"")}t=i}if(t)Ui(n,"complete"),Ui(n,"success");else{n.m=6;try{var c=2<Ns(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",mT(n)}}finally{mb(n)}}}function mb(n,e){if(n.g){_T(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ui(n,"ready");try{t.onreadystatechange=i}catch{}}}function _T(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(It.clearTimeout(n.A),n.A=null)}function Ns(n){return n.g?n.g.readyState:0}function Y0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vT(n){let e="";return xc(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function yT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=vT(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function ih(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function K0(n){this.Ga=0,this.j=[],this.l=new Mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ih("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ih("baseRetryDelayMs",5e3,n),this.hb=ih("retryDelaySeedMs",1e4,n),this.eb=ih("forwardChannelMaxRetries",2,n),this.xa=ih("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new G0(n&&n.concurrentRequestLimit),this.Ja=new fR,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ao(n){if(ai(n),3==n.H){var e=n.W++,t=qo(n.I);if(Bn(t,"SID",n.K),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),iu(n,t),(e=new wa(n,n.l,e)).L=2,e.A=Un(qo(t)),t=!1,It.navigator&&It.navigator.sendBeacon)try{t=It.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&It.Image&&((new Image).src=e.A,t=!0),t||(e.g=J0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fp(e)}Q0(n)}function Pc(n){n.g&&(Oc(n),n.g.cancel(),n.g=null)}function ai(n){Pc(n),n.u&&(It.clearTimeout(n.u),n.u=null),Ca(n),n.i.cancel(),n.m&&("number"==typeof n.m&&It.clearTimeout(n.m),n.m=null)}function Fs(n){if(!uT(n.i)&&!n.m){n.m=!0;var e=n.Na;xp||qC(),Sp||(xp(),Sp=!0),rb.add(e,n),n.C=0}}function Jr(n,e){var t;t=e?e.m:n.W++;const i=qo(n.I);Bn(i,"SID",n.K),Bn(i,"RID",t),Bn(i,"AID",n.V),iu(n,i),n.o&&n.s&&yT(i,n.o,n.s),t=new wa(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ru(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),q0(n.i,t),V0(t,i,e)}function iu(n,e){n.na&&xc(n.na,function(t,i){Bn(e,i,t)}),n.h&&nT({},function(t,i){Bn(e,i,t)})}function ru(n,e,t){t=Math.min(n.j.length,t);var i=n.h?pi(n.h.Va,n.h,n):null;e:{var s=n.j;let c=-1;for(;;){const u=["count="+t];-1==c?0<t?(c=s[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let g=!0;for(let b=0;b<t;b++){let w=s[b].g;const C=s[b].map;if(w-=c,0>w)c=Math.max(0,s[b].g-100),g=!1;else try{pR(C,u,"req"+w+"_")}catch{i&&i(C)}}if(g){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function ou(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;xp||qC(),Sp||(xp(),Sp=!0),rb.add(e,n),n.A=0}}function kc(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Xl(pi(n.Ma,n),cu(n,n.A)),n.A++,0))}function Oc(n){null!=n.B&&(It.clearTimeout(n.B),n.B=null)}function su(n){n.g=new wa(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=qo(n.wa);Bn(e,"RID","rpc"),Bn(e,"SID",n.K),Bn(e,"AID",n.V),Bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Bn(e,"TO",n.qa),Bn(e,"TYPE","xmlhttp"),iu(n,e),n.o&&n.s&&yT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Un(qo(e)),t.u=null,t.S=!0,eT(t,n)}function Ca(n){null!=n.v&&(It.clearTimeout(n.v),n.v=null)}function au(n,e){var t=null;if(n.g==e){Ca(n),Oc(n),n.g=null;var i=2}else{if(!zp(n.i,e))return;t=e.F,Hp(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var s=n.C;Ui(i=Pp(),new KC(i,t)),Fs(n)}else ou(n);else if(3==(s=e.s)||0==s&&0<e.ca||!(1==i&&function gb(n,e){return!(dT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Xl(pi(n.Na,n,e),cu(n,n.C)),n.C++,0)))}(n,e)||2==i&&kc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:xo(n,5);break;case 4:xo(n,10);break;case 3:xo(n,6);break;default:xo(n,2)}}function cu(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function xo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=pi(n.pb,n);t||(t=new tu("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||Xr(t,"https"),Un(t)),function $p(n,e){const t=new Mp;if(It.Image){const i=new Image;i.onload=Ip(db,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ip(db,t,i,"TestLoadImage: error",!1,e),i.onabort=Ip(db,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ip(db,t,i,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Hn(2);n.H=0,n.h&&n.h.za(e),Q0(n),ai(n)}function Q0(n){if(n.H=0,n.ma=[],n.h){const e=W0(n.i);(0!=e.length||0!=n.j.length)&&(OC(n.ma,e),OC(n.ma,n.j),n.i.i.length=0,p0(n.j),n.j.length=0),n.h.ya()}}function X0(n,e,t){var i=t instanceof tu?qo(t):new tu(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Vp(i,i.m);else{var s=It.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var c=new tu(null);i&&Xr(c,i),e&&(c.g=e),s&&Vp(c,s),t&&(c.l=t),i=c}return e=n.Da,(t=n.F)&&e&&Bn(i,t,e),Bn(i,"VER",n.ra),iu(n,i),i}function J0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $n(n.Ha&&!n.va?new Gp({ob:t}):n.va)).Oa(n.J),e}function eI(){}function Zp(){if(Zl&&!(10<=Number(ok)))throw Error("Environmental error: no available transport.")}function Br(n,e){wi.call(this),this.g=new K0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Kd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lu(this)}function tI(n){F0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nI(){lb.call(this),this.status=1}function lu(n){this.g=n}function ji(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iI(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)i[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)i[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],u=(e=n.g[0])+(c^(t=n.g[1])&((s=n.g[2])^c))+i[0]+3614090360&4294967295;u=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=t+(u<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^c&(t^s))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^s^c)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(s^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=t+((u=e+(s^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((s=c+((u=s+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+c&4294967295}function hn(n,e){this.h=e;for(var t=[],i=!0,s=n.length-1;0<=s;s--){var c=0|n[s];i&&c==e||(t[s]=c,i=!1)}this.g=t}(ke=$n.prototype).Oa=function(n){this.M=n},ke.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Op.g(),this.C=function QC(n){return n.h||(n.h=n.i())}(this.u?this.u:Op),this.g.onreadystatechange=pi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void pT(this,c)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)t.set(s,i[s]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),s=It.FormData&&n instanceof It.FormData,!(0<=kC(pb,e))||i||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of t)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_T(this),0<this.B&&((this.L=function _R(n){return Zl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.ua,this)):this.A=R0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){pT(this,c)}},ke.ua=function(){typeof K_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ui(this,"timeout"),this.abort(8))},ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ui(this,"complete"),Ui(this,"abort"),mb(this))},ke.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mb(this,!0)),$n.$.N.call(this)},ke.La=function(){this.s||(this.G||this.v||this.l?gT(this):this.kb())},ke.kb=function(){gT(this)},ke.isActive=function(){return!!this.g},ke.da=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},ke.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ke.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mR(e)}},ke.Ia=function(){return this.m},ke.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ke=K0.prototype).ra=8,ke.H=1,ke.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new wa(this,this.l,n);let c=this.s;if(this.U&&(c?(c=zC(c),Yl(c,this.U)):c=this.U),null!==this.o||this.O||(s.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ru(this,s,e),Bn(t=qo(this.I),"RID",n),Bn(t,"CVER",22),this.F&&Bn(t,"X-HTTP-Session-Id",this.F),iu(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(vT(c)))+"&"+e:this.o&&yT(t,this.o,c)),q0(this.i,s),this.bb&&Bn(t,"TYPE","init"),this.P?(Bn(t,"$req",e),Bn(t,"SID","null"),s.aa=!0,V0(s,t,null)):V0(s,t,e),this.H=2}}else 3==this.H&&(n?Jr(this,n):0==this.j.length||uT(this.i)||Jr(this))},ke.Ma=function(){if(this.u=null,su(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Xl(pi(this.jb,this),n)}},ke.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),Pc(this),su(this))},ke.ib=function(){null!=this.v&&(this.v=null,Pc(this),kc(this),Hn(19))},ke.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))},ke.isActive=function(){return!!this.h&&this.h.isActive(this)},(ke=eI.prototype).Ba=function(){},ke.Aa=function(){},ke.za=function(){},ke.ya=function(){},ke.isActive=function(){return!0},ke.Va=function(){},Zp.prototype.g=function(n,e){return new Br(n,e)},Ei(Br,wi),Br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Hn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=X0(n,null,n.Y),Fs(n)},Br.prototype.close=function(){Ao(this.g)},Br.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=A0(n),n=t);e.j.push(new lT(e.fb++,n)),3==e.H&&Fs(e)},Br.prototype.N=function(){this.g.h=null,delete this.j,Ao(this.g),delete this.g,Br.$.N.call(this)},Ei(tI,F0),Ei(nI,lb),Ei(lu,eI),lu.prototype.Ba=function(){Ui(this.g,"a")},lu.prototype.Aa=function(n){Ui(this.g,new tI(n))},lu.prototype.za=function(n){Ui(this.g,new nI)},lu.prototype.ya=function(){Ui(this.g,"b")},Ei(ji,function _b(){this.blockSize=-1}),ji.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ji.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,s=this.h,c=0;c<e;){if(0==s)for(;c<=t;)iI(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(i[s++]=n.charCodeAt(c++),s==this.blockSize){iI(this,i),s=0;break}}else for(;c<e;)if(i[s++]=n[c++],s==this.blockSize){iI(this,i),s=0;break}}this.h=s,this.i+=e},ji.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var rI={};function Ta(n){return-128<=n&&128>n?function m0(n,e){var t=rI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new hn([0|e],0>e?-1:0)}):new hn([0|n],0>n?-1:0)}function So(n){if(isNaN(n)||!isFinite(n))return Kp;if(0>n)return Yi(So(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Yp;return new hn(e,0)}var Yp=4294967296,Kp=Ta(0),ET=Ta(1),wT=Ta(16777216);function Da(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function eo(n){return-1==n.h}function Yi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new hn(t,~n.h).add(ET)}function Kn(n,e){return n.add(Yi(e))}function Qp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Xp(n,e){this.g=n,this.h=e}function bb(n,e){if(Da(e))throw Error("division by zero");if(Da(n))return new Xp(Kp,Kp);if(eo(n))return e=bb(Yi(n),e),new Xp(Yi(e.g),Yi(e.h));if(eo(e))return e=bb(n,Yi(e)),new Xp(Yi(e.g),e.h);if(30<n.g.length){if(eo(n)||eo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ET,i=e;0>=i.X(n);)t=oI(t),i=oI(i);var s=rh(t,1),c=rh(i,1);for(i=rh(i,2),t=rh(t,2);!Da(i);){var u=c.add(i);0>=u.X(n)&&(s=s.add(t),c=u),i=rh(i,1),t=rh(t,1)}return e=Kn(n,s.R(e)),new Xp(s,e)}for(s=Kp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(c=So(t)).R(e);eo(u)||0<u.X(n);)u=(c=So(t-=i)).R(e);Da(c)&&(c=ET),s=s.add(c),n=Kn(n,u)}return new Xp(s,n)}function oI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new hn(t,n.h)}function rh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,s=[],c=0;c<i;c++)s[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new hn(s,n.h)}(ke=hn.prototype).ea=function(){if(eo(this))return-Yi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Yp+i)*e,e*=Yp}return n},ke.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Da(this))return"0";if(eo(this))return"-"+Yi(this).toString(n);for(var e=So(Math.pow(n,6)),t=this,i="";;){var s=bb(t,e).g,c=((0<(t=Kn(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Da(t=s))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},ke.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ke.X=function(n){return eo(n=Kn(this,n))?-1:Da(n)?0:1},ke.abs=function(){return eo(this)?Yi(this):this},ke.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,s=0;s<=e;s++){var c=i+(65535&this.D(s))+(65535&n.D(s)),u=(c>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);i=u>>>16,t[s]=(u&=65535)<<16|(c&=65535)}return new hn(t,-2147483648&t[t.length-1]?-1:0)},ke.R=function(n){if(Da(this)||Da(n))return Kp;if(eo(this))return eo(n)?Yi(this).R(Yi(n)):Yi(Yi(this).R(n));if(eo(n))return Yi(this.R(Yi(n)));if(0>this.X(wT)&&0>n.X(wT))return So(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<n.g.length;s++){var c=this.D(i)>>>16,u=65535&this.D(i),g=n.D(s)>>>16,b=65535&n.D(s);t[2*i+2*s]+=u*b,Qp(t,2*i+2*s),t[2*i+2*s+1]+=c*b,Qp(t,2*i+2*s+1),t[2*i+2*s+1]+=u*g,Qp(t,2*i+2*s+1),t[2*i+2*s+2]+=c*g,Qp(t,2*i+2*s+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new hn(t,0)},ke.gb=function(n){return bb(this,n).h},ke.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new hn(t,this.h&n.h)},ke.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new hn(t,this.h|n.h)},ke.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new hn(t,this.h^n.h)},Zp.prototype.createWebChannel=Zp.prototype.g,Br.prototype.send=Br.prototype.u,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,cb.NO_ERROR=0,cb.TIMEOUT=8,cb.HTTP_ERROR=6,aR.COMPLETE="complete",N0.EventType=kp,kp.OPEN="a",kp.CLOSE="b",kp.ERROR="c",kp.MESSAGE="d",wi.prototype.listen=wi.prototype.O,$n.prototype.listenOnce=$n.prototype.P,$n.prototype.getLastError=$n.prototype.Sa,$n.prototype.getLastErrorCode=$n.prototype.Ia,$n.prototype.getStatus=$n.prototype.da,$n.prototype.getResponseJson=$n.prototype.Wa,$n.prototype.getResponseText=$n.prototype.ja,$n.prototype.send=$n.prototype.ha,$n.prototype.setWithCredentials=$n.prototype.Oa,ji.prototype.digest=ji.prototype.l,ji.prototype.reset=ji.prototype.reset,ji.prototype.update=ji.prototype.j,hn.prototype.add=hn.prototype.add,hn.prototype.multiply=hn.prototype.R,hn.prototype.modulo=hn.prototype.gb,hn.prototype.compare=hn.prototype.X,hn.prototype.toNumber=hn.prototype.ea,hn.prototype.toString=hn.prototype.toString,hn.prototype.getBits=hn.prototype.D,hn.fromNumber=So,hn.fromString=function IT(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Yi(IT(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=So(Math.pow(e,8)),i=Kp,s=0;s<n.length;s+=8){var c=Math.min(8,n.length-s),u=parseInt(n.substring(s,s+c),e);8>c?(c=So(Math.pow(e,c)),i=i.R(c).add(So(u))):i=(i=i.R(t)).add(So(u))}return i};var CT=Do.createWebChannelTransport=function(){return new Zp},TT=Do.getStatEventTarget=function(){return Pp()},Nc=Do.ErrorCode=cb,bR=Do.EventType=aR,vR=Do.Event=eh,sI=Do.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jp=(Do.FetchXmlHttpFactory=Gp,Do.WebChannel=N0),ak=Do.XhrIo=$n,aI=Do.Md5=ji,Fc=Do.Integer=hn;const vb="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let vr="10.7.0";const Lc=new Os.Yd("@firebase/firestore");function uu(){return Lc.logLevel}function fe(n,...e){if(Lc.logLevel<=Os.in.DEBUG){const t=e.map(yb);Lc.debug(`Firestore (${vr}): ${n}`,...t)}}function nn(n,...e){if(Lc.logLevel<=Os.in.ERROR){const t=e.map(yb);Lc.error(`Firestore (${vr}): ${n}`,...t)}}function yr(n,...e){if(Lc.logLevel<=Os.in.WARN){const t=e.map(yb);Lc.warn(`Firestore (${vr}): ${n}`,...t)}}function yb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ve(n="Unexpected state"){const e=`FIRESTORE (${vr}) INTERNAL ASSERTION FAILED: `+n;throw nn(e),new Error(e)}function Ze(n,e){n||Ve()}function Re(n,e){return n}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends In.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class ER{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DT{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let s=this.i;const c=w=>this.i!==s?(s=this.i,t(w)):Promise.resolve();let u=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ci,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const w=u;e.enqueueRetryable((0,ue.Z)(function*(){yield w.promise,yield c(i.currentUser)}))},b=w=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>b(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ci)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze("string"==typeof i.accessToken),new cI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ze(null===e||"string"==typeof e),new mi(e)}}class AT{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ib{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new AT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ST{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=c=>{null!=c.error&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.R;return this.R=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const s=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?s(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze("string"==typeof t.token),this.R=t.token,new xT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class RT{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const s=wR(40);for(let c=0;c<s.length;++c)i.length<20&&s[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[c]%62))}return i}}function _t(n,e){return n<e?-1:n>e?1:0}function oh(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}function MT(n){return n+"\0"}class jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new jn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new jn(0,0))}static max(){return new Ke(new jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class em{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ve(),void 0===i?i=e.length-t:i>e.length-t&&Ve(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===em.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof em?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const c=e.get(s),u=t.get(s);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends em{construct(e,t,i){return new Yt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const lI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends em{construct(e,t,i){return new Pn(e,t,i)}static isValidIdentifier(e){return lI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pn(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const c=()=>{if(0===i.length)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[s+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=b,s+=2}else"`"===g?(u=!u,s++):"."!==g||u?(i+=g,s++):(c(),s++)}if(c(),u)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(t)}static emptyPath(){return new Pn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Yt.fromString(e))}static fromName(e){return new Me(Yt.fromString(e).popFirst(5))}static empty(){return new Me(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Yt(e.slice()))}}class tm{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function uI(n){return n.fields.find(e=>2===e.kind)}function du(n){return n.fields.filter(e=>2!==e.kind)}tm.UNKNOWN_ID=-1;class hu{constructor(e,t){this.fieldPath=e,this.kind=t}}class sh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sh(0,Ir.min())}}function PT(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(1e9===i?new jn(t+1,0):new jn(t,i));return new Ir(s,Me.empty(),e)}function kT(n){return new Ir(n.readTime,n.key,-1)}class Ir{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ir(Ke.min(),Me.empty(),-1)}static max(){return new Ir(Ke.max(),Me.empty(),-1)}}function fu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Me.comparator(n.documentKey,e.documentKey),0!==t?t:_t(n.largestBatchId,e.largestBatchId))}const Eb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Aa(n){return pu.apply(this,arguments)}function pu(){return pu=(0,ue.Z)(function*(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==Eb)throw n;fe("LocalStore","Unexpectedly lost primary lease")}),pu.apply(this,arguments)}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((i,s)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,s)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,i)=>{t(e)})}static reject(e){return new q((t,i)=>{i(e)})}static waitFor(e){return new q((t,i)=>{let s=0,c=0,u=!1;e.forEach(g=>{++s,g.next(()=>{++c,u&&c===s&&t()},b=>i(b))}),u=!0,c===s&&t()})}static or(e){let t=q.resolve(!1);for(const i of e)t=t.next(s=>s?q.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,c)=>{i.push(t.call(this,s,c))}),this.waitFor(i)}static mapArray(e,t){return new q((i,s)=>{const c=e.length,u=new Array(c);let g=0;for(let b=0;b<c;b++){const w=b;t(e[w]).next(C=>{u[w]=C,++g,g===c&&i(u)},C=>s(C))}})}static doWhile(e,t){return new q((i,s)=>{const c=()=>{!0===e()?t().next(()=>{c()},s):i()};c()})}}class wb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ci,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new im(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const s=dI(i.target.error);this.V.reject(new im(e,s))}}static open(e,t,i,s){try{return new wb(t,e.transaction(s,i))}catch(c){throw new im(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Cb(t)}}class Er{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Er.S((0,In.z$)())&&nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return fe("SimpleDb","Removing database:",e),mu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,In.hl)())return!1;if(Er.C())return!0;const e=(0,In.z$)(),t=Er.S(e),i=0<t&&t<10,s=Er.v(e),c=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,ue.Z)(function*(){return t.db||(fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,s)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=u=>{i(u.target.result)},c.onblocked=()=>{s(new im(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const g=u.target.error;s("VersionError"===g.name?new me(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new me(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new im(e,g))},c.onupgradeneeded=u=>{fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.p.N(u.target.result,c.transaction,u.oldVersion,t.version).next(()=>{fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,s){var c=this;return(0,ue.Z)(function*(){const u="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.O(e);const b=wb.open(c.db,e,u?"readonly":"readwrite",i),w=s(b).next(C=>(b.g(),C)).catch(C=>(b.abort(C),q.reject(C))).toPromise();return w.catch(()=>{}),yield b.m,w}catch(b){const w=b,C="FirebaseError"!==w.name&&g<3;if(fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",C),c.close(),!C)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class OT{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mu(this.k.delete())}}class im extends me{constructor(e,t){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xa(n){return"IndexedDbTransactionError"===n.name}class Cb{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),mu(i)}add(e){return fe("SimpleDb","ADD",this.store.name,e,e),mu(this.store.add(e))}get(e){return mu(this.store.get(e)).next(t=>(void 0===t&&(t=null),fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return fe("SimpleDb","DELETE",this.store.name,e),mu(this.store.delete(e))}count(){return fe("SimpleDb","COUNT",this.store.name),mu(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const s=this.cursor(i),c=[];return this.G(s,(u,g)=>{c.push(g)}).next(()=>c)}{const s=this.store.getAll(i.range);return new q((c,u)=>{s.onerror=g=>{u(g.target.error)},s.onsuccess=g=>{c(g.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new q((s,c)=>{i.onerror=u=>{c(u.target.error)},i.onsuccess=u=>{s(u.target.result)}})}H(e,t){fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const s=this.cursor(i);return this.G(s,(c,u,g)=>g.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.G(s,t)}Z(e){const t=this.cursor({});return new q((i,s)=>{t.onerror=c=>{const u=dI(c.target.error);s(u)},t.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(g=>{g?u.continue():i()}):i()}})}G(e,t){const i=[];return new q((s,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const g=u.target.result;if(!g)return void s();const b=new OT(g),w=t(g.primaryKey,g.value,b);if(w instanceof q){const C=w.catch(A=>(b.done(),q.reject(A)));i.push(C)}b.isDone?s():null===b.$?g.continue():g.continue(b.$)}}).next(()=>q.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mu(n){return new q((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const s=dI(i.target.error);t(s)}})}let NT=!1;function dI(n){const e=Er.S((0,In.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NT||(NT=!0,setTimeout(()=>{throw i},0)),i}}return n}class CR{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ue.Z)(function*(){t.task=null;try{fe("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){xa(i)?fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Aa(i)}yield t.ee(6e4)}))}}class TR{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,ue.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let s=t,c=!0;return q.doWhile(()=>!0===c&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return fe("IndexBackiller",`Processing collection: ${u}`),this.re(e,u,s).next(g=>{s-=g,i.add(u)});c=!1})).next(()=>t-s)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ie(s,c)).next(g=>(fe("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>u.size)}))}ie(e,t){let i=e;return t.changes.forEach((s,c)=>{const u=kT(c);fu(u,i)>0&&(i=u)}),new Ir(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let wr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.se(s),this.oe=s=>i.writeSequenceNumber(s))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Sa(n){return null==n}function Vc(n){return 0===n&&1/n==-1/0}function rm(n){return"number"==typeof n&&Number.isInteger(n)&&!Vc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Cr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FT(e)),e=DR(n.get(t),e);return FT(e)}function DR(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const c=n.charAt(s);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function FT(n){return n+"\x01\x01"}function Ro(n){const e=n.length;if(Ze(e>=2),2===e)return Ze("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Yt.emptyPath();const t=e-2,i=[];let s="";for(let c=0;c<e;){const u=n.indexOf("\x01",c);switch((u<0||u>t)&&Ve(),n.charAt(u+1)){case"\x01":const g=n.substring(c,u);let b;0===s.length?b=g:(s+=g,b=s,s=""),i.push(b);break;case"\x10":s+=n.substring(c,u),s+="\0";break;case"\x11":s+=n.substring(c,u+1);break;default:Ve()}c=u+2}return new Yt(i)}const LT=["userId","batchId"];function om(n,e){return[n,Cr(e)]}function VT(n,e,t){return[n,Cr(e),t]}const AR={},BT=["prefixPath","collectionGroup","readTime","documentId"],xR=["prefixPath","collectionGroup","documentId"],SR=["collectionGroup","readTime","prefixPath","documentId"],ah=["canonicalId","targetId"],RR=["targetId","path"],hI=["path","targetId"],MR=["collectionId","parent"],fI=["indexId","uid"],UT=["uid","sequenceNumber"],jT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zT=["indexId","uid","orderedDocumentKey"],sm=["userId","collectionPath","documentId"],HT=["userId","collectionPath","largestBatchId"],ch=["userId","collectionGroup","largestBatchId"],lh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pI=[...lh,"documentOverlays"],am=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$T=am,PR=[...$T,"indexConfiguration","indexState","indexEntries"];class Tb extends nm{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ti(n,e){const t=Re(n);return Er.M(t.ae,e)}function Db(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class En{constructor(e,t){this.comparator=e,this.root=t||zi.EMPTY}insert(e,t){return new En(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(0===s)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zi{constructor(e,t,i,s,c){this.key=e,this.value=t,this.color=i??zi.RED,this.left=s??zi.EMPTY,this.right=c??zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,c){return new zi(e??this.key,t??this.value,i??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const c=i(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,t,i),null):0===c?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return zi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,t,i,s,c){return this}insert(e,t,i){return new zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(s,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dh(n){return n.hasNext()?n.getNext():void 0}class Ur{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Ur([])}unionWith(e){let t=new fn(Pn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WT("Invalid base64 string: "+c):c}}(e);return new gi(t)}static fromUint8Array(e){const t=function(s){let c="";for(let u=0;u<s.length;++u)c+=String.fromCharCode(s[u]);return c}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const ZT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bc(n){if(Ze(!!n),"string"==typeof n){let e=0;const t=ZT.exec(n);if(Ze(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qn(n.seconds),nanos:Qn(n.nanos)}}function Qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vs(n){return"string"==typeof n?gi.fromBase64String(n):gi.fromUint8Array(n)}function Ab(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xb(n){const e=n.mapValue.fields.__previous_value__;return Ab(e)?xb(e):e}function fh(n){const e=Bc(n.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}class kR{constructor(e,t,i,s,c,u,g,b,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.longPollingOptions=b,this.useFetchStreams=w}}class Ma{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}const Uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cm={nullValue:"NULL_VALUE"};function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ab(n)?4:gI(n)?9007199254740991:10:Ve()}function Us(n,e){if(n===e)return!0;const t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fh(n).isEqual(fh(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const u=Bc(s.timestampValue),g=Bc(c.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Vs(n.bytesValue).isEqual(Vs(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,c){return Qn(s.geoPointValue.latitude)===Qn(c.geoPointValue.latitude)&&Qn(s.geoPointValue.longitude)===Qn(c.geoPointValue.longitude)}(n,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Qn(s.integerValue)===Qn(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const u=Qn(s.doubleValue),g=Qn(c.doubleValue);return u===g?Vc(u)===Vc(g):isNaN(u)&&isNaN(g)}return!1}(n,e);case 9:return oh(n.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:return function(s,c){const u=s.mapValue.fields||{},g=c.mapValue.fields||{};if(Db(u)!==Db(g))return!1;for(const b in u)if(u.hasOwnProperty(b)&&(void 0===g[b]||!Us(u[b],g[b])))return!1;return!0}(n,e);default:return Ve()}var c}function lm(n,e){return void 0!==(n.values||[]).find(t=>Us(t,e))}function js(n,e){if(n===e)return 0;const t=Bs(n),i=Bs(e);if(t!==i)return _t(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return function(c,u){const g=Qn(c.integerValue||c.doubleValue),b=Qn(u.integerValue||u.doubleValue);return g<b?-1:g>b?1:g===b?0:isNaN(g)?isNaN(b)?0:-1:1}(n,e);case 3:return Xn(n.timestampValue,e.timestampValue);case 4:return Xn(fh(n),fh(e));case 5:return _t(n.stringValue,e.stringValue);case 6:return function(c,u){const g=Vs(c),b=Vs(u);return g.compareTo(b)}(n.bytesValue,e.bytesValue);case 7:return function(c,u){const g=c.split("/"),b=u.split("/");for(let w=0;w<g.length&&w<b.length;w++){const C=_t(g[w],b[w]);if(0!==C)return C}return _t(g.length,b.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,u){const g=_t(Qn(c.latitude),Qn(u.latitude));return 0!==g?g:_t(Qn(c.longitude),Qn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,u){const g=c.values||[],b=u.values||[];for(let w=0;w<g.length&&w<b.length;++w){const C=js(g[w],b[w]);if(C)return C}return _t(g.length,b.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,u){if(c===Uc.mapValue&&u===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(u===Uc.mapValue)return-1;const g=c.fields||{},b=Object.keys(g),w=u.fields||{},C=Object.keys(w);b.sort(),C.sort();for(let A=0;A<b.length&&A<C.length;++A){const M=_t(b[A],C[A]);if(0!==M)return M;const L=js(g[b[A]],w[C[A]]);if(0!==L)return L}return _t(b.length,C.length)}(n.mapValue,e.mapValue);default:throw Ve()}}function Xn(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _t(n,e);const t=Bc(n),i=Bc(e),s=_t(t.seconds,i.seconds);return 0!==s?s:_t(t.nanos,i.nanos)}function gu(n){return mI(n)}function mI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Bc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vs(n.bytesValue).toBase64():"referenceValue"in n?Me.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const c of t.values||[])s?s=!1:i+=",",i+=mI(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",c=!0;for(const u of i)c?c=!1:s+=",",s+=`${u}:${mI(t.fields[u])}`;return s+"}"}(n.mapValue):Ve()}function Wo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jc(n){return!!n&&"integerValue"in n}function zc(n){return!!n&&"arrayValue"in n}function ph(n){return!!n&&"nullValue"in n}function um(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dm(n){return!!n&&"mapValue"in n}function mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ra(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=mh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sb(n){return"nullValue"in n?cm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wo(Ma.empty(),Me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ve()}function _I(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wo(Ma.empty(),Me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Uc:Ve()}function bI(n,e){const t=js(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hm(n,e){const t=js(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(t)}setAll(e){let t=Pn.emptyPath(),i={},s=[];e.forEach((u,g)=>{if(!t.isImmediateParentOf(g)){const b=this.getFieldsMap(t);this.applyChanges(b,i,s),i={},s=[],t=g.popLast()}u?i[g.lastSegment()]=mh(u):s.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,s)}delete(e){const t=this.field(e.popLast());dm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];dm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ra(t,(s,c)=>e[s]=c);for(const s of i)delete e[s]}clone(){return new qn(mh(this.value))}}function YT(n){const e=[];return Ra(n.fields,(t,i)=>{const s=new Pn([t]);if(dm(i)){const c=YT(i.mapValue).fields;if(0===c.length)e.push(s);else for(const u of c)e.push(s.child(u))}else e.push(s)}),new Ur(e)}class zt{constructor(e,t,i,s,c,u,g){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=c,this.data=u,this.documentState=g}static newInvalidDocument(e){return new zt(e,0,Ke.min(),Ke.min(),Ke.min(),qn.empty(),0)}static newFoundDocument(e,t,i,s){return new zt(e,1,t,Ke.min(),i,s,0)}static newNoDocument(e,t){return new zt(e,2,t,Ke.min(),Ke.min(),qn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ke.min(),Ke.min(),qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function KT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const c=e[s],u=n.position[s];if(i=c.field.isKeyField()?Me.comparator(Me.fromName(u.referenceValue),t.key):js(u,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function Rb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Us(n.position[t],e.position[t]))return!1;return!0}class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function QT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class XT{}class $t extends XT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new yI(e,t,i):"array-contains"===t?new OR(e,i):"in"===t?new tD(e,i):"not-in"===t?new _h(e,i):"array-contains-any"===t?new nD(e,i):new $t(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new JT(e,i):new eD(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(js(t,this.value)):null!==t&&Bs(this.value)===Bs(t)&&this.matchesComparison(js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends XT{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new pn(e,t)}matches(e){return Pa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Pa(n){return"and"===n.op}function fm(n){return"or"===n.op}function pm(n){return _u(n)&&Pa(n)}function _u(n){for(const e of n.filters)if(e instanceof pn)return!1;return!0}function Mb(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+gu(n.value);if(pm(n))return n.filters.map(e=>Mb(e)).join(",");{const e=n.filters.map(t=>Mb(t)).join(",");return`${n.op}(${e})`}}function vI(n,e){return n instanceof $t?(i=n,(s=e)instanceof $t&&i.op===s.op&&i.field.isEqual(s.field)&&Us(i.value,s.value)):n instanceof pn?function(i,s){return s instanceof pn&&i.op===s.op&&i.filters.length===s.filters.length&&i.filters.reduce((c,u,g)=>c&&vI(u,s.filters[g]),!0)}(n,e):void Ve();var i,s}function bu(n,e){const t=n.filters.concat(e);return pn.create(t,n.op)}function Pb(n){return n instanceof $t?`${(t=n).field.canonicalString()} ${t.op} ${gu(t.value)}`:n instanceof pn?function(t){return t.op.toString()+" {"+t.getFilters().map(Pb).join(" ,")+"}"}(n):"Filter";var t}class yI extends $t{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class JT extends $t{constructor(e,t){super(e,"in",t),this.keys=II(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eD extends $t{constructor(e,t){super(e,"not-in",t),this.keys=II(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function II(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Me.fromName(i.referenceValue))}class OR extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zc(t)&&lm(t.arrayValue,this.value)}}class tD extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lm(this.value.arrayValue,t)}}class _h extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(lm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lm(this.value.arrayValue,t)}}class nD extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>lm(this.value.arrayValue,i))}}class NR{constructor(e,t=null,i=[],s=[],c=null,u=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=c,this.startAt=u,this.endAt=g,this.ce=null}}function EI(n,e=null,t=[],i=[],s=null,c=null,u=null){return new NR(n,e,t,i,s,c,u)}function vu(n){const e=Re(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Mb(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),Sa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>gu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>gu(i)).join(",")),e.ce=t}return e.ce}function bh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Rb(n.startAt,e.startAt)&&Rb(n.endAt,e.endAt)}function mm(n){return Me.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function kb(n,e){return n.filters.filter(t=>t instanceof $t&&t.field.isEqual(e))}function FR(n,e,t){let i=cm,s=!0;for(const c of kb(n,e)){let u=cm,g=!0;switch(c.op){case"<":case"<=":u=Sb(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,g=!1;break;case"!=":case"not-in":u=cm}bI({value:i,inclusive:s},{value:u,inclusive:g})<0&&(i=u,s=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];bI({value:i,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(i=u,s=t.inclusive);break}return{value:i,inclusive:s}}function iD(n,e,t){let i=Uc,s=!0;for(const c of kb(n,e)){let u=Uc,g=!0;switch(c.op){case">=":case">":u=_I(c.value),g=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,g=!1;break;case"!=":case"not-in":u=Uc}hm({value:i,inclusive:s},{value:u,inclusive:g})>0&&(i=u,s=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];hm({value:i,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(i=u,s=t.inclusive);break}return{value:i,inclusive:s}}class zs{constructor(e,t=null,i=[],s=[],c=null,u="F",g=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=c,this.limitType=u,this.startAt=g,this.endAt=b,this.le=null,this.he=null,this.Pe=null}}function Ob(n,e,t,i,s,c,u,g){return new zs(n,e,t,i,s,c,u,g)}function vh(n){return new zs(n)}function rD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wI(n){return null!==n.collectionGroup}function yh(n){const e=Re(n);if(null===e.le){e.le=[];const t=new Set;for(const c of e.explicitOrderBy)e.le.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let g=new fn(Pn.comparator);return u.filters.forEach(b=>{b.getFlattenedFilters().forEach(w=>{w.isInequality()&&(g=g.add(w.field))})}),g})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.le.push(new gh(c,i))}),t.has(Pn.keyField().canonicalString())||e.le.push(new gh(Pn.keyField(),i))}return e.le}function Tr(n){const e=Re(n);return e.he||(e.he=function oD(n,e){if("F"===n.limitType)return EI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new gh(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new Hc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Hc(n.startAt.position,n.startAt.inclusive):null;return EI(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,yh(n))),e.he}function CI(n,e){const t=n.filters.concat([e]);return new zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Nb(n,e,t){return new zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gm(n,e){return bh(Tr(n),Tr(e))&&n.limitType===e.limitType}function sD(n){return`${vu(Tr(n))}|lt:${n.limitType}`}function Ih(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>Pb(s)).join(", ")}]`),Sa(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>gu(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>gu(s)).join(",")),`Target(${i})`}(Tr(n))}; limitType=${n.limitType})`}function _m(n,e){return e.isFoundDocument()&&function(i,s){const c=s.key.path;return null!==i.collectionGroup?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Me.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,s){for(const c of yh(i))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(n,e)&&function(i,s){for(const c of i.filters)if(!c.matches(s))return!1;return!0}(n,e)&&(s=e,!((i=n).startAt&&!function(u,g,b){const w=KT(u,g,b);return u.inclusive?w<=0:w<0}(i.startAt,yh(i),s)||i.endAt&&!function(u,g,b){const w=KT(u,g,b);return u.inclusive?w>=0:w>0}(i.endAt,yh(i),s)));var i,s}function aD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cD(n){return(e,t)=>{let i=!1;for(const s of yh(n)){const c=LR(s,e,t);if(0!==c)return c;i=i||s.field.isKeyField()}return 0}}function LR(n,e,t){const i=n.field.isKeyField()?Me.comparator(e.key,t.key):function(c,u,g){const b=u.data.field(c),w=g.data.field(c);return null!==b&&null!==w?js(b,w):Ve()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[s,c]of i)if(this.equalsFn(s,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(void 0===s)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return 1===i.length?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(t,i)=>{for(const[s,c]of i)e(s,c)})}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}const lD=new En(Me.comparator);function Dr(){return lD}const Oa=new En(Me.comparator);function Eh(...n){let e=Oa;for(const t of n)e=e.insert(t.key,t);return e}function uD(n){let e=Oa;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Zo(){return Na()}function TI(){return Na()}function Na(){return new ka(n=>n.toString(),(n,e)=>n.isEqual(e))}const DI=new En(Me.comparator),wh=new fn(Me.comparator);function xt(...n){let e=wh;for(const t of n)e=e.add(t);return e}const Ch=new fn(_t);function AI(){return Ch}function bm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function vm(n){return{integerValue:""+n}}function Fb(n,e){return rm(e)?vm(e):bm(n,e)}class ym{constructor(){this._=void 0}}function VR(n,e,t){return n instanceof Fa?function(s,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&Ab(c)&&(c=xb(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}}(t,e):n instanceof Hs?xI(n,e):n instanceof $c?hD(n,e):function(s,c){const u=dD(s,c),g=SI(u)+SI(s.Ie);return jc(u)&&jc(s.Ie)?vm(g):bm(s.serializer,g)}(n,e)}function BR(n,e,t){return n instanceof Hs?xI(n,e):n instanceof $c?hD(n,e):t}function dD(n,e){return n instanceof Th?jc(i=e)||(c=i)&&"doubleValue"in c?e:{integerValue:0}:null;var i,c}class Fa extends ym{}class Hs extends ym{constructor(e){super(),this.elements=e}}function xI(n,e){const t=Lb(e);for(const i of n.elements)t.some(s=>Us(s,i))||t.push(i);return{arrayValue:{values:t}}}class $c extends ym{constructor(e){super(),this.elements=e}}function hD(n,e){let t=Lb(e);for(const i of n.elements)t=t.filter(s=>!Us(s,i));return{arrayValue:{values:t}}}class Th extends ym{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function SI(n){return Qn(n.integerValue||n.doubleValue)}function Lb(n){return zc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dh{constructor(e,t){this.field=e,this.transform=t}}class UR{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function La(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class RI{}function Vb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new xh(n.key,zn.none()):new Yo(n.key,n.data,zn.none());{const t=n.data,i=qn.empty();let s=new fn(Pn.comparator);for(let c of e.fields)if(!s.has(c)){let u=t.field(c);null===u&&c.length>1&&(c=c.popLast(),u=t.field(c)),null===u?i.delete(c):i.set(c,u),s=s.add(c)}return new Va(n.key,i,new Ur(s.toArray()),zn.none())}}function dk(n,e,t){n instanceof Yo?function(s,c,u){const g=s.value.clone(),b=mD(s.fieldTransforms,c,u.transformResults);g.setAll(b),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):n instanceof Va?function(s,c,u){if(!La(s.precondition,c))return void c.convertToUnknownDocument(u.version);const g=mD(s.fieldTransforms,c,u.transformResults),b=c.data;b.setAll(pD(s)),b.setAll(g),c.convertToFoundDocument(u.version,b).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ah(n,e,t,i){return n instanceof Yo?function(c,u,g,b){if(!La(c.precondition,u))return g;const w=c.value.clone(),C=Iu(c.fieldTransforms,b,u);return w.setAll(C),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,i):n instanceof Va?function(c,u,g,b){if(!La(c.precondition,u))return g;const w=Iu(c.fieldTransforms,b,u),C=u.data;return C.setAll(pD(c)),C.setAll(w),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===g?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(n,e,t,i):(g=t,La(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g);var u,g}function fD(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),c=dD(i.transform,s||null);null!=c&&(null===t&&(t=qn.empty()),t.set(i.field,c))}return t||null}function jR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===s||i&&s&&oh(i,s,(c,u)=>function yu(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(i=n.transform)instanceof Hs&&s instanceof Hs||i instanceof $c&&s instanceof $c?oh(i.elements,s.elements,Us):i instanceof Th&&s instanceof Th?Us(i.Ie,s.Ie):i instanceof Fa&&s instanceof Fa);var i,s}(c,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,s}class Yo extends RI{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Va extends RI{constructor(e,t,i,s,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mD(n,e,t){const i=new Map;Ze(n.length===t.length);for(let s=0;s<t.length;s++){const c=n[s],u=c.transform,g=e.data.field(c.field);i.set(c.field,BR(u,g,t[s]))}return i}function Iu(n,e,t){const i=new Map;for(const s of n){const c=s.transform,u=t.data.field(s.field);i.set(s.field,VR(c,u,e))}return i}class xh extends RI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sh extends RI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rh{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(e.key)&&dk(c,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ah(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ah(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=TI();return this.mutations.forEach(s=>{const c=e.get(s.key),u=c.overlayedDocument;let g=this.applyToLocalView(u,c.mutatedFields);g=t.has(s.key)?null:g;const b=Vb(u,g);null!==b&&i.set(s.key,b),u.isValidDocument()||u.convertToNoDocument(Ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xt())}isEqual(e){return this.batchId===e.batchId&&oh(this.mutations,e.mutations,(t,i)=>jR(t,i))&&oh(this.baseMutations,e.baseMutations,(t,i)=>jR(t,i))}}class lr{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ze(e.mutations.length===i.length);let s=DI;const c=e.mutations;for(let u=0;u<c.length;u++)s=s.insert(c[u].key,i[u].version);return new lr(e,t,i,s)}}class Bb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zR{constructor(e,t){this.count=e,this.unchangedNames=t}}var ci,Gt;function MI(n){switch(n){default:return Ve();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function PI(n){if(void 0===n)return nn("GRPC error has no .code"),Z.UNKNOWN;switch(n){case ci.OK:return Z.OK;case ci.CANCELLED:return Z.CANCELLED;case ci.UNKNOWN:return Z.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Z.INTERNAL;case ci.UNAVAILABLE:return Z.UNAVAILABLE;case ci.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ci.NOT_FOUND:return Z.NOT_FOUND;case ci.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ci.ABORTED:return Z.ABORTED;case ci.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ci.DATA_LOSS:return Z.DATA_LOSS;default:return Ve()}}(Gt=ci||(ci={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function _D(){return new TextEncoder}const HR=new Fc([4294967295,4294967295],0);function Mh(n){const e=_D().encode(n),t=new aI;return t.update(e),new Uint8Array(t.digest())}function bD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Fc([t,i],0),new Fc([s,c],0)]}class kI{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Im(`Invalid padding: ${t}`);if(i<0)throw new Im(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Im(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Im(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Fc.fromNumber(this.Te)}de(e,t,i){let s=e.add(t.multiply(Fc.fromNumber(i)));return 1===s.compare(HR)&&(s=new Fc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Mh(e),[i,s]=bD(t);for(let c=0;c<this.hashCount;c++){const u=this.de(i,s,c);if(!this.Ae(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new kI(c,s,t);return i.forEach(g=>u.insert(g)),u}insert(e){if(0===this.Te)return;const t=Mh(e),[i,s]=bD(t);for(let c=0;c<this.hashCount;c++){const u=this.de(i,s,c);this.Re(u)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Im extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gc{constructor(e,t,i,s,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Gc(Ke.min(),s,new En(_t),Dr(),xt())}}class Ph{constructor(e,t,i,s,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ph(i,t,xt(),xt(),xt())}}class Em{constructor(e,t,i,s){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=s}}class OI{constructor(e,t){this.targetId=e,this.fe=t}}class vD{constructor(e,t,i=gi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class kh{constructor(){this.ge=0,this.pe=ID(),this.ye=gi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xt(),t=xt(),i=xt();return this.pe.forEach((s,c)=>{switch(c){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ve()}}),new Ph(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=ID()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ze(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class wm{constructor(e){this.Le=e,this.ke=new Map,this.qe=Dr(),this.Qe=yD(),this.Ke=new En(_t)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,i=e.fe.count,s=this.Ye(t);if(s){const c=s.target;if(mm(c))if(0===i){const u=new Me(c.path);this.We(t,u,zt.newNoDocument(u,Ke.min()))}else Ze(1===i);else{const u=this.Ze(t);if(u!==i){const g=this.Xe(e),b=g?this.et(g,e,u):1;0!==b&&(this.He(t),this.Ke=this.Ke.insert(t,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:c=0}=t;let u,g;try{u=Vs(i).toUint8Array()}catch(b){if(b instanceof WT)return yr("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{g=new kI(u,s,c)}catch(b){return yr(b instanceof Im?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===g.Te?null:g}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let s=0;return i.forEach(c=>{const u=this.Le.nt(),g=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.We(t,c,null),s++)}),s}it(e){const t=new Map;this.ke.forEach((c,u)=>{const g=this.Ye(u);if(g){if(c.current&&mm(g.target)){const b=new Me(g.target.path);null!==this.qe.get(b)||this.st(u,b)||this.We(u,b,zt.newNoDocument(b,e))}c.De&&(t.set(u,c.ve()),c.Fe())}});let i=xt();this.Qe.forEach((c,u)=>{let g=!0;u.forEachWhile(b=>{const w=this.Ye(b);return!w||"TargetPurposeLimboResolution"===w.purpose||(g=!1,!1)}),g&&(i=i.add(c))}),this.qe.forEach((c,u)=>u.setReadTime(e));const s=new Gc(e,t,this.Ke,this.qe,i);return this.qe=Dr(),this.Qe=yD(),this.Ke=new En(_t),s}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,t)?s.Me(t,1):s.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new kh,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new fn(_t),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new kh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function yD(){return new En(Me.comparator)}function ID(){return new En(Me.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wD={and:"AND",or:"OR"};class CD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function NI(n,e){return n.useProto3Json||Sa(e)?e:{value:e}}function Eu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GR(n,e){return Eu(n,e.toTimestamp())}function _i(n){return Ze(!!n),Ke.fromTimestamp(function(t){const i=Bc(t);return new jn(i.seconds,i.nanos)}(n))}function DD(n,e){return(i=n,new Yt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function qR(n){const e=Yt.fromString(n);return Ze(ND(e)),e}function jb(n,e){return DD(n.databaseId,e.path)}function Ko(n,e){const t=qR(e);if(t.get(1)!==n.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(FI(t))}function Oh(n,e){return DD(n.databaseId,e)}function AD(n){const e=qR(n);return 4===e.length?Yt.emptyPath():FI(e)}function Cm(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FI(n){return Ze(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Nh(n,e,t){return{name:jb(n,e),fields:t.value.mapValue.fields}}function xD(n,e,t){const i=Ko(n,e.name),s=_i(e.updateTime),c=e.createTime?_i(e.createTime):Ke.min(),u=new qn({mapValue:{fields:e.fields}}),g=zt.newFoundDocument(i,s,c,u);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Tm(n,e){let t;if(e instanceof Yo)t={update:Nh(n,e.key,e.value)};else if(e instanceof xh)t={delete:jb(n,e.key)};else if(e instanceof Va)t={update:Nh(n,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof Sh))return Ve();t={verify:jb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,u){const g=u.transform;if(g instanceof Fa)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Hs)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof $c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Th)return{fieldPath:u.field.canonicalString(),increment:g.Ie};throw Ve()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:GR(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ve()),t;var c}function SD(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?zn.updateTime(_i(c.updateTime)):void 0!==c.exists?zn.exists(c.exists):zn.none():zn.none(),i=e.updateTransforms?e.updateTransforms.map(s=>function(u,g){let b=null;"setToServerValue"in g?(Ze("REQUEST_TIME"===g.setToServerValue),b=new Fa):"appendMissingElements"in g?b=new Hs(g.appendMissingElements.values||[]):"removeAllFromArray"in g?b=new $c(g.removeAllFromArray.values||[]):"increment"in g?b=new Th(u,g.increment):Ve();const w=Pn.fromServerFormat(g.fieldPath);return new Dh(w,b)}(n,s)):[];var c;if(e.update){const s=Ko(n,e.update.name),c=new qn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ur((e.updateMask.fieldPaths||[]).map(C=>Pn.fromServerFormat(C)));return new Va(s,c,u,t,i)}return new Yo(s,c,t,i)}if(e.delete){const s=Ko(n,e.delete);return new xh(s,t)}if(e.verify){const s=Ko(n,e.verify);return new Sh(s,t)}return Ve()}function LI(n,e){return{documents:[Oh(n,e.path)]}}function VI(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Oh(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Oh(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(b){if(0!==b.length)return OD(pn.create(b,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const c=function(b){if(0!==b.length)return b.map(w=>{return{field:qc((A=w).field),direction:PD(A.dir)};var A})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=NI(n,e.limit);return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),t;var b}function RD(n){let e=AD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ze(1===i);const C=t.from[0];C.allDescendants?s=C.collectionId:e=e.child(C.collectionId)}let c=[];t.where&&(c=function(A){const M=MD(A);return M instanceof pn&&pm(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(M=>{return new gh(wu((K=M).field),function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction));var K}));let g=null;t.limit&&(g=function(A){let M;return M="object"==typeof A?A.value:A,Sa(M)?null:M}(t.limit));let b=null;var A;t.startAt&&(b=new Hc((A=t.startAt).values||[],!!A.before));let w=null;return t.endAt&&(w=function(A){return new Hc(A.values||[],!A.before)}(t.endAt)),Ob(e,s,u,c,g,"F",b,w)}function MD(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=wu(t.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=wu(t.unaryFilter.field);return $t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=wu(t.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wu(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(n):void 0!==n.fieldFilter?$t.create(wu((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return pn.create(t.compositeFilter.filters.map(i=>MD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(t.compositeFilter.op))}(n):Ve();var t}function PD(n){return $R[n]}function KR(n){return ED[n]}function kD(n){return wD[n]}function qc(n){return{fieldPath:n.canonicalString()}}function wu(n){return Pn.fromServerFormat(n.fieldPath)}function OD(n){return n instanceof $t?function(t){if("=="===t.op){if(um(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NAN"}};if(ph(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(um(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NOT_NAN"}};if(ph(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(t.field),op:KR(t.op),value:t.value}}}(n):n instanceof pn?function(t){const i=t.getFilters().map(s=>OD(s));return 1===i.length?i[0]:{compositeFilter:{op:kD(t.op),filters:i}}}(n):Ve()}function BI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ND(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class $s{constructor(e,t,i,s,c=Ke.min(),u=Ke.min(),g=gi.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g,this.expectedCount=b}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UI{constructor(e){this.ut=e}}function FD(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:jb(c=n.ut,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Eu(c,u.version.toTimestamp()),createTime:Eu(c,u.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ba(e.version)};else{if(!e.isUnknownDocument())return Ve();i.unknownDocument={path:t.path.toArray(),version:Ba(e.version)}}var c,u;return i}function zb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ba(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cu(n){const e=new jn(n.seconds,n.nanoseconds);return Ke.fromTimestamp(e)}function Wc(n,e){const t=(e.baseMutations||[]).map(c=>SD(n.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const i=e.mutations.map(c=>SD(n.ut,c)),s=jn.fromMillis(e.localWriteTimeMs);return new Rh(e.batchId,s,t,i)}function Am(n){const e=Cu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cu(n.lastLimboFreeSnapshotVersion):Ke.min();let i;return i=void 0!==n.query.documents?(Ze(1===(c=n.query).documents.length),Tr(vh(AD(c.documents[0])))):function(c){return Tr(RD(c))}(n.query),new $s(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,gi.fromBase64String(n.resumeToken));var c}function LD(n,e){const t=Ba(e.snapshotVersion),i=Ba(e.lastLimboFreeSnapshotVersion);let s;s=mm(e.target)?LI(n.ut,e.target):VI(n.ut,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function jI(n){const e=RD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Nb(e,e.limit,"L"):e}function zI(n,e){return new Bb(e.largestBatchId,SD(n.ut,e.overlayMutation))}function VD(n,e){const t=e.path.lastSegment();return[n,Cr(e.path.popLast()),t]}function BD(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ba(i.readTime),documentKey:Cr(i.documentKey.path),largestBatchId:i.largestBatchId}}class XR{getBundleMetadata(e,t){return UD(e).get(t).next(i=>{if(i)return{id:(c=i).bundleId,createTime:Cu(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return UD(e).put({bundleId:(s=t).id,createTime:Ba(_i(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return HI(e).get(t).next(i=>{if(i)return{name:(c=i).name,query:jI(c.bundledQuery),readTime:Cu(c.readTime)};var c})}saveNamedQuery(e,t){return HI(e).put({name:(s=t).name,readTime:Ba(_i(s.readTime)),bundledQuery:s.bundledQuery});var s}}function UD(n){return Ti(n,"bundles")}function HI(n){return Ti(n,"namedQueries")}class xm{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new xm(e,t.uid||"")}getOverlay(e,t){return Sm(e).get(VD(this.userId,t)).next(i=>i?zI(this.serializer,i):null)}getOverlays(e,t){const i=Zo();return q.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&i.set(s,c)})).next(()=>i)}saveOverlays(e,t,i){const s=[];return i.forEach((c,u)=>{const g=new Bb(t,u);s.push(this.lt(e,g))}),q.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach(u=>s.add(Cr(u.getCollectionPath())));const c=[];return s.forEach(u=>{const g=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);c.push(Sm(e).H("collectionPathOverlayIndex",g))}),q.waitFor(c)}getOverlaysForCollection(e,t,i){const s=Zo(),c=Cr(t),u=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Sm(e).W("collectionPathOverlayIndex",u).next(g=>{for(const b of g){const w=zI(this.serializer,b);s.set(w.getKey(),w)}return s})}getOverlaysForCollectionGroup(e,t,i,s){const c=Zo();let u;const g=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sm(e).Y({index:"collectionGroupOverlayIndex",range:g},(b,w,C)=>{const A=zI(this.serializer,w);c.size()<s||A.largestBatchId===u?(c.set(A.getKey(),A),u=A.largestBatchId):C.done()}).next(()=>c)}lt(e,t){return Sm(e).put(function(s,c,u){const[g,b,w]=VD(c,u.mutation.key);return{userId:c,collectionPath:b,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Tm(s.ut,u.mutation)}}(this.serializer,this.userId,t))}}function Sm(n){return Ti(n,"documentOverlays")}class Tu{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Qn(e.integerValue));else if("doubleValue"in e){const i=Qn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Vc(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Vs(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?gI(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ve()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const s of Object.keys(i))this.At(s,t),this.Pt(i[s],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const s of i)this.Pt(s,t)}ft(e,t){this.Tt(t,37),Me.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function jD(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function zD(n){const e=64-function(i){let s=0;for(let c=0;c<8;++c){const u=jD(255&i[c]);if(s+=u,8!==u)break}return s}(n);return Math.ceil(e/8)}Tu.St=new Tu;class JR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const s=t.codePointAt(0);this.Dt(240|s>>>18),this.Dt(128|63&s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const s=t.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Nt(e){const t=this.Bt(e),i=zD(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}kt(e){const t=this.Bt(e),i=zD(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(c){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,c,!1),new Uint8Array(u.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class $I{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class HD{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Du{constructor(){this.Wt=new JR,this.Gt=new $I(this.Wt),this.zt=new HD(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Zc{constructor(e,t,i,s){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=s}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Zc(this.indexId,this.documentKey,this.arrayValue,i)}}function Yc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=GI(n.arrayValue,e.arrayValue),0!==t?t:(t=GI(n.directionalValue,e.directionalValue),0!==t?t:Me.comparator(n.documentKey,e.documentKey)))}function GI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class qI{constructor(e){this.Jt=new fn((t,i)=>Pn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Ze(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=uI(e);if(void 0!==t&&!this.tn(t))return!1;const i=du(e);let s=new Set,c=0,u=0;for(;c<i.length&&this.tn(i[c]);++c)s=s.add(i[c].fieldPath.canonicalString());if(c===i.length)return!0;if(this.Jt.size>0){const g=this.Jt.getIterator().getNext();if(!s.has(g.field.canonicalString())){const b=i[c];if(!this.nn(g,b)||!this.rn(this.Yt[u++],b))return!1}++c}for(;c<i.length;++c)if(u>=this.Yt.length||!this.rn(this.Yt[u++],i[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new fn(Pn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new hu(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new hu(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new hu(i.field,"asc"===i.dir?0:1)));return new tm(tm.UNKNOWN_ID,this.collectionId,t,sh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function WI(n){var e,t;if(Ze(n instanceof $t||n instanceof pn),n instanceof $t){if(n instanceof tD){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>$t.create(n.field,"==",c)))||[];return pn.create(s,"or")}return n}const i=n.filters.map(s=>WI(s));return pn.create(i,n.op)}function $D(n){if(0===n.getFilters().length)return[];const e=$b(WI(n));return Ze(YI(e)),ZI(e)||Hb(e)?[e]:e.getFilters()}function ZI(n){return n instanceof $t}function Hb(n){return n instanceof pn&&pm(n)}function YI(n){return ZI(n)||Hb(n)||function(t){if(t instanceof pn&&fm(t)){for(const i of t.getFilters())if(!ZI(i)&&!Hb(i))return!1;return!0}return!1}(n)}function $b(n){if(Ze(n instanceof $t||n instanceof pn),n instanceof $t)return n;if(1===n.filters.length)return $b(n.filters[0]);const e=n.filters.map(i=>$b(i));let t=pn.create(e,n.op);return t=Mm(t),YI(t)?t:(Ze(t instanceof pn),Ze(Pa(t)),Ze(t.filters.length>1),t.filters.reduce((i,s)=>Rm(i,s)))}function Rm(n,e){let t;return Ze(n instanceof $t||n instanceof pn),Ze(e instanceof $t||e instanceof pn),t=n instanceof $t?e instanceof $t?pn.create([n,e],"and"):KI(n,e):e instanceof $t?KI(e,n):function(s,c){if(Ze(s.filters.length>0&&c.filters.length>0),Pa(s)&&Pa(c))return bu(s,c.getFilters());const u=fm(s)?s:c,g=fm(s)?c:s,b=u.filters.map(w=>Rm(w,g));return pn.create(b,"or")}(n,e),Mm(t)}function KI(n,e){if(Pa(e))return bu(e,n.getFilters());{const t=e.filters.map(i=>Rm(n,i));return pn.create(t,"or")}}function Mm(n){if(Ze(n instanceof $t||n instanceof pn),n instanceof $t)return n;const e=n.getFilters();if(1===e.length)return Mm(e[0]);if(_u(n))return n;const t=e.map(s=>Mm(s)),i=[];return t.forEach(s=>{s instanceof $t?i.push(s):s instanceof pn&&(s.op===n.op?i.push(...s.filters):i.push(s))}),1===i.length?i[0]:pn.create(i,n.op)}class GD{constructor(){this.on=new Gb}addToCollectionParentIndex(e,t){return this.on.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(Ir.min())}updateCollectionGroup(e,t,i){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class Gb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new fn(Yt.comparator),c=!s.has(i);return this.index[t]=s.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new fn(Yt.comparator)).toArray()}}const Pm=new Uint8Array(0);class qD{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Gb,this.an=new ka(i=>vu(i),(i,s)=>bh(i,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const c={collectionId:i,parent:Cr(s)};return QI(e).put(c)}return q.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[MT(t),""],!1,!0);return QI(e).W(s).next(c=>{for(const u of c){if(u.collectionId!==t)break;i.push(Ro(u.parent))}return i})}addFieldIndex(e,t){const i=km(e),s={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var g;delete s.indexId;const c=i.add(s);if(t.indexState){const u=xu(e);return c.next(g=>{u.put(BD(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const i=km(e),s=xu(e),c=Au(e);return i.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=km(e),i=Au(e),s=xu(e);return t.H().next(()=>i.H()).next(()=>s.H())}createTargetIndexes(e,t){return q.forEach(this.un(t),i=>this.getIndexType(e,i).next(s=>{if(0===s||1===s){const c=new qI(i).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const i=Au(e);let s=!0;const c=new Map;return q.forEach(this.un(t),u=>this.cn(e,u).next(g=>{s&&(s=!!g),c.set(u,g)})).next(()=>{if(s){let u=xt();const g=[];return q.forEach(c,(b,w)=>{var Ae;fe("IndexedDbIndexManager",`Using index ${Ae=b,`id=${Ae.indexId}|cg=${Ae.collectionGroup}|f=${Ae.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${vu(t)}`);const C=function(Ae,Xe){const bt=uI(Xe);if(void 0===bt)return null;for(const Xt of kb(Ae,bt.fieldPath))switch(Xt.op){case"array-contains-any":return Xt.value.arrayValue.values||[];case"array-contains":return[Xt.value]}return null}(w,b),A=function(Ae,Xe){const bt=new Map;for(const Xt of du(Xe))for(const Di of kb(Ae,Xt.fieldPath))switch(Di.op){case"==":case"in":bt.set(Xt.fieldPath.canonicalString(),Di.value);break;case"not-in":case"!=":return bt.set(Xt.fieldPath.canonicalString(),Di.value),Array.from(bt.values())}return null}(w,b),M=function(Ae,Xe){const bt=[];let Xt=!0;for(const Di of du(Xe)){const Ys=0===Di.kind?FR(Ae,Di.fieldPath,Ae.startAt):iD(Ae,Di.fieldPath,Ae.startAt);bt.push(Ys.value),Xt&&(Xt=Ys.inclusive)}return new Hc(bt,Xt)}(w,b),L=function(Ae,Xe){const bt=[];let Xt=!0;for(const Di of du(Xe)){const Ys=0===Di.kind?iD(Ae,Di.fieldPath,Ae.endAt):FR(Ae,Di.fieldPath,Ae.endAt);bt.push(Ys.value),Xt&&(Xt=Ys.inclusive)}return new Hc(bt,Xt)}(w,b),K=this.ln(b,w,M),ee=this.ln(b,w,L),se=this.hn(b,w,A),Ee=this.Pn(b.indexId,C,K,M.inclusive,ee,L.inclusive,se);return q.forEach(Ee,Be=>i.j(Be,t.limit).next(Ae=>{Ae.forEach(Xe=>{const bt=Me.fromSegments(Xe.documentKey);u.has(bt)||(u=u.add(bt),g.push(bt))})}))}).next(()=>g)}return q.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:$D(pn.create(e.filters,"and")).map(i=>EI(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,s,c,u,g){const b=(null!=t?t.length:1)*Math.max(i.length,c.length),w=b/(null!=t?t.length:1),C=[];for(let A=0;A<b;++A){const M=t?this.In(t[A/w]):Pm,L=this.Tn(e,M,i[A%w],s),K=this.En(e,M,c[A%w],u),ee=g.map(se=>this.Tn(e,M,se,!0));C.push(...this.createRange(L,K,ee))}return C}Tn(e,t,i,s){const c=new Zc(e,Me.empty(),t,i);return s?c:c.Ht()}En(e,t,i,s){const c=new Zc(e,Me.empty(),t,i);return s?c.Ht():c}cn(e,t){const i=new qI(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(c=>{let u=null;for(const g of c)i.en(g)&&(!u||g.fields.length>u.fields.length)&&(u=g);return u})}getIndexType(e,t){let i=2;const s=this.un(t);return q.forEach(s,c=>this.cn(e,c).next(u=>{u?0!==i&&u.fields.length<function(b){let w=new fn(Pn.comparator),C=!1;for(const A of b.filters)for(const M of A.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?C=!0:w=w.add(M.field));for(const A of b.orderBy)A.field.isKeyField()||(w=w.add(A.field));return w.size+(C?1:0)}(c)&&(i=1):i=0})).next(()=>null!==t.limit&&s.length>1&&2===i?1:i)}dn(e,t){const i=new Du;for(const s of du(e)){const c=t.data.field(s.fieldPath);if(null==c)return null;const u=i.jt(s.kind);Tu.St.ht(c,u)}return i.Ut()}In(e){const t=new Du;return Tu.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new Du;return Tu.St.ht(Wo(this.databaseId,t),i.jt(function(c){const u=du(c);return 0===u.length?0:u[u.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let s=[];s.push(new Du);let c=0;for(const u of du(e)){const g=i[c++];for(const b of s)if(this.Rn(t,u.fieldPath)&&zc(g))s=this.Vn(s,u,g);else{const w=b.jt(u.kind);Tu.St.ht(g,w)}}return this.mn(s)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const s=[...e],c=[];for(const u of i.arrayValue.values||[])for(const g of s){const b=new Du;b.seed(g.Ut()),Tu.St.ht(u,b.jt(t.kind)),c.push(b)}return c}Rn(e,t){return!!e.filters.find(i=>i instanceof $t&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=km(e),s=xu(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(c=>{const u=[];return q.forEach(c,g=>s.get([g.indexId,this.uid]).next(b=>{u.push(function(C,A){const M=A?new sh(A.sequenceNumber,new Ir(Cu(A.readTime),new Me(Ro(A.documentKey)),A.largestBatchId)):sh.empty(),L=C.fields.map(([K,ee])=>new hu(Pn.fromServerFormat(K),ee));return new tm(C.indexId,C.collectionGroup,L,M)}(g,b))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,s)=>{const c=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==c?c:_t(i.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const s=km(e),c=xu(e);return this.fn(e).next(u=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>q.forEach(g,b=>c.put(BD(b.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return q.forEach(t,(s,c)=>{const u=i.get(s.collectionGroup);return(u?q.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(i.set(s.collectionGroup,g),q.forEach(g,b=>this.gn(e,s,b).next(w=>{const C=this.pn(c,b);return w.isEqual(C)?q.resolve():this.yn(e,c,b,w,C)}))))})}wn(e,t,i,s){return Au(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,s){return Au(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const s=Au(e);let c=new fn(Yc);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(u,g)=>{c=c.add(new Zc(i.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}pn(e,t){let i=new fn(Yc);const s=this.dn(t,e);if(null==s)return i;const c=uI(t);if(null!=c){const u=e.data.field(c.fieldPath);if(zc(u))for(const g of u.arrayValue.values||[])i=i.add(new Zc(t.indexId,e.key,this.In(g),s))}else i=i.add(new Zc(t.indexId,e.key,Pm,s));return i}yn(e,t,i,s,c){fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(b,w,C,A,M){const L=b.getIterator(),K=w.getIterator();let ee=dh(L),se=dh(K);for(;ee||se;){let Ee=!1,Be=!1;if(ee&&se){const Ae=C(ee,se);Ae<0?Be=!0:Ae>0&&(Ee=!0)}else null!=ee?Be=!0:Ee=!0;Ee?(A(se),se=dh(K)):Be?(M(ee),ee=dh(L)):(ee=dh(L),se=dh(K))}}(s,c,Yc,g=>{u.push(this.wn(e,t,i,g))},g=>{u.push(this.Sn(e,t,i,g))}),q.waitFor(u)}fn(e){let t=1;return xu(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,c)=>{c.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,g)=>Yc(u,g)).filter((u,g,b)=>!g||0!==Yc(u,b[g-1]));const s=[];s.push(e);for(const u of i){const g=Yc(u,e),b=Yc(u,t);if(0===g)s[0]=e.Ht();else if(g>0&&b<0)s.push(u),s.push(u.Ht());else if(b>0)break}s.push(t);const c=[];for(let u=0;u<s.length;u+=2){if(this.bn(s[u],s[u+1]))return[];c.push(IDBKeyRange.bound([s[u].indexId,this.uid,s[u].arrayValue,s[u].directionalValue,Pm,[]],[s[u+1].indexId,this.uid,s[u+1].arrayValue,s[u+1].directionalValue,Pm,[]]))}return c}bn(e,t){return Yc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WD)}getMinOffset(e,t){return q.mapArray(this.un(t),i=>this.cn(e,i).next(s=>s||Ve())).next(WD)}}function QI(n){return Ti(n,"collectionParents")}function Au(n){return Ti(n,"indexEntries")}function km(n){return Ti(n,"indexConfiguration")}function xu(n){return Ti(n,"indexState")}function WD(n){Ze(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;fu(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}const ZD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ur{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YD(n,e,t){const i=n.store("mutations"),s=n.store("documentMutations"),c=[],u=IDBKeyRange.only(t.batchId);let g=0;const b=i.Y({range:u},(C,A,M)=>(g++,M.delete()));c.push(b.next(()=>{Ze(1===g)}));const w=[];for(const C of t.mutations){const A=VT(e,C.key.path,t.batchId);c.push(s.delete(A)),w.push(C.key)}return q.waitFor(c).next(()=>w)}function qb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ve();e=n.noDocument}return JSON.stringify(e).length}ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);class Wb{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.Dn={}}static ct(e,t,i,s){Ze(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Wb(c,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).Y({index:"userMutationsIndex",range:i},(s,c,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,s){const c=Fh(e),u=Kc(e);return u.add({}).next(g=>{Ze("number"==typeof g);const b=new Rh(g,t,i,s),w=function(L,K,ee){const se=ee.baseMutations.map(Be=>Tm(L.ut,Be)),Ee=ee.mutations.map(Be=>Tm(L.ut,Be));return{userId:K,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:se,mutations:Ee}}(this.serializer,this.userId,b),C=[];let A=new fn((M,L)=>_t(M.canonicalString(),L.canonicalString()));for(const M of s){const L=VT(this.userId,M.key.path,g);A=A.add(M.key.path.popLast()),C.push(u.put(w)),C.push(c.put(L,AR))}return A.forEach(M=>{C.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.Dn[g]=b.keys()}),q.waitFor(C).next(()=>b)})}lookupMutationBatch(e,t){return Kc(e).get(t).next(i=>i?(Ze(i.userId===this.userId),Wc(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?q.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const s=i.keys();return this.Dn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return Kc(e).Y({index:"userMutationsIndex",range:s},(u,g,b)=>{g.userId===this.userId&&(Ze(g.batchId>=i),c=Wc(this.serializer,g)),b.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Kc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(s,c,u)=>{i=c.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).W("userMutationsIndex",t).next(i=>i.map(s=>Wc(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=om(this.userId,t.path),s=IDBKeyRange.lowerBound(i),c=[];return Fh(e).Y({range:s},(u,g,b)=>{const[w,C,A]=u,M=Ro(C);if(w===this.userId&&t.path.isEqual(M))return Kc(e).get(A).next(L=>{if(!L)throw Ve();Ze(L.userId===this.userId),c.push(Wc(this.serializer,L))});b.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fn(_t);const s=[];return t.forEach(c=>{const u=om(this.userId,c.path),g=IDBKeyRange.lowerBound(u),b=Fh(e).Y({range:g},(w,C,A)=>{const[M,L,K]=w,ee=Ro(L);M===this.userId&&c.path.isEqual(ee)?i=i.add(K):A.done()});s.push(b)}),q.waitFor(s).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,c=om(this.userId,i),u=IDBKeyRange.lowerBound(c);let g=new fn(_t);return Fh(e).Y({range:u},(b,w,C)=>{const[A,M,L]=b,K=Ro(M);A===this.userId&&i.isPrefixOf(K)?K.length===s&&(g=g.add(L)):C.done()}).next(()=>this.vn(e,g))}vn(e,t){const i=[],s=[];return t.forEach(c=>{s.push(Kc(e).get(c).next(u=>{if(null===u)throw Ve();Ze(u.userId===this.userId),i.push(Wc(this.serializer,u))}))}),q.waitFor(s).next(()=>i)}removeMutationBatch(e,t){return YD(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),q.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return q.resolve();const i=IDBKeyRange.lowerBound([this.userId]),s=[];return Fh(e).Y({range:i},(c,u,g)=>{if(c[0]===this.userId){const b=Ro(c[1]);s.push(b)}else g.done()}).next(()=>{Ze(0===s.length)})})}containsKey(e,t){return KD(e,this.userId,t)}Mn(e){return XI(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KD(n,e,t){const i=om(e,t.path),s=i[1],c=IDBKeyRange.lowerBound(i);let u=!1;return Fh(n).Y({range:c,J:!0},(g,b,w)=>{const[C,A,M]=g;C===e&&A===s&&(u=!0),w.done()}).next(()=>u)}function Kc(n){return Ti(n,"mutations")}function Fh(n){return Ti(n,"documentMutations")}function XI(n){return Ti(n,"mutationQueues")}class Qc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Qc(0)}static Nn(){return new Qc(-1)}}class QD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Qc(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Ke.fromTimestamp(new jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Ln(e,s)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Su(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Ze(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let s=0;const c=[];return Su(e).Y((u,g)=>{const b=Am(g);b.sequenceNumber<=t&&null===i.get(b.targetId)&&(s++,c.push(this.removeTargetData(e,b)))}).next(()=>q.waitFor(c)).next(()=>s)}forEachTarget(e,t){return Su(e).Y((i,s)=>{const c=Am(s);t(c)})}Bn(e){return JI(e).get("targetGlobalKey").next(t=>(Ze(null!==t),t))}Ln(e,t){return JI(e).put("targetGlobalKey",t)}kn(e,t){return Su(e).put(LD(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=vu(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return Su(e).Y({range:s,index:"queryTargetsIndex"},(u,g,b)=>{const w=Am(g);bh(t,w.target)&&(c=w,b.done())}).next(()=>c)}addMatchingKeys(e,t,i){const s=[],c=Ua(e);return t.forEach(u=>{const g=Cr(u.path);s.push(c.put({targetId:i,path:g})),s.push(this.referenceDelegate.addReference(e,i,u))}),q.waitFor(s)}removeMatchingKeys(e,t,i){const s=Ua(e);return q.forEach(t,c=>{const u=Cr(c.path);return q.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=Ua(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ua(e);let c=xt();return s.Y({range:i,J:!0},(u,g,b)=>{const w=Ro(u[1]),C=new Me(w);c=c.add(C)}).next(()=>c)}containsKey(e,t){const i=Cr(t.path),s=IDBKeyRange.bound([i],[MT(i)],!1,!0);let c=0;return Ua(e).Y({index:"documentTargetsIndex",J:!0,range:s},([u,g],b,w)=>{0!==u&&(c++,w.done())}).next(()=>c>0)}_t(e,t){return Su(e).get(t).next(i=>i?Am(i):null)}}function Su(n){return Ti(n,"targets")}function JI(n){return Ti(n,"targetGlobal")}function Ua(n){return Ti(n,"targetDocuments")}function eE([n,e],[t,i]){const s=_t(n,t);return 0===s?_t(e,i):s}class XD{constructor(e){this.Qn=e,this.buffer=new fn(eE),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();eE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tE{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ue.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){xa(i)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Aa(i)}yield t.Gn(3e5)}))}}class JD{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return q.resolve(wr._e);const i=new XD(t);return this.zn.forEachTarget(e,s=>i.Un(s.sequenceNumber)).next(()=>this.zn.Hn(e,s=>i.Un(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(ZD)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZD):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,s,c,u,g,b,w;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,u=Date.now(),this.nthSequenceNumber(e,s))).next(A=>(i=A,g=Date.now(),this.removeTargets(e,i,t))).next(A=>(c=A,b=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(w=Date.now(),uu()<=Os.in.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${s} in `+(g-u)+`ms\n\tRemoved ${c} targets in `+(b-g)+`ms\n\tRemoved ${A} documents in `+(w-b)+`ms\nTotal Duration: ${w-C}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:A})))}}class eM{constructor(e,t){this.db=e,this.garbageCollector=function nE(n,e){return new JD(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,s)=>t(s))}addReference(e,t,i){return Zb(e,i)}removeReference(e,t,i){return Zb(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Zb(e,t)}Xn(e,t){return function(s,c){let u=!1;return XI(s).Z(g=>KD(s,g,c).next(b=>(b&&(u=!0),q.resolve(!b)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let c=0;return this.Zn(e,(u,g)=>{if(g<=t){const b=this.Xn(e,u).next(w=>{if(!w)return c++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Ke.min()),Ua(e).delete([0,Cr(u.path)])))});s.push(b)}}).next(()=>q.waitFor(s)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Zb(e,t)}Zn(e,t){const i=Ua(e);let s,c=wr._e;return i.Y({index:"documentTargetsIndex"},([u,g],{path:b,sequenceNumber:w})=>{0===u?(c!==wr._e&&t(new Me(Ro(s)),c),c=w,s=b):c=wr._e}).next(()=>{c!==wr._e&&t(new Me(Ro(s)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zb(n,e){return Ua(n).put((s=n.currentSequenceNumber,{targetId:0,path:Cr(e.path),sequenceNumber:s}));var s}class Yb{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kb{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Xc(e).put(i)}removeEntry(e,t,i){return Xc(e).delete(function(c,u){const g=c.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],zb(u),g[g.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=zt.newInvalidDocument(t);return Xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(s,c)=>{i=this.tr(t,c)}).next(()=>i)}nr(e,t){let i={size:0,document:zt.newInvalidDocument(t)};return Xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(s,c)=>{i={document:this.tr(t,c),size:qb(c)}}).next(()=>i)}getEntries(e,t){let i=Dr();return this.rr(e,t,(s,c)=>{const u=this.tr(s,c);i=i.insert(s,u)}).next(()=>i)}ir(e,t){let i=Dr(),s=new En(Me.comparator);return this.rr(e,t,(c,u)=>{const g=this.tr(c,u);i=i.insert(c,g),s=s.insert(c,qb(u))}).next(()=>({documents:i,sr:s}))}rr(e,t,i){if(t.isEmpty())return q.resolve();let s=new fn(sE);t.forEach(b=>s=s.add(b));const c=IDBKeyRange.bound(Lh(s.first()),Lh(s.last())),u=s.getIterator();let g=u.getNext();return Xc(e).Y({index:"documentKeyIndex",range:c},(b,w,C)=>{const A=Me.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&sE(g,A)<0;)i(g,null),g=u.getNext();g&&g.isEqual(A)&&(i(g,w),g=u.hasNext()?u.getNext():null),g?C.U(Lh(g)):C.done()}).next(()=>{for(;g;)i(g,null),g=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,s,c){const u=t.path,g=[u.popLast().toArray(),u.lastSegment(),zb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],b=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xc(e).W(IDBKeyRange.bound(g,b,!0)).next(w=>{c?.incrementDocumentReadCount(w.length);let C=Dr();for(const A of w){const M=this.tr(Me.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);M.isFoundDocument()&&(_m(t,M)||s.has(M.key))&&(C=C.insert(M.key,M))}return C})}getAllFromCollectionGroup(e,t,i,s){let c=Dr();const u=oE(t,i),g=oE(t,Ir.max());return Xc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,g,!0)},(b,w,C)=>{const A=this.tr(Me.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(A.key,A),c.size===s&&C.done()}).next(()=>c)}newChangeBuffer(e){return new iE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rE(e).get("remoteDocumentGlobalKey").next(t=>(Ze(!!t),t))}er(e,t){return rE(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function QR(n,e){let t;if(e.document)t=xD(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Me.fromSegments(e.noDocument.path),s=Cu(e.noDocument.readTime);t=zt.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ve();{const i=Me.fromSegments(e.unknownDocument.path),s=Cu(e.unknownDocument.version);t=zt.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime(function(s){const c=new jn(s[0],s[1]);return Ke.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Ke.min()))return i}return zt.newInvalidDocument(e)}}function Qb(n){return new Kb(n)}class iE extends Yb{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ka(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(e){const t=[];let i=0,s=new fn((c,u)=>_t(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const g=this.ar.get(c);if(t.push(this._r.removeEntry(e,c,g.readTime)),u.isValidDocument()){const b=FD(this._r.serializer,u);s=s.add(c.path.popLast());const w=qb(b);i+=w-g.size,t.push(this._r.addEntry(e,c,b))}else if(i-=g.size,this.trackRemovals){const b=FD(this._r.serializer,u.convertToNoDocument(Ke.min()));t.push(this._r.addEntry(e,c,b))}}),s.forEach(c=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),t.push(this._r.updateMetadata(e,i)),q.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:s})=>(s.forEach((c,u)=>{this.ar.set(c,{size:u,readTime:i.get(c).readTime})}),i))}}function rE(n){return Ti(n,"remoteDocumentGlobal")}function Xc(n){return Ti(n,"remoteDocumentsV14")}function Lh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oE(n,e){const t=e.documentKey.path.toArray();return[n,zb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sE(n,e){const t=n.path.toArray(),i=e.path.toArray();let s=0;for(let c=0;c<t.length-2&&c<i.length-2;++c)if(s=_t(t[c],i[c]),s)return s;return s=_t(t.length,i.length),s||(s=_t(t[t.length-2],i[i.length-2]),s||_t(t[t.length-1],i[i.length-1]))}class eA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tA{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==i&&Ah(i.mutation,s,Ur.empty(),jn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,xt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=xt()){const s=Zo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(c=>{let u=Eh();return c.forEach((g,b)=>{u=u.insert(g,b.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Zo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,xt()))}populateOverlays(e,t,i){const s=[];return i.forEach(c=>{t.has(c)||s.push(c)}),this.documentOverlayCache.getOverlays(e,s).next(c=>{c.forEach((u,g)=>{t.set(u,g)})})}computeViews(e,t,i,s){let c=Dr();const u=Na(),g=Na();return t.forEach((b,w)=>{const C=i.get(w.key);s.has(w.key)&&(void 0===C||C.mutation instanceof Va)?c=c.insert(w.key,w):void 0!==C?(u.set(w.key,C.mutation.getFieldMask()),Ah(C.mutation,w,C.mutation.getFieldMask(),jn.now())):u.set(w.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,c).next(b=>(b.forEach((w,C)=>u.set(w,C)),t.forEach((w,C)=>{var A;return g.set(w,new eA(C,null!==(A=u.get(w))&&void 0!==A?A:null))}),g))}recalculateAndSaveOverlays(e,t){const i=Na();let s=new En((u,g)=>u-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const g of u)g.keys().forEach(b=>{const w=t.get(b);if(null===w)return;let C=i.get(b)||Ur.empty();C=g.applyToLocalView(w,C),i.set(b,C);const A=(s.get(g.batchId)||xt()).add(b);s=s.insert(g.batchId,A)})}).next(()=>{const u=[],g=s.getReverseIterator();for(;g.hasNext();){const b=g.getNext(),w=b.key,C=b.value,A=TI();C.forEach(M=>{if(!c.has(M)){const L=Vb(t.get(M),i.get(M));null!==L&&A.set(M,L),c=c.add(M)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,A))}return q.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return Me.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s);var u}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(c=>{const u=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-c.size):q.resolve(Zo());let g=-1,b=c;return u.next(w=>q.forEach(w,(C,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(C)?q.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{b=b.insert(C,M)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,b,w,xt())).next(C=>({batchId:g,changes:uD(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(i=>{let s=Eh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const c=t.collectionGroup;let u=Eh();return this.indexManager.getCollectionParents(e,c).next(g=>q.forEach(g,b=>{const w=(A=t,M=b.child(c),new zs(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,M;return this.getDocumentsMatchingCollectionQuery(e,w,i,s).next(C=>{C.forEach((A,M)=>{u=u.insert(A,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,s))).next(u=>{c.forEach((b,w)=>{const C=w.getKey();null===u.get(C)&&(u=u.insert(C,zt.newInvalidDocument(C)))});let g=Eh();return u.forEach((b,w)=>{const C=c.get(b);void 0!==C&&Ah(C.mutation,w,Ur.empty(),jn.now()),_m(t,w)&&(g=g.insert(b,w))}),g})}}class aE{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return q.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(s=t).id,version:s.version,createTime:_i(s.createTime)}),q.resolve();var s}getNamedQuery(e,t){return q.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(s=t).name,query:jI(s.bundledQuery),readTime:_i(s.readTime)}),q.resolve();var s}}class cE{constructor(){this.overlays=new En(Me.comparator),this.lr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Zo();return q.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&i.set(s,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,c)=>{this.lt(e,t,c)}),q.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.lr.get(i);return void 0!==s&&(s.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(i)),q.resolve()}getOverlaysForCollection(e,t,i){const s=Zo(),c=t.length+1,u=new Me(t.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const b=g.getNext().value,w=b.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&b.largestBatchId>i&&s.set(b.getKey(),b)}return q.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let c=new En((w,C)=>w-C);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let C=c.get(w.largestBatchId);null===C&&(C=Zo(),c=c.insert(w.largestBatchId,C)),C.set(w.getKey(),w)}}const g=Zo(),b=c.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((w,C)=>g.set(w,C)),!(g.size()>=s)););return q.resolve(g)}lt(e,t,i){const s=this.overlays.get(i.key);if(null!==s){const u=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Bb(t,i));let c=this.lr.get(t);void 0===c&&(c=xt(),this.lr.set(t,c)),this.lr.set(t,c.add(i.key))}}class Xb{constructor(){this.hr=new fn(bi.Pr),this.Ir=new fn(bi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new bi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new bi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new Me(new Yt([])),i=new bi(t,e),s=new bi(t,e+1),c=[];return this.Ir.forEachInRange([i,s],u=>{this.dr(u),c.push(u.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Me(new Yt([])),i=new bi(t,e),s=new bi(t,e+1);let c=xt();return this.Ir.forEachInRange([i,s],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new bi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class bi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Me.comparator(e.key,t.key)||_t(e.gr,t.gr)}static Tr(e,t){return _t(e.gr,t.gr)||Me.comparator(e.key,t.key)}}class tM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new fn(bi.Pr)}checkEmpty(e){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,s){const c=this.pr;this.pr++;const u=new Rh(c,t,i,s);this.mutationQueue.push(u);for(const g of s)this.yr=this.yr.add(new bi(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return q.resolve(u)}lookupMutationBatch(e,t){return q.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Sr(t+1),c=s<0?0:s;return q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bi(t,0),s=new bi(t,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([i,s],u=>{const g=this.wr(u.gr);c.push(g)}),q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fn(_t);return t.forEach(s=>{const c=new bi(s,0),u=new bi(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,u],g=>{i=i.add(g.gr)})}),q.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let c=i;Me.isDocumentKey(c)||(c=c.child(""));const u=new bi(new Me(c),0);let g=new fn(_t);return this.yr.forEachWhile(b=>{const w=b.key.path;return!!i.isPrefixOf(w)&&(w.length===s&&(g=g.add(b.gr)),!0)},u),q.resolve(this.br(g))}br(e){const t=[];return e.forEach(i=>{const s=this.wr(i);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Ze(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return q.forEach(t.mutations,s=>{const c=new bi(s.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new bi(t,0),s=this.yr.firstAfterOrEqual(i);return q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return q.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nM{constructor(e){this.Cr=e,this.docs=new En(Me.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),c=s?s.size:0,u=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return q.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=Dr();return t.forEach(s=>{const c=this.docs.get(s);i=i.insert(s,c?c.document.mutableCopy():zt.newInvalidDocument(s))}),q.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let c=Dr();const u=t.path,g=new Me(u.child("")),b=this.docs.getIteratorFrom(g);for(;b.hasNext();){const{key:w,value:{document:C}}=b.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||fu(kT(C),i)<=0||(s.has(C.key)||_m(t,C))&&(c=c.insert(C.key,C.mutableCopy()))}return q.resolve(c)}getAllFromCollectionGroup(e,t,i,s){Ve()}vr(e,t){return q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lE(this)}getSize(e){return q.resolve(this.size)}}class lE extends Yb{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),q.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class iM{constructor(e){this.persistence=e,this.Fr=new ka(t=>vu(t),bh),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Xb,this.targetCount=0,this.Nr=Qc.On()}forEachTarget(e,t){return this.Fr.forEach((i,s)=>t(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),q.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Qc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.kn(t),q.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,i){let s=0;const c=[];return this.Fr.forEach((u,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Fr.delete(u),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),q.waitFor(c).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return q.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),q.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const s=this.persistence.referenceDelegate,c=[];return s&&t.forEach(u=>{c.push(s.markPotentiallyOrphaned(e,u))}),q.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return q.resolve(i)}containsKey(e,t){return q.resolve(this.Or.containsKey(t))}}class Jb{constructor(e,t){this.Br={},this.overlays={},this.Lr=new wr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new iM(this),this.indexManager=new GD,this.remoteDocumentCache=new nM(i=>this.referenceDelegate.Qr(i)),this.serializer=new UI(t),this.Kr=new aE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new tM(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const s=new Ru(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(c=>this.referenceDelegate.Ur(s).next(()=>c)).toPromise().then(c=>(s.raiseOnCommittedEvent(),c))}Wr(e,t){return q.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class Ru extends nm{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Gr=new Xb,this.zr=null}static jr(e){return new Om(e)}get Hr(){if(this.zr)return this.zr;throw Ve()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),q.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),q.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(c=>this.Hr.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Hr,i=>{const s=Me.fromPath(i);return this.Jr(e,s).next(c=>{c||t.removeEntry(s,Ke.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return q.or([()=>q.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class hk{constructor(e){this.serializer=e}N(e,t,i,s){const c=new wb("createOrUpgrade",t);var b;i<1&&s>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LT,{unique:!0}),b.createObjectStore("documentMutations"),tv(e),function(b){b.createObjectStore("remoteDocuments")}(e));let u=q.resolve();return i<3&&s>=3&&(0!==i&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),tv(e)),u=u.next(()=>function(b){const w=b.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ke.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",C)}(c))),i<4&&s>=4&&(0!==i&&(u=u.next(()=>function(b,w){return w.store("mutations").W().next(C=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",LT,{unique:!0});const A=w.store("mutations"),M=C.map(L=>A.put(L));return q.waitFor(M)})}(e,c))),u=u.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&s>=5&&(u=u.next(()=>this.Zr(c))),i<6&&s>=6&&(u=u.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),i<7&&s>=7&&(u=u.next(()=>this.ei(c))),i<8&&s>=8&&(u=u.next(()=>this.ti(e,c))),i<9&&s>=9&&(u=u.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&s>=10&&(u=u.next(()=>this.ni(c))),i<11&&s>=11&&(u=u.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&s>=12&&(u=u.next(()=>{!function(b){const w=b.createObjectStore("documentOverlays",{keyPath:sm});w.createIndex("collectionPathOverlayIndex",HT,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",ch,{unique:!1})}(e)})),i<13&&s>=13&&(u=u.next(()=>function(b){const w=b.createObjectStore("remoteDocumentsV14",{keyPath:BT});w.createIndex("documentKeyIndex",xR),w.createIndex("collectionGroupIndex",SR)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&s>=14&&(u=u.next(()=>this.ii(e,c))),i<15&&s>=15&&(u=u.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:fI}).createIndex("sequenceNumberIndex",UT,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:jT}).createIndex("documentKeyIndex",zT,{unique:!1})}(e))),u}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,s)=>{t+=qb(s)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(s=>q.forEach(s,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(g=>q.forEach(g,b=>{Ze(b.userId===c.userId);const w=Wc(this.serializer,b);return YD(e,c.userId,w).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const c=[];return i.Y((u,g)=>{const b=new Yt(u),w=[0,Cr(b)];c.push(t.get(w).next(C=>C?q.resolve():t.put({targetId:0,path:Cr(b),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>q.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:MR});const i=t.store("collectionParents"),s=new Gb,c=u=>{if(s.add(u)){const g=u.lastSegment(),b=u.popLast();return i.put({collectionId:g,parent:Cr(b)})}};return t.store("remoteDocuments").Y({J:!0},(u,g)=>{const b=new Yt(u);return c(b.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([u,g,b],w)=>{const C=Ro(g);return c(C.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,s)=>{const c=Am(s),u=LD(this.serializer,c);return t.put(u)})}ri(e,t){const i=t.store("remoteDocuments"),s=[];return i.Y((c,u)=>{const g=t.store("remoteDocumentsV14"),b=(A=u,A.document?new Me(Yt.fromString(A.document.name).popFirst(5)):A.noDocument?Me.fromSegments(A.noDocument.path):A.unknownDocument?Me.fromSegments(A.unknownDocument.path):Ve()).path.toArray(),w={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};var A;s.push(g.put(w))}).next(()=>q.waitFor(s))}ii(e,t){const i=t.store("mutations"),s=Qb(this.serializer),c=new Jb(Om.jr,this.serializer.ut);return i.W().next(u=>{const g=new Map;return u.forEach(b=>{var w;let C=null!==(w=g.get(b.userId))&&void 0!==w?w:xt();Wc(this.serializer,b).keys().forEach(A=>C=C.add(A)),g.set(b.userId,C)}),q.forEach(g,(b,w)=>{const C=new mi(w),A=xm.ct(this.serializer,C),M=c.getIndexManager(C),L=Wb.ct(C,this.serializer,M,c.referenceDelegate);return new tA(s,L,A,M).recalculateAndSaveOverlaysForDocumentKeys(new Tb(t,wr._e),b).next()})})}}function tv(n){n.createObjectStore("targetDocuments",{keyPath:RR}).createIndex("documentTargetsIndex",hI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ah,{unique:!0}),n.createObjectStore("targetGlobal")}const Nm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uE{constructor(e,t,i,s,c,u,g,b,w,C,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=c,this.window=u,this.document=g,this.oi=w,this._i=C,this.ai=A,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=M=>Promise.resolve(),!uE.D())throw new me(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eM(this,s),this.Ii=t+"main",this.serializer=new UI(b),this.Ti=new Er(this.Ii,this.ai,new hk(this.serializer)),this.qr=new QD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qb(this.serializer),this.Kr=new XR,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===C&&nn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(Z.FAILED_PRECONDITION,Nm);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new wr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,ue.Z)(function*(s){if(t.started)return e(s)});return function(s){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,ue.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ue.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(xa(e))return fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Vh(e).get("owner").next(t=>q.resolve(this.wi(t)))}Si(e){return Fm(e).delete(this.clientId)}bi(){var e=this;return(0,ue.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=Ti(i,"clientMetadata");return s.W().next(c=>{const u=e.Ci(c,18e5),g=c.filter(b=>-1===u.indexOf(b));return q.forEach(g,b=>s.delete(b.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?q.resolve(!0):Vh(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new me(Z.FAILED_PRECONDITION,Nm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fm(e).W().next(i=>void 0===this.Ci(i,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ue.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Tb(t,wr._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Fm(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Wb.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qD(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return xm.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){fe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",c=15===(b=this.ai)?PR:14===b?$T:13===b?am:12===b?pI:11===b?lh:void Ve();var b;let u;return this.Ti.runTransaction(e,s,c,g=>(u=new Tb(g,this.Lr?this.Lr.next():wr._e),"readwrite-primary"===t?this.fi(u).next(b=>!!b||this.gi(u)).next(b=>{if(!b)throw nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new me(Z.FAILED_PRECONDITION,Eb);return i(u)}).next(b=>this.yi(u).next(()=>b)):this.Li(u).next(()=>i(u)))).then(g=>(u.raiseOnCommittedEvent(),g))}Li(e){return Vh(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new me(Z.FAILED_PRECONDITION,Nm)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vh(e).put("owner",t)}static D(){return Er.D()}pi(e){const t=Vh(e);return t.get("owner").next(i=>this.wi(i)?(fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):q.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(nn(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,In.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return nn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){nn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vh(n){return Ti(n,"owner")}function Fm(n){return Ti(n,"clientMetadata")}function dE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nv{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=s}static Qi(e,t){let i=xt(),s=xt();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new nv(e,t.fromCache,i,s)}}class rM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nA{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,s){const c={result:null};return this.zi(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.ji(e,t,s,i).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new rM;return this.Hi(e,t,u).next(g=>{if(c.result=g,this.$i)return this.Ji(e,t,u,g.size)})}).next(()=>c.result)}Ji(e,t,i,s){return i.documentReadCount<this.Ui?(uu()<=Os.in.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ih(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),q.resolve()):(uu()<=Os.in.DEBUG&&fe("QueryEngine","Query:",Ih(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(uu()<=Os.in.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ih(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(t))):q.resolve())}zi(e,t){if(rD(t))return q.resolve(null);let i=Tr(t);return this.indexManager.getIndexType(e,i).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Nb(t,null,"F"),i=Tr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const u=xt(...c);return this.Gi.getDocuments(e,u).next(g=>this.indexManager.getMinOffset(e,i).next(b=>{const w=this.Yi(t,g);return this.Zi(t,w,u,b.readTime)?this.zi(e,Nb(t,null,"F")):this.Xi(e,w,t,b)}))})))}ji(e,t,i,s){return rD(t)||s.isEqual(Ke.min())?q.resolve(null):this.Gi.getDocuments(e,i).next(c=>{const u=this.Yi(t,c);return this.Zi(t,u,i,s)?q.resolve(null):(uu()<=Os.in.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ih(t)),this.Xi(e,u,t,PT(s,-1)).next(g=>g))})}Yi(e,t){let i=new fn(cD(e));return t.forEach((s,c)=>{_m(e,c)&&(i=i.add(c))}),i}Zi(e,t,i,s){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Hi(e,t,i){return uu()<=Os.in.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ih(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ir.min(),i)}Xi(e,t,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}class iv{constructor(e,t,i,s){this.persistence=e,this.es=t,this.serializer=s,this.ts=new En(_t),this.ns=new ka(c=>vu(c),bh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tA(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function hE(n,e,t,i){return new iv(n,e,t,i)}function rv(n,e){return ov.apply(this,arguments)}function ov(){return ov=(0,ue.Z)(function*(n,e){const t=Re(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(c=>(s=c,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const u=[],g=[];let b=xt();for(const w of s){u.push(w.batchId);for(const C of w.mutations)b=b.add(C.key)}for(const w of c){g.push(w.batchId);for(const C of w.mutations)b=b.add(C.key)}return t.localDocuments.getDocuments(i,b).next(w=>({_s:w,removedBatchIds:u,addedBatchIds:g}))})})}),ov.apply(this,arguments)}function fE(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function oA(n,e,t){let i=xt(),s=xt();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let u=Dr();return t.forEach((g,b)=>{const w=c.get(g);b.isFoundDocument()!==w.isFoundDocument()&&(s=s.add(g)),b.isNoDocument()&&b.version.isEqual(Ke.min())?(e.removeEntry(g,b.readTime),u=u.insert(g,b)):!w.isValidDocument()||b.version.compareTo(w.version)>0||0===b.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(b),u=u.insert(g,b)):fe("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",b.version)}),{us:u,cs:s}})}function oM(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Bh(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.qr.getTargetData(i,e).next(c=>c?(s=c,q.resolve(s)):t.qr.allocateTargetId(i).next(u=>(s=new $s(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.ts.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Uh(n,e,t){return sv.apply(this,arguments)}function sv(){return sv=(0,ue.Z)(function*(n,e,t){const i=Re(n),s=i.ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!xa(u))throw u;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}),sv.apply(this,arguments)}function pE(n,e,t){const i=Re(n);let s=Ke.min(),c=xt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(b,w,C){const A=Re(b),M=A.ns.get(C);return void 0!==M?q.resolve(A.ts.get(M)):A.qr.getTargetData(w,C)}(i,u,Tr(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(u,g.targetId).next(b=>{c=b})}).next(()=>i.es.getDocumentsMatchingQuery(u,e,t?s:Ke.min(),t?c:xt())).next(g=>(aA(i,aD(e),g),{documents:g,ls:c})))}function mE(n,e){const t=Re(n),i=Re(t.qr),s=t.ts.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",c=>i._t(c,e).next(u=>u?u.target:null))}function sA(n,e){const t=Re(n),i=t.rs.get(e)||Ke.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.ss.getAllFromCollectionGroup(s,e,PT(i,-1),Number.MAX_SAFE_INTEGER)).then(s=>(aA(t,e,s),s))}function aA(n,e,t){let i=n.rs.get(e)||Ke.min();t.forEach((s,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.rs.set(e,i)}function gE(){return gE=(0,ue.Z)(function*(n,e,t,i){const s=Re(n);let c=xt(),u=Dr();for(const w of t){const C=e.hs(w.metadata.name);w.document&&(c=c.add(C));const A=e.Ps(w);A.setReadTime(e.Is(w.metadata.readTime)),u=u.insert(C,A)}const g=s.ss.newChangeBuffer({trackRemovals:!0}),b=yield Bh(s,(C=i,Tr(vh(Yt.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",w=>oA(w,g,u).next(C=>(g.apply(w),C)).next(C=>s.qr.removeMatchingKeysForTargetId(w,b.targetId).next(()=>s.qr.addMatchingKeys(w,c,b.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(w,C.us,C.cs)).next(()=>C.us)))}),gE.apply(this,arguments)}function av(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,ue.Z)(function*(n,e,t=xt()){const i=yield Bh(n,Tr(jI(e.bundledQuery))),s=Re(n);return s.persistence.runTransaction("Save named query","readwrite",c=>{const u=_i(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return s.Kr.saveNamedQuery(c,e);const g=i.withResumeToken(gi.EMPTY_BYTE_STRING,u);return s.ts=s.ts.insert(g.targetId,g),s.qr.updateTargetData(c,g).next(()=>s.qr.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>s.qr.addMatchingKeys(c,t,i.targetId)).next(()=>s.Kr.saveNamedQuery(c,e))})}),cA.apply(this,arguments)}function sM(n,e){return`firestore_clients_${n}_${e}`}function lA(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function _E(n,e){return`firestore_targets_${n}_${e}`}class Lm{constructor(e,t,i,s){this.user=e,this.batchId=t,this.state=i,this.error=s}static Ts(e,t,i){const s=JSON.parse(i);let c,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(c=new me(s.error.code,s.error.message))),u?new Lm(e,t,s.state,c):(nn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jh{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let s,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(s=new me(i.error.code,i.error.message))),c?new jh(e,i.state,s):(nn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let s="object"==typeof i&&i.activeTargetIds instanceof Array,c=AI();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=rm(i.activeTargetIds[u]),c=c.add(i.activeTargetIds[u]);return s?new Vm(e,c):(nn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bE(t.clientId,t.onlineState):(nn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vE{constructor(){this.activeTargetIds=AI()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yE{constructor(e,t,i,s,c){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new En(_t),this.started=!1,this.ps=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=sM(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new vE),this.Ss=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ue.Z)(function*(){const t=yield e.syncEngine.Bi();for(const s of t){if(s===e.Rs)continue;const c=e.getItem(sM(e.persistenceKey,s));if(c){const u=Vm.Ts(s,c);u&&(e.gs=e.gs.insert(u.clientId,u))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const s=e.Ms(i);s&&e.xs(s)}for(const s of e.ps)e.fs(s);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(_E(this.persistenceKey,e));if(i){const s=jh.Ts(e,i);s&&(t=s.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_E(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(s=>{this.Bs(s)}),this.currentUser=e,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return fe("SharedClientState","READ",e,t),t}setItem(e,t){fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ue.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const s=t.Ks(i.key);return t.$s(s,null)}{const s=t.Us(i.key,i.newValue);if(s)return t.$s(s.clientId,s)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const s=t.Ws(i.key,i.newValue);if(s)return t.Gs(s)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const s=t.zs(i.key,i.newValue);if(s)return t.js(s)}}else if(i.key===t.Cs){if(null!==i.newValue){const s=t.Ms(i.newValue);if(s)return t.xs(s)}}else if(i.key===t.ws){const s=function(u){let g=wr._e;if(null!=u)try{const b=JSON.parse(u);Ze("number"==typeof b),g=b}catch(b){nn("SharedClientState","Failed to read sequence number from WebStorage",b)}return g}(i.newValue);s!==wr._e&&t.sequenceNumberHandler(s)}else if(i.key===t.vs){const s=t.Hs(i.newValue);yield Promise.all(s.map(c=>t.syncEngine.Js(c)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const s=new Lm(this.currentUser,e,t,i),c=lA(this.persistenceKey,this.currentUser,e);this.setItem(c,s.Es())}Bs(e){const t=lA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const s=_E(this.persistenceKey,e),c=new jh(e,t,i);this.setItem(s,c.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return Vm.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),s=Number(i[1]);return Lm.Ts(new mi(void 0!==i[2]?i[2]:null),s,t)}zs(e,t){const i=this.Ds.exec(e),s=Number(i[1]);return jh.Ts(s,t)}Ms(e){return bE.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,ue.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),s=this.Os(this.gs),c=this.Os(i),u=[],g=[];return c.forEach(b=>{s.has(b)||u.push(b)}),s.forEach(b=>{c.has(b)||g.push(b)}),this.syncEngine.Xs(u,g).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=AI();return e.forEach((i,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class uA{constructor(){this.eo=new vE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new vE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aM{ro(e){}shutdown(){}}class dA{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jc=null;function cv(){return null===Jc?Jc=268435456+Math.round(2147483648*Math.random()):Jc++,"0x"+Jc.toString(16)}const hA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fA{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ki="WebChannelConnection";class pA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${s}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${c}`}get yo(){return!1}wo(t,i,s,c,u){const g=cv(),b=this.So(t,i);fe("RestConnection",`Sending RPC '${t}' ${g}:`,b,s);const w={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(w,c,u),this.Do(t,b,w,s).then(C=>(fe("RestConnection",`Received RPC '${t}' ${g}: `,C),C),C=>{throw yr("RestConnection",`RPC '${t}' ${g} failed with error: `,C,"url: ",b,"request:",s),C})}Co(t,i,s,c,u,g){return this.wo(t,i,s,c,u)}bo(t,i,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+vr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,u)=>t[u]=c),s&&s.headers.forEach((c,u)=>t[u]=c)}So(t,i){return`${this.mo}/v1/${i}:${hA[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,s){const c=cv();return new Promise((u,g)=>{const b=new ak;b.setWithCredentials(!0),b.listenOnce(bR.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Nc.NO_ERROR:const C=b.getResponseJson();fe(Ki,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(C)),u(C);break;case Nc.TIMEOUT:fe(Ki,`RPC '${e}' ${c} timed out`),g(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const A=b.getStatus();if(fe(Ki,`RPC '${e}' ${c} failed with status:`,A,"response text:",b.getResponseText()),A>0){let M=b.getResponseJson();Array.isArray(M)&&(M=M[0]);const L=M?.error;if(L&&L.status&&L.message){const K=function(se){const Ee=se.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ee)>=0?Ee:Z.UNKNOWN}(L.status);g(new me(K,L.message))}else g(new me(Z.UNKNOWN,"Server responded with status "+b.getStatus()))}else g(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{fe(Ki,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(s);fe(Ki,`RPC '${e}' ${c} sending request:`,s),b.send(t,"POST",w,i,15)})}vo(e,t,i){const s=cv(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=CT(),g=TT(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(b.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(b.useFetchStreams=!0),this.bo(b.initMessageHeaders,t,i),b.encodeInitMessageHeaders=!0;const C=c.join("");fe(Ki,`Creating RPC '${e}' stream ${s}: ${C}`,b);const A=u.createWebChannel(C,b);let M=!1,L=!1;const K=new fA({co:se=>{L?fe(Ki,`Not sending because RPC '${e}' stream ${s} is closed:`,se):(M||(fe(Ki,`Opening RPC '${e}' stream ${s} transport.`),A.open(),M=!0),fe(Ki,`RPC '${e}' stream ${s} sending:`,se),A.send(se))},lo:()=>A.close()}),ee=(se,Ee,Be)=>{se.listen(Ee,Ae=>{try{Be(Ae)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return ee(A,Jp.EventType.OPEN,()=>{L||fe(Ki,`RPC '${e}' stream ${s} transport opened.`)}),ee(A,Jp.EventType.CLOSE,()=>{L||(L=!0,fe(Ki,`RPC '${e}' stream ${s} transport closed`),K.Ro())}),ee(A,Jp.EventType.ERROR,se=>{L||(L=!0,yr(Ki,`RPC '${e}' stream ${s} transport errored:`,se),K.Ro(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),ee(A,Jp.EventType.MESSAGE,se=>{var Ee;if(!L){const Be=se.data[0];Ze(!!Be);const Xe=Be.error||(null===(Ee=Be[0])||void 0===Ee?void 0:Ee.error);if(Xe){fe(Ki,`RPC '${e}' stream ${s} received error:`,Xe);const bt=Xe.status;let Xt=function(VV){const y1=ci[VV];if(void 0!==y1)return PI(y1)}(bt),Di=Xe.message;void 0===Xt&&(Xt=Z.INTERNAL,Di="Unknown error status: "+bt+" with message "+Xe.message),L=!0,K.Ro(new me(Xt,Di)),A.close()}else fe(Ki,`RPC '${e}' stream ${s} received:`,Be),K.Vo(Be)}}),ee(g,vR.STAT_EVENT,se=>{se.stat===sI.PROXY?fe(Ki,`RPC '${e}' stream ${s} detected buffering proxy`):se.stat===sI.NOPROXY&&fe(Ki,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{K.Ao()},0),K}}function mA(){return typeof window<"u"?window:null}function lv(){return typeof document<"u"?document:null}function uv(n){return new CD(n,!0)}class gA{constructor(e,t,i=1e3,s=1.5,c=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=s,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,t-i);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class _A{constructor(e,t,i,s,c,u,g,b){this.si=e,this.Ko=i,this.$o=s,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=b,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gA(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,ue.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,ue.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,ue.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(nn(t.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===Z.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===t&&this.s_(i,s)},i=>{e(()=>{const s=new me(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){var e=this;this.state=5,this.zo.ko((0,ue.Z)(function*(){e.state=0,e.start()}))}o_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cM extends _A{constructor(e,t,i,s,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=c}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function ZR(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Ve(),s=e.targetChange.targetIds||[],c=function(w,C){return w.useProto3Json?(Ze(void 0===C||"string"==typeof C),gi.fromBase64String(C||"")):(Ze(void 0===C||C instanceof Uint8Array),gi.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&function(w){const C=void 0===w.code?Z.UNKNOWN:PI(w.code);return new me(C,w.message||"")}(u);t=new vD(i,s,c,g||null)}else if("documentChange"in e){const i=e.documentChange,s=Ko(n,i.document.name),c=_i(i.document.updateTime),u=i.document.createTime?_i(i.document.createTime):Ke.min(),g=new qn({mapValue:{fields:i.document.fields}}),b=zt.newFoundDocument(s,c,u,g);t=new Em(i.targetIds||[],i.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const i=e.documentDelete,s=Ko(n,i.document),c=i.readTime?_i(i.readTime):Ke.min(),u=zt.newNoDocument(s,c);t=new Em([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,s=Ko(n,i.document);t=new Em([],i.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Ve();{const i=e.filter,{count:s=0,unchangedNames:c}=i,u=new zR(s,c);t=new OI(i.targetId,u)}}var w;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Ke.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ke.min():u.readTime?_i(u.readTime):Ke.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Cm(this.serializer),t.addTarget=function(c,u){let g;const b=u.target;if(g=mm(b)?{documents:LI(c,b)}:{query:VI(c,b)},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=TD(c,u.resumeToken);const w=NI(c,u.expectedCount);null!==w&&(g.expectedCount=w)}else if(u.snapshotVersion.compareTo(Ke.min())>0){g.readTime=Eu(c,u.snapshotVersion.toTimestamp());const w=NI(c,u.expectedCount);null!==w&&(g.expectedCount=w)}return g}(this.serializer,e);const i=function Dm(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Cm(this.serializer),t.removeTarget=e,this.e_(t)}}class lM extends _A{constructor(e,t,i,s,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function YR(n,e){return n&&n.length>0?(Ze(void 0!==e),n.map(t=>function(s,c){let u=_i(s.updateTime?s.updateTime:c);return u.isEqual(Ke.min())&&(u=_i(c)),new UR(u,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=_i(e.commitTime);return this.listener.I_(i,t)}return Ze(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Cm(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Tm(this.serializer,i))};this.e_(t)}}class uM extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.wo(e,t,i,s,c)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(Z.UNKNOWN,s.toString())})}Co(e,t,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Co(e,t,i,c,u,s)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(Z.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class hM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(nn(t),this.f_=!1):fe("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class dv{constructor(e,t,i,s,c){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(g=>{i.enqueueAndForget((0,ue.Z)(function*(){var b;el(u)&&(fe("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,ue.Z)(function*(C){const A=Re(C);A.C_.add(4),yield zh(A),A.M_.set("Unknown"),A.C_.delete(4),yield ja(A)}),function w(C){return b.apply(this,arguments)})(u))}))}),this.M_=new hM(i,s)}}function ja(n){return IE.apply(this,arguments)}function IE(){return IE=(0,ue.Z)(function*(n){if(el(n))for(const e of n.v_)yield e(!0)}),IE.apply(this,arguments)}function zh(n){return EE.apply(this,arguments)}function EE(){return EE=(0,ue.Z)(function*(n){for(const e of n.v_)yield e(!1)}),EE.apply(this,arguments)}function Pu(n,e){const t=Re(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),jm(t)?Um(t):$h(t).Ho()&&Bm(t,e))}function ku(n,e){const t=Re(n),i=$h(t);t.D_.delete(e),i.Ho()&&wE(t,e),0===t.D_.size&&(i.Ho()?i.Zo():el(t)&&t.M_.set("Unknown"))}function Bm(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$h(n).u_(e)}function wE(n,e){n.x_.Oe(e),$h(n).c_(e)}function Um(n){n.x_=new wm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),$h(n).start(),n.M_.g_()}function jm(n){return el(n)&&!$h(n).jo()&&n.D_.size>0}function el(n){return 0===Re(n).C_.size}function bA(n){n.x_=void 0}function fM(n){return CE.apply(this,arguments)}function CE(){return CE=(0,ue.Z)(function*(n){n.D_.forEach((e,t)=>{Bm(n,e)})}),CE.apply(this,arguments)}function vA(n,e){return zm.apply(this,arguments)}function zm(){return zm=(0,ue.Z)(function*(n,e){bA(n),jm(n)?(n.M_.w_(e),Um(n)):n.M_.set("Unknown")}),zm.apply(this,arguments)}function yA(n,e,t){return hv.apply(this,arguments)}function hv(){return hv=(0,ue.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof vD&&2===e.state&&e.cause)try{yield(i=(0,ue.Z)(function*(c,u){const g=u.cause;for(const b of u.targetIds)c.D_.has(b)&&(yield c.remoteSyncer.rejectListen(b,g),c.D_.delete(b),c.x_.removeTarget(b))}),function s(c,u){return i.apply(this,arguments)})(n,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Hm(n,i)}else if(e instanceof Em?n.x_.$e(e):e instanceof OI?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Ke.min()))try{const i=yield fE(n.localStore);t.compareTo(i)>=0&&(yield function(c,u){const g=c.x_.it(u);return g.targetChanges.forEach((b,w)=>{if(b.resumeToken.approximateByteSize()>0){const C=c.D_.get(w);C&&c.D_.set(w,C.withResumeToken(b.resumeToken,u))}}),g.targetMismatches.forEach((b,w)=>{const C=c.D_.get(b);if(!C)return;c.D_.set(b,C.withResumeToken(gi.EMPTY_BYTE_STRING,C.snapshotVersion)),wE(c,b);const A=new $s(C.target,b,w,C.sequenceNumber);Bm(c,A)}),c.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),yield Hm(n,i)}var i}),hv.apply(this,arguments)}function Hm(n,e,t){return fv.apply(this,arguments)}function fv(){return fv=(0,ue.Z)(function*(n,e,t){if(!xa(e))throw e;n.C_.add(1),yield zh(n),n.M_.set("Offline"),t||(t=()=>fE(n.localStore)),n.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield ja(n)}))}),fv.apply(this,arguments)}function IA(n,e){return e().catch(t=>Hm(n,t,e))}function Ou(n){return pv.apply(this,arguments)}function pv(){return pv=(0,ue.Z)(function*(n){const e=Re(n),t=tl(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;pM(e);)try{const s=yield oM(e.localStore,i);if(null===s){0===e.b_.length&&t.Zo();break}i=s.batchId,EA(e,s)}catch(s){yield Hm(e,s)}wA(e)&&CA(e)}),pv.apply(this,arguments)}function pM(n){return el(n)&&n.b_.length<10}function EA(n,e){n.b_.push(e);const t=tl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function wA(n){return el(n)&&!tl(n).jo()&&n.b_.length>0}function CA(n){tl(n).start()}function mM(n){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,ue.Z)(function*(n){tl(n).E_()}),Qi.apply(this,arguments)}function Hh(n){return TE.apply(this,arguments)}function TE(){return TE=(0,ue.Z)(function*(n){const e=tl(n);for(const t of n.b_)e.P_(t.mutations)}),TE.apply(this,arguments)}function gM(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,ue.Z)(function*(n,e,t){const i=n.b_.shift(),s=lr.from(i,e,t);yield IA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Ou(n)}),TA.apply(this,arguments)}function pk(n,e){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,ue.Z)(function*(n,e){var t;e&&tl(n).h_&&(yield(t=(0,ue.Z)(function*(s,c){if(MI(g=c.code)&&g!==Z.ABORTED){const u=s.b_.shift();tl(s).Yo(),yield IA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,c)),yield Ou(s)}var g}),function i(s,c){return t.apply(this,arguments)})(n,e)),wA(n)&&CA(n)}),Nu.apply(this,arguments)}function DA(n,e){return $m.apply(this,arguments)}function $m(){return $m=(0,ue.Z)(function*(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=el(t);t.C_.add(3),yield zh(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield ja(t)}),$m.apply(this,arguments)}function DE(n,e){return mv.apply(this,arguments)}function mv(){return mv=(0,ue.Z)(function*(n,e){const t=Re(n);e?(t.C_.delete(2),yield ja(t)):e||(t.C_.add(2),yield zh(t),t.M_.set("Unknown"))}),mv.apply(this,arguments)}function $h(n){return n.O_||(n.O_=function(t,i,s){const c=Re(t);return c.A_(),new cM(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{ho:fM.bind(null,n),Io:vA.bind(null,n),a_:yA.bind(null,n)}),n.v_.push(function(){var e=(0,ue.Z)(function*(t){t?(n.O_.Yo(),jm(n)?Um(n):n.M_.set("Unknown")):(yield n.O_.stop(),bA(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function tl(n){return n.N_||(n.N_=function(t,i,s){const c=Re(t);return c.A_(),new lM(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{ho:mM.bind(null,n),Io:pk.bind(null,n),T_:Hh.bind(null,n),I_:gM.bind(null,n)}),n.v_.push(function(){var e=(0,ue.Z)(function*(t){t?(n.N_.Yo(),yield Ou(n)):(yield n.N_.stop(),n.b_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class AE{constructor(e,t,i,s,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=c,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,c){const u=Date.now()+i,g=new AE(e,t,u,s,c);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nl(n,e){if(nn("AsyncQueue",`${e}: ${n}`),xa(n))return new me(Z.UNAVAILABLE,`${e}: ${n}`);throw n}class Fu{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=Eh(),this.sortedSet=new En(this.comparator)}static emptySet(e){return new Fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=i.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Fu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class AA{constructor(){this.B_=new En(Me.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ve():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class za{constructor(e,t,i,s,c,u,g,b,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=b,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,s,c){const u=[];return t.forEach(g=>{u.push({type:0,doc:g})}),new za(e,t,Fu.emptySet(t),u,i,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}class xE{constructor(){this.k_=void 0,this.listeners=[]}}class mk{constructor(){this.queries=new ka(e=>sD(e),gm),this.onlineState="Unknown",this.q_=new Set}}function gv(n,e){return SE.apply(this,arguments)}function SE(){return SE=(0,ue.Z)(function*(n,e){const t=Re(n),i=e.query;let s=!1,c=t.queries.get(i);if(c||(s=!0,c=new xE),s)try{c.k_=yield t.onListen(i)}catch(u){const g=nl(u,`Initialization of query '${Ih(e.query)}' failed`);return void e.onError(g)}t.queries.set(i,c),c.listeners.push(e),e.Q_(t.onlineState),c.k_&&e.K_(c.k_)&&Gm(t)}),SE.apply(this,arguments)}function _v(n,e){return il.apply(this,arguments)}function il(){return il=(0,ue.Z)(function*(n,e){const t=Re(n),i=e.query;let s=!1;const c=t.queries.get(i);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),s=0===c.listeners.length)}if(s)return t.queries.delete(i),t.onUnlisten(i)}),il.apply(this,arguments)}function _M(n,e){const t=Re(n);let i=!1;for(const s of e){const u=t.queries.get(s.query);if(u){for(const g of u.listeners)g.K_(s)&&(i=!0);u.k_=s}}i&&Gm(t)}function xA(n,e,t){const i=Re(n),s=i.queries.get(e);if(s)for(const c of s.listeners)c.onError(t);i.queries.delete(e)}function Gm(n){n.q_.forEach(e=>{e.next()})}class SA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)3!==s.type&&i.push(s);e=new za(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class bM{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class RA{constructor(e){this.serializer=e}hs(e){return Ko(this.serializer,e)}Ps(e){return e.metadata.exists?xD(this.serializer,e.document,!1):zt.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return _i(e)}}class vM{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RE(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Yt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new RA(this.serializer);for(const s of e)if(s.metadata.queries){const c=i.hs(s.metadata.name);for(const u of s.metadata.queries){const g=(t.get(u)||xt()).add(c);t.set(u,g)}}return t}complete(){var e=this;return(0,ue.Z)(function*(){const t=yield function fk(n,e,t,i){return gE.apply(this,arguments)}(e.localStore,new RA(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const s of e.queries)yield av(e.localStore,s,i.get(s.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function RE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ME{constructor(e){this.key=e}}class MA{constructor(e){this.key=e}}class PE{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xt(),this.mutatedKeys=xt(),this._a=cD(e),this.aa=new Fu(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new AA,s=t?t.aa:this.aa;let c=t?t.mutatedKeys:this.mutatedKeys,u=s,g=!1;const b="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,w="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((C,A)=>{const M=s.get(C),L=_m(this.query,A)?A:null,K=!!M&&this.mutatedKeys.has(M.key),ee=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let se=!1;M&&L?M.data.isEqual(L.data)?K!==ee&&(i.track({type:3,doc:L}),se=!0):this.ha(M,L)||(i.track({type:2,doc:L}),se=!0,(b&&this._a(L,b)>0||w&&this._a(L,w)<0)&&(g=!0)):!M&&L?(i.track({type:0,doc:L}),se=!0):M&&!L&&(i.track({type:1,doc:M}),se=!0,(b||w)&&(g=!0)),se&&(L?(u=u.add(L),c=ee?c.add(C):c.delete(C)):(u=u.delete(C),c=c.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),c=c.delete(C.key),i.track({type:1,doc:C})}return{aa:u,la:i,Zi:g,mutatedKeys:c}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const c=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const u=e.la.L_();u.sort((C,A)=>function(L,K){const ee=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return ee(L)-ee(K)}(C.type,A.type)||this._a(C.doc,A.doc)),this.Pa(i),s=null!=s&&s;const g=t&&!s?this.Ia():[],b=0===this.oa.size&&this.current&&!s?1:0,w=b!==this.sa;return this.sa=b,0!==u.length||w?{snapshot:new za(this.query,e.aa,c,u,e.mutatedKeys,0===b,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:g}:{Ta:g}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new AA,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new MA(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new ME(i))}),t}da(e){this.ia=e.ls,this.oa=xt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return za.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class PA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yM{constructor(e){this.key=e,this.Ra=!1}}class IM{constructor(e,t,i,s,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Va={},this.ma=new ka(g=>sD(g),gm),this.fa=new Map,this.ga=new Set,this.pa=new En(Me.comparator),this.ya=new Map,this.wa=new Xb,this.Sa={},this.ba=new Map,this.Da=Qc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function kA(n,e){return kE.apply(this,arguments)}function kE(){return kE=(0,ue.Z)(function*(n,e){const t=GE(n);let i,s;const c=t.ma.get(e);if(c)i=c.targetId,t.sharedClientState.addLocalQueryTarget(i),s=c.view.Aa();else{const u=yield Bh(t.localStore,Tr(e)),g=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,s=yield bv(t,e,i,"current"===g,u.resumeToken),t.isPrimaryClient&&Pu(t.remoteStore,u)}return s}),kE.apply(this,arguments)}function bv(n,e,t,i,s){return vv.apply(this,arguments)}function vv(){return vv=(0,ue.Z)(function*(n,e,t,i,s){n.va=(A,M,L)=>{return(K=(0,ue.Z)(function*(se,Ee,Be,Ae){let Xe=Ee.view.ca(Be);Xe.Zi&&(Xe=yield pE(se.localStore,Ee.query,!1).then(({documents:Ys})=>Ee.view.ca(Ys,Xe)));const bt=Ae&&Ae.targetChanges.get(Ee.targetId),Xt=Ae&&null!=Ae.targetMismatches.get(Ee.targetId),Di=Ee.view.applyChanges(Xe,se.isPrimaryClient,bt,Xt);return FE(se,Ee.targetId,Di.Ta),Di.snapshot}),function ee(se,Ee,Be,Ae){return K.apply(this,arguments)})(n,A,M,L);var K};const c=yield pE(n.localStore,e,!0),u=new PE(e,c.ls),g=u.ca(c.documents),b=Ph.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,s),w=u.applyChanges(g,n.isPrimaryClient,b);FE(n,t,w.Ta);const C=new PA(e,t,u);return n.ma.set(e,C),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),w.snapshot}),vv.apply(this,arguments)}function OA(n,e){return yv.apply(this,arguments)}function yv(){return yv=(0,ue.Z)(function*(n,e){const t=Re(n),i=t.ma.get(e),s=t.fa.get(i.targetId);if(s.length>1)return t.fa.set(i.targetId,s.filter(c=>!gm(c,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Uh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),ku(t.remoteStore,i.targetId),Lu(t,i.targetId)}).catch(Aa))):(Lu(t,i.targetId),yield Uh(t.localStore,i.targetId,!0))}),yv.apply(this,arguments)}function OE(){return OE=(0,ue.Z)(function*(n,e,t){const i=qE(n);try{const s=yield function(u,g){const b=Re(u),w=jn.now(),C=g.reduce((L,K)=>L.add(K.key),xt());let A,M;return b.persistence.runTransaction("Locally write mutations","readwrite",L=>{let K=Dr(),ee=xt();return b.ss.getEntries(L,C).next(se=>{K=se,K.forEach((Ee,Be)=>{Be.isValidDocument()||(ee=ee.add(Ee))})}).next(()=>b.localDocuments.getOverlayedDocuments(L,K)).next(se=>{A=se;const Ee=[];for(const Be of g){const Ae=fD(Be,A.get(Be.key).overlayedDocument);null!=Ae&&Ee.push(new Va(Be.key,Ae,YT(Ae.value.mapValue),zn.exists(!0)))}return b.mutationQueue.addMutationBatch(L,w,Ee,g)}).next(se=>{M=se;const Ee=se.applyToLocalDocumentSet(A,ee);return b.documentOverlayCache.saveOverlays(L,se.batchId,Ee)})}).then(()=>({batchId:M.batchId,changes:uD(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(u,g,b){let w=u.Sa[u.currentUser.toKey()];w||(w=new En(_t)),w=w.insert(g,b),u.Sa[u.currentUser.toKey()]=w}(i,s.batchId,t),yield Mo(i,s.changes),yield Ou(i.remoteStore)}catch(s){const c=nl(s,"Failed to persist write");t.reject(c)}}),OE.apply(this,arguments)}function wM(n,e){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,ue.Z)(function*(n,e){const t=Re(n);try{const i=yield function rA(n,e){const t=Re(n),i=e.snapshotVersion;let s=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.ss.newChangeBuffer({trackRemovals:!0});s=t.ts;const g=[];e.targetChanges.forEach((C,A)=>{const M=s.get(A);if(!M)return;g.push(t.qr.removeMatchingKeys(c,C.removedDocuments,A).next(()=>t.qr.addMatchingKeys(c,C.addedDocuments,A)));let L=M.withSequenceNumber(c.currentSequenceNumber);var ee,se,Ee;null!==e.targetMismatches.get(A)?L=L.withResumeToken(gi.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):C.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(C.resumeToken,i)),s=s.insert(A,L),se=L,Ee=C,(0===(ee=M).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0)&&g.push(t.qr.updateTargetData(c,L))});let b=Dr(),w=xt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,C))}),g.push(oA(c,u,e.documentUpdates).next(C=>{b=C.us,w=C.cs})),!i.isEqual(Ke.min())){const C=t.qr.getLastRemoteSnapshotVersion(c).next(A=>t.qr.setTargetsMetadata(c,c.currentSequenceNumber,i));g.push(C)}return q.waitFor(g).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,b,w)).next(()=>b)}).then(c=>(t.ts=s,c))}(t.localStore,e);e.targetChanges.forEach((s,c)=>{const u=t.ya.get(c);u&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ra=!0:s.modifiedDocuments.size>0?Ze(u.Ra):s.removedDocuments.size>0&&(Ze(u.Ra),u.Ra=!1))}),yield Mo(t,i,e)}catch(i){yield Aa(i)}}),Iv.apply(this,arguments)}function CM(n,e,t){const i=Re(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const s=[];i.ma.forEach((c,u)=>{const g=u.view.Q_(e);g.snapshot&&s.push(g.snapshot)}),function(u,g){const b=Re(u);b.onlineState=g;let w=!1;b.queries.forEach((C,A)=>{for(const M of A.listeners)M.Q_(g)&&(w=!0)}),w&&Gm(b)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function gk(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,ue.Z)(function*(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.ya.get(e),c=s&&s.key;if(c){let u=new En(Me.comparator);u=u.insert(c,zt.newNoDocument(c,Ke.min()));const g=xt().add(c),b=new Gc(Ke.min(),new Map,new En(_t),u,g);yield wM(i,b),i.pa=i.pa.remove(c),i.ya.delete(e),UA(i)}else yield Uh(i.localStore,e,!1).then(()=>Lu(i,e,t)).catch(Aa)}),NA.apply(this,arguments)}function _k(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,ue.Z)(function*(n,e){const t=Re(n),i=e.batch.batchId;try{const s=yield function iA(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),c=t.ss.newChangeBuffer({trackRemovals:!0});return function(g,b,w,C){const A=w.batch,M=A.keys();let L=q.resolve();return M.forEach(K=>{L=L.next(()=>C.getEntry(b,K)).next(ee=>{const se=w.docVersions.get(K);Ze(null!==se),ee.version.compareTo(se)<0&&(A.applyToRemoteDocument(ee,w),ee.isValidDocument()&&(ee.setReadTime(w.commitVersion),C.addEntry(ee)))})}),L.next(()=>g.mutationQueue.removeMutationBatch(b,A))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let b=xt();for(let w=0;w<g.mutationResults.length;++w)g.mutationResults[w].transformResults.length>0&&(b=b.add(g.batch.mutations[w].key));return b}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}(t.localStore,e);VA(t,i,null),NE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Mo(t,s)}catch(s){yield Aa(s)}}),FA.apply(this,arguments)}function bk(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,ue.Z)(function*(n,e,t){const i=Re(n);try{const s=yield function(u,g){const b=Re(u);return b.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let C;return b.mutationQueue.lookupMutationBatch(w,g).next(A=>(Ze(null!==A),C=A.keys(),b.mutationQueue.removeMutationBatch(w,A))).next(()=>b.mutationQueue.performConsistencyCheck(w)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(w,C,g)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,C)).next(()=>b.localDocuments.getDocuments(w,C))})}(i.localStore,e);VA(i,e,t),NE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Mo(i,s)}catch(s){yield Aa(s)}}),LA.apply(this,arguments)}function Ev(){return Ev=(0,ue.Z)(function*(n,e){const t=Re(n);el(t.remoteStore)||fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(u){const g=Re(u);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>g.mutationQueue.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===i)return void e.resolve();const s=t.ba.get(i)||[];s.push(e),t.ba.set(i,s)}catch(i){const s=nl(i,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),Ev.apply(this,arguments)}function NE(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function VA(n,e,t){const i=Re(n);let s=i.Sa[i.currentUser.toKey()];if(s){const c=s.get(e);c&&(t?c.reject(t):c.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function Lu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||BA(n,i)})}function BA(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(ku(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),UA(n))}function FE(n,e,t){for(const i of t)i instanceof ME?(n.wa.addReference(i.key,e),TM(n,i)):i instanceof MA?(fe("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||BA(n,i.key)):Ve()}function TM(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(fe("SyncEngine","New document in limbo: "+t),n.ga.add(i),UA(n))}function UA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new Me(Yt.fromString(e)),i=n.Da.next();n.ya.set(i,new yM(t)),n.pa=n.pa.insert(t,i),Pu(n.remoteStore,new $s(Tr(vh(t.path)),i,"TargetPurposeLimboResolution",wr._e))}}function Mo(n,e,t){return LE.apply(this,arguments)}function LE(){return LE=(0,ue.Z)(function*(n,e,t){const i=Re(n),s=[],c=[],u=[];var g;i.ma.isEmpty()||(i.ma.forEach((g,b)=>{u.push(i.va(b,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(b.targetId,w?.fromCache?"not-current":"current"),w){s.push(w);const C=nv.Qi(b.targetId,w);c.push(C)}}))}),yield Promise.all(u),i.Va.a_(s),yield(g=(0,ue.Z)(function*(w,C){const A=Re(w);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>q.forEach(C,L=>q.forEach(L.ki,K=>A.persistence.referenceDelegate.addReference(M,L.targetId,K)).next(()=>q.forEach(L.qi,K=>A.persistence.referenceDelegate.removeReference(M,L.targetId,K)))))}catch(M){if(!xa(M))throw M;fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of C){const L=M.targetId;if(!M.fromCache){const K=A.ts.get(L),se=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);A.ts=A.ts.insert(L,se)}}}),function b(w,C){return g.apply(this,arguments)})(i.localStore,c))}),LE.apply(this,arguments)}function qm(n,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,ue.Z)(function*(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=yield rv(t.localStore,e);t.currentUser=e,(c=t).ba.forEach(g=>{g.forEach(b=>{b.reject(new me(Z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Mo(t,i._s)}var c}),Gh.apply(this,arguments)}function DM(n,e){const t=Re(n),i=t.ya.get(e);if(i&&i.Ra)return xt().add(i.key);{let s=xt();const c=t.fa.get(e);if(!c)return s;for(const u of c){const g=t.ma.get(u);s=s.unionWith(g.view.ua)}return s}}function AM(n,e){return VE.apply(this,arguments)}function VE(){return VE=(0,ue.Z)(function*(n,e){const t=Re(n),i=yield pE(t.localStore,e.query,!0),s=e.view.da(i);return t.isPrimaryClient&&FE(t,e.targetId,s.Ta),s}),VE.apply(this,arguments)}function xM(n,e){return BE.apply(this,arguments)}function BE(){return BE=(0,ue.Z)(function*(n,e){const t=Re(n);return sA(t.localStore,e).then(i=>Mo(t,i))}),BE.apply(this,arguments)}function SM(n,e,t,i){return UE.apply(this,arguments)}function UE(){return UE=(0,ue.Z)(function*(n,e,t,i){const s=Re(n),c=yield function(g,b){const w=Re(g),C=Re(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",A=>C.Cn(A,b).next(M=>M?w.localDocuments.getDocuments(A,M):q.resolve(null)))}(s.localStore,e);var b;null!==c?("pending"===t?yield Ou(s.remoteStore):"acknowledged"===t||"rejected"===t?(VA(s,e,i||null),NE(s,e),b=e,Re(Re(s.localStore).mutationQueue).Fn(b)):Ve(),yield Mo(s,c)):fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),UE.apply(this,arguments)}function jE(){return jE=(0,ue.Z)(function*(n,e){const t=Re(n);if(GE(t),qE(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),s=yield zA(t,i.toArray());t.Ca=!0,yield DE(t.remoteStore,!0);for(const c of s)Pu(t.remoteStore,c)}else if(!1===e&&!1!==t.Ca){const i=[];let s=Promise.resolve();t.fa.forEach((c,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then(()=>(Lu(t,u),Uh(t.localStore,u,!0))),ku(t.remoteStore,u)}),yield s,yield zA(t,i),function(u){const g=Re(u);g.ya.forEach((b,w)=>{ku(g.remoteStore,w)}),g.wa.Vr(),g.ya=new Map,g.pa=new En(Me.comparator)}(t),t.Ca=!1,yield DE(t.remoteStore,!1)}}),jE.apply(this,arguments)}function zA(n,e,t){return zE.apply(this,arguments)}function zE(){return zE=(0,ue.Z)(function*(n,e,t){const i=Re(n),s=[],c=[];for(const u of e){let g;const b=i.fa.get(u);if(b&&0!==b.length){g=yield Bh(i.localStore,Tr(b[0]));for(const w of b){const C=i.ma.get(w),A=yield AM(i,C);A.snapshot&&c.push(A.snapshot)}}else{const w=yield mE(i.localStore,u);g=yield Bh(i.localStore,w),yield bv(i,HA(w),u,!1,g.resumeToken)}s.push(g)}return i.Va.a_(c),s}),zE.apply(this,arguments)}function HA(n){return Ob(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RM(n){return t=Re(n).localStore,Re(Re(t).persistence).Bi();var t}function MM(n,e,t,i){return HE.apply(this,arguments)}function HE(){return HE=(0,ue.Z)(function*(n,e,t,i){const s=Re(n);if(s.Ca)return void fe("SyncEngine","Ignoring unexpected query state notification.");const c=s.fa.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const u=yield sA(s.localStore,aD(c[0])),g=Gc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,gi.EMPTY_BYTE_STRING);yield Mo(s,u,g);break}case"rejected":yield Uh(s.localStore,e,!0),Lu(s,e,i);break;default:Ve()}}),HE.apply(this,arguments)}function PM(n,e,t){return $E.apply(this,arguments)}function $E(){return $E=(0,ue.Z)(function*(n,e,t){const i=GE(n);if(i.Ca){for(const s of e){if(i.fa.has(s)){fe("SyncEngine","Adding an already active target "+s);continue}const c=yield mE(i.localStore,s),u=yield Bh(i.localStore,c);yield bv(i,HA(c),u.targetId,!1,u.resumeToken),Pu(i.remoteStore,u)}for(const s of t)i.fa.has(s)&&(yield Uh(i.localStore,s,!1).then(()=>{ku(i.remoteStore,s),Lu(i,s)}).catch(Aa))}}),$E.apply(this,arguments)}function GE(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gk.bind(null,e),e.Va.a_=_M.bind(null,e.eventManager),e.Va.Fa=xA.bind(null,e.eventManager),e}function qE(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_k.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bk.bind(null,e),e}class Wm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.serializer=uv(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hE(this.persistence,new nA,e.initialUser,this.serializer)}createPersistence(e){return new Jb(Om.jr,this.serializer)}createSharedClientState(e){return new uA}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Zm extends Wm{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield qE(i.xa.syncEngine),yield Ou(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return hE(this.persistence,new nA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new tE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new TR(t,this.persistence);return new CR(e.asyncQueue,i)}createPersistence(e){const t=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new uE(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,mA(),lv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new uA}}class GA extends Zm{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ue.Z)(function*(){yield t().call(i,e);const s=i.xa.syncEngine;i.sharedClientState instanceof yE&&(i.sharedClientState.syncEngine={Ys:SM.bind(null,s),Zs:MM.bind(null,s),Xs:PM.bind(null,s),Bi:RM.bind(null,s),Js:xM.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var c=(0,ue.Z)(function*(u){yield function jA(n,e){return jE.apply(this,arguments)}(i.xa.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=mA();if(!yE.D(t))throw new me(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yE(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class qh{initialize(e,t){var i=this;return(0,ue.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>CM(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=qm.bind(null,i.syncEngine),yield DE(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mk}createDatastore(e){const t=uv(e.databaseInfo.databaseId),i=new pA(e.databaseInfo);return new uM(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,s=this.datastore,c=e.asyncQueue,u=t=>CM(this.syncEngine,t,0),g=dA.D()?new dA:new aM,new dv(i,s,c,u,g);var i,s,c,u,g}createSyncEngine(e,t){return function(s,c,u,g,b,w,C){const A=new IM(s,c,u,g,b,w);return C&&(A.Ca=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(i){const s=Re(i);fe("RemoteStore","RemoteStore shutting down."),s.C_.add(5),yield zh(s),s.F_.shutdown(),s.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function WE(n,e=10240){let t=0;return{read:()=>(0,ue.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):nn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class qA{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Ci,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,ue.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,ue.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,ue.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),s=Number(i);isNaN(s)&&e.Qa(`length string (${i}) is not valid number`);const c=yield e.Ka(s);return new bM(JSON.parse(c),t.length+s)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,ue.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,ue.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,ue.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class yk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new me(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,ue.Z)(function*(u,g){const b=Re(u),w=Cm(b.serializer)+"/documents",C={documents:g.map(K=>jb(b.serializer,K))},A=yield b.Co("BatchGetDocuments",w,C,g.length),M=new Map;A.forEach(K=>{const ee=function WR(n,e){return"found"in e?function(i,s){Ze(!!s.found);const c=Ko(i,s.found.name),u=_i(s.found.updateTime),g=s.found.createTime?_i(s.found.createTime):Ke.min(),b=new qn({mapValue:{fields:s.found.fields}});return zt.newFoundDocument(c,u,g,b)}(n,e):"missing"in e?function(i,s){Ze(!!s.missing),Ze(!!s.readTime);const c=Ko(i,s.missing),u=_i(s.readTime);return zt.newNoDocument(c,u)}(n,e):Ve()}(b.serializer,K);M.set(ee.key.toString(),ee)});const L=[];return g.forEach(K=>{const ee=M.get(K.toString());Ze(!!ee),L.push(ee)}),L}),function c(u,g){return s.apply(this,arguments)})(t.datastore,e);var s;return i.forEach(s=>t.recordVersion(s)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new xh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,s)=>{const c=Me.fromPath(s);e.mutations.push(new Sh(c,e.precondition(c)))}),yield(i=(0,ue.Z)(function*(c,u){const g=Re(c),b=Cm(g.serializer)+"/documents",w={writes:u.map(C=>Tm(g.serializer,C))};yield g.wo("Commit",b,w)}),function s(c,u){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ve();t=Ke.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new me(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ke.min())?zn.exists(!1):zn.updateTime(t):zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ke.min()))throw new me(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zn.updateTime(t)}return zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class OM{constructor(e,t,i,s,c){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=c,this.Wa=i.maxAttempts,this.zo=new gA(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,ue.Z)(function*(){const t=new yk(e.datastore),i=e.za(t);i&&i.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(c=>{e.ja(c)}))}).catch(s=>{e.ja(s)})}))}za(e){try{const t=this.updateFunction(e);return!Sa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!MI(t)}return!1}}class WA{constructor(e,t,i,s){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=mi.UNAUTHENTICATED,this.clientId=RT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ue.Z)(function*(g){fe("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=nl(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function Ym(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,ue.Z)(function*(c){i.isEqual(c)||(yield rv(e.localStore,c),i=c)});return function(c){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ZE.apply(this,arguments)}function Cv(n,e){return YE.apply(this,arguments)}function YE(){return YE=(0,ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Dv(n);fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(s=>DA(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,c)=>DA(e.remoteStore,c)),n._onlineComponents=e}),YE.apply(this,arguments)}function Tv(n){return"FirebaseError"===n.name?n.code===Z.FAILED_PRECONDITION||n.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Dv(n){return Km.apply(this,arguments)}function Km(){return Km=(0,ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ym(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Tv(t))throw t;yr("Error using user provided cache. Falling back to memory cache: "+t),yield Ym(n,new Wm)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),yield Ym(n,new Wm);return n._offlineComponents}),Km.apply(this,arguments)}function Wh(n){return KE.apply(this,arguments)}function KE(){return KE=(0,ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Cv(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),yield Cv(n,new qh))),n._onlineComponents}),KE.apply(this,arguments)}function NM(n){return Dv(n).then(e=>e.persistence)}function Vu(n){return Dv(n).then(e=>e.localStore)}function ZA(n){return Wh(n).then(e=>e.remoteStore)}function YA(n){return Wh(n).then(e=>e.syncEngine)}function Bu(n){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,ue.Z)(function*(n){const e=yield Wh(n),t=e.eventManager;return t.onListen=kA.bind(null,e.syncEngine),t.onUnlisten=OA.bind(null,e.syncEngine),t}),Ha.apply(this,arguments)}function QA(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,u,g,b,w){const C=new wv({next:M=>{u.enqueueAndForget(()=>_v(c,A));const L=M.docs.has(g);!L&&M.fromCache?w.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&b&&"server"===b.source?w.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(M)},error:M=>w.reject(M)}),A=new SA(vh(g.path),C,{includeMetadataChanges:!0,J_:!0});return gv(c,A)}(yield Bu(n),n.asyncQueue,e,t,i)})),i.promise}function LM(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(c,u,g,b,w){const C=new wv({next:M=>{u.enqueueAndForget(()=>_v(c,A)),M.fromCache&&"server"===b.source?w.reject(new me(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(M)},error:M=>w.reject(M)}),A=new SA(g,C,{includeMetadataChanges:!0,J_:!0});return gv(c,A)}(yield Bu(n),n.asyncQueue,e,t,i)})),i.promise}function Qm(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const ex=new Map;function tx(n,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zM(n,e,t,i){if(!0===e&&!0===i)throw new me(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nx(n){if(!Me.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Sv(n){if(Me.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ve()}function Tt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xm(n);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function XE(n,e){if(e<=0)throw new me(Z.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ix{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Qm(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ix({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ix(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new IR;switch(i.type){case"firstParty":return new Ib(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ex.get(t);i&&(fe("ComponentProvider","Removing Datastore"),ex.delete(t),i.terminate())}(this),Promise.resolve()}}class Xi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class $a extends Xi{constructor(e,t,i){super(e,t,vh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Me(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function rx(n,e,...t){if(n=(0,In.m9)(n),tx("collection","path",e),n instanceof Zh){const i=Yt.fromString(e,...t);return Sv(i),new $a(n,null,i)}{if(!(n instanceof wn||n instanceof $a))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(e,...t));return Sv(i),new $a(n.firestore,null,i)}}function Rv(n,e,...t){if(n=(0,In.m9)(n),1===arguments.length&&(e=RT.newId()),tx("doc","path",e),n instanceof Zh){const i=Yt.fromString(e,...t);return nx(i),new wn(n,null,new Me(i))}{if(!(n instanceof wn||n instanceof $a))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Yt.fromString(e,...t));return nx(i),new wn(n.firestore,n instanceof $a?n.converter:null,new Me(i))}}function HM(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),(n instanceof wn||n instanceof $a)&&(e instanceof wn||e instanceof $a)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sx(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),n instanceof Xi&&e instanceof Xi&&n.firestore===e.firestore&&gm(n._query,e._query)&&n.converter===e.converter}class Ik{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gA(this,"async_queue_retry"),this.iu=()=>{const t=lv();t&&fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=lv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=lv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Ci;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,ue.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!xa(t))throw t;fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,nn("INTERNAL UNHANDLED ERROR: ",function(u){let g=u.message||"";return u.stack&&(g=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),g}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const s=AE.createAndSchedule(this,e,t,i,c=>this.au(c));return this.Xa.push(s),s}su(){this.eu&&Ve()}verifyOperationInProgress(){}uu(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function Mv(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const s=t;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(n)}class Ek{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kn extends Zh{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Ik,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jm(this),this._firestoreClient.terminate()}}function Jn(n){return n._firestoreClient||Jm(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Jm(n){var e,t,i;const s=n._freezeSettings(),c=(b=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kR(n._databaseId,b,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,Qm(C.experimentalLongPollingOptions),C.useFetchStreams));var b,C;n._firestoreClient=new WA(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=s.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function ew(n,e,t){const i=new Ci;return n.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield Ym(n,t),yield Cv(n,e),i.resolve()}catch(s){const c=s;if(!Tv(c))throw c;yr("Error enabling indexeddb cache. Falling back to memory cache: "+c),i.reject(c)}})).then(()=>i.promise)}function eg(n){if(n._initialized||n._terminated)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(gi.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yh{constructor(e){this._methodName=e}}class ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}}const tg=/^__.*__$/;class kv{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yo(e,this.data,t,this.fieldTransforms)}}class ng{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ow(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class sw{constructor(e,t,i,s,c,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new sw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return pw(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(ow(this.Iu)&&tg.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class qM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||uv(e)}pu(e,t,i,s=!1){return new sw({Iu:e,methodName:t,gu:i,path:Pn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(n){const e=n._freezeSettings(),t=uv(n._databaseId);return new qM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aw(n,e,t,i,s,c={}){const u=n.pu(c.merge||c.mergeFields?2:0,e,t,s);Hu("Data must be an object, but it was:",u,i);const g=hw(i,u);let b,w;if(c.merge)b=new Ur(u.fieldMask),w=u.fieldTransforms;else if(c.mergeFields){const C=[];for(const A of c.mergeFields){const M=Gs(e,A,t);if(!u.contains(M))throw new me(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);WM(C,M)||C.push(M)}b=new Ur(C),w=u.fieldTransforms.filter(A=>b.covers(A.field))}else b=null,w=u.fieldTransforms;return new kv(new qn(g),b,w)}class ju extends Yh{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function cx(n,e,t){return new sw({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ov extends Yh{_toFieldTransform(e){return new Dh(e.path,new Fa)}isEqual(e){return e instanceof Ov}}class lx extends Yh{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=cx(this,e,!0),i=this.yu.map(c=>zu(c,t)),s=new Hs(i);return new Dh(e.path,s)}isEqual(e){return this===e}}class cw extends Yh{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=cx(this,e,!0),i=this.yu.map(c=>zu(c,t)),s=new $c(i);return new Dh(e.path,s)}isEqual(e){return this===e}}class ux extends Yh{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Th(e.serializer,Fb(e.serializer,this.wu));return new Dh(e.path,t)}isEqual(e){return this===e}}function lw(n,e,t,i){const s=n.pu(1,e,t);Hu("Data must be an object, but it was:",s,i);const c=[],u=qn.empty();Ra(i,(b,w)=>{const C=fw(e,b,t);w=(0,In.m9)(w);const A=s.Ru(C);if(w instanceof ju)c.push(C);else{const M=zu(w,A);null!=M&&(c.push(C),u.set(C,M))}});const g=new Ur(c);return new ng(u,g,s.fieldTransforms)}function uw(n,e,t,i,s,c){const u=n.pu(1,e,t),g=[Gs(e,i,t)],b=[s];if(c.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Gs(e,c[M])),b.push(c[M+1]);const w=[],C=qn.empty();for(let M=g.length-1;M>=0;--M)if(!WM(w,g[M])){const L=g[M];let K=b[M];K=(0,In.m9)(K);const ee=u.Ru(L);if(K instanceof ju)w.push(L);else{const se=zu(K,ee);null!=se&&(w.push(L),C.set(L,se))}}const A=new Ur(w);return new ng(C,A,u.fieldTransforms)}function dw(n,e,t,i=!1){return zu(t,n.pu(i?4:3,e))}function zu(n,e){if(ig(n=(0,In.m9)(n)))return Hu("Unsupported field value:",e,n),hw(n,e);if(n instanceof Yh)return function(i,s){if(!ow(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,s){const c=[];let u=0;for(const g of i){let b=zu(g,s.Vu(u));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),u++}return{arrayValue:{values:c}}}(n,e)}return function(i,s){if(null===(i=(0,In.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Fb(s.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=jn.fromDate(i);return{timestampValue:Eu(s.serializer,c)}}if(i instanceof jn){const c=new jn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eu(s.serializer,c)}}if(i instanceof ei)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ga)return{bytesValue:TD(s.serializer,i._byteString)};if(i instanceof wn){const c=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw s.mu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:DD(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${Xm(i)}`)}(n,e)}function hw(n,e){const t={};return GT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(n,(i,s)=>{const c=zu(s,e.Eu(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function ig(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jn||n instanceof ei||n instanceof Ga||n instanceof wn||n instanceof Yh)}function Hu(n,e,t){if(!ig(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const i=Xm(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var s}function Gs(n,e,t){if((e=(0,In.m9)(e))instanceof qa)return e._internalPath;if("string"==typeof e)return fw(n,e);throw pw("Field path arguments must be of type string or ",n,!1,void 0,t)}const dx=new RegExp("[~\\*/\\[\\]]");function fw(n,e,t){if(e.search(dx)>=0)throw pw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qa(...e.split("."))._internalPath}catch{throw pw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pw(n,e,t,i,s){const c=i&&!i.isEmpty(),u=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let b="";return(c||u)&&(b+=" (found",c&&(b+=` in field ${i}`),u&&(b+=` in document ${s}`),b+=")"),new me(Z.INVALID_ARGUMENT,g+n+b)}function WM(n,e){return n.some(t=>t.isEqual(e))}class rg{constructor(e,t,i,s,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ZM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ZM extends rg{data(){return super.data()}}function mw(n,e){return"string"==typeof e?fw(n,e):e instanceof qa?e._internalPath:e._delegate._internalPath}function gw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class Nv extends og{}function qs(n,e,...t){let i=[];e instanceof og&&i.push(e),i=i.concat(t),function(c){const u=c.filter(b=>b instanceof sg).length,g=c.filter(b=>b instanceof Fv).length;if(u>1||u>0&&g>0)throw new me(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Fv extends Nv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fv(e,t,i)}_apply(e){const t=this._parse(e);return JM(e._query,t),new Xi(e.firestore,e.converter,CI(e._query,t))}_parse(e){const t=Kh(e.firestore);return function(c,u,g,b,w,C,A){let M;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){mx(A,C);const L=[];for(const K of A)L.push(XM(b,c,K));M={arrayValue:{values:L}}}else M=XM(b,c,A)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||mx(A,C),M=dw(g,"where",A,"in"===C||"not-in"===C);return $t.create(w,C,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class sg extends og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let u=s;const g=c.getFlattenedFilters();for(const b of g)JM(u,b),u=CI(u,b)}(e._query,t),new Xi(e.firestore,e.converter,CI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hx extends Nv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hx(e,t)}_apply(e){const t=function(s,c,u){if(null!==s.startAt)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gh(c,u)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,function(s,c){const u=s.explicitOrderBy.concat([c]);return new zs(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class ag extends Nv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ag(e,t,i)}_apply(e){return new Xi(e.firestore,e.converter,Nb(e._query,this._limit,this._limitType))}}class Lv extends Nv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Lv(e,t,i)}_apply(e){const t=px(e,this.type,this._docOrFields,this._inclusive);return new Xi(e.firestore,e.converter,(c=t,new zs((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class cg extends Nv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new cg(e,t,i)}_apply(e){const t=px(e,this.type,this._docOrFields,this._inclusive);return new Xi(e.firestore,e.converter,(c=t,new zs((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function px(n,e,t,i){if(t[0]=(0,In.m9)(t[0]),t[0]instanceof rg)return function(c,u,g,b,w){if(!b)throw new me(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const C=[];for(const A of yh(c))if(A.field.isKeyField())C.push(Wo(u,b.key));else{const M=b.data.field(A.field);if(Ab(M))throw new me(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=A.field.canonicalString();throw new me(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}C.push(M)}return new Hc(C,w)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const s=Kh(n.firestore);return function(u,g,b,w,C,A){const M=u.explicitOrderBy;if(C.length>M.length)throw new me(Z.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let K=0;K<C.length;K++){const ee=C[K];if(M[K].field.isKeyField()){if("string"!=typeof ee)throw new me(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ee}`);if(!wI(u)&&-1!==ee.indexOf("/"))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ee}' contains a slash.`);const se=u.path.child(Yt.fromString(ee));if(!Me.isDocumentKey(se))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${se}' is not because it contains an odd number of segments.`);const Ee=new Me(se);L.push(Wo(g,Ee))}else{const se=dw(b,w,ee);L.push(se)}}return new Hc(L,A)}(n._query,n.firestore._databaseId,s,e,t,i)}}function XM(n,e,t){if("string"==typeof(t=(0,In.m9)(t))){if(""===t)throw new me(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wI(e)&&-1!==t.indexOf("/"))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Yt.fromString(t));if(!Me.isDocumentKey(i))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wo(n,new Me(i))}if(t instanceof wn)return Wo(n,t._key);throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(t)}.`)}function mx(n,e){if(!Array.isArray(n)||0===n.length)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JM(n,e){const t=function(s,c){for(const u of s)for(const g of u.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new me(Z.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bw{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ra(e,(s,c)=>{i[s]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new ei(Qn(e.latitude),Qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fh(e));default:return null}}convertTimestamp(e){const t=Bc(e);return new jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Yt.fromString(e);Ze(ND(i));const s=new Ma(i.get(1),i.get(3)),c=new Me(i.popFirst(5));return s.isEqual(t)||nn(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Vv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class gx extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}class $u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Po extends rg{constructor(e,t,i,s,c,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(mw("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qh extends Po{data(e={}){return super.data(e)}}class Wa{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $u(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qh(this._firestore,this._userDataWriter,i.key,i,new $u(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Qh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new $u(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>c||3!==g.type).map(g=>{const b=new Qh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new $u(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,C=-1;return 0!==g.type&&(w=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),1!==g.type&&(u=u.add(g.doc),C=u.indexOf(g.doc.key)),{type:nP(g.type),doc:b,oldIndex:w,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}function bx(n,e){return n instanceof Po&&e instanceof Po?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wa&&e instanceof Wa&&n._firestore===e._firestore&&sx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class rl extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function yx(n,e,t){n=Tt(n,wn);const i=Tt(n.firestore,kn),s=Vv(n.converter,e,t);return lg(i,[aw(Kh(i),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,zn.none())])}function oP(n,e,t,...i){n=Tt(n,wn);const s=Tt(n.firestore,kn),c=Kh(s);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof qa?uw(c,"updateDoc",n._key,e,t,i):lw(c,"updateDoc",n._key,e),lg(s,[u.toMutation(n._key,zn.exists(!0))])}function Ix(n,...e){var t,i,s;n=(0,In.m9)(n);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Mv(e[u])||(c=e[u],u++);const g={includeMetadataChanges:c.includeMetadataChanges};if(Mv(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),e[u+2]=null===(s=A.complete)||void 0===s?void 0:s.bind(A)}let b,w,C;if(n instanceof wn)w=Tt(n.firestore,kn),C=vh(n._key.path),b={next:A=>{e[u]&&e[u](Ex(w,n,A))},error:e[u+1],complete:e[u+2]};else{const A=Tt(n,Xi);w=Tt(A.firestore,kn),C=A._query;const M=new rl(w);b={next:L=>{e[u]&&e[u](new Wa(w,M,A,L))},error:e[u+1],complete:e[u+2]},gw(n._query)}return function(M,L,K,ee){const se=new wv(ee),Ee=new SA(L,se,K);return M.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return gv(yield Bu(M),Ee)})),()=>{se.Na(),M.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return _v(yield Bu(M),Ee)}))}}(Jn(w),C,g,b)}function lg(n,e){return function(i,s){const c=new Ci;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function EM(n,e,t){return OE.apply(this,arguments)}(yield YA(i),s,c)})),c.promise}(Jn(n),e)}function Ex(n,e,t){const i=t.docs.get(e._key),s=new rl(n);return new Po(n,s,e._key,i,new $u(t.hasPendingWrites,t.fromCache),e.converter)}const h={maxAttempts:5};class p{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kh(e)}set(e,t,i){this._verifyNotCommitted();const s=_(e,this._firestore),c=Vv(s.converter,t,i),u=aw(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,i);return this._mutations.push(u.toMutation(s._key,zn.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const c=_(e,this._firestore);let u;return u="string"==typeof(t=(0,In.m9)(t))||t instanceof qa?uw(this._dataReader,"WriteBatch.update",c._key,t,i,s):lw(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(u.toMutation(c._key,zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_(e,this._firestore);return this._mutations=this._mutations.concat(new xh(t._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _(n,e){if((n=(0,In.m9)(n)).firestore!==e)throw new me(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class y extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Kh(t)}get(t){const i=_(t,this._firestore),s=new gx(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Ve();const u=c[0];if(u.isFoundDocument())return new rg(this._firestore,s,u.key,u,i.converter);if(u.isNoDocument())return new rg(this._firestore,s,i._key,null,i.converter);throw Ve()})}set(t,i,s){const c=_(t,this._firestore),u=Vv(c.converter,i,s),g=aw(this._dataReader,"Transaction.set",c._key,u,null!==c.converter,s);return this._transaction.set(c._key,g),this}update(t,i,s,...c){const u=_(t,this._firestore);let g;return g="string"==typeof(i=(0,In.m9)(i))||i instanceof qa?uw(this._dataReader,"Transaction.update",u._key,i,s,c):lw(this._dataReader,"Transaction.update",u._key,i),this._transaction.update(u._key,g),this}delete(t){const i=_(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_(e,this._firestore),i=new rl(this._firestore);return super.get(e).then(s=>new Po(this._firestore,i,t._key,s._document,new $u(!1,!1),t.converter))}}function lP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function zk(){if(typeof Uint8Array>"u")throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function Hk(){if(!function hh(){return typeof atob<"u"}())throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){vr=$d.SDK_VERSION,(0,$d._registerComponent)(new RC.wA("firestore",(i,{instanceIdentifier:s,options:c})=>{const u=i.getProvider("app").getImmediate(),g=new kn(new DT(i.getProvider("auth-internal")),new ST(i.getProvider("app-check-internal")),function(w,C){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(w.options.projectId,C)}(u,s),u);return c=Object.assign({useFetchStreams:t},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),(0,$d.registerVersion)(vb,"4.4.0",e),(0,$d.registerVersion)(vb,"4.4.0","esm2017")}();class yw{constructor(e){this._delegate=e}static fromBase64String(e){return Hk(),new yw(Ga.fromBase64String(e))}static fromUint8Array(e){return zk(),new yw(Ga.fromUint8Array(e))}toBase64(){return Hk(),this._delegate.toBase64()}toUint8Array(){return zk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uP(n){return function O1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class N1{enableIndexedDbPersistence(e,t){return function $M(n,e){eg(n=Tt(n,kn));const t=Jn(n);if(t._uninitializedComponentsProvider)throw new me(Z.FAILED_PRECONDITION,"SDK cache is already specified.");yr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),s=new qh;return ew(t,s,new Zm(s,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function GM(n){eg(n=Tt(n,kn));const e=Jn(n);if(e._uninitializedComponentsProvider)throw new me(Z.FAILED_PRECONDITION,"SDK cache is already specified.");yr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new qh;return ew(e,i,new GA(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Uu(n){if(n._initialized&&!n._terminated)throw new me(Z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(t=(0,ue.Z)(function*(s){if(!Er.D())return Promise.resolve();const c=s+"main";yield Er.delete(c)}),function i(s){return t.apply(this,arguments)})(dE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $k{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function JE(n,e,t,i={}){var s;const c=(n=Tt(n,Zh))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),i.mockUserToken){let g,b;if("string"==typeof i.mockUserToken)g=i.mockUserToken,b=mi.MOCK_USER;else{g=(0,In.Sg)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new mi(w)}n._authCredentials=new ER(new cI(g,b))}}(this._delegate,e,t,i)}enableNetwork(){return function tw(n){return function Av(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield NM(n),t=yield ZA(n);return e.setNetworkEnabled(!0),function(s){const c=Re(s);return c.C_.delete(0),ja(c)}(t)}))}(Jn(n=Tt(n,kn)))}(this._delegate)}disableNetwork(){return function nw(n){return function KA(n){return n.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield NM(n),t=yield ZA(n);return e.setNetworkEnabled(!1),(i=(0,ue.Z)(function*(c){const u=Re(c);u.C_.add(0),yield zh(u),u.M_.set("Offline")}),function s(c){return i.apply(this,arguments)})(t);var i}))}(Jn(n=Tt(n,kn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,zM("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ax(n){return function(t){const i=new Ci;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function vk(n,e){return Ev.apply(this,arguments)}(yield YA(t),i)})),i.promise}(Jn(n=Tt(n,kn)))}(this._delegate)}onSnapshotsInSync(e){return function aP(n,e){return function XA(n,e){const t=new wv(e);return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return s=yield Bu(n),c=t,Re(s).q_.add(c),void c.next();var s,c})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return s=yield Bu(n),c=t,void Re(s).q_.delete(c);var s,c}))}}(Jn(n=Tt(n,kn)),Mv(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uv(this,rx(this._delegate,e))}catch(t){throw to(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ws(this,Rv(this._delegate,e))}catch(t){throw to(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new no(this,function ox(n,e){if(n=Tt(n,Zh),tx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(n,null,(i=e,new zs(Yt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw to(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function E(n,e,t){n=Tt(n,kn);const i=Object.assign(Object.assign({},h),t);return function(c){if(c.maxAttempts<1)throw new me(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,u,g){const b=new Ci;return c.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const w=yield function QE(n){return Wh(n).then(e=>e.datastore)}(c);new OM(c.asyncQueue,w,g,u,b).run()})),b.promise}(Jn(n),s=>e(new y(n,s)),i)}(this._delegate,t=>e(new Gk(this,t)))}batch(){return Jn(this._delegate),new qk(new p(this._delegate,e=>lg(this._delegate,e)))}loadBundle(e){return function iw(n,e){const t=Jn(n=Tt(n,kn)),i=new Ek;return function VM(n,e,t,i){const s=function(u,g){let b;return b="string"==typeof u?_D().encode(u):u,C=function(C,A){if(C instanceof Uint8Array)return WE(C,A);if(C instanceof ArrayBuffer)return WE(new Uint8Array(C),A);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new qA(C,g);var C}(t,uv(e));n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function kM(n,e,t){const i=Re(n);var s;(s=(0,ue.Z)(function*(u,g,b){try{const w=yield g.getMetadata();if(yield function(K,ee){const se=Re(K),Ee=_i(ee.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Be=>se.Kr.getBundleMetadata(Be,ee.id)).then(Be=>!!Be&&Be.createTime.compareTo(Ee)>=0)}(u.localStore,w))return yield g.close(),b._completeWith({taskState:"Success",documentsLoaded:(K=w).totalDocuments,bytesLoaded:K.totalBytes,totalDocuments:K.totalDocuments,totalBytes:K.totalBytes}),Promise.resolve(new Set);b._updateProgress(RE(w));const C=new vM(w,u.localStore,g.serializer);let A=yield g.Ma();for(;A;){const L=yield C.ea(A);L&&b._updateProgress(L),A=yield g.Ma()}const M=yield C.complete();return yield Mo(u,M.ra,void 0),yield function(K,ee){const se=Re(K);return se.persistence.runTransaction("Save bundle","readwrite",Ee=>se.Kr.saveBundleMetadata(Ee,ee))}(u.localStore,w),b._completeWith(M.progress),Promise.resolve(M.na)}catch(w){return yr("SyncEngine",`Loading bundle failed with ${w}`),b._failWith(w),Promise.resolve(new Set)}var K}),function c(u,g,b){return s.apply(this,arguments)})(i,e,t).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}(yield YA(n),s,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function rw(n,e){return function BM(n,e){return n.asyncQueue.enqueue((0,ue.Z)(function*(){return function(i,s){const c=Re(i);return c.persistence.runTransaction("Get named query","readonly",u=>c.Kr.getNamedQuery(u,s))}(yield Vu(n),e)}))}(Jn(n=Tt(n,kn)),e).then(t=>t?new Xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new no(this,t):null)}}class Cx extends bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new yw(new Ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ws.forKey(t,this.firestore,null)}}class Gk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cx(e)}get(e){const t=hg(e);return this._delegate.get(t).then(i=>new Iw(this._firestore,new Po(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const s=hg(e);return i?(lP("Transaction.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const c=hg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...s),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}}class qk{constructor(e){this._delegate=e}set(e,t,i){const s=hg(e);return i?(lP("WriteBatch.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const c=hg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...s),this}delete(e){const t=hg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Qh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ew(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=dg.INSTANCES;let s=i.get(e);s||(s=new WeakMap,i.set(e,s));let c=s.get(t);return c||(c=new dg(e,new Cx(e),t),s.set(t,c)),c}}dg.INSTANCES=new WeakMap;class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cx(e)}static forPath(e,t,i){if(e.length%2!=0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ws(t,new wn(t._delegate,i,new Me(e)))}static forKey(e,t,i){return new Ws(t,new wn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Uv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uv(this.firestore,rx(this._delegate,e))}catch(t){throw to(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,In.m9)(e))instanceof wn&&HM(this._delegate,e)}set(e,t){t=lP("DocumentReference.set",t);try{return t?yx(this._delegate,e,t):yx(this._delegate,e)}catch(i){throw to(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?oP(this._delegate,e):oP(this._delegate,e,t,...i)}catch(s){throw to(s,"updateDoc()","DocumentReference.update()")}}delete(){return function Nk(n){return lg(Tt(n.firestore,kn),[new xh(n._key,zn.none())])}(this._delegate)}onSnapshot(...e){const t=Wk(e),i=Zk(e,s=>new Iw(this.firestore,new Po(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return Ix(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function iP(n){n=Tt(n,wn);const e=Tt(n.firestore,kn),t=Jn(e),i=new rl(e);return function xv(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(c,u,g){try{const b=yield function(C,A){const M=Re(C);return M.persistence.runTransaction("read document","readonly",L=>M.localDocuments.getDocument(L,A))}(c,u);b.isFoundDocument()?g.resolve(b):b.isNoDocument()?g.resolve(null):g.reject(new me(Z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const w=nl(b,`Failed to get document '${u} from cache`);g.reject(w)}}),function s(c,u,g){return i.apply(this,arguments)})(yield Vu(n),e,t);var i})),t.promise}(t,n._key).then(s=>new Po(e,i,n._key,s,new $u(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function vx(n){n=Tt(n,wn);const e=Tt(n.firestore,kn);return QA(Jn(e),n._key,{source:"server"}).then(t=>Ex(e,n,t))}(this._delegate):function Bv(n){n=Tt(n,wn);const e=Tt(n.firestore,kn);return QA(Jn(e),n._key).then(t=>Ex(e,n,t))}(this._delegate),t.then(i=>new Iw(this.firestore,new Po(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function to(n,e,t){return n.message=n.message.replace(e,t),n}function Wk(n){for(const e of n)if("object"==typeof e&&!uP(e))return e;return{}}function Zk(n,e){var t,i;let s;return s=uP(n[0])?n[0]:uP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{s.next&&s.next(e(c))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class Iw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ws(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bx(this._delegate,e._delegate)}}class Ew extends Iw{data(e){const t=this._delegate.data(e);return this._delegate._converter||function yR(n,e){n||Ve()}(void 0!==t),t}}class no{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cx(e)}where(e,t,i){try{return new no(this.firestore,qs(this._delegate,function Ak(n,e,t){const i=e,s=mw("where",n);return Fv._create(s,i,t)}(e,t,i)))}catch(s){throw to(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new no(this.firestore,qs(this._delegate,function YM(n,e="asc"){const t=e,i=mw("orderBy",n);return hx._create(i,t)}(e,t)))}catch(i){throw to(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new no(this.firestore,qs(this._delegate,function Sk(n){return XE("limit",n),ag._create("limit",n,"F")}(e)))}catch(t){throw to(t,"limit()","Query.limit()")}}limitToLast(e){try{return new no(this.firestore,qs(this._delegate,function fx(n){return XE("limitToLast",n),ag._create("limitToLast",n,"L")}(e)))}catch(t){throw to(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new no(this.firestore,qs(this._delegate,function Rk(...n){return Lv._create("startAt",n,!0)}(...e)))}catch(t){throw to(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new no(this.firestore,qs(this._delegate,function KM(...n){return Lv._create("startAfter",n,!1)}(...e)))}catch(t){throw to(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new no(this.firestore,qs(this._delegate,function Mk(...n){return cg._create("endBefore",n,!1)}(...e)))}catch(t){throw to(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new no(this.firestore,qs(this._delegate,function QM(...n){return cg._create("endAt",n,!0)}(...e)))}catch(t){throw to(t,"endAt()","Query.endAt()")}}isEqual(e){return sx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function rP(n){n=Tt(n,Xi);const e=Tt(n.firestore,kn),t=Jn(e),i=new rl(e);return function FM(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(i=(0,ue.Z)(function*(c,u,g){try{const b=yield pE(c,u,!0),w=new PE(u,b.ls),C=w.ca(b.documents),A=w.applyChanges(C,!1);g.resolve(A.snapshot)}catch(b){const w=nl(b,`Failed to execute query '${u} against cache`);g.reject(w)}}),function s(c,u,g){return i.apply(this,arguments)})(yield Vu(n),e,t);var i})),t.promise}(t,n._query).then(s=>new Wa(e,i,n,s))}(this._delegate):"server"===e?.source?function Ok(n){n=Tt(n,Xi);const e=Tt(n.firestore,kn),t=Jn(e),i=new rl(e);return LM(t,n._query,{source:"server"}).then(s=>new Wa(e,i,n,s))}(this._delegate):function kk(n){n=Tt(n,Xi);const e=Tt(n.firestore,kn),t=Jn(e),i=new rl(e);return gw(n._query),LM(t,n._query).then(s=>new Wa(e,i,n,s))}(this._delegate),t.then(i=>new dP(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Wk(e),i=Zk(e,s=>new dP(this.firestore,new Wa(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return Ix(this._delegate,t,i)}withConverter(e){return new no(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}class L1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ew(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new no(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ew(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new L1(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ew(this._firestore,i))})}isEqual(e){return bx(this._delegate,e._delegate)}}class Uv extends no{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ws(this.firestore,e):null}doc(e){try{return new Ws(this.firestore,void 0===e?Rv(this._delegate):Rv(this._delegate,e))}catch(t){throw to(t,"doc()","CollectionReference.doc()")}}add(e){return function sP(n,e){const t=Tt(n.firestore,kn),i=Rv(n),s=Vv(n.converter,e);return lg(t,[aw(Kh(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,zn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ws(this.firestore,t))}isEqual(e){return HM(this._delegate,e._delegate)}withConverter(e){return new Uv(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function hg(n){return Tt(n,wn)}class hP{constructor(...e){this._delegate=new qa(...e)}static documentId(){return new hP(Pn.keyField().canonicalString())}isEqual(e){return(e=(0,In.m9)(e))instanceof qa&&this._delegate._internalPath.isEqual(e._internalPath)}}class fg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function x(){return new Ov("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fg(e)}static delete(){const e=function T(){return new ju("deleteField")}();return e._methodName="FieldValue.delete",new fg(e)}static arrayUnion(...e){const t=function R(...n){return new lx("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fg(t)}static arrayRemove(...e){const t=function O(...n){return new cw("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fg(t)}static increment(e){const t=function V(n){return new ux("increment",n)}(e);return t._methodName="FieldValue.increment",new fg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const V1={Firestore:$k,GeoPoint:ei,Timestamp:jn,Blob:yw,Transaction:Gk,WriteBatch:qk,DocumentReference:Ws,DocumentSnapshot:Iw,Query:no,QueryDocumentSnapshot:Ew,QuerySnapshot:dP,CollectionReference:Uv,FieldPath:hP,FieldValue:fg,setLogLevel:function F1(n){!function Ls(n){Lc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Yk(n,e){return function j1(n,e=U_){return new _n.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function fP(n,e){return Yk(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}!function U1(n){(function B1(n,e){n.INTERNAL.registerComponent(new RC.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(i,s)},"PUBLIC").setServiceProps(Object.assign({},V1)))})(n,(e,t)=>new $k(e,t,new N1)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(Ps.Z);class Kk{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:s,query:c}=nO(i,t);return new Jk(s,c,this.afs)}snapshotChanges(){return function z1(n,e){return Yk(n,e).pipe(or(void 0),l0(),(0,gt.U)(t=>{const[i,s]=t;return s.exists?i?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return cn(this.ref.get(e)).pipe(Kr)}}function Tx(n,e){return fP(n,e).pipe(or(void 0),l0(),(0,gt.U)(t=>{const[i,s]=t,c=s.payload.docChanges(),u=c.map(g=>({type:g.type,payload:g}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,b)=>{const w=c.find(A=>A.doc.ref.isEqual(g.ref)),C=i?.payload.docs.find(A=>A.ref.isEqual(g.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(g.metadata)||!w&&C&&JSON.stringify(C.metadata)===JSON.stringify(g.metadata)||u.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:g}})}),u}))}function Qk(n,e,t){return Tx(n,t).pipe(Wf((i,s)=>function H1(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function $1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return pP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pP(n,e.oldIndex,1)}return n}(n,i))}),n}(i,s.map(c=>c.payload),e),[]),u0(),(0,gt.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function pP(n,e,t,...i){const s=n.slice();return s.splice(e,t,...i),s}function Xk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Jk{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Tx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(i=>i.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(or(void 0),l0(),vn(([i,s])=>s.length>0||!i),(0,gt.U)(([,i])=>i),Kr)}auditTrail(e){return this.stateChanges(e).pipe(Wf((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Xk(e);return Qk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr)}valueChanges(e={}){return fP(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Kr)}get(e){return cn(this.query.get(e)).pipe(Kr)}add(e){return this.ref.add(e)}doc(e){return new Kk(this.ref.doc(e),this.afs)}}class G1{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tx(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),vn(t=>t.length>0),Kr):Tx(this.query,this.afs.schedulers.outsideAngular).pipe(Kr)}auditTrail(e){return this.stateChanges(e).pipe(Wf((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Xk(e);return Qk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr)}valueChanges(e={}){return fP(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(i=>i.payload.docs.map(s=>e.idField?{[e.idField]:s.id,...s.data()}:s.data())),Kr)}get(e){return cn(this.query.get(e)).pipe(Kr)}}const eO=new d.OlP("angularfire2.enableFirestorePersistence"),tO=new d.OlP("angularfire2.firestore.persistenceSettings"),q1=new d.OlP("angularfire2.firestore.settings"),W1=new d.OlP("angularfire2.firestore.use-emulator");function nO(n,e=(t=>t)){return{query:e(n),ref:n}}let gP,mP=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,s,c,u,g,b,w,C,A,M,L,K,ee,se,Ee,Be){this.schedulers=b;const Ae=W_(t,g,i),Xe=C;A&&SC(Ae,g,M,K,ee,se,L,Ee),[this.firestore,this.persistenceEnabled$]=o0(`${Ae.name}.firestore`,"AngularFirestore",Ae.name,()=>{const bt=g.runOutsideAngular(()=>Ae.firestore());if(c&&bt.settings(c),Xe&&bt.useEmulator(...Xe),s&&!Xu(u)){const Xt=()=>{try{return cn(bt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Di){return typeof console<"u"&&console.warn(Di),qe(!1)}};return[bt,g.runOutsideAngular(Xt)]}return[bt,qe(!1)]},[c,Xe,s])}collection(t,i){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:u}=nO(s,i),g=this.schedulers.ngZone.run(()=>c);return new Jk(g,u,this)}collectionGroup(t,i){const s=i||(u=>u),c=this.firestore.collectionGroup(t);return new G1(s(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>i);return new Kk(s,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(d.LFG(Zd),d.LFG(q_,8),d.LFG(eO,8),d.LFG(q1,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(H_),d.LFG(tO,8),d.LFG(W1,8),d.LFG(WS,8),d.LFG(AC,8),d.LFG(Y_,8),d.LFG($S,8),d.LFG(GS,8),d.LFG(qS,8),d.LFG(xC,8),d.LFG(z_,8))};static \u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Z1=(()=>{class n{constructor(){Ps.Z.registerVersion("angularfire",t0.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:eO,useValue:!0},{provide:tO,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.oAB({type:n});static \u0275inj=d.cJS({providers:[mP]})}return n})(),iO=(()=>{class n{constructor(t){this.firestore=t}getTratte(){return this.firestore.collection("tratte").valueChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(mP))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{gP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gP=!1}let ww,Ar=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?$r(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cw(n){return function Y1(){if(null==ww&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ww=!0}))}finally{ww=ww||!1}return ww}()?n:!!n.capture}var ol=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(ol||{});let Dx,pg,_P;function oO(){if(null==pg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pg=!1,pg;if("scrollBehavior"in document.documentElement.style)pg=!0;else{const n=Element.prototype.scrollTo;pg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return pg}function Tw(){if("object"!=typeof document||!document)return ol.NORMAL;if(null==Dx){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Dx=ol.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,Dx=0===n.scrollLeft?ol.NEGATED:ol.INVERTED),n.remove()}return Dx}function bP(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Xh(n){return n.composedPath?n.composedPath()[0]:n.target}function vP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ax(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function yP(n,e=U_){return(0,xn.e)((t,i)=>{let s=null,c=null,u=null;const g=()=>{if(s){s.unsubscribe(),s=null;const w=c;c=null,i.next(w)}};function b(){const w=u+n,C=e.now();if(C<w)return s=this.schedule(void 0,w-C),void i.add(s);g()}t.subscribe((0,an.x)(i,w=>{c=w,u=e.now(),s||(s=e.schedule(b,n),i.add(s))},()=>{g(),i.complete()},void 0,()=>{c=s=null}))})}function IP(n){return vn((e,t)=>n<=t)}function EP(n,e=0){return function vN(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function xx(n){return Array.isArray(n)?n:[n]}function Hi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function mg(n){return n instanceof d.SBq?n.nativeElement:n}let aO=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yN=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=mg(t);return new _n.y(s=>{const u=this._observeElement(i).subscribe(s);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Dt.x,s=this._mutationObserverFactory.create(c=>i.next(c));s&&s.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:s,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:s}=this._observedElements.get(t);i&&i.disconnect(),s.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(aO))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IN=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=EP(t),this._subscribe()}constructor(t,i,s){this._contentObserver=t,this._elementRef=i,this._ngZone=s,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(yP(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(yN),d.Y36(d.SBq),d.Y36(d.R0b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled",d.VuI],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[d.Xq5]})}return n})(),EN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[aO]})}return n})();const cO=new Set;let gg,wN=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TN}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function CN(n,e){if(!cO.has(n))try{gg||(gg=document.createElement("style"),e&&(gg.nonce=e),gg.setAttribute("type","text/css"),document.head.appendChild(gg)),gg.sheet&&(gg.sheet.insertRule(`@media ${n} {body{ }}`,0),cO.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Ar),d.LFG(d.Ojb,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TN(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let DN=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Dt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lO(xx(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let c=dc(lO(xx(t)).map(u=>this._registerQuery(u).observable));return c=Vo(c.pipe(qi(1)),c.pipe(IP(1),yP(0))),c.pipe((0,gt.U)(u=>{const g={matches:!1,breakpoints:{}};return u.forEach(({matches:b,query:w})=>{g.matches=g.matches||b,g.breakpoints[w]=b}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),c={observable:new _n.y(u=>{const g=b=>this._zone.run(()=>u.next(b));return i.addListener(g),()=>{i.removeListener(g)}}).pipe(or(i),(0,gt.U)(({matches:u})=>({query:t,matches:u})),Io(this._destroySubject)),mql:i};return this._queries.set(t,c),c}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(wN),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class SN{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Dt.x,this._typeaheadSubscription=Qt.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Dt.x,this.change=new Dt.x,e instanceof d.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const s=t.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(hi(t=>this._pressedLetters.push(t)),yP(e),vn(()=>this._pressedLetters.length>0),(0,gt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const c=(this._activeItemIndex+s)%i.length,u=i[c];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!e[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&s){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&s){const c=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(c<u?c:u-1,-1);break}return;default:return void((s||Ax(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const s=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof d.n_E?this._items.toArray():this._items}}class RN extends SN{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let wP=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function PN(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function MN(n){try{return n.frameElement}catch{return null}}(function UN(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===fO(i)||!this.isVisible(i)))return!1;let s=t.nodeName.toLowerCase(),c=fO(t);return t.hasAttribute("contenteditable")?-1!==c:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function VN(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==c:"video"===s?-1!==c&&(null!==c||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function BN(n){return!function ON(n){return function FN(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function kN(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function NN(n){return function LN(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||hO(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Ar))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function fO(n){if(!hO(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class jN{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,s,c=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const s=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const s=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(s)return s}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(qi(1)).subscribe(e)}}let pO=(()=>{class n{constructor(t,i,s){this._checker=t,this._ngZone=i,this._document=s}create(t,i=!1){return new jN(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(wP),d.LFG(d.R0b),d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mO(n){return 0===n.buttons||0===n.detail}function gO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const zN=new d.OlP("cdk-input-modality-detector-options"),HN={ignoreKeys:[18,17,224,91,16]},zv=Cw({passive:!0,capture:!0});let $N=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,s,c){this._platform=t,this._mostRecentTarget=null,this._modality=new Vi.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(g=>g===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xh(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mO(u)?"keyboard":"mouse"),this._mostRecentTarget=Xh(u))},this._onTouchstart=u=>{gO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xh(u))},this._options={...HN,...c},this.modalityDetected=this._modality.pipe(IP(1)),this.modalityChanged=this.modalityDetected.pipe(u0()),t.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,zv),s.addEventListener("mousedown",this._onMousedown,zv),s.addEventListener("touchstart",this._onTouchstart,zv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zv),document.removeEventListener("mousedown",this._onMousedown,zv),document.removeEventListener("touchstart",this._onTouchstart,zv))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Ar),d.LFG(d.R0b),d.LFG(ge),d.LFG(zN,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sx=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Sx||{});const qN=new d.OlP("cdk-focus-monitor-default-options"),Rx=Cw({passive:!0,capture:!0});let Mx=(()=>{class n{constructor(t,i,s,c,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Dt.x,this._rootNodeFocusAndBlurListener=g=>{for(let w=Xh(g);w;w=w.parentElement)"focus"===g.type?this._onFocus(g,w):this._onBlur(g,w)},this._document=c,this._detectionMode=u?.detectionMode||Sx.IMMEDIATE}monitor(t,i=!1){const s=mg(t);if(!this._platform.isBrowser||1!==s.nodeType)return qe();const c=function Q1(n){if(function K1(){if(null==_P){const n=typeof document<"u"?document.head:null;_P=!(!n||!n.createShadowRoot&&!n.attachShadow)}return _P}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return i&&(u.checkChildren=!0),u.subject;const g={checkChildren:i,subject:new Dt.x,rootNode:c};return this._elementInfo.set(s,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const i=mg(t),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(t,i,s){const c=mg(t);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([g,b])=>this._originChanged(g,i,b)):(this._setOrigin(i),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Sx.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===Sx.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const s=this._elementInfo.get(i),c=Xh(t);!s||!s.checkChildren&&i!==c||this._originChanged(i,this._getFocusOrigin(c),s)}_onBlur(t,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rx)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Io(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,s){this._setClasses(t,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((s,c)=>{(c===t||s.checkChildren&&c.contains(t))&&i.push([c,s])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const c=t.labels;if(c)for(let u=0;u<c.length;u++)if(c[u].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.R0b),d.LFG(Ar),d.LFG($N),d.LFG(ge,8),d.LFG(qN,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WN=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new d.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(Mx))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return n})();var _g=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(_g||{});const bO="cdk-high-contrast-black-on-white",vO="cdk-high-contrast-white-on-black",CP="cdk-high-contrast-active";let yO=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(DN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return _g.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return _g.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return _g.BLACK_ON_WHITE}return _g.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(CP,bO,vO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===_g.BLACK_ON_WHITE?t.add(CP,bO):i===_g.WHITE_ON_BLACK&&t.add(CP,vO)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Ar),d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZN=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(yO))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[EN]})}return n})();const YN=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function KN(){return(0,d.f3M)(ge)}}),QN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let bg=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function XN(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?QN.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(YN,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const eF=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function JN(){return!0}});let Jh=(()=>{class n{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!vP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(yO),d.LFG(eF,8),d.LFG(ge))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Dw,Dw]})}return n})();var Zs=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Zs||{});class aF{constructor(e,t,i,s=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=Zs.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const wO=Cw({passive:!0,capture:!0});class cF{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Xh(e);t&&this._events.get(e.type)?.forEach((i,s)=>{(s===t||s.contains(t))&&i.forEach(c=>c.handleEvent(e))})}}addHandler(e,t,i,s){const c=this._events.get(t);if(c){const u=c.get(i);u?u.add(s):c.set(i,new Set([s]))}else this._events.set(t,new Map([[i,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,wO)})}removeHandler(e,t,i){const s=this._events.get(e);if(!s)return;const c=s.get(t);c&&(c.delete(i),0===c.size&&s.delete(t),0===s.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,wO)))}}const CO={enterDuration:225,exitDuration:150},TO=Cw({passive:!0,capture:!0}),DO=["mousedown","touchstart"],AO=["mouseup","mouseleave","touchend","touchcancel"];class Px{static#e=this._eventManager=new cF;constructor(e,t,i,s){this._target=e,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=mg(i))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...CO,...i.animation};i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const u=i.radius||function uF(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+s*s)}(e,t,s),g=e-s.left,b=t-s.top,w=c.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=g-u+"px",C.style.top=b-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(C);const A=window.getComputedStyle(C),L=A.transitionDuration,K="none"===A.transitionProperty||"0s"===L||"0s, 0s"===L||0===s.width&&0===s.height,ee=new aF(this,C,i,K);C.style.transform="scale3d(1, 1, 1)",ee.state=Zs.FADING_IN,i.persistent||(this._mostRecentTransientRipple=ee);let se=null;return!K&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ee=()=>this._finishRippleTransition(ee),Be=()=>this._destroyRipple(ee);C.addEventListener("transitionend",Ee),C.addEventListener("transitioncancel",Be),se={onTransitionEnd:Ee,onTransitionCancel:Be}}),this._activeRipples.set(ee,se),(K||!w)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(e.state===Zs.FADING_OUT||e.state===Zs.HIDDEN)return;const t=e.element,i={...CO,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Zs.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=mg(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,DO.forEach(i=>{Px._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{AO.forEach(t=>{this._triggerElement.addEventListener(t,this,TO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Zs.FADING_IN?this._startFadeOutTransition(e):e.state===Zs.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Zs.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Zs.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=mO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Zs.VISIBLE||e.config.terminateOnPointerUp&&e.state===Zs.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(DO.forEach(t=>Px._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&AO.forEach(t=>e.removeEventListener(t,this,TO)))}}const xO=new d.OlP("mat-ripple-global-options");let TP=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,s,c,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Px(this,i,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Ar),d.Y36(xO,8),d.Y36(d.QbO,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){2&i&&d.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),dF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Jh,Jh]})}return n})();const SO={capture:!0},RO=["focus","click","mouseenter","touchstart"],DP="mat-ripple-loader-uninitialized",AP="mat-ripple-loader-class-name",MO="mat-ripple-loader-centered",kx="mat-ripple-loader-disabled";let hF=(()=>{class n{constructor(){this._document=(0,d.f3M)(ge,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(xO,{optional:!0}),this._platform=(0,d.f3M)(Ar),this._ngZone=(0,d.f3M)(d.R0b),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const s=t.target.closest(`[${DP}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const t of RO)this._document?.addEventListener(t,this._onInteraction,SO)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of RO)this._document?.removeEventListener(i,this._onInteraction,SO)}configureRipple(t,i){t.setAttribute(DP,""),(i.className||!t.hasAttribute(AP))&&t.setAttribute(AP,i.className||""),i.centered&&t.setAttribute(MO,""),i.disabled&&t.setAttribute(kx,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const s=this._hosts.get(t);s?s.disabled=i:i?t.setAttribute(kx,""):t.removeAttribute(kx)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",t.getAttribute(AP)),t.append(s);const c=new TP(new d.SBq(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=t,c.centered=t.hasAttribute(MO),c.disabled=t.hasAttribute(kx),this.attachRipple(t,c),c}attachRipple(t,i){t.removeAttribute(DP),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xP{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class SP extends xP{constructor(e,t,i,s,c){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s,this.projectableNodes=c}}class Ox extends xP{constructor(e,t,i,s){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class fF extends xP{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class RP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof SP?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Ox?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof fF?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class pF extends RP{constructor(e,t,i,s,c){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=u=>{const g=u.element,b=this._document.createComment("dom-portal");g.parentNode.insertBefore(b,g),this.outletElement.appendChild(g),this._attachedPortal=u,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(g,b)})},this._document=c}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=i.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);-1!==s&&t.remove(s)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let mF=(()=>{class n extends Ox{constructor(t,i){super(t,i)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Rgc),d.Y36(d.s_b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[d.qOj]})}return n})(),Hv=(()=>{class n extends RP{constructor(t,i,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=c=>{const u=c.element,g=this._document.createComment("dom-portal");c.setAttachedHost(this),u.parentNode.insertBefore(g,u),this._getRootNode().appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(u,g)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,c=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(c,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(ge))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[d.qOj]})}return n})(),Nx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const gF=["addListener","removeListener"],_F=["addEventListener","removeEventListener"],bF=["on","off"];function vg(n,e,t,i){if((0,bn.m)(t)&&(i=t,t=void 0),i)return vg(n,e,t).pipe(da(i));const[s,c]=function IF(n){return(0,bn.m)(n.addEventListener)&&(0,bn.m)(n.removeEventListener)}(n)?_F.map(u=>g=>n[u](e,g,t)):function vF(n){return(0,bn.m)(n.addListener)&&(0,bn.m)(n.removeListener)}(n)?gF.map(PO(n,e)):function yF(n){return(0,bn.m)(n.on)&&(0,bn.m)(n.off)}(n)?bF.map(PO(n,e)):[];if(!s&&yl(n))return Yn(u=>vg(u,e,t))(Nt(n));if(!s)throw new TypeError("Invalid event target");return new _n.y(u=>{const g=(...b)=>u.next(1<b.length?b:b[0]);return s(g),()=>c(g)})}function PO(n,e){return t=>i=>n[t](e,i)}function kO(n=0,e,t=j_){let i=-1;return null!=e&&(Uf(e)?t=e:i=e),new _n.y(s=>{let c=function EF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let u=0;return t.schedule(function(){s.closed||(s.next(u++),0<=i?this.schedule(void 0,i):s.complete())},c)})}const xw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=xw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const s=e(c=>{t=void 0,n(c)});return new Qt.w0(()=>t?.(s))},requestAnimationFrame(...n){const{delegate:e}=xw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=xw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class CF extends e0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;e=e||i.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,s){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw s}}}(class wF extends L_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=xw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:c}=e;null!=t&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==t&&(xw.cancelAnimationFrame(t),e._scheduled=void 0)}});let MP,DF=1;const Fx={};function OO(n){return n in Fx&&(delete Fx[n],!0)}const AF={setImmediate(n){const e=DF++;return Fx[e]=!0,MP||(MP=Promise.resolve()),MP.then(()=>OO(e)&&n()),e},clearImmediate(n){OO(n)}},{setImmediate:xF,clearImmediate:SF}=AF,Lx={setImmediate(...n){const{delegate:e}=Lx;return(e?.setImmediate||xF)(...n)},clearImmediate(n){const{delegate:e}=Lx;return(e?.clearImmediate||SF)(n)},delegate:void 0};new class MF extends e0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;e=e||i.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,s){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw s}}}(class RF extends L_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Lx.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:c}=e;null!=t&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==t&&(Lx.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function NO(n,e=U_){return function kF(n){return(0,xn.e)((e,t)=>{let i=!1,s=null,c=null,u=!1;const g=()=>{if(c?.unsubscribe(),c=null,i){i=!1;const w=s;s=null,t.next(w)}u&&t.complete()},b=()=>{c=null,u&&t.complete()};e.subscribe((0,an.x)(t,w=>{i=!0,s=w,c||Nt(n(w)).subscribe(c=(0,an.x)(t,g,b))},()=>{u=!0,(!i||!c||c.closed)&&t.complete()}))})}(()=>kO(n,e))}let FO=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new Dt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _n.y(i=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(NO(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vn(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,t)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=mg(i),c=t.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.R0b),d.LFG(Ar),d.LFG(ge,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NF=(()=>{class n{constructor(t,i,s,c){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=s,this.dir=c,this._destroyed=new Dt.x,this._elementScrolled=new _n.y(u=>this.ngZone.runOutsideAngular(()=>vg(this.elementRef.nativeElement,"scroll").pipe(Io(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=s?t.end:t.start),null==t.right&&(t.right=s?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),s&&Tw()!=ol.NORMAL?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),Tw()==ol.INVERTED?t.left=t.right:Tw()==ol.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;oO()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",s="right",c=this.elementRef.nativeElement;if("top"==t)return c.scrollTop;if("bottom"==t)return c.scrollHeight-c.clientHeight-c.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?s:i:"end"==t&&(t=u?i:s),u&&Tw()==ol.INVERTED?t==i?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:u&&Tw()==ol.NEGATED?t==i?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:t==i?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(FO),d.Y36(d.R0b),d.Y36(bg,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),Vx=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new Dt.x,this._changeListener=c=>{this._change.next(c)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),s=t.documentElement,c=s.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,left:-c.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(NO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Ar),d.LFG(d.R0b),d.LFG(ge,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),VO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Dw,LO,Dw,LO]})}return n})();var un=X(825);function LF(n,e){1&n&&d.Hsn(0)}const PP=["*"],VF=["tabListContainer"],BF=["tabList"],UF=["tabListInner"],jF=["nextPaginator"],zF=["previousPaginator"];function HF(n,e){}const $F=n=>({animationDuration:n}),GF=(n,e)=>({value:n,params:e}),qF=["tabBodyWrapper"],WF=["tabHeader"];function ZF(n,e){}function YF(n,e){if(1&n&&d.YNc(0,ZF,0,0,"ng-template",10),2&n){const t=d.oxw().$implicit;d.Q6J("cdkPortalOutlet",t.templateLabel)}}function KF(n,e){if(1&n&&d._uU(0),2&n){const t=d.oxw().$implicit;d.Oqu(t.textLabel)}}function QF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",4,5),d.NdJ("click",function(){const s=d.CHM(t),c=s.$implicit,u=s.$index,g=d.oxw(),b=d.MAs(1);return d.KtG(g._handleClick(c,b,u))})("cdkFocusChange",function(s){const u=d.CHM(t).$index,g=d.oxw();return d.KtG(g._tabFocusChanged(s,u))}),d._UZ(2,"span",6)(3,"div",7),d.TgZ(4,"span",8)(5,"span",9),d.YNc(6,YF,1,1,null,10)(7,KF,1,1),d.qZA()()()}if(2&n){const t=e.$implicit,i=e.$index,s=d.MAs(1),c=d.oxw();d.ekj("mdc-tab--active",c.selectedIndex===i),d.Q6J("id",c._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",c.fitInkBarToContent),d.uIk("tabIndex",c._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",c._tabs.length)("aria-controls",c._getTabContentId(i))("aria-selected",c.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),d.xp6(3),d.Q6J("matRippleTrigger",s)("matRippleDisabled",t.disabled||c.disableRipple),d.xp6(3),d.um2(6,t.templateLabel?6:7)}}function XF(n,e){1&n&&d.Hsn(0)}function JF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-tab-body",11),d.NdJ("_onCentered",function(){d.CHM(t);const s=d.oxw();return d.KtG(s._removeTabBodyWrapperHeight())})("_onCentering",function(s){d.CHM(t);const c=d.oxw();return d.KtG(c._setTabBodyWrapperHeight(s))}),d.qZA()}if(2&n){const t=e.$implicit,i=e.$index,s=d.oxw();d.ekj("mat-mdc-tab-body-active",s.selectedIndex===i),d.Q6J("id",s._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",s.animationDuration)("preserveContent",s.preserveContent),d.uIk("tabindex",null!=s.contentTabIndex&&s.selectedIndex===i?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(i))("aria-hidden",s.selectedIndex!==i)}}const eL=new d.OlP("MatTabContent");let tL=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[d._Bn([{provide:eL,useExisting:n}])]})}return n})();const nL=new d.OlP("MatTabLabel"),BO=new d.OlP("MAT_TAB");let iL=(()=>{class n extends mF{constructor(t,i,s){super(t,i),this._closestTab=s}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Rgc),d.Y36(d.s_b),d.Y36(BO,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[d._Bn([{provide:nL,useExisting:n}]),d.qOj]})}return n})();const UO=new d.OlP("MAT_TAB_GROUP");let jO=(()=>{class n{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,i){this._viewContainerRef=t,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Dt.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ox(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(UO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(i,s,c){if(1&i&&(d.Suo(c,iL,5),d.Suo(c,tL,7,d.Rgc)),2&i){let u;d.iGM(u=d.CRH())&&(s.templateLabel=u.first),d.iGM(u=d.CRH())&&(s._explicitContent=u.first)}},viewQuery:function(i,s){if(1&i&&d.Gf(d.Rgc,7),2&i){let c;d.iGM(c=d.CRH())&&(s._implicitContent=c.first)}},hostAttrs:["hidden",""],inputs:{disabled:["disabled","disabled",d.VuI],textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[d._Bn([{provide:BO,useExisting:n}]),d.Xq5,d.TTD,d.jDz],ngContentSelectors:PP,decls:1,vars:0,template:function(i,s){1&i&&(d.F$t(),d.YNc(0,LF,1,0,"ng-template"))},encapsulation:2})}return n})();const kP="mdc-tab-indicator--active",zO="mdc-tab-indicator--no-transition";class rL{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){const t=this._items.find(s=>s.elementRef.nativeElement===e),i=this._currentItem;if(t!==i&&(i?.deactivateInkBar(),t)){const s=i?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(s),this._currentItem=t}}}function oL(n){return class extends n{constructor(...e){super(...e),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){const t=function bN(n){return null!=n&&"false"!=`${n}`}(e);this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const t=this.elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement)return void t.classList.add(kP);const i=t.getBoundingClientRect(),s=e.width/i.width,c=e.left-i.left;t.classList.add(zO),this._inkBarContentElement.style.setProperty("transform",`translateX(${c}px) scaleX(${s})`),t.getBoundingClientRect(),t.classList.remove(zO),t.classList.add(kP),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(kP)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=e.createElement("span"),this._inkBarContentElement=e.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const aL=oL(class{});let HO=(()=>{class n extends aL{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,s){2&i&&(d.uIk("aria-disabled",!!s.disabled),d.ekj("mat-mdc-tab-disabled",s.disabled))},inputs:{fitInkBarToContent:"fitInkBarToContent",disabled:["disabled","disabled",d.VuI]},standalone:!0,features:[d.Xq5,d.qOj]})}return n})();const $O=Cw({passive:!0});let uL=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const i=isNaN(t)?0:t;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(t,i,s,c,u,g,b){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=s,this._dir=c,this._ngZone=u,this._platform=g,this._animationMode=b,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Dt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Dt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new d.vpe,this.indexFocused=new d.vpe,u.runOutsideAngular(()=>{vg(t.nativeElement,"mouseleave").pipe(Io(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){vg(this._previousPaginator.nativeElement,"touchstart",$O).pipe(Io(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),vg(this._nextPaginator.nativeElement,"touchstart",$O).pipe(Io(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:qe("ltr"),i=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new RN(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(qi(1)).subscribe(s),ks(t,i,this._items.changes,this._itemsResized()).pipe(Io(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(c=>{this.indexFocused.emit(c),this._setTabFocus(c)})}_itemsResized(){return"function"!=typeof ResizeObserver?rr:this._items.changes.pipe(or(this._items),si(t=>new _n.y(i=>this._ngZone.runOutsideAngular(()=>{const s=new ResizeObserver(c=>i.next(c));return t.forEach(c=>s.observe(c.elementRef.nativeElement)),()=>{s.disconnect()}}))),IP(1),vn(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Ax(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:c,offsetWidth:u}=i.elementRef.nativeElement;let g,b;"ltr"==this._getLayoutDirection()?(g=c,b=g+u):(b=this._tabListInner.nativeElement.offsetWidth-c,g=b-u);const w=this.scrollDistance,C=this.scrollDistance+s;g<w?this.scrollDistance-=w-g:b>C&&(this.scrollDistance+=Math.min(b-C,g-w))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),kO(650,100).pipe(Io(ks(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:c}=this._scrollHeader(t);(0===c||c>=s)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Vx),d.Y36(bg,8),d.Y36(d.R0b),d.Y36(Ar),d.Y36(d.QbO,8))};static#t=this.\u0275dir=d.lG2({type:n,inputs:{disablePagination:["disablePagination","disablePagination",d.VuI],selectedIndex:["selectedIndex","selectedIndex",d.Cb_]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[d.Xq5]})}return n})(),dL=(()=>{class n extends uL{constructor(t,i,s,c,u,g,b){super(t,i,s,c,u,g,b),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new rL(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Vx),d.Y36(bg,8),d.Y36(d.R0b),d.Y36(Ar),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,s,c){if(1&i&&d.Suo(c,HO,4),2&i){let u;d.iGM(u=d.CRH())&&(s._items=u)}},viewQuery:function(i,s){if(1&i&&(d.Gf(VF,7),d.Gf(BF,7),d.Gf(UF,7),d.Gf(jF,5),d.Gf(zF,5)),2&i){let c;d.iGM(c=d.CRH())&&(s._tabListContainer=c.first),d.iGM(c=d.CRH())&&(s._tabList=c.first),d.iGM(c=d.CRH())&&(s._tabListInner=c.first),d.iGM(c=d.CRH())&&(s._nextPaginator=c.first),d.iGM(c=d.CRH())&&(s._previousPaginator=c.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,s){2&i&&d.ekj("mat-mdc-tab-header-pagination-controls-enabled",s._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==s._getLayoutDirection())},inputs:{disableRipple:["disableRipple","disableRipple",d.VuI]},standalone:!0,features:[d.Xq5,d.qOj,d.jDz],ngContentSelectors:PP,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,s){1&i&&(d.F$t(),d.TgZ(0,"button",0,1),d.NdJ("click",function(){return s._handlePaginatorClick("before")})("mousedown",function(u){return s._handlePaginatorPress("before",u)})("touchend",function(){return s._stopInterval()}),d._UZ(2,"div",2),d.qZA(),d.TgZ(3,"div",3,4),d.NdJ("keydown",function(u){return s._handleKeydown(u)}),d.TgZ(5,"div",5,6),d.NdJ("cdkObserveContent",function(){return s._onContentChanges()}),d.TgZ(7,"div",7,8),d.Hsn(9),d.qZA()()(),d.TgZ(10,"button",9,10),d.NdJ("mousedown",function(u){return s._handlePaginatorPress("after",u)})("click",function(){return s._handlePaginatorClick("after")})("touchend",function(){return s._stopInterval()}),d._UZ(12,"div",2),d.qZA()),2&i&&(d.ekj("mat-mdc-tab-header-pagination-disabled",s._disableScrollBefore),d.Q6J("matRippleDisabled",s._disableScrollBefore||s.disableRipple)("disabled",s._disableScrollBefore||null),d.xp6(3),d.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),d.xp6(7),d.ekj("mat-mdc-tab-header-pagination-disabled",s._disableScrollAfter),d.Q6J("matRippleDisabled",s._disableScrollAfter||s.disableRipple)("disabled",s._disableScrollAfter||null))},dependencies:[TP,IN],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return n})();const hL=new d.OlP("MAT_TABS_CONFIG"),fL={translateTab:(0,un.X$)("translateTab",[(0,un.SB)("center, void, left-origin-center, right-origin-center",(0,un.oB)({transform:"none"})),(0,un.SB)("left",(0,un.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,un.SB)("right",(0,un.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,un.eR)("* => left, * => right, left => center, right => center",(0,un.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,un.eR)("void => left-origin-center",[(0,un.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,un.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,un.eR)("void => right-origin-center",[(0,un.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,un.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let pL=(()=>{class n extends Hv{constructor(t,i,s,c){super(t,i,c),this._host=s,this._centeringSub=Qt.w0.EMPTY,this._leavingSub=Qt.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(or(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36((0,d.Gpc)(()=>GO)),d.Y36(ge))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[d.qOj]})}return n})(),GO=(()=>{class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,s){this._elementRef=t,this._dir=i,this._dirChangeSubscription=Qt.w0.EMPTY,this._translateTabComplete=new Dt.x,this._onCentering=new d.vpe,this._beforeCentering=new d.vpe,this._afterLeavingCenter=new d.vpe,this._onCentered=new d.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(c=>{this._computePositionAnimationState(c),s.markForCheck()})),this._translateTabComplete.pipe(u0((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{this._isCenterPosition(c.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(c.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(bg,8),d.Y36(d.sBO))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,s){if(1&i&&d.Gf(Hv,5),2&i){let c;d.iGM(c=d.CRH())&&(s._portalHost=c.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[d.jDz],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,s){1&i&&(d.TgZ(0,"div",0,1),d.NdJ("@translateTab.start",function(u){return s._onTranslateTabStarted(u)})("@translateTab.done",function(u){return s._translateTabComplete.next(u)}),d.YNc(2,HF,0,0,"ng-template",2),d.qZA()),2&i&&d.Q6J("@translateTab",d.WLB(3,GF,s._position,d.VKq(1,$F,s.animationDuration)))},dependencies:[pL,NF],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[fL.translateTab]}})}return n})(),mL=0,_L=(()=>{class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){const i=t+"";this._animationDuration=/^\d+$/.test(i)?t+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,s,c){this._elementRef=t,this._changeDetectorRef=i,this._animationMode=c,this._tabs=new d.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Qt.w0.EMPTY,this._tabLabelSubscription=Qt.w0.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new d.vpe,this.focusChange=new d.vpe,this.animationDone=new d.vpe,this.selectedTabChange=new d.vpe(!0),this._isServer=!(0,d.f3M)(Ar).isBrowser,this._groupId=mL++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,null!=s?.contentTabIndex&&(this.contentTabIndex=s.contentTabIndex),this.preserveContent=!!s?.preserveContent,this.fitInkBarToContent=!(!s||null==s.fitInkBarToContent)&&s.fitInkBarToContent,this.stretchTabs=!s||null==s.stretchTabs||s.stretchTabs}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,c)=>s.isActive=c===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,s)=>{i.position=s-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let s;for(let c=0;c<i.length;c++)if(i[c].isActive){this._indexToSelect=this._selectedIndex=c,this._lastFocusedTabIndex=null,s=i[c];break}!s&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(or(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new bL;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=ks(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,s){i.focusIndex=s,t.disabled||(this.selectedIndex=s)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(hL,8),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,s,c){if(1&i&&d.Suo(c,jO,5),2&i){let u;d.iGM(u=d.CRH())&&(s._allTabs=u)}},viewQuery:function(i,s){if(1&i&&(d.Gf(qF,5),d.Gf(WF,5)),2&i){let c;d.iGM(c=d.CRH())&&(s._tabBodyWrapper=c.first),d.iGM(c=d.CRH())&&(s._tabHeader=c.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,s){2&i&&(d.Tol("mat-"+(s.color||"primary")),d.Udp("--mat-tab-animation-duration",s.animationDuration),d.ekj("mat-mdc-tab-group-dynamic-height",s.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===s.headerPosition)("mat-mdc-tab-group-stretch-tabs",s.stretchTabs))},inputs:{color:"color",fitInkBarToContent:["fitInkBarToContent","fitInkBarToContent",d.VuI],stretchTabs:["mat-stretch-tabs","stretchTabs",d.VuI],dynamicHeight:["dynamicHeight","dynamicHeight",d.VuI],selectedIndex:["selectedIndex","selectedIndex",d.Cb_],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:["contentTabIndex","contentTabIndex",d.Cb_],disablePagination:["disablePagination","disablePagination",d.VuI],disableRipple:["disableRipple","disableRipple",d.VuI],preserveContent:["preserveContent","preserveContent",d.VuI],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[d._Bn([{provide:UO,useExisting:n}]),d.Xq5,d.jDz],ngContentSelectors:PP,decls:9,vars:6,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(i,s){1&i&&(d.F$t(),d.TgZ(0,"mat-tab-header",0,1),d.NdJ("indexFocused",function(u){return s._focusChanged(u)})("selectFocusedIndex",function(u){return s.selectedIndex=u}),d.SjG(2,QF,8,16,"div",12,d.x6l),d.qZA(),d.YNc(4,XF,1,0),d.TgZ(5,"div",2,3),d.SjG(7,JF,1,12,"mat-tab-body",13,d.x6l),d.qZA()),2&i&&(d.Q6J("selectedIndex",s.selectedIndex||0)("disableRipple",s.disableRipple)("disablePagination",s.disablePagination),d.xp6(2),d.wJu(s._tabs),d.xp6(2),d.um2(4,s._isServer?4:-1),d.xp6(),d.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode),d.xp6(2),d.wJu(s._tabs))},dependencies:[dL,HO,WN,Rt,TP,Hv,GO],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})();class bL{}let vL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Jh,Jh]})}return n})();function yL(n,e){1&n&&(d.TgZ(0,"div",19),d._uU(1,"Inspiration"),d.qZA())}function IL(n,e){if(1&n&&(d.TgZ(0,"div",19),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(),d.Oqu(t.note)}}const ef=(n,e,t)=>({FCE:n,AMAT:e,atm:t});function EL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"article")(1,"div",9)(2,"div",10)(3,"h3",11)(4,"a",12),d.NdJ("click",function(){const c=d.CHM(t).$implicit,u=d.oxw();return d.KtG(u.sendInfo(c.id))}),d._uU(5),d.qZA()(),d.YNc(6,yL,2,0,"div",13)(7,IL,2,1,"div",13),d.qZA(),d.TgZ(8,"div",14),d._uU(9),d.TgZ(10,"a",15),d.NdJ("click",function(){const c=d.CHM(t).$implicit,u=d.oxw();return d.KtG(u.sendInfo(c.id))}),d._uU(11,"Playlist"),d._UZ(12,"span",16),d.qZA()(),d._UZ(13,"div",17)(14,"div",18),d.qZA()()}if(2&n){const t=e.$implicit;d.xp6(),d.Udp("background","url("+t.srcimg+") center no-repeat"),d.xp6(2),d.Q6J("ngClass",d.kEZ(11,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note)),d.xp6(2),d.AsE("",t.partenza," - ",t.destinazione,""),d.xp6(),d.Q6J("ngIf",""==t.note),d.xp6(),d.Q6J("ngIf",""!=t.note),d.xp6(2),d.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," (",t.note,") con questa playlist "),d.xp6(),d.Q6J("ngClass",d.kEZ(15,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note))}}function wL(n,e){1&n&&(d.TgZ(0,"div",19),d._uU(1,"Inspiration"),d.qZA())}function CL(n,e){if(1&n&&(d.TgZ(0,"div",19),d._uU(1),d.qZA()),2&n){const t=d.oxw(2).$implicit;d.xp6(),d.hij(" ",t.note," ")}}function TL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"article")(1,"div",9)(2,"div",10)(3,"h3",11)(4,"a",12),d.NdJ("click",function(){d.CHM(t);const s=d.oxw().$implicit,c=d.oxw();return d.KtG(c.sendInfo(s.id))}),d._uU(5),d.qZA()(),d.YNc(6,wL,2,0,"div",13)(7,CL,2,1,"div",13),d.qZA(),d.TgZ(8,"div",14),d._uU(9),d.TgZ(10,"a",15),d.NdJ("click",function(){d.CHM(t);const s=d.oxw().$implicit,c=d.oxw();return d.KtG(c.sendInfo(s.id))}),d._uU(11,"Playlist"),d._UZ(12,"span",16),d.qZA()(),d._UZ(13,"div",17)(14,"div",18),d.qZA()()}if(2&n){const t=d.oxw().$implicit;d.xp6(),d.Udp("background","url("+t.srcimg+") center no-repeat"),d.xp6(2),d.Q6J("ngClass",d.kEZ(11,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note)),d.xp6(2),d.AsE("",t.partenza," - ",t.destinazione,""),d.xp6(),d.Q6J("ngIf",""==t.note),d.xp6(),d.Q6J("ngIf",""!=t.note),d.xp6(2),d.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," (",t.note,") con questa playlist "),d.xp6(),d.Q6J("ngClass",d.kEZ(15,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note))}}function DL(n,e){if(1&n&&(d.ynx(0),d.YNc(1,TL,15,19,"article",20),d.BQk()),2&n){const t=e.$implicit;d.xp6(),d.Q6J("ngIf","treno"==t.mezzo)}}function AL(n,e){1&n&&(d.TgZ(0,"div",19),d._uU(1,"Inspiration"),d.qZA())}function xL(n,e){if(1&n&&(d.TgZ(0,"div",19),d._uU(1),d.qZA()),2&n){const t=d.oxw(2).$implicit;d.xp6(),d.hij(" ",t.note," ")}}function SL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"article")(1,"div",9)(2,"div",10)(3,"h3",11)(4,"a",12),d.NdJ("click",function(){d.CHM(t);const s=d.oxw().$implicit,c=d.oxw();return d.KtG(c.sendInfo(s.id))}),d._uU(5),d.qZA()(),d.YNc(6,AL,2,0,"div",13)(7,xL,2,1,"div",13),d.qZA(),d.TgZ(8,"div",14),d._uU(9),d.TgZ(10,"a",15),d.NdJ("click",function(){d.CHM(t);const s=d.oxw().$implicit,c=d.oxw();return d.KtG(c.sendInfo(s.id))}),d._uU(11,"Playlist"),d._UZ(12,"span",16),d.qZA()(),d._UZ(13,"div",17)(14,"div",18),d.qZA()()}if(2&n){const t=d.oxw().$implicit;d.xp6(),d.Udp("background","url("+t.srcimg+") center no-repeat"),d.xp6(2),d.Q6J("ngClass",d.kEZ(11,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note)),d.xp6(2),d.AsE("",t.partenza," - ",t.destinazione,""),d.xp6(),d.Q6J("ngIf",""==t.note),d.xp6(),d.Q6J("ngIf",""!=t.note),d.xp6(2),d.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," (",t.note,") con questa playlist "),d.xp6(),d.Q6J("ngClass",d.kEZ(15,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note))}}function RL(n,e){if(1&n&&(d.ynx(0),d.YNc(1,SL,15,19,"article",20),d.BQk()),2&n){const t=e.$implicit;d.xp6(),d.Q6J("ngIf","tram"==t.mezzo)}}function ML(n,e){1&n&&(d.TgZ(0,"div",19),d._uU(1,"Inspiration"),d.qZA())}function PL(n,e){if(1&n&&(d.TgZ(0,"div",19),d._uU(1),d.qZA()),2&n){const t=d.oxw(2).$implicit;d.xp6(),d.hij(" ",t.note," ")}}function kL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"article")(1,"div",9)(2,"div",10)(3,"h3",11)(4,"a",12),d.NdJ("click",function(){d.CHM(t);const s=d.oxw().$implicit,c=d.oxw();return d.KtG(c.sendInfo(s.id))}),d._uU(5),d.qZA()(),d.YNc(6,ML,2,0,"div",13)(7,PL,2,1,"div",13),d.qZA(),d.TgZ(8,"div",14),d._uU(9),d.TgZ(10,"a",15),d.NdJ("click",function(){d.CHM(t);const s=d.oxw().$implicit,c=d.oxw();return d.KtG(c.sendInfo(s.id))}),d._uU(11,"Playlist"),d._UZ(12,"span",16),d.qZA()(),d._UZ(13,"div",17)(14,"div",18),d.qZA()()}if(2&n){const t=d.oxw().$implicit;d.xp6(),d.Udp("background","url("+t.srcimg+") center no-repeat"),d.xp6(2),d.Q6J("ngClass",d.kEZ(11,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note)),d.xp6(2),d.AsE("",t.partenza," - ",t.destinazione,""),d.xp6(),d.Q6J("ngIf",""==t.note),d.xp6(),d.Q6J("ngIf",""!=t.note),d.xp6(2),d.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," (",t.note,") con questa playlist "),d.xp6(),d.Q6J("ngClass",d.kEZ(15,ef,"FCE"==t.note,"AMAT"==t.note,"atm"==t.note))}}function OL(n,e){if(1&n&&(d.ynx(0),d.YNc(1,kL,15,19,"article",20),d.BQk()),2&n){const t=e.$implicit;d.xp6(),d.Q6J("ngIf","metro"==t.mezzo)}}let NL=(()=>{class n{constructor(t,i){this.firebase=t,this.router=i,this.listaTratte=[],this.sendID=new Dt.x,this.sendID$=this.sendID.asObservable()}ngOnInit(){this.firebase.getTratte().subscribe(t=>{this.listaTratte=t})}sendInfo(t){this.sendID.next(t),this.router.navigateByUrl(`/tratta/${t}`)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(iO),d.Y36(To))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-tratte"]],decls:24,vars:4,consts:[["id","picture"],[2,"width","auto"],["role","alert","id","disclaimer",1,"alert","alert-warning"],["mat-stretch-tabs","false","mat-align-tabs","center"],["label","Tutti"],[4,"ngFor","ngForOf"],["label","Treno"],["label","Tram"],["label","Metro"],[1,"blog-card","spring-fever"],[1,"title-content"],[3,"ngClass"],[3,"click"],["class","intro",4,"ngIf"],[1,"card-info"],[3,"ngClass","click"],[1,"licon","icon-arr","icon-black"],[1,"gradient-overlay"],[1,"color-overlay"],[1,"intro"],[4,"ngIf"]],template:function(i,s){1&i&&(d._UZ(0,"div",0),d.TgZ(1,"article",1)(2,"div",2)(3,"p")(4,"strong"),d._uU(5,"Disclaimer :"),d.qZA(),d._uU(6," Le canzoni presentate su SpotiRFI sono state scelte esclusivamente sulla base dell'adeguatezza del titolo con il nome delle stazioni ferroviarie. La scelta di una canzone non implica un'approvazione o un'adesione al testo, al significato o a qualsiasi altro aspetto della canzone stessa. Le canzoni sono fornite solo a scopo di intrattenimento e non intendono rappresentare o riflettere le opinioni di SpotiRFI. "),d.qZA()()(),d.TgZ(7,"mat-tab-group",3)(8,"mat-tab",4),d._UZ(9,"br"),d.TgZ(10,"section"),d.YNc(11,EL,15,19,"article",5),d.qZA()(),d.TgZ(12,"mat-tab",6),d._UZ(13,"br"),d.TgZ(14,"section"),d.YNc(15,DL,2,1,"ng-container",5),d.qZA()(),d.TgZ(16,"mat-tab",7),d._UZ(17,"br"),d.TgZ(18,"section"),d.YNc(19,RL,2,1,"ng-container",5),d.qZA()(),d.TgZ(20,"mat-tab",8),d._UZ(21,"br"),d.TgZ(22,"section"),d.YNc(23,OL,2,1,"ng-container",5),d.qZA()()()),2&i&&(d.xp6(11),d.Q6J("ngForOf",s.listaTratte),d.xp6(4),d.Q6J("ngForOf",s.listaTratte),d.xp6(4),d.Q6J("ngForOf",s.listaTratte),d.xp6(4),d.Q6J("ngForOf",s.listaTratte))},dependencies:[Rt,on,Zu,jO,_L],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";#picture[_ngcontent-%COMP%]{background-image:url(104Agnone.ea135585ad9e7ea3.JPG);width:100%;height:550px;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}.mat-tab-group[_ngcontent-%COMP%]{margin-bottom:48px}article[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;margin:auto auto 4rem;font-family:Merienda,cursive;width:500px}section[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}#disclaimer[_ngcontent-%COMP%]{margin:4em 1em 3.5em;text-align:justify}p[_ngcontent-%COMP%]{font-size:19px;line-height:1.6}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background:linear-gradient(to bottom,rgba(0,5,10,.4) 0%,rgba(0,0,0,0) 100%);font-family:"Droid Serif",serif}.blog-card[_ngcontent-%COMP%]{max-width:550px;width:100%;height:500px;position:relative;font-family:"Droid Serif",serif;color:#fff;top:20%;right:0;left:0;margin:0 auto;overflow:hidden;border-radius:0;box-shadow:0 10px 20px -9px #00000080;text-align:center;transition:all .4s;background-size:100%}.blog-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;transition:all .2s;cursor:pointer}.blog-card[_ngcontent-%COMP%]   .color-overlay[_ngcontent-%COMP%]{background:rgba(64,84,94,.5);width:550px;height:500px;position:absolute;z-index:10;top:0;left:0;transition:background .3s cubic-bezier(.33,.66,.66,1)}.blog-card[_ngcontent-%COMP%]   .gradient-overlay[_ngcontent-%COMP%]{background-image:linear-gradient(transparent 0%,rgba(0,0,0,.6) 21%);width:550px;height:500px;position:absolute;top:350px;left:0;z-index:15}.blog-card[_ngcontent-%COMP%]:hover{box-shadow:0 18px 20px -9px #000a1ebf}.blog-card[_ngcontent-%COMP%]:hover   .card-info[_ngcontent-%COMP%]{opacity:1;bottom:100px}.blog-card[_ngcontent-%COMP%]:hover   .color-overlay[_ngcontent-%COMP%]{background:rgba(64,64,70,.8)}.blog-card[_ngcontent-%COMP%]:hover   .title-content[_ngcontent-%COMP%]{margin-top:70px}.title-content[_ngcontent-%COMP%]{text-align:center;margin:170px 0 0;position:absolute;z-index:20;width:100%;top:0;left:0;transition:all .6s}.blog-card[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_changeLetter .3s 1 linear;width:80%}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-size:1.9em;font-weight:400;letter-spacing:1px;font-family:Abril Fatface,serif;margin-bottom:0;display:inline-block}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-shadow:0px 0px 10px rgba(0,0,0,.5);transition:all .2s}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-shadow:0px 8px 20px rgba(0,0,0,.95)}h3[_ngcontent-%COMP%]:after{content:" ";display:block;width:10%;height:2px;margin:20px auto;border:0;background:#006564;transition:all .2s}h3.FCE[_ngcontent-%COMP%]:after{background:#065DA8}h3.AMAT[_ngcontent-%COMP%]:after{background:#00A0C7}h3.atm[_ngcontent-%COMP%]:after{background:#D60B25}@keyframes _ngcontent-%COMP%_changeLetter{0%{width:10%}to{width:80%}}.intro[_ngcontent-%COMP%]{width:170px;margin:0 auto;color:#ddd;font-style:italic;line-height:18px}.intro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd}.intro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-info[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;position:absolute;bottom:-40px;left:0;margin:0 auto;padding:0 50px;font-size:16px;line-height:24px;z-index:20;opacity:0;transition:bottom .64s,opacity .63s cubic-bezier(.33,.66,.66,1)}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100px;margin:15px auto;background:#fff;color:#444;padding:3px 10px;border-radius:2px;font-size:.8em}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#006564;color:#fff}.card-info[_ngcontent-%COMP%]   a.FCE[_ngcontent-%COMP%]:hover{background:#065DA8}.card-info[_ngcontent-%COMP%]   a.AMAT[_ngcontent-%COMP%]:hover{background:#00A0C7}.card-info[_ngcontent-%COMP%]   a.atm[_ngcontent-%COMP%]:hover{background:#D60B25}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{filter:brightness(10);opacity:1}.licon[_ngcontent-%COMP%]{position:relative;width:23px;height:15px;display:inline-block;vertical-align:middle}.licon[_ngcontent-%COMP%]:before{content:"";background:url(https://rawcdn.githack.com/Nodws/NodPen/ffad95aa5244b4b09a3c7c1508a018959bbedb7e/postItem/licons.svg?) -2px -6px no-repeat;background-size:250px;width:26px;height:20px;display:inline-block;vertical-align:middle;position:absolute;top:-3px;left:0}.icon-black[_ngcontent-%COMP%]{filter:brightness(0);opacity:.6}@media (max-width:750px){.utility-info[_ngcontent-%COMP%]{text-align:center}.utility-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin:0;box-sizing:border-box}.utility-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:49%;display:inline-block;box-sizing:border-box;margin:0}}@media (max-width:500px){.utility-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{width:100%}.card-info[_ngcontent-%COMP%]{display:none}.blog-card[_ngcontent-%COMP%]:hover   .title-content[_ngcontent-%COMP%], .title-content[_ngcontent-%COMP%]{margin-top:40px}.blog-card[_ngcontent-%COMP%]{height:300px}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em}.intro[_ngcontent-%COMP%]{font-size:.8em}}#profile-badges[_ngcontent-%COMP%]:after{content:"BRO";font-family:"Lato","Lucida Grande","Lucida Sans Unicode",Tahoma,Sans-Serif;font-size:13px;font-weight:500;text-transform:uppercase;padding:1px 4px;color:#000!important;border-radius:3px;position:relative;top:-2px;text-shadow:none!important;white-space:nowrap;letter-spacing:0;background:#FFDD40}.profile-header[_ngcontent-%COMP%]{background:#333 url(https://images.unsplash.com/photo-1435783099294-283725c37230?dpr=1&auto=compress,format&fit=crop&w=1376&h=635&q=80&cs=tinysrgb&crop=&bg=) top center no-repeat;background-size:cover;font-size:3em;position:relative}.profile-header[_ngcontent-%COMP%]:after{position:absolute;content:"";display:block;width:100%;height:100%;top:0;left:0;background:rgba(23,23,31,.42);z-index:0}#profile-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Abril Fatface,serif;font-size:1.2em}.profile-links[_ngcontent-%COMP%]   a[href*="nodws.com"][_ngcontent-%COMP%]:before{content:"\\2616";color:#0a45b5;padding-right:3px}.profile-links[_ngcontent-%COMP%]   a[href*=twitter][_ngcontent-%COMP%]:before{content:"\\1f426";color:#08c}.profile-links[_ngcontent-%COMP%]   a[href*=dribbble][_ngcontent-%COMP%]:before{content:"\\26be";color:#d055bf}#following-this-user[_ngcontent-%COMP%]{pointer-events:none}#follow-this-user[_ngcontent-%COMP%]{font-size:1.2em;border-color:#359ef9}#follow-this-user[_ngcontent-%COMP%]:after{content:"\\1f448"}.links-and-stats[_ngcontent-%COMP%]{background:rgb(20,20,21)}.profile-name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-shadow:0 6px 9px rgba(0,0,0,.48)}.profile-avatar[_ngcontent-%COMP%]{bottom:-10px;width:150px;height:150px;border:0px solid #1E1E1E;background:rgba(2,2,2,.49);box-shadow:0 19px 19px -10px #000000a1}.profile-username[_ngcontent-%COMP%], .upsell[_ngcontent-%COMP%], .profile-location[_ngcontent-%COMP%], .primary-pro[_ngcontent-%COMP%]{opacity:0}.upsell[_ngcontent-%COMP%], #pen-as-header-question[_ngcontent-%COMP%]{display:none}.profile-nav-1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.2rem}.profile-bio[_ngcontent-%COMP%], .profile-nav-1[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .profile-nav-1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#14141596!important;font-size:1.2rem}.meta[_ngcontent-%COMP%]   .pen-title[_ngcontent-%COMP%]{font-family:"Droid Serif",serif;text-align:center}.pagination-button[_ngcontent-%COMP%]{background-color:#2f2f31;border-color:#2f2f31;transition:all .2s}.pagination-button[_ngcontent-%COMP%]:hover{box-shadow:0 3px 8px #0003}.single-project[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%], .single-pen[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{text-align:center;width:100%}.stats[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#bda26b}.stats[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .loves[_ngcontent-%COMP%]   .icon-heart[_ngcontent-%COMP%]{fill:#2f2f3100!important;stroke:#ba6!important;stroke-width:.1em!important}.loves[_ngcontent-%COMP%]   .icon-heart[_ngcontent-%COMP%]{stroke-width:.5em!important}.comments[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-width:.35em!important}.single-stat.loves.loved-1[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#fff!important}.single-pen[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]:after{width:40%;transition:all .2s}.pen-actions[_ngcontent-%COMP%]{border:0px!important}.meta[_ngcontent-%COMP%]{box-shadow:none!important}']})}return n})(),FL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-chisiamo"]],decls:7,vars:0,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"],["id","picture"],["id","content"],[1,"mb-4"]],template:function(i,s){1&i&&(d._UZ(0,"link",0)(1,"div",1),d.TgZ(2,"div",2)(3,"h2"),d._uU(4,"Chi Siamo"),d.qZA(),d.TgZ(5,"p",3),d._uU(6," Siamo un gruppo di appassionati di viaggi e di musica, con un amore particolare per le ferrovie. La nostra passione per l'esplorazione e la scoperta ci ha portato a creare SpotiRFI, un progetto unico che unisce la bellezza del viaggio in treno con il potere evocativo della musica. Ogni stazione ferroviaria sulla mappa diventa una tappa di un viaggio musicale attraverso la Sicilia, offrendo un'esperienza unica che speriamo possa arricchire i vostri viaggi tanto quanto ha arricchito i nostri. "),d.qZA()())},styles:["#picture[_ngcontent-%COMP%]{background-image:url(PMAgnone.c90becf0931e3593.JPG);width:100%;height:550px;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}h2[_ngcontent-%COMP%]{margin-top:2em}#content[_ngcontent-%COMP%]{max-width:58em;text-align:justify;margin:0 auto;padding:2em}"]})}return n})(),LL=(()=>{class n{constructor(t){this.path="";let i=t.path().split("/");this.path=i[1].toUpperCase()}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Ue))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-tabellone"]],decls:50,vars:1,consts:[["href","https://fonts.cdnfonts.com/css/caros","rel","stylesheet"],[1,"background"],[1,"riga"],[1,"binario"],[1,"destinazione"],[1,"pdest"],[1,"treno"],[1,"ptreno"],[1,"partenza"],[1,"ppart"],[1,"info"],[1,"pinfo"]],template:function(i,s){1&i&&(d._UZ(0,"link",0),d.TgZ(1,"div",1),d._UZ(2,"br"),d.TgZ(3,"div",2)(4,"div",3)(5,"h2")(6,"b"),d._uU(7,"1"),d.qZA()()(),d.TgZ(8,"div",4)(9,"p")(10,"b"),d._uU(11,"destinazione "),d.qZA(),d.TgZ(12,"i"),d._uU(13,"destination"),d.qZA()(),d.TgZ(14,"div",5)(15,"h4"),d._uU(16),d.qZA()()()(),d._UZ(17,"br"),d.TgZ(18,"div",2)(19,"div",6)(20,"p")(21,"b"),d._uU(22,"treno "),d.qZA(),d.TgZ(23,"i"),d._uU(24,"train"),d.qZA()(),d.TgZ(25,"div",7)(26,"h4"),d._uU(27,"SPOTIRFI"),d.qZA(),d.TgZ(28,"h5"),d._uU(29,"REG 21886"),d.qZA()()(),d.TgZ(30,"div",8)(31,"p")(32,"b"),d._uU(33,"partenza "),d.qZA(),d.TgZ(34,"i"),d._uU(35,"departure"),d.qZA()(),d.TgZ(36,"div",9)(37,"h4"),d._uU(38,"CANCELLATO"),d.qZA()()()(),d._UZ(39,"br"),d.TgZ(40,"div",2)(41,"div",10)(42,"p")(43,"b"),d._uU(44,"informazioni "),d.qZA(),d.TgZ(45,"i"),d._uU(46,"informations"),d.qZA()(),d.TgZ(47,"div",11)(48,"h4"),d._uU(49,"E' SEVERAMENTE VIETATO ATTRAVERSARE LA LINEA GIALLA"),d.qZA()()()()()),2&i&&(d.xp6(16),d.Oqu(s.path))},styles:['@import"https://fonts.cdnfonts.com/css/caros";.background[_ngcontent-%COMP%]{width:40em;height:20.35em;background-color:#000;margin:auto}.riga[_ngcontent-%COMP%]{border-top:.1em white solid;width:38em;margin:0 1em}.binario[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}h2[_ngcontent-%COMP%]{font-size:5em}.destinazione[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.destinazione[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pdest[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 20s linear infinite}.pdest[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em;overflow:hidden}.treno[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}.treno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ptreno[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:10.99em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ptreno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;margin-left:.2em;margin-bottom:.1em}.ptreno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1em;margin-left:.2em}.partenza[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.partenza[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ppart[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ppart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em}.info[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pinfo[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:38em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite;overflow:hidden}.pinfo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8em;white-space:nowrap;position:relative;animation:_ngcontent-%COMP%_scroll-left 20s linear infinite}@keyframes _ngcontent-%COMP%_lighting{0%{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}to{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(100%)}to{transform:translate(-100%)}}']})}return n})(),VL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-notfound"]],decls:6,vars:0,consts:[["controls","","autoplay",""],["src","assets/404.mp3","type","audio/mpeg"]],template:function(i,s){1&i&&(d.TgZ(0,"article"),d._UZ(1,"app-tabellone"),d.qZA(),d.TgZ(2,"article")(3,"audio",0),d._UZ(4,"source",1),d._uU(5," Il tuo browser non supporta l'elemento audio. "),d.qZA()())},dependencies:[LL],styles:["article[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;margin:6em;font-family:Merienda,cursive}"]})}return n})();function BL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",16),d.NdJ("click",function(){const c=d.CHM(t).$implicit,u=d.oxw(2).$implicit,g=d.oxw();return d.KtG(g.stationToModal(c,u.note))}),d._uU(1),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(),d.Oqu(t)}}function UL(n,e){if(1&n&&(d.TgZ(0,"div",13),d._UZ(1,"iframe",14)(2,"br")(3,"br")(4,"br"),d.TgZ(5,"ul"),d.YNc(6,BL,2,1,"li",15),d.qZA()()),2&n){const t=d.oxw().index,i=d.oxw();d.xp6(),d.Q6J("src",i.srcs[t],d.uOi),d.xp6(5),d.Q6J("ngForOf",i.stations[t])}}function jL(n,e){if(1&n&&(d.TgZ(0,"div",11),d.YNc(1,UL,7,2,"div",12),d.qZA()),2&n){const t=e.$implicit,i=d.oxw();d.xp6(),d.Q6J("ngIf",t.id==i.id)}}const zL=[{path:"",component:Cc},{path:"home",component:Cc},{path:"tratte",component:NL},{path:"chisiamo",component:FL},{path:"tratta/:id",component:(()=>{class n{constructor(t,i,s){this.fireServ=t,this.route=i,this.sanitizer=s,this.id=null,this.tratte=[],this.stations=[],this.srcs=[],this.actualStation="",this.actualLine=""}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.fireServ.getTratte().subscribe(t=>{let i=0;for(let s of t){let c;this.trattaSrc=this.sanitizer.bypassSecurityTrustResourceUrl(s.src),this.srcs.push(this.trattaSrc),this.stations[i]=this.stations[i]||[],c=s.stations.split("_"),this.stations[i]=c,i++}this.tratte=t})}stationToModal(t,i){this.actualStation=t,this.actualLine=i}openMaps(){let t,i;i="AMAT"==this.actualLine?"fermata tram "+this.actualLine+" di "+this.actualStation+" Palermo":"atm"==this.actualLine?"fermata tram "+this.actualLine+" di "+this.actualStation+" Messina":"stazione di "+this.actualStation,t="https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(i),window.open(t,"_blank"),console.log(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(iO),d.Y36(fi),d.Y36(Hg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-playlist-page"]],decls:15,vars:2,consts:[["class","container",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"container"],["class","incontainer",4,"ngIf"],[1,"incontainer"],["width","100%","height","500","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px",3,"src"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click"]],template:function(i,s){1&i&&(d.YNc(0,jL,2,1,"div",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),d._uU(6),d.qZA(),d._UZ(7,"button",6),d.qZA(),d.TgZ(8,"div",7),d._uU(9," ... "),d.qZA(),d.TgZ(10,"div",8)(11,"button",9),d._uU(12,"Close"),d.qZA(),d.TgZ(13,"button",10),d.NdJ("click",function(){return s.openMaps()}),d._uU(14,"Apri su Maps"),d.qZA()()()()()),2&i&&(d.Q6J("ngForOf",s.tratte),d.xp6(6),d.hij("Stazione di ",s.actualStation,""))},dependencies:[on,Zu],styles:['@import"https://fonts.cdnfonts.com/css/futura-std-4";.container[_ngcontent-%COMP%]{align-items:center;width:55%;margin-bottom:4em;margin-top:6em}.incontainer[_ngcontent-%COMP%]{align-items:center;font-family:Futura Std,sans-serif;font-weight:700;font-size:x-large}.map[_ngcontent-%COMP%]{display:block;margin:auto;width:75%;height:auto}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:auto;width:max-content}li[_ngcontent-%COMP%]:before{content:"";border-radius:50%;width:.625em;height:.625em;background:red;display:inline-block;margin-right:.625em}li[_ngcontent-%COMP%]{margin:.625em 0;position:relative;cursor:pointer}li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:.125em;height:calc(100% + .625em);background:red;left:.25em;top:.625em}li[_ngcontent-%COMP%]:first-child:after{top:.625em}li[_ngcontent-%COMP%]:last-child:after{height:0}@media screen and (min-width: 1025px) and (max-width: 1300px){.container[_ngcontent-%COMP%]{align-items:center;width:72%}}@media screen and (min-width: 768px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{align-items:center;width:77%}}@media screen and (min-width: 281px) and (max-width: 767px){.container[_ngcontent-%COMP%]{align-items:center;width:90%}}@media screen and (max-width: 280px){.container[_ngcontent-%COMP%]{align-items:center;width:97%}}']})}return n})()},{path:"**",component:VL}];let HL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[N_.forRoot(zL),N_]})}return n})(),$L=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:20,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body","fixed-top"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["src","assets/logocompatto.png","alt","Logo","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","tratte",1,"nav-link"],["routerLink","chisiamo",1,"nav-link"],["href","https://www.rfi.it/it.html","target","_blank",1,"nav-link"],["href","https://open.spotify.com/intl-it","target","_blank",1,"nav-link"]],template:function(i,s){1&i&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),d._UZ(3,"img",3),d.qZA(),d.TgZ(4,"button",4),d._UZ(5,"span",5),d.qZA(),d.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),d._uU(10,"Le tratte"),d.qZA()(),d.TgZ(11,"li",8)(12,"a",10),d._uU(13,"Chi siamo"),d.qZA()(),d.TgZ(14,"li",8)(15,"a",11),d._uU(16," RFI "),d.qZA()(),d.TgZ(17,"li",8)(18,"a",12),d._uU(19," Spotify "),d.qZA()()()()()())},dependencies:[ql],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#shareButton[_ngcontent-%COMP%]{color:transparent;background-color:transparent;border:transparent;float:right}nav[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px}']})}return n})();const qO=oO();class GL{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Hi(-this._previousScrollPosition.left),e.style.top=Hi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,s=this._document.body.style,c=i.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),qO&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qO&&(i.scrollBehavior=c,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class qL{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(vn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class WO{enable(){}disable(){}attach(){}}function OP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ZO(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class WL{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();OP(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ZL=(()=>{class n{constructor(t,i,s,c){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new WO,this.close=u=>new qL(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new GL(this._viewportRuler,this._document),this.reposition=u=>new WL(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=c}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(FO),d.LFG(Vx),d.LFG(d.R0b),d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class YO{constructor(e){if(this.scrollStrategy=new WO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class YL{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let KO=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KL=(()=>{class n extends KO{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=s=>{const c=this._attachedOverlays;for(let u=c.length-1;u>-1;u--)if(c[u]._keydownEvents.observers.length>0){const g=c[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge),d.LFG(d.R0b,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QL=(()=>{class n extends KO{constructor(t,i,s){super(t),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=Xh(c)},this._clickListener=c=>{const u=Xh(c),g="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const b=this._attachedOverlays.slice();for(let w=b.length-1;w>-1;w--){const C=b[w];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(g))break;const A=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(c)):A.next(c)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge),d.LFG(Ar),d.LFG(d.R0b,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bx=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||vP()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}const i=this._document.createElement("div");i.classList.add(t),vP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ge),d.LFG(Ar))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ux{constructor(e,t,i,s,c,u,g,b,w,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=c,this._keyboardDispatcher=u,this._document=g,this._location=b,this._outsideClickDispatcher=w,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Dt.x,this._attachments=new Dt.x,this._detachments=new Dt.x,this._locationChanges=Qt.w0.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._backdropTransitionendHandler=A=>{this._disposeBackdrop(A.target)},this._keydownEvents=new Dt.x,this._outsidePointerEvents=new Dt.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Hi(this._config.width),e.height=Hi(this._config.height),e.minWidth=Hi(this._config.minWidth),e.minHeight=Hi(this._config.minHeight),e.maxWidth=Hi(this._config.maxWidth),e.maxHeight=Hi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const s=xx(t||[]).filter(c=>!!c);s.length&&(i?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Io(ks(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const QO="cdk-overlay-connected-position-bounding-box",XL=/([A-Za-z%]+)$/;class JL{get positions(){return this._preferredPositions}constructor(e,t,i,s,c){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Dt.x,this._resizeSubscription=Qt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(QO),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=this._containerRect,c=[];let u;for(let g of this._preferredPositions){let b=this._getOriginPoint(e,s,g),w=this._getOverlayPoint(b,t,g),C=this._getOverlayFit(w,t,i,g);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,b);this._canFitWithFlexibleDimensions(C,w,i)?c.push({position:g,origin:b,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(b,g)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:w,originPoint:b,position:g,overlayRect:t})}if(c.length){let g=null,b=-1;for(const w of c){const C=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);C>b&&(b=C,g=w)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let s,c;if("center"==i.originX)s=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,g=this._isRtl()?e.left:e.right;s="start"==i.originX?u:g}return t.left<0&&(s-=t.left),c="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(c-=t.top),{x:s,y:c}}_getOverlayPoint(e,t,i){let s,c;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,c="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+s,y:e.y+c}}_getOverlayFit(e,t,i,s){const c=JO(t);let{x:u,y:g}=e,b=this._getOffset(s,"x"),w=this._getOffset(s,"y");b&&(u+=b),w&&(g+=w);let M=0-g,L=g+c.height-i.height,K=this._subtractOverflows(c.width,0-u,u+c.width-i.width),ee=this._subtractOverflows(c.height,M,L),se=K*ee;return{visibleArea:se,isCompletelyWithinViewport:c.width*c.height===se,fitsInViewportVertically:ee===c.height,fitsInViewportHorizontally:K==c.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,c=i.right-t.x,u=XO(this._overlayRef.getConfig().minHeight),g=XO(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=s)&&(e.fitsInViewportHorizontally||null!=g&&g<=c)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=JO(t),c=this._viewportRect,u=Math.max(e.x+s.width-c.width,0),g=Math.max(e.y+s.height-c.height,0),b=Math.max(c.top-i.top-e.y,0),w=Math.max(c.left-i.left-e.x,0);let C=0,A=0;return C=s.width<=c.width?w||-u:e.x<this._viewportMargin?c.left-i.left-e.x:0,A=s.height<=c.height?b||-g:e.y<this._viewportMargin?c.top-i.top-e.y:0,this._previousPushAmount={x:C,y:A},{x:e.x+C,y:e.y+A}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new YL(e,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let c=0;c<t.length;c++)t[c].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,s=this._isRtl();let c,u,g,C,A,M;if("top"===t.overlayY)u=e.y,c=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)g=i.height-e.y+2*this._viewportMargin,c=i.height-g+this._viewportMargin;else{const L=Math.min(i.bottom-e.y+i.top,e.y),K=this._lastBoundingBoxSize.height;c=2*L,u=e.y-L,c>K&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-K/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)M=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)A=e.x,C=i.right-e.x;else{const L=Math.min(i.right-e.x+i.left,e.x),K=this._lastBoundingBoxSize.width;C=2*L,A=e.x-L,C>K&&!this._isInitialRender&&!this._growAfterOpen&&(A=e.x-K/2)}return{top:u,left:A,bottom:g,right:M,width:C,height:c}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=Hi(i.height),s.top=Hi(i.top),s.bottom=Hi(i.bottom),s.width=Hi(i.width),s.left=Hi(i.left),s.right=Hi(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",c&&(s.maxHeight=Hi(c)),u&&(s.maxWidth=Hi(u))}this._lastBoundingBoxSize=i,yg(this._boundingBox.style,s)}_resetBoundingBoxStyles(){yg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},s=this._hasExactPosition(),c=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const C=this._viewportRuler.getViewportScrollPosition();yg(i,this._getExactOverlayY(t,e,C)),yg(i,this._getExactOverlayX(t,e,C))}else i.position="static";let g="",b=this._getOffset(t,"x"),w=this._getOffset(t,"y");b&&(g+=`translateX(${b}px) `),w&&(g+=`translateY(${w}px)`),i.transform=g.trim(),u.maxHeight&&(s?i.maxHeight=Hi(u.maxHeight):c&&(i.maxHeight="")),u.maxWidth&&(s?i.maxWidth=Hi(u.maxWidth):c&&(i.maxWidth="")),yg(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":s.top=Hi(c.y),s}_getExactOverlayX(e,t,i){let u,s={left:"",right:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":s.left=Hi(c.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZO(e,i),isOriginOutsideView:OP(e,i),isOverlayClipped:ZO(t,i),isOverlayOutsideView:OP(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&xx(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function yg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function XO(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(XL);return t&&"px"!==t?null:parseFloat(e)}return n||null}function JO(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const e1="cdk-global-overlay-wrapper";class eV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(e1),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:c,maxWidth:u,maxHeight:g}=i,b=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==c&&"100vh"!==c||g&&"100%"!==g&&"100vh"!==g),C=this._xPosition,A=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let L="",K="",ee="";b?ee="flex-start":"center"===C?(ee="center",M?K=A:L=A):M?"left"===C||"end"===C?(ee="flex-end",L=A):("right"===C||"start"===C)&&(ee="flex-start",K=A):"left"===C||"start"===C?(ee="flex-start",L=A):("right"===C||"end"===C)&&(ee="flex-end",K=A),e.position=this._cssPosition,e.marginLeft=b?"0":L,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=b?"0":K,t.justifyContent=ee,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(e1),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let tV=(()=>{class n{constructor(t,i,s,c){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=c}global(){return new eV}flexibleConnectedTo(t){return new JL(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Vx),d.LFG(ge),d.LFG(Ar),d.LFG(Bx))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nV=0,Gu=(()=>{class n{constructor(t,i,s,c,u,g,b,w,C,A,M,L){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=u,this._injector=g,this._ngZone=b,this._document=w,this._directionality=C,this._location=A,this._outsideClickDispatcher=M,this._animationsModuleType=L}create(t){const i=this._createHostElement(),s=this._createPaneElement(i),c=this._createPortalOutlet(s),u=new YO(t);return u.direction=u.direction||this._directionality.value,new Ux(c,i,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+nV++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new pF(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ZL),d.LFG(Bx),d.LFG(d._Vd),d.LFG(tV),d.LFG(KL),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ge),d.LFG(bg),d.LFG(Ue),d.LFG(QL),d.LFG(d.QbO,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const iV=new d.OlP("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,d.f3M)(Gu);return()=>n.scrollStrategies.reposition()}}),oV={provide:iV,deps:[Gu],useFactory:function rV(n){return()=>n.scrollStrategies.reposition()}};let t1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[Gu,oV],imports:[Dw,Nx,VO,VO]})}return n})();function sV(n,e){}class jx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let n1=(()=>{class n extends RP{constructor(t,i,s,c,u,g,b,w){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=c,this._interactivityChecker=u,this._ngZone=g,this._overlayRef=b,this._focusMonitor=w,this._platform=(0,d.f3M)(Ar),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,d.f3M)(d.sBO),this.attachDomPortal=C=>{this._portalOutlet.hasAttached();const A=this._portalOutlet.attachDomPortal(C);return this._contentAttached(),A},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(i)}_focusByCssSelector(t,i){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const s=bP(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=bP();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=bP()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(pO),d.Y36(ge,8),d.Y36(jx),d.Y36(wP),d.Y36(d.R0b),d.Y36(Ux),d.Y36(Mx))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(1&i&&d.Gf(Hv,7),2&i){let c;d.iGM(c=d.CRH())&&(s._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){2&i&&d.uIk("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[d.qOj,d.jDz],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){1&i&&d.YNc(0,sV,0,0,"ng-template",0)},dependencies:[Hv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class NP{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Dt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ax(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const r1=new d.OlP("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,d.f3M)(Gu);return()=>n.scrollStrategies.block()}}),aV=new d.OlP("DialogData"),cV=new d.OlP("DefaultDialogConfig");let uV=0,o1=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,s,c,u,g){this._overlay=t,this._injector=i,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Dt.x,this._afterOpenedAtThisLevel=new Dt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(or(void 0))),this._scrollStrategy=g}open(t,i){(i={...this._defaultOptions||new jx,...i}).id=i.id||"cdk-dialog-"+uV++,i.id&&this.getDialogById(i.id);const c=this._getOverlayConfig(i),u=this._overlay.create(c),g=new NP(u,i),b=this._attachContainer(u,g,i);return g.containerInstance=b,this._attachDialogContent(t,g,b,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){FP(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){FP(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),FP(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new YO({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,s){const c=s.injector||s.viewContainerRef?.injector,u=[{provide:jx,useValue:s},{provide:NP,useValue:i},{provide:Ux,useValue:t}];let g;s.container?"function"==typeof s.container?g=s.container:(g=s.container.type,u.push(...s.container.providers(s))):g=n1;const b=new SP(g,s.viewContainerRef,d.zs3.create({parent:c||this._injector,providers:u}),s.componentFactoryResolver);return t.attach(b).instance}_attachDialogContent(t,i,s,c){if(t instanceof d.Rgc){const u=this._createInjector(c,i,s,void 0);let g={$implicit:c.data,dialogRef:i};c.templateContext&&(g={...g,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),s.attachTemplatePortal(new Ox(t,null,g,u))}else{const u=this._createInjector(c,i,s,this._injector),g=s.attachComponentPortal(new SP(t,c.viewContainerRef,u,c.componentFactoryResolver));i.componentRef=g,i.componentInstance=g.instance}}_createInjector(t,i,s,c){const u=t.injector||t.viewContainerRef?.injector,g=[{provide:aV,useValue:t.data},{provide:NP,useValue:i}];return t.providers&&("function"==typeof t.providers?g.push(...t.providers(i,t,s)):g.push(...t.providers)),t.direction&&(!u||!u.get(bg,null,{optional:!0}))&&g.push({provide:bg,useValue:{value:t.direction,change:qe()}}),d.zs3.create({parent:u||c,providers:g})}_removeOpenDialog(t,i){const s=this.openDialogs.indexOf(t);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,u)=>{c?u.setAttribute("aria-hidden",c):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let s=i.length-1;s>-1;s--){const c=i[s];c!==t&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Gu),d.LFG(d.zs3),d.LFG(cV,8),d.LFG(n,12),d.LFG(Bx),d.LFG(r1))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FP(n,e){let t=n.length;for(;t--;)e(n[t])}let dV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[o1],imports:[t1,Nx,ZN,Nx]})}return n})();function hV(n,e){}class LP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const VP="mdc-dialog--open",s1="mdc-dialog--opening",a1="mdc-dialog--closing";let c1=(()=>{class n extends n1{constructor(t,i,s,c,u,g,b,w,C){super(t,i,s,c,u,g,b,C),this._animationMode=w,this._animationStateChanged=new d.vpe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?u1(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?u1(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(l1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(s1,VP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(VP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(VP),this._animationsEnabled?(this._hostElement.style.setProperty(l1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(a1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(s1,a1)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(pO),d.Y36(ge,8),d.Y36(LP),d.Y36(wP),d.Y36(d.R0b),d.Y36(Ux),d.Y36(d.QbO,8),d.Y36(Mx))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,s){2&i&&(d.Ikx("id",s._config.id),d.uIk("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),d.ekj("_mat-animation-noopable",!s._animationsEnabled))},standalone:!0,features:[d.qOj,d.jDz],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){1&i&&(d.TgZ(0,"div",0)(1,"div",1),d.YNc(2,hV,0,0,"ng-template",2),d.qZA()())},dependencies:[Hv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();const l1="--mat-dialog-transition-duration";function u1(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?EP(n.substring(0,n.length-2)):n.endsWith("s")?1e3*EP(n.substring(0,n.length-1)):"0"===n?0:null}var zx=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(zx||{});class BP{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Dt.x,this._beforeClosed=new Dt.x,this._state=zx.OPEN,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(vn(s=>"opened"===s.state),qi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(vn(s=>"closed"===s.state),qi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ks(this.backdropClick(),this.keydownEvents().pipe(vn(s=>27===s.keyCode&&!this.disableClose&&!Ax(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),d1(this,"keydown"===s.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(vn(t=>"closing"===t.state),qi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=zx.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=zx.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function d1(n,e,t){return n._closeInteractionType=e,n.close(t)}const mV=new d.OlP("MatMdcDialogData"),gV=new d.OlP("mat-mdc-dialog-default-options"),h1=new d.OlP("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,d.f3M)(Gu);return()=>n.scrollStrategies.block()}});let bV=0,Hx=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,s,c,u,g,b,w){this._overlay=t,this._defaultOptions=c,this._scrollStrategy=u,this._parentDialog=g,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Dt.x,this._afterOpenedAtThisLevel=new Dt.x,this.dialogConfigClass=LP,this.afterAllClosed=bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(or(void 0))),this._dialog=i.get(o1),this._dialogRefConstructor=BP,this._dialogContainerType=c1,this._dialogDataToken=mV}open(t,i){let s;(i={...this._defaultOptions||new LP,...i}).id=i.id||"mat-mdc-dialog-"+bV++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:jx,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(u,g,b)=>(s=new this._dialogRefConstructor(u,i,b),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:b},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentRef=c.componentRef,s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(s);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Gu),d.LFG(d.zs3),d.LFG(Ue,8),d.LFG(gV,8),d.LFG(h1),d.LFG(n,12),d.LFG(Bx),d.LFG(d.QbO,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vV=0,f1=(()=>{class n{constructor(t,i,s){this.dialogRef=t,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=_1(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){d1(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(BP,8),d.Y36(d.SBq),d.Y36(Hx))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,s){1&i&&d.NdJ("click",function(u){return s._onButtonClick(u)}),2&i&&d.uIk("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[d.TTD]})}return n})(),p1=(()=>{class n{constructor(t,i,s){this._dialogRef=t,this._elementRef=i,this._dialog=s,this.id="mat-mdc-dialog-title-"+vV++}ngOnInit(){this._dialogRef||(this._dialogRef=_1(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance;t&&Promise.resolve().then(()=>{t._removeAriaLabelledBy?.(this.id)})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(BP,8),d.Y36(d.SBq),d.Y36(Hx))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,s){2&i&&d.Ikx("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0})}return n})(),m1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return n})(),g1=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,s){2&i&&d.ekj("mat-mdc-dialog-actions-align-center","center"===s.align)("mat-mdc-dialog-actions-align-end","end"===s.align)},inputs:{align:"align"},standalone:!0})}return n})();function _1(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}let yV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[Hx],imports:[dV,t1,Nx,Jh,Jh]})}return n})();const IV=["mat-button",""],EV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],wV=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],CV=new d.OlP("MAT_BUTTON_CONFIG"),TV=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let DV=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,s,c){this._elementRef=t,this._platform=i,this._ngZone=s,this._animationMode=c,this._focusMonitor=(0,d.f3M)(Mx),this._rippleLoader=(0,d.f3M)(hF),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const u=(0,d.f3M)(CV,{optional:!0}),g=t.nativeElement,b=g.classList;this.disabledInteractive=u?.disabledInteractive??!1,this._rippleLoader?.configureRipple(g,{className:"mat-mdc-button-ripple"});for(const{attribute:w,mdcClasses:C}of TV)g.hasAttribute(w)&&b.add(...C)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275dir=d.lG2({type:n,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",d.VuI],disabled:["disabled","disabled",d.VuI],ariaDisabled:["aria-disabled","ariaDisabled",d.VuI],disabledInteractive:["disabledInteractive","disabledInteractive",d.VuI]},features:[d.Xq5]})}return n})(),v1=(()=>{class n extends DV{constructor(t,i,s,c){super(t,i,s,c)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(Ar),d.Y36(d.R0b),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,s){2&i&&(d.uIk("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),d.Tol(s.color?"mat-"+s.color:""),d.ekj("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[d.qOj,d.jDz],attrs:IV,ngContentSelectors:wV,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,s){1&i&&(d.F$t(EV),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),xV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Jh,dF,Jh]})}return n})(),SV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-disclaimer-dialog"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""]],template:function(i,s){1&i&&(d.TgZ(0,"h2",0),d._uU(1,"Dialog with elements"),d.qZA(),d.TgZ(2,"mat-dialog-content"),d._uU(3,"SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti."),d.qZA(),d.TgZ(4,"mat-dialog-actions")(5,"button",1),d._uU(6,"Close"),d.qZA()())},dependencies:[f1,p1,g1,m1,v1]})}return n})(),RV=(()=>{class n{constructor(t){this.dialog=t}openDialog(){this.dialog.open(SV)}disclaimer(){window.alert("SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti.")}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Hx))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:66,vars:0,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body"],[1,"layout"],[1,"footer-wrapper","clearfix"],[1,"grid-3","footer-logo"],["href","#"],["alt","html layout logo","src","assets/logo.png"],[1,"footer-text"],["mat-button","",3,"click"],[1,"material-symbols-outlined"],[1,"grid-3"],[1,"footer-heading"],[1,"footermenu"],["routerLink","tratte"],["routerLink","chisiamo"],["href","https://www.rfi.it/it.html","target","_blank"],["href","https://open.spotify.com/intl-it","target","_blank"],[1,"footer-contact"],["href","./tratta/PalermoMessina"],["href","./tratta/AnelloPalermo"],["href","./tratta/AgrigentoPalermo"],["href","./tratta/SiracusaCaltanissetta"],["href","./tratta/CataniaGela"],[1,"footerblog"],["href","https://www.fsitaliane.it/content/dam/fsitaliane/Documents/impegno/per-lambiente/progetti/Atlante%20delle%20linee%20ferroviarie%20dismesse.pdf","target","_blank"],["href","https://epodweb.rfi.it/Download.ashx?q=lTmHEqG6%2FeC61zq42ZZheV8ouJSzS%2B5udsN2POFdeD4hdoONi5u5MvreFVXiIbvj","target","_blank"],["href","https://www.rfi.it/it/chi-siamo/Il-rapporto-con-lo-Stato-e-con-gli-stakeholder/il-piano-commerciale.html","target","_blank"]],template:function(i,s){1&i&&(d._UZ(0,"link",0),d.TgZ(1,"footer",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),d._UZ(6,"img",6),d.qZA(),d.TgZ(7,"p",7),d._uU(8," SpotiRFI: Un viaggio musicale unico attraverso le linee ferroviarie della Sicilia. Ogni stazione, una nuova canzone. "),d.qZA(),d.TgZ(9,"button",8),d.NdJ("click",function(){return s.openDialog()}),d.TgZ(10,"span",9),d._uU(11," info "),d.qZA()()(),d.TgZ(12,"div",10)(13,"p",11),d._uU(14,"pagine"),d.qZA(),d.TgZ(15,"ul",12)(16,"li")(17,"a",13),d._uU(18,"Le tratte"),d.qZA()(),d.TgZ(19,"li")(20,"a",14),d._uU(21,"Chi siamo"),d.qZA()(),d.TgZ(22,"li")(23,"a",15),d._uU(24,"RFI"),d.qZA()(),d.TgZ(25,"li")(26,"a",16),d._uU(27,"Spotify"),d.qZA()()()(),d.TgZ(28,"div",10)(29,"p",11),d._uU(30,"link"),d.qZA(),d.TgZ(31,"ul",17)(32,"li")(33,"a",18),d._uU(34,"Palermo - Messina"),d.qZA()(),d.TgZ(35,"li")(36,"a",19),d._uU(37,"Anello Ferroviario Palermo"),d.qZA()(),d.TgZ(38,"li")(39,"a",20),d._uU(40,"Agrigento - Palermo"),d.qZA()(),d.TgZ(41,"li")(42,"a",21),d._uU(43,"Siracusa - Caltanissetta"),d.qZA()(),d.TgZ(44,"li")(45,"a",22),d._uU(46,"Catania - Gela"),d.qZA()()()(),d.TgZ(47,"div",10)(48,"p",11),d._uU(49,"link utili"),d.qZA(),d.TgZ(50,"ul",23)(51,"li")(52,"a",24),d._uU(53,"Linee dismesse"),d.qZA(),d.TgZ(54,"p"),d._uU(55,"FS Italiane"),d.qZA()(),d.TgZ(56,"li")(57,"a",25),d._uU(58,"Regolamento Circolazione Treni"),d.qZA(),d.TgZ(59,"p"),d._uU(60,"RFI"),d.qZA()(),d.TgZ(61,"li")(62,"a",26),d._uU(63,"Piano Commerciale"),d.qZA(),d.TgZ(64,"p"),d._uU(65,"RFI"),d.qZA()()()()()()())},dependencies:[ql,v1],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%]{list-style:none;text-decoration:none;margin:0}img[_ngcontent-%COMP%]{height:3.7em}html[_ngcontent-%COMP%]{overflow-y:scroll}body[_ngcontent-%COMP%]{background:#b7b7b7 none repeat scroll 0 0;font-family:Open Sans,sans-serif}ul[_ngcontent-%COMP%]{padding:0}.clearfix[_ngcontent-%COMP%]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.clearfix[_ngcontent-%COMP%]{display:inline-block}*[_ngcontent-%COMP%]   html[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{height:1%}.clearfix[_ngcontent-%COMP%]{display:block}.layout[_ngcontent-%COMP%]{margin:0 auto;max-width:1170px;width:100%;padding:0 15px}.grid-3[_ngcontent-%COMP%]{width:25%;float:left;min-height:1px;padding-left:15px;padding-right:15px;position:relative}.footer-wrapper[_ngcontent-%COMP%]{padding:100px 0}.footer-text[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;margin:40px 0 0;text-align:justify}footer[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{color:#e1e1e1;font:18px/19px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]{margin-top:32px}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{line-height:25px}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"-";margin:0 5px 0 0}.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;line-height:34px;text-transform:capitalize}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:0 8px 0 0;color:#fff}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c7c7c7;font:13px/28px Open Sans,sans-serif;letter-spacing:1.2px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b4b4b4;font:13px/18px Open Sans,sans-serif;letter-spacing:1.2px;padding-bottom:10px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c7c7c7;font:italic 12px/18px Open Sans,sans-serif}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#22c489}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 200,"GRAD" 200,"opsz" 24;color:#fff}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin:1em}@media (max-width:980px){.layout[_ngcontent-%COMP%]{width:767px}.grid-3[_ngcontent-%COMP%]{width:50%}.footer-heading[_ngcontent-%COMP%]{margin-top:18px}}@media (max-width:640px){.layout[_ngcontent-%COMP%]{width:300px}.grid-3[_ngcontent-%COMP%]{width:100%}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;float:none;line-height:25px}}']})}return n})(),MV=(()=>{class n{constructor(t){this.router=t,this.title="SpotiRFI",this.router.events.subscribe(i=>{i instanceof Zr&&window.scrollTo(0,0)})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(To))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(i,s){1&i&&d._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[v,$L,RV]})}return n})();const PV_firebaseConfig={apiKey:"AIzaSyBhT4vrImMOpXLps9RtD_GROoPflfGtM4U",authDomain:"spotirfi-cd7a9.firebaseapp.com",databaseURL:"https://spotirfi-cd7a9-default-rtdb.firebaseio.com",projectId:"spotirfi-cd7a9",storageBucket:"spotirfi-cd7a9.appspot.com",messagingSenderId:"207743558815",appId:"1:207743558815:web:1d28c36da0a303fca7eeaa",measurementId:"G-8Z6DVSWE34"};class OV{constructor(e,t,i,s,c){this.doc=e,this.delegate=t,this.zone=i,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??X.e(108).then(X.bind(X,108))).catch(t=>{throw new d.vHH(5300,!1)}).then(({\u0275createEngine:t,\u0275AnimationRendererFactory:i})=>{const s=t(this.animationType,this.doc),c=new i(this.delegate,s,this.zone);return this.delegate=c,c})}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(0===i.\u0275type)return i;"boolean"==typeof i.throwOnSyntheticProps&&(i.throwOnSyntheticProps=!1);const s=new NV(i);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{const u=c.createRenderer(e,t);s.use(u)}).catch(c=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}}class NV{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,null!==this.replay){for(const t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,s){this.delegate.insertBefore(e,t,i,s)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return null!==this.replay&&e.startsWith("@")}}function FV(n="animations"){return(0,d.MR2)([{provide:d.FYo,useFactory:(e,t,i)=>new OV(e,t,i,n),deps:[ge,oc,d.R0b]},{provide:d.QbO,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}let LV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n,bootstrap:[MV]});static#n=this.\u0275inj=d.cJS({providers:[mP,FV()],imports:[jg,HL,BS.initializeApp(PV_firebaseConfig),Z1,vL,yV,xV]})}return n})();oa().bootstrapModule(LV).catch(n=>console.error(n))},619:(rn,Ye,X)=>{X.d(Ye,{X:()=>de});var d=X(645);class de extends d.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const Se=super._subscribe(be);return!Se.closed&&be.next(this._value),Se}getValue(){const{hasError:be,thrownError:Se,_value:ge}=this;if(be)throw Se;return this._throwIfClosed(),ge}next(be){super.next(this._value=be)}}},592:(rn,Ye,X)=>{X.d(Ye,{y:()=>Pt});var d=X(305),de=X(394),z=X(850),be=X(407),Se=X(653),ge=X(674),lt=X(441);let Pt=(()=>{class ne{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const dt=new ne;return dt.source=this,dt.operator=Pe,dt}subscribe(Pe,dt,St){const Ue=function U(ne){return ne&&ne instanceof d.Lv||function G(ne){return ne&&(0,ge.m)(ne.next)&&(0,ge.m)(ne.error)&&(0,ge.m)(ne.complete)}(ne)&&(0,de.Nn)(ne)}(Pe)?Pe:new d.Hp(Pe,dt,St);return(0,lt.x)(()=>{const{operator:nt,source:Jt}=this;Ue.add(nt?nt.call(Ue,Jt):Jt?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(dt){Pe.error(dt)}}forEach(Pe,dt){return new(dt=je(dt))((St,Ue)=>{const nt=new d.Hp({next:Jt=>{try{Pe(Jt)}catch(Sn){Ue(Sn),nt.unsubscribe()}},error:Ue,complete:St});this.subscribe(nt)})}_subscribe(Pe){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(Pe)}[z.L](){return this}pipe(...Pe){return(0,be.U)(Pe)(this)}toPromise(Pe){return new(Pe=je(Pe))((dt,St)=>{let Ue;this.subscribe(nt=>Ue=nt,nt=>St(nt),()=>dt(Ue))})}}return ne.create=$e=>new ne($e),ne})();function je(ne){var $e;return null!==($e=ne??Se.config.Promise)&&void 0!==$e?$e:Promise}},645:(rn,Ye,X)=>{X.d(Ye,{x:()=>lt});var d=X(592),de=X(394);const be=(0,X(306).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=X(39),ge=X(441);let lt=(()=>{class je extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const ne=new Pt(this,this);return ne.operator=U,ne}_throwIfClosed(){if(this.closed)throw new be}next(U){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(U)}})}error(U){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:ne}=this;for(;ne.length;)ne.shift().error(U)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:ne,isStopped:$e,observers:Pe}=this;return ne||$e?de.Lc:(this.currentObservers=null,Pe.push(U),new de.w0(()=>{this.currentObservers=null,(0,Se.P)(Pe,U)}))}_checkFinalizedStatuses(U){const{hasError:ne,thrownError:$e,isStopped:Pe}=this;ne?U.error($e):Pe&&U.complete()}asObservable(){const U=new d.y;return U.source=this,U}}return je.create=(G,U)=>new Pt(G,U),je})();class Pt extends lt{constructor(G,U){super(),this.destination=G,this.source=U}next(G){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===ne||ne.call(U,G)}error(G){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===ne||ne.call(U,G)}complete(){var G,U;null===(U=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===U||U.call(G)}_subscribe(G){var U,ne;return null!==(ne=null===(U=this.source)||void 0===U?void 0:U.subscribe(G))&&void 0!==ne?ne:de.Lc}}},305:(rn,Ye,X)=>{X.d(Ye,{Hp:()=>St,Lv:()=>ne});var d=X(674),de=X(394),z=X(653),be=X(894),Se=X(420);const ge=je("C",void 0,void 0);function je(ht,Te,Je){return{kind:ht,value:Te,error:Je}}var G=X(599),U=X(441);class ne extends de.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,de.Nn)(Te)&&Te.add(this)):this.destination=Sn}static create(Te,Je,qt){return new St(Te,Je,qt)}next(Te){this.isStopped?Jt(function Pt(ht){return je("N",ht,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Jt(function lt(ht){return je("E",void 0,ht)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Jt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Pe(ht,Te){return $e.call(ht,Te)}class dt{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Je}=this;if(Je.next)try{Je.next(Te)}catch(qt){Ue(qt)}}error(Te){const{partialObserver:Je}=this;if(Je.error)try{Je.error(Te)}catch(qt){Ue(qt)}else Ue(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Je){Ue(Je)}}}class St extends ne{constructor(Te,Je,qt){let We;if(super(),(0,d.m)(Te)||!Te)We={next:Te??void 0,error:Je??void 0,complete:qt??void 0};else{let ye;this&&z.config.useDeprecatedNextContext?(ye=Object.create(Te),ye.unsubscribe=()=>this.unsubscribe(),We={next:Te.next&&Pe(Te.next,ye),error:Te.error&&Pe(Te.error,ye),complete:Te.complete&&Pe(Te.complete,ye)}):We=Te}this.destination=new dt(We)}}function Ue(ht){z.config.useDeprecatedSynchronousErrorHandling?(0,U.O)(ht):(0,be.h)(ht)}function Jt(ht,Te){const{onStoppedNotification:Je}=z.config;Je&&G.z.setTimeout(()=>Je(ht,Te))}const Sn={closed:!0,next:Se.Z,error:function nt(ht){throw ht},complete:Se.Z}},394:(rn,Ye,X)=>{X.d(Ye,{Lc:()=>ge,w0:()=>Se,Nn:()=>lt});var d=X(674);const z=(0,X(306).d)(je=>function(U){je(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((ne,$e)=>`${$e+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var be=X(39);class Se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Pe of U)Pe.remove(this);else U.remove(this);const{initialTeardown:ne}=this;if((0,d.m)(ne))try{ne()}catch(Pe){G=Pe instanceof z?Pe.errors:[Pe]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Pe of $e)try{Pt(Pe)}catch(dt){G=G??[],dt instanceof z?G=[...G,...dt.errors]:G.push(dt)}}if(G)throw new z(G)}}add(G){var U;if(G&&G!==this)if(this.closed)Pt(G);else{if(G instanceof Se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(G)}}_hasParent(G){const{_parentage:U}=this;return U===G||Array.isArray(U)&&U.includes(G)}_addParent(G){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(G),U):U?[U,G]:G}_removeParent(G){const{_parentage:U}=this;U===G?this._parentage=null:Array.isArray(U)&&(0,be.P)(U,G)}remove(G){const{_finalizers:U}=this;U&&(0,be.P)(U,G),G instanceof Se&&G._removeParent(this)}}Se.EMPTY=(()=>{const je=new Se;return je.closed=!0,je})();const ge=Se.EMPTY;function lt(je){return je instanceof Se||je&&"closed"in je&&(0,d.m)(je.remove)&&(0,d.m)(je.add)&&(0,d.m)(je.unsubscribe)}function Pt(je){(0,d.m)(je)?je():je.unsubscribe()}},653:(rn,Ye,X)=>{X.d(Ye,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},251:(rn,Ye,X)=>{X.d(Ye,{x:()=>de});var d=X(305);function de(be,Se,ge,lt,Pt){return new z(be,Se,ge,lt,Pt)}class z extends d.Lv{constructor(Se,ge,lt,Pt,je,G){super(Se),this.onFinalize=je,this.shouldUnsubscribe=G,this._next=ge?function(U){try{ge(U)}catch(ne){Se.error(ne)}}:super._next,this._error=Pt?function(U){try{Pt(U)}catch(ne){Se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=lt?function(){try{lt()}catch(U){Se.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},398:(rn,Ye,X)=>{X.d(Ye,{U:()=>z});var d=X(360),de=X(251);function z(be,Se){return(0,d.e)((ge,lt)=>{let Pt=0;ge.subscribe((0,de.x)(lt,je=>{lt.next(be.call(Se,je,Pt++))}))})}},599:(rn,Ye,X)=>{X.d(Ye,{z:()=>d});const d={setTimeout(de,z,...be){const{delegate:Se}=d;return Se?.setTimeout?Se.setTimeout(de,z,...be):setTimeout(de,z,...be)},clearTimeout(de){const{delegate:z}=d;return(z?.clearTimeout||clearTimeout)(de)},delegate:void 0}},850:(rn,Ye,X)=>{X.d(Ye,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},39:(rn,Ye,X)=>{function d(de,z){if(de){const be=de.indexOf(z);0<=be&&de.splice(be,1)}}X.d(Ye,{P:()=>d})},306:(rn,Ye,X)=>{function d(de){const be=de(Se=>{Error.call(Se),Se.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}X.d(Ye,{d:()=>d})},441:(rn,Ye,X)=>{X.d(Ye,{O:()=>be,x:()=>z});var d=X(653);let de=null;function z(Se){if(d.config.useDeprecatedSynchronousErrorHandling){const ge=!de;if(ge&&(de={errorThrown:!1,error:null}),Se(),ge){const{errorThrown:lt,error:Pt}=de;if(de=null,lt)throw Pt}}else Se()}function be(Se){d.config.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=Se)}},737:(rn,Ye,X)=>{function d(de){return de}X.d(Ye,{y:()=>d})},674:(rn,Ye,X)=>{function d(de){return"function"==typeof de}X.d(Ye,{m:()=>d})},360:(rn,Ye,X)=>{X.d(Ye,{A:()=>de,e:()=>z});var d=X(674);function de(be){return(0,d.m)(be?.lift)}function z(be){return Se=>{if(de(Se))return Se.lift(function(ge){try{return be(ge,this)}catch(lt){this.error(lt)}});throw new TypeError("Unable to lift unknown Observable type")}}},420:(rn,Ye,X)=>{function d(){}X.d(Ye,{Z:()=>d})},407:(rn,Ye,X)=>{X.d(Ye,{U:()=>z,z:()=>de});var d=X(737);function de(...be){return z(be)}function z(be){return 0===be.length?d.y:1===be.length?be[0]:function(ge){return be.reduce((lt,Pt)=>Pt(lt),ge)}}},894:(rn,Ye,X)=>{X.d(Ye,{h:()=>z});var d=X(653),de=X(599);function z(be){de.z.setTimeout(()=>{const{onUnhandledError:Se}=d.config;if(!Se)throw be;Se(be)})}},825:(rn,Ye,X)=>{X.d(Ye,{IO:()=>$e,SB:()=>lt,X$:()=>de,ZE:()=>qt,ZN:()=>Je,eR:()=>je,jt:()=>z,k1:()=>We,l3:()=>d,oB:()=>ge,pV:()=>U,ru:()=>be,vP:()=>Se});const d="*";function de(ye,N){return{type:7,name:ye,definitions:N,options:{}}}function z(ye,N=null){return{type:4,styles:N,timings:ye}}function be(ye,N=null){return{type:3,steps:ye,options:N}}function Se(ye,N=null){return{type:2,steps:ye,options:N}}function ge(ye){return{type:6,styles:ye,offset:null}}function lt(ye,N,xe){return{type:0,name:ye,styles:N,options:xe}}function je(ye,N,xe=null){return{type:1,expr:ye,animation:N,options:xe}}function U(ye=null){return{type:9,options:ye}}function $e(ye,N,xe=null){return{type:11,selector:ye,animation:N,options:xe}}class Je{constructor(N=0,xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=N+xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(N=>N()),this._onDoneFns=[])}onStart(N){this._originalOnStartFns.push(N),this._onStartFns.push(N)}onDone(N){this._originalOnDoneFns.push(N),this._onDoneFns.push(N)}onDestroy(N){this._onDestroyFns.push(N)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(N=>N()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(N=>N()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(N){this._position=this.totalTime?N*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(N){const xe="start"==N?this._onStartFns:this._onDoneFns;xe.forEach(vt=>vt()),xe.length=0}}class qt{constructor(N){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=N;let xe=0,vt=0,Rn=0;const er=this.players.length;0==er?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ai=>{Ai.onDone(()=>{++xe==er&&this._onFinish()}),Ai.onDestroy(()=>{++vt==er&&this._onDestroy()}),Ai.onStart(()=>{++Rn==er&&this._onStart()})}),this.totalTime=this.players.reduce((Ai,xi)=>Math.max(Ai,xi.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(N=>N()),this._onDoneFns=[])}init(){this.players.forEach(N=>N.init())}onStart(N){this._onStartFns.push(N)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(N=>N()),this._onStartFns=[])}onDone(N){this._onDoneFns.push(N)}onDestroy(N){this._onDestroyFns.push(N)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(N=>N.play())}pause(){this.players.forEach(N=>N.pause())}restart(){this.players.forEach(N=>N.restart())}finish(){this._onFinish(),this.players.forEach(N=>N.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(N=>N.destroy()),this._onDestroyFns.forEach(N=>N()),this._onDestroyFns=[])}reset(){this.players.forEach(N=>N.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(N){const xe=N*this.totalTime;this.players.forEach(vt=>{const Rn=vt.totalTime?Math.min(1,xe/vt.totalTime):1;vt.setPosition(Rn)})}getPosition(){const N=this.players.reduce((xe,vt)=>null===xe||vt.totalTime>xe.totalTime?vt:xe,null);return null!=N?N.getPosition():0}beforeDestroy(){this.players.forEach(N=>{N.beforeDestroy&&N.beforeDestroy()})}triggerCallback(N){const xe="start"==N?this._onStartFns:this._onDoneFns;xe.forEach(vt=>vt()),xe.length=0}}const We="!"},212:(rn,Ye,X)=>{X.d(Ye,{QbO:()=>ap,tb:()=>Wh,AFp:()=>Bl,ip1:()=>Dv,hGG:()=>Dk,z2F:()=>Ha,Ojb:()=>cp,sBO:()=>XC,Sil:()=>FE,_Vd:()=>ks,EJc:()=>ex,Xts:()=>ws,SBq:()=>yp,lqb:()=>Zi,qLn:()=>Ac,vpe:()=>Xr,XFs:()=>Rt,OlP:()=>Vt,zs3:()=>gr,ZZ4:()=>h0,aQg:()=>f0,soG:()=>Qm,YKP:()=>Om,h0i:()=>Ru,R0b:()=>Un,FiY:()=>ma,Lbi:()=>Ea,g9A:()=>sp,n_E:()=>dv,Qsj:()=>DC,FYo:()=>a0,JOm:()=>b_,q3G:()=>Cc,tp0:()=>Ml,Rgc:()=>ja,dDg:()=>ZE,eoX:()=>Cv,q4F:()=>NE,GfV:()=>Ev,s_b:()=>am,ifc:()=>os,T8G:()=>cT,VuI:()=>Ix,MMx:()=>Fm,Lck:()=>ev,eFA:()=>Zh,Gpc:()=>Qo,f3M:()=>Lt,X6Q:()=>Rv,$WT:()=>fr,MR2:()=>Id,Cb_:()=>aP,_c5:()=>qa,qFp:()=>Uk,r_H:()=>Sy,rg0:()=>SC,c2e:()=>Lu,zSh:()=>Ol,wAp:()=>Yo,I6F:()=>Mo,vHH:()=>De,lri:()=>WA,rWj:()=>Ym,JZr:()=>dr,EiD:()=>MS,mCW:()=>k_,qzn:()=>br,JVY:()=>WP,pB0:()=>dC,eBb:()=>YP,L6k:()=>ZP,LAX:()=>uC,cg1:()=>Vb,kuF:()=>Mi,kL8:()=>Ah,dqk:()=>ii,Z0I:()=>Ot,eJc:()=>zo,QGY:()=>$I,F4k:()=>HD,RDi:()=>Ho,AaK:()=>Nn,z3N:()=>Rs,qOj:()=>fb,Xq5:()=>K0,TTD:()=>ra,_Bn:()=>Jb,jDz:()=>nv,xp6:()=>UC,uIk:()=>iu,Tol:()=>uu,ekj:()=>mi,um2:()=>Vs,Suo:()=>Hm,Xpm:()=>tc,lG2:()=>nc,Yz7:()=>j,cJS:()=>Le,oAB:()=>ir,Yjl:()=>_f,Y36:()=>xc,_UZ:()=>Fb,BQk:()=>Hs,ynx:()=>Fa,qZA:()=>vm,TgZ:()=>bm,EpF:()=>SI,n5z:()=>bd,Ikx:()=>Lb,LFG:()=>ui,$8M:()=>or,$Z:()=>jC,NdJ:()=>Du,CRH:()=>fv,oxw:()=>$D,Hsn:()=>YI,F$t:()=>Hb,Q6J:()=>aI,VKq:()=>Lm,WLB:()=>jh,kEZ:()=>Vm,iGM:()=>yA,MAs:()=>xu,wJu:()=>cm,SjG:()=>Ma,x6l:()=>fh,KtG:()=>zg,CHM:()=>uy,uOi:()=>Jy,P3R:()=>V_,Udp:()=>vb,YNc:()=>hh,_uU:()=>JD,Oqu:()=>Yb,hij:()=>Kb,AsE:()=>Qb,lnq:()=>iE,Gf:()=>hv});let de=null,be=1;function ge(r){const o=de;return de=r,o}function $e(r){if((!Je(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==be)){if(!r.producerMustRecompute(r)&&!Jt(r))return r.dirty=!1,void(r.lastCleanEpoch=be);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=be}}function Jt(r){qt(r);for(let o=0;o<r.producerNode.length;o++){const a=r.producerNode[o],l=r.producerLastReadVersion[o];if(l!==a.version||($e(a),l!==a.version))return!0}return!1}function Te(r,o){if(function We(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),qt(r),1===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)Te(r.producerNode[l],r.producerIndexOfThis[l]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[o]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[o]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,o<r.liveConsumerNode.length){const l=r.liveConsumerIndexOfThis[o],h=r.liveConsumerNode[o];qt(h),h.producerIndexOfThis[l]=o}}function Je(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function qt(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Ai=null;var Cn=X(645),Si=X(394),Ri=X(619),mn=X(398);function yt(r){for(let o in r)if(r[o]===yt)return o;throw Error("Could not find renamed property on target object.")}function $i(r,o){for(const a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=o[a])}function Nn(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Nn).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function io(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const ro=yt({__forward_ref__:yt});function Qo(r){return r.__forward_ref__=Qo,r.toString=function(){return Nn(this())},r}function Fe(r){return kt(r)?r():r}function kt(r){return"function"==typeof r&&r.hasOwnProperty(ro)&&r.__forward_ref__===Qo}function ft(r){return r&&!!r.\u0275providers}const dr="https://g.co/ng/security#xss";class De extends Error{constructor(o,a){super(Mi(o,a)),this.code=o}}function Mi(r,o){return`NG0${Math.abs(r)}${o?": "+o:""}`}const Fn=yt({\u0275cmp:yt}),Jo=yt({\u0275dir:yt}),en=yt({\u0275pipe:yt}),es=yt({\u0275mod:yt}),pt=yt({\u0275fac:yt}),Pi=yt({__NG_ELEMENT_ID__:yt}),oo=yt({__NG_ENV_ID__:yt});function rt(r){return"string"==typeof r?r:null==r?"":String(r)}function Ka(r,o){throw new De(-201,!1)}function tt(r,o){null==r&&function Ge(r,o,a,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,r,null,"!=")}function j(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Le(r){return{providers:r.providers||[],imports:r.imports||[]}}function ct(r){return jt(r,Hr)||jt(r,Wu)}function Ot(r){return null!==ct(r)}function jt(r,o){return r.hasOwnProperty(o)?r[o]:null}function gn(r){return r&&(r.hasOwnProperty(ns)||r.hasOwnProperty(Ig))?r[ns]:null}const Hr=yt({\u0275prov:yt}),ns=yt({\u0275inj:yt}),Wu=yt({ngInjectableDef:yt}),Ig=yt({ngInjectorDef:yt});var Rt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Rt||{});let nf;function rf(){return nf}function tr(r){const o=nf;return nf=r,o}function on(r,o,a){const l=ct(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Rt.Optional?null:void 0!==o?o:void Ka()}const ii=globalThis;class Vt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=j({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ll={},nr="__NG_DI_FLAG__",Ku="ngTempTokenPath",Zv=/\n/gm,cf="__source";let is;function lo(r){const o=is;return is=r,o}function Kv(r,o=Rt.Default){if(void 0===is)throw new De(-203,!1);return null===is?on(r,void 0,o):is.get(r,o&Rt.Optional?null:void 0,o)}function ui(r,o=Rt.Default){return(rf()||Kv)(Fe(r),o)}function Lt(r,o=Rt.Default){return ui(r,Qu(o))}function Qu(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ul(r){const o=[];for(let a=0;a<r.length;a++){const l=Fe(r[a]);if(Array.isArray(l)){if(0===l.length)throw new De(900,!1);let h,p=Rt.Default;for(let _=0;_<l.length;_++){const y=l[_],E=lf(y);"number"==typeof E?-1===E?h=y.token:p|=E:h=y}o.push(ui(h,p))}else o.push(ui(l))}return o}function rs(r,o){return r[nr]=o,r.prototype[nr]=o,r}function lf(r){return r[nr]}function ko(r){return{toString:r}.toString()}var Qs=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Qs||{}),os=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(os||{});const xr={},Zt=[];function Ja(r,o,a){let l=r.length;for(;;){const h=r.indexOf(o,a);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||r.charCodeAt(h+p)<=32)return h}a=h+1}}function dl(r,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],_=a[l++],y=a[l++];r.setAttribute(o,_,y,p)}else{const p=h,_=a[++l];Xv(p)?r.setProperty(o,p,_):r.setAttribute(o,p,_),l++}}return l}function df(r){return 3===r||4===r||6===r}function Xv(r){return 64===r.charCodeAt(0)}function Xs(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Js(r,a,h,null,-1===a||2===a?o[++l]:null)}}return r}function Js(r,o,a,l,h){let p=0,_=r.length;if(-1===o)_=-1;else for(;p<r.length;){const y=r[p++];if("number"==typeof y){if(y===o){_=-1;break}if(y>o){_=p-1;break}}}for(;p<r.length;){const y=r[p];if("number"==typeof y)break;if(y===a){if(null===l)return void(null!==h&&(r[p+1]=h));if(l===r[p+1])return void(r[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(r.splice(_,0,o),p=_+1),r.splice(p++,0,a),null!==l&&r.splice(p++,0,l),null!==h&&r.splice(p++,0,h)}const uo="ng-template";function hf(r,o,a){let l=0,h=!0;for(;l<r.length;){let p=r[l++];if("string"==typeof p&&h){const _=r[l++];if(a&&"class"===p&&-1!==Ja(_.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<r.length&&"string"==typeof(p=r[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Tg(r){return 4===r.type&&r.value!==uo}function $r(r,o,a){return o===(4!==r.type||a?r.value:uo)}function Xu(r,o,a){let l=4;const h=r.attrs||[],p=function pf(r){for(let o=0;o<r.length;o++)if(df(r[o]))return o;return r.length}(h);let _=!1;for(let y=0;y<o.length;y++){const E=o[y];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!$r(r,E,a)||""===E&&1===o.length){if(Sr(l))return!1;_=!0}}else{const T=8&l?E:o[++y];if(8&l&&null!==r.attrs){if(!hf(r.attrs,T,a)){if(Sr(l))return!1;_=!0}continue}const R=Sw(8&l?"class":E,h,Tg(r),a);if(-1===R){if(Sr(l))return!1;_=!0;continue}if(""!==T){let O;O=R>p?"":h[R+1].toLowerCase();const V=8&l?O:null;if(V&&-1!==Ja(V,T,0)||2&l&&T!==O){if(Sr(l))return!1;_=!0}}}}else{if(!_&&!Sr(l)&&!Sr(E))return!1;if(_&&Sr(E))continue;_=!1,l=E|1&l}}return Sr(l)||_}function Sr(r){return 0==(1&r)}function Sw(r,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===r)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let y=o[++h];for(;"string"==typeof y;)y=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function ey(r,o){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const l=r[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,r)}function ff(r,o,a=!1){for(let l=0;l<o.length;l++)if(Xu(r,o[l],a))return!0;return!1}function ty(r,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(r.length===l.length){for(let h=0;h<r.length;h++)if(r[h]!==l[h])continue e;return!0}}return!1}function Ju(r,o){return r?":not("+o.trim()+")":o}function ec(r){let o=r[0],a=1,l=2,h="",p=!1;for(;a<r.length;){let _=r[a];if("string"==typeof _)if(2&l){const y=r[++a];h+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Sr(_)&&(o+=Ju(p,h),h=""),l=_,p=p||!Sr(l);a++}return""!==h&&(o+=Ju(p,h)),o}function tc(r){return ko(()=>{const o=hl(r),a={...o,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Qs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||os.Emulated,styles:r.styles||Zt,_:null,schemas:r.schemas||null,tView:null,id:""};Dg(a);const l=r.dependencies;return a.directiveDefs=ed(l,!1),a.pipeDefs=ed(l,!0),a.id=function Rr(r){let o=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const h of a)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Mw(r){return Mt(r)||ri(r)}function gf(r){return null!==r}function ir(r){return ko(()=>({type:r.type,bootstrap:r.bootstrap||Zt,declarations:r.declarations||Zt,imports:r.imports||Zt,exports:r.exports||Zt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ea(r,o){if(null==r)return xr;const a={};for(const l in r)if(r.hasOwnProperty(l)){let h=r[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}function nc(r){return ko(()=>{const o=hl(r);return Dg(o),o})}function _f(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Mt(r){return r[Fn]||null}function ri(r){return r[Jo]||null}function ki(r){return r[en]||null}function fr(r){const o=Mt(r)||ri(r)||ki(r);return null!==o&&o.standalone}function Oi(r,o){const a=r[es]||null;if(!a&&!0===o)throw new Error(`Type ${Nn(r)} does not have '\u0275mod' property.`);return a}function hl(r){const o={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:r.inputs||xr,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Zt,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ea(r.inputs,o),outputs:ea(r.outputs),debugInfo:null}}function Dg(r){r.features?.forEach(o=>o(r))}function ed(r,o){if(!r)return null;const a=o?ki:Mw;return()=>("function"==typeof r?r():r).map(l=>a(l)).filter(gf)}const Mn=0,Ie=1,et=2,Tn=3,Mr=4,vi=5,ho=6,ta=7,ot=8,Ni=9,Pr=10,mt=11,fl=12,vf=13,ic=14,Dn=15,ss=16,na=17,fo=18,rc=19,td=20,po=21,nd=22,Gr=23,st=25,id=1,pr=7,cs=9,Vn=10;var pl=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(pl||{});function Gi(r){return Array.isArray(r)&&"object"==typeof r[id]}function yi(r){return Array.isArray(r)&&!0===r[id]}function Ag(r){return 0!=(4&r.flags)}function ls(r){return r.componentOffset>-1}function yf(r){return 1==(1&r.flags)}function kr(r){return!!r.template}function If(r){return 0!=(512&r[et])}function ds(r,o){return r.hasOwnProperty(pt)?r[pt]:null}class wf{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ra(){return Cf}function Cf(r){return r.type.prototype.ngOnChanges&&(r.setInput=rd),hs}function hs(){const r=Lg(this),o=r?.current;if(o){const a=r.previous;if(a===xr)r.previous=o;else for(let l in o)a[l]=o[l];r.current=null,this.ngOnChanges(o)}}function rd(r,o,a,l){const h=this.declaredInputs[a],p=Lg(r)||function oy(r,o){return r[Tf]=o}(r,{previous:xr,current:null}),_=p.current||(p.current={}),y=p.previous,E=y[h];_[h]=new wf(E&&E.currentValue,o,y===xr),r[l]=o}ra.ngInherit=!0;const Tf="__ngSimpleChanges__";function Lg(r){return r[Tf]||null}const Oo=function(r,o,a){};let oc=!1;function An(r){for(;Array.isArray(r);)r=r[Mn];return r}function od(r,o){return An(o[r])}function Fi(r,o){return An(o[r.index])}function sd(r,o){return r.data[o]}function oi(r,o){const a=o[r];return Gi(a)?a:a[Mn]}function Rf(r){return 128==(128&r[et])}function Fo(r,o){return null==o?null:r[o]}function Bg(r){r[na]=0}function Fw(r){1024&r[et]||(r[et]|=1024,Rf(r)&&sc(r))}function ad(r){return 9216&r[et]||r[Gr]?.dirty}function _l(r){ad(r)?sc(r):64&r[et]&&(function Af(){return oc}()?(r[et]|=1024,sc(r)):r[Pr].changeDetectionScheduler?.notify())}function sc(r){r[Pr].changeDetectionScheduler?.notify();let o=fs(r);for(;null!==o&&!(8192&o[et])&&(o[et]|=8192,Rf(o));)o=fs(o)}function oa(r,o){if(256==(256&r[et]))throw new De(911,!1);null===r[po]&&(r[po]=[]),r[po].push(o)}function fs(r){const o=r[Tn];return yi(o)?o[Tn]:o}const at={lFrame:El(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mf(){return at.bindingsEnabled}function sa(){return null!==at.skipHydrationRootTNode}function ie(){return at.lFrame.lView}function Bt(){return at.lFrame.tView}function uy(r){return at.lFrame.contextLView=r,r[ot]}function zg(r){return at.lFrame.contextLView=null,r}function sn(){let r=dy();for(;null!==r&&64===r.type;)r=r.parent;return r}function dy(){return at.lFrame.currentTNode}function mo(r,o){const a=at.lFrame;a.currentTNode=r,a.isParent=o}function ac(){return at.lFrame.isParent}function bl(){at.lFrame.isParent=!1}function di(){const r=at.lFrame;let o=r.bindingRootIndex;return-1===o&&(o=r.bindingRootIndex=r.tView.bindingStartIndex),o}function ms(){return at.lFrame.bindingIndex}function go(){return at.lFrame.bindingIndex++}function gs(r){const o=at.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,a}function vl(r,o){const a=at.lFrame;a.bindingIndex=a.bindingRootIndex=r,bn(o)}function bn(r){at.lFrame.currentDirectiveIndex=r}function ca(){return at.lFrame.currentQueryIndex}function yl(r){at.lFrame.currentQueryIndex=r}function Il(r){const o=r[Ie];return 2===o.type?o.declTNode:1===o.type?r[vi]:null}function Nf(r,o,a){if(a&Rt.SkipSelf){let h=o,p=r;for(;!(h=h.parent,null!==h||a&Rt.Host||(h=Il(p),null===h||(p=p[ic],10&h.type))););if(null===h)return!1;o=h,r=p}const l=at.lFrame=Ff();return l.currentTNode=o,l.lView=r,!0}function hd(r){const o=Ff(),a=r[Ie];at.lFrame=o,o.currentTNode=a.firstChild,o.lView=r,o.tView=a,o.contextLView=r,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ff(){const r=at.lFrame,o=null===r?null:r.child;return null===o?El(r):o}function El(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function Gg(){const r=at.lFrame;return at.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Lf=Gg;function fd(){const r=Gg();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ii(){return at.lFrame.selectedIndex}function _s(r){at.lFrame.selectedIndex=r}function Nt(){const r=at.lFrame;return sd(r.tView,r.selectedIndex)}let Wg=!0;function cc(){return Wg}function Li(r){Wg=r}function an(r,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:x}=p;_&&(r.contentHooks??=[]).push(-a,_),y&&((r.contentHooks??=[]).push(a,y),(r.contentCheckHooks??=[]).push(a,y)),E&&(r.viewHooks??=[]).push(-a,E),T&&((r.viewHooks??=[]).push(a,T),(r.viewCheckHooks??=[]).push(a,T)),null!=x&&(r.destroyHooks??=[]).push(a,x)}}function Nr(r,o,a){lc(r,o,3,a)}function Lo(r,o,a,l){(3&r[et])===a&&lc(r,o,a,l)}function Cl(r,o){let a=r[et];(3&a)===o&&(a&=16383,a+=1,r[et]=a)}function lc(r,o,a,l){const p=l??-1,_=o.length-1;let y=0;for(let E=void 0!==l?65535&r[na]:0;E<_;E++)if("number"==typeof o[E+1]){if(y=o[E],null!=l&&y>=l)break}else o[E]<0&&(r[na]+=65536),(y<p||-1==p)&&(Bf(r,a,o,E),r[na]=(4294901760&r[na])+E+2),E++}function bs(r,o){Oo(4,r,o);const a=ge(null);try{o.call(r)}finally{ge(a),Oo(5,r,o)}}function Bf(r,o,a,l){const h=a[l]<0,p=a[l+1],y=r[h?-a[l]:a[l]];h?r[et]>>14<r[na]>>16&&(3&r[et])===o&&(r[et]+=16384,bs(y,p)):bs(y,p)}const la=-1;class Tl{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function qe(r){return r!==la}function Vi(r){return 32767&r}function ua(r,o){let a=function zf(r){return r>>16}(r),l=o;for(;a>0;)l=l[ic],a--;return l}let Hf=!0;function vs(r){const o=Hf;return Hf=r,o}const Zg=255,_o=5;let gt=0;const Fr={};function da(r,o){const a=dc(r,o);if(-1!==a)return a;const l=o[Ie];l.firstCreatePass&&(r.injectorIndex=o.length,pd(l.data,r),pd(o,null),pd(l.blueprint,null));const h=md(r,o),p=r.injectorIndex;if(qe(h)){const _=Vi(h),y=ua(h,o),E=y[Ie].data;for(let T=0;T<8;T++)o[p+T]=y[_+T]|E[_+T]}return o[p+8]=h,p}function pd(r,o){r.push(0,0,0,0,0,0,0,0,o)}function dc(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function md(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=qi(h),null===l)return la;if(a++,h=h[ic],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return la}function gd(r,o,a){!function _y(r,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Pi)&&(l=a[Pi]),null==l&&(l=a[Pi]=gt++);const h=l&Zg;o.data[r+(h>>_o)]|=1<<h}(r,o,a)}function Dl(r,o,a){if(a&Rt.Optional||void 0!==r)return r;Ka()}function Yg(r,o,a,l){if(a&Rt.Optional&&void 0===l&&(l=null),!(a&(Rt.Self|Rt.Host))){const h=r[Ni],p=tr(void 0);try{return h?h.get(o,l,a&Rt.Optional):on(o,l,a&Rt.Optional)}finally{tr(p)}}return Dl(l,0,a)}function Yn(r,o,a,l=Rt.Default,h){if(null!==r){if(2048&o[et]&&!(l&Rt.Self)){const _=function si(r,o,a,l,h){let p=r,_=o;for(;null!==p&&null!==_&&2048&_[et]&&!(512&_[et]);){const y=ha(p,_,a,l|Rt.Self,Fr);if(y!==Fr)return y;let E=p.parent;if(!E){const T=_[td];if(T){const x=T.get(a,Fr,l);if(x!==Fr)return x}E=qi(_),_=_[ic]}p=E}return h}(r,o,a,l,Fr);if(_!==Fr)return _}const p=ha(r,o,a,l,Fr);if(p!==Fr)return p}return Yg(o,a,l,h)}function ha(r,o,a,l,h){const p=function Gf(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Pi)?r[Pi]:void 0;return"number"==typeof o?o>=0?o&Zg:_d:o}(a);if("function"==typeof p){if(!Nf(o,r,l))return l&Rt.Host?Dl(h,0,l):Yg(o,a,l,h);try{let _;if(_=p(l),null!=_||l&Rt.Optional)return _;Ka()}finally{Lf()}}else if("number"==typeof p){let _=null,y=dc(r,o),E=la,T=l&Rt.Host?o[Dn][vi]:null;for((-1===y||l&Rt.SkipSelf)&&(E=-1===y?md(r,o):o[y+8],E!==la&&rr(l,!1)?(_=o[Ie],y=Vi(E),o=ua(E,o)):y=-1);-1!==y;){const x=o[Ie];if(ys(p,y,x.data)){const R=by(y,o,a,_,l,T);if(R!==Fr)return R}E=o[y+8],E!==la&&rr(l,o[Ie].data[y+8]===T)&&ys(p,y,o)?(_=x,y=Vi(E),o=ua(E,o)):y=-1}}return h}function by(r,o,a,l,h,p){const _=o[Ie],y=_.data[r+8],x=Vo(y,_,a,null==l?ls(y)&&Hf:l!=_&&0!=(3&y.type),h&Rt.Host&&p===y);return null!==x?bo(o,_,x,y):Fr}function Vo(r,o,a,l,h){const p=r.providerIndexes,_=o.data,y=1048575&p,E=r.directiveStart,x=p>>20,O=h?y+x:r.directiveEnd;for(let V=l?y:y+x;V<O;V++){const Y=_[V];if(V<E&&a===Y||V>=E&&Y.type===a)return V}if(h){const V=_[E];if(V&&kr(V)&&V.type===a)return E}return null}function bo(r,o,a,l){let h=r[a];const p=o.data;if(function my(r){return r instanceof Tl}(h)){const _=h;_.resolving&&function zr(r,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new De(-200,`Circular dependency in DI detected for ${r}${a}`)}(function Ft(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():rt(r)}(p[a]));const y=vs(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?tr(_.injectImpl):null;Nf(r,l,Rt.Default);try{h=r[a]=_.factory(void 0,p,r,l),o.firstCreatePass&&a>=l.directiveStart&&function xn(r,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=Cf(o);(a.preOrderHooks??=[]).push(r,_),(a.preOrderCheckHooks??=[]).push(r,_)}h&&(a.preOrderHooks??=[]).push(0-r,h),p&&((a.preOrderHooks??=[]).push(r,p),(a.preOrderCheckHooks??=[]).push(r,p))}(a,p[a],o)}finally{null!==T&&tr(T),vs(y),_.resolving=!1,Lf()}}return h}function ys(r,o,a){return!!(a[o+(r>>_o)]&1<<r)}function rr(r,o){return!(r&Rt.Self||r&Rt.Host&&o)}class Qt{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Yn(this._tNode,this._lView,o,Qu(l),a)}}function _d(){return new Qt(sn(),ie())}function bd(r){return ko(()=>{const o=r.prototype.constructor,a=o[pt]||Dt(o),l=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==l;){const p=h[pt]||Dt(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Dt(r){return kt(r)?()=>{const o=Dt(Fe(r));return o&&o()}:ds(r)}function qi(r){const o=r[Ie],a=o.type;return 2===a?o.declTNode:1===a?r[vi]:null}function or(r){return function $f(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const a=r.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(df(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(sn(),r)}const Bo="__parameters__";function yo(r,o,a){return ko(()=>{const l=function vo(r){return function(...a){if(r){const l=r(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return y.annotation=_,y;function y(E,T,x){const R=E.hasOwnProperty(Bo)?E[Bo]:Object.defineProperty(E,Bo,{value:[]})[Bo];for(;R.length<=x;)R.push(null);return(R[x]=R[x]||[]).push(_),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}function Wi(r,o){r.forEach(a=>Array.isArray(a)?Wi(a,o):o(a))}function Al(r,o,a){o>=r.length?r.push(a):r.splice(o,0,a)}function xl(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function Bi(r,o,a){let l=Uo(r,o);return l>=0?r[1|l]=a:(l=~l,function Yf(r,o,a,l){let h=r.length;if(h==o)r.push(a,l);else if(1===h)r.push(l,r[0]),r[0]=a;else{for(h--,r.push(r[h-1],r[h]);h>o;)r[h]=r[h-2],h--;r[o]=a,r[o+1]=l}}(r,l,o,a)),l}function Kf(r,o){const a=Uo(r,o);if(a>=0)return r[1|a]}function Uo(r,o){return function mc(r,o,a){let l=0,h=r.length>>a;for(;h!==l;){const p=l+(h-l>>1),_=r[p<<a];if(o===_)return p<<a;_>o?h=p:l=p+1}return~(h<<a)}(r,o,1)}const ma=rs(yo("Optional"),8),Ml=rs(yo("SkipSelf"),4),ws=new Vt("ENVIRONMENT_INITIALIZER"),Jf=new Vt("INJECTOR",-1),ep=new Vt("INJECTOR_DEF_TYPES");class wo{get(o,a=ll){if(a===ll){const l=new Error(`NullInjectorError: No provider for ${Nn(o)}!`);throw l.name="NullInjectorError",l}return a}}function Id(r){return{\u0275providers:r}}function tp(...r){return{\u0275providers:Pl(0,r),\u0275fromNgModule:!0}}function Pl(r,...o){const a=[],l=new Set;let h;const p=_=>{a.push(_)};return Wi(o,_=>{const y=_;Cs(y,p,[],l)&&(h||=[],h.push(y))}),void 0!==h&&kl(h,p),a}function kl(r,o){for(let a=0;a<r.length;a++){const{ngModule:l,providers:h}=r[a];vc(h,p=>{o(p,l)})}}function Cs(r,o,a,l){if(!(r=Fe(r)))return!1;let h=null,p=gn(r);const _=!p&&Mt(r);if(p||_){if(_&&!_.standalone)return!1;h=r}else{const E=r.ngModule;if(p=gn(E),!p)return!1;h=E}const y=l.has(h);if(_){if(y)return!1;if(l.add(h),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of E)Cs(T,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!y){let T;l.add(h);try{Wi(p.imports,x=>{Cs(x,o,a,l)&&(T||=[],T.push(x))})}finally{}void 0!==T&&kl(T,o)}if(!y){const T=ds(h)||(()=>new h);o({provide:h,useFactory:T,deps:Zt},h),o({provide:ep,useValue:h,multi:!0},h),o({provide:ws,useValue:()=>ui(h),multi:!0},h)}const E=p.providers;if(null!=E&&!y){const T=r;vc(E,x=>{o(x,T)})}}}return h!==r&&void 0!==r.providers}function vc(r,o){for(let a of r)ft(a)&&(a=a.\u0275providers),Array.isArray(a)?vc(a,o):o(a)}const s_=yt({provide:String,useValue:yt});function np(r){return null!==r&&"object"==typeof r&&s_ in r}function ba(r){return"function"==typeof r}const Ol=new Vt("Set Injector scope."),Ds={},xy={};let Nl;function wd(){return void 0===Nl&&(Nl=new wo),Nl}class Zi{}class va extends Zi{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dd(o,_=>this.processProvider(_)),this.records.set(Jf,Yr(void 0,this)),h.has("environment")&&this.records.set(Zi,Yr(void 0,this));const p=this.records.get(Ol);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ep,Zt,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=lo(this),l=tr(void 0);try{return o()}finally{lo(a),tr(l)}}get(o,a=ll,l=Rt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(oo))return o[oo](this);l=Qu(l);const p=lo(this),_=tr(void 0);try{if(!(l&Rt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const T=function Td(r){return"function"==typeof r||"object"==typeof r&&r instanceof Vt}(o)&&ct(o);E=T&&this.injectableDefInScope(T)?Yr(As(o),Ds):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&Rt.Self?wd():this.parent).get(o,a=l&Rt.Optional&&a===ll?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Ku]=y[Ku]||[]).unshift(Nn(o)),p)throw y;return function Qv(r,o,a,l){const h=r[Ku];throw o[cf]&&h.unshift(o[cf]),r.message=function uf(r,o,a,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let h=Nn(o);if(Array.isArray(o))h=o.map(Nn).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let y=o[_];p.push(_+":"+("string"==typeof y?JSON.stringify(y):Nn(y)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${r.replace(Zv,"\n  ")}`}("\n"+r.message,h,a,l),r.ngTokenPath=h,r[Ku]=null,r}(y,o,"R3InjectorError",this.source)}throw y}finally{tr(_),lo(p)}}resolveInjectorInitializers(){const o=lo(this),a=tr(void 0);try{const h=this.get(ws,Zt,Rt.Self);for(const p of h)p()}finally{lo(o),tr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(Nn(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let a=ba(o=Fe(o))?o:Fe(o&&o.provide);const l=function Cd(r){return np(r)?Yr(void 0,r.useValue):Yr(Zr(r),Ds)}(o);if(!ba(o)&&!0===o.multi){let h=this.records.get(a);h||(h=Yr(void 0,Ds,!0),h.factory=()=>ul(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Ds&&(a.value=xy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function yc(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Fe(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function As(r){const o=ct(r),a=null!==o?o.factory:ds(r);if(null!==a)return a;if(r instanceof Vt)throw new De(204,!1);if(r instanceof Function)return function Co(r){if(r.length>0)throw new De(204,!1);const a=function Wn(r){return r&&(r[Hr]||r[Wu])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new De(204,!1)}function Zr(r,o,a){let l;if(ba(r)){const h=Fe(r);return ds(h)||As(h)}if(np(r))l=()=>Fe(r.useValue);else if(function a_(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...ul(r.deps||[]));else if(function Ts(r){return!(!r||!r.useExisting)}(r))l=()=>ui(Fe(r.useExisting));else{const h=Fe(r&&(r.useClass||r.provide));if(!function ya(r){return!!r.deps}(r))return ds(h)||As(h);l=()=>new h(...ul(r.deps))}return l}function Yr(r,o,a=!1){return{factory:r,value:o,multi:a?[]:void 0}}function Dd(r,o){for(const a of r)Array.isArray(a)?Dd(a,o):a&&ft(a)?Dd(a.\u0275providers,o):o(a)}function Sy(r,o){r instanceof va&&r.assertNotDestroyed();const l=lo(r),h=tr(void 0);try{return o()}finally{lo(l),tr(h)}}function xd(r,o=null,a=null,l){const h=xs(r,o,a,l);return h.resolveInjectorInitializers(),h}function xs(r,o=null,a=null,l,h=new Set){const p=[a||Zt,tp(r)];return l=l||("object"==typeof r?void 0:Nn(r)),new va(p,o||wd(),l||null,h)}let Rd,gr=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=ll;static#t=this.NULL=new wo;static create(a,l){if(Array.isArray(a))return xd({name:""},l,a,"");{const h=a.name??"";return xd({name:h},a.parent,a.providers,h)}}static#n=this.\u0275prov=j({token:r,providedIn:"any",factory:()=>ui(Jf)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function zo(r){return!!Oi(r)}function Ho(r){Rd=r}const Bl=new Vt("AppId",{providedIn:"root",factory:()=>Md}),Md="ng",sp=new Vt("Platform Initializer"),Ea=new Vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ap=new Vt("AnimationModuleType"),cp=new Vt("CSP nonce",{providedIn:"root",factory:()=>function fi(){if(void 0!==Rd)return Rd;if(typeof document<"u")return document;throw new De(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function S(r){return r instanceof Function?r():r}function g_(r){return 128==(128&r.flags)}var b_=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(b_||{});const eS=/^>|^->|<!--|-->|--!>|<!-$/g,tS=/(<|>)/g,nS="\u200b$1\u200b";const Ny=new Map;let qw=0;const Ly="__ngContext__";function ar(r,o){Gi(o)?(r[Ly]=o[rc],function Vd(r){Ny.set(r[rc],r)}(o)):r[Ly]=o}let jy;function fp(r,o){return jy(r,o)}function zl(r,o,a,l,h){if(null!=l){let p,_=!1;yi(l)?p=l:Gi(l)&&(_=!0,l=l[Mn]);const y=An(l);0===r&&null!==a?null==h?$y(o,a,y):Hl(o,a,y,h||null,!0):1===r&&null!==a?Hl(o,a,y,h||null,!0):2===r?function gp(r,o,a){const l=Ud(r,o);l&&function mS(r,o,a,l){r.removeChild(o,a,l)}(r,l,o,a)}(o,y,_):3===r&&o.destroyNode(y),null!=p&&function gS(r,o,a,l,h){const p=a[pr];p!==An(a)&&zl(o,r,l,p,h);for(let y=Vn;y<a.length;y++){const E=a[y];x_(E[Ie],E,r,o,l,p)}}(o,r,p,a,h)}}function zy(r,o){return r.createComment(function iS(r){return r.replace(eS,o=>o.replace(tS,nS))}(o))}function E_(r,o,a){return r.createElement(o,a)}function Xw(r,o){o[Pr].changeDetectionScheduler?.notify(),x_(r,o,o[mt],2,null,null)}function Jw(r,o){const a=r[cs],l=a.indexOf(o);a.splice(l,1)}function pp(r,o){if(r.length<=Vn)return;const a=Vn+o,l=r[a];if(l){const h=l[ss];null!==h&&h!==r&&Jw(h,l),o>0&&(r[a-1][Mr]=l[Mr]);const p=xl(r,Vn+o);!function w_(r,o){Xw(r,o),o[Mn]=null,o[vi]=null}(l[Ie],l);const _=p[fo];null!==_&&_.detachView(p[Ie]),l[Tn]=null,l[Mr]=null,l[et]&=-129}return l}function C_(r,o){if(!(256&o[et])){const a=o[mt];a.destroyNode&&x_(r,o,a,3,null,null),function dS(r){let o=r[fl];if(!o)return T_(r[Ie],r);for(;o;){let a=null;if(Gi(o))a=o[fl];else{const l=o[Vn];l&&(a=l)}if(!a){for(;o&&!o[Mr]&&o!==r;)Gi(o)&&T_(o[Ie],o),o=o[Tn];null===o&&(o=r),Gi(o)&&T_(o[Ie],o),a=o&&o[Mr]}o=a}}(o)}}function T_(r,o){if(!(256&o[et])){o[et]&=-129,o[et]|=256,o[Gr]&&function Sn(r){if(qt(r),Je(r))for(let o=0;o<r.producerNode.length;o++)Te(r.producerNode[o],r.producerIndexOfThis[o]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}(o[Gr]),function pS(r,o){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Tl)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const y=h[p[_]],E=p[_+1];Oo(4,y,E);try{E.call(y)}finally{Oo(5,y,E)}}else{Oo(4,h,p);try{p.call(h)}finally{Oo(5,h,p)}}}}}(r,o),function HP(r,o){const a=r.cleanup,l=o[ta];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+3];_>=0?l[_]():l[-_].unsubscribe(),p+=2}else a[p].call(l[a[p+1]]);null!==l&&(o[ta]=null);const h=o[po];if(null!==h){o[po]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(r,o),1===o[Ie].type&&o[mt].destroy();const a=o[ss];if(null!==a&&yi(o[Tn])){a!==o[Tn]&&Jw(a,o);const l=o[fo];null!==l&&l.detachView(r)}!function rS(r){Ny.delete(r[rc])}(o)}}function Hy(r,o,a){return function eC(r,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[Mn];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=r.data[l.directiveStart+h];if(p===os.None||p===os.Emulated)return null}return Fi(l,a)}}(r,o.parent,a)}function Hl(r,o,a,l,h){r.insertBefore(o,a,l,h)}function $y(r,o,a){r.appendChild(o,a)}function tC(r,o,a,l,h){null!==l?Hl(r,o,a,l,h):$y(r,o,a)}function Ud(r,o){return r.parentNode(o)}function iC(r,o,a){return Gl(r,o,a)}let mp,Ec,M_,Gl=function $l(r,o,a){return 40&r.type?Fi(r,a):null};function D_(r,o,a,l){const h=Hy(r,l,o),p=o[mt],y=iC(l.parent||o[vi],l,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)tC(p,h,a[E],y,!1);else tC(p,h,a,y,!1);void 0!==mp&&mp(p,l,o,a,h)}function jd(r,o){if(null!==o){const a=o.type;if(3&a)return Fi(o,r);if(4&a)return Gy(-1,r[o.index]);if(8&a){const l=o.child;if(null!==l)return jd(r,l);{const h=r[o.index];return yi(h)?Gy(-1,h):An(h)}}if(32&a)return fp(o,r)()||An(r[o.index]);{const l=A_(r,o);return null!==l?Array.isArray(l)?l[0]:jd(fs(r[Dn]),l):jd(r,o.next)}}return null}function A_(r,o){return null!==o?r[Dn][vi].projection[o.projection]:null}function Gy(r,o){const a=Vn+r+1;if(a<o.length){const l=o[a],h=l[Ie].firstChild;if(null!==h)return jd(l,h)}return o[pr]}function Wy(r,o,a,l,h,p,_){for(;null!=a;){const y=l[a.index],E=a.type;if(_&&0===o&&(y&&ar(An(y),l),a.flags|=2),32!=(32&a.flags))if(8&E)Wy(r,o,a.child,l,h,p,!1),zl(o,r,h,y,p);else if(32&E){const T=fp(a,l);let x;for(;x=T();)zl(o,r,h,x,p);zl(o,r,h,y,p)}else 16&E?oC(r,o,l,a,h,p):zl(o,r,h,y,p);a=_?a.projectionNext:a.next}}function x_(r,o,a,l,h,p){Wy(a,l,r.firstChild,o,h,p,!1)}function oC(r,o,a,l,h,p){const _=a[Dn],E=_[vi].projection[l.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)zl(o,r,h,E[T],p);else{let T=E;const x=_[Tn];g_(l)&&(T.flags|=128),Wy(r,o,T,x,h,p,!0)}}function Zy(r,o,a){""===a?r.removeAttribute(o,"class"):r.setAttribute(o,"class",a)}function sC(r,o,a){const{mergedAttrs:l,classes:h,styles:p}=a;null!==l&&dl(r,o,l),null!==h&&Zy(r,o,h),null!==p&&function bS(r,o,a){r.setAttribute(o,"style",a)}(r,o,p)}function zd(r){return function R_(){if(void 0===Ec&&(Ec=null,ii.trustedTypes))try{Ec=ii.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Ec}()?.createHTML(r)||r}function Yy(r){return function ql(){if(void 0===M_&&(M_=null,ii.trustedTypes))try{M_=ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return M_}()?.createScriptURL(r)||r}class Hd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dr})`}}class GP extends Hd{getTypeName(){return"HTML"}}class ES extends Hd{getTypeName(){return"Style"}}class Ky extends Hd{getTypeName(){return"Script"}}class lC extends Hd{getTypeName(){return"URL"}}class qP extends Hd{getTypeName(){return"ResourceURL"}}function Rs(r){return r instanceof Hd?r.changingThisBreaksApplicationSecurity:r}function br(r,o){const a=function wS(r){return r instanceof Hd&&r.getTypeName()||null}(r);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${dr})`)}return a===o}function WP(r){return new GP(r)}function ZP(r){return new ES(r)}function YP(r){return new Ky(r)}function uC(r){return new lC(r)}function dC(r){return new qP(r)}class CS{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(zd(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class TS{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=zd(o),a}}const hC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function k_(r){return(r=String(r)).match(hC)?r:"unsafe:"+r}function wc(r){const o={};for(const a of r.split(","))o[a]=!0;return o}function O_(...r){const o={};for(const a of r)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const DS=wc("area,br,col,hr,img,wbr"),fC=wc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pC=wc("rp,rt"),N_=O_(DS,O_(fC,wc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O_(pC,wc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O_(pC,fC)),Qy=wc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mC=O_(Qy,wc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xS=wc("script,style,template");class gC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!N_.hasOwnProperty(a))return this.sanitizedSomething=!0,!xS.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),_=p.name,y=_.toLowerCase();if(!mC.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=p.value;Qy[y]&&(E=k_(E)),this.buf.push(" ",_,'="',RS(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();N_.hasOwnProperty(a)&&!DS.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(RS(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const SS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ek=/([^\#-~ |!])/g;function RS(r){return r.replace(/&/g,"&amp;").replace(SS,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ek,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xy;function MS(r,o){let a=null;try{Xy=Xy||function P_(r){const o=new TS(r);return function KP(){try{return!!(new window.DOMParser).parseFromString(zd(""),"text/html")}catch{return!1}}()?new CS(o):o}(r);let l=o?String(o):"";a=Xy.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=Xy.getInertBodyElement(l)}while(l!==p);return zd((new gC).sanitizeChildren(_C(a)||a))}finally{if(a){const l=_C(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function _C(r){return"content"in r&&function tk(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Cc=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Cc||{});function bC(r){const o=_p();return o?o.sanitize(Cc.URL,r)||"":br(r,"URL")?Rs(r):k_(rt(r))}function Jy(r){const o=_p();if(o)return Yy(o.sanitize(Cc.RESOURCE_URL,r)||"");if(br(r,"ResourceURL"))return Yy(Rs(r));throw new De(904,!1)}function V_(r,o,a){return function OS(r,o){return"src"===o&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===o&&("base"===r||"link"===r)?Jy:bC}(o,a)(r)}function _p(){const r=ie();return r&&r[Pr].sanitizer}class vC{}let wC=()=>null;function Ps(r,o,a=!1){return wC(r,o,a)}class BS{}class o0{}class rk{resolveComponentFactory(o){throw function US(r){const o=Error(`No component factory found for ${Nn(r)}.`);return o.ngComponent=r,o}(o)}}let ks=(()=>{class r{static#e=this.NULL=new rk}return r})();function zS(){return Wl(sn(),ie())}function Wl(r,o){return new yp(Fi(r,o))}let yp=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=zS}return r})();function s0(r){return r instanceof yp?r.nativeElement:r}class a0{}let DC=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function HS(){const r=ie(),a=oi(sn().index,r);return(Gi(a)?a:r)[mt]}()}return r})(),AC=(()=>{class r{static#e=this.\u0275prov=j({token:r,providedIn:"root",factory:()=>null})}return r})();const Y_={};function SC(r){const o=ge(null);try{return r()}finally{ge(o)}}function c0(r){return!!d0(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function d0(r){return null!==r&&("function"==typeof r||"object"==typeof r)}class ue{constructor(){}supports(o){return c0(o)}create(o){return new Os(o)}}const RC=(r,o)=>o;class Os{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||RC}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<ke(l,h,p)?a:l,y=ke(_,h,p),E=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const T=y-h,x=E-h;if(T!=x){for(let O=0;O<T;O++){const V=O<p.length?p[O]:p[O]=0,Y=V+O;x<=Y&&Y<T&&(p[O]=V+1)}p[_.previousIndex]=x-T}}y!==E&&o(_,y,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!c0(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let y=0;y<this.length;y++)p=o[y],_=this._trackByFn(y,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,y)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,y),l=!0),a=a._next}else h=0,function u0(r,o){if(Array.isArray(r))for(let a=0;a<r.length;a++)o(r[a]);else{const a=r[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,y=>{_=this._trackByFn(h,y),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,y,_,h)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new In(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Do),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Do),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class In{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Do{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new ZS,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ke(r,o,a){const l=r.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class K_{constructor(){}supports(o){return o instanceof Map||d0(o)}create(){return new It}}class It{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||d0(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new Q_(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Q_{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yd(){return new h0([new ue])}let h0=(()=>{class r{static#e=this.\u0275prov=j({token:r,providedIn:"root",factory:Yd});constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||Yd()),deps:[[r,new Ml,new ma]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new De(901,!1)}}return r})();function PC(){return new f0([new K_])}let f0=(()=>{class r{static#e=this.\u0275prov=j({token:r,providedIn:"root",factory:PC});constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||PC()),deps:[[r,new Ml,new ma]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new De(901,!1)}}return r})();function pi(r,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];null!==p&&l.push(An(p)),yi(p)&&Ip(p,l);const _=a.type;if(8&_)pi(r,o,a.child,l);else if(32&_){const y=fp(a,o);let E;for(;E=y();)l.push(E)}else if(16&_){const y=A_(o,a);if(Array.isArray(y))l.push(...y);else{const E=fs(o[Dn]);pi(E[Ie],E,y,l,!0)}}a=h?a.projectionNext:a.next}return l}function Ip(r,o){for(let a=Vn;a<r.length;a++){const l=r[a],h=l[Ie].firstChild;null!==h&&pi(l[Ie],l,h,o)}r[pr]!==r[Mn]&&o.push(r[pr])}let Ei=[];const p0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{sc(r.lView)},consumerOnSignalRead(){this.lView[Gr]=this}};function NC(r){return Ep(r[fl])}function Kd(r){return Ep(r[Mr])}function Ep(r){for(;null!==r&&!yi(r);)r=r[Mr];return r}function m0(r){return r.ngOriginalError}class Ac{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&m0(o);for(;a&&m0(a);)a=m0(a);return a||null}}const Zl=new Vt("",{providedIn:"root",factory:()=>Lt(Ac).handleError.bind(void 0)}),g0=new Vt("",{providedIn:"root",factory:()=>!1}),Ct={};function UC(r=1){Cp(Bt(),ie(),Ii()+r,!1)}function Cp(r,o,a,l){if(!l)if(3==(3&o[et])){const p=r.preOrderCheckHooks;null!==p&&Nr(o,p,a)}else{const p=r.preOrderHooks;null!==p&&Lo(o,p,0,a)}_s(a)}function xc(r,o=Rt.Default){const a=ie();return null===a?ui(r,o):Yn(sn(),a,Fe(r),o)}function jC(){throw new Error("invalid")}function Tp(r,o,a,l,h,p,_,y,E,T,x){const R=o.blueprint.slice();return R[Mn]=h,R[et]=204|l,(null!==T||r&&2048&r[et])&&(R[et]|=2048),Bg(R),R[Tn]=R[ic]=r,R[ot]=a,R[Pr]=_||r&&r[Pr],R[mt]=y||r&&r[mt],R[Ni]=E||r&&r[Ni]||null,R[vi]=p,R[rc]=function v_(){return qw++}(),R[ho]=x,R[td]=T,R[Dn]=2==o.type?r[Dn]:R,R}function Yl(r,o,a,l,h){let p=r.data[o];if(null===p)p=function Xd(r,o,a,l,h){const p=dy(),_=ac(),E=r.data[o]=function D0(r,o,a,l,h,p){let _=o?o.injectorIndex:-1,y=0;return sa()&&(y|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,h);return null===r.firstChild&&(r.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E,E.prev=p)),E}(r,o,a,l,h),function Lw(){return at.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function aa(){const r=at.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return mo(p,!0),p}function Kl(r,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),r.blueprint.push(l),r.data.push(null);return h}function tb(r,o,a,l,h){const p=Ii(),_=2&l;try{_s(-1),_&&o.length>st&&Cp(r,o,st,!1),Oo(_?2:0,h),a(l,h)}finally{_s(p),Oo(_?3:1,h)}}function Dp(r,o,a){if(Ag(o)){const l=ge(null);try{const p=o.directiveEnd;for(let _=o.directiveStart;_<p;_++){const y=r.data[_];y.contentQueries&&y.contentQueries(1,a[_],_)}}finally{ge(l)}}}function Ap(r,o,a){Mf()&&(function Sp(r,o,a,l){const h=a.directiveStart,p=a.directiveEnd;ls(a)&&function Rp(r,o,a){const l=Fi(o,r),h=y0(a);let _=16;a.signals?_=4096:a.onPush&&(_=64);const y=sb(r,Tp(r,h,null,_,l,o,null,r[Pr].rendererFactory.createRenderer(l,a),null,null,null));r[o.index]=y}(o,a,r.data[h+a.componentOffset]),r.firstCreatePass||da(a,o),ar(l,o);const _=a.initialInputs;for(let y=h;y<p;y++){const E=r.data[y],T=bo(o,r,y,a);ar(T,o),null!==_&&ZC(0,y-h,T,E,0,_),kr(E)&&(oi(a.index,o)[ot]=bo(o,r,y,a))}}(r,o,a,Fi(a,o)),64==(64&a.flags)&&rb(r,o,a))}function nb(r,o,a=Fi){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],y=-1===_?a(o,r):r[_];r[h++]=y}}}function y0(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=I0(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):o}function I0(r,o,a,l,h,p,_,y,E,T,x){const R=st+l,O=R+h,V=function HC(r,o){const a=[];for(let l=0;l<o;l++)a.push(l<r?null:Ct);return a}(R,O),Y="function"==typeof T?T():T;return V[Ie]={type:r,blueprint:V,template:a,queries:null,viewQuery:y,declTNode:o,data:V.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1,ssrId:x}}let w0=()=>null;function wi(r,o,a,l){for(let h in r)if(r.hasOwnProperty(h)){a=null===a?{}:a;const p=r[h];null===l?Ui(a,o,h,p):l.hasOwnProperty(h)&&Ui(a,o,l[h],p)}return a}function Ui(r,o,a,l){r.hasOwnProperty(a)?r[a].push(o,l):r[a]=[o,l]}function Qr(r,o,a,l,h,p,_,y){const E=Fi(o,a);let x,T=o.inputs;!y&&null!=T&&(x=T[l])?(ab(r,a,x,l,h),ls(o)&&function eR(r,o){const a=oi(o,r);16&a[et]||(a[et]|=64)}(a,o.index)):3&o.type&&(l=function A0(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),h=null!=_?_(h,o.value||"",l):h,p.setProperty(E,l,h))}function x0(r,o,a,l){if(Mf()){const h=null===l?null:{"":-1},p=function rR(r,o){const a=r.directiveRegistry;let l=null,h=null;if(a)for(let p=0;p<a.length;p++){const _=a[p];if(ff(o,_.selectors,!1))if(l||(l=[]),kr(_))if(null!==_.findHostDirectiveDefs){const y=[];h=h||new Map,_.findHostDirectiveDefs(_,y,h),l.unshift(...y,_),Jd(r,o,y.length)}else l.unshift(_),Jd(r,o,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,l,h),l.push(_)}return null===l?null:[l,h]}(r,a);let _,y;null===p?_=y=null:[_,y]=p,null!==_&&GC(r,o,a,_,h,y),h&&function S0(r,o,a){if(o){const l=r.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new De(-301,!1);l.push(o[h],p)}}}(a,l,h)}a.mergedAttrs=Xs(a.mergedAttrs,a.attrs)}function GC(r,o,a,l,h,p){for(let T=0;T<l.length;T++)gd(da(a,o),r,l[T].type);!function WC(r,o,a){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+a,r.providerIndexes=o}(a,r.data.length,l.length);for(let T=0;T<l.length;T++){const x=l[T];x.providersResolver&&x.providersResolver(x)}let _=!1,y=!1,E=Kl(r,o,l.length,null);for(let T=0;T<l.length;T++){const x=l[T];a.mergedAttrs=Xs(a.mergedAttrs,x.hostAttrs),oR(r,a,o,E,x),R0(E,x,h),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const R=x.type.prototype;!_&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),_=!0),!y&&(R.ngOnChanges||R.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),y=!0),E++}!function ib(r,o,a){const h=o.directiveEnd,p=r.data,_=o.attrs,y=[];let E=null,T=null;for(let x=o.directiveStart;x<h;x++){const R=p[x],O=a?a.get(R):null,Y=O?O.outputs:null;E=wi(R.inputs,x,E,O?O.inputs:null),T=wi(R.outputs,x,T,Y);const _e=null===E||null===_||Tg(o)?null:sR(E,x,_);y.push(_e)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=8),E.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=y,o.inputs=E,o.outputs=T}(r,a,p)}function rb(r,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,_=function _n(){return at.lFrame.currentDirectiveIndex}();try{_s(p);for(let y=l;y<h;y++){const E=r.data[y],T=o[y];bn(y),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&qC(E,T)}}finally{_s(-1),bn(_)}}function qC(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Jd(r,o,a){o.componentOffset=a,(r.components??=[]).push(o.index)}function R0(r,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=r;kr(o)&&(a[""]=r)}}function oR(r,o,a,l,h){r.data[l]=h;const p=h.factory||(h.factory=ds(h.type)),_=new Tl(p,kr(h),xc);r.blueprint[l]=_,a[l]=_,function iR(r,o,a,l,h){const p=h.hostBindings;if(p){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const y=~o.index;(function xp(r){let o=r.length;for(;o>0;){const a=r[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=y&&_.push(y),_.push(a,l,p)}}(r,o,l,Kl(r,a,h.hostVars,Ct),h)}function Go(r,o,a,l,h,p){const _=Fi(r,o);!function ob(r,o,a,l,h,p,_){if(null==p)r.removeAttribute(o,h,a);else{const y=null==_?rt(p):_(p,l||"",h);r.setAttribute(o,h,y,a)}}(o[mt],_,p,r.value,a,l,h)}function ZC(r,o,a,l,h,p){const _=p[o];if(null!==_)for(let y=0;y<_.length;)Mp(l,a,_[y++],_[y++],_[y++])}function Mp(r,o,a,l,h){const p=ge(null);try{const _=r.inputTransforms;null!==_&&_.hasOwnProperty(l)&&(h=_[l].call(o,h)),null!==r.setInput?r.setInput(o,h,a,l):o[l]=h}finally{ge(p)}}function sR(r,o,a){let l=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(r.hasOwnProperty(p)){null===l&&(l=[]);const _=r[p];for(let y=0;y<_.length;y+=2)if(_[y]===o){l.push(p,_[y+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function YC(r,o,a,l){return[r,!0,0,o,null,l,null,a,null,null]}function Ql(r,o){const a=r.contentQueries;if(null!==a){const l=ge(null);try{for(let h=0;h<a.length;h+=2){const _=a[h+1];if(-1!==_){const y=r.data[_];yl(a[h]),y.contentQueries(2,o[_],_)}}}finally{ge(l)}}}function sb(r,o){return r[fl]?r[vf][Mr]=o:r[fl]=o,r[vf]=o,o}function M0(r,o,a){yl(0);const l=ge(null);try{o(r,a)}finally{ge(l)}}function P0(r){return r[ta]||(r[ta]=[])}function Pp(r){return r.cleanup||(r.cleanup=[])}function Sc(r,o){const a=r[Ni],l=a?a.get(Ac,null):null;l&&l.handleError(o)}function ab(r,o,a,l,h){for(let p=0;p<a.length;){const _=a[p++],y=a[p++];Mp(r.data[_],o[_],l,y,h)}}function Hn(r,o,a){const l=od(o,r);!function Qw(r,o,a){r.setValue(o,a)}(r[mt],l,a)}function O0(r,o,a,l){const h=o[et];if(256==(256&h))return;o[Pr].inlineEffectRunner?.flush(),hd(o);let _=null,y=null;(function QC(r){return 2!==r.type})(r)&&(y=function Dc(r){return r[Gr]??function KS(r){const o=Ei.pop()??Object.create(p0);return o.lView=r,o}(r)}(o),_=function Ue(r){return r&&(r.nextProducerIndex=0),ge(r)}(y));try{Bg(o),function kf(r){return at.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&tb(r,o,a,2,l);const E=3==(3&h);if(E){const R=r.preOrderCheckHooks;null!==R&&Nr(o,R,null)}else{const R=r.preOrderHooks;null!==R&&Lo(o,R,0,null),Cl(o,0)}if(function kp(r){for(let o=NC(r);null!==o;o=Kd(o)){if(!(o[et]&pl.HasTransplantedViews))continue;const a=o[cs];for(let l=0;l<a.length;l++){Fw(a[l])}}}(o),N0(o,0),null!==r.contentQueries&&Ql(r,o),E){const R=r.contentCheckHooks;null!==R&&Nr(o,R)}else{const R=r.contentHooks;null!==R&&Lo(o,R,1),Cl(o,1)}!function zC(r,o){const a=r.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)_s(~h);else{const p=h,_=a[++l],y=a[++l];vl(_,p),y(2,o[p])}}}finally{_s(-1)}}(r,o);const T=r.components;null!==T&&Np(o,T,0);const x=r.viewQuery;if(null!==x&&M0(2,x,l),E){const R=r.viewCheckHooks;null!==R&&Nr(o,R)}else{const R=r.viewHooks;null!==R&&Lo(o,R,2),Cl(o,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[nd]){for(const R of o[nd])R();o[nd]=null}o[et]&=-73}catch(E){throw sc(o),E}finally{null!==y&&(function nt(r,o){if(ge(o),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Je(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Te(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}(y,_),function kC(r){r.lView[Gr]!==r&&(r.lView=null,Ei.push(r))}(y)),fd()}}function N0(r,o){for(let a=NC(r);null!==a;a=Kd(a))for(let l=Vn;l<a.length;l++)lb(a[l],o)}function F0(r,o,a){lb(oi(o,r),a)}function lb(r,o){Rf(r)&&Op(r,o)}function Op(r,o){const l=r[Ie],h=r[et],p=r[Gr];let _=!!(0===o&&16&h);if(_||=!!(64&h&&0===o),_||=!!(1024&h),_||=!(!p?.dirty||!Jt(p)),p&&(p.dirty=!1),r[et]&=-9217,_)O0(l,r,l.template,r[ot]);else if(8192&h){N0(r,1);const y=l.components;null!==y&&Np(r,y,1)}}function Np(r,o,a){for(let l=0;l<o.length;l++)F0(r,o[l],a)}function wa(r){for(r[Pr].changeDetectionScheduler?.notify();r;){r[et]|=64;const o=fs(r);if(If(r)&&!o)return r;r=o}return null}class th{get rootNodes(){const o=this._lView,a=o[Ie];return pi(a,o,a.firstChild,[])}constructor(o,a,l=!0){this._lView=o,this._cdRefInjectingView=a,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ot]}set context(o){this._lView[ot]=o}get destroyed(){return 256==(256&this._lView[et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Tn];if(yi(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(pp(o,l),xl(a,l))}this._attachedToViewContainer=!1}C_(this._lView[Ie],this._lView)}onDestroy(o){oa(this._lView,o)}markForCheck(){wa(this._cdRefInjectingView||this._lView)}detach(){this._lView[et]&=-129}reattach(){_l(this._lView),this._lView[et]|=128}detectChanges(){this._lView[et]|=1024,function Xl(r,o=!0){const a=r[Pr],l=a.rendererFactory;l.begin?.();try{!function cb(r){Op(r,0);let o=0;for(;ad(r);){if(100===o)throw new De(103,!1);o++,Op(r,1)}}(r)}catch(p){throw o&&Sc(r,p),p}finally{l.end?.(),a.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Xw(this._lView[Ie],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o,_l(this._lView)}}let XC=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=JC}return r})();function JC(r){return function L0(r,o,a){if(ls(r)&&!a){const l=oi(r.index,o);return new th(l,l)}return 47&r.type?new th(o[Dn],o):null}(sn(),ie(),16==(16&r))}let ub=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=tT;static#t=this.__NG_ENV_ID__=a=>a}return r})();class Fp extends ub{constructor(o){super(),this._lView=o}onDestroy(o){return oa(this._lView,o),()=>function cd(r,o){if(null===r[po])return;const a=r[po].indexOf(o);-1!==a&&r[po].splice(a,1)}(this._lView,o)}}function tT(){return new Fp(ie())}const j0=new Set;function eu(r){j0.has(r)||(j0.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function qo(r){return o=>{setTimeout(r,void 0,o)}}const Xr=class tu extends Cn.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),_=l;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=qo(p),h&&(h=qo(h)),_&&(_=qo(_)));const y=super.subscribe({next:h,error:p,complete:_});return o instanceof Si.w0&&o.add(y),y}};function Vp(...r){}class Un{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xr(!1),this.onMicrotaskEmpty=new Xr(!1),this.onStable=new Xr(!1),this.onError=new Xr(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function iT(){const r="function"==typeof ii.requestAnimationFrame;let o=ii[r?"requestAnimationFrame":"setTimeout"],a=ii[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function rT(r){const o=()=>{!function hR(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ii,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,z0(r),r.isCheckStableRunning=!0,nu(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),z0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,y)=>{if(function Up(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(y))return a.invokeTask(h,p,_,y);try{return oT(r),a.invokeTask(h,p,_,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&o(),sT(r)}},onInvoke:(a,l,h,p,_,y,E)=>{try{return oT(r),a.invoke(h,p,_,y,E)}finally{r.shouldCoalesceRunChangeDetection&&o(),sT(r)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,z0(r),nu(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Un.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(Un.isInAngularZone())throw new De(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,Bp,Vp,Vp);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const Bp={};function nu(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function z0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function oT(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function sT(r){r._nesting--,nu(r)}class aT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xr,this.onMicrotaskEmpty=new Xr,this.onStable=new Xr,this.onError=new Xr}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}var Mc=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(Mc||{});const H0={destroy(){}};function cT(r,o){!o&&function Fl(r){if(!rf()&&!function Yv(){return is}())throw new De(-203,!1)}();const a=o?.injector??Lt(gr);if(!function P(r){return"browser"===(r??Lt(gr)).get(Ea)}(a))return H0;eu("NgAfterNextRender");const l=a.get(jp),h=l.handler??=new G0,p=o?.phase??Mc.MixedReadWrite,_=()=>{h.unregister(E),y()},y=a.get(ub).onDestroy(_),E=new lT(a,p,()=>{_(),r()});return h.register(E),{destroy:_}}class lT{constructor(o,a,l){this.phase=a,this.callbackFn=l,this.zone=o.get(Un),this.errorHandler=o.get(Ac,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){this.errorHandler?.handleError(o)}}}class G0{constructor(){this.executingCallbacks=!1,this.buckets={[Mc.EarlyRead]:new Set,[Mc.Write]:new Set,[Mc.MixedReadWrite]:new Set,[Mc.Read]:new Set},this.deferredCallbacks=new Set}register(o){(this.executingCallbacks?this.deferredCallbacks:this.buckets[o.phase]).add(o)}unregister(o){this.buckets[o.phase].delete(o),this.deferredCallbacks.delete(o)}execute(){let o=!1;this.executingCallbacks=!0;for(const a of Object.values(this.buckets))for(const l of a)o=!0,l.invoke();this.executingCallbacks=!1;for(const a of this.deferredCallbacks)this.buckets[a.phase].add(a);return this.deferredCallbacks.clear(),o}destroy(){for(const o of Object.values(this.buckets))o.clear();this.deferredCallbacks.clear()}}let jp=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of a)h();return!!this.handler?.execute()||a.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=j({token:r,providedIn:"root",factory:()=>new r})}return r})();function uT(r,o){const a=oi(o,r),l=a[Ie];!function dT(r,o){for(let a=o.length;a<r.blueprint.length;a++)o.push(r.blueprint[a])}(l,a);const h=a[Mn];null!==h&&null===a[ho]&&(a[ho]=Ps(h,a[Ni])),zp(l,a,a[ot])}function zp(r,o,a){hd(o);try{const l=r.viewQuery;null!==l&&M0(1,l,a);const h=r.template;null!==h&&tb(r,o,h,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ql(r,o),r.staticViewQueries&&M0(2,r.viewQuery,a);const p=r.components;null!==p&&function q0(r,o){for(let a=0;a<o.length;a++)uT(r,o[a])}(o,p)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{o[et]&=-5,fd()}}function Hp(r,o,a){let l=a?r.styles:null,h=a?r.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const y=o[_];"number"==typeof y?p=y:1==p?h=io(h,y):2==p&&(l=io(l,y+": "+o[++_]+";"))}a?r.styles=l:r.stylesWithoutHost=l,a?r.classes=h:r.classesWithoutHost=h}class W0 extends ks{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Mt(o);return new $p(a,this.ngModule)}}function hT(r){const o=[];for(let a in r)r.hasOwnProperty(a)&&o.push({propName:r[a],templateName:a});return o}class pR{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=Qu(l);const h=this.injector.get(o,Y_,l);return h!==Y_||a===Y_?h:this.parentInjector.get(o,a,l)}}class $p extends o0{get inputs(){const o=this.componentDef,a=o.inputTransforms,l=hT(o.inputs);if(null!==a)for(const h of l)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return l}get outputs(){return hT(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function mf(r){return r.map(ec).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof Zi?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new pR(o,p):o,y=_.get(a0,null);if(null===y)throw new De(407,!1);const R={rendererFactory:y,sanitizer:_.get(AC,null),inlineEffectRunner:null,afterRenderEventManager:_.get(jp,null),changeDetectionScheduler:_.get(vC,null)},O=y.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",Y=l?function $C(r,o,a,l){const p=l.get(g0,!1)||a===os.ShadowDom,_=r.selectRootElement(o,p);return function E0(r){w0(r)}(_),_}(O,l,this.componentDef.encapsulation,_):E_(O,V,function fR(r){const o=r.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(V));let _e=512;this.componentDef.signals?_e|=4096:this.componentDef.onPush||(_e|=16);let Ce=null;null!==Y&&(Ce=Ps(Y,_,!0));const He=I0(0,null,null,1,0,null,null,null,null,null,null),pe=Tp(null,He,null,_e,null,null,R,O,_,null,Ce);let Et,Ht;hd(pe);try{const Kt=this.componentDef;let Ji,ug=null;Kt.findHostDirectiveDefs?(Ji=[],ug=new Map,Kt.findHostDirectiveDefs(Kt,Ji,ug),Ji.push(Kt)):Ji=[Kt];const jk=function Gp(r,o){const a=r[Ie],l=st;return r[l]=o,Yl(a,l,2,"#host",null)}(pe,Y),vw=function hb(r,o,a,l,h,p,_){const y=h[Ie];!function Z0(r,o,a,l){for(const h of r)o.mergedAttrs=Xs(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Hp(o,o.mergedAttrs,!0),null!==a&&sC(l,a,o))}(l,r,o,_);let E=null;null!==o&&(E=Ps(o,h[Ni]));const T=p.rendererFactory.createRenderer(o,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const R=Tp(h,y0(a),null,x,h[r.index],r,p,T,null,null,E);return y.firstCreatePass&&Jd(y,r,l.length-1),sb(h,R),h[r.index]=R}(jk,Y,Kt,Ji,pe,R,O);Ht=sd(He,st),Y&&function qp(r,o,a,l){if(l)dl(r,a,["ng-version","17.0.9"]);else{const{attrs:h,classes:p}=function Rw(r){const o=[],a=[];let l=1,h=2;for(;l<r.length;){let p=r[l];if("string"==typeof p)2===h?""!==p&&o.push(p,r[++l]):8===h&&a.push(p);else{if(!Sr(h))break;h=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&dl(r,a,h),p&&p.length>0&&Zy(r,a,p.join(" "))}}(O,Kt,Y,l),void 0!==a&&function Wp(r,o,a){const l=r.projection=[];for(let h=0;h<o.length;h++){const p=a[h];l.push(null!=p?Array.from(p):null)}}(Ht,this.ngContentSelectors,a),Et=function fT(r,o,a,l,h,p){const _=sn(),y=h[Ie],E=Fi(_,h);GC(y,h,_,a,null,l);for(let x=0;x<a.length;x++)ar(bo(h,y,_.directiveStart+x,_),h);rb(y,h,_),E&&ar(E,h);const T=bo(h,y,_.directiveStart+_.componentOffset,_);if(r[ot]=h[ot]=T,null!==p)for(const x of p)x(T,o);return Dp(y,_,r),T}(vw,Kt,Ji,ug,pe,[mR]),zp(He,pe,null)}finally{fd()}return new db(this.componentType,Et,Wl(Ht,pe),pe,Ht)}}class db extends BS{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new th(h,void 0,!1),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const p=this._rootLView;ab(p[Ie],p,h,o,a),this.previousInputValues.set(o,a),wa(oi(this._tNode.index,p))}}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function mR(){const r=sn();an(ie()[Ie],r)}function fb(r){let o=function $n(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const l=[r];for(;o;){let h;if(kr(r))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const _=r;_.inputs=pb(r.inputs),_.inputTransforms=pb(r.inputTransforms),_.declaredInputs=pb(r.declaredInputs),_.outputs=pb(r.outputs);const y=h.hostBindings;y&&mT(r,y);const E=h.viewQuery,T=h.contentQueries;if(E&&_R(r,E),T&&pT(r,T),$i(r.inputs,h.inputs),$i(r.declaredInputs,h.declaredInputs),$i(r.outputs,h.outputs),null!==h.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),$i(_.inputTransforms,h.inputTransforms)),kr(h)&&h.data.animation){const x=r.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const y=p[_];y&&y.ngInherit&&y(r),y===fb&&(a=!1)}}o=Object.getPrototypeOf(o)}!function gR(r){let o=0,a=null;for(let l=r.length-1;l>=0;l--){const h=r[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Xs(h.hostAttrs,a=Xs(a,h.hostAttrs))}}(l)}function pb(r){return r===xr?{}:r===Zt?[]:r}function _R(r,o){const a=r.viewQuery;r.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function pT(r,o){const a=r.contentQueries;r.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function mT(r,o){const a=r.hostBindings;r.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}function K0(r){const o=r.inputConfig,a={};for(const l in o)if(o.hasOwnProperty(l)){const h=o[l];Array.isArray(h)&&h[2]&&(a[l]=h[2])}r.inputTransforms=a}function Ao(r,o,a){return r[o]=a}function ai(r,o,a){return!Object.is(r[o],a)&&(r[o]=a,!0)}function Fs(r,o,a,l){const h=ai(r,o,a);return ai(r,o+1,l)||h}function gb(r,o,a,l,h){const p=Fs(r,o,a,l);return ai(r,o+2,h)||p}function iu(r,o,a,l){const h=ie();return ai(h,go(),o)&&(Bt(),Go(Nt(),h,r,o,a,l)),iu}function _b(r,o){return r<<17|o<<2}function ji(r){return r>>17&32767}function rI(r){return 2|r}function Ta(r){return(131068&r)>>2}function So(r,o){return-131069&r|o<<2}function Yp(r){return 1|r}function eo(r,o,a,l){const h=r[a+1],p=null===o;let _=l?ji(h):Ta(h),y=!1;for(;0!==_&&(!1===y||p);){const T=r[_+1];Yi(r[_],o)&&(y=!0,r[_+1]=l?Yp(T):rI(T)),_=l?ji(T):Ta(T)}y&&(r[a+1]=l?rI(h):Yp(h))}function Yi(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&Uo(r,o)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qp(r){return r.substring(Kn.key,Kn.keyEnd)}function oI(r,o){const a=Kn.textEnd;return a===o?-1:(o=Kn.keyEnd=function bR(r,o,a){for(;o<a&&r.charCodeAt(o)>32;)o++;return o}(r,Kn.key=o,a),Nc(r,o,a))}function Nc(r,o,a){for(;o<a&&r.charCodeAt(o)<=32;)o++;return o}function aI(r,o,a){const l=ie();return ai(l,go(),o)&&Qr(Bt(),Nt(),l,r,o,l[mt],a,!1),aI}function Fc(r,o,a,l,h){const _=h?"class":"style";ab(r,a,o.inputs[_],_,l)}function vb(r,o,a){return fe(r,o,a,!1),vb}function mi(r,o){return fe(r,o,null,!0),mi}function uu(r){!function nn(r,o,a,l){const h=Bt(),p=gs(2);h.firstUpdatePass&&yb(h,null,p,l);const _=ie();if(a!==Ct&&ai(_,p,a)){const y=h.data[Ii()];if(ST(y,l)&&!yr(h,p)){let E=l?y.classesWithoutHost:y.stylesWithoutHost;null!==E&&(a=io(E,a||"")),Fc(h,y,_,a,l)}else!function ER(r,o,a,l,h,p,_,y){h===Ct&&(h=Zt);let E=0,T=0,x=0<h.length?h[0]:null,R=0<p.length?p[0]:null;for(;null!==x||null!==R;){const O=E<h.length?h[E+1]:void 0,V=T<p.length?p[T+1]:void 0;let _e,Y=null;x===R?(E+=2,T+=2,O!==V&&(Y=R,_e=V)):null===R||null!==x&&x<R?(E+=2,Y=x):(T+=2,Y=R,_e=V),null!==Y&&DT(r,o,a,l,Y,_e,_,y),x=E<h.length?h[E]:null,R=T<p.length?p[T]:null}}(h,y,_,_[mt],_[p+1],_[p+1]=function Ci(r,o,a){if(null==a||""===a)return Zt;const l=[],h=Rs(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)r(l,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&r(l,p,h[p]);else"string"==typeof h&&o(l,h);return l}(r,o,a),l,p)}}(IR,Ls,r,!0)}function Ls(r,o){for(let a=function bb(r){return function TT(r){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=r.length}(r),oI(r,Nc(r,0,Kn.textEnd))}(o);a>=0;a=oI(o,a))Bi(r,Qp(o),!0)}function fe(r,o,a,l){const h=ie(),p=Bt(),_=gs(2);p.firstUpdatePass&&yb(p,r,_,l),o!==Ct&&ai(h,_,o)&&DT(p,p.data[Ii()],h,h[mt],r,h[_+1]=function xT(r,o){return null==r||""===r||("string"==typeof o?r+=o:"object"==typeof r&&(r=Nn(Rs(r)))),r}(o,a),l,_)}function yr(r,o){return o>=r.expandoStartIndex}function yb(r,o,a,l){const h=r.data;if(null===h[a+1]){const p=h[Ii()],_=yr(r,a);ST(p,l)&&null===o&&!_&&(o=!1),o=function Ve(r,o,a,l){const h=function Of(r){const o=at.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}(r);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=me(a=Z(null,r,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||r[_]!==h)if(a=Z(h,r,o,a,l),null===p){let E=function Ze(r,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Ta(l))return r[ji(l)]}(r,o,l);void 0!==E&&Array.isArray(E)&&(E=Z(null,r,o,E[1],l),E=me(E,o.attrs,l),function yR(r,o,a,l){r[ji(a?o.classBindings:o.styleBindings)]=l}(r,o,l,E))}else p=function Re(r,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=me(l,r[p].hostAttrs,a);return me(l,o.attrs,a)}(r,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function wT(r,o,a,l,h,p){let _=p?o.classBindings:o.styleBindings,y=ji(_),E=Ta(_);r[l]=a;let x,T=!1;if(Array.isArray(a)?(x=a[1],(null===x||Uo(a,x)>0)&&(T=!0)):x=a,h)if(0!==E){const O=ji(r[y+1]);r[l+1]=_b(O,y),0!==O&&(r[O+1]=So(r[O+1],l)),r[y+1]=function hn(r,o){return 131071&r|o<<17}(r[y+1],l)}else r[l+1]=_b(y,0),0!==y&&(r[y+1]=So(r[y+1],l)),y=l;else r[l+1]=_b(E,0),0===y?y=l:r[E+1]=So(r[E+1],l),E=l;T&&(r[l+1]=rI(r[l+1])),eo(r,x,l,!0),eo(r,x,l,!1),function Da(r,o,a,l,h){const p=h?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof o&&Uo(p,o)>=0&&(a[l+1]=Yp(a[l+1]))}(o,x,r,l,p),_=_b(y,E),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,l)}}function Z(r,o,a,l,h){let p=null;const _=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<_&&(p=o[y],l=me(l,p.hostAttrs,h),p!==r);)y++;return null!==r&&(a.directiveStylingLast=y),l}function me(r,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Bi(r,_,!!a||o[++p]))}return void 0===r?null:r}function IR(r,o,a){const l=String(o);""!==l&&!l.includes(" ")&&Bi(r,l,a)}function DT(r,o,a,l,h,p,_,y){if(!(3&o.type))return;const E=r.data,T=E[y+1],x=function IT(r){return 1==(1&r)}(T)?AT(E,o,a,h,Ta(T),_):void 0;Ib(x)||(Ib(p)||function iI(r){return 2==(2&r)}(T)&&(p=AT(E,null,a,h,y,_)),function _S(r,o,a,l,h){if(o)h?r.addClass(a,l):r.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:b_.DashCase;null==h?r.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=b_.Important),r.setStyle(a,l,h,p))}}(l,_,od(Ii(),a),h,p))}function AT(r,o,a,l,h,p){const _=null===o;let y;for(;h>0;){const E=r[h],T=Array.isArray(E),x=T?E[1]:E,R=null===x;let O=a[h+1];O===Ct&&(O=R?Zt:void 0);let V=R?Kf(O,l):x===l?O:void 0;if(T&&!Ib(V)&&(V=Kf(E,l)),Ib(V)&&(y=V,_))return y;const Y=r[h+1];h=_?ji(Y):Ta(Y)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(y=Kf(E,l))}return y}function Ib(r){return void 0!==r}function ST(r,o){return 0!=(r.flags&(o?8:16))}let BT=()=>null;function ah(r,o){return BT(r,o)}class RR{destroy(o){}updateValue(o,a){}swap(o,a){const l=Math.min(o,a),h=Math.max(o,a),p=this.detach(h);if(h-l>1){const _=this.detach(l);this.attach(l,p),this.attach(h,_)}else this.attach(l,p)}move(o,a){this.attach(a,this.detach(o))}}function hI(r,o,a,l,h){return r===a&&Object.is(o,l)?1:Object.is(h(r,o),h(a,l))?-1:0}function fI(r,o,a,l){return!(void 0===o||!o.has(l)||(r.attach(a,o.get(l)),o.delete(l),0))}function UT(r,o,a,l,h){if(fI(r,o,l,a(l,h)))r.updateValue(l,h);else{const p=r.create(l,h);r.attach(l,p)}}function jT(r,o,a,l){const h=new Set;for(let p=o;p<=a;p++)h.add(l(p,r.at(p)));return h}class zT{constructor(){this.kvMap=new Map,this._vMap=void 0}has(o){return this.kvMap.has(o)}delete(o){if(!this.has(o))return!1;const a=this.kvMap.get(o);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(o,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(o),!0}get(o){return this.kvMap.get(o)}set(o,a){if(this.kvMap.has(o)){let l=this.kvMap.get(o);void 0===this._vMap&&(this._vMap=new Map);const h=this._vMap;for(;h.has(l);)l=h.get(l);h.set(l,a)}else this.kvMap.set(o,a)}forEach(o){for(let[a,l]of this.kvMap)if(o(l,a),void 0!==this._vMap){const h=this._vMap;for(;h.has(l);)l=h.get(l),o(l,a)}}}function sm(r,o,a,l){const h=o.tView,y=Tp(r,h,a,4096&r[et]?4096:16,null,o,null,null,null,l?.injector??null,l?.dehydratedView??null);y[ss]=r[o.index];const T=r[fo];return null!==T&&(y[fo]=T.createEmbeddedView(h)),zp(h,y,a),y}function HT(r,o){const a=Vn+o;if(a<r.length)return r[a]}function ch(r,o){return!o||null===o.firstChild||g_(r)}function lh(r,o,a,l=!0){const h=o[Ie];if(function hS(r,o,a,l){const h=Vn+l,p=a.length;l>0&&(a[h-1][Mr]=o),l<p-Vn?(o[Mr]=a[h],Al(a,Vn+l,o)):(a.push(o),o[Mr]=null),o[Tn]=a;const _=o[ss];null!==_&&a!==_&&function fS(r,o){const a=r[cs];o[Dn]!==o[Tn][Tn][Dn]&&(r[et]|=pl.HasTransplantedViews),null===a?r[cs]=[o]:a.push(o)}(_,o);const y=o[fo];null!==y&&y.insertView(r),_l(o),o[et]|=128}(h,o,r,a),l){const _=Gy(a,r),y=o[mt],E=Ud(y,r[pr]);null!==E&&function uS(r,o,a,l,h,p){l[Mn]=h,l[vi]=o,x_(r,l,a,1,h,p)}(h,r[vi],y,o,E,_)}const p=o[ho];null!==p&&null!==p.firstChild&&(p.firstChild=null)}function pI(r,o){const a=pp(r,o);return void 0!==a&&C_(a[Ie],a),a}let am=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=$T}return r})();function $T(){return Ra(sn(),ie())}const PR=am,Tb=class extends PR{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Wl(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const o=md(this._hostTNode,this._hostLView);if(qe(o)){const a=ua(o,this._hostLView),l=Vi(o);return new Qt(a[Ie].data[l+8],a)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ti(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const _=ah(this._lContainer,o.ssrId),y=o.createEmbeddedViewImpl(a||{},p,_);return this.insertImpl(y,h,ch(this._hostTNode,_)),y}createComponent(o,a,l,h,p){const _=o&&!function Eo(r){return"function"==typeof r}(o);let y;if(_)y=a;else{const Y=a||{};y=Y.index,l=Y.injector,h=Y.projectableNodes,p=Y.environmentInjector||Y.ngModuleRef}const E=_?o:new $p(Mt(o)),T=l||this.parentInjector;if(!p&&null==E.ngModule){const _e=(_?T:this.parentInjector).get(Zi,null);_e&&(p=_e)}const x=Mt(E.componentType??{}),R=ah(this._lContainer,x?.id??null),V=E.create(T,h,R?.firstChild??null,p);return this.insertImpl(V.hostView,y,ch(this._hostTNode,R)),V}insert(o,a){return this.insertImpl(o,a,!0)}insertImpl(o,a,l){const h=o._lView;if(function Nw(r){return yi(r[Tn])}(h)){const y=this.indexOf(o);if(-1!==y)this.detach(y);else{const E=h[Tn],T=new Tb(E,E[vi],E[Tn]);T.detach(T.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;return lh(_,h,p,l),o.attachToViewContainerRef(),Al(Db(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ti(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=pp(this._lContainer,a);l&&(xl(Db(this._lContainer),a),C_(l[Ie],l))}detach(o){const a=this._adjustIndex(o,-1),l=pp(this._lContainer,a);return l&&null!=xl(Db(this._lContainer),a)?new th(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Ti(r){return r[8]}function Db(r){return r[8]||(r[8]=[])}function Ra(r,o){let a;const l=o[r.index];return yi(l)?a=l:(a=YC(l,o,null,r),o[r.index]=a,sb(o,a)),En(a,o,r,l),new Tb(a,r,o)}let En=function fn(r,o,a,l){if(r[pr])return;let h;h=8&a.type?An(l):function GT(r,o){const a=r[mt],l=a.createComment(""),h=Fi(o,r);return Hl(a,Ud(a,h),l,function nC(r,o){return r.nextSibling(o)}(a,h),!1),l}(o,a),r[pr]=h},uh=()=>!1;function hh(r,o,a,l,h,p,_,y){const E=ie(),T=Bt(),x=r+st,R=T.firstCreatePass?function WT(r,o,a,l,h,p,_,y,E){const T=o.consts,x=Yl(o,r,4,_||null,Fo(T,y));x0(o,a,x,Fo(T,E)),an(o,x);const R=x.tView=I0(2,x,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T,null);return null!==o.queries&&(o.queries.template(o,x),R.queries=o.queries.embeddedTView(x)),x}(x,T,E,o,a,l,h,p,_):T.data[x];mo(R,!1);const O=gi(T,E,R,r);cc()&&D_(T,E,O,R),ar(O,E);const V=YC(O,E,O,R);return E[x]=V,sb(E,V),function zi(r,o,a){return uh(r,o,a)}(V,R,E),yf(R)&&Ap(T,E,R),null!=_&&nb(E,R,y),hh}let gi=function ZT(r,o,a,l){return Li(!0),o[mt].createComment("")};function Vs(r,o,a){eu("NgControlFlow");const l=ie(),h=go(),p=Bs(l,st+r);if(ai(l,h,o)){const y=ge(null);try{if(pI(p,0),-1!==o){const E=js(l[Ie],st+o),T=ah(p,E.tView.ssrId);lh(p,sm(l,E,a,{dehydratedView:T}),0,ch(E,T))}}finally{ge(y)}}else{const y=HT(p,0);void 0!==y&&(y[ot]=a)}}class Ab{constructor(o,a,l){this.lContainer=o,this.$implicit=a,this.$index=l}get $count(){return this.lContainer.length-Vn}}function fh(r,o){return o}class kR{constructor(o,a,l){this.hasEmptyBlock=o,this.trackByFn=a,this.liveCollection=l}}function Ma(r,o,a,l,h,p,_,y,E,T,x){eu("NgControlFlow");const R=void 0!==E,O=ie(),V=y?_.bind(O[Dn][ot]):_,Y=new kR(R,V);O[st+r]=Y,hh(r+1,o,a,l,h,p),R&&hh(r+2,E,T,x)}class Uc extends RR{constructor(o,a,l){super(),this.lContainer=o,this.hostLView=a,this.templateTNode=l,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Vn}at(o){return this.getLView(o)[ot].$implicit}attach(o,a){const l=a[ho];this.needsIndexUpdate||=o!==this.length,lh(this.lContainer,a,o,ch(this.templateTNode,l))}detach(o){return this.needsIndexUpdate||=o!==this.length-1,function Us(r,o){return pp(r,o)}(this.lContainer,o)}create(o,a){const l=ah(this.lContainer,this.templateTNode.tView.ssrId);return sm(this.hostLView,this.templateTNode,new Ab(this.lContainer,a,o),{dehydratedView:l})}destroy(o){C_(o[Ie],o)}updateValue(o,a){this.getLView(o)[ot].$implicit=a}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let o=0;o<this.length;o++)this.getLView(o)[ot].$index=o}getLView(o){return function lm(r,o){return HT(r,o)}(this.lContainer,o)}}function cm(r){const o=ge(null),a=Ii();try{const l=ie(),h=l[Ie],p=l[a];if(void 0===p.liveCollection){const y=a+1,E=Bs(l,y),T=js(h,y);p.liveCollection=new Uc(E,l,T)}else p.liveCollection.reset();const _=p.liveCollection;if(function MR(r,o,a){let l,h,p=0,_=r.length-1;if(Array.isArray(o)){let y=o.length-1;for(;p<=_&&p<=y;){const E=r.at(p),T=o[p],x=hI(p,E,p,T,a);if(0!==x){x<0&&r.updateValue(p,T),p++;continue}const R=r.at(_),O=o[y],V=hI(_,R,y,O,a);if(0!==V){V<0&&r.updateValue(_,O),_--,y--;continue}const Y=a(p,E),_e=a(_,R),Ce=a(p,T);if(Object.is(Ce,_e)){const He=a(y,O);Object.is(He,Y)?(r.swap(p,_),r.updateValue(_,O),y--,_--):r.move(_,p),r.updateValue(p,T),p++}else if(l??=new zT,h??=jT(r,p,_,a),fI(r,l,p,Ce))r.updateValue(p,T),p++,_++;else if(h.has(Ce))l.set(Y,r.detach(p)),_--;else{const He=r.create(p,o[p]);r.attach(p,He),p++,_++}}for(;p<=y;)UT(r,l,a,p,o[p]),p++}else if(null!=o){const y=o[Symbol.iterator]();let E=y.next();for(;!E.done&&p<=_;){const T=r.at(p),x=E.value,R=hI(p,T,p,x,a);if(0!==R)R<0&&r.updateValue(p,x),p++,E=y.next();else{l??=new zT,h??=jT(r,p,_,a);const O=a(p,x);if(fI(r,l,p,O))r.updateValue(p,x),p++,_++,E=y.next();else if(h.has(O)){const V=a(p,T);l.set(V,r.detach(p)),_--}else r.attach(p,r.create(p,x)),p++,_++,E=y.next()}}for(;!E.done;)UT(r,l,a,r.length,E.value),E=y.next()}for(;p<=_;)r.destroy(r.detach(_--));l?.forEach(y=>{r.destroy(y)})}(_,r,p.trackByFn),_.updateIndexes(),p.hasEmptyBlock){const y=go(),E=0===_.length;if(ai(l,y,E)){const T=a+2,x=Bs(l,T);if(E){const R=js(h,T),O=ah(x,R.tView.ssrId);lh(x,sm(l,R,void 0,{dehydratedView:O}),0,ch(R,O))}else pI(x,0)}}}finally{ge(o)}}function Bs(r,o){return r[o]}function js(r,o){return sd(r,o)}function bm(r,o,a,l){const h=ie(),p=Bt(),_=st+r,y=h[mt],E=p.firstCreatePass?function AI(r,o,a,l,h,p){const _=o.consts,E=Yl(o,r,2,l,Fo(_,h));return x0(o,a,E,Fo(_,p)),null!==E.attrs&&Hp(E,E.attrs,!1),null!==E.mergedAttrs&&Hp(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(_,p,h,o,a,l):p.data[_],T=ym(p,h,E,y,o,r);h[_]=T;const x=yf(E);return mo(E,!0),sC(y,T,E),32!=(32&E.flags)&&cc()&&D_(p,h,T,E),0===function ld(){return at.lFrame.elementDepthCount}()&&ar(T,h),function Xx(){at.lFrame.elementDepthCount++}(),x&&(Ap(p,h,E),Dp(p,E,h)),null!==l&&nb(h,E),bm}function vm(){let r=sn();ac()?bl():(r=r.parent,mo(r,!1));const o=r;(function Or(r){return at.skipHydrationRootTNode===r})(o)&&function ud(){at.skipHydrationRootTNode=null}(),function ps(){at.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(an(a,r),Ag(r)&&a.queries.elementEnd(r)),null!=o.classesWithoutHost&&function jf(r){return 0!=(8&r.flags)}(o)&&Fc(a,o,ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function gy(r){return 0!=(16&r.flags)}(o)&&Fc(a,o,ie(),o.stylesWithoutHost,!1),vm}function Fb(r,o,a,l){return bm(r,o,a,l),vm(),Fb}let ym=(r,o,a,l,h,p)=>(Li(!0),E_(l,h,function wl(){return at.lFrame.currentNamespace}()));function Fa(r,o,a){const l=ie(),h=Bt(),p=r+st,_=h.firstCreatePass?function dD(r,o,a,l,h){const p=o.consts,_=Fo(p,l),y=Yl(o,r,8,"ng-container",_);return null!==_&&Hp(y,_,!0),x0(o,a,y,Fo(p,h)),null!==o.queries&&o.queries.elementStart(o,y),y}(p,h,l,o,a):h.data[p];mo(_,!0);const y=$c(h,l,_,r);return l[p]=y,cc()&&D_(h,l,y,_),ar(y,l),yf(_)&&(Ap(h,l,_),Dp(h,_,l)),null!=a&&nb(l,_),Fa}function Hs(){let r=sn();const o=Bt();return ac()?bl():(r=r.parent,mo(r,!1)),o.firstCreatePass&&(an(o,r),Ag(r)&&o.queries.elementEnd(r)),Hs}let $c=(r,o,a,l)=>(Li(!0),zy(o[mt],""));function SI(){return ie()}function Lb(r,o,a){const l=ie();return ai(l,go(),o)&&Qr(Bt(),Nt(),l,r,o,l[mt],a,!0),Lb}const yu=void 0;var zn=["en",[["a","p"],["AM","PM"],yu],[["AM","PM"],yu,yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yu,"{1} 'at' {0}",yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UR(r){const a=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let La={};function Vb(r){const o=function Va(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=fD(o);if(a)return a;const l=o.split("-")[0];if(a=fD(l),a)return a;if("en"===l)return zn;throw new De(701,!1)}function Ah(r){return Vb(r)[Yo.PluralCase]}function fD(r){return r in La||(La[r]=ii.ng&&ii.ng.common&&ii.ng.common.locales&&ii.ng.common.locales[r]),La[r]}var Yo=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Yo||{});const Iu="en-US";let Bb=Iu;function $I(r){return!!r&&"function"==typeof r.then}function HD(r){return!!r&&"function"==typeof r.subscribe}function Du(r,o,a,l){const h=ie(),p=Bt(),_=sn();return function GI(r,o,a,l,h,p,_){const y=yf(l),T=r.firstCreatePass&&Pp(r),x=o[ot],R=P0(o);let O=!0;if(3&l.type||_){const _e=Fi(l,o),Ce=_?_(_e):_e,He=R.length,pe=_?Ht=>_(An(Ht[l.index])):l.index;let Et=null;if(!_&&y&&(Et=function Yc(r,o,a,l){const h=r.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const y=o[ta],E=h[p+2];return y.length>E?y[E]:null}"string"==typeof _&&(p+=2)}return null}(r,o,h,l.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,O=!1;else{p=WI(l,o,x,p,!1);const Ht=a.listen(Ce,h,p);R.push(p,Ht),T&&T.push(h,pe,He,He+1)}}else p=WI(l,o,x,p,!1);const V=l.outputs;let Y;if(O&&null!==V&&(Y=V[h])){const _e=Y.length;if(_e)for(let Ce=0;Ce<_e;Ce+=2){const Kt=o[Y[Ce]][Y[Ce+1]].subscribe(p),Ji=R.length;R.push(p,Kt),T&&T.push(h,l.index,Ji,-(Ji+1))}}}(p,h,h[mt],_,r,o,l),Du}function qI(r,o,a,l){try{return Oo(6,o,a),!1!==a(l)}catch(h){return Sc(r,h),!1}finally{Oo(7,o,a)}}function WI(r,o,a,l,h){return function p(_){if(_===Function)return l;wa(r.componentOffset>-1?oi(r.index,o):o);let E=qI(o,a,l,_),T=p.__ngNextListenerFn__;for(;T;)E=qI(o,a,T,_)&&E,T=T.__ngNextListenerFn__;return h&&!1===E&&_.preventDefault(),E}}function $D(r=1){return function qg(r){return(at.lFrame.contextLView=function Ug(r,o){for(;r>0;)o=o[ic],r--;return o}(r,at.lFrame.contextLView))[ot]}(r)}function ZI(r,o){let a=null;const l=function Jv(r){const o=r.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(r);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===l?ff(r,p,!0):ty(l,p))return h}else a=h}return a}function Hb(r){const o=ie()[Dn][vi];if(!o.projection){const l=o.projection=function qr(r,o){const a=[];for(let l=0;l<r;l++)a.push(o);return a}(r?r.length:1,null),h=l.slice();let p=o.child;for(;null!==p;){const _=r?ZI(p,r):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function YI(r,o=0,a){const l=ie(),h=Bt(),p=Yl(h,st+r,16,null,a||null);null===p.projection&&(p.projection=o),bl(),(!l[ho]||sa())&&32!=(32&p.flags)&&function S_(r,o,a){oC(o[mt],0,o,a,Hy(r,a,o),iC(a.parent||o[vi],a,o))}(h,l,p)}function xu(r){return function No(r,o){return r[o]}(function Hg(){return at.lFrame.contextLView}(),st+r)}function JD(r,o=""){const a=ie(),l=Bt(),h=r+st,p=l.firstCreatePass?Yl(l,h,1,o,null):l.data[h],_=nE(l,a,p,o,r);a[h]=_,cc()&&D_(l,a,_,p),mo(p,!1)}let nE=(r,o,a,l,h)=>(Li(!0),function I_(r,o){return r.createText(o)}(o[mt],l));function Yb(r){return Kb("",r,""),Yb}function Kb(r,o,a){const l=ie(),h=function ou(r,o,a,l){return ai(r,go(),a)?o+rt(a)+l:Ct}(l,r,o,a);return h!==Ct&&Hn(l,Ii(),h),Kb}function Qb(r,o,a,l,h){const p=ie(),_=function kc(r,o,a,l,h,p){const y=Fs(r,ms(),a,h);return gs(2),y?o+rt(a)+l+rt(h)+p:Ct}(p,r,o,a,l,h);return _!==Ct&&Hn(p,Ii(),_),Qb}function iE(r,o,a,l,h,p,_){const y=ie(),E=function Oc(r,o,a,l,h,p,_,y){const T=gb(r,ms(),a,h,_);return gs(3),T?o+rt(a)+l+rt(h)+p+rt(_)+y:Ct}(y,r,o,a,l,h,p,_);return E!==Ct&&Hn(y,Ii(),E),iE}function aE(r,o,a,l,h){if(r=Fe(r),Array.isArray(r))for(let p=0;p<r.length;p++)aE(r[p],o,a,l,h);else{const p=Bt(),_=ie(),y=sn();let E=ba(r)?r:Fe(r.provide);const T=Zr(r),x=1048575&y.providerIndexes,R=y.directiveStart,O=y.providerIndexes>>20;if(ba(r)||!r.multi){const V=new Tl(T,h,xc),Y=bi(E,o,h?x:x+O,R);-1===Y?(gd(da(y,_),p,E),cE(p,r,o.length),o.push(E),y.directiveStart++,y.directiveEnd++,h&&(y.providerIndexes+=1048576),a.push(V),_.push(V)):(a[Y]=V,_[Y]=V)}else{const V=bi(E,o,x+O,R),Y=bi(E,o,x,x+O),Ce=Y>=0&&a[Y];if(h&&!Ce||!h&&!(V>=0&&a[V])){gd(da(y,_),p,E);const He=function iM(r,o,a,l,h){const p=new Tl(r,a,xc);return p.multi=[],p.index=o,p.componentProviders=0,Xb(p,h,l&&!a),p}(h?nM:tM,a.length,h,l,T);!h&&Ce&&(a[Y].providerFactory=He),cE(p,r,o.length,0),o.push(E),y.directiveStart++,y.directiveEnd++,h&&(y.providerIndexes+=1048576),a.push(He),_.push(He)}else cE(p,r,V>-1?V:Y,Xb(a[h?Y:V],T,!h&&l));!h&&l&&Ce&&a[Y].componentProviders++}}}function cE(r,o,a,l){const h=ba(o),p=function Ay(r){return!!r.useClass}(o);if(h||p){const E=(p?Fe(o.useClass):o).prototype.ngOnDestroy;if(E){const T=r.destroyHooks||(r.destroyHooks=[]);if(!h&&o.multi){const x=T.indexOf(a);-1===x?T.push(a,[l,E]):T[x+1].push(l,E)}else T.push(a,E)}}}function Xb(r,o,a){return a&&r.componentProviders++,r.multi.push(o)-1}function bi(r,o,a,l){for(let h=a;h<l;h++)if(o[h]===r)return h;return-1}function tM(r,o,a,l){return lE(this.multi,[])}function nM(r,o,a,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=bo(a,a[Ie],this.providerFactory.index,l);p=y.slice(0,_),lE(h,p);for(let E=_;E<y.length;E++)p.push(y[E])}else p=[],lE(h,p);return p}function lE(r,o){for(let a=0;a<r.length;a++)o.push((0,r[a])());return o}function Jb(r,o=[]){return a=>{a.providersResolver=(l,h)=>function tA(r,o,a){const l=Bt();if(l.firstCreatePass){const h=kr(r);aE(a,l.data,l.blueprint,h,!0),aE(o,l.data,l.blueprint,h,!1)}}(l,h?h(r):r,o)}}class Ru{}class Om{}function ev(r,o){return new tv(r,o??null,[])}class tv extends Ru{constructor(o,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new W0(this);const h=Oi(o);this._bootstrapComponents=S(h.bootstrap),this._r3Injector=xs(o,a,[{provide:Ru,useValue:this},{provide:ks,useValue:this.componentFactoryResolver},...l],Nn(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Nm extends Om{constructor(o){super(),this.moduleType=o}create(o){return new tv(this.moduleType,o,[])}}class Vh extends Ru{constructor(o){super(),this.componentFactoryResolver=new W0(this),this.instance=null;const a=new va([...o.providers,{provide:Ru,useValue:this},{provide:ks,useValue:this.componentFactoryResolver}],o.parent||wd(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Fm(r,o,a=null){return new Vh({providers:r,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let dE=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=Pl(0,a.type),h=l.length>0?Fm([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=j({token:r,providedIn:"environment",factory:()=>new r(ui(Zi))})}return r})();function nv(r){eu("NgStandalone"),r.getStandaloneInjector=o=>o.get(dE).getOrCreateStandaloneInjector(r)}function Lm(r,o,a,l){return function cv(r,o,a,l,h,p){const _=o+a;return ai(r,_,h)?Ao(r,_+1,p?l.call(p,h):l(h)):Jc(r,_+1)}(ie(),di(),r,o,a,l)}function jh(r,o,a,l,h){return function hA(r,o,a,l,h,p,_){const y=o+a;return Fs(r,y,h,p)?Ao(r,y+2,_?l.call(_,h,p):l(h,p)):Jc(r,y+2)}(ie(),di(),r,o,a,l,h)}function Vm(r,o,a,l,h,p){return function fA(r,o,a,l,h,p,_,y){const E=o+a;return gb(r,E,h,p,_)?Ao(r,E+3,y?l.call(y,h,p,_):l(h,p,_)):Jc(r,E+3)}(ie(),di(),r,o,a,l,h,p)}function Jc(r,o){const a=r[o];return a===Ct?void 0:a}function hM(){return this._results[Symbol.iterator]()}class dv{static#e=Symbol.iterator;get changes(){return this._changes??=new Xr}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=dv.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=hM)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){this.dirty=!1;const l=function sr(r){return r.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function yy(r,o,a){if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++){let h=r[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(this._results,l,a))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let ja=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=EE}return r})();const IE=ja,zh=class extends IE{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,l){const h=sm(this._declarationLView,this._declarationTContainer,o,{injector:a,dehydratedView:l});return new th(h)}};function EE(){return Pu(sn(),ie())}function Pu(r,o){return 4&r.type?new zh(o,r,Wl(r,o)):null}class ku{constructor(o){this.queryList=o,this.matches=null}clone(){return new ku(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Bm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==EA(o,a).matches&&this.queries[a].setDirty()}}class wE{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Um{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Um(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class jm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new jm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,el(a,p)),this.matchTNodeWithReadOption(o,a,Vo(a,o,p,!1,!1))}else l===ja?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Vo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===yp||h===am||h===ja&&4&a.type)this.addMatch(a.index,-2);else{const p=Vo(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function el(r,o){const a=r.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function fM(r,o,a,l){return-1===a?function bA(r,o){return 11&r.type?Wl(r,o):4&r.type?Pu(r,o):null}(o,r):-2===a?function CE(r,o,a){return a===yp?Wl(o,r):a===ja?Pu(o,r):a===am?Ra(o,r):void 0}(r,o,l):bo(r,r[Ie],a,o)}function vA(r,o,a,l){const h=o[fo].queries[l];if(null===h.matches){const p=r.data,_=a.matches,y=[];for(let E=0;E<_.length;E+=2){const T=_[E];y.push(T<0?null:fM(o,p[T],_[E+1],a.metadata.read))}h.matches=y}return h.matches}function zm(r,o,a,l){const h=r.queries.getByIndex(a),p=h.matches;if(null!==p){const _=vA(r,o,h,a);for(let y=0;y<p.length;y+=2){const E=p[y];if(E>0)l.push(_[y/2]);else{const T=p[y+1],x=o[-E];for(let R=Vn;R<x.length;R++){const O=x[R];O[ss]===O[Tn]&&zm(O[Ie],O,T,l)}if(null!==x[cs]){const R=x[cs];for(let O=0;O<R.length;O++){const V=R[O];zm(V[Ie],V,T,l)}}}}}return l}function yA(r){const o=ie(),a=Bt(),l=ca();yl(l+1);const h=EA(a,l);if(r.dirty&&function Sf(r){return 4==(4&r[et])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const p=h.crossesNgTemplate?zm(a,o,l,[]):vA(a,o,h,l);r.reset(p,s0),r.notifyOnChanges()}return!0}return!1}function hv(r,o,a){const l=Bt();l.firstCreatePass&&(pv(l,new wE(r,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),Ou(l,ie(),o)}function Hm(r,o,a,l){const h=Bt();if(h.firstCreatePass){const p=sn();pv(h,new wE(o,a,l),p.index),function pM(r,o){const a=r.contentQueries||(r.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,o)}(h,r),2==(2&a)&&(h.staticContentQueries=!0)}Ou(h,ie(),a)}function fv(){return function IA(r,o){return r[fo].queries[o].queryList}(ie(),ca())}function Ou(r,o,a){const l=new dv(4==(4&a));(function T0(r,o,a,l){const h=P0(o);h.push(a),r.firstCreatePass&&Pp(r).push(l,h.length-1)})(r,o,l,l.destroy),null===o[fo]&&(o[fo]=new Bm),o[fo].queries.push(new ku(l))}function pv(r,o,a){null===r.queries&&(r.queries=new Um),r.queries.track(new jm(o,a))}function EA(r,o){return r.queries.getByIndex(o)}class Ev{constructor(o){this.full=o;const a=o.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}const NE=new Ev("17.0.9");let Lu=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();class BA{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let FE=(()=>{class r{compileModuleSync(a){return new Nm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=S(Oi(a).declarations).reduce((_,y)=>{const E=Mt(y);return E&&_.push(new $p(E)),_},[]);return new BA(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Mo=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ri.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const WA=new Vt(""),Ym=new Vt("");let Tv,ZE=(()=>{class r{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tv||(function YE(r){Tv=r}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Un.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}static#e=this.\u0275fac=function(l){return new(l||r)(ui(Un),ui(Cv),ui(Ym))};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac})}return r})(),Cv=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Tv?.findTestabilityInTree(this,a,l)??null}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Dv=new Vt("Application Initializer");let Km=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=Lt(Dv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const p=h();if($I(p))a.push(p);else if(HD(p)){const _=new Promise((y,E)=>{p.subscribe({complete:y,error:E})});a.push(_)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Wh=new Vt("appBootstrapListener");function Bu(r,o){return Array.isArray(o)?o.reduce(Bu,r):{...r,...o}}let Ha=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(Zl),this.afterRenderEffectManager=Lt(jp),this.componentTypes=[],this.components=[],this.isStable=Lt(Mo).hasPendingTasks.pipe((0,mn.U)(a=>!a)),this._injector=Lt(Zi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof o0;if(!this._injector.get(Km).done)throw!h&&fr(a),new De(405,!1);let _;_=h?a:this._injector.get(ks).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const y=function ZA(r){return r.isBoundToModule}(_)?void 0:this._injector.get(Ru),T=_.create(gr.NULL,[],l||_.selector,y),x=T.location.nativeElement,R=T.injector.get(WA,null);return R?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),Av(this.components,T),R?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{try{this.afterRenderEffectManager.execute()}catch(a){this.internalErrorHandler(a)}this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Av(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Wh,[]);[...this._bootstrapListeners,...l].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Av(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new De(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Av(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}let FM=(()=>{class r{constructor(){this.zone=Lt(Un),this.applicationRef=Lt(Ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function VM(){const r=Lt(Un),o=Lt(Ac);return a=>r.runOutsideAngular(()=>o.handleError(a))}let UM=(()=>{class r{constructor(){this.subscription=new Si.w0,this.initialized=!1,this.zone=Lt(Un),this.pendingTasks=Lt(Mo)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Un.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Un.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Qm=new Vt("LocaleId",{providedIn:"root",factory:()=>Lt(Qm,Rt.Optional|Rt.SkipSelf)||function jM(){return typeof $localize<"u"&&$localize.locale||Iu}()}),ex=new Vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Sv=new Vt("PlatformDestroyListeners");let Xm=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function Rc(r="zone.js",o){return"noop"===r?new aT:"zone.js"===r?new Un(o):r}(l?.ngZone,function JA(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return h.run(()=>{const p=function uE(r,o,a){return new tv(r,o,a)}(a.moduleType,this.injector,function XA(r){return[{provide:Un,useFactory:r},{provide:ws,multi:!0,useFactory:()=>{const o=Lt(FM,{optional:!0});return()=>o.initialize()}},{provide:ws,multi:!0,useFactory:()=>{const o=Lt(UM);return()=>{o.initialize()}}},{provide:Zl,useFactory:VM}]}(()=>h)),_=p.injector.get(Ac,null);return h.runOutsideAngular(()=>{const y=h.onError.subscribe({next:E=>{_.handleError(E)}});p.onDestroy(()=>{Av(this._modules,p),y.unsubscribe()})}),function QE(r,o,a){try{const l=a();return $I(l)?l.catch(h=>{throw o.runOutsideAngular(()=>r.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>r.handleError(l)),l}}(_,h,()=>{const y=p.injector.get(Km);return y.runInitializers(),y.donePromise.then(()=>(function gD(r){tt(r,"Expected localeId to be defined"),"string"==typeof r&&(Bb=r.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Qm,Iu)||Iu),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,l=[]){const h=Bu({},l);return function KE(r,o,a){const l=new Nm(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(Ha);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new De(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Sv,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||r)(ui(gr))};static#t=this.\u0275prov=j({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Tt=null;const XE=new Vt("AllowMultipleToken");function Zh(r,o,a=[]){const l=`Platform: ${o}`,h=new Vt(l);return(p=[])=>{let _=wn();if(!_||_.injector.get(XE,!1)){const y=[...a,...p,{provide:h,useValue:!0}];r?r(y):function ix(r){if(Tt&&!Tt.get(XE,!1))throw new De(400,!1);(function Vu(){!function Za(r){Ai=r}(()=>{throw new De(600,!1)})})(),Tt=r;const o=r.get(Xm);(function ox(r){r.get(sp,null)?.forEach(a=>a())})(r)}(function JE(r=[],o){return gr.create({name:o,providers:[{provide:Ol,useValue:"platform"},{provide:Sv,useValue:new Set([()=>Tt=null])},...r]})}(y,l))}return function Xi(r){const o=wn();if(!o)throw new De(401,!1);return o}()}}function wn(){return Tt?.get(Xm)??null}function Rv(){return!1}const qa=Zh(null,"core",[]);let Dk=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(l){return new(l||r)(ui(Ha))};static#t=this.\u0275mod=ir({type:r});static#n=this.\u0275inj=Le({})}return r})();function Ix(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function aP(r,o=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?o:Number(r)}function Uk(r){const o=Mt(r);if(!o)return null;const a=new $p(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},106:(rn,Ye,X)=>{X.d(Ye,{Z:()=>dt});var d=X(58),de=X(537),z=X(534),be=X(879);class Se{constructor(Ue,nt){this._delegate=Ue,this.firebase=nt,(0,z._addComponent)(Ue,new de.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ue,nt=z._DEFAULT_ENTRY_NAME){var Jt;this._delegate.checkDestroyed();const Sn=this._delegate.container.getProvider(Ue);return!Sn.isInitialized()&&"EXPLICIT"===(null===(Jt=Sn.getComponent())||void 0===Jt?void 0:Jt.instantiationMode)&&Sn.initialize(),Sn.getImmediate({identifier:nt})}_removeServiceInstance(Ue,nt=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(nt)}_addComponent(Ue){(0,z._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,z._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const lt=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function je(){const St=function Pt(St){const Ue={},nt={__esModule:!0,initializeApp:function ht(We,ye={}){const N=z.initializeApp(We,ye);if((0,d.r3)(Ue,N.name))return Ue[N.name];const xe=new St(N,nt);return Ue[N.name]=xe,xe},app:Sn,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Je(We){const ye=We.name,N=ye.replace("-compat","");if(z._registerComponent(We)&&"PUBLIC"===We.type){const xe=(vt=Sn())=>{if("function"!=typeof vt[N])throw lt.create("invalid-app-argument",{appName:ye});return vt[N]()};void 0!==We.serviceProps&&(0,d.ZB)(xe,We.serviceProps),nt[N]=xe,St.prototype[N]=function(...vt){return this._getService.bind(this,ye).apply(this,We.multipleInstances?vt:[])}}return"PUBLIC"===We.type?nt[N]:null},removeApp:function Jt(We){delete Ue[We]},useAsService:function qt(We,ye){return"serverAuth"===ye?null:ye},modularAPIs:z}};function Sn(We){if(!(0,d.r3)(Ue,We=We||z._DEFAULT_ENTRY_NAME))throw lt.create("no-app",{appName:We});return Ue[We]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function Te(){return Object.keys(Ue).map(We=>Ue[We])}}),Sn.App=St,nt}(Se);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function Ue(nt){(0,d.ZB)(St,nt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),St}(),U=new be.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=G;!function Pe(St){(0,z.registerVersion)("@firebase/app-compat","0.2.25",St)}()},534:(rn,Ye,X)=>{X.r(Ye),X.d(Ye,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>oo,_DEFAULT_ENTRY_NAME:()=>Fe,_addComponent:()=>dr,_addOrOverwriteComponent:()=>De,_apps:()=>ft,_clearComponents:()=>en,_components:()=>Xo,_getProvider:()=>Fn,_registerComponent:()=>Mi,_removeServiceInstance:()=>Jo,deleteApp:()=>so,getApp:()=>Ft,getApps:()=>sl,initializeApp:()=>rt,onLog:()=>ts,registerVersion:()=>ao,setLogLevel:()=>Ka});var d=X(861),de=X(537),z=X(879),be=X(58);const Se=(te,j)=>j.some(ve=>te instanceof ve);let ge,lt;const G=new WeakMap,U=new WeakMap,ne=new WeakMap,$e=new WeakMap,Pe=new WeakMap;let Ue={get(te,j,ve){if(te instanceof IDBTransaction){if("done"===j)return U.get(te);if("objectStoreNames"===j)return te.objectStoreNames||ne.get(te);if("store"===j)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return ht(te[j])},set:(te,j,ve)=>(te[j]=ve,!0),has:(te,j)=>te instanceof IDBTransaction&&("done"===j||"store"===j)||j in te};function Sn(te){return"function"==typeof te?function Jt(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return lt||(lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...j){return te.apply(Te(this),j),ht(G.get(this))}:function(...j){return ht(te.apply(Te(this),j))}:function(j,...ve){const Le=te.call(Te(this),j,...ve);return ne.set(Le,j.sort?j.sort():[j]),ht(Le)}}(te):(te instanceof IDBTransaction&&function St(te){if(U.has(te))return;const j=new Promise((ve,Le)=>{const ct=()=>{te.removeEventListener("complete",Ot),te.removeEventListener("error",jt),te.removeEventListener("abort",jt)},Ot=()=>{ve(),ct()},jt=()=>{Le(te.error||new DOMException("AbortError","AbortError")),ct()};te.addEventListener("complete",Ot),te.addEventListener("error",jt),te.addEventListener("abort",jt)});U.set(te,j)}(te),Se(te,function Pt(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,Ue):te)}function ht(te){if(te instanceof IDBRequest)return function dt(te){const j=new Promise((ve,Le)=>{const ct=()=>{te.removeEventListener("success",Ot),te.removeEventListener("error",jt)},Ot=()=>{ve(ht(te.result)),ct()},jt=()=>{Le(te.error),ct()};te.addEventListener("success",Ot),te.addEventListener("error",jt)});return j.then(ve=>{ve instanceof IDBCursor&&G.set(ve,te)}).catch(()=>{}),Pe.set(j,te),j}(te);if($e.has(te))return $e.get(te);const j=Sn(te);return j!==te&&($e.set(te,j),Pe.set(j,te)),j}const Te=te=>Pe.get(te),We=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],N=new Map;function xe(te,j){if(!(te instanceof IDBDatabase)||j in te||"string"!=typeof j)return;if(N.get(j))return N.get(j);const ve=j.replace(/FromIndex$/,""),Le=j!==ve,ct=ye.includes(ve);if(!(ve in(Le?IDBIndex:IDBObjectStore).prototype)||!ct&&!We.includes(ve))return;const Ot=function(){var jt=(0,d.Z)(function*(Wn,...gn){const Hr=this.transaction(Wn,ct?"readwrite":"readonly");let ns=Hr.store;return Le&&(ns=ns.index(gn.shift())),(yield Promise.all([ns[ve](...gn),ct&&Hr.done]))[0]});return function(gn){return jt.apply(this,arguments)}}();return N.set(j,Ot),Ot}!function nt(te){Ue=te(Ue)}(te=>({...te,get:(j,ve,Le)=>xe(j,ve)||te.get(j,ve,Le),has:(j,ve)=>!!xe(j,ve)||te.has(j,ve)}));class vt{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function Rn(te){const j=te.getComponent();return"VERSION"===j?.type}(ve)){const Le=ve.getImmediate();return`${Le.library}/${Le.version}`}return null}).filter(ve=>ve).join(" ")}}const er="@firebase/app",xi=new z.Yd("@firebase/app"),Fe="[DEFAULT]",kt={[er]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,Xo=new Map;function dr(te,j){try{te.container.addComponent(j)}catch(ve){xi.debug(`Component ${j.name} failed to register with FirebaseApp ${te.name}`,ve)}}function De(te,j){te.container.addOrOverwriteComponent(j)}function Mi(te){const j=te.name;if(Xo.has(j))return xi.debug(`There were multiple attempts to register component ${j}.`),!1;Xo.set(j,te);for(const ve of ft.values())dr(ve,te);return!0}function Fn(te,j){const ve=te.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),te.container.getProvider(j)}function Jo(te,j,ve=Fe){Fn(te,j).clearInstance(ve)}function en(){Xo.clear()}const pt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pi{constructor(j,ve,Le){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new de.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}const oo="10.7.1";function rt(te,j={}){let ve=te;"object"!=typeof j&&(j={name:j});const Le=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},j),ct=Le.name;if("string"!=typeof ct||!ct)throw pt.create("bad-app-name",{appName:String(ct)});if(ve||(ve=(0,be.aH)()),!ve)throw pt.create("no-options");const Ot=ft.get(ct);if(Ot){if((0,be.vZ)(ve,Ot.options)&&(0,be.vZ)(Le,Ot.config))return Ot;throw pt.create("duplicate-app",{appName:ct})}const jt=new de.H0(ct);for(const gn of Xo.values())jt.addComponent(gn);const Wn=new Pi(ve,Le,jt);return ft.set(ct,Wn),Wn}function Ft(te=Fe){const j=ft.get(te);if(!j&&te===Fe&&(0,be.aH)())return rt();if(!j)throw pt.create("no-app",{appName:te});return j}function sl(){return Array.from(ft.values())}function so(te){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(te){const j=te.name;ft.has(j)&&(ft.delete(j),yield Promise.all(te.container.getProviders().map(ve=>ve.delete())),te.isDeleted=!0)})).apply(this,arguments)}function ao(te,j,ve){var Le;let ct=null!==(Le=kt[te])&&void 0!==Le?Le:te;ve&&(ct+=`-${ve}`);const Ot=ct.match(/\s|\//),jt=j.match(/\s|\//);if(Ot||jt){const Wn=[`Unable to register library "${ct}" with version "${j}":`];return Ot&&Wn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Ot&&jt&&Wn.push("and"),jt&&Wn.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void xi.warn(Wn.join(" "))}Mi(new de.wA(`${ct}-version`,()=>({library:ct,version:j}),"VERSION"))}function ts(te,j){if(null!==te&&"function"!=typeof te)throw pt.create("invalid-log-argument");(0,z.Am)(te,j)}function Ka(te){(0,z.Ub)(te)}const li="firebase-heartbeat-database",qu=1,F="firebase-heartbeat-store";let k=null;function B(){return k||(k=function Je(te,j,{blocked:ve,upgrade:Le,blocking:ct,terminated:Ot}={}){const jt=indexedDB.open(te,j),Wn=ht(jt);return Le&&jt.addEventListener("upgradeneeded",gn=>{Le(ht(jt.result),gn.oldVersion,gn.newVersion,ht(jt.transaction),gn)}),ve&&jt.addEventListener("blocked",gn=>ve(gn.oldVersion,gn.newVersion,gn)),Wn.then(gn=>{Ot&&gn.addEventListener("close",()=>Ot()),ct&&gn.addEventListener("versionchange",Hr=>ct(Hr.oldVersion,Hr.newVersion,Hr))}).catch(()=>{}),Wn}(li,qu,{upgrade:(te,j)=>{0===j&&te.createObjectStore(F)}}).catch(te=>{throw pt.create("idb-open",{originalErrorMessage:te.message})})),k}function W(){return(W=(0,d.Z)(function*(te){try{return yield(yield B()).transaction(F).objectStore(F).get(wt(te))}catch(j){if(j instanceof be.ZR)xi.warn(j.message);else{const ve=pt.create("idb-get",{originalErrorMessage:j?.message});xi.warn(ve.message)}}})).apply(this,arguments)}function Ne(te,j){return ut.apply(this,arguments)}function ut(){return(ut=(0,d.Z)(function*(te,j){try{const Le=(yield B()).transaction(F,"readwrite");yield Le.objectStore(F).put(j,wt(te)),yield Le.done}catch(ve){if(ve instanceof be.ZR)xi.warn(ve.message);else{const Le=pt.create("idb-set",{originalErrorMessage:ve?.message});xi.warn(Le.message)}}})).apply(this,arguments)}function wt(te){return`${te.name}!${te.options.appId}`}class ni{constructor(j){this.container=j,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new co(ve),this._heartbeatsCachePromise=this._storage.read().then(Le=>(this._heartbeatsCache=Le,Le))}triggerHeartbeat(){var j=this;return(0,d.Z)(function*(){var ve,Le;const Ot=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=tt();if((null!=(null===(ve=j._heartbeatsCache)||void 0===ve?void 0:ve.heartbeats)||(j._heartbeatsCache=yield j._heartbeatsCachePromise,null!=(null===(Le=j._heartbeatsCache)||void 0===Le?void 0:Le.heartbeats)))&&j._heartbeatsCache.lastSentHeartbeatDate!==jt&&!j._heartbeatsCache.heartbeats.some(Wn=>Wn.date===jt))return j._heartbeatsCache.heartbeats.push({date:jt,agent:Ot}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(Wn=>{const gn=new Date(Wn.date).valueOf();return Date.now()-gn<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,d.Z)(function*(){var ve;if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null==(null===(ve=j._heartbeatsCache)||void 0===ve?void 0:ve.heartbeats)||0===j._heartbeatsCache.heartbeats.length)return"";const Le=tt(),{heartbeatsToSend:ct,unsentEntries:Ot}=function Ge(te,j=1024){const ve=[];let Le=te.slice();for(const ct of te){const Ot=ve.find(jt=>jt.agent===ct.agent);if(Ot){if(Ot.dates.push(ct.date),Ks(ve)>j){Ot.dates.pop();break}}else if(ve.push({agent:ct.agent,dates:[ct.date]}),Ks(ve)>j){ve.pop();break}Le=Le.slice(1)}return{heartbeatsToSend:ve,unsentEntries:Le}}(j._heartbeatsCache.heartbeats),jt=(0,be.L)(JSON.stringify({version:2,heartbeats:ct}));return j._heartbeatsCache.lastSentHeartbeatDate=Le,Ot.length>0?(j._heartbeatsCache.heartbeats=Ot,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),jt})()}}function tt(){return(new Date).toISOString().substring(0,10)}class co{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,d.Z)(function*(){if(yield j._canUseIndexedDBPromise){const Le=yield function le(te){return W.apply(this,arguments)}(j.app);return Le?.heartbeats?Le:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(j){var ve=this;return(0,d.Z)(function*(){var Le;if(yield ve._canUseIndexedDBPromise){const Ot=yield ve.read();return Ne(ve.app,{lastSentHeartbeatDate:null!==(Le=j.lastSentHeartbeatDate)&&void 0!==Le?Le:Ot.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var ve=this;return(0,d.Z)(function*(){var Le;if(yield ve._canUseIndexedDBPromise){const Ot=yield ve.read();return Ne(ve.app,{lastSentHeartbeatDate:null!==(Le=j.lastSentHeartbeatDate)&&void 0!==Le?Le:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...j.heartbeats]})}})()}}function Ks(te){return(0,be.L)(JSON.stringify({version:2,heartbeats:te})).length}!function tf(te){Mi(new de.wA("platform-logger",j=>new vt(j),"PRIVATE")),Mi(new de.wA("heartbeat",j=>new ni(j),"PRIVATE")),ao(er,"0.9.25",te),ao(er,"0.9.25","esm2017"),ao("fire-js","")}("")},537:(rn,Ye,X)=>{X.d(Ye,{H0:()=>Pt,wA:()=>z});var d=X(861),de=X(58);class z{constructor(G,U,ne){this.name=G,this.instanceFactory=U,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const be="[DEFAULT]";class Se{constructor(G,U){this.name=G,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const U=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(U)){const ne=new de.BH;if(this.instancesDeferred.set(U,ne),this.isInitialized(U)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:U});$e&&ne.resolve($e)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(G){var U;const ne=this.normalizeInstanceIdentifier(G?.identifier),$e=null!==(U=G?.optional)&&void 0!==U&&U;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Pe){if($e)return null;throw Pe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function lt(je){return"EAGER"===je.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[U,ne]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(U);try{const Pe=this.getOrInitializeService({instanceIdentifier:$e});ne.resolve(Pe)}catch{}}}}clearInstance(G=be){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const U=Array.from(G.instances.values());yield Promise.all([...U.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...U.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=be){return this.instances.has(G)}getOptions(G=be){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:U={}}=G,ne=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ne,options:U});for(const[Pe,dt]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Pe)&&dt.resolve($e);return $e}onInit(G,U){var ne;const $e=this.normalizeInstanceIdentifier(U),Pe=null!==(ne=this.onInitCallbacks.get($e))&&void 0!==ne?ne:new Set;Pe.add(G),this.onInitCallbacks.set($e,Pe);const dt=this.instances.get($e);return dt&&G(dt,$e),()=>{Pe.delete(G)}}invokeOnInitCallbacks(G,U){const ne=this.onInitCallbacks.get(U);if(ne)for(const $e of ne)try{$e(G,U)}catch{}}getOrInitializeService({instanceIdentifier:G,options:U={}}){let ne=this.instances.get(G);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(je=G,je===be?void 0:je),options:U}),this.instances.set(G,ne),this.instancesOptions.set(G,U),this.invokeOnInitCallbacks(ne,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ne)}catch{}var je;return ne||null}normalizeInstanceIdentifier(G=be){return this.component?this.component.multipleInstances?G:be:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pt{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const U=this.getProvider(G.name);if(U.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);U.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const U=new Se(G,this);return this.providers.set(G,U),U}getProviders(){return Array.from(this.providers.values())}}},879:(rn,Ye,X)=>{X.d(Ye,{Am:()=>je,Ub:()=>Pt,Yd:()=>lt,in:()=>de});const d=[];var de=function(G){return G[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",G}(de||{});const z={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},be=de.INFO,Se={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},ge=(G,U,...ne)=>{if(U<G.logLevel)return;const $e=(new Date).toISOString(),Pe=Se[U];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Pe](`[${$e}]  ${G.name}:`,...ne)};class lt{constructor(U){this.name=U,this._logLevel=be,this._logHandler=ge,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in de))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?z[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...U),this._logHandler(this,de.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...U),this._logHandler(this,de.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,de.INFO,...U),this._logHandler(this,de.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,de.WARN,...U),this._logHandler(this,de.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...U),this._logHandler(this,de.ERROR,...U)}}function Pt(G){d.forEach(U=>{U.setLogLevel(G)})}function je(G,U){for(const ne of d){let $e=null;U&&U.level&&($e=z[U.level]),ne.userLogHandler=null===G?null:(Pe,dt,...St)=>{const Ue=St.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");dt>=($e??Pe.logLevel)&&G({level:de[dt].toLowerCase(),message:Ue,args:St,type:Pe.name})}}}},230:(rn,Ye,X)=>{X.r(Ye);var d=X(861),de=X(106),z=X(58),be=X(534),Se=X(879),ge=X(582),lt=X(537);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const dt=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},St=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jt=new Se.Yd("@firebase/auth");function ht(v,...f){Jt.logLevel<=Se.in.ERROR&&Jt.error(`Auth (${be.SDK_VERSION}): ${v}`,...f)}function Te(v,...f){throw ye(v,...f)}function Je(v,...f){return ye(v,...f)}function qt(v,f,m){const I=Object.assign(Object.assign({},St()),{[f]:m});return new z.LL("auth","Firebase",I).create(f,{appName:v.name})}function We(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Te(v,"argument-error"),qt(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ye(v,...f){if("string"!=typeof v){const m=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return Ue.create(v,...f)}function N(v,f,...m){if(!v)throw ye(f,...m)}function xe(v){const f="INTERNAL ASSERTION FAILED: "+v;throw ht(f),new Error(f)}function vt(v,f){v||xe(f)}function Rn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function er(){return"http:"===Ai()||"https:"===Ai()}function Ai(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class jr{constructor(f,m){this.shortDelay=f,this.longDelay=m,vt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function xi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(er()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q(v,f){vt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class J{static initialize(f,m,I){this.fetchImpl=f,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new jr(3e4,6e4);function ce(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function he(v,f,m,I){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(v,f,m,I,D={}){return Ut(v,D,(0,d.Z)(function*(){let S={},P={};I&&("GET"===f?P=I:S={body:JSON.stringify(I)});const H=(0,z.xO)(Object.assign({key:v.config.apiKey},P)).slice(1),re=yield v._getAdditionalHeaders();return re["Content-Type"]="application/json",v.languageCode&&(re["X-Firebase-Locale"]=v.languageCode),J.fetch()(On(v,v.config.apiHost,m,H),Object.assign({method:f,headers:re,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Ut(v,f,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(v,f,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},ae),f);try{const D=new Si(v),S=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const P=yield S.json();if("needConfirmation"in P)throw Ri(v,"account-exists-with-different-credential",P);if(S.ok&&!("errorMessage"in P))return P;{const H=S.ok?P.errorMessage:P.error.message,[re,we]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===re)throw Ri(v,"credential-already-in-use",P);if("EMAIL_EXISTS"===re)throw Ri(v,"email-already-in-use",P);if("USER_DISABLED"===re)throw Ri(v,"user-disabled",P);const Oe=I[re]||re.toLowerCase().replace(/[_\s]+/g,"-");if(we)throw qt(v,Oe,we);Te(v,Oe)}}catch(D){if(D instanceof z.ZR)throw D;Te(v,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function Qe(v,f,m,I){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(v,f,m,I,D={}){const S=yield he(v,f,m,I,D);return"mfaPendingCredential"in S&&Te(v,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function On(v,f,m,I){const D=`${f}${m}?${I}`;return v.config.emulator?Q(v.config,D):`${v.config.apiScheme}://${D}`}function Cn(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Si{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(Je(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ri(v,f,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const D=Je(v,f,I);return D.customData._tokenResponse=m,D}function mn(v){return void 0!==v&&void 0!==v.getResponse}function yt(v){return void 0!==v&&void 0!==v.enterprise}class $i{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return Cn(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function io(){return(io=(0,d.Z)(function*(v){return(yield he(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ya(v,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(v,f){return he(v,"GET","/v2/recaptchaConfig",ce(v,f))})).apply(this,arguments)}function Fe(){return(Fe=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function De(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Jo(){return(Jo=(0,d.Z)(function*(v,f=!1){const m=(0,z.m9)(v),I=yield m.getIdToken(f),D=es(I);N(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const S="object"==typeof D.firebase?D.firebase:void 0,P=S?.sign_in_provider;return{claims:D,token:I,authTime:De(en(D.auth_time)),issuedAtTime:De(en(D.iat)),expirationTime:De(en(D.exp)),signInProvider:P||null,signInSecondFactor:S?.sign_in_second_factor||null}})).apply(this,arguments)}function en(v){return 1e3*Number(v)}function es(v){const[f,m,I]=v.split(".");if(void 0===f||void 0===m||void 0===I)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,z.tV)(m);return D?JSON.parse(D):(ht("Failed to decode base64 JWT payload"),null)}catch(D){return ht("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Pi(v,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(I){throw I instanceof z.ZR&&function rt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Ft{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),I)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class sl{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=De(this.lastLoginAt),this.creationTime=De(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function so(v){return zr.apply(this,arguments)}function zr(){return zr=(0,d.Z)(function*(v){var f;const m=v.auth,I=yield v.getIdToken(),D=yield Pi(v,function Xo(v,f){return dr.apply(this,arguments)}(m,{idToken:I}));N(D?.users.length,m,"internal-error");const S=D.users[0];v._notifyReloadListener(S);const P=null!==(f=S.providerUserInfo)&&void 0!==f&&f.length?function li(v){return v.map(f=>{var{providerId:m}=f,I=(0,ge._T)(f,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(S.providerUserInfo):[],H=function Ka(v,f){return[...v.filter(I=>!f.some(D=>D.providerId===I.providerId)),...f]}(v.providerData,P),Oe=!!v.isAnonymous&&!(v.email&&S.passwordHash||H?.length),ze={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:H,metadata:new sl(S.createdAt,S.lastLoginAt),isAnonymous:Oe};Object.assign(v,ze)}),zr.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(v){const f=(0,z.m9)(v);yield so(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function F(){return(F=(0,d.Z)(function*(v,f){const m=yield Ut(v,{},(0,d.Z)(function*(){const I=(0,z.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:S}=v.config,P=On(v,D,"/v1/token",`key=${S}`),H=yield v._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",J.fetch()(P,{method:"POST",headers:H,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,d.Z)(function*(v,f){return he(v,"POST","/v2/accounts:revokeToken",ce(v,f))})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){N(f.idToken,"internal-error"),N(typeof f.idToken<"u","internal-error"),N(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function pt(v){const f=es(v);return N(f,"internal-error"),N(typeof f.exp<"u","internal-error"),N(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var I=this;return(0,d.Z)(function*(){return N(!I.accessToken||I.refreshToken,f,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var I=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:S,expiresIn:P}=yield function qu(v,f){return F.apply(this,arguments)}(f,m);I.updateTokensAndExpiration(D,S,Number(P))})()}updateTokensAndExpiration(f,m,I){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,m){const{refreshToken:I,accessToken:D,expirationTime:S}=m,P=new le;return I&&(N("string"==typeof I,"internal-error",{appName:f}),P.refreshToken=I),D&&(N("string"==typeof D,"internal-error",{appName:f}),P.accessToken=D),S&&(N("number"==typeof S,"internal-error",{appName:f}),P.expirationTime=S),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return xe("not implemented")}}function W(v,f){N("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Ne{constructor(f){var{uid:m,auth:I,stsTokenManager:D}=f,S=(0,ge._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.providerData=S.providerData?[...S.providerData]:[],this.metadata=new sl(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const I=yield Pi(m,m.stsTokenManager.getToken(m.auth,f));return N(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(f){return function Fn(v){return Jo.apply(this,arguments)}(this,f)}reload(){return function ao(v){return ts.apply(this,arguments)}(this)}_assign(f){this!==f&&(N(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Ne(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var I=this;return(0,d.Z)(function*(){let D=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),D=!0),m&&(yield so(I)),yield I.auth._persistUserIfCurrent(I),D&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield Pi(f,function Qo(v,f){return Fe.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var I,D,S,P,H,re,we,Oe;const ze=null!==(I=m.displayName)&&void 0!==I?I:void 0,dn=null!==(D=m.email)&&void 0!==D?D:void 0,_r=null!==(S=m.phoneNumber)&&void 0!==S?S:void 0,Pd=null!==(P=m.photoURL)&&void 0!==P?P:void 0,d_=null!==(H=m.tenantId)&&void 0!==H?H:void 0,Py=null!==(re=m._redirectEventId)&&void 0!==re?re:void 0,h_=null!==(we=m.createdAt)&&void 0!==we?we:void 0,$w=null!==(Oe=m.lastLoginAt)&&void 0!==Oe?Oe:void 0,{uid:lp,emailVerified:ky,isAnonymous:kd,providerData:f_,stsTokenManager:up}=m;N(lp&&up,f,"internal-error");const Lr=le.fromJSON(this.name,up);N("string"==typeof lp,f,"internal-error"),W(ze,f.name),W(dn,f.name),N("boolean"==typeof ky,f,"internal-error"),N("boolean"==typeof kd,f,"internal-error"),W(_r,f.name),W(Pd,f.name),W(d_,f.name),W(Py,f.name),W(h_,f.name),W($w,f.name);const p_=new Ne({uid:lp,auth:f,email:dn,emailVerified:ky,displayName:ze,isAnonymous:kd,photoURL:Pd,phoneNumber:_r,tenantId:d_,stsTokenManager:Lr,createdAt:h_,lastLoginAt:$w});return f_&&Array.isArray(f_)&&(p_.providerData=f_.map(Od=>Object.assign({},Od))),Py&&(p_._redirectEventId=Py),p_}static _fromIdTokenResponse(f,m,I=!1){return(0,d.Z)(function*(){const D=new le;D.updateFromServerResponse(m);const S=new Ne({uid:m.localId,auth:f,stsTokenManager:D,isAnonymous:I});return yield so(S),S})()}}const ut=new Map;function wt(v){vt(v instanceof Function,"Expected a class definition");let f=ut.get(v);return f?(vt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,ut.set(v,f),f)}const Ln=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,I){var D=this;return(0,d.Z)(function*(){D.storage[m]=I})()}_get(m){var I=this;return(0,d.Z)(function*(){const D=I.storage[m];return void 0===D?null:D})()}_remove(m){var I=this;return(0,d.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function ni(v,f,m){return`firebase:${v}:${f}:${m}`}class tt{constructor(f,m,I){this.persistence=f,this.auth=m,this.userKey=I;const{config:D,name:S}=this.auth;this.fullUserKey=ni(this.userKey,D.apiKey,S),this.fullPersistenceKey=ni("persistence",D.apiKey,S),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ne._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,I="authUser"){return(0,d.Z)(function*(){if(!m.length)return new tt(wt(Ln),f,I);const D=(yield Promise.all(m.map(function(){var we=(0,d.Z)(function*(Oe){if(yield Oe._isAvailable())return Oe});return function(Oe){return we.apply(this,arguments)}}()))).filter(we=>we);let S=D[0]||wt(Ln);const P=ni(I,f.config.apiKey,f.name);let H=null;for(const we of m)try{const Oe=yield we._get(P);if(Oe){const ze=Ne._fromJSON(f,Oe);we!==S&&(H=ze),S=we;break}}catch{}const re=D.filter(we=>we._shouldAllowMigration);return S._shouldAllowMigration&&re.length?(S=re[0],H&&(yield S._set(P,H.toJSON())),yield Promise.all(m.map(function(){var we=(0,d.Z)(function*(Oe){if(Oe!==S)try{yield Oe._remove(P)}catch{}});return function(Oe){return we.apply(this,arguments)}}())),new tt(S,f,I)):new tt(S,f,I)})()}}function Ge(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(te(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(co(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ve(f))return"Blackberry";if(Le(f))return"Webos";if(Ks(f))return"Safari";if((f.includes("chrome/")||tf(f))&&!f.includes("edge/"))return"Chrome";if(j(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function co(v=(0,z.z$)()){return/firefox\//i.test(v)}function Ks(v=(0,z.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function tf(v=(0,z.z$)()){return/crios\//i.test(v)}function te(v=(0,z.z$)()){return/iemobile/i.test(v)}function j(v=(0,z.z$)()){return/android/i.test(v)}function ve(v=(0,z.z$)()){return/blackberry/i.test(v)}function Le(v=(0,z.z$)()){return/webos/i.test(v)}function ct(v=(0,z.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function gn(v=(0,z.z$)()){return ct(v)||j(v)||Le(v)||ve(v)||/windows phone/i.test(v)||te(v)}function ns(v,f=[]){let m;switch(v){case"Browser":m=Ge((0,z.z$)());break;case"Worker":m=`${Ge((0,z.z$)())}-${v}`;break;default:m=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${be.SDK_VERSION}/${I}`}class Wu{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const I=S=>new Promise((P,H)=>{try{P(f(S))}catch(re){H(re)}});I.onAbort=m,this.queue.push(I);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===f)return;const I=[];try{for(const D of m.queue)yield D(f),D.onAbort&&I.push(D.onAbort)}catch(D){I.reverse();for(const S of I)try{S()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}function Rt(){return(Rt=(0,d.Z)(function*(v,f={}){return he(v,"GET","/v2/passwordPolicy",ce(v,f))})).apply(this,arguments)}class rf{constructor(f){var m,I,D,S;const P=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=P.minPasswordLength)&&void 0!==m?m:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(D=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==D?D:"",this.forceUpgradeOnSignin=null!==(S=f.forceUpgradeOnSignin)&&void 0!==S&&S,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,I,D,S,P,H;const re={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,re),this.validatePasswordCharacterOptions(f,re),re.isValid&&(re.isValid=null===(m=re.meetsMinPasswordLength)||void 0===m||m),re.isValid&&(re.isValid=null===(I=re.meetsMaxPasswordLength)||void 0===I||I),re.isValid&&(re.isValid=null===(D=re.containsLowercaseLetter)||void 0===D||D),re.isValid&&(re.isValid=null===(S=re.containsUppercaseLetter)||void 0===S||S),re.isValid&&(re.isValid=null===(P=re.containsNumericCharacter)||void 0===P||P),re.isValid&&(re.isValid=null===(H=re.containsNonAlphanumericCharacter)||void 0===H||H),re}validatePasswordLengthOptions(f,m){const I=this.customStrengthOptions.minPasswordLength,D=this.customStrengthOptions.maxPasswordLength;I&&(m.meetsMinPasswordLength=f.length>=I),D&&(m.meetsMaxPasswordLength=f.length<=D)}validatePasswordCharacterOptions(f,m){let I;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let D=0;D<f.length;D++)I=f.charAt(D),this.updatePasswordCharacterOptionsStatuses(m,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,m,I,D,S){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=D)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=S))}}class tr{constructor(f,m,I,D){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eg(this),this.idTokenSubscription=new Eg(this),this.beforeStateQueue=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(f,m){var I=this;return m&&(this._popupRedirectResolver=wt(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D,S;if(!I._deleted&&(I.persistenceManager=yield tt.create(I,f),!I._deleted)){if(null!==(D=I._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(S=I.currentUser)||void 0===S?void 0:S.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var I;const D=yield m.assertedPersistence.getCurrentUser();let S=D,P=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const H=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,re=S?._redirectEventId,we=yield m.tryRedirectSignIn(f);(!H||H===re)&&we?.user&&(S=we.user,P=!0)}if(!S)return m.directlySetCurrentUser(null);if(!S._redirectEventId){if(P)try{yield m.beforeStateQueue.runMiddleware(S)}catch(H){S=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(H))}return S?m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)}return N(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){try{yield so(f)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Za(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const I=f?(0,z.m9)(f):null;return I&&N(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(f,m=!1){var I=this;return(0,d.Z)(function*(){if(!I._deleted)return f&&N(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,d.Z)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(wt(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,d.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const I=m._getPasswordPolicyInternal();return I.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,d.Z)(function*(){const m=yield function Ig(v){return Rt.apply(this,arguments)}(f),I=new rf(m);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new z.LL("auth","Firebase",f())}onAuthStateChanged(f,m,I){return this.registerStateListener(this.authStateSubscription,f,m,I)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,I){return this.registerStateListener(this.idTokenSubscription,f,m,I)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,d.Z)(function*(){if(m.currentUser){const I=yield m.currentUser.getIdToken(),D={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=m.tenantId&&(D.tenantId=m.tenantId),yield function k(v,f){return B.apply(this,arguments)}(m,D)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var I=this;return(0,d.Z)(function*(){const D=yield I.getOrInitRedirectPersistenceManager(m);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const I=f&&wt(f)||m._popupRedirectResolver;N(I,m,"argument-error"),m.redirectPersistenceManager=yield tt.create(m,[wt(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var I,D;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===f?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,I,D){if(this._deleted)return()=>{};const S="function"==typeof m?m:m.next.bind(m);let P=!1;const H=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(H,this,"internal-error"),H.then(()=>{P||S(this.currentUser)}),"function"==typeof m){const re=f.addObserver(m,I,D);return()=>{P=!0,re()}}{const re=f.addObserver(m);return()=>{P=!0,re()}}}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ns(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const D=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();D&&(I["X-Firebase-Client"]=D);const S=yield f._getAppCheckToken();return S&&(I["X-Firebase-AppCheck"]=S),I})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var m;const I=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function Sn(v,...f){Jt.logLevel<=Se.in.WARN&&Jt.warn(`Auth (${be.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function on(v){return(0,z.m9)(v)}class Eg{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,z.ne)(m=>this.observer=m)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zu(v){return new Promise((f,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=D=>{const S=Je("internal-error");S.customData=D,m(S)},I.type="text/javascript",I.charset="UTF-8",function ii(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)})}function $v(v){return`__${v}${Math.floor(1e6*Math.random())}`}class cl{constructor(f){this.type="recaptcha-enterprise",this.auth=on(f)}verify(f="verify",m=!1){var I=this;return(0,d.Z)(function*(){function S(){return S=(0,d.Z)(function*(H){if(!m){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var re=(0,d.Z)(function*(we,Oe){Ya(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ze=>{if(void 0!==ze.recaptchaKey){const dn=new $i(ze);return null==H.tenantId?H._agentRecaptchaConfig=dn:H._tenantRecaptchaConfigs[H.tenantId]=dn,we(dn.siteKey)}Oe(new Error("recaptcha Enterprise site key undefined"))}).catch(ze=>{Oe(ze)})});return function(we,Oe){return re.apply(this,arguments)}}())}),S.apply(this,arguments)}function P(H,re,we){const Oe=window.grecaptcha;yt(Oe)?Oe.enterprise.ready(()=>{Oe.enterprise.execute(H,{action:f}).then(ze=>{re(ze)}).catch(()=>{re("NO_RECAPTCHA")})}):we(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,re)=>{(function D(H){return S.apply(this,arguments)})(I.auth).then(we=>{if(!m&&yt(window.grecaptcha))P(we,H,re);else{if(typeof window>"u")return void re(new Error("RecaptchaVerifier is only supported in browser"));Zu("https://www.google.com/recaptcha/enterprise.js?render="+we).then(()=>{P(we,H,re)}).catch(Oe=>{re(Oe)})}}).catch(we=>{re(we)})})})()}}function Yu(v,f,m){return af.apply(this,arguments)}function af(){return(af=(0,d.Z)(function*(v,f,m,I=!1){const D=new cl(v);let S;try{S=yield D.verify(m)}catch{S=yield D.verify(m,!0)}const P=Object.assign({},f);return Object.assign(P,I?{captchaResp:S}:{captchaResponse:S}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function Qa(v,f,m,I){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,d.Z)(function*(v,f,m,I){var D;if(null!==(D=v._getRecaptchaConfig())&&void 0!==D&&D.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const S=yield Yu(v,f,m,"getOobCode"===m);return I(v,S)}return I(v,f).catch(function(){var S=(0,d.Z)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const H=yield Yu(v,f,m,"getOobCode"===m);return I(v,H)}return Promise.reject(P)});return function(P){return S.apply(this,arguments)}}())}),Gv.apply(this,arguments)}function nr(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function wg(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Xa{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return xe("not implemented")}_getIdTokenResponse(f){return xe("not implemented")}_linkToIdToken(f,m){return xe("not implemented")}_getReauthenticationResolver(f){return xe("not implemented")}}function cf(v,f){return is.apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:resetPassword",ce(v,f))})).apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Kv(v,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",ce(v,f))})).apply(this,arguments)}function Qu(v,f){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signInWithPassword",ce(v,f))})).apply(this,arguments)}function rs(v,f){return lf.apply(this,arguments)}function lf(){return(lf=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:sendOobCode",ce(v,f))})).apply(this,arguments)}function uf(){return(uf=(0,d.Z)(function*(v,f){return rs(v,f)})).apply(this,arguments)}function ko(v,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(v,f){return rs(v,f)})).apply(this,arguments)}function os(v,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(v,f){return rs(v,f)})).apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(v,f){return rs(v,f)})).apply(this,arguments)}function df(){return(df=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signInWithEmailLink",ce(v,f))})).apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signInWithEmailLink",ce(v,f))})).apply(this,arguments)}class Js extends Xa{constructor(f,m,I,D=null){super("password",I),this._email=f,this._password=m,this._tenantId=D}static _fromEmailAndPassword(f,m){return new Js(f,m,"password")}static _fromEmailAndCode(f,m,I=null){return new Js(f,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return Qa(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qu);case"emailLink":return function dl(v,f){return df.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,m){var I=this;return(0,d.Z)(function*(){switch(I.signInMethod){case"password":return Qa(f,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kv);case"emailLink":return function Xv(v,f){return Xs.apply(this,arguments)}(f,{idToken:m,email:I._email,oobCode:I._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function uo(v,f){return hf.apply(this,arguments)}function hf(){return(hf=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signInWithIdp",ce(v,f))})).apply(this,arguments)}class $r extends Xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new $r(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:D}=m,S=(0,ge._T)(m,["providerId","signInMethod"]);if(!I||!D)return null;const P=new $r(I,D);return P.idToken=S.idToken||void 0,P.accessToken=S.accessToken||void 0,P.secret=S.secret,P.nonce=S.nonce,P.pendingToken=S.pendingToken||null,P}_getIdTokenResponse(f){return uo(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,uo(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,uo(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,z.xO)(m)}return f}}function Sr(){return(Sr=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:sendVerificationCode",ce(v,f))})).apply(this,arguments)}function ff(){return(ff=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signInWithPhoneNumber",ce(v,f))})).apply(this,arguments)}function pf(){return(pf=(0,d.Z)(function*(v,f){const m=yield Qe(v,"POST","/v1/accounts:signInWithPhoneNumber",ce(v,f));if(m.temporaryProof)throw Ri(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ey={USER_NOT_FOUND:"user-not-found"};function Ju(){return(Ju=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signInWithPhoneNumber",ce(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ey)})).apply(this,arguments)}class ec extends Xa{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new ec({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new ec({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Sw(v,f){return ff.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Jv(v,f){return pf.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ty(v,f){return Ju.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:I,verificationCode:D}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:I,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:I,phoneNumber:D,temporaryProof:S}=f;return I||m||D||S?new ec({verificationId:m,verificationCode:I,phoneNumber:D,temporaryProof:S}):null}}class tc{constructor(f){var m,I,D,S,P,H;const re=(0,z.zd)((0,z.pd)(f)),we=null!==(m=re.apiKey)&&void 0!==m?m:null,Oe=null!==(I=re.oobCode)&&void 0!==I?I:null,ze=function mf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=re.mode)&&void 0!==D?D:null);N(we&&Oe&&ze,"argument-error"),this.apiKey=we,this.operation=ze,this.code=Oe,this.continueUrl=null!==(S=re.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(P=re.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(H=re.tenantId)&&void 0!==H?H:null}static parseLink(f){const m=function Rw(v){const f=(0,z.zd)((0,z.pd)(v)).link,m=f?(0,z.zd)((0,z.pd)(f)).deep_link_id:null,I=(0,z.zd)((0,z.pd)(v)).deep_link_id;return(I?(0,z.zd)((0,z.pd)(I)).link:null)||I||m||f||v}(f);try{return new tc(m)}catch{return null}}}let gf=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return Js._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const D=tc.parseLink(I);return N(D,"argument-error"),Js._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ir{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ea extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class nc extends ea{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return N("providerId"in m&&"signInMethod"in m,"argument-error"),$r._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return N(f.idToken||f.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return nc.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return nc.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:D,pendingToken:S,nonce:P,providerId:H}=f;if(!I&&!D&&!m&&!S||!H)return null;try{return new nc(H)._credential({idToken:m,accessToken:I,nonce:P,pendingToken:S})}catch{return null}}}let _f=(()=>{class v extends ea{constructor(){super("facebook.com")}static credential(m){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Mt=(()=>{class v extends ea{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:D}=m;if(!I&&!D)return null;try{return v.credential(I,D)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ri=(()=>{class v extends ea{constructor(){super("github.com")}static credential(m){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class fr extends Xa{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return uo(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,uo(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,uo(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:D,pendingToken:S}=m;return I&&D&&S&&I===D?new fr(I,S):null}static _create(f,m){return new fr(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hl extends ir{constructor(f){N(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return hl.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return hl.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=fr.fromJSON(f);return N(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:I}=f;if(!m||!I)return null;try{return fr._create(I,m)}catch{return null}}}let Dg=(()=>{class v extends ea{constructor(){super("twitter.com")}static credential(m,I){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:D}=m;if(!I||!D)return null;try{return v.credential(I,D)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ed(v,f){return bf.apply(this,arguments)}function bf(){return(bf=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signUp",ce(v,f))})).apply(this,arguments)}class Rr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,I,D=!1){return(0,d.Z)(function*(){const S=yield Ne._fromIdTokenResponse(f,I,D),P=Mn(I);return new Rr({user:S,providerId:P,_tokenResponse:I,operationType:m})})()}static _forOperation(f,m,I){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const D=Mn(I);return new Rr({user:f,providerId:D,_tokenResponse:I,operationType:m})})()}}function Mn(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function et(){return(et=(0,d.Z)(function*(v){var f;const m=on(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Rr({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield ed(m,{returnSecureToken:!0}),D=yield Rr._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Tn extends z.ZR{constructor(f,m,I,D){var S;super(m.code,m.message),this.operationType=I,this.user=D,Object.setPrototypeOf(this,Tn.prototype),this.customData={appName:f.name,tenantId:null!==(S=f.tenantId)&&void 0!==S?S:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,m,I,D){return new Tn(f,m,I,D)}}function Mr(v,f,m,I){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Tn._fromErrorAndOperation(v,S,f,I):S})}function vi(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function ta(){return ta=(0,d.Z)(function*(v,f){const m=(0,z.m9)(v);yield Pr(!0,m,f);const{providerUserInfo:I}=yield function kt(v,f){return ft.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),D=vi(I||[]);return m.providerData=m.providerData.filter(S=>D.has(S.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ta.apply(this,arguments)}function ot(v,f){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(v,f,m=!1){const I=yield Pi(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return Rr._forOperation(v,"link",I)})).apply(this,arguments)}function Pr(v,f,m){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(v,f,m){yield so(f);const D=!1===v?"provider-already-linked":"no-such-provider";N(vi(f.providerData).has(m)===v,f.auth,D)})).apply(this,arguments)}function fl(v,f){return vf.apply(this,arguments)}function vf(){return(vf=(0,d.Z)(function*(v,f,m=!1){const{auth:I}=v,D="reauthenticate";try{const S=yield Pi(v,Mr(I,D,f,v),m);N(S.idToken,I,"internal-error");const P=es(S.idToken);N(P,I,"internal-error");const{sub:H}=P;return N(v.uid===H,I,"user-mismatch"),Rr._forOperation(v,D,S)}catch(S){throw"auth/user-not-found"===S?.code&&Te(I,"user-mismatch"),S}})).apply(this,arguments)}function ic(v,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(v,f,m=!1){const I="signIn",D=yield Mr(v,I,f),S=yield Rr._fromIdTokenResponse(v,I,D);return m||(yield v._updateCurrentUser(S.user)),S})).apply(this,arguments)}function ss(v,f){return na.apply(this,arguments)}function na(){return(na=(0,d.Z)(function*(v,f){return ic(on(v),f)})).apply(this,arguments)}function fo(v,f){return rc.apply(this,arguments)}function rc(){return(rc=(0,d.Z)(function*(v,f){const m=(0,z.m9)(v);return yield Pr(!1,m,f.providerId),ot(m,f)})).apply(this,arguments)}function td(v,f){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(v,f){return fl((0,z.m9)(v),f)})).apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(v,f){return Qe(v,"POST","/v1/accounts:signInWithCustomToken",ce(v,f))})).apply(this,arguments)}function id(){return id=(0,d.Z)(function*(v,f){const m=on(v),I=yield function nd(v,f){return Gr.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),D=yield Rr._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(D.user),D}),id.apply(this,arguments)}class as{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?pr._fromServerResponse(f,m):"totpInfo"in m?ia._fromServerResponse(f,m):Te(f,"internal-error")}}class pr extends as{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new pr(m)}}class ia extends as{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new ia(m)}}function cs(v,f,m){var I;N((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),N(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(N(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(N(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Vn(v){return pl.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(v){const f=on(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(v,f,m){const I=on(v),D={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&cs(I,D,m),yield Qa(I,D,"getOobCode",ko)})).apply(this,arguments)}function ls(){return ls=(0,d.Z)(function*(v,f,m){yield cf((0,z.m9)(v),{oobCode:f,newPassword:m}).catch(function(){var I=(0,d.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&Vn(v),D});return function(D){return I.apply(this,arguments)}}())}),ls.apply(this,arguments)}function kr(){return kr=(0,d.Z)(function*(v,f){yield function Cg(v,f){return Lt.apply(this,arguments)}((0,z.m9)(v),{oobCode:f})}),kr.apply(this,arguments)}function If(v,f){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,d.Z)(function*(v,f){const m=(0,z.m9)(v),I=yield cf(m,{oobCode:f}),D=I.requestType;switch(N(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(I.mfaInfo,m,"internal-error");default:N(I.email,m,"internal-error")}let S=null;return I.mfaInfo&&(S=as._fromServerResponse(on(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:S},operation:D}})).apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(v,f){const{data:m}=yield If((0,z.m9)(v),f);return m.email})).apply(this,arguments)}function Sg(){return(Sg=(0,d.Z)(function*(v,f,m){const I=on(v),P=yield Qa(I,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ed).catch(re=>{throw"auth/password-does-not-meet-requirements"===re.code&&Vn(v),re}),H=yield Rr._fromIdTokenResponse(I,"signIn",P);return yield I._updateCurrentUser(H.user),H})).apply(this,arguments)}function ny(){return(ny=(0,d.Z)(function*(v,f,m){const I=on(v),D={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function S(P,H){N(H.handleCodeInApp,I,"argument-error"),H&&cs(I,P,H)})(D,m),yield Qa(I,D,"getOobCode",os)})).apply(this,arguments)}function iy(){return(iy=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v),D=gf.credentialWithLink(f,m||Rn());return N(D._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ss(I,D)})).apply(this,arguments)}function ry(){return(ry=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:createAuthUri",ce(v,f))})).apply(this,arguments)}function gl(){return gl=(0,d.Z)(function*(v,f){const I={identifier:f,continueUri:er()?Rn():"http://localhost"},{signinMethods:D}=yield function Yx(v,f){return ry.apply(this,arguments)}((0,z.m9)(v),I);return D||[]}),gl.apply(this,arguments)}function Mg(){return Mg=(0,d.Z)(function*(v,f){const m=(0,z.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&cs(m.auth,D,f);const{email:S}=yield function Qv(v,f){return uf.apply(this,arguments)}(m.auth,D);S!==v.email&&(yield v.reload())}),Mg.apply(this,arguments)}function us(){return us=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&cs(I.auth,S,m);const{email:P}=yield function Zt(v,f){return Ja.apply(this,arguments)}(I.auth,S);P!==v.email&&(yield v.reload())}),us.apply(this,arguments)}function Og(){return(Og=(0,d.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ng(){return Ng=(0,d.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const I=(0,z.m9)(v),S={idToken:yield I.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},P=yield Pi(I,function kg(v,f){return Og.apply(this,arguments)}(I.auth,S));I.displayName=P.displayName||null,I.photoURL=P.photoUrl||null;const H=I.providerData.find(({providerId:re})=>"password"===re);H&&(H.displayName=I.displayName,H.photoURL=I.photoURL),yield I._updateTokensIfNecessary(P)}),Ng.apply(this,arguments)}function wf(v,f,m){return ra.apply(this,arguments)}function ra(){return ra=(0,d.Z)(function*(v,f,m){const{auth:I}=v,S={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(S.email=f),m&&(S.password=m);const P=yield Pi(v,function Yv(v,f){return lo.apply(this,arguments)}(I,S));yield v._updateTokensIfNecessary(P,!0)}),ra.apply(this,arguments)}class hs{constructor(f,m,I={}){this.isNewUser=f,this.providerId=m,this.profile=I}}class rd extends hs{constructor(f,m,I,D){super(f,m,I),this.username=D}}class Tf extends hs{constructor(f,m){super(f,"facebook.com",m)}}class Lg extends rd{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class oy extends hs{constructor(f,m){super(f,"google.com",m)}}class Df extends rd{constructor(f,m,I){super(f,"twitter.com",m,I)}}function sy(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Cf(v){var f,m;if(!v)return null;const{providerId:I}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},S=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const P=null===(m=null===(f=es(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(P)return new hs(S,"anonymous"!==P&&"custom"!==P?P:null)}if(!I)return null;switch(I){case"facebook.com":return new Tf(S,D);case"github.com":return new Lg(S,D);case"google.com":return new oy(S,D);case"twitter.com":return new Df(S,D,v.screenName||null);case"custom":case"anonymous":return new hs(S,null);default:return new hs(S,I,D)}}(m)}class oi{constructor(f,m,I){this.type=f,this.credential=m,this.user=I}static _fromIdtoken(f,m){return new oi("enroll",f,m)}static _fromMfaPendingCredential(f){return new oi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,I;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return oi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return oi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Sf{constructor(f,m,I){this.session=f,this.hints=m,this.signInResolver=I}static _fromError(f,m){const I=on(f),D=m.customData._serverResponse,S=(D.mfaInfo||[]).map(H=>as._fromServerResponse(I,H));N(D.mfaPendingCredential,I,"internal-error");const P=oi._fromMfaPendingCredential(D.mfaPendingCredential);return new Sf(P,S,function(){var H=(0,d.Z)(function*(re){const we=yield re._process(I,P);delete D.mfaInfo,delete D.mfaPendingCredential;const Oe=Object.assign(Object.assign({},D),{idToken:we.idToken,refreshToken:we.refreshToken});switch(m.operationType){case"signIn":const ze=yield Rr._fromIdTokenResponse(I,m.operationType,Oe);return yield I._updateCurrentUser(ze.user),ze;case"reauthenticate":return N(m.user,I,"internal-error"),Rr._forOperation(m.user,m.operationType,Oe);default:Te(I,"internal-error")}});return function(re){return H.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}class ad{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>as._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new ad(f)}getSession(){var f=this;return(0,d.Z)(function*(){return oi._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var I=this;return(0,d.Z)(function*(){const D=f,S=yield I.getSession(),P=yield Pi(I.user,D._process(I.user.auth,S,m));return yield I.user._updateTokensIfNecessary(P),I.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){const I="string"==typeof f?f:f.uid,D=yield m.user.getIdToken();try{const S=yield Pi(m.user,function Ug(v,f){return he(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(v,f))}(m.user.auth,{idToken:D,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:P})=>P!==I),yield m.user._updateTokensIfNecessary(S),yield m.user.reload()}catch(S){throw S}})()}}const _l=new WeakMap,oa="__sak";class cd{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(oa,"1"),this.storage.removeItem(oa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ld=(()=>{class v extends cd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fs(){const v=(0,z.z$)();return Ks(v)||ct(v)}()&&function Hr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const D=this.storage.getItem(I),S=this.localCache[I];D!==S&&m(I,S,D)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((H,re,we)=>{this.notifyListeners(H,we)});const D=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(D);if(m.newValue!==H)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!I)return}const S=()=>{const H=this.storage.getItem(D);!I&&this.localCache[D]===H||this.notifyListeners(D,H)},P=this.storage.getItem(D);!function Wn(){return(0,z.w1)()&&10===document.documentMode}()||P===m.newValue||m.newValue===m.oldValue?S():setTimeout(S,10)}notifyListeners(m,I){this.localCache[m]=I;const D=this.listeners[m];if(D)for(const S of Array.from(D))S(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var D=()=>super._set,S=this;return(0,d.Z)(function*(){yield D().call(S,m,I),S.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,D=this;return(0,d.Z)(function*(){const S=yield I().call(D,m);return D.localCache[m]=JSON.stringify(S),S})()}_remove(m){var I=()=>super._remove,D=this;return(0,d.Z)(function*(){yield I().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),ps=(()=>{class v extends cd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let sa=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(S=>S.isListeningto(m));if(I)return I;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,d.Z)(function*(){const D=m,{eventId:S,eventType:P,data:H}=D.data,re=I.handlersMap[P];if(!re?.size)return;D.ports[0].postMessage({status:"ack",eventId:S,eventType:P});const we=Array.from(re).map(function(){var ze=(0,d.Z)(function*(dn){return dn(D.origin,H)});return function(dn){return ze.apply(this,arguments)}}()),Oe=yield function Mf(v){return Promise.all(v.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return f.apply(this,arguments)}}()))}(we);D.ports[0].postMessage({status:"done",eventId:S,eventType:P,response:Oe})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Or(v="",f=10){let m="";for(let I=0;I<f;I++)m+=Math.floor(10*Math.random());return v+m}class ly{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,I=50){var D=this;return(0,d.Z)(function*(){const S=typeof MessageChannel<"u"?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let P,H;return new Promise((re,we)=>{const Oe=Or("",20);S.port1.start();const ze=setTimeout(()=>{we(new Error("unsupported_event"))},I);H={messageChannel:S,onMessage(dn){const _r=dn;if(_r.data.eventId===Oe)switch(_r.data.status){case"ack":clearTimeout(ze),P=setTimeout(()=>{we(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),re(_r.data.response);break;default:clearTimeout(ze),clearTimeout(P),we(new Error("invalid_response"))}}},D.handlers.add(H),S.port1.addEventListener("message",H.onMessage),D.target.postMessage({eventType:f,eventId:Oe,data:m},[S.port2])}).finally(()=>{H&&D.removeMessageHandler(H)})})()}}function Zn(){return window}function ud(){return typeof Zn().WorkerGlobalScope<"u"&&"function"==typeof Zn().importScripts}function Bt(){return(Bt=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sn="firebaseLocalStorageDb",aa="firebaseLocalStorage",mo="fbase_key";class ac{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function bl(v,f){return v.transaction([aa],f?"readwrite":"readonly").objectStore(aa)}function $g(){const v=indexedDB.open(sn,1);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(aa,{keyPath:mo})}catch(D){m(D)}}),v.addEventListener("success",(0,d.Z)(function*(){const I=v.result;I.objectStoreNames.contains(aa)?f(I):(I.close(),yield function Hg(){const v=indexedDB.deleteDatabase(sn);return new ac(v).toPromise()}(),f(yield $g()))}))})}function dd(v,f,m){return di.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(v,f,m){const I=bl(v,!0).put({[mo]:f,value:m});return new ac(I).toPromise()})).apply(this,arguments)}function kf(){return(kf=(0,d.Z)(function*(v,f){const m=bl(v,!1).get(f),I=yield new ac(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function go(v,f){const m=bl(v,!0).delete(f);return new ac(m).toPromise()}const vl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield $g()),m.db})()}_withRetries(m){var I=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const S=yield I._openDb();return yield m(S)}catch(S){if(D++>3)throw S;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return ud()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=sa._getInstance(function zg(){return ud()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,d.Z)(function*(D,S){return{keyProcessed:(yield m._poll()).includes(S.key)}});return function(D,S){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,d.Z)(function*(D,S){return["keyChanged"]});return function(D,S){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var I,D;if(m.activeServiceWorker=yield function ie(){return Bt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ly(m.activeServiceWorker);const S=yield m.sender._send("ping",{},800);S&&null!==(I=S[0])&&void 0!==I&&I.fulfilled&&null!==(D=S[0])&&void 0!==D&&D.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,d.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function uy(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield $g();return yield dd(m,oa,"1"),yield go(m,oa),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,d.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(S=>dd(S,m,I)),D.localCache[m]=I,D.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,d.Z)(function*(){const D=yield I._withRetries(S=>function ms(v,f){return kf.apply(this,arguments)}(S,m));return I.localCache[m]=D,D})()}_remove(m){var I=this;return(0,d.Z)(function*(){return I._withPendingWrite((0,d.Z)(function*(){return yield I._withRetries(D=>go(D,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const I=yield m._withRetries(P=>{const H=bl(P,!1).getAll();return new ac(H).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const D=[],S=new Set;if(0!==I.length)for(const{fbase_key:P,value:H}of I)S.add(P),JSON.stringify(m.localCache[P])!==JSON.stringify(H)&&(m.notifyListeners(P,H),D.push(P));for(const P of Object.keys(m.localCache))m.localCache[P]&&!S.has(P)&&(m.notifyListeners(P,null),D.push(P));return D})()}notifyListeners(m,I){this.localCache[m]=I;const D=this.listeners[m];if(D)for(const S of Array.from(D))S(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Il=1e12;class Nf{constructor(f){this.auth=f,this.counter=Il,this._widgets=new Map}render(f,m){const I=this.counter;return this._widgets.set(I,new hd(f,this.auth.name,m||{})),this.counter++,I}reset(f){var m;const I=f||Il;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Il))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var I;return null===(I=m._widgets.get(f||Il))||void 0===I||I.execute(),""})()}}class hd{constructor(f,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;N(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ff(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const El=$v("rcb"),Gg=new jr(3e4,6e4);class fd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Zn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return N(function qg(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&mn(Zn().grecaptcha)?Promise.resolve(Zn().grecaptcha):new Promise((I,D)=>{const S=Zn().setTimeout(()=>{D(Je(f,"network-request-failed"))},Gg.get());Zn()[El]=()=>{Zn().clearTimeout(S),delete Zn()[El];const H=Zn().grecaptcha;if(!H||!mn(H))return void D(Je(f,"internal-error"));const re=H.render;H.render=(we,Oe)=>{const ze=re(we,Oe);return this.counter++,ze},this.hostLanguage=m,I(H)},Zu(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:El,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(S),D(Je(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Zn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ii{load(f){return(0,d.Z)(function*(){return new Nf(f)})()}clearedOneInstance(){}}const _s="recaptcha",Nt={theme:"light",type:"image"};class hy{constructor(f,m,I=Object.assign({},Nt)){this.parameters=I,this.type=_s,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=on(f),this.isInvisible="invisible"===this.parameters.size,N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof m?document.getElementById(m):m;N(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ii:new fd,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(m)||new Promise(S=>{const P=H=>{H&&(f.tokenChangeListeners.delete(P),S(H))};f.tokenChangeListeners.add(P),f.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof f)f(m);else if("string"==typeof f){const I=Zn()[f];"function"==typeof I&&I(m)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){N(er()&&!ud(),f.auth,"internal-error"),yield function fy(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Nn(v){return io.apply(this,arguments)}(f.auth);N(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vf{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=ec._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function wl(){return(wl=(0,d.Z)(function*(v,f,m){const I=on(v),D=yield an(I,f,(0,z.m9)(m));return new Vf(D,S=>ss(I,S))})).apply(this,arguments)}function cc(){return(cc=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v);yield Pr(!1,I,"phone");const D=yield an(I.auth,f,(0,z.m9)(m));return new Vf(D,S=>fo(I,S))})).apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v),D=yield an(I.auth,f,(0,z.m9)(m));return new Vf(D,S=>td(I,S))})).apply(this,arguments)}function an(v,f,m){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,d.Z)(function*(v,f,m){var I;const D=yield m.verify();try{let S;if(N("string"==typeof D,v,"argument-error"),N(m.type===_s,v,"argument-error"),S="string"==typeof f?{phoneNumber:f}:f,"session"in S){const P=S.session;if("phoneNumber"in S)return N("enroll"===P.type,v,"internal-error"),(yield function Nw(v,f){return he(v,"POST","/v2/accounts/mfaEnrollment:start",ce(v,f))}(v,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{N("signin"===P.type,v,"internal-error");const H=(null===(I=S.multiFactorHint)||void 0===I?void 0:I.uid)||S.multiFactorUid;return N(H,v,"missing-multi-factor-info"),(yield function _n(v,f){return he(v,"POST","/v2/accounts/mfaSignIn:start",ce(v,f))}(v,{mfaPendingCredential:P.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function Xu(v,f){return Sr.apply(this,arguments)}(v,{phoneNumber:S.phoneNumber,recaptchaToken:D});return P}}finally{m._reset()}}),Nr.apply(this,arguments)}function Cl(){return(Cl=(0,d.Z)(function*(v,f){yield ot((0,z.m9)(v),f)})).apply(this,arguments)}let lc=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=on(m)}verifyPhoneNumber(m,I){return an(this.auth,m,(0,z.m9)(I))}static credential(m,I){return ec._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:D}=m;return I&&D?ec._fromTokenResponse(I,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function bs(v,f){return f?wt(f):(N(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Bf extends Xa{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return uo(f,this._buildIdpRequest())}_linkToIdToken(f,m){return uo(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return uo(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function la(v){return ic(v.auth,new Bf(v),v.bypassAuthState)}function Tl(v){const{auth:f,user:m}=v;return N(m,f,"internal-error"),fl(m,new Bf(v),v.bypassAuthState)}function my(v){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(v){const{auth:f,user:m}=v;return N(m,f,"internal-error"),ot(m,new Bf(v),v.bypassAuthState)})).apply(this,arguments)}class Uf{constructor(f,m,I,D,S=!1){this.auth=f,this.resolver=I,this.user=D,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(I,D){f.pendingPromise={resolve:I,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(S){f.reject(S)}});return function(I,D){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:I,sessionId:D,postBody:S,tenantId:P,error:H,type:re}=f;if(H)return void m.reject(H);const we={auth:m.auth,requestUri:I,sessionId:D,tenantId:P||void 0,postBody:S||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(re)(we))}catch(Oe){m.reject(Oe)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return la;case"linkViaPopup":case"linkViaRedirect":return my;case"reauthViaPopup":case"reauthViaRedirect":return Tl;default:Te(this.auth,"internal-error")}}resolve(f){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jf=new jr(2e3,1e4);function uc(){return(uc=(0,d.Z)(function*(v,f,m){const I=on(v);We(v,f,ir);const D=bs(I,m);return new ua(I,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v);We(I.auth,f,ir);const D=bs(I.auth,m);return new ua(I.auth,"reauthViaPopup",f,D,I).executeNotNull()})).apply(this,arguments)}function zf(){return(zf=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v);We(I.auth,f,ir);const D=bs(I.auth,m);return new ua(I.auth,"linkViaPopup",f,D,I).executeNotNull()})).apply(this,arguments)}let ua=(()=>{class v extends Uf{constructor(m,I,D,S,P){super(m,I,S,P),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const I=yield m.execute();return N(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,d.Z)(function*(){vt(1===m.filter.length,"Popup operations only handle one event");const I=Or();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Je(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,D;this.pollId=null!==(D=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,jf.get())};m()}}return v.currentPopupAction=null,v})();const Hf="pendingRedirect",vs=new Map;class Uw extends Uf{constructor(f,m,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let I=vs.get(m.auth._key());if(!I){try{const S=(yield function Zg(v,f){return _o.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;I=()=>Promise.resolve(S)}catch(D){I=()=>Promise.reject(D)}vs.set(m.auth._key(),I)}return m.bypassAuthState||vs.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,I=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(I,f);if("unknown"!==f.type){if(f.eventId){const D=yield I.auth._redirectUserForId(f.eventId);if(D)return I.user=D,m().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function _o(){return(_o=(0,d.Z)(function*(v,f){const m=dc(f),I=pd(v);if(!(yield I._isAvailable()))return!1;const D="true"===(yield I._get(m));return yield I._remove(m),D})).apply(this,arguments)}function gt(v,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(v,f){return pd(v)._set(dc(f),"true")})).apply(this,arguments)}function da(v,f){vs.set(v._key(),f)}function pd(v){return wt(v._redirectPersistence)}function dc(v){return ni(Hf,v.config.apiKey,v.name)}function md(v,f,m){return function gd(v,f,m){return $f.apply(this,arguments)}(v,f,m)}function $f(){return($f=(0,d.Z)(function*(v,f,m){const I=on(v);We(v,f,ir),yield I._initializationPromise;const D=bs(I,m);return yield gt(D,I),D._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function Dl(v,f,m){return function Yg(v,f,m){return Yn.apply(this,arguments)}(v,f,m)}function Yn(){return(Yn=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v);We(I.auth,f,ir),yield I.auth._initializationPromise;const D=bs(I.auth,m);yield gt(D,I.auth);const S=yield hc(I);return D._openRedirect(I.auth,f,"reauthViaRedirect",S)})).apply(this,arguments)}function ha(v,f,m){return function by(v,f,m){return Vo.apply(this,arguments)}(v,f,m)}function Vo(){return(Vo=(0,d.Z)(function*(v,f,m){const I=(0,z.m9)(v);We(I.auth,f,ir),yield I.auth._initializationPromise;const D=bs(I.auth,m);yield Pr(!1,I,f.providerId),yield gt(D,I.auth);const S=yield hc(I);return D._openRedirect(I.auth,f,"linkViaRedirect",S)})).apply(this,arguments)}function Gf(){return(Gf=(0,d.Z)(function*(v,f){return yield on(v)._initializationPromise,ys(v,f,!1)})).apply(this,arguments)}function ys(v,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(v,f,m=!1){const I=on(v),D=bs(I,f),P=yield new Uw(I,D,m).execute();return P&&!m&&(delete P.user._redirectEventId,yield I._persistUserIfCurrent(P.user),yield I._setRedirectUser(null,f)),P})).apply(this,arguments)}function hc(v){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(v){const f=Or(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class _d{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(m=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function si(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dt(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var I;if(f.error&&!Dt(f)){const D=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(Je(this.auth,D))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const I=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bd(f))}saveEventToCache(f){this.cachedEventUids.add(bd(f)),this.lastProcessedEventTime=Date.now()}}function bd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Dt({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function qi(v){return or.apply(this,arguments)}function or(){return(or=(0,d.Z)(function*(v,f={}){return he(v,"GET","/v1/projects",f)})).apply(this,arguments)}const vn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bo=/^https?/;function vd(){return(vd=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield qi(v);for(const m of f)try{if(vo(m))return}catch{}Te(v,"unauthorized-domain")})).apply(this,arguments)}function vo(v){const f=Rn(),{protocol:m,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const P=new URL(v);return""===P.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&P.hostname===I}if(!Bo.test(m))return!1;if(vn.test(v))return I===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(I)}const yo=new jr(3e4,6e4);function hi(){const v=Zn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let qf=null;const Kg=new jr(5e3,15e3),jw="__/auth/iframe",zw="emulator/auth/iframe",Qg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Io(v){const f=v.config;N(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?Q(f,zw):`https://${v.config.authDomain}/${jw}`,I={apiKey:f.apiKey,appName:v.name,v:be.SDK_VERSION},D=pc.get(v.config.apiHost);D&&(I.eid=D);const S=v._getFrameworks();return S.length&&(I.fw=S.join(",")),`${m}?${(0,z.xO)(I).slice(1)}`}function yn(){return yn=(0,d.Z)(function*(v){const f=yield function Wf(v){return qf=qf||function fc(v){return new Promise((f,m)=>{var I,D,S;function P(){hi(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{hi(),m(Je(v,"network-request-failed"))},timeout:yo.get()})}if(null!==(D=null===(I=Zn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(S=Zn().gapi)||void 0===S||!S.load){const H=$v("iframefcb");return Zn()[H]=()=>{gapi.load?P():m(Je(v,"network-request-failed"))},Zu(`https://apis.google.com/js/api.js?onload=${H}`).catch(re=>m(re))}P()}}).catch(f=>{throw qf=null,f})}(v),qf}(v),m=Zn().gapi;return N(m,v,"internal-error"),f.open({where:document.body,url:Io(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qg,dontclear:!0},I=>new Promise(function(){var D=(0,d.Z)(function*(S,P){yield I.restyle({setHideOnLeave:!1});const H=Je(v,"network-request-failed"),re=Zn().setTimeout(()=>{P(H)},Kg.get());function we(){Zn().clearTimeout(re),S(I)}I.ping(we).then(we,()=>{P(H)})});return function(S,P){return D.apply(this,arguments)}}()))}),yn.apply(this,arguments)}const vy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Al{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zf="__/auth/handler",Iy="emulator/auth/handler",Yf=encodeURIComponent("fac");function Xg(v,f,m,I,D,S){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,d.Z)(function*(v,f,m,I,D,S){N(v.config.authDomain,v,"auth-domain-config-required"),N(v.config.apiKey,v,"invalid-api-key");const P={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:be.SDK_VERSION,eventId:D};if(f instanceof ir){f.setDefaultLanguage(v.languageCode),P.providerId=f.providerId||"",(0,z.xb)(f.getCustomParameters())||(P.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Oe,ze]of Object.entries(S||{}))P[Oe]=ze}if(f instanceof ea){const Oe=f.getScopes().filter(ze=>""!==ze);Oe.length>0&&(P.scopes=Oe.join(","))}v.tenantId&&(P.tid=v.tenantId);const H=P;for(const Oe of Object.keys(H))void 0===H[Oe]&&delete H[Oe];const re=yield v._getAppCheckToken(),we=re?`#${Yf}=${encodeURIComponent(re)}`:"";return`${function Kf({config:v}){return v.emulator?Q(v,Iy):`https://${v.authDomain}/${Zf}`}(v)}?${(0,z.xO)(H).slice(1)}${we}`})).apply(this,arguments)}const Uo="webStorageSupport",mc=class Ey{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=ys,this._overrideRedirectResult=da}_openPopup(f,m,I,D){var S=this;return(0,d.Z)(function*(){var P;vt(null===(P=S.eventManagers[f._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const H=yield Xg(f,m,I,Rn(),D);return function xl(v,f,m,I=500,D=600){const S=Math.max((window.screen.availHeight-D)/2,0).toString(),P=Math.max((window.screen.availWidth-I)/2,0).toString();let H="";const re=Object.assign(Object.assign({},vy),{width:I.toString(),height:D.toString(),top:S,left:P}),we=(0,z.z$)().toLowerCase();m&&(H=tf(we)?"_blank":m),co(we)&&(f=f||"http://localhost",re.scrollbars="yes");const Oe=Object.entries(re).reduce((dn,[_r,Pd])=>`${dn}${_r}=${Pd},`,"");if(function jt(v=(0,z.z$)()){var f;return ct(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(we)&&"_self"!==H)return function qr(v,f){const m=document.createElement("a");m.href=v,m.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(f||"",H),new Al(null);const ze=window.open(f||"",H,Oe);N(ze,v,"popup-blocked");try{ze.focus()}catch{}return new Al(ze)}(f,H,Or())})()}_openRedirect(f,m,I,D){var S=this;return(0,d.Z)(function*(){return yield S._originValidation(f),function Pf(v){Zn().location.href=v}(yield Xg(f,m,I,Rn(),D)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:D,promise:S}=this.eventManagers[m];return D?Promise.resolve(D):(vt(S,"If manager is not set, promise should be"),S)}const I=this.initAndGetManager(f);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const I=yield function At(v){return yn.apply(this,arguments)}(f),D=new _d(f);return I.register("authEvent",S=>(N(S?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:D},m.iframes[f._key()]=I,D})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Uo,{type:Uo},D=>{var S;const P=null===(S=D?.[0])||void 0===S?void 0:S[Uo];void 0!==P&&m(!!P),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fa(v){return vd.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return gn()||Ks()||ct()}};class gc{constructor(f){this.factorId=f}_process(f,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,I);case"signin":return this._finalizeSignIn(f,m.credential);default:return xe("unexpected MultiFactorSessionType")}}}class tn extends gc{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new tn(f)}_finalizeEnroll(f,m,I){return function Fo(v,f){return he(v,"POST","/v2/accounts/mfaEnrollment:finalize",ce(v,f))}(f,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function bn(v,f){return he(v,"POST","/v2/accounts/mfaSignIn:finalize",ce(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class v{constructor(){}static assertion(m){return tn._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var pa="@firebase/auth";class ma{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(I=>{f(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Es(){return window}(0,z.Pz)("authIdTokenMaxAge"),function Ml(v){(0,be._registerComponent)(new lt.wA("auth",(f,{options:m})=>{const I=f.getProvider("app").getImmediate(),D=f.getProvider("heartbeat"),S=f.getProvider("app-check-internal"),{apiKey:P,authDomain:H}=I.options;N(P&&!P.includes(":"),"invalid-api-key",{appName:I.name});const re={apiKey:P,authDomain:H,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ns(v)},we=new tr(I,D,S,re);return function Gx(v,f){const m=f?.persistence||[],I=(Array.isArray(m)?m:[m]).map(wt);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,f?.popupRedirectResolver)}(we,m),we},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,I)=>{f.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new lt.wA("auth-internal",f=>{const m=on(f.getProvider("auth").getImmediate());return new ma(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(pa,"1.5.1",function Rl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,be.registerVersion)(pa,"1.5.1","esm2017")}("Browser");function _a(){return _a=(0,d.Z)(function*(v,f,m){var I;const{BuildInfo:D}=Es();vt(f.sessionId,"AuthEvent did not contain a session ID");const S=yield function Dy(v){return Xf.apply(this,arguments)}(f.sessionId),P={};return ct()?P.ibi=D.packageName:j()?P.apn=D.packageName:Te(v,"operation-not-supported-in-this-environment"),D.displayName&&(P.appDisplayName=D.displayName),P.sessionId=S,Xg(v,m,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,P)}),_a.apply(this,arguments)}function i_(){return(i_=(0,d.Z)(function*(v){const{BuildInfo:f}=Es(),m={};ct()?m.iosBundleId=f.packageName:j()?m.androidPackageName=f.packageName:Te(v,"operation-not-supported-in-this-environment"),yield qi(v,m)})).apply(this,arguments)}function o_(){return(o_=(0,d.Z)(function*(v,f,m){const{cordova:I}=Es();let D=()=>{};try{yield new Promise((S,P)=>{let H=null;function re(){var ze;S();const dn=null===(ze=I.plugins.browsertab)||void 0===ze?void 0:ze.close;"function"==typeof dn&&dn(),"function"==typeof m?.close&&m.close()}function we(){H||(H=window.setTimeout(()=>{P(Je(v,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===document?.visibilityState&&we()}f.addPassiveListener(re),document.addEventListener("resume",we,!1),j()&&document.addEventListener("visibilitychange",Oe,!1),D=()=>{f.removePassiveListener(re),document.removeEventListener("resume",we,!1),document.removeEventListener("visibilitychange",Oe,!1),H&&window.clearTimeout(H)}})}finally{D()}})).apply(this,arguments)}function Xf(){return(Xf=(0,d.Z)(function*(v){const f=function ws(v){if(vt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),m=new Uint8Array(f);for(let I=0;I<v.length;I++)m[I]=v.charCodeAt(I);return m}(v),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ep extends _d{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function tp(v){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,d.Z)(function*(v){const f=yield Ed()._get(vc(v));return f&&(yield Ed()._remove(vc(v))),f})).apply(this,arguments)}function Cs(){const v=[];for(let m=0;m<20;m++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function Ed(){return wt(ld)}function vc(v){return ni("authEvent",v.config.apiKey,v.name)}function Ts(v){if(!v?.includes("?"))return{};const[f,...m]=v.split("?");return(0,z.zd)(m.join("?"))}const Ay=class ba{constructor(){this._redirectPersistence=ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ys,this._overrideRedirectResult=da}_initialize(f){var m=this;return(0,d.Z)(function*(){const I=f._key();let D=m.eventManagers.get(I);return D||(D=new ep(f),m.eventManagers.set(I,D),m.attachCallbackListeners(f,D)),D})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,I,D){var S=this;return(0,d.Z)(function*(){!function Ty(v){var f,m,I,D,S,P,H,re,we,Oe;const ze=Es();N("function"==typeof(null===(f=ze?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),N(typeof(null===(m=ze?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),N("function"==typeof(null===(S=null===(D=null===(I=ze?.cordova)||void 0===I?void 0:I.plugins)||void 0===D?void 0:D.browsertab)||void 0===S?void 0:S.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(re=null===(H=null===(P=ze?.cordova)||void 0===P?void 0:P.plugins)||void 0===H?void 0:H.browsertab)||void 0===re?void 0:re.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(Oe=null===(we=ze?.cordova)||void 0===we?void 0:we.InAppBrowser)||void 0===Oe?void 0:Oe.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const P=yield S._initialize(f);yield P.initialized(),P.resetRedirect(),function _y(){vs.clear()}(),yield S._originValidation(f);const H=function wo(v,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Cs(),postBody:null,tenantId:v.tenantId,error:Je(v,"no-auth-event")}}(f,I,D);yield function Id(v,f){return Ed()._set(vc(v),f)}(f,H);const re=yield function bc(v,f,m){return _a.apply(this,arguments)}(f,H,m),we=yield function r_(v){const{cordova:f}=Es();return new Promise(m=>{f.plugins.browsertab.isAvailable(I=>{let D=null;I?f.plugins.browsertab.openUrl(v):D=f.InAppBrowser.open(v,function Ot(v=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(D)})})}(re);return function Cy(v,f,m){return o_.apply(this,arguments)}(f,P,we)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Qf(v){return i_.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:I,handleOpenURL:D,BuildInfo:S}=Es(),P=setTimeout((0,d.Z)(function*(){yield tp(f),m.onEvent(Ol())}),500),H=function(){var Oe=(0,d.Z)(function*(ze){clearTimeout(P);const dn=yield tp(f);let _r=null;dn&&ze?.url&&(_r=function kl(v,f){var m,I;const D=function np(v){const f=Ts(v),m=f.link?decodeURIComponent(f.link):void 0,I=Ts(m).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ts(D).link||D||I||m||v}(f);if(D.includes("/__/auth/callback")){const S=Ts(D),P=S.firebaseError?function s_(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(S.firebaseError)):null,H=null===(I=null===(m=P?.code)||void 0===m?void 0:m.split("auth/"))||void 0===I?void 0:I[1],re=H?Je(H):null;return re?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:re,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:D,postBody:null}}return null}(dn,ze.url)),m.onEvent(_r||Ol())});return function(dn){return Oe.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,H);const re=D,we=`${S.packageName.toLowerCase()}://`;Es().handleOpenURL=function(){var Oe=(0,d.Z)(function*(ze){if(ze.toLowerCase().startsWith(we)&&H({url:ze}),"function"==typeof re)try{re(ze)}catch(dn){console.error(dn)}});return function(ze){return Oe.apply(this,arguments)}}()}};function Ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Je("no-auth-event")}}function Zi(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function As(v=(0,z.z$)()){return!("file:"!==Zi()&&"ionic:"!==Zi()&&"capacitor:"!==Zi()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function ya(){try{const v=self.localStorage,f=Or();if(v)return v.setItem(f,"1"),v.removeItem(f),!function Yr(v=(0,z.z$)()){return function Cd(){return(0,z.w1)()&&11===document?.documentMode}()||function Zr(v=(0,z.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,z.hl)()}catch{return yc()&&(0,z.hl)()}return!1}function yc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Td(){return(function va(){return"http:"===Zi()||"https:"===Zi()}()||(0,z.ru)()||As())&&!function Co(){return(0,z.b$)()||(0,z.UG)()}()&&ya()&&!yc()}function Dd(){return As()&&typeof document<"u"}function Fl(){return(Fl=(0,d.Z)(function*(){return!!Dd()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const mr={LOCAL:"local",NONE:"none",SESSION:"session"},Ll=N,ip="persistence";function Ad(v){return rp.apply(this,arguments)}function rp(){return(rp=(0,d.Z)(function*(v){yield v._initializationPromise;const f=op(),m=ni(ip,v.config.apiKey,v.name);f&&f.setItem(m,v._getPersistence())})).apply(this,arguments)}function op(){var v;try{return(null===(v=function c_(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const xd=N;class xs{constructor(){this.browserResolver=wt(mc),this.cordovaResolver=wt(Ay),this.underlyingResolver=null,this._redirectPersistence=ps,this._completeRedirectFn=ys,this._overrideRedirectResult=da}_initialize(f){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,I,D){var S=this;return(0,d.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(f,m,I,D)})()}_openRedirect(f,m,I,D){var S=this;return(0,d.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(f,m,I,D)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Dd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Sy(){return Fl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function gr(v){return v.unwrap()}function zo(v){return Vl(v)}function Vl(v){const{_tokenResponse:f}=v instanceof z.ZR?v.customData:v;if(!f)return null;if(!(v instanceof z.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return lc.credentialFromResult(v);const m=f.providerId;if(!m||m===je.PASSWORD)return null;let I;switch(m){case je.GOOGLE:I=Mt;break;case je.FACEBOOK:I=_f;break;case je.GITHUB:I=ri;break;case je.TWITTER:I=Dg;break;default:const{oauthIdToken:D,oauthAccessToken:S,oauthTokenSecret:P,pendingToken:H,nonce:re}=f;return S||P||D||H?H?m.startsWith("saml.")?fr._create(m,H):$r._fromParams({providerId:m,signInMethod:m,pendingToken:H,idToken:D,accessToken:S}):new nc(m).credential({idToken:D,accessToken:S,rawNonce:re}):null}return v instanceof z.ZR?I.credentialFromError(v):I.credentialFromResult(v)}function ln(v,f){return f.catch(m=>{throw m instanceof z.ZR&&function Ic(v,f){var m;const I=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Rd(v,function Rf(v,f){var m;const I=(0,z.m9)(v),D=f;return N(f.customData.operationType,I,"argument-error"),N(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),Sf._fromError(I,D)}(v,f));else if(I){const D=Vl(f),S=f;D&&(S.credential=D,S.tenantId=I.tenantId||void 0,S.email=I.email||void 0,S.phoneNumber=I.phoneNumber||void 0)}}(v,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:zo(m),additionalUserInfo:sy(m),user:Ho.getOrCreate(D)}})}function Ss(v,f){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,d.Z)(function*(v,f){const m=yield f;return{verificationId:m.verificationId,confirm:I=>ln(v,m.confirm(I))}})).apply(this,arguments)}class Rd{constructor(f,m){this.resolver=m,this.auth=function Ia(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ln(gr(this.auth),this.resolver.resolveSignIn(f))}}class Ho{constructor(f){this._delegate=f,this.multiFactor=function sc(v){const f=(0,z.m9)(v);return _l.has(f)||_l.set(f,ad._fromUser(f)),_l.get(f)}(f)}static getOrCreate(f){return Ho.USER_MAP.has(f)||Ho.USER_MAP.set(f,new Ho(f)),Ho.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,d.Z)(function*(){return ln(m.auth,fo(m._delegate,f))})()}linkWithPhoneNumber(f,m){var I=this;return(0,d.Z)(function*(){return Ss(I.auth,function Wg(v,f,m){return cc.apply(this,arguments)}(I._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,d.Z)(function*(){return ln(m.auth,function Vi(v,f,m){return zf.apply(this,arguments)}(m._delegate,f,xs))})()}linkWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Ad(on(m.auth)),ha(m._delegate,f,xs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,d.Z)(function*(){return ln(m.auth,td(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Ss(this.auth,function Li(v,f,m){return xn.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return ln(this.auth,function Bw(v,f,m){return qe.apply(this,arguments)}(this._delegate,f,xs))}reauthenticateWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Ad(on(m.auth)),Dl(m._delegate,f,xs)})()}sendEmailVerification(f){return function Qx(v,f){return Mg.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,d.Z)(function*(){return yield function ho(v,f){return ta.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Fg(v,f){return wf((0,z.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function ds(v,f){return wf((0,z.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Lo(v,f){return Cl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function kw(v,f){return Ng.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Pg(v,f,m){return us.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ho.USER_MAP=new WeakMap;const fi=N;let Bl=(()=>{class v{constructor(m,I){if(this.app=m,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;fi(D,"invalid-api-key",{appName:m.name}),fi(D,"invalid-api-key",{appName:m.name});const S=typeof window<"u"?xs:void 0;this._delegate=I.initialize({options:{persistence:sp(D,m.name),popupRedirectResolver:S}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,I){!function ll(v,f,m){const I=on(v);N(I._canInitEmulator,I,"emulator-config-failed"),N(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const D=!!m?.disableWarnings,S=nr(f),{host:P,port:H}=function Ku(v){const f=nr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(I);if(D){const S=D[1];return{host:S,port:wg(I.substr(S.length+1))}}{const[S,P]=I.split(":");return{host:S,port:wg(P)}}}(f);I.config.emulator={url:`${S}//${P}${null===H?"":`:${H}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:P,port:H,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Zv(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,I)}applyActionCode(m){return function yf(v,f){return kr.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return If(this._delegate,m)}confirmPasswordReset(m,I){return function Ag(v,f,m){return ls.apply(this,arguments)}(this._delegate,m,I)}createUserWithEmailAndPassword(m,I){var D=this;return(0,d.Z)(function*(){return ln(D._delegate,function xg(v,f,m){return Sg.apply(this,arguments)}(D._delegate,m,I))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Kx(v,f){return gl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Wx(v,f){const m=tc.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){fi(Td(),m._delegate,"operation-not-supported-in-this-environment");const I=yield function bo(v,f){return Gf.apply(this,arguments)}(m._delegate,xs);return I?ln(m._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Ds(v,f){on(v)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,I,D){const{next:S,error:P,complete:H}=Md(m,I,D);return this._delegate.onAuthStateChanged(S,P,H)}onIdTokenChanged(m,I,D){const{next:S,error:P,complete:H}=Md(m,I,D);return this._delegate.onIdTokenChanged(S,P,H)}sendSignInLinkToEmail(m,I){return function qx(v,f,m){return ny.apply(this,arguments)}(this._delegate,m,I)}sendPasswordResetEmail(m,I){return function Gi(v,f,m){return yi.apply(this,arguments)}(this._delegate,m,I||void 0)}setPersistence(m){var I=this;return(0,d.Z)(function*(){let D;switch(function Ry(v,f){Ll(Object.values(mr).includes(f),v,"invalid-persistence-type"),(0,z.b$)()?Ll(f!==mr.SESSION,v,"unsupported-persistence-type"):(0,z.UG)()?Ll(f===mr.NONE,v,"unsupported-persistence-type"):yc()?Ll(f===mr.NONE||f===mr.LOCAL&&(0,z.hl)(),v,"unsupported-persistence-type"):Ll(f===mr.NONE||ya(),v,"unsupported-persistence-type")}(I._delegate,m),m){case mr.SESSION:D=ps;break;case mr.LOCAL:D=(yield wt(vl)._isAvailable())?vl:ld;break;case mr.NONE:D=Ln;break;default:return Te("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ln(this._delegate,function Ie(v){return et.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ln(this._delegate,ss(this._delegate,m))}signInWithCustomToken(m){return ln(this._delegate,function st(v,f){return id.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,I){return ln(this._delegate,function Rg(v,f,m){return ss((0,z.m9)(v),gf.credential(f,m)).catch(function(){var I=(0,d.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&Vn(v),D});return function(D){return I.apply(this,arguments)}}())}(this._delegate,m,I))}signInWithEmailLink(m,I){return ln(this._delegate,function Zx(v,f,m){return iy.apply(this,arguments)}(this._delegate,m,I))}signInWithPhoneNumber(m,I){return Ss(this._delegate,function py(v,f,m){return wl.apply(this,arguments)}(this._delegate,m,I))}signInWithPopup(m){var I=this;return(0,d.Z)(function*(){return fi(Td(),I._delegate,"operation-not-supported-in-this-environment"),ln(I._delegate,function gy(v,f,m){return uc.apply(this,arguments)}(I._delegate,m,xs))})()}signInWithRedirect(m){var I=this;return(0,d.Z)(function*(){return fi(Td(),I._delegate,"operation-not-supported-in-this-environment"),yield Ad(I._delegate),md(I._delegate,m,xs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Pw(v,f){return ml.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=mr,v})();function Md(v,f,m){let I=v;"function"!=typeof v&&({next:I,error:f,complete:m}=v);const D=I;return{next:P=>D(P&&Ho.getOrCreate(P)),error:f,complete:m}}function sp(v,f){const m=function l_(v,f){const m=op();if(!m)return[];const I=ni(ip,v,f);switch(m.getItem(I)){case mr.NONE:return[Ln];case mr.LOCAL:return[vl,ps];case mr.SESSION:return[ps];default:return[]}}(v,f);if(typeof self<"u"&&!m.includes(vl)&&m.push(vl),typeof window<"u")for(const I of[ld,ps])m.includes(I)||m.push(I);return m.includes(Ln)||m.push(Ln),m}class Ea{constructor(){this.providerId="phone",this._delegate=new lc(gr(de.Z.auth()))}static credential(f,m){return lc.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ea.PHONE_SIGN_IN_METHOD=lc.PHONE_SIGN_IN_METHOD,Ea.PROVIDER_ID=lc.PROVIDER_ID;const My=N;class ap{constructor(f,m,I=de.Z.app()){var D;My(null===(D=I.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new hy(I.auth(),f,m),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function u_(v){v.INTERNAL.registerComponent(new lt.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Bl(m,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:gf,FacebookAuthProvider:_f,GithubAuthProvider:ri,GoogleAuthProvider:Mt,OAuthProvider:nc,SAMLAuthProvider:hl,PhoneAuthProvider:Ea,PhoneMultiFactorGenerator:Sl,RecaptchaVerifier:ap,TwitterAuthProvider:Dg,Auth:Bl,AuthCredential:Xa,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.1")}(de.Z)},861:(rn,Ye,X)=>{function d(z,be,Se,ge,lt,Pt,je){try{var G=z[Pt](je),U=G.value}catch(ne){return void Se(ne)}G.done?be(U):Promise.resolve(U).then(ge,lt)}function de(z){return function(){var be=this,Se=arguments;return new Promise(function(ge,lt){var Pt=z.apply(be,Se);function je(U){d(Pt,ge,lt,je,G,"next",U)}function G(U){d(Pt,ge,lt,je,G,"throw",U)}je(void 0)})}}X.d(Ye,{Z:()=>de})},582:(rn,Ye,X)=>{function be(Q,J){var ae={};for(var oe in Q)Object.prototype.hasOwnProperty.call(Q,oe)&&J.indexOf(oe)<0&&(ae[oe]=Q[oe]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(oe=Object.getOwnPropertySymbols(Q);ce<oe.length;ce++)J.indexOf(oe[ce])<0&&Object.prototype.propertyIsEnumerable.call(Q,oe[ce])&&(ae[oe[ce]]=Q[oe[ce]])}return ae}function ne(Q,J,ae,oe){return new(ae||(ae=Promise))(function(he,it){function Ut(Wt){try{Qe(oe.next(Wt))}catch(On){it(On)}}function ti(Wt){try{Qe(oe.throw(Wt))}catch(On){it(On)}}function Qe(Wt){Wt.done?he(Wt.value):function ce(he){return he instanceof ae?he:new ae(function(it){it(he)})}(Wt.value).then(Ut,ti)}Qe((oe=oe.apply(Q,J||[])).next())})}function ht(Q){return this instanceof ht?(this.v=Q,this):new ht(Q)}function Te(Q,J,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,oe=ae.apply(Q,J||[]),he=[];return ce={},it("next"),it("throw"),it("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function it(Cn){oe[Cn]&&(ce[Cn]=function(Si){return new Promise(function(Ri,mn){he.push([Cn,Si,Ri,mn])>1||Ut(Cn,Si)})})}function Ut(Cn,Si){try{!function ti(Cn){Cn.value instanceof ht?Promise.resolve(Cn.value.v).then(Qe,Wt):On(he[0][2],Cn)}(oe[Cn](Si))}catch(Ri){On(he[0][3],Ri)}}function Qe(Cn){Ut("next",Cn)}function Wt(Cn){Ut("throw",Cn)}function On(Cn,Si){Cn(Si),he.shift(),he.length&&Ut(he[0][0],he[0][1])}}function qt(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,J=Q[Symbol.asyncIterator];return J?J.call(Q):(Q=function St(Q){var J="function"==typeof Symbol&&Symbol.iterator,ae=J&&Q[J],oe=0;if(ae)return ae.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&oe>=Q.length&&(Q=void 0),{value:Q&&Q[oe++],done:!Q}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ae={},oe("next"),oe("throw"),oe("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function oe(he){ae[he]=Q[he]&&function(it){return new Promise(function(Ut,ti){!function ce(he,it,Ut,ti){Promise.resolve(ti).then(function(Qe){he({value:Qe,done:Ut})},it)}(Ut,ti,(it=Q[he](it)).done,it.value)})}}}X.d(Ye,{FC:()=>Te,KL:()=>qt,_T:()=>be,mG:()=>ne,qq:()=>ht}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=535)}]);