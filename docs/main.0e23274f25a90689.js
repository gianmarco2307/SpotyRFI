"use strict";(self.webpackChunkSpotyRFI=self.webpackChunkSpotyRFI||[]).push([[792],{8407:(Pt,Ue,G)=>{G.d(Ue,{$:()=>Ao,A:()=>te,G:()=>He,K:()=>Ko,L:()=>xi,N:()=>pi,P:()=>Kc,R:()=>S,U:()=>jt,V:()=>ji,W:()=>wn,X:()=>ro,Y:()=>Oc,Z:()=>li,_:()=>$s,a:()=>$e,a0:()=>Kr,a1:()=>io,a2:()=>Lc,a3:()=>Fc,a4:()=>al,a5:()=>Yl,a6:()=>ih,a7:()=>cl,a8:()=>so,a9:()=>ts,aA:()=>De,aB:()=>ze,aC:()=>we,aD:()=>pv,aE:()=>st,aF:()=>Dn,aG:()=>tp,aH:()=>dv,aI:()=>ew,aJ:()=>er,aN:()=>Rs,aQ:()=>Ds,aa:()=>ea,ab:()=>dl,ac:()=>zu,ad:()=>Mo,ae:()=>Bc,af:()=>tc,ag:()=>Dr,ah:()=>jc,ak:()=>ta,al:()=>Gu,am:()=>rc,ap:()=>rh,aq:()=>Ie,as:()=>Qr,at:()=>ic,au:()=>Lt,av:()=>_s,aw:()=>Ga,ax:()=>Ye,ay:()=>fs,az:()=>Oa,b:()=>Oo,c:()=>lv,d:()=>cm,e:()=>cv,f:()=>Yu,g:()=>Le,h:()=>nw,i:()=>Xf,j:()=>fv,k:()=>gh,l:()=>_e,m:()=>mh,p:()=>Ke,r:()=>cn,s:()=>J,u:()=>qc});var R=G(467),d=G(7852),U=G(1076),le=G(8041),Te=G(1635),xe=G(1362);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ht=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new U.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new le.Vy("@firebase/auth");function Tn(I,...p){Tt.logLevel<=le.$b.ERROR&&Tt.error(`Auth (${d.SDK_VERSION}): ${I}`,...p)}function Ye(I,...p){throw Et(I,...p)}function ze(I,...p){return Et(I,...p)}function et(I,p,m){const T=Object.assign(Object.assign({},ht()),{[p]:m});return new U.FA("auth","Firebase",T).create(p,{appName:I.name})}function rt(I){return et(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lt(I,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ye(I,"argument-error"),et(I,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Et(I,...p){if("string"!=typeof I){const m=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(m,...T)}return ot.create(I,...p)}function we(I,p,...m){if(!I)throw Et(p,...m)}function Zt(I){const p="INTERNAL ASSERTION FAILED: "+I;throw Tn(p),new Error(p)}function Lt(I,p){I||Zt(p)}function Ir(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function wr(){return"http:"===zr()||"https:"===zr()}function zr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class hr{constructor(p,m){this.shortDelay=p,this.longDelay=m,Lt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.jZ)()||(0,U.lV)()}get(){return function Qn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wr()||(0,U.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ee(I,p){Lt(I.emulator,"Emulator should always be set here");const{url:m}=I.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ce{static initialize(p,m,T){this.fetchImpl=p,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pe=new hr(3e4,6e4);function Re(I,p){return I.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:I.tenantId}):p}function Me(I,p,m,T){return St.apply(this,arguments)}function St(){return(St=(0,R.A)(function*(I,p,m,T,N={}){return Xt(I,N,(0,R.A)(function*(){let W={},re={};T&&("GET"===p?re=T:W={body:JSON.stringify(T)});const ve=(0,U.Am)(Object.assign({key:I.config.apiKey},re)).slice(1),We=yield I._getAdditionalHeaders();return We["Content-Type"]="application/json",I.languageCode&&(We["X-Firebase-Locale"]=I.languageCode),Ce.fetch()(vn(I,I.config.apiHost,m,ve),Object.assign({method:p,headers:We,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Xt(I,p,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.A)(function*(I,p,m){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},Oe),p);try{const N=new xr(I),W=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const re=yield W.json();if("needConfirmation"in re)throw lr(I,"account-exists-with-different-credential",re);if(W.ok&&!("errorMessage"in re))return re;{const ve=W.ok?re.errorMessage:re.error.message,[We,bt]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw lr(I,"credential-already-in-use",re);if("EMAIL_EXISTS"===We)throw lr(I,"email-already-in-use",re);if("USER_DISABLED"===We)throw lr(I,"user-disabled",re);const Nt=T[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(bt)throw et(I,Nt,bt);Ye(I,Nt)}}catch(N){if(N instanceof U.g)throw N;Ye(I,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function At(I,p,m,T){return yn.apply(this,arguments)}function yn(){return(yn=(0,R.A)(function*(I,p,m,T,N={}){const W=yield Me(I,p,m,T,N);return"mfaPendingCredential"in W&&Ye(I,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function vn(I,p,m,T){const N=`${p}${m}?${T}`;return I.config.emulator?Ee(I.config,N):`${I.config.apiScheme}://${N}`}function En(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(ze(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lr(I,p,m){const T={appName:I.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const N=ze(I,p,T);return N.customData._tokenResponse=m,N}function Or(I){return void 0!==I&&void 0!==I.getResponse}function Xn(I){return void 0!==I&&void 0!==I.enterprise}class Ur{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===p)return En(m.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Wr(){return(Wr=(0,R.A)(function*(I){return(yield Me(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ir(I,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,R.A)(function*(I,p){return Me(I,"GET","/v2/recaptchaConfig",Re(I,p))})).apply(this,arguments)}function Ji(){return(Ji=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function qe(){return(qe=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xt(I,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function cr(I){if(I)try{const p=new Date(Number(I));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function xn(){return(xn=(0,R.A)(function*(I,p=!1){const m=(0,U.Ku)(I),T=yield m.getIdToken(p),N=Vt(T);we(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const W="object"==typeof N.firebase?N.firebase:void 0,re=W?.sign_in_provider;return{claims:N,token:T,authTime:cr(Ui(N.auth_time)),issuedAtTime:cr(Ui(N.iat)),expirationTime:cr(Ui(N.exp)),signInProvider:re||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Ui(I){return 1e3*Number(I)}function Vt(I){const[p,m,T]=I.split(".");if(void 0===p||void 0===m||void 0===T)return Tn("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,U.u)(m);return N?JSON.parse(N):(Tn("Failed to decode base64 JWT payload"),null)}catch(N){return Tn("Caught error parsing JWT payload as JSON",N?.toString()),null}}function fr(I){const p=Vt(I);return we(p,"internal-error"),we(typeof p.exp<"u","internal-error"),we(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Ot(I,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,R.A)(function*(I,p,m=!1){if(m)return p;try{return yield p}catch(T){throw T instanceof U.g&&function Zn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}class sr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,R.A)(function*(){yield m.iteration()}),T)}iteration(){var p=this;return(0,R.A)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class pr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=cr(this.lastLoginAt),this.creationTime=cr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ai(I){return Si.apply(this,arguments)}function Si(){return(Si=(0,R.A)(function*(I){var p;const m=I.auth,T=yield I.getIdToken(),N=yield Ot(I,xt(m,{idToken:T}));we(N?.users.length,m,"internal-error");const W=N.users[0];I._notifyReloadListener(W);const re=null!==(p=W.providerUserInfo)&&void 0!==p&&p.length?Y(W.providerUserInfo):[],ve=function ge(I,p){return[...I.filter(T=>!p.some(N=>N.providerId===T.providerId)),...p]}(I.providerData,re),Nt=!!I.isAnonymous&&!(I.email&&W.passwordHash||ve?.length),Pn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:ve,metadata:new pr(W.createdAt,W.lastLoginAt),isAnonymous:Nt};Object.assign(I,Pn)})).apply(this,arguments)}function ce(){return(ce=(0,R.A)(function*(I){const p=(0,U.Ku)(I);yield Ai(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Y(I){return I.map(p=>{var{providerId:m}=p,T=(0,Te.Tt)(p,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function K(){return(K=(0,R.A)(function*(I,p){const m=yield Xt(I,{},(0,R.A)(function*(){const T=(0,U.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:W}=I.config,re=vn(I,N,"/v1/token",`key=${W}`),ve=yield I._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",Ce.fetch()(re,{method:"POST",headers:ve,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,R.A)(function*(I,p){return Me(I,"POST","/v2/accounts:revokeToken",Re(I,p))})).apply(this,arguments)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){we(p.idToken,"internal-error"),we(typeof p.idToken<"u","internal-error"),we(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):fr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}updateFromIdToken(p){we(0!==p.length,"internal-error");const m=fr(p);this.updateTokensAndExpiration(p,null,m)}getToken(p,m=!1){var T=this;return(0,R.A)(function*(){return m||!T.accessToken||T.isExpired?(we(T.refreshToken,p,"user-token-expired"),T.refreshToken?(yield T.refresh(p,T.refreshToken),T.accessToken):null):T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var T=this;return(0,R.A)(function*(){const{accessToken:N,refreshToken:W,expiresIn:re}=yield function se(I,p){return K.apply(this,arguments)}(p,m);T.updateTokensAndExpiration(N,W,Number(re))})()}updateTokensAndExpiration(p,m,T){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,m){const{refreshToken:T,accessToken:N,expirationTime:W}=m,re=new z;return T&&(we("string"==typeof T,"internal-error",{appName:p}),re.refreshToken=T),N&&(we("string"==typeof N,"internal-error",{appName:p}),re.accessToken=N),W&&(we("number"==typeof W,"internal-error",{appName:p}),re.expirationTime=W),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function B(I,p){we("string"==typeof I||typeof I>"u","internal-error",{appName:p})}class oe{constructor(p){var{uid:m,auth:T,stsTokenManager:N}=p,W=(0,Te.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new pr(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,R.A)(function*(){const T=yield Ot(m,m.stsTokenManager.getToken(m.auth,p));return we(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(p){return function Gn(I){return xn.apply(this,arguments)}(this,p)}reload(){return function Ri(I){return ce.apply(this,arguments)}(this)}_assign(p){this!==p&&(we(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new oe(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var T=this;return(0,R.A)(function*(){let N=!1;p.idToken&&p.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(p),N=!0),m&&(yield Ai(T)),yield T.auth._persistUserIfCurrent(T),N&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var p=this;return(0,R.A)(function*(){if((0,d._isFirebaseServerApp)(p.auth.app))return Promise.reject(rt(p.auth));const m=yield p.getIdToken();return yield Ot(p,function Vi(I,p){return Ji.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var T,N,W,re,ve,We,bt,Nt;const Pn=null!==(T=m.displayName)&&void 0!==T?T:void 0,Ci=null!==(N=m.email)&&void 0!==N?N:void 0,ka=null!==(W=m.phoneNumber)&&void 0!==W?W:void 0,La=null!==(re=m.photoURL)&&void 0!==re?re:void 0,lp=null!==(ve=m.tenantId)&&void 0!==ve?ve:void 0,cp=null!==(We=m._redirectEventId)&&void 0!==We?We:void 0,El=null!==(bt=m.createdAt)&&void 0!==bt?bt:void 0,aa=null!==(Nt=m.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:up,emailVerified:Eh,isAnonymous:Ih,providerData:Fa,stsTokenManager:la}=m;we(up&&la,p,"internal-error");const di=z.fromJSON(this.name,la);we("string"==typeof up,p,"internal-error"),B(Pn,p.name),B(Ci,p.name),we("boolean"==typeof Eh,p,"internal-error"),we("boolean"==typeof Ih,p,"internal-error"),B(ka,p.name),B(La,p.name),B(lp,p.name),B(cp,p.name),B(El,p.name),B(aa,p.name);const ed=new oe({uid:up,auth:p,email:Ci,emailVerified:Eh,displayName:Pn,isAnonymous:Ih,photoURL:La,phoneNumber:ka,tenantId:lp,stsTokenManager:di,createdAt:El,lastLoginAt:aa});return Fa&&Array.isArray(Fa)&&(ed.providerData=Fa.map(wh=>Object.assign({},wh))),cp&&(ed._redirectEventId=cp),ed}static _fromIdTokenResponse(p,m,T=!1){return(0,R.A)(function*(){const N=new z;N.updateFromServerResponse(m);const W=new oe({uid:m.localId,auth:p,stsTokenManager:N,isAnonymous:T});return yield Ai(W),W})()}static _fromGetAccountInfoResponse(p,m,T){return(0,R.A)(function*(){const N=m.users[0];we(void 0!==N.localId,"internal-error");const W=void 0!==N.providerUserInfo?Y(N.providerUserInfo):[],re=!(N.email&&N.passwordHash||W?.length),ve=new z;ve.updateFromIdToken(T);const We=new oe({uid:N.localId,auth:p,stsTokenManager:ve,isAnonymous:re}),bt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:W,metadata:new pr(N.createdAt,N.lastLoginAt),isAnonymous:!(N.email&&N.passwordHash||W?.length)};return Object.assign(We,bt),We})()}}const Ne=new Map;function st(I){Lt(I instanceof Function,"Expected a class definition");let p=Ne.get(I);return p?(Lt(p instanceof I,"Instance stored in cache mismatched with class"),p):(p=new I,Ne.set(I,p),p)}const jt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.A)(function*(){return!0})()}_set(m,T){var N=this;return(0,R.A)(function*(){N.storage[m]=T})()}_get(m){var T=this;return(0,R.A)(function*(){const N=T.storage[m];return void 0===N?null:N})()}_remove(m){var T=this;return(0,R.A)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return I.type="NONE",I})();function Dn(I,p,m){return`firebase:${I}:${p}:${m}`}class Dt{constructor(p,m,T){this.persistence=p,this.auth=m,this.userKey=T;const{config:N,name:W}=this.auth;this.fullUserKey=Dn(this.userKey,N.apiKey,W),this.fullPersistenceKey=Dn("persistence",N.apiKey,W),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,R.A)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?oe._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,R.A)(function*(){if(m.persistence===p)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,T="authUser"){return(0,R.A)(function*(){if(!m.length)return new Dt(st(jt),p,T);const N=(yield Promise.all(m.map(function(){var bt=(0,R.A)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return bt.apply(this,arguments)}}()))).filter(bt=>bt);let W=N[0]||st(jt);const re=Dn(T,p.config.apiKey,p.name);let ve=null;for(const bt of m)try{const Nt=yield bt._get(re);if(Nt){const Pn=oe._fromJSON(p,Nt);bt!==W&&(ve=Pn),W=bt;break}}catch{}const We=N.filter(bt=>bt._shouldAllowMigration);return W._shouldAllowMigration&&We.length?(W=We[0],ve&&(yield W._set(re,ve.toJSON())),yield Promise.all(m.map(function(){var bt=(0,R.A)(function*(Nt){if(Nt!==W)try{yield Nt._remove(re)}catch{}});return function(Nt){return bt.apply(this,arguments)}}())),new Dt(W,p,T)):new Dt(W,p,T)})()}}function ft(I){const p=I.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(zl(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(hn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(An(p))return"Blackberry";if(qa(p))return"Webos";if(Zr(p))return"Safari";if((p.includes("chrome/")||Wo(p))&&!p.includes("edge/"))return"Chrome";if(Ga(p))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function hn(I=(0,U.ZQ)()){return/firefox\//i.test(I)}function Zr(I=(0,U.ZQ)()){const p=I.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Wo(I=(0,U.ZQ)()){return/crios\//i.test(I)}function zl(I=(0,U.ZQ)()){return/iemobile/i.test(I)}function Ga(I=(0,U.ZQ)()){return/android/i.test(I)}function An(I=(0,U.ZQ)()){return/blackberry/i.test(I)}function qa(I=(0,U.ZQ)()){return/webos/i.test(I)}function _s(I=(0,U.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function De(I=(0,U.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function gt(I=(0,U.ZQ)()){return _s(I)||Ga(I)||qa(I)||An(I)||/windows phone/i.test(I)||zl(I)}function Gt(I,p=[]){let m;switch(I){case"Browser":m=ft((0,U.ZQ)());break;case"Worker":m=`${ft((0,U.ZQ)())}-${I}`;break;default:m=I}const T=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${d.SDK_VERSION}/${T}`}class on{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const T=W=>new Promise((re,ve)=>{try{re(p(W))}catch(We){ve(We)}});T.onAbort=m,this.queue.push(T);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,R.A)(function*(){if(m.auth.currentUser===p)return;const T=[];try{for(const N of m.queue)yield N(p),N.onAbort&&T.push(N.onAbort)}catch(N){T.reverse();for(const W of T)try{W()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}function On(){return(On=(0,R.A)(function*(I,p={}){return Me(I,"GET","/v2/passwordPolicy",Re(I,p))})).apply(this,arguments)}class ys{constructor(p){var m,T,N,W;const re=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=re.minPasswordLength)&&void 0!==m?m:6,re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=re.maxPasswordLength),void 0!==re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=re.containsLowercaseCharacter),void 0!==re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=re.containsUppercaseCharacter),void 0!==re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=re.containsNumericCharacter),void 0!==re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=re.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(N=null===(T=p.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==N?N:"",this.forceUpgradeOnSignin=null!==(W=p.forceUpgradeOnSignin)&&void 0!==W&&W,this.schemaVersion=p.schemaVersion}validatePassword(p){var m,T,N,W,re,ve;const We={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,We),this.validatePasswordCharacterOptions(p,We),We.isValid&&(We.isValid=null===(m=We.meetsMinPasswordLength)||void 0===m||m),We.isValid&&(We.isValid=null===(T=We.meetsMaxPasswordLength)||void 0===T||T),We.isValid&&(We.isValid=null===(N=We.containsLowercaseLetter)||void 0===N||N),We.isValid&&(We.isValid=null===(W=We.containsUppercaseLetter)||void 0===W||W),We.isValid&&(We.isValid=null===(re=We.containsNumericCharacter)||void 0===re||re),We.isValid&&(We.isValid=null===(ve=We.containsNonAlphanumericCharacter)||void 0===ve||ve),We}validatePasswordLengthOptions(p,m){const T=this.customStrengthOptions.minPasswordLength,N=this.customStrengthOptions.maxPasswordLength;T&&(m.meetsMinPasswordLength=p.length>=T),N&&(m.meetsMaxPasswordLength=p.length<=N)}validatePasswordCharacterOptions(p,m){let T;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let N=0;N<p.length;N++)T=p.charAt(N),this.updatePasswordCharacterOptionsStatuses(m,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(p,m,T,N,W){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=N)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=W))}}class Eo{constructor(p,m,T,N){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=T,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bs(this),this.idTokenSubscription=new Bs(this),this.beforeStateQueue=new on(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(p,m){var T=this;return m&&(this._popupRedirectResolver=st(m)),this._initializationPromise=this.queue((0,R.A)(function*(){var N,W;if(!T._deleted&&(T.persistenceManager=yield Dt.create(T,p),!T._deleted)){if(null!==(N=T._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(W=T.currentUser)||void 0===W?void 0:W.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,R.A)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(p){var m=this;return(0,R.A)(function*(){try{const T=yield xt(m,{idToken:p}),N=yield oe._fromGetAccountInfoResponse(m,T,p);yield m.directlySetCurrentUser(N)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var m=this;return(0,R.A)(function*(){var T;if((0,d._isFirebaseServerApp)(m.app)){const ve=m.app.settings.authIdToken;return ve?new Promise(We=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(ve).then(We,We))}):m.directlySetCurrentUser(null)}const N=yield m.assertedPersistence.getCurrentUser();let W=N,re=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ve=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,We=W?._redirectEventId,bt=yield m.tryRedirectSignIn(p);(!ve||ve===We)&&bt?.user&&(W=bt.user,re=!0)}if(!W)return m.directlySetCurrentUser(null);if(!W._redirectEventId){if(re)try{yield m.beforeStateQueue.runMiddleware(W)}catch(ve){W=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ve))}return W?m.reloadAndSetCurrentUserOrClear(W):m.directlySetCurrentUser(null)}return we(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===W._redirectEventId?m.directlySetCurrentUser(W):m.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(p){var m=this;return(0,R.A)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,R.A)(function*(){try{yield Ai(p)}catch(T){if("auth/network-request-failed"!==T?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function oi(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var p=this;return(0,R.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,R.A)(function*(){if((0,d._isFirebaseServerApp)(m.app))return Promise.reject(rt(m));const T=p?(0,U.Ku)(p):null;return T&&we(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(p,m=!1){var T=this;return(0,R.A)(function*(){if(!T._deleted)return p&&we(T.tenantId===p.tenantId,T,"tenant-id-mismatch"),m||(yield T.beforeStateQueue.runMiddleware(p)),T.queue((0,R.A)(function*(){yield T.directlySetCurrentUser(p),T.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,R.A)(function*(){return(0,d._isFirebaseServerApp)(p.app)?Promise.reject(rt(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var m=this;return(0,d._isFirebaseServerApp)(this.app)?Promise.reject(rt(this)):this.queue((0,R.A)(function*(){yield m.assertedPersistence.setPersistence(st(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var m=this;return(0,R.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const T=m._getPasswordPolicyInternal();return T.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,R.A)(function*(){const m=yield function Jn(I){return On.apply(this,arguments)}(p),T=new ys(m);null===p.tenantId?p._projectPasswordPolicy=T:p._tenantPasswordPolicies[p.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.FA("auth","Firebase",p())}onAuthStateChanged(p,m,T){return this.registerStateListener(this.authStateSubscription,p,m,T)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,T){return this.registerStateListener(this.idTokenSubscription,p,m,T)}authStateReady(){return new Promise((p,m)=>{if(this.currentUser)p();else{const T=this.onAuthStateChanged(()=>{T(),p()},m)}})}revokeAccessToken(p){var m=this;return(0,R.A)(function*(){if(m.currentUser){const T=yield m.currentUser.getIdToken(),N={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:T};null!=m.tenantId&&(N.tenantId=m.tenantId),yield function Q(I,p){return H.apply(this,arguments)}(m,N)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var T=this;return(0,R.A)(function*(){const N=yield T.getOrInitRedirectPersistenceManager(m);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,R.A)(function*(){if(!m.redirectPersistenceManager){const T=p&&st(p)||m._popupRedirectResolver;we(T,m,"argument-error"),m.redirectPersistenceManager=yield Dt.create(m,[st(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,R.A)(function*(){var T,N;return m._isInitialized&&(yield m.queue((0,R.A)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===p?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,R.A)(function*(){if(p===m.currentUser)return m.queue((0,R.A)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,T,N){if(this._deleted)return()=>{};const W="function"==typeof m?m:m.next.bind(m);let re=!1;const ve=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(ve,this,"internal-error"),ve.then(()=>{re||W(this.currentUser)}),"function"==typeof m){const We=p.addObserver(m,T,N);return()=>{re=!0,We()}}{const We=p.addObserver(m);return()=>{re=!0,We()}}}directlySetCurrentUser(p){var m=this;return(0,R.A)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,R.A)(function*(){var m;const T={"X-Client-Version":p.clientVersion};p.app.options.appId&&(T["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();N&&(T["X-Firebase-Client"]=N);const W=yield p._getAppCheckToken();return W&&(T["X-Firebase-AppCheck"]=W),T})()}_getAppCheckToken(){var p=this;return(0,R.A)(function*(){var m;const T=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return T?.error&&function gn(I,...p){Tt.logLevel<=le.$b.WARN&&Tt.warn(`Auth (${d.SDK_VERSION}): ${I}`,...p)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function er(I){return(0,U.Ku)(I)}class Bs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.tD)(m=>this.observer=m)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ys={loadJS:()=>(0,R.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ka(I){return Ys.loadJS(I)}function Go(I){return`__${I}${Math.floor(1e6*Math.random())}`}class vs{constructor(p){this.type="recaptcha-enterprise",this.auth=er(p)}verify(p="verify",m=!1){var T=this;return(0,R.A)(function*(){function W(){return W=(0,R.A)(function*(ve){if(!m){if(null==ve.tenantId&&null!=ve._agentRecaptchaConfig)return ve._agentRecaptchaConfig.siteKey;if(null!=ve.tenantId&&void 0!==ve._tenantRecaptchaConfigs[ve.tenantId])return ve._tenantRecaptchaConfigs[ve.tenantId].siteKey}return new Promise(function(){var We=(0,R.A)(function*(bt,Nt){ir(ve,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pn=>{if(void 0!==Pn.recaptchaKey){const Ci=new Ur(Pn);return null==ve.tenantId?ve._agentRecaptchaConfig=Ci:ve._tenantRecaptchaConfigs[ve.tenantId]=Ci,bt(Ci.siteKey)}Nt(new Error("recaptcha Enterprise site key undefined"))}).catch(Pn=>{Nt(Pn)})});return function(bt,Nt){return We.apply(this,arguments)}}())}),W.apply(this,arguments)}function re(ve,We,bt){const Nt=window.grecaptcha;Xn(Nt)?Nt.enterprise.ready(()=>{Nt.enterprise.execute(ve,{action:p}).then(Pn=>{We(Pn)}).catch(()=>{We("NO_RECAPTCHA")})}):bt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ve,We)=>{(function N(ve){return W.apply(this,arguments)})(T.auth).then(bt=>{if(!m&&Xn(window.grecaptcha))re(bt,ve,We);else{if(typeof window>"u")return void We(new Error("RecaptchaVerifier is only supported in browser"));let Nt=function Gl(){return Ys.recaptchaEnterpriseScript}();0!==Nt.length&&(Nt+=bt),Ka(Nt).then(()=>{re(bt,ve,We)}).catch(Pn=>{We(Pn)})}}).catch(bt=>{We(bt)})})})()}}function Qa(I,p,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,R.A)(function*(I,p,m,T=!1){const N=new vs(I);let W;try{W=yield N.verify(m)}catch{W=yield N.verify(m,!0)}const re=Object.assign({},p);return Object.assign(re,T?{captchaResp:W}:{captchaResponse:W}),Object.assign(re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),re})).apply(this,arguments)}function br(I,p,m,T){return qo.apply(this,arguments)}function qo(){return qo=(0,R.A)(function*(I,p,m,T){var N;if(null!==(N=I._getRecaptchaConfig())&&void 0!==N&&N.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const W=yield Qa(I,p,m,"getOobCode"===m);return T(I,W)}return T(I,p).catch(function(){var W=(0,R.A)(function*(re){if("auth/missing-recaptcha-token"===re.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ve=yield Qa(I,p,m,"getOobCode"===m);return T(I,ve)}return Promise.reject(re)});return function(re){return W.apply(this,arguments)}}())}),qo.apply(this,arguments)}function Ko(I,p,m){const T=er(I);we(T._canInitEmulator,T,"emulator-config-failed"),we(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const N=!!m?.disableWarnings,W=Es(p),{host:re,port:ve}=function es(I){const p=Es(I),m=/(\/\/)?([^?#/]+)/.exec(I.substr(p.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(T);if(N){const W=N[1];return{host:W,port:Io(T.substr(W.length+1))}}{const[W,re]=T.split(":");return{host:W,port:Io(re)}}}(p);T.config.emulator={url:`${W}//${re}${null===ve?"":`:${ve}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:re,port:ve,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function an(){function I(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Es(I){const p=I.indexOf(":");return p<0?"":I.substr(0,p+1)}function Io(I){if(!I)return null;const p=Number(I);return isNaN(p)?null:p}class xi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Zt("not implemented")}_getIdTokenResponse(p){return Zt("not implemented")}_linkToIdToken(p,m){return Zt("not implemented")}_getReauthenticationResolver(p){return Zt("not implemented")}}function Ta(I,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:resetPassword",Re(I,p))})).apply(this,arguments)}function Ya(){return(Ya=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function eh(I,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Qo(){return(Qo=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:update",Re(I,p))})).apply(this,arguments)}function ql(I,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signInWithPassword",Re(I,p))})).apply(this,arguments)}function To(I,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:sendOobCode",Re(I,p))})).apply(this,arguments)}function Js(){return(Js=(0,R.A)(function*(I,p){return To(I,p)})).apply(this,arguments)}function Jr(I,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,R.A)(function*(I,p){return To(I,p)})).apply(this,arguments)}function qr(I,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,R.A)(function*(I,p){return To(I,p)})).apply(this,arguments)}function eo(){return(eo=(0,R.A)(function*(I,p){return To(I,p)})).apply(this,arguments)}function gr(){return(gr=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signInWithEmailLink",Re(I,p))})).apply(this,arguments)}function el(){return(el=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signInWithEmailLink",Re(I,p))})).apply(this,arguments)}class to extends xi{constructor(p,m,T,N=null){super("password",T),this._email=p,this._password=m,this._tenantId=N}static _fromEmailAndPassword(p,m){return new to(p,m,"password")}static _fromEmailAndCode(p,m,T=null){return new to(p,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,R.A)(function*(){switch(m.signInMethod){case"password":return br(p,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ql);case"emailLink":return function Bi(I,p){return gr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ye(p,"internal-error")}})()}_linkToIdToken(p,m){var T=this;return(0,R.A)(function*(){switch(T.signInMethod){case"password":return br(p,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eh);case"emailLink":return function us(I,p){return el.apply(this,arguments)}(p,{idToken:m,email:T._email,oobCode:T._password});default:Ye(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ws(I,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signInWithIdp",Re(I,p))})).apply(this,arguments)}class pi extends xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new pi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ye("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:N}=m,W=(0,Te.Tt)(m,["providerId","signInMethod"]);if(!T||!N)return null;const re=new pi(T,N);return re.idToken=W.idToken||void 0,re.accessToken=W.accessToken||void 0,re.secret=W.secret,re.nonce=W.nonce,re.pendingToken=W.pendingToken||null,re}_getIdTokenResponse(p){return ws(p,this.buildRequest())}_linkToIdToken(p,m){const T=this.buildRequest();return T.idToken=m,ws(p,T)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ws(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,U.Am)(m)}return p}}function Ts(){return(Ts=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:sendVerificationCode",Re(I,p))})).apply(this,arguments)}function Un(){return(Un=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,p))})).apply(this,arguments)}function ba(){return(ba=(0,R.A)(function*(I,p){const m=yield At(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,p));if(m.temporaryProof)throw lr(I,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Co={USER_NOT_FOUND:"user-not-found"};function Yo(){return(Yo=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signInWithPhoneNumber",Re(I,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Co)})).apply(this,arguments)}class js extends xi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new js({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new js({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function xc(I,p){return Un.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function bs(I,p){return ba.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function no(I,p){return Yo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:T,verificationCode:N}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:T,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:T,phoneNumber:N,temporaryProof:W}=p;return T||m||N||W?new js({verificationId:m,verificationCode:T,phoneNumber:N,temporaryProof:W}):null}}class gi{constructor(p){var m,T,N,W,re,ve;const We=(0,U.I9)((0,U.hp)(p)),bt=null!==(m=We.apiKey)&&void 0!==m?m:null,Nt=null!==(T=We.oobCode)&&void 0!==T?T:null,Pn=function nh(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=We.mode)&&void 0!==N?N:null);we(bt&&Nt&&Pn,"argument-error"),this.apiKey=bt,this.operation=Pn,this.code=Nt,this.continueUrl=null!==(W=We.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(re=We.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(ve=We.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const m=function tl(I){const p=(0,U.I9)((0,U.hp)(I)).link,m=p?(0,U.I9)((0,U.hp)(p)).deep_link_id:null,T=(0,U.I9)((0,U.hp)(I)).deep_link_id;return(T?(0,U.I9)((0,U.hp)(T)).link:null)||T||m||p||I}(p);try{return new gi(m)}catch{return null}}}let ji=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(m,T){return to._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const N=gi.parseLink(T);return we(N,"argument-error"),to._fromEmailAndCode(m,N.code,N.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Cs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Do extends Cs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class li extends Do{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return we("providerId"in m&&"signInMethod"in m,"argument-error"),pi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return we(p.idToken||p.accessToken,"argument-error"),pi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return li.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return li.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:N,pendingToken:W,nonce:re,providerId:ve}=p;if(!T&&!N&&!m&&!W||!ve)return null;try{return new li(ve)._credential({idToken:m,accessToken:T,nonce:re,pendingToken:W})}catch{return null}}}let wn=(()=>{class I extends Do{constructor(){super("facebook.com")}static credential(m){return pi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ro=(()=>{class I extends Do{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return pi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:N}=m;if(!T&&!N)return null;try{return I.credential(T,N)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Oc=(()=>{class I extends Do{constructor(){super("github.com")}static credential(m){return pi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ds extends xi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ws(p,this.buildRequest())}_linkToIdToken(p,m){const T=this.buildRequest();return T.idToken=m,ws(p,T)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ws(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:N,pendingToken:W}=m;return T&&N&&W&&T===N?new Ds(T,W):null}static _create(p,m){return new Ds(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $s extends Cs{constructor(p){we(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return $s.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return $s.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Ds.fromJSON(p);return we(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:T}=p;if(!m||!T)return null;try{return Ds._create(T,m)}catch{return null}}}let Ao=(()=>{class I extends Do{constructor(){super("twitter.com")}static credential(m,T){return pi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:N}=m;if(!T||!N)return null;try{return I.credential(T,N)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Hu(I,p){return Da.apply(this,arguments)}function Da(){return(Da=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signUp",Re(I,p))})).apply(this,arguments)}class $i{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,T,N=!1){return(0,R.A)(function*(){const W=yield oe._fromIdTokenResponse(p,T,N),re=rl(T);return new $i({user:W,providerId:re,_tokenResponse:T,operationType:m})})()}static _forOperation(p,m,T){return(0,R.A)(function*(){yield p._updateTokensIfNecessary(T,!0);const N=rl(T);return new $i({user:p,providerId:N,_tokenResponse:T,operationType:m})})()}}function rl(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Kr(I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,R.A)(function*(I){var p;if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const m=er(I);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new $i({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield Hu(m,{returnSecureToken:!0}),N=yield $i._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class ds extends U.g{constructor(p,m,T,N){var W;super(m.code,m.message),this.operationType=T,this.user=N,Object.setPrototypeOf(this,ds.prototype),this.customData={appName:p.name,tenantId:null!==(W=p.tenantId)&&void 0!==W?W:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(p,m,T,N){return new ds(p,m,T,N)}}function il(I,p,m,T){return("reauthenticate"===p?m._getReauthenticationResolver(I):m._getIdTokenResponse(I)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?ds._fromErrorAndOperation(I,W,p,T):W})}function Ql(I){return new Set(I.map(({providerId:p})=>p).filter(p=>!!p))}function rh(I,p){return sl.apply(this,arguments)}function sl(){return sl=(0,R.A)(function*(I,p){const m=(0,U.Ku)(I);yield Jo(!0,m,p);const{providerUserInfo:T}=yield function Mt(I,p){return qe.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),N=Ql(T||[]);return m.providerData=m.providerData.filter(W=>N.has(W.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),sl.apply(this,arguments)}function mi(I,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,R.A)(function*(I,p,m=!1){const T=yield Ot(I,p._linkToIdToken(I.auth,yield I.getIdToken()),m);return $i._forOperation(I,"link",T)})).apply(this,arguments)}function Jo(I,p,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,R.A)(function*(I,p,m){yield Ai(p);const N=!1===I?"provider-already-linked":"no-such-provider";we(Ql(p.providerData).has(m)===I,p.auth,N)})).apply(this,arguments)}function zs(I,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,R.A)(function*(I,p,m=!1){const{auth:T}=I;if((0,d._isFirebaseServerApp)(T.app))return Promise.reject(rt(T));const N="reauthenticate";try{const W=yield Ot(I,il(T,N,p,I),m);we(W.idToken,T,"internal-error");const re=Vt(W.idToken);we(re,T,"internal-error");const{sub:ve}=re;return we(I.uid===ve,T,"user-mismatch"),$i._forOperation(I,N,W)}catch(W){throw"auth/user-not-found"===W?.code&&Ye(T,"user-mismatch"),W}})).apply(this,arguments)}function ol(I,p){return So.apply(this,arguments)}function So(){return(So=(0,R.A)(function*(I,p,m=!1){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const T="signIn",N=yield il(I,T,p),W=yield $i._fromIdTokenResponse(I,T,N);return m||(yield I._updateCurrentUser(W.user)),W})).apply(this,arguments)}function io(I,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,R.A)(function*(I,p){return ol(er(I),p)})).apply(this,arguments)}function Lc(I,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,R.A)(function*(I,p){const m=(0,U.Ku)(I);return yield Jo(!1,m,p.providerId),mi(m,p)})).apply(this,arguments)}function Fc(I,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,R.A)(function*(I,p){return zs((0,U.Ku)(I),p)})).apply(this,arguments)}function Sa(){return(Sa=(0,R.A)(function*(I,p){return At(I,"POST","/v1/accounts:signInWithCustomToken",Re(I,p))})).apply(this,arguments)}function al(I,p){return As.apply(this,arguments)}function As(){return As=(0,R.A)(function*(I,p){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const m=er(I),T=yield function Uc(I,p){return Sa.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),N=yield $i._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(N.user),N}),As.apply(this,arguments)}class rn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Nr._fromServerResponse(p,m):"totpInfo"in m?Cr._fromServerResponse(p,m):Ye(p,"internal-error")}}class Nr extends rn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Nr(m)}}class Cr extends rn{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Cr(m)}}function Ti(I,p,m){var T;we((null===(T=m.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),we(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(we(m.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(we(m.android.packageName.length>0,I,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ci(I){return ll.apply(this,arguments)}function ll(){return(ll=(0,R.A)(function*(I){const p=er(I);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Yl(I,p,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,R.A)(function*(I,p,m){const T=er(I),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};m&&Ti(T,N,m),yield br(T,N,"getOobCode",Jr)})).apply(this,arguments)}function ih(I,p,m){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,R.A)(function*(I,p,m){yield Ta((0,U.Ku)(I),{oobCode:p,newPassword:m}).catch(function(){var T=(0,R.A)(function*(N){throw"auth/password-does-not-meet-requirements"===N.code&&ci(I),N});return function(N){return T.apply(this,arguments)}}())}),Zl.apply(this,arguments)}function cl(I,p){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,R.A)(function*(I,p){yield function Za(I,p){return Qo.apply(this,arguments)}((0,U.Ku)(I),{oobCode:p})}),Ro.apply(this,arguments)}function so(I,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,R.A)(function*(I,p){const m=(0,U.Ku)(I),T=yield Ta(m,{oobCode:p}),N=T.requestType;switch(we(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(T.mfaInfo,m,"internal-error");default:we(T.email,m,"internal-error")}let W=null;return T.mfaInfo&&(W=rn._fromServerResponse(er(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:W},operation:N}})).apply(this,arguments)}function ts(I,p){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,R.A)(function*(I,p){const{data:m}=yield so((0,U.Ku)(I),p);return m.email})).apply(this,arguments)}function ea(I,p,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,R.A)(function*(I,p,m){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const T=er(I),re=yield br(T,{returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hu).catch(We=>{throw"auth/password-does-not-meet-requirements"===We.code&&ci(I),We}),ve=yield $i._fromIdTokenResponse(T,"signIn",re);return yield T._updateCurrentUser(ve.user),ve})).apply(this,arguments)}function dl(I,p,m){return(0,d._isFirebaseServerApp)(I.app)?Promise.reject(rt(I)):io((0,U.Ku)(I),ji.credential(p,m)).catch(function(){var T=(0,R.A)(function*(N){throw"auth/password-does-not-meet-requirements"===N.code&&ci(I),N});return function(N){return T.apply(this,arguments)}}())}function zu(I,p,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,R.A)(function*(I,p,m){const T=er(I),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function W(re,ve){we(ve.handleCodeInApp,T,"argument-error"),ve&&Ti(T,re,ve)})(N,m),yield br(T,N,"getOobCode",qr)})).apply(this,arguments)}function Mo(I,p){const m=gi.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}function Bc(I,p,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,R.A)(function*(I,p,m){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const T=(0,U.Ku)(I),N=ji.credentialWithLink(p,m||Ir());return we(N._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),io(T,N)})).apply(this,arguments)}function hl(){return(hl=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:createAuthUri",Re(I,p))})).apply(this,arguments)}function tc(I,p){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,R.A)(function*(I,p){const T={identifier:p,continueUri:wr()?Ir():"http://localhost"},{signinMethods:N}=yield function ec(I,p){return hl.apply(this,arguments)}((0,U.Ku)(I),T);return N||[]}),Ss.apply(this,arguments)}function Dr(I,p){return ns.apply(this,arguments)}function ns(){return ns=(0,R.A)(function*(I,p){const m=(0,U.Ku)(I),N={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};p&&Ti(m.auth,N,p);const{email:W}=yield function Zs(I,p){return Js.apply(this,arguments)}(m.auth,N);W!==I.email&&(yield I.reload())}),ns.apply(this,arguments)}function jc(I,p,m){return $c.apply(this,arguments)}function $c(){return $c=(0,R.A)(function*(I,p,m){const T=(0,U.Ku)(I),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:p};m&&Ti(T.auth,W,m);const{email:re}=yield function Kt(I,p){return eo.apply(this,arguments)}(T.auth,W);re!==I.email&&(yield I.reload())}),$c.apply(this,arguments)}function nc(){return(nc=(0,R.A)(function*(I,p){return Me(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ta(I,p){return na.apply(this,arguments)}function na(){return na=(0,R.A)(function*(I,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const T=(0,U.Ku)(I),W={idToken:yield T.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},re=yield Ot(T,function Wu(I,p){return nc.apply(this,arguments)}(T.auth,W));T.displayName=re.displayName||null,T.photoURL=re.photoUrl||null;const ve=T.providerData.find(({providerId:We})=>"password"===We);ve&&(ve.displayName=T.displayName,ve.photoURL=T.photoURL),yield T._updateTokensIfNecessary(re)}),na.apply(this,arguments)}function Gu(I,p){const m=(0,U.Ku)(I);return(0,d._isFirebaseServerApp)(m.auth.app)?Promise.reject(rt(m.auth)):Ra(m,p,null)}function rc(I,p){return Ra((0,U.Ku)(I),null,p)}function Ra(I,p,m){return ao.apply(this,arguments)}function ao(){return ao=(0,R.A)(function*(I,p,m){const{auth:T}=I,W={idToken:yield I.getIdToken(),returnSecureToken:!0};p&&(W.email=p),m&&(W.password=m);const re=yield Ot(I,function Xa(I,p){return Ya.apply(this,arguments)}(T,W));yield I._updateTokensIfNecessary(re,!0)}),ao.apply(this,arguments)}class qs{constructor(p,m,T={}){this.isNewUser=p,this.providerId=m,this.profile=T}}class C extends qs{constructor(p,m,T,N){super(p,m,T),this.username=N}}class V extends qs{constructor(p,m){super(p,"facebook.com",m)}}class P extends C{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class k extends qs{constructor(p,m){super(p,"google.com",m)}}class Z extends C{constructor(p,m,T){super(p,"twitter.com",m,T)}}function Ie(I){const{user:p,_tokenResponse:m}=I;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Hc(I){var p,m;if(!I)return null;const{providerId:T}=I,N=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},W=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&I?.idToken){const re=null===(m=null===(p=Vt(I.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(re)return new qs(W,"anonymous"!==re&&"custom"!==re?re:null)}if(!T)return null;switch(T){case"facebook.com":return new V(W,N);case"github.com":return new P(W,N);case"google.com":return new k(W,N);case"twitter.com":return new Z(W,N,I.screenName||null);case"custom":case"anonymous":return new qs(W,null);default:return new qs(W,T,N)}}(m)}class or{constructor(p,m,T){this.type=p,this.credential=m,this.user=T}static _fromIdtoken(p,m){return new or("enroll",p,m)}static _fromMfaPendingCredential(p){return new or("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,T;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return or._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(T=p.multiFactorSession)&&void 0!==T&&T.idToken)return or._fromIdtoken(p.multiFactorSession.idToken)}return null}}class qn{constructor(p,m,T){this.session=p,this.hints=m,this.signInResolver=T}static _fromError(p,m){const T=er(p),N=m.customData._serverResponse,W=(N.mfaInfo||[]).map(ve=>rn._fromServerResponse(T,ve));we(N.mfaPendingCredential,T,"internal-error");const re=or._fromMfaPendingCredential(N.mfaPendingCredential);return new qn(re,W,function(){var ve=(0,R.A)(function*(We){const bt=yield We._process(T,re);delete N.mfaInfo,delete N.mfaPendingCredential;const Nt=Object.assign(Object.assign({},N),{idToken:bt.idToken,refreshToken:bt.refreshToken});switch(m.operationType){case"signIn":const Pn=yield $i._fromIdTokenResponse(T,m.operationType,Nt);return yield T._updateCurrentUser(Pn.user),Pn;case"reauthenticate":return we(m.user,T,"internal-error"),$i._forOperation(m.user,m.operationType,Nt);default:Ye(T,"internal-error")}});return function(We){return ve.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,R.A)(function*(){return m.signInResolver(p)})()}}function Qr(I,p){var m;const T=(0,U.Ku)(I),N=p;return we(p.customData.operationType,T,"argument-error"),we(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),qn._fromError(T,N)}class Pa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>rn._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new Pa(p)}getSession(){var p=this;return(0,R.A)(function*(){return or._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,m){var T=this;return(0,R.A)(function*(){const N=p,W=yield T.getSession(),re=yield Ot(T.user,N._process(T.user.auth,W,m));return yield T.user._updateTokensIfNecessary(re),T.user.reload()})()}unenroll(p){var m=this;return(0,R.A)(function*(){const T="string"==typeof p?p:p.uid,N=yield m.user.getIdToken();try{const W=yield Ot(m.user,function zt(I,p){return Me(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(I,p))}(m.user.auth,{idToken:N,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:re})=>re!==T),yield m.user._updateTokensIfNecessary(W),yield m.user.reload()}catch(W){throw W}})()}}const qu=new WeakMap;function ic(I){const p=(0,U.Ku)(I);return qu.has(p)||qu.set(p,Pa._fromUser(p)),qu.get(p)}const _r="__sak";class ei{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(_r,"1"),this.storage.removeItem(_r),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oo=(()=>{class I extends ei{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fl(){const I=(0,U.ZQ)();return Zr(I)||_s(I)}()&&function Wt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const N=this.storage.getItem(T),W=this.localCache[T];N!==W&&m(T,W,N)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((ve,We,bt)=>{this.notifyListeners(ve,bt)});const N=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(N);if(m.newValue!==ve)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!T)return}const W=()=>{const ve=this.storage.getItem(N);!T&&this.localCache[N]===ve||this.notifyListeners(N,ve)},re=this.storage.getItem(N);!function Fe(){return(0,U.lT)()&&10===document.documentMode}()||re===m.newValue||m.newValue===m.oldValue?W():setTimeout(W,10)}notifyListeners(m,T){this.localCache[m]=T;const N=this.listeners[m];if(N)for(const W of Array.from(N))W(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var N=()=>super._set,W=this;return(0,R.A)(function*(){yield N().call(W,m,T),W.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,N=this;return(0,R.A)(function*(){const W=yield T().call(N,m);return N.localCache[m]=JSON.stringify(W),W})()}_remove(m){var T=()=>super._remove,N=this;return(0,R.A)(function*(){yield T().call(N,m),delete N.localCache[m]})()}}return I.type="LOCAL",I})(),$e=(()=>{class I extends ei{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return I.type="SESSION",I})();let No=(()=>{class I{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(W=>W.isListeningto(m));if(T)return T;const N=new I(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,R.A)(function*(){const N=m,{eventId:W,eventType:re,data:ve}=N.data,We=T.handlersMap[re];if(!We?.size)return;N.ports[0].postMessage({status:"ack",eventId:W,eventType:re});const bt=Array.from(We).map(function(){var Pn=(0,R.A)(function*(Ci){return Ci(N.origin,ve)});return function(Ci){return Pn.apply(this,arguments)}}()),Nt=yield function ln(I){return Promise.all(I.map(function(){var p=(0,R.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return p.apply(this,arguments)}}()))}(bt);N.ports[0].postMessage({status:"done",eventId:W,eventType:re,response:Nt})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Rs(I="",p=10){let m="";for(let T=0;T<p;T++)m+=Math.floor(10*Math.random());return I+m}class _i{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,T=50){var N=this;return(0,R.A)(function*(){const W=typeof MessageChannel<"u"?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let re,ve;return new Promise((We,bt)=>{const Nt=Rs("",20);W.port1.start();const Pn=setTimeout(()=>{bt(new Error("unsupported_event"))},T);ve={messageChannel:W,onMessage(Ci){const ka=Ci;if(ka.data.eventId===Nt)switch(ka.data.status){case"ack":clearTimeout(Pn),re=setTimeout(()=>{bt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),We(ka.data.response);break;default:clearTimeout(Pn),clearTimeout(re),bt(new Error("invalid_response"))}}},N.handlers.add(ve),W.port1.addEventListener("message",ve.onMessage),N.target.postMessage({eventType:p,eventId:Nt,data:m},[W.port2])}).finally(()=>{ve&&N.removeMessageHandler(ve)})})()}}function kr(){return window}function jn(){return typeof kr().WorkerGlobalScope<"u"&&"function"==typeof kr().importScripts}function yi(){return(yi=(0,R.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ps="firebaseLocalStorageDb",Ni="firebaseLocalStorage",pl="fbase_key";class gl{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Qu(I,p){return I.transaction([Ni],p?"readwrite":"readonly").objectStore(Ni)}function Wc(){const I=indexedDB.open(Ps,1);return new Promise((p,m)=>{I.addEventListener("error",()=>{m(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(Ni,{keyPath:pl})}catch(N){m(N)}}),I.addEventListener("success",(0,R.A)(function*(){const T=I.result;T.objectStoreNames.contains(Ni)?p(T):(T.close(),yield function zc(){const I=indexedDB.deleteDatabase(Ps);return new gl(I).toPromise()}(),p(yield Wc()))}))})}function qf(I,p,m){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,R.A)(function*(I,p,m){const T=Qu(I,!0).put({[pl]:p,value:m});return new gl(T).toPromise()})).apply(this,arguments)}function sh(){return(sh=(0,R.A)(function*(I,p){const m=Qu(I,!1).get(p),T=yield new gl(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Kf(I,p){const m=Qu(I,!0).delete(p);return new gl(m).toPromise()}const Xf=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,R.A)(function*(){return m.db||(m.db=yield Wc()),m.db})()}_withRetries(m){var T=this;return(0,R.A)(function*(){let N=0;for(;;)try{const W=yield T._openDb();return yield m(W)}catch(W){if(N++>3)throw W;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,R.A)(function*(){return jn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,R.A)(function*(){m.receiver=No._getInstance(function xa(){return jn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,R.A)(function*(N,W){return{keyProcessed:(yield m._poll()).includes(W.key)}});return function(N,W){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,R.A)(function*(N,W){return["keyChanged"]});return function(N,W){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,R.A)(function*(){var T,N;if(m.activeServiceWorker=yield function ko(){return yi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new _i(m.activeServiceWorker);const W=yield m.sender._send("ping",{},800);W&&null!==(T=W[0])&&void 0!==T&&T.fulfilled&&null!==(N=W[0])&&void 0!==N&&N.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,R.A)(function*(){if(T.sender&&T.activeServiceWorker&&function Oi(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.A)(function*(){try{if(!indexedDB)return!1;const m=yield Wc();return yield qf(m,_r,"1"),yield Kf(m,_r),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,R.A)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var N=this;return(0,R.A)(function*(){return N._withPendingWrite((0,R.A)(function*(){return yield N._withRetries(W=>qf(W,m,T)),N.localCache[m]=T,N.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,R.A)(function*(){const N=yield T._withRetries(W=>function tv(I,p){return sh.apply(this,arguments)}(W,m));return T.localCache[m]=N,N})()}_remove(m){var T=this;return(0,R.A)(function*(){return T._withPendingWrite((0,R.A)(function*(){return yield T._withRetries(N=>Kf(N,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,R.A)(function*(){const T=yield m._withRetries(re=>{const ve=Qu(re,!1).getAll();return new gl(ve).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const N=[],W=new Set;if(0!==T.length)for(const{fbase_key:re,value:ve}of T)W.add(re),JSON.stringify(m.localCache[re])!==JSON.stringify(ve)&&(m.notifyListeners(re,ve),N.push(re));for(const re of Object.keys(m.localCache))m.localCache[re]&&!W.has(re)&&(m.notifyListeners(re,null),N.push(re));return N})()}notifyListeners(m,T){this.localCache[m]=T;const N=this.listeners[m];if(N)for(const W of Array.from(N))W(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,R.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),ml=1e12;class oh{constructor(p){this.auth=p,this.counter=ml,this._widgets=new Map}render(p,m){const T=this.counter;return this._widgets.set(T,new iv(p,this.auth.name,m||{})),this.counter++,T}reset(p){var m;const T=p||ml;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ml))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,R.A)(function*(){var T;return null===(T=m._widgets.get(p||ml))||void 0===T||T.execute(),""})()}}class iv{constructor(p,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;we(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sv(I){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yf=Go("rcb"),ov=new hr(3e4,6e4);class om{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=kr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return we(function Zf(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Or(kr().grecaptcha)?Promise.resolve(kr().grecaptcha):new Promise((T,N)=>{const W=kr().setTimeout(()=>{N(ze(p,"network-request-failed"))},ov.get());kr()[Yf]=()=>{kr().clearTimeout(W),delete kr()[Yf];const ve=kr().grecaptcha;if(!ve||!Or(ve))return void N(ze(p,"internal-error"));const We=ve.render;ve.render=(bt,Nt)=>{const Pn=We(bt,Nt);return this.counter++,Pn},this.hostLanguage=m,T(ve)},Ka(`${function Zd(){return Ys.recaptchaV2Script}()}?${(0,U.Am)({onload:Yf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(W),N(ze(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=kr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class E{load(p){return(0,R.A)(function*(){return new oh(p)})()}clearedOneInstance(){}}const D="recaptcha",w={theme:"light",type:"image"};class S{constructor(p,m,T=Object.assign({},w)){this.parameters=T,this.type=D,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=er(p),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof m?document.getElementById(m):m;we(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new E:new om,this.validateStartingState()}verify(){var p=this;return(0,R.A)(function*(){p.assertNotDestroyed();const m=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(m)||new Promise(W=>{const re=ve=>{ve&&(p.tokenChangeListeners.delete(re),W(ve))};p.tokenChangeListeners.add(re),p.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof p)p(m);else if("string"==typeof p){const T=kr()[p];"function"==typeof T&&T(m)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,R.A)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,R.A)(function*(){we(wr()&&!jn(),p.auth,"internal-error"),yield function O(){let I=null;return new Promise(p=>{"complete"!==document.readyState?(I=()=>p(),window.addEventListener("load",I)):p()}).catch(p=>{throw I&&window.removeEventListener("load",I),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ut(I){return Wr.apply(this,arguments)}(p.auth);we(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class j{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=js._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function J(I,p,m){return ye.apply(this,arguments)}function ye(){return(ye=(0,R.A)(function*(I,p,m){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const T=er(I),N=yield dr(T,p,(0,U.Ku)(m));return new j(N,W=>io(T,W))})).apply(this,arguments)}function _e(I,p,m){return at.apply(this,arguments)}function at(){return(at=(0,R.A)(function*(I,p,m){const T=(0,U.Ku)(I);yield Jo(!1,T,"phone");const N=yield dr(T.auth,p,(0,U.Ku)(m));return new j(N,W=>Lc(T,W))})).apply(this,arguments)}function cn(I,p,m){return sn.apply(this,arguments)}function sn(){return(sn=(0,R.A)(function*(I,p,m){const T=(0,U.Ku)(I);if((0,d._isFirebaseServerApp)(T.auth.app))return Promise.reject(rt(T.auth));const N=yield dr(T.auth,p,(0,U.Ku)(m));return new j(N,W=>Fc(T,W))})).apply(this,arguments)}function dr(I,p,m){return ia.apply(this,arguments)}function ia(){return ia=(0,R.A)(function*(I,p,m){var T;const N=yield m.verify();try{let W;if(we("string"==typeof N,I,"argument-error"),we(m.type===D,I,"argument-error"),W="string"==typeof p?{phoneNumber:p}:p,"session"in W){const re=W.session;if("phoneNumber"in W)return we("enroll"===re.type,I,"internal-error"),(yield function lo(I,p){return Me(I,"POST","/v2/accounts/mfaEnrollment:start",Re(I,p))}(I,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{we("signin"===re.type,I,"internal-error");const ve=(null===(T=W.multiFactorHint)||void 0===T?void 0:T.uid)||W.multiFactorUid;return we(ve,I,"missing-multi-factor-info"),(yield function tm(I,p){return Me(I,"POST","/v2/accounts/mfaSignIn:start",Re(I,p))}(I,{mfaPendingCredential:re.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield function th(I,p){return Ts.apply(this,arguments)}(I,{phoneNumber:W.phoneNumber,recaptchaToken:N});return re}}finally{m._reset()}}),ia.apply(this,arguments)}function qc(I,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.A)(function*(I,p){const m=(0,U.Ku)(I);if((0,d._isFirebaseServerApp)(m.auth.app))return Promise.reject(rt(m.auth));yield mi(m,p)})).apply(this,arguments)}let Kc=(()=>{class I{constructor(m){this.providerId=I.PROVIDER_ID,this.auth=er(m)}verifyPhoneNumber(m,T){return dr(this.auth,m,(0,U.Ku)(T))}static credential(m,T){return js._fromVerification(m,T)}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:N}=m;return T&&N?js._fromTokenResponse(T,N):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Yt(I,p){return p?st(p):(we(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Sr extends xi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ws(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ws(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ws(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function am(I){return ol(I.auth,new Sr(I),I.bypassAuthState)}function Qc(I){const{auth:p,user:m}=I;return we(m,p,"internal-error"),zs(m,new Sr(I),I.bypassAuthState)}function _l(I){return is.apply(this,arguments)}function is(){return(is=(0,R.A)(function*(I){const{auth:p,user:m}=I;return we(m,p,"internal-error"),mi(m,new Sr(I),I.bypassAuthState)})).apply(this,arguments)}class av{constructor(p,m,T,N,W=!1){this.auth=p,this.resolver=T,this.user=N,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,R.A)(function*(T,N){p.pendingPromise={resolve:T,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(W){p.reject(W)}});return function(T,N){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,R.A)(function*(){const{urlResponse:T,sessionId:N,postBody:W,tenantId:re,error:ve,type:We}=p;if(ve)return void m.reject(ve);const bt={auth:m.auth,requestUri:T,sessionId:N,tenantId:re||void 0,postBody:W||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(We)(bt))}catch(Nt){m.reject(Nt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return am;case"linkViaPopup":case"linkViaRedirect":return _l;case"reauthViaPopup":case"reauthViaRedirect":return Qc;default:Ye(this.auth,"internal-error")}}resolve(p){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xu=new hr(2e3,1e4);function lv(I,p,m){return co.apply(this,arguments)}function co(){return(co=(0,R.A)(function*(I,p,m){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(ze(I,"operation-not-supported-in-this-environment"));const T=er(I);lt(I,p,Cs);const N=Yt(T,m);return new lh(T,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function cv(I,p,m){return lm.apply(this,arguments)}function lm(){return(lm=(0,R.A)(function*(I,p,m){const T=(0,U.Ku)(I);if((0,d._isFirebaseServerApp)(T.auth.app))return Promise.reject(ze(T.auth,"operation-not-supported-in-this-environment"));lt(T.auth,p,Cs);const N=Yt(T.auth,m);return new lh(T.auth,"reauthViaPopup",p,N,T).executeNotNull()})).apply(this,arguments)}function cm(I,p,m){return ah.apply(this,arguments)}function ah(){return(ah=(0,R.A)(function*(I,p,m){const T=(0,U.Ku)(I);lt(T.auth,p,Cs);const N=Yt(T.auth,m);return new lh(T.auth,"linkViaPopup",p,N,T).executeNotNull()})).apply(this,arguments)}let lh=(()=>{class I extends av{constructor(m,T,N,W,re){super(m,T,W,re),this.provider=N,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var m=this;return(0,R.A)(function*(){const T=yield m.execute();return we(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,R.A)(function*(){Lt(1===m.filter.length,"Popup operations only handle one event");const T=Rs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(ze(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,N;this.pollId=null!==(N=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Xu.get())};m()}}return I.currentPopupAction=null,I})();const ch="pendingRedirect",sc=new Map;class um extends av{constructor(p,m,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,R.A)(function*(){let T=sc.get(m.auth._key());if(!T){try{const W=(yield function Xc(I,p){return Jt.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;T=()=>Promise.resolve(W)}catch(N){T=()=>Promise.reject(N)}sc.set(m.auth._key(),T)}return m.bypassAuthState||sc.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,T=this;return(0,R.A)(function*(){if("signInViaRedirect"===p.type)return m().call(T,p);if("unknown"!==p.type){if(p.eventId){const N=yield T.auth._redirectUserForId(p.eventId);if(N)return T.user=N,m().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,R.A)(function*(){})()}cleanUp(){}}function Jt(){return(Jt=(0,R.A)(function*(I,p){const m=dm(p),T=hv(I);if(!(yield T._isAvailable()))return!1;const N="true"===(yield T._get(m));return yield T._remove(m),N})).apply(this,arguments)}function Jf(I,p){return uv.apply(this,arguments)}function uv(){return(uv=(0,R.A)(function*(I,p){return hv(I)._set(dm(p),"true")})).apply(this,arguments)}function ew(){sc.clear()}function dv(I,p){sc.set(I._key(),p)}function hv(I){return st(I._redirectPersistence)}function dm(I){return Dn(ch,I.config.apiKey,I.name)}function Yu(I,p,m){return function tw(I,p,m){return hm.apply(this,arguments)}(I,p,m)}function hm(){return(hm=(0,R.A)(function*(I,p,m){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const T=er(I);lt(I,p,Cs),yield T._initializationPromise;const N=Yt(T,m);return yield Jf(N,T),N._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function nw(I,p,m){return function rw(I,p,m){return fm.apply(this,arguments)}(I,p,m)}function fm(){return(fm=(0,R.A)(function*(I,p,m){const T=(0,U.Ku)(I);if(lt(T.auth,p,Cs),(0,d._isFirebaseServerApp)(T.auth.app))return Promise.reject(rt(T.auth));yield T.auth._initializationPromise;const N=Yt(T.auth,m);yield Jf(N,T.auth);const W=yield sa(T);return N._openRedirect(T.auth,p,"reauthViaRedirect",W)})).apply(this,arguments)}function Le(I,p,m){return function kn(I,p,m){return ep.apply(this,arguments)}(I,p,m)}function ep(){return(ep=(0,R.A)(function*(I,p,m){const T=(0,U.Ku)(I);lt(T.auth,p,Cs),yield T.auth._initializationPromise;const N=Yt(T.auth,m);yield Jo(!1,T,p.providerId),yield Jf(N,T.auth);const W=yield sa(T);return N._openRedirect(T.auth,p,"linkViaRedirect",W)})).apply(this,arguments)}function fv(I,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,R.A)(function*(I,p){return yield er(I)._initializationPromise,tp(I,p,!1)})).apply(this,arguments)}function tp(I,p){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,R.A)(function*(I,p,m=!1){if((0,d._isFirebaseServerApp)(I.app))return Promise.reject(rt(I));const T=er(I),N=Yt(T,p),re=yield new um(T,N,m).execute();return re&&!m&&(delete re.user._redirectEventId,yield T._persistUserIfCurrent(re.user),yield T._setRedirectUser(null,p)),re})).apply(this,arguments)}function sa(I){return uh.apply(this,arguments)}function uh(){return(uh=(0,R.A)(function*(I){const p=Rs(`${I.uid}:::`);return I._redirectEventId=p,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),p})).apply(this,arguments)}class pv{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(m=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ms(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gm(I);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var T;if(p.error&&!gm(p)){const N=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(ze(this.auth,N))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const T=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iw(p))}saveEventToCache(p){this.cachedEventUids.add(iw(p)),this.lastProcessedEventTime=Date.now()}}function iw(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(p=>p).join("-")}function gm({type:I,error:p}){return"unknown"===I&&"auth/no-auth-event"===p?.code}function Oa(I){return np.apply(this,arguments)}function np(){return(np=(0,R.A)(function*(I,p={}){return Me(I,"GET","/v1/projects",p)})).apply(this,arguments)}const oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yl=/^https?/;function rp(){return(rp=(0,R.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:p}=yield Oa(I);for(const m of p)try{if(ow(m))return}catch{}Ye(I,"unauthorized-domain")})).apply(this,arguments)}function ow(I){const p=Ir(),{protocol:m,hostname:T}=new URL(p);if(I.startsWith("chrome-extension://")){const re=new URL(I);return""===re.hostname&&""===T?"chrome-extension:"===m&&I.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&re.hostname===T}if(!yl.test(m))return!1;if(oa.test(I))return T===I;const N=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(T)}const aw=new hr(3e4,6e4);function ip(){const I=kr().___jsl;if(I?.H)for(const p of Object.keys(I.H))if(I.H[p].r=I.H[p].r||[],I.H[p].L=I.H[p].L||[],I.H[p].r=[...I.H[p].L],I.CP)for(let m=0;m<I.CP.length;m++)I.CP[m]=null}let Zu=null;const lw=new hr(5e3,15e3),gv="__/auth/iframe",_m="emulator/auth/iframe",mv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_v=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yv(I){const p=I.config;we(p.authDomain,I,"auth-domain-config-required");const m=p.emulator?Ee(p,_m):`https://${I.config.authDomain}/${gv}`,T={apiKey:p.apiKey,appName:I.name,v:d.SDK_VERSION},N=_v.get(I.config.apiHost);N&&(T.eid=N);const W=I._getFrameworks();return W.length&&(T.fw=W.join(",")),`${m}?${(0,U.Am)(T).slice(1)}`}function dh(){return dh=(0,R.A)(function*(I){const p=yield function sp(I){return Zu=Zu||function mm(I){return new Promise((p,m)=>{var T,N,W;function re(){ip(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ip(),m(ze(I,"network-request-failed"))},timeout:aw.get()})}if(null!==(N=null===(T=kr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==N&&N.Iframe)p(gapi.iframes.getContext());else{if(null===(W=kr().gapi)||void 0===W||!W.load){const ve=Go("iframefcb");return kr()[ve]=()=>{gapi.load?re():m(ze(I,"network-request-failed"))},Ka(`${function Jd(){return Ys.gapiScript}()}?onload=${ve}`).catch(We=>m(We))}re()}}).catch(p=>{throw Zu=null,p})}(I),Zu}(I),m=kr().gapi;return we(m,I,"internal-error"),p.open({where:document.body,url:yv(I),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mv,dontclear:!0},T=>new Promise(function(){var N=(0,R.A)(function*(W,re){yield T.restyle({setHideOnLeave:!1});const ve=ze(I,"network-request-failed"),We=kr().setTimeout(()=>{re(ve)},lw.get());function bt(){kr().clearTimeout(We),W(T)}T.ping(bt).then(bt,()=>{re(ve)})});return function(W,re){return N.apply(this,arguments)}}()))}),dh.apply(this,arguments)}const cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ve{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _t="__/auth/handler",hh="emulator/auth/handler",en=encodeURIComponent("fac");function fs(I,p,m,T,N,W){return oc.apply(this,arguments)}function oc(){return(oc=(0,R.A)(function*(I,p,m,T,N,W){we(I.config.authDomain,I,"auth-domain-config-required"),we(I.config.apiKey,I,"invalid-api-key");const re={apiKey:I.config.apiKey,appName:I.name,authType:m,redirectUrl:T,v:d.SDK_VERSION,eventId:N};if(p instanceof Cs){p.setDefaultLanguage(I.languageCode),re.providerId=p.providerId||"",(0,U.Im)(p.getCustomParameters())||(re.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Nt,Pn]of Object.entries(W||{}))re[Nt]=Pn}if(p instanceof Do){const Nt=p.getScopes().filter(Pn=>""!==Pn);Nt.length>0&&(re.scopes=Nt.join(","))}I.tenantId&&(re.tid=I.tenantId);const ve=re;for(const Nt of Object.keys(ve))void 0===ve[Nt]&&delete ve[Nt];const We=yield I._getAppCheckToken(),bt=We?`#${en}=${encodeURIComponent(We)}`:"";return`${function fh({config:I}){return I.emulator?Ee(I,hh):`https://${I.authDomain}/${_t}`}(I)}?${(0,U.Am)(ve).slice(1)}${bt}`})).apply(this,arguments)}const vl="webStorageSupport",gh=class ph{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$e,this._completeRedirectFn=tp,this._overrideRedirectResult=dv}_openPopup(p,m,T,N){var W=this;return(0,R.A)(function*(){var re;Lt(null===(re=W.eventManagers[p._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const ve=yield fs(p,m,T,Ir(),N);return function Iv(I,p,m,T=500,N=600){const W=Math.max((window.screen.availHeight-N)/2,0).toString(),re=Math.max((window.screen.availWidth-T)/2,0).toString();let ve="";const We=Object.assign(Object.assign({},cw),{width:T.toString(),height:N.toString(),top:W,left:re}),bt=(0,U.ZQ)().toLowerCase();m&&(ve=Wo(bt)?"_blank":m),hn(bt)&&(p=p||"http://localhost",We.scrollbars="yes");const Nt=Object.entries(We).reduce((Ci,[ka,La])=>`${Ci}${ka}=${La},`,"");if(function he(I=(0,U.ZQ)()){var p;return _s(I)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(bt)&&"_self"!==ve)return function Lo(I,p){const m=document.createElement("a");m.href=I,m.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(p||"",ve),new Ve(null);const Pn=window.open(p||"",ve,Nt);we(Pn,I,"popup-blocked");try{Pn.focus()}catch{}return new Ve(Pn)}(p,ve,Rs())})()}_openRedirect(p,m,T,N){var W=this;return(0,R.A)(function*(){return yield W._originValidation(p),function Hi(I){kr().location.href=I}(yield fs(p,m,T,Ir(),N)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:N,promise:W}=this.eventManagers[m];return N?Promise.resolve(N):(Lt(W,"If manager is not set, promise should be"),W)}const T=this.initAndGetManager(p);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(p){var m=this;return(0,R.A)(function*(){const T=yield function vv(I){return dh.apply(this,arguments)}(p),N=new pv(p);return T.register("authEvent",W=>(we(W?.authEvent,p,"invalid-auth-event"),{status:N.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:N},m.iframes[p._key()]=T,N})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(vl,{type:vl},N=>{var W;const re=null===(W=N?.[0])||void 0===W?void 0:W[vl];void 0!==re&&m(!!re),Ye(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function sw(I){return rp.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return gt()||Zr()||_s()}};class op{constructor(p){this.factorId=p}_process(p,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,T);case"signin":return this._finalizeSignIn(p,m.credential);default:return Zt("unexpected MultiFactorSessionType")}}}class bi extends op{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new bi(p)}_finalizeEnroll(p,m,T){return function mr(I,p){return Me(I,"POST","/v2/accounts/mfaEnrollment:finalize",Re(I,p))}(p,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function nm(I,p){return Me(I,"POST","/v2/accounts/mfaSignIn:finalize",Re(I,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mh=(()=>{class I{constructor(){}static assertion(m){return bi._fromCredential(m)}}return I.FACTOR_ID="phone",I})();var _h="@firebase/auth";class ss{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,R.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(T=>{p(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.XA)("authIdTokenMaxAge"),function Wl(I){Ys=I}({loadJS:I=>new Promise((p,m)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=p,T.onerror=N=>{const W=ze("internal-error");W.customData=N,m(W)},T.type="text/javascript",T.charset="UTF-8",function Na(){var I,p;return null!==(p=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==p?p:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function yh(I){(0,d._registerComponent)(new xe.uA("auth",(p,{options:m})=>{const T=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),W=p.getProvider("app-check-internal"),{apiKey:re,authDomain:ve}=T.options;we(re&&!re.includes(":"),"invalid-api-key",{appName:T.name});const We={apiKey:re,authDomain:ve,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gt(I)},bt=new Eo(T,N,W,We);return function nr(I,p){const m=p?.persistence||[],T=(Array.isArray(m)?m:[m]).map(st);p?.errorMap&&I._updateErrorMap(p.errorMap),I._initializeWithPersistence(T,p?.popupRedirectResolver)}(bt,m),bt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,T)=>{p.getProvider("auth-internal").initialize()})),(0,d._registerComponent)(new xe.uA("auth-internal",p=>{const m=er(p.getProvider("auth").getImmediate());return new ss(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,d.registerVersion)(_h,"1.7.2",function uw(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,d.registerVersion)(_h,"1.7.2","esm2017")}("Browser")},1076:(Pt,Ue,G)=>{G.d(Ue,{Am:()=>Vi,Bd:()=>Zt,FA:()=>Me,Fy:()=>rt,I9:()=>Ji,Im:()=>Ur,Ku:()=>se,Ll:()=>we,T9:()=>Ye,Uj:()=>je,XA:()=>ze,ZQ:()=>lt,bD:()=>Wr,cY:()=>et,eX:()=>Ce,g:()=>Re,gR:()=>Or,hp:()=>Mt,jZ:()=>Et,lT:()=>zr,lV:()=>Ir,nr:()=>hr,sr:()=>Lt,tD:()=>xt,u:()=>ie,yU:()=>Tn,zW:()=>Ee,zw:()=>be});const le=function(K){const Q=[];let H=0;for(let z=0;z<K.length;z++){let B=K.charCodeAt(z);B<128?Q[H++]=B:B<2048?(Q[H++]=B>>6|192,Q[H++]=63&B|128):55296==(64512&B)&&z+1<K.length&&56320==(64512&K.charCodeAt(z+1))?(B=65536+((1023&B)<<10)+(1023&K.charCodeAt(++z)),Q[H++]=B>>18|240,Q[H++]=B>>12&63|128,Q[H++]=B>>6&63|128,Q[H++]=63&B|128):(Q[H++]=B>>12|224,Q[H++]=B>>6&63|128,Q[H++]=63&B|128)}return Q},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,Q){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let B=0;B<K.length;B+=3){const oe=K[B],Ne=B+1<K.length,st=Ne?K[B+1]:0,$t=B+2<K.length,jt=$t?K[B+2]:0;let ft=(15&st)<<2|jt>>6,hn=63&jt;$t||(hn=64,Ne||(ft=64)),z.push(H[oe>>2],H[(3&oe)<<4|st>>4],H[ft],H[hn])}return z.join("")},encodeString(K,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(K):this.encodeByteArray(le(K),Q)},decodeString(K,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(K):function(K){const Q=[];let H=0,z=0;for(;H<K.length;){const B=K[H++];if(B<128)Q[z++]=String.fromCharCode(B);else if(B>191&&B<224){const oe=K[H++];Q[z++]=String.fromCharCode((31&B)<<6|63&oe)}else if(B>239&&B<365){const $t=((7&B)<<18|(63&K[H++])<<12|(63&K[H++])<<6|63&K[H++])-65536;Q[z++]=String.fromCharCode(55296+($t>>10)),Q[z++]=String.fromCharCode(56320+(1023&$t))}else{const oe=K[H++],Ne=K[H++];Q[z++]=String.fromCharCode((15&B)<<12|(63&oe)<<6|63&Ne)}}return Q.join("")}(this.decodeStringToByteArray(K,Q))},decodeStringToByteArray(K,Q){this.init_();const H=Q?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let B=0;B<K.length;){const oe=H[K.charAt(B++)],st=B<K.length?H[K.charAt(B)]:0;++B;const jt=B<K.length?H[K.charAt(B)]:64;++B;const Dt=B<K.length?H[K.charAt(B)]:64;if(++B,null==oe||null==st||null==jt||null==Dt)throw new ue;z.push(oe<<2|st>>4),64!==jt&&(z.push(st<<4&240|jt>>2),64!==Dt&&z.push(jt<<6&192|Dt))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(K){return function(K){const Q=le(K);return xe.encodeByteArray(Q,!0)}(K).replace(/\./g,"")},ie=function(K){try{return xe.decodeString(K,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function be(K,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return Q}for(const H in Q)!Q.hasOwnProperty(H)||!Je(H)||(K[H]=be(K[H],Q[H]));return K}function Je(K){return"__proto__"!==K}const Tt=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=K&&ie(K[1]);return Q&&JSON.parse(Q)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Tn=K=>{const Q=(K=>{var Q,H;return null===(H=null===(Q=Tt())||void 0===Q?void 0:Q.emulatorHosts)||void 0===H?void 0:H[K]})(K);if(!Q)return;const H=Q.lastIndexOf(":");if(H<=0||H+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);const z=parseInt(Q.substring(H+1),10);return"["===Q[0]?[Q.substring(1,H-1),z]:[Q.substring(0,H),z]},Ye=()=>{var K;return null===(K=Tt())||void 0===K?void 0:K.config},ze=K=>{var Q;return null===(Q=Tt())||void 0===Q?void 0:Q[`_${K}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,H)=>{this.resolve=Q,this.reject=H})}wrapCallback(Q){return(H,z)=>{H?this.reject(H):this.resolve(z),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(H):Q(H,z))}}}function rt(K,Q){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=Q||"demo-project",B=K.iat||0,oe=K.sub||K.user_id;if(!oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:B,exp:B+3600,auth_time:B,sub:oe,user_id:oe,firebase:{sign_in_provider:"custom",identities:{}}},K);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Ne)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function we(){var K;const Q=null===(K=Tt())||void 0===K?void 0:K.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return"object"==typeof self&&self.self===self}function Lt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Ir(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zr(){const K=lt();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function hr(){return!we()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((K,Q)=>{try{let H=!0;const z="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(z);B.onsuccess=()=>{B.result.close(),H||self.indexedDB.deleteDatabase(z),K(!0)},B.onupgradeneeded=()=>{H=!1},B.onerror=()=>{var oe;Q((null===(oe=B.error)||void 0===oe?void 0:oe.message)||"")}}catch(H){Q(H)}})}class Re extends Error{constructor(Q,H,z){super(H),this.code=Q,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(Q,H,z){this.service=Q,this.serviceName=H,this.errors=z}create(Q,...H){const z=H[0]||{},B=`${this.service}/${Q}`,oe=this.errors[Q],Ne=oe?function St(K,Q){return K.replace(Xt,(H,z)=>{const B=Q[z];return null!=B?String(B):`<${z}?>`})}(oe,z):"Error";return new Re(B,`${this.serviceName}: ${Ne} (${B}).`,z)}}const Xt=/\{\$([^}]+)}/g;function Or(K,Q){return Object.prototype.hasOwnProperty.call(K,Q)}function Ur(K){for(const Q in K)if(Object.prototype.hasOwnProperty.call(K,Q))return!1;return!0}function Wr(K,Q){if(K===Q)return!0;const H=Object.keys(K),z=Object.keys(Q);for(const B of H){if(!z.includes(B))return!1;const oe=K[B],Ne=Q[B];if(ir(oe)&&ir(Ne)){if(!Wr(oe,Ne))return!1}else if(oe!==Ne)return!1}for(const B of z)if(!H.includes(B))return!1;return!0}function ir(K){return null!==K&&"object"==typeof K}function Vi(K){const Q=[];for(const[H,z]of Object.entries(K))Array.isArray(z)?z.forEach(B=>{Q.push(encodeURIComponent(H)+"="+encodeURIComponent(B))}):Q.push(encodeURIComponent(H)+"="+encodeURIComponent(z));return Q.length?"&"+Q.join("&"):""}function Ji(K){const Q={};return K.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[B,oe]=z.split("=");Q[decodeURIComponent(B)]=decodeURIComponent(oe)}}),Q}function Mt(K){const Q=K.indexOf("?");if(!Q)return"";const H=K.indexOf("#",Q);return K.substring(Q,H>0?H:void 0)}function xt(K,Q){const H=new Yn(K,Q);return H.subscribe.bind(H)}class Yn{constructor(Q,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Q(this)}).catch(z=>{this.error(z)})}next(Q){this.forEachObserver(H=>{H.next(Q)})}error(Q){this.forEachObserver(H=>{H.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,H,z){let B;if(void 0===Q&&void 0===H&&void 0===z)throw new Error("Missing Observer.");B=function Tr(K,Q){if("object"!=typeof K||null===K)return!1;for(const H of Q)if(H in K&&"function"==typeof K[H])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:H,complete:z},void 0===B.next&&(B.next=Gn),void 0===B.error&&(B.error=Gn),void 0===B.complete&&(B.complete=Gn);const oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),oe}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Q)}sendOne(Q,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{H(this.observers[Q])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}function se(K){return K&&K._delegate?K._delegate:K}},8625:(Pt,Ue,G)=>{var R=G(345),d=G(4438),U=G(6315),le=G(7852);(0,le.registerVersion)("firebase","10.11.1","app");var ue=G(8359);class Ke extends ue.yU{constructor(e,t){super()}schedule(e,t=0){return this}}const je={setInterval(n,e,...t){const{delegate:i}=je;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=je;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ie=G(7908);class te extends Ke{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const a=this.id,c=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(c,a,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,i=0){return je.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&je.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let a,i=!1;try{this.work(e)}catch(c){i=!0,a=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.o)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Je={now:()=>(Je.delegate||Date).now(),delegate:void 0};class He{constructor(e,t=He.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}He.now=Je.now;class ht extends He{constructor(e,t=He.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const wt=new class ot extends ht{}(class be extends te{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),gn=new ht(te);var Ye=G(1985),ze=G(8141),et=G(6745),rt=G(941);const lt=new d.RxE("ANGULARFIRE2_VERSION");const Zt=(n,e)=>{const t=e?[e]:(0,le.getApps)(),i=[];return t.forEach(a=>{a.container.getProvider(n).instances.forEach(h=>{i.includes(h)||i.push(h)})}),i};class Lt{constructor(){return Zt(Ir)}}const Ir="app-check";function wr(){}class zr{zone;delegate;constructor(e,t=wt){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const a=this.zone;return this.delegate.schedule(function(h){a.runGuarded(()=>{e.apply(this,[h])})},t,i)}}class Qn{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wr,{},wr,wr)),t.pipe((0,ze.M)({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zr(Zone.current)),this.insideAngular=t.run(()=>new zr(Zone.current,gn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(d.KVO(d.SKi))};static \u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hr(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ce(n){return hr().ngZone.run(()=>n())}function Re(n){return function Me(n){return function(t){return(t=t.lift(new Qn(n.ngZone))).pipe((0,et._)(n.outsideAngular),(0,rt.Q)(n.insideAngular))}}(hr())(n)}const St=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ce(()=>n.apply(void 0,i))},Xt=(n,e)=>function(){let t;const i=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(t||=Ce(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wr,{},wr,wr))),i[c]=St(i[c],t));const a=function Ee(n){return hr().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(a instanceof Ye.c){const c=hr();return a.pipe((0,et._)(c.outsideAngular),(0,rt.Q)(c.insideAngular))}return Ce(()=>a)}return a instanceof Ye.c?a.pipe(Re):a instanceof Promise?Ce(()=>new Promise((c,h)=>a.then(g=>Ce(()=>c(g)),g=>Ce(()=>h(g))))):"function"==typeof a&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),a.apply(this,arguments)}:Ce(()=>a)};class mn{constructor(e){return e}}class At{constructor(){return(0,le.getApps)()}}const En=new d.nKC("angularfire2._apps"),xr={provide:mn,useFactory:function vn(n){return n&&1===n.length?n[0]:new mn((0,le.getApp)())},deps:[[new d.Xx1,En]]},lr={provide:At,deps:[[new d.Xx1,En]]};function Or(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new mn(i)}}let Xn=(()=>{class n{constructor(t){(0,le.registerVersion)("angularfire",lt.full,"core"),(0,le.registerVersion)("angularfire",lt.full,"app"),(0,le.registerVersion)("angular",d.xvI.full,t.toString())}static \u0275fac=function(i){return new(i||n)(d.KVO(d.Agw))};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({providers:[xr,lr]})}return n})();const fi=Xt(le.initializeApp,!0);var qe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(qe||{});const xt="*";function Yn(n,e){return{type:qe.Trigger,name:n,definitions:e,options:{}}}function cr(n,e=null){return{type:qe.Animate,styles:e,timings:n}}function xn(n){return{type:qe.Style,styles:n,offset:null}}function fr(n,e,t=null){return{type:qe.Transition,expr:n,animation:e,options:t}}function Ot(n,e=null){return{type:qe.Reference,animation:n,options:e}}function Zn(n,e=null){return{type:qe.AnimateRef,animation:n,options:e}}class Q{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class H{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,a=0;const c=this.players.length;0==c?queueMicrotask(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==c&&this._onFinish()}),h.onDestroy(()=>{++i==c&&this._onDestroy()}),h.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(a)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function oe(n){return new d.wOt(3e3,!1)}function Pi(n){switch(n.length){case 0:return new Q;case 1:return n[0];default:return new H(n)}}function wa(n,e,t=new Map,i=new Map){const a=[],c=[];let h=-1,g=null;if(e.forEach(v=>{const A=v.get("offset"),x=A==h,L=x&&g||new Map;v.forEach((X,ee)=>{let de=ee,pe=X;if("offset"!==ee)switch(de=n.normalizePropertyName(de,a),pe){case"!":pe=t.get(ee);break;case xt:pe=i.get(ee);break;default:pe=n.normalizeStyleValue(ee,de,pe,a)}L.set(de,pe)}),x||c.push(L),g=L,h=A}),a.length)throw function On(n){return new d.wOt(3502,!1)}();return c}function vs(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Qa(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Qa(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Qa(t,"destroy",n)))}}function Qa(n,e,t){const c=Mi(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),h=n._data;return null!=h&&(c._data=h),c}function Mi(n,e,t,i,a="",c=0,h){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:a,totalTime:c,disabled:!!h}}function br(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function qo(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const qt=typeof document>"u"?null:document.documentElement;function fn(n){const e=n.parentNode||n.host||null;return e===qt?null:e}let nr=null,Ko=!1;function an(n,e){for(;e;){if(e===n)return!0;e=fn(e)}return!1}function xi(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Gr=(()=>{class n{validateStyleProperty(t){return function Es(n){nr||(nr=function Io(){return typeof document<"u"?document.body:null}()||{},Ko=!!nr.style&&"WebkitAppearance"in nr.style);let e=!0;return nr.style&&!function Sn(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in nr.style,!e&&Ko&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in nr.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return an(t,i)}getParentElement(t){return fn(t)}query(t,i,a){return xi(t,i,a)}computeStyle(t,i,a){return a||""}animate(t,i,a,c,h,g=[],v){return new Q(a,c)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}return n})();class Xa{static#e=this.NOOP=new Gr}class Ya{}const wo=1e3,ql="ng-enter",Xo="ng-leave",To="ng-trigger",bo=".ng-trigger",Zs="ng-animating",Js=".ng-animating";function Jr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ja(parseFloat(e[1]),e[2])}function Ja(n,e){return"s"===e?n*wo:n}function qr(n,e,t){return n.hasOwnProperty("duration")?n:function Is(n,e,t){let a,c=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(oe()),{duration:0,delay:0,easing:""};a=Ja(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(c=Ja(parseFloat(v),g[4]));const A=g[5];A&&(h=A)}else a=n;if(!t){let g=!1,v=e.length;a<0&&(e.push(function Ne(){return new d.wOt(3100,!1)}()),g=!0),c<0&&(e.push(function st(){return new d.wOt(3101,!1)}()),g=!0),g&&e.splice(v,0,oe())}return{duration:a,delay:c,easing:h}}(n,e,t)}function Bi(n,e,t){e.forEach((i,a)=>{const c=pi(a);t&&!t.has(a)&&t.set(a,n.style[c]),n.style[c]=i})}function gr(n,e){e.forEach((t,i)=>{const a=pi(i);n.style[a]=""})}function us(n){return Array.isArray(n)?1==n.length?n[0]:function Gn(n,e=null){return{type:qe.Sequence,steps:n,options:e}}(n):n}const to=new RegExp("{{\\s*(.+?)\\s*}}","g");function ws(n){let e=[];if("string"==typeof n){let t;for(;t=to.exec(n);)e.push(t[1]);to.lastIndex=0}return e}function ai(n,e,t){const i=`${n}`,a=i.replace(to,(c,h)=>{let g=e[h];return null==g&&(t.push(function jt(n){return new d.wOt(3003,!1)}()),g=""),g.toString()});return a==i?n:a}const Kl=/-+([a-z0-9])/g;function pi(n){return n.replace(Kl,(...e)=>e[1].toUpperCase())}function Un(n,e,t){switch(e.type){case qe.Trigger:return n.visitTrigger(e,t);case qe.State:return n.visitState(e,t);case qe.Transition:return n.visitTransition(e,t);case qe.Sequence:return n.visitSequence(e,t);case qe.Group:return n.visitGroup(e,t);case qe.Animate:return n.visitAnimate(e,t);case qe.Keyframes:return n.visitKeyframes(e,t);case qe.Style:return n.visitStyle(e,t);case qe.Reference:return n.visitReference(e,t);case qe.AnimateChild:return n.visitAnimateChild(e,t);case qe.AnimateRef:return n.visitAnimateRef(e,t);case qe.Query:return n.visitQuery(e,t);case qe.Stagger:return n.visitStagger(e,t);default:throw function Dn(n){return new d.wOt(3004,!1)}()}}function bs(n,e){return window.getComputedStyle(n)[e]}const ba=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Co extends Ya{normalizePropertyName(e,t){return pi(e)}normalizeStyleValue(e,t,i,a){let c="";const h=i.toString().trim();if(ba.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&a.push(function Dt(n,e){return new d.wOt(3005,!1)}())}return h+c}}const Ca="*";const li=new Set(["true","1"]),wn=new Set(["false","0"]);function ro(n,e){const t=li.has(n)||wn.has(n),i=li.has(e)||wn.has(e);return(a,c)=>{let h=n==Ca||n==a,g=e==Ca||e==c;return!h&&t&&"boolean"==typeof a&&(h=a?li.has(n):wn.has(n)),!g&&i&&"boolean"==typeof c&&(g=c?li.has(e):wn.has(e)),h&&g}}const Nc=new RegExp("s*:selfs*,?","g");function Ds(n,e,t,i){return new $s(n).build(e,t,i)}class $s{constructor(e){this._driver=e}build(e,t,i){const a=new Da(t);return this._resetContextStyleTimingState(a),Un(this,us(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,a=t.depCount=0;const c=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push(function ft(){return new d.wOt(3006,!1)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),g.type==qe.State){const v=g,A=v.name;A.toString().split(/\s*,\s*/).forEach(x=>{v.name=x,c.push(this.visitState(v,t))}),v.name=A}else if(g.type==qe.Transition){const v=this.visitTransition(g,t);i+=v.queryCount,a+=v.depCount,h.push(v)}else t.errors.push(function hn(){return new d.wOt(3007,!1)}())}),{type:qe.Trigger,name:e.name,states:c,transitions:h,queryCount:i,depCount:a,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){const c=new Set,h=a||{};i.styles.forEach(g=>{g instanceof Map&&g.forEach(v=>{ws(v).forEach(A=>{h.hasOwnProperty(A)||c.add(A)})})}),c.size&&t.errors.push(function Zr(n,e){return new d.wOt(3008,!1)}(0,c.values()))}return{type:qe.State,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Un(this,us(e.animation),t),a=function ji(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Cs(n,e,t){if(":"==n[0]){const v=function Do(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Wt(n){return new d.wOt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function gt(n){return new d.wOt(3015,!1)}()),e;const a=i[1],c=i[2],h=i[3];e.push(ro(a,h)),"<"==c[0]&&(a!=Ca||h!=Ca)&&e.push(ro(h,a))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:qe.Transition,matchers:a,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Kr(e.options)}}visitSequence(e,t){return{type:qe.Sequence,steps:e.steps.map(i=>Un(this,i,t)),options:Kr(e.options)}}visitGroup(e,t){const i=t.currentTime;let a=0;const c=e.steps.map(h=>{t.currentTime=i;const g=Un(this,h,t);return a=Math.max(a,t.currentTime),g});return t.currentTime=a,{type:qe.Group,steps:c,options:Kr(e.options)}}visitAnimate(e,t){const i=function rl(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Zo(qr(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=Zo(0,0,"");return c.dynamic=!0,c.strValue=t,c}const a=qr(t,e);return Zo(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let a,c=e.styles?e.styles:xn({});if(c.type==qe.Keyframes)a=this.visitKeyframes(c,t);else{let h=e.styles,g=!1;if(!h){g=!0;const A={};i.easing&&(A.easing=i.easing),h=xn(A)}t.currentTime+=i.duration+i.delay;const v=this.visitStyle(h,t);v.isEmptyStep=g,a=v}return t.currentAnimateTimings=null,{type:qe.Animate,timings:i,style:a,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let g of a)"string"==typeof g?g===xt?i.push(g):t.errors.push(new d.wOt(3002,!1)):i.push(new Map(Object.entries(g)));let c=!1,h=null;return i.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(h=g.get("easing"),g.delete("easing")),!c))for(let v of g.values())if(v.toString().indexOf("{{")>=0){c=!0;break}}),{type:qe.Style,styles:i,easing:h,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let a=t.currentTime,c=t.currentTime;i&&c>0&&(c-=i.duration+i.delay),e.styles.forEach(h=>{"string"!=typeof h&&h.forEach((g,v)=>{const A=t.collectedStyles.get(t.currentQuerySelector),x=A.get(v);let L=!0;x&&(c!=a&&c>=x.startTime&&a<=x.endTime&&(t.errors.push(function Ga(n,e,t,i,a){return new d.wOt(3010,!1)}()),L=!1),c=x.startTime),L&&A.set(v,{startTime:c,endTime:a}),t.options&&function el(n,e,t){const i=e.params||{},a=ws(n);a.length&&a.forEach(c=>{i.hasOwnProperty(c)||t.push(function $t(n){return new d.wOt(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:qe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function An(){return new d.wOt(3011,!1)}()),i;let c=0;const h=[];let g=!1,v=!1,A=0;const x=e.steps.map(nt=>{const pt=this._makeStyleAst(nt,t);let Qe=null!=pt.offset?pt.offset:function $i(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(pt.styles),vt=0;return null!=Qe&&(c++,vt=pt.offset=Qe),v=v||vt<0||vt>1,g=g||vt<A,A=vt,h.push(vt),pt});v&&t.errors.push(function qa(){return new d.wOt(3012,!1)}()),g&&t.errors.push(function _s(){return new d.wOt(3200,!1)}());const L=e.steps.length;let X=0;c>0&&c<L?t.errors.push(function De(){return new d.wOt(3202,!1)}()):0==c&&(X=1/(L-1));const ee=L-1,de=t.currentTime,pe=t.currentAnimateTimings,Ae=pe.duration;return x.forEach((nt,pt)=>{const Qe=X>0?pt==ee?1:X*pt:h[pt],vt=Qe*Ae;t.currentTime=de+pe.delay+vt,pe.duration=vt,this._validateStyleAst(nt,t),nt.offset=Qe,i.styles.push(nt)}),i}visitReference(e,t){return{type:qe.Reference,animation:Un(this,us(e.animation),t),options:Kr(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:qe.AnimateChild,options:Kr(e.options)}}visitAnimateRef(e,t){return{type:qe.AnimateRef,animation:this.visitReference(e.animation,t),options:Kr(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[c,h]=function Ao(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Nc,"")),n=n.replace(/@\*/g,bo).replace(/@\w+/g,t=>bo+"-"+t.slice(1)).replace(/:animating/g,Js),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+c:c,br(t.collectedStyles,t.currentQuerySelector,new Map);const g=Un(this,us(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:qe.Query,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:g,originalSelector:e.selector,options:Kr(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function he(){return new d.wOt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:qr(e.timings,t.errors,!0);return{type:qe.Stagger,animation:Un(this,us(e.animation),t),timings:i,options:null}}}class Da{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Kr(n){return n?(n={...n}).params&&(n.params=function Hu(n){return n?{...n}:null}(n.params)):n={},n}function Zo(n,e,t){return{duration:n,delay:e,easing:t}}function ds(n,e,t,i,a,c,h=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:a,delay:c,totalTime:a+c,easing:h,subTimeline:g}}class il{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sl=new RegExp(":enter","g"),Xl=new RegExp(":leave","g");function Jo(n,e,t,i,a,c=new Map,h=new Map,g,v,A=[]){return(new Hs).buildKeyframes(n,e,t,i,a,c,h,g,v,A)}class Hs{buildKeyframes(e,t,i,a,c,h,g,v,A,x=[]){A=A||new il;const L=new Bn(e,t,A,a,c,x,[]);L.options=v;const X=v.delay?Jr(v.delay):0;L.currentTimeline.delayNextStep(X),L.currentTimeline.setStyles([h],null,L.errors,v),Un(this,i,L);const ee=L.timelines.filter(de=>de.containsAnimation());if(ee.length&&g.size){let de;for(let pe=ee.length-1;pe>=0;pe--){const Ae=ee[pe];if(Ae.element===t){de=Ae;break}}de&&!de.allowOnlyTimelineStyles()&&de.setStyles([g],null,L.errors,v)}return ee.length?ee.map(de=>de.buildKeyframes()):[ds(t,[],[],[],0,X,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const a=t.createSubContext(e.options),c=t.currentTimeline.currentTime,h=this._visitSubInstructions(i,a,a.options);c!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const a of e){const c=a?.delay;if(c){const h="number"==typeof c?c:Jr(ai(c,a?.params??{},t.errors));i.delayNextStep(h)}}}_visitSubInstructions(e,t,i){let c=t.currentTimeline.currentTime;const h=null!=i.duration?Jr(i.duration):null,g=null!=i.delay?Jr(i.delay):null;return 0!==h&&e.forEach(v=>{const A=t.appendInstructionToTimeline(v,h,g);c=Math.max(c,A.duration+A.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Un(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let a=t;const c=e.options;if(c&&(c.params||c.delay)&&(a=t.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){a.previousNode.type==qe.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=zs);const h=Jr(c.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Un(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let a=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?Jr(e.options.delay):0;e.steps.forEach(h=>{const g=t.createSubContext(e.options);c&&g.delayNextStep(c),Un(this,h,g),a=Math.max(a,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return qr(t.params?ai(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());const c=e.style;c.type==qe.Keyframes?this.visitKeyframes(c,t):(t.incrementTime(i.duration),this.visitStyle(c,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();const c=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(c):i.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,a=t.currentTimeline.duration,c=i.duration,g=t.createSubContext().currentTimeline;g.easing=i.easing,e.styles.forEach(v=>{g.forwardTime((v.offset||0)*c),g.setStyles(v.styles,v.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(a+c),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,a=e.options||{},c=a.delay?Jr(a.delay):0;c&&(t.previousNode.type===qe.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zs);let h=i;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=g.length;let v=null;g.forEach((A,x)=>{t.currentQueryIndex=x;const L=t.createSubContext(e.options,A);c&&L.delayNextStep(c),A===t.element&&(v=L.currentTimeline),Un(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,a=t.currentTimeline,c=e.timings,h=Math.abs(c.duration),g=h*(t.currentQueryTotal-1);let v=h*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=g-v;break;case"full":v=i.currentStaggerTime}const x=t.currentTimeline;v&&x.delayNextStep(v);const L=x.currentTime;Un(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-L+(a.startTime-i.currentTimeline.startTime)}}const zs={};class Bn{constructor(e,t,i,a,c,h,g,v){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=c,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new ol(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let a=this.options;null!=i.duration&&(a.duration=Jr(i.duration)),null!=i.delay&&(a.delay=Jr(i.delay));const c=i.params;if(c){let h=a.params;h||(h=this.options.params={}),Object.keys(c).forEach(g=>{(!t||!h.hasOwnProperty(g))&&(h[g]=ai(c[g],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(a=>{i[a]=t[a]})}}return e}createSubContext(e=null,t,i){const a=t||this.element,c=new Bn(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=zs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},c=new So(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,a,c,h){let g=[];if(a&&g.push(this.element),e.length>0){e=(e=e.replace(sl,"."+this._enterClassName)).replace(Xl,"."+this._leaveClassName);let A=this._driver.query(this.element,e,1!=i);0!==i&&(A=i<0?A.slice(A.length+i,A.length):A.slice(0,i)),g.push(...A)}return!c&&0==g.length&&h.push(function Fe(n){return new d.wOt(3014,!1)}()),g}}class ol{constructor(e,t,i,a){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ol(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||xt),this._currentKeyframe.set(t,xt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,a){t&&this._previousKeyframe.set("easing",t);const c=a&&a.params||{},h=function kc(n,e){const t=new Map;let i;return n.forEach(a=>{if("*"===a){i??=e.keys();for(let c of i)t.set(c,xt)}else for(let[c,h]of a)t.set(c,h)}),t}(e,this._globalTimelineStyles);for(let[g,v]of h){const A=ai(v,c,i);this._pendingStyles.set(g,A),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??xt),this._updateStyle(g,A)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const a=this._styleSummary.get(i);(!a||t.time>a.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((g,v)=>{const A=new Map([...this._backFill,...g]);A.forEach((x,L)=>{"!"===x?e.add(L):x===xt&&t.add(L)}),i||A.set("offset",v/this.duration),a.push(A)});const c=[...e.values()],h=[...t.values()];if(i){const g=a[0],v=new Map(g);g.set("offset",0),v.set("offset",1),a=[g,v]}return ds(this.element,a,c,h,this.duration,this.startTime,this.easing,!1)}}class So extends ol{constructor(e,t,i,a,c,h,g=!1){super(e,t,h.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],h=i+t,g=t/h,v=new Map(e[0]);v.set("offset",0),c.push(v);const A=new Map(e[0]);A.set("offset",io(g)),c.push(A);const x=e.length-1;for(let L=1;L<=x;L++){let X=new Map(e[L]);const ee=X.get("offset");X.set("offset",io((t+ee*i)/h)),c.push(X)}i=h,t=0,a="",e=c}return ds(this.element,e,this.preStyleProps,this.postStyleProps,i,t,a,!0)}}function io(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function Lc(n,e,t,i,a,c,h,g,v,A,x,L,X){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:c,toState:i,toStyles:h,timelines:g,queriedElements:v,preStyleProps:A,postStyleProps:x,totalTime:L,errors:X}}const Aa={};class Fc{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,a){return function Uc(n,e,t,i,a){return n.some(c=>c(e,t,i,a))}(this.ast.matchers,e,t,i,a)}buildStyles(e,t,i){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,i):new Map}build(e,t,i,a,c,h,g,v,A,x){const L=[],X=this.ast.options&&this.ast.options.params||Aa,de=this.buildStyles(i,g&&g.params||Aa,L),pe=v&&v.params||Aa,Ae=this.buildStyles(a,pe,L),nt=new Set,pt=new Map,Qe=new Map,vt="void"===a,nn={params:Sa(pe,X),delay:this.ast.options?.delay},un=x?[]:Jo(e,t,this.ast.animation,c,h,de,Ae,nn,A,L);let Mn=0;return un.forEach(Mr=>{Mn=Math.max(Mr.duration+Mr.delay,Mn)}),L.length?Lc(t,this._triggerName,i,a,vt,de,Ae,[],[],pt,Qe,Mn,L):(un.forEach(Mr=>{const Xd=Mr.element,Yd=br(pt,Xd,new Set);Mr.preStyleProps.forEach(Jg=>Yd.add(Jg));const PO=br(Qe,Xd,new Set);Mr.postStyleProps.forEach(Jg=>PO.add(Jg)),Xd!==t&&nt.add(Xd)}),Lc(t,this._triggerName,i,a,vt,de,Ae,un,[...nt.values()],pt,Qe,Mn))}}function Sa(n,e){const t={...e};return Object.entries(n).forEach(([i,a])=>{null!=a&&(t[i]=a)}),t}class al{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,a=Sa(e,this.defaultParams);return this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,g)=>{h&&(h=ai(h,a,t));const v=this.normalizer.normalizePropertyName(g,t);h=this.normalizer.normalizeStyleValue(g,v,h,t),i.set(g,h)})}),i}}class rn{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new al(a.style,a.options&&a.options.params||{},i))}),Cr(this.states,"true","1"),Cr(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new Fc(e,a,this.states))}),this.fallbackTransition=function Nr(n,e,t){return new Fc(n,{type:qe.Transition,animation:{type:qe.Sequence,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,a){return this.transitionFactories.find(h=>h.match(e,t,i,a))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Cr(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ti=new il;class ci{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],c=Ds(this._driver,t,i,[]);if(i.length)throw function Ht(n){return new d.wOt(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,i){const a=e.element,c=wa(this._normalizer,e.keyframes,t,i);return this._driver.animate(a,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const a=[],c=this._animations.get(e);let h;const g=new Map;if(c?(h=Jo(this._driver,t,c,ql,Xo,new Map,new Map,i,Ti,a),h.forEach(x=>{const L=br(g,x.element,new Map);x.postStyleProps.forEach(X=>L.set(X,null))})):(a.push(function ys(){return new d.wOt(3300,!1)}()),h=[]),a.length)throw function Eo(n){return new d.wOt(3504,!1)}();g.forEach((x,L)=>{x.forEach((X,ee)=>{x.set(ee,this._driver.computeStyle(L,ee,xt))})});const A=Pi(h.map(x=>{const L=g.get(x.element);return this._buildPlayer(x,new Map,L)}));return this._playersById.set(e,A),A.onDestroy(()=>this.destroy(e)),this.players.push(A),A}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function er(n){return new d.wOt(3301,!1)}();return t}listen(e,t,i,a){const c=Mi(t,"","","");return vs(this._getPlayer(e),i,c,a),()=>{}}command(e,t,i,a){if("register"==i)return void this.register(e,a[0]);if("create"==i)return void this.create(e,t,a[0]||{});const c=this._getPlayer(e);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const ll="ng-animate-queued",Ws="ng-animate-disabled",Ro=[],so={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ts="__ng_removed";class Jl{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Bc(n){return n??null}(i?e.value:e),i){const{value:c,...h}=e;this.options=h}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(a=>{null==i[a]&&(i[a]=t[a])})}}}const ea="void",ul=new Jl(ea);class dl{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dr(t,this._hostClassName)}listen(e,t,i,a){if(!this._triggers.has(t))throw function Bs(n,e){return new d.wOt(3302,!1)}();if(null==i||0==i.length)throw function Ys(n){return new d.wOt(3303,!1)}();if(!function ec(n){return"start"==n||"done"==n}(i))throw function Wl(n,e){return new d.wOt(3400,!1)}();const c=br(this._elementListeners,e,[]),h={name:t,phase:i,callback:a};c.push(h);const g=br(this._engine.statesByElement,e,new Map);return g.has(t)||(Dr(e,To),Dr(e,To+"-"+t),g.set(t,ul)),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(h);v>=0&&c.splice(v,1),this._triggers.has(t)||g.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ka(n){return new d.wOt(3401,!1)}();return t}trigger(e,t,i,a=!0){const c=this._getTrigger(t),h=new Po(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Dr(e,To),Dr(e,To+"-"+t),this._engine.statesByElement.set(e,g=new Map));let v=g.get(t);const A=new Jl(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&A.absorbOptions(v.options),g.set(t,A),v||(v=ul),A.value!==ea&&v.value===A.value){if(!function nc(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let a=0;a<t.length;a++){const c=t[a];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(v.params,A.params)){const pe=[],Ae=c.matchStyles(v.value,v.params,pe),nt=c.matchStyles(A.value,A.params,pe);pe.length?this._engine.reportError(pe):this._engine.afterFlush(()=>{gr(e,Ae),Bi(e,nt)})}return}const X=br(this._engine.playersByElement,e,[]);X.forEach(pe=>{pe.namespaceId==this.id&&pe.triggerName==t&&pe.queued&&pe.destroy()});let ee=c.matchTransition(v.value,A.value,e,A.params),de=!1;if(!ee){if(!a)return;ee=c.fallbackTransition,de=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ee,fromState:v,toState:A,player:h,isFallbackTransition:de}),de||(Dr(e,ll),h.onStart(()=>{ns(e,ll)})),h.onDone(()=>{let pe=this.players.indexOf(h);pe>=0&&this.players.splice(pe,1);const Ae=this._engine.playersByElement.get(e);if(Ae){let nt=Ae.indexOf(h);nt>=0&&Ae.splice(nt,1)}}),this.players.push(h),X.push(h),h}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,bo,!0);i.forEach(a=>{if(a[ts])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,i,a){const c=this._engine.statesByElement.get(e),h=new Map;if(c){const g=[];if(c.forEach((v,A)=>{if(h.set(A,v.value),this._triggers.has(A)){const x=this.trigger(e,A,ea,a);x&&g.push(x)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,h),i&&Pi(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const a=new Set;t.forEach(c=>{const h=c.name;if(a.has(h))return;a.add(h);const v=this._triggers.get(h).fallbackTransition,A=i.get(h)||ul,x=new Jl(ea),L=new Po(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:v,fromState:A,toState:x,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(e):[];if(c&&c.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(i.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{const c=e[ts];(!c||c===so)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Dr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const c=i.element,h=this._elementListeners.get(c);h&&h.forEach(g=>{if(g.name==i.triggerName){const v=Mi(c,i.triggerName,i.fromState.value,i.toState.value);v._data=e,vs(i.player,g.phase,v,g.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(i)}),this._queue=[],t.sort((i,a)=>{const c=i.transition.ast.depCount,h=a.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class zu{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,a){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=a,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new dl(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let h=!1,g=this.driver.getParentElement(t);for(;g;){const v=a.get(g);if(v){const A=i.indexOf(v);i.splice(A+1,0,e),h=!0;break}g=this.driver.getParentElement(g)}h||i.unshift(e)}else i.push(e);return a.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let a of i.values())if(a.namespaceId){const c=this._fetchNamespace(a.namespaceId);c&&t.add(c)}return t}trigger(e,t,i,a){if(oo(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,i,a),!0}return!1}insertNode(e,t,i,a){if(!oo(t))return;const c=t[ts];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,i)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dr(e,Ws)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ns(e,Ws))}removeNode(e,t,i){if(oo(t)){this.scheduler?.notify();const a=e?this._fetchNamespace(e):null;a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,a,c){this.collectedLeaveElements.push(t),t[ts]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,i,a,c){return oo(t)?this._fetchNamespace(e).listen(t,i,a,c):()=>{}}_buildInstruction(e,t,i,a,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,bo,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Js,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ts];if(t&&t.setForRemoval){if(e[ts]=so,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ws)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Dr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Pi(t).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw function Zd(n){return new d.wOt(3402,!1)}()}_flushAnimations(e,t){const i=new il,a=[],c=new Map,h=[],g=new Map,v=new Map,A=new Map,x=new Set;this.disabledNodes.forEach(Ut=>{x.add(Ut);const tn=this.driver.query(Ut,".ng-animate-queued",!0);for(let dn=0;dn<tn.length;dn++)x.add(tn[dn])});const L=this.bodyNode,X=Array.from(this.statesByElement.keys()),ee=Ss(X,this.collectedEnterElements),de=new Map;let pe=0;ee.forEach((Ut,tn)=>{const dn=ql+pe++;de.set(tn,dn),Ut.forEach(ar=>Dr(ar,dn))});const Ae=[],nt=new Set,pt=new Set;for(let Ut=0;Ut<this.collectedLeaveElements.length;Ut++){const tn=this.collectedLeaveElements[Ut],dn=tn[ts];dn&&dn.setForRemoval&&(Ae.push(tn),nt.add(tn),dn.hasAnimation?this.driver.query(tn,".ng-star-inserted",!0).forEach(ar=>nt.add(ar)):pt.add(tn))}const Qe=new Map,vt=Ss(X,Array.from(nt));vt.forEach((Ut,tn)=>{const dn=Xo+pe++;Qe.set(tn,dn),Ut.forEach(ar=>Dr(ar,dn))}),e.push(()=>{ee.forEach((Ut,tn)=>{const dn=de.get(tn);Ut.forEach(ar=>ns(ar,dn))}),vt.forEach((Ut,tn)=>{const dn=Qe.get(tn);Ut.forEach(ar=>ns(ar,dn))}),Ae.forEach(Ut=>{this.processLeaveNode(Ut)})});const nn=[],un=[];for(let Ut=this._namespaceList.length-1;Ut>=0;Ut--)this._namespaceList[Ut].drainQueuedTransitions(t).forEach(dn=>{const ar=dn.player,Us=dn.element;if(nn.push(ar),this.collectedEnterElements.length){const vo=Us[ts];if(vo&&vo.setForMove){if(vo.previousTriggersValues&&vo.previousTriggersValues.has(dn.triggerName)){const em=vo.previousTriggersValues.get(dn.triggerName),Hl=this.statesByElement.get(dn.element);if(Hl&&Hl.has(dn.triggerName)){const nA=Hl.get(dn.triggerName);nA.value=em,Hl.set(dn.triggerName,nA)}}return void ar.destroy()}}const $u=!L||!this.driver.containsElement(L,Us),Wa=Qe.get(Us),Gf=de.get(Us),Di=this._buildInstruction(dn,i,Gf,Wa,$u);if(Di.errors&&Di.errors.length)return void un.push(Di);if($u)return ar.onStart(()=>gr(Us,Di.fromStyles)),ar.onDestroy(()=>Bi(Us,Di.toStyles)),void a.push(ar);if(dn.isFallbackTransition)return ar.onStart(()=>gr(Us,Di.fromStyles)),ar.onDestroy(()=>Bi(Us,Di.toStyles)),void a.push(ar);const OO=[];Di.timelines.forEach(vo=>{vo.stretchStartingKeyframe=!0,this.disabledNodes.has(vo.element)||OO.push(vo)}),Di.timelines=OO,i.append(Us,Di.timelines),h.push({instruction:Di,player:ar,element:Us}),Di.queriedElements.forEach(vo=>br(g,vo,[]).push(ar)),Di.preStyleProps.forEach((vo,em)=>{if(vo.size){let Hl=v.get(em);Hl||v.set(em,Hl=new Set),vo.forEach((nA,tM)=>Hl.add(tM))}}),Di.postStyleProps.forEach((vo,em)=>{let Hl=A.get(em);Hl||A.set(em,Hl=new Set),vo.forEach((nA,tM)=>Hl.add(tM))})});if(un.length){const Ut=[];un.forEach(tn=>{Ut.push(function Jd(n,e){return new d.wOt(3505,!1)}())}),nn.forEach(tn=>tn.destroy()),this.reportError(Ut)}const Mn=new Map,Mr=new Map;h.forEach(Ut=>{const tn=Ut.element;i.has(tn)&&(Mr.set(tn,tn),this._beforeAnimationBuild(Ut.player.namespaceId,Ut.instruction,Mn))}),a.forEach(Ut=>{const tn=Ut.element;this._getPreviousPlayers(tn,!1,Ut.namespaceId,Ut.triggerName,null).forEach(ar=>{br(Mn,tn,[]).push(ar),ar.destroy()})});const Xd=Ae.filter(Ut=>ta(Ut,v,A)),Yd=new Map;tc(Yd,this.driver,pt,A,xt).forEach(Ut=>{ta(Ut,v,A)&&Xd.push(Ut)});const Jg=new Map;ee.forEach((Ut,tn)=>{tc(Jg,this.driver,new Set(Ut),v,"!")}),Xd.forEach(Ut=>{const tn=Yd.get(Ut),dn=Jg.get(Ut);Yd.set(Ut,new Map([...tn?.entries()??[],...dn?.entries()??[]]))});const eM=[],MO=[],xO={};h.forEach(Ut=>{const{element:tn,player:dn,instruction:ar}=Ut;if(i.has(tn)){if(x.has(tn))return dn.onDestroy(()=>Bi(tn,ar.toStyles)),dn.disabled=!0,dn.overrideTotalTime(ar.totalTime),void a.push(dn);let Us=xO;if(Mr.size>1){let Wa=tn;const Gf=[];for(;Wa=Wa.parentNode;){const Di=Mr.get(Wa);if(Di){Us=Di;break}Gf.push(Wa)}Gf.forEach(Di=>Mr.set(Di,Us))}const $u=this._buildAnimation(dn.namespaceId,ar,Mn,c,Jg,Yd);if(dn.setRealPlayer($u),Us===xO)eM.push(dn);else{const Wa=this.playersByElement.get(Us);Wa&&Wa.length&&(dn.parentPlayer=Pi(Wa)),a.push(dn)}}else gr(tn,ar.fromStyles),dn.onDestroy(()=>Bi(tn,ar.toStyles)),MO.push(dn),x.has(tn)&&a.push(dn)}),MO.forEach(Ut=>{const tn=c.get(Ut.element);if(tn&&tn.length){const dn=Pi(tn);Ut.setRealPlayer(dn)}}),a.forEach(Ut=>{Ut.parentPlayer?Ut.syncPlayerEvents(Ut.parentPlayer):Ut.destroy()});for(let Ut=0;Ut<Ae.length;Ut++){const tn=Ae[Ut],dn=tn[ts];if(ns(tn,Xo),dn&&dn.hasAnimation)continue;let ar=[];if(g.size){let $u=g.get(tn);$u&&$u.length&&ar.push(...$u);let Wa=this.driver.query(tn,Js,!0);for(let Gf=0;Gf<Wa.length;Gf++){let Di=g.get(Wa[Gf]);Di&&Di.length&&ar.push(...Di)}}const Us=ar.filter($u=>!$u.destroyed);Us.length?jc(this,tn,Us):this.processLeaveNode(tn)}return Ae.length=0,eM.forEach(Ut=>{this.players.push(Ut),Ut.onDone(()=>{Ut.destroy();const tn=this.players.indexOf(Ut);this.players.splice(tn,1)}),Ut.play()}),eM}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,a,c){let h=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(h=g)}else{const g=this.playersByElement.get(e);if(g){const v=!c||c==ea;g.forEach(A=>{A.queued||!v&&A.triggerName!=a||h.push(A)})}}return(i||a)&&(h=h.filter(g=>!(i&&i!=g.namespaceId||a&&a!=g.triggerName))),h}_beforeAnimationBuild(e,t,i){const c=t.element,h=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const A=v.element,x=A!==c,L=br(i,A,[]);this._getPreviousPlayers(A,x,h,g,t.toState).forEach(ee=>{const de=ee.getRealPlayer();de.beforeDestroy&&de.beforeDestroy(),ee.destroy(),L.push(ee)})}gr(c,t.fromStyles)}_buildAnimation(e,t,i,a,c,h){const g=t.triggerName,v=t.element,A=[],x=new Set,L=new Set,X=t.timelines.map(de=>{const pe=de.element;x.add(pe);const Ae=pe[ts];if(Ae&&Ae.removedBeforeQueried)return new Q(de.duration,de.delay);const nt=pe!==v,pt=function $c(n){const e=[];return Wu(n,e),e}((i.get(pe)||Ro).map(Mn=>Mn.getRealPlayer())).filter(Mn=>!!Mn.element&&Mn.element===pe),Qe=c.get(pe),vt=h.get(pe),nn=wa(this._normalizer,de.keyframes,Qe,vt),un=this._buildPlayer(de,nn,pt);if(de.subTimeline&&a&&L.add(pe),nt){const Mn=new Po(e,g,pe);Mn.setRealPlayer(un),A.push(Mn)}return un});A.forEach(de=>{br(this.playersByQueriedElement,de.element,[]).push(de),de.onDone(()=>function Mo(n,e,t){let i=n.get(e);if(i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,de.element,de))}),x.forEach(de=>Dr(de,Zs));const ee=Pi(X);return ee.onDestroy(()=>{x.forEach(de=>ns(de,Zs)),Bi(v,t.toStyles)}),L.forEach(de=>{br(a,de,[]).push(ee)}),ee}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Q(e.duration,e.delay)}}class Po{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Q,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(a=>vs(e,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){br(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function oo(n){return n&&1===n.nodeType}function hl(n,e){const t=n.style.display;return n.style.display=e??"none",t}function tc(n,e,t,i,a){const c=[];t.forEach(v=>c.push(hl(v)));const h=[];i.forEach((v,A)=>{const x=new Map;v.forEach(L=>{const X=e.computeStyle(A,L,a);x.set(L,X),(!X||0==X.length)&&(A[ts]=Gs,h.push(A))}),n.set(A,x)});let g=0;return t.forEach(v=>hl(v,c[g++])),h}function Ss(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const a=new Set(e),c=new Map;function h(g){if(!g)return 1;let v=c.get(g);if(v)return v;const A=g.parentNode;return v=t.has(A)?A:a.has(A)?1:h(A),c.set(g,v),v}return e.forEach(g=>{const v=h(g);1!==v&&t.get(v).push(g)}),t}function Dr(n,e){n.classList?.add(e)}function ns(n,e){n.classList?.remove(e)}function jc(n,e,t){Pi(t).onDone(()=>n.processLeaveNode(e))}function Wu(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof H?Wu(i.players,e):e.push(i)}}function ta(n,e,t){const i=t.get(n);if(!i)return!1;let a=e.get(n);return a?i.forEach(c=>a.add(c)):e.set(n,i),t.delete(n),!0}class na{constructor(e,t,i,a){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new zu(e.body,t,i,a),this._timelineEngine=new ci(e.body,t,i),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(e,t,i,a,c){const h=e+"-"+a;let g=this._triggerCache[h];if(!g){const v=[],x=Ds(this._driver,c,v,[]);if(v.length)throw function Jn(n,e){return new d.wOt(3404,!1)}();g=function As(n,e,t){return new rn(n,e,t)}(a,x,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(t,a,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,a){if("@"==i.charAt(0)){const[c,h]=qo(i);this._timelineEngine.command(c,t,h,a)}else this._transitionEngine.trigger(e,t,i,a)}listen(e,t,i,a,c){if("@"==i.charAt(0)){const[h,g]=qo(i);return this._timelineEngine.listen(h,t,g,c)}return this._transitionEngine.listen(e,t,i,a,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class rc{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let a=rc.initialStylesByElement.get(e);a||rc.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bi(this._element,this._initialStyles),this._endStyles&&(Bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rc.initialStylesByElement.delete(this._element),this._startStyles&&(gr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gr(this._element,this._endStyles),this._endStyles=null),Bi(this._element,this._initialStyles),this._state=3)}}function Ra(n){let e=null;return n.forEach((t,i)=>{(function ao(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Hc{constructor(e,t,i,a){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{"offset"!==a&&e.set(a,this._finished?i:bs(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class qs{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return an(e,t)}getParentElement(e){return fn(e)}query(e,t,i){return xi(e,t,i)}computeStyle(e,t,i){return bs(e,t)}animate(e,t,i,a,c,h=[]){const v={duration:i,delay:a,fill:0==a?"both":"forwards"};c&&(v.easing=c);const A=new Map,x=h.filter(ee=>ee instanceof Hc);(function Ts(n,e){return 0===n||0===e})(i,a)&&x.forEach(ee=>{ee.currentSnapshot.forEach((de,pe)=>A.set(pe,de))});let L=function Kt(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(ee=>new Map(ee));L=function xc(n,e,t){if(t.size&&e.length){let i=e[0],a=[];if(t.forEach((c,h)=>{i.has(h)||a.push(h),i.set(h,c)}),a.length)for(let c=1;c<e.length;c++){let h=e[c];a.forEach(g=>h.set(g,bs(n,g)))}}return e}(e,L,A);const X=function Gu(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Ra(e[0]),e.length>1&&(i=Ra(e[e.length-1]))):e instanceof Map&&(t=Ra(e)),t||i?new rc(n,t,i):null}(e,L);return new Hc(e,L,v,X)}}const P="@",k="@.disabled";class Z{constructor(e,t,i,a){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=a,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,a=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==P&&t==k?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ie extends Z{constructor(e,t,i,a,c){super(t,i,a,c),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==P?"."==t.charAt(1)&&t==k?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==P){const a=function Be(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),h="";return c.charAt(0)!=P&&([c,h]=function It(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,a,c,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(e,t,i)}}class Hn{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(a,c)=>{const h=c?.parentNode(a);h&&c.removeChild(h,a)}}createRenderer(e,t){const a=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const A=this._rendererCache;let x=A.get(a);return x||(x=new Z("",a,this.engine,()=>A.delete(a)),A.set(a,x)),x}const c=t.id,h=t.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=A=>{Array.isArray(A)?A.forEach(g):this.engine.registerTrigger(c,h,e,A.name,A)};return t.data.animation.forEach(g),new Ie(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const a=this._animationCallbacksBuffer;0==a.length&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(c=>{const[h,g]=c;h(g)}),this._animationCallbacksBuffer=[]})}),a.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var dt=G(177);let tr=(()=>{class n extends na{constructor(t,i,a){super(t,i,a,(0,d.WQX)(d.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(d.KVO(dt.qQ),d.KVO(Xa),d.KVO(Ya))};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}return n})();const Nn=[{provide:Ya,useFactory:function In(){return new Co}},{provide:na,useClass:tr},{provide:d._9s,useFactory:function Ar(n,e,t){return new Hn(n,e,t)},deps:[R.B7,na,d.SKi]}],Br=[{provide:Xa,useFactory:()=>new qs},{provide:d.bc$,useValue:"BrowserAnimations"},...Nn];var qn=G(1413);const Qr=["*"];let ur=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),ei=(()=>{class n{ripple=!1;inputStyle=(0,d.vPA)("outlined");overlayOptions={};csp=(0,d.vPA)({nonce:void 0});filterMatchModeOptions={text:[ur.STARTS_WITH,ur.CONTAINS,ur.NOT_CONTAINS,ur.ENDS_WITH,ur.EQUALS,ur.NOT_EQUALS],numeric:[ur.EQUALS,ur.NOT_EQUALS,ur.LESS_THAN,ur.LESS_THAN_OR_EQUAL_TO,ur.GREATER_THAN,ur.GREATER_THAN_OR_EQUAL_TO],date:[ur.DATE_IS,ur.DATE_IS_NOT,ur.DATE_BEFORE,ur.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new qn.B;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=d.VBU({type:n,selectors:[["p-header"]],standalone:!0,features:[d.aNF],ngContentSelectors:Qr,decls:1,vars:0,template:function(i,a){1&i&&(d.NAR(),d.SdG(0))},encapsulation:2})}return n})(),xo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=d.VBU({type:n,selectors:[["p-footer"]],standalone:!0,features:[d.aNF],ngContentSelectors:Qr,decls:1,vars:0,template:function(i,a){1&i&&(d.NAR(),d.SdG(0))},encapsulation:2})}return n})(),rs=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(d.rXU(d.C4Q))};static \u0275dir=d.FsC({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[d.Mj6.None,"pTemplate","name"]},standalone:!0})}return n})(),Ma=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({})}return n})(),Oo=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})(),$e=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let a=i.trim().split(" ");for(let c=0;c<a.length;c++)t.classList.add(a[c])}else{let a=i.split(" ");for(let c=0;c<a.length;c++)t.className+=" "+a[c]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(a=>a.split(" ").forEach(c=>this.removeClass(t,c)))}static hasClass(t,i){return!(!t||!i)&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,a=0;for(var c=0;c<i.length;c++){if(i[c]==t)return a;1==i[c].nodeType&&a++}return-1}static indexWithinGroup(t,i){let a=t.parentNode?t.parentNode.childNodes:[],c=0;for(var h=0;h<a.length;h++){if(a[h]==t)return c;a[h].attributes&&a[h].attributes[i]&&1==a[h].nodeType&&c++}return-1}static appendOverlay(t,i,a="self"){"self"!==a&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,a="self",c=!0){t&&i&&(c&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===a?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,a=!0){const c=pt=>{if(pt)return"relative"===getComputedStyle(pt).getPropertyValue("position")?pt:c(pt.parentElement)},h=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),g=i.offsetHeight??i.getBoundingClientRect().height,v=i.getBoundingClientRect(),A=this.getWindowScrollTop(),x=this.getWindowScrollLeft(),L=this.getViewport(),ee=c(t)?.getBoundingClientRect()||{top:-1*A,left:-1*x};let de,pe;v.top+g+h.height>L.height?(de=v.top-ee.top-h.height,t.style.transformOrigin="bottom",v.top+de<0&&(de=-1*v.top)):(de=g+v.top-ee.top,t.style.transformOrigin="top");const Ae=v.left+h.width-L.width;pe=h.width>L.width?-1*(v.left-ee.left):Ae>0?v.left-ee.left-Ae:v.left-ee.left,t.style.top=de+"px",t.style.left=pe+"px",a&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,a=!0){const c=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),h=c.height,g=c.width,v=i.offsetHeight??i.getBoundingClientRect().height,A=i.offsetWidth??i.getBoundingClientRect().width,x=i.getBoundingClientRect(),L=this.getWindowScrollTop(),X=this.getWindowScrollLeft(),ee=this.getViewport();let de,pe;x.top+v+h>ee.height?(de=x.top+L-h,t.style.transformOrigin="bottom",de<0&&(de=L)):(de=v+x.top+L,t.style.transformOrigin="top"),pe=x.left+g>ee.width?Math.max(0,x.left+X+A-g):x.left+X,t.style.top=de+"px",t.style.left=pe+"px",a&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let a=this.getParents(t);const c=/(auto|scroll)/,h=g=>{let v=window.getComputedStyle(g,null);return c.test(v.getPropertyValue("overflow"))||c.test(v.getPropertyValue("overflowX"))||c.test(v.getPropertyValue("overflowY"))};for(let g of a){let v=1===g.nodeType&&g.dataset.scrollselectors;if(v){let A=v.split(",");for(let x of A){let L=this.findSingle(g,x);L&&h(L)&&i.push(L)}}9!==g.nodeType&&h(g)&&i.push(g)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let a=getComputedStyle(t).getPropertyValue("borderTopWidth"),c=a?parseFloat(a):0,h=getComputedStyle(t).getPropertyValue("paddingTop"),g=h?parseFloat(h):0,v=t.getBoundingClientRect(),x=i.getBoundingClientRect().top+document.body.scrollTop-(v.top+document.body.scrollTop)-c-g,L=t.scrollTop,X=t.clientHeight,ee=this.getOuterHeight(i);x<0?t.scrollTop=L+x:x+ee>X&&(t.scrollTop=L+x-X+ee)}static fadeIn(t,i){t.style.opacity=0;let a=+new Date,c=0,h=function(){c=+t.style.opacity.replace(",",".")+((new Date).getTime()-a)/i,t.style.opacity=c,a=+new Date,+c<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(t,i){var a=1,g=50/i;let v=setInterval(()=>{(a-=g)<=0&&(a=0,clearInterval(v)),t.style.opacity=a},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(t,i)}static getOuterWidth(t,i){let a=t.offsetWidth;if(i){let c=getComputedStyle(t);a+=parseFloat(c.marginLeft)+parseFloat(c.marginRight)}return a}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,a=getComputedStyle(t);return i+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),i}static width(t){let i=t.offsetWidth,a=getComputedStyle(t);return i-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,a=getComputedStyle(t);return i+=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),i}static getOuterHeight(t,i){let a=t.offsetHeight;if(i){let c=getComputedStyle(t);a+=parseFloat(c.marginTop)+parseFloat(c.marginBottom)}return a}static getHeight(t){let i=t.offsetHeight,a=getComputedStyle(t);return i-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,a=getComputedStyle(t);return i-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),i}static getViewport(){let t=window,i=document,a=i.documentElement,c=i.getElementsByTagName("body")[0];return{width:t.innerWidth||a.clientWidth||c.clientWidth,height:t.innerHeight||a.clientHeight||c.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let a=t.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let a=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=a,a}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,a){t[i].apply(t,a)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let a=this.find(t,this.getFocusableSelectorString(i)),c=[];for(let h of a){const g=getComputedStyle(h);this.isVisible(h)&&"none"!=g.display&&"hidden"!=g.visibility&&c.push(h)}return c}static getFocusableElement(t,i=""){let a=this.findSingle(t,this.getFocusableSelectorString(i));if(a){const c=getComputedStyle(a);if(this.isVisible(a)&&"none"!=c.display&&"hidden"!=c.visibility)return a}return null}static getFirstFocusableElement(t,i=""){const a=this.getFocusableElements(t,i);return a.length>0?a[0]:null}static getLastFocusableElement(t,i){const a=this.getFocusableElements(t,i);return a.length>0?a[a.length-1]:null}static getNextFocusableElement(t,i=!1){const a=n.getFocusableElements(t);let c=0;if(a&&a.length>0){const h=a.indexOf(a[0].ownerDocument.activeElement);i?c=-1==h||0===h?a.length-1:h-1:-1!=h&&h!==a.length-1&&(c=h+1)}return a[c]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const a=typeof t;if("string"===a)return document.querySelector(t);if("object"===a&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const h=(g=t)&&g.constructor&&g.call&&g.apply?t():t;return h&&9===h.nodeType||this.isExist(h)?h:null}var g}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){const a=t.getAttribute(i);return isNaN(a)?"true"===a||"false"===a?"true"===a:a:+a}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...a){if(t){const c=document.createElement(t);return this.setAttributes(c,i),c.append(...a),c}}static setAttribute(t,i="",a){this.isElement(t)&&null!=a&&t.setAttribute(i,a)}static setAttributes(t,i={}){if(this.isElement(t)){const a=(c,h)=>{const g=t?.$attrs?.[c]?[t?.$attrs?.[c]]:[];return[h].flat().reduce((v,A)=>{if(null!=A){const x=typeof A;if("string"===x||"number"===x)v.push(A);else if("object"===x){const L=Array.isArray(A)?a(c,A):Object.entries(A).map(([X,ee])=>"style"!==c||!ee&&0!==ee?ee?X:void 0:`${X.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${ee}`);v=L.length?v.concat(L.filter(X=>!!X)):v}}return v},g)};Object.entries(i).forEach(([c,h])=>{if(null!=h){const g=c.match(/^on(.+)/);g?t.addEventListener(g[1].toLowerCase(),h):"pBind"===c?this.setAttributes(t,h):(h="class"===c?[...new Set(a("class",h))].join(" ").trim():"style"===c?a("style",h).join(";").trim():h,(t.$attrs=t.$attrs||{})&&(t.$attrs[c]=h),t.setAttribute(c,h))}})}}static isFocusableElement(t,i=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`)}}return n})();class ln{element;listener;scrollableParents;constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=$e.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class No{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var c,h,g,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((h=e.length)!=t.length)return!1;for(c=h;0!=c--;)if(!this.equalsByValue(e[c],t[c]))return!1;return!0}if(i!=a)return!1;var v=this.isDate(e),A=this.isDate(t);if(v!=A)return!1;if(v&&A)return e.getTime()==t.getTime();var x=e instanceof RegExp,L=t instanceof RegExp;if(x!=L)return!1;if(x&&L)return e.toString()==t.toString();var X=Object.keys(e);if((h=X.length)!==Object.keys(t).length)return!1;for(c=h;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,X[c]))return!1;for(c=h;0!=c--;)if(!this.equalsByValue(e[g=X[c]],t[g]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),a=e;for(let c=0,h=i.length;c<h;++c){if(null==a)return null;a=a[i[c]]}return a}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,a){if(i.length>0){let c=!1;for(let h=0;h<i.length;h++)if(this.findIndexInList(i[h],a)>t){i.splice(h,0,e),c=!0;break}c||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let a=0;a<t.length;a++)if(t[a]==e){i=a;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,a=1){let c=-1;const h=this.isEmpty(e),g=this.isEmpty(t);return c=h&&g?0:h?a:g?-a:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,i,{numeric:!0}):e<t?-1:e>t?1:0,c}static sort(e,t,i=1,a,c=1){const h=No.compare(e,t,a,i);let g=i;return(No.isEmpty(e)||No.isEmpty(t))&&(g=1===c?i:c),g*h}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var c,h,g,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((h=e.length)!=t.length)return!1;for(c=h;0!=c--;)if(!this.deepEquals(e[c],t[c]))return!1;return!0}if(i!=a)return!1;var v=e instanceof Date,A=t instanceof Date;if(v!=A)return!1;if(v&&A)return e.getTime()==t.getTime();var x=e instanceof RegExp,L=t instanceof RegExp;if(x!=L)return!1;if(x&&L)return e.toString()==t.toString();var X=Object.keys(e);if((h=X.length)!==Object.keys(t).length)return!1;for(c=h;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,X[c]))return!1;for(c=h;0!=c--;)if(!this.deepEquals(e[g=X[c]],t[g]))return!1;return!0}return e!=e&&t!=t}}var Rs=0;function _i(n="pn_id_"){return`${n}${++Rs}`}var Hi=function kr(){let n=[];const a=c=>c&&parseInt(c.style.zIndex,10)||0;return{get:a,set:(c,h,g)=>{h&&(h.style.zIndex=String(((c,h)=>{let g=n.length>0?n[n.length-1]:{key:c,value:h},v=g.value+(g.key===c?0:h)+2;return n.push({key:c,value:v}),v})(c,g)))},clear:c=>{c&&((c=>{n=n.filter(h=>h.value!==c)})(a(c)),c.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const jn=["*"];let ko=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=No.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=d.VBU({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[d.Mj6.HasDecoratorInputTransform,"spin","spin",d.L39],styleClass:"styleClass"},standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:jn,decls:1,vars:0,template:function(i,a){1&i&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})}return n})(),yi=(()=>{class n extends ko{static \u0275fac=(()=>{let t;return function(a){return(t||(t=d.xGo(n)))(a||n)}})();static \u0275cmp=d.VBU({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[d.Vt3,d.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,a){1&i&&(d.qSk(),d.j41(0,"svg",0),d.nrm(1,"path",1),d.k0s()),2&i&&(d.HbH(a.getClassNames()),d.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return n})(),Oi=(()=>{class n extends ko{static \u0275fac=(()=>{let t;return function(a){return(t||(t=d.xGo(n)))(a||n)}})();static \u0275cmp=d.VBU({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[d.Vt3,d.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,a){1&i&&(d.qSk(),d.j41(0,"svg",0),d.nrm(1,"path",1),d.k0s()),2&i&&(d.HbH(a.getClassNames()),d.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return n})(),xa=(()=>{class n extends ko{static \u0275fac=(()=>{let t;return function(a){return(t||(t=d.xGo(n)))(a||n)}})();static \u0275cmp=d.VBU({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[d.Vt3,d.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,a){1&i&&(d.qSk(),d.j41(0,"svg",0),d.nrm(1,"path",1),d.k0s()),2&i&&(d.HbH(a.getClassNames()),d.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return n})(),Ps=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,a,c,h,g){this.document=t,this.platformId=i,this.renderer=a,this.el=c,this.zone=h,this.config=g}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,dt.UE)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if($e.removeClass(i,"p-ink-active"),!$e.getHeight(i)&&!$e.getWidth(i)){let g=Math.max($e.getOuterWidth(this.el.nativeElement),$e.getOuterHeight(this.el.nativeElement));i.style.height=g+"px",i.style.width=g+"px"}let a=$e.getOffset(this.el.nativeElement),c=t.pageX-a.left+this.document.body.scrollTop-$e.getWidth(i)/2,h=t.pageY-a.top+this.document.body.scrollLeft-$e.getHeight(i)/2;this.renderer.setStyle(i,"top",h+"px"),this.renderer.setStyle(i,"left",c+"px"),$e.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let g=this.getInk();g&&$e.removeClass(g,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if("string"==typeof t[i].className&&-1!==t[i].className.indexOf("p-ink"))return t[i];return null}resetInk(){let t=this.getInk();t&&$e.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),$e.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,$e.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(d.rXU(dt.qQ),d.rXU(d.Agw),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(ei,8))};static \u0275dir=d.FsC({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),ra=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({})}return n})(),Ni=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:_i()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,a,c,h,g){this.platformId=t,this.el=i,this.zone=a,this.config=c,this.renderer=h,this.viewContainer=g}ngAfterViewInit(){(0,dt.UE)(this.platformId)&&this.zone.runOutsideAngular(()=>{const t=this.getOption("tooltipEvent");if(("hover"===t||"both"===t)&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),"focus"===t||"both"===t){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){(this.isAutoHide()||!($e.hasClass(t.relatedTarget,"p-tooltip")||$e.hasClass(t.relatedTarget,"p-tooltip-text")||$e.hasClass(t.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?$e.appendChild(this.container,this.el.nativeElement):$e.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){this.getOption("tooltipLabel")&&!this.getOption("disabled")&&(this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),$e.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Hi.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Hi.clear(this.container),this.remove()}updateText(){const t=this.getOption("tooltipLabel");if(t instanceof d.C4Q){const i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(a=>this.tooltipText.appendChild(a))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+$e.getWindowScrollLeft(),top:t.top+$e.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");const t=this.activeElement,i=this.getHostOffset(),a=i.left+$e.getOuterWidth(t),c=i.top+($e.getOuterHeight(t)-$e.getOuterHeight(this.container))/2;this.container.style.left=a+this.getOption("positionLeft")+"px",this.container.style.top=c+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")&&$e.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-$e.getOuterWidth(this.container),a=t.top+($e.getOuterHeight(this.el.nativeElement)-$e.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+($e.getOuterWidth(this.el.nativeElement)-$e.getOuterWidth(this.container))/2,a=t.top-$e.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+($e.getOuterWidth(this.el.nativeElement)-$e.getOuterWidth(this.container))/2,a=t.top+$e.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return $e.hasClass(t,"p-inputwrapper")?$e.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,a=t.left,c=$e.getOuterWidth(this.container),h=$e.getOuterHeight(this.container),g=$e.getViewport();return a+c>g.width||a<0||i<0||i+h>g.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ln(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){const t=this.getOption("tooltipEvent");if(("hover"===t||"both"===t)&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),"focus"===t||"both"===t){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):$e.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Hi.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(d.rXU(d.Agw),d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(ei),d.rXU(d.sFG),d.rXU(d.c1b))};static \u0275dir=d.FsC({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,a){1&i&&d.bIt("keydown.escape",function(h){return a.onPressEscape(h)},!1,d.EBC)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[d.Mj6.HasDecoratorInputTransform,"escape","escape",d.L39],showDelay:[d.Mj6.HasDecoratorInputTransform,"showDelay","showDelay",d.Udg],hideDelay:[d.Mj6.HasDecoratorInputTransform,"hideDelay","hideDelay",d.Udg],life:[d.Mj6.HasDecoratorInputTransform,"life","life",d.Udg],positionTop:[d.Mj6.HasDecoratorInputTransform,"positionTop","positionTop",d.Udg],positionLeft:[d.Mj6.HasDecoratorInputTransform,"positionLeft","positionLeft",d.Udg],autoHide:[d.Mj6.HasDecoratorInputTransform,"autoHide","autoHide",d.L39],fitContent:[d.Mj6.HasDecoratorInputTransform,"fitContent","fitContent",d.L39],hideOnEscape:[d.Mj6.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",d.L39],content:[d.Mj6.None,"pTooltip","content"],disabled:[d.Mj6.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[d.GFd,d.OA$]})}return n})(),pl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD]})}return n})();const gl=["*"];function Qu(n,e){1&n&&d.eu8(0)}function zc(n,e){if(1&n&&(d.qex(0),d.DNE(1,Qu,1,0,"ng-container",3),d.bVm()),2&n){const t=d.XpG(2);d.R7$(),d.Y8G("ngTemplateOutlet",t.contentTemplate)}}function Wc(n,e){if(1&n&&(d.j41(0,"div",1),d.SdG(1),d.DNE(2,zc,2,1,"ng-container",2),d.k0s()),2&n){const t=d.XpG();d.Y8G("hidden",!t.selected),d.BMQ("id",t.tabView.getTabContentId(t.id))("aria-hidden",!t.selected)("aria-labelledby",t.tabView.getTabHeaderActionId(t.id))("data-pc-name","tabpanel"),d.R7$(2),d.Y8G("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const qf=["content"],Gc=["navbar"],tv=["prevBtn"],sh=["nextBtn"],Kf=["inkbar"],nv=["elementToObserve"],Qf=n=>({"p-tabview p-component":!0,"p-tabview-scrollable":n}),rv=(n,e)=>({"p-highlight":n,"p-disabled":e});function Xf(n,e){1&n&&d.nrm(0,"ChevronLeftIcon"),2&n&&d.BMQ("aria-hidden",!0)}function tm(n,e){}function nm(n,e){1&n&&d.DNE(0,tm,0,0,"ng-template")}function rm(n,e){if(1&n){const t=d.RV6();d.j41(0,"button",15,4),d.bIt("click",function(){d.eBV(t);const a=d.XpG();return d.Njj(a.navBackward())}),d.DNE(2,Xf,1,1,"ChevronLeftIcon",16)(3,nm,1,0,null,17),d.k0s()}if(2&n){const t=d.XpG();d.BMQ("tabindex",t.tabindex)("aria-label",t.prevButtonAriaLabel),d.R7$(2),d.Y8G("ngIf",!t.previousIconTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",t.previousIconTemplate)}}function im(n,e){if(1&n&&d.nrm(0,"span",26),2&n){const t=d.XpG(3).$implicit;d.Y8G("ngClass",t.leftIcon)}}function sm(n,e){}function ml(n,e){1&n&&d.DNE(0,sm,0,0,"ng-template")}function oh(n,e){if(1&n&&(d.j41(0,"span",27),d.DNE(1,ml,1,0,null,17),d.k0s()),2&n){const t=d.XpG(3).$implicit;d.R7$(),d.Y8G("ngTemplateOutlet",t.leftIconTemplate)}}function iv(n,e){if(1&n&&d.nrm(0,"span",28),2&n){const t=d.XpG(3).$implicit;d.Y8G("ngClass",t.rightIcon)}}function sv(n,e){}function Yf(n,e){1&n&&d.DNE(0,sv,0,0,"ng-template")}function ov(n,e){if(1&n&&(d.j41(0,"span",29),d.DNE(1,Yf,1,0,null,17),d.k0s()),2&n){const t=d.XpG(3).$implicit;d.R7$(),d.Y8G("ngTemplateOutlet",t.rightIconTemplate)}}function om(n,e){if(1&n&&(d.qex(0),d.DNE(1,im,1,1,"span",21)(2,oh,2,1,"span",22),d.j41(3,"span",23),d.EFF(4),d.k0s(),d.DNE(5,iv,1,1,"span",24)(6,ov,2,1,"span",25),d.bVm()),2&n){const t=d.XpG(2).$implicit;d.R7$(),d.Y8G("ngIf",t.leftIcon&&!t.leftIconTemplate),d.R7$(),d.Y8G("ngIf",t.leftIconTemplate),d.R7$(2),d.JRh(t.header),d.R7$(),d.Y8G("ngIf",t.rightIcon&&!t.rightIconTemplate),d.R7$(),d.Y8G("ngIf",t.rightIconTemplate)}}function Zf(n,e){1&n&&d.eu8(0)}function E(n,e){if(1&n){const t=d.RV6();d.j41(0,"TimesIcon",32),d.bIt("click",function(a){d.eBV(t);const c=d.XpG(3).$implicit,h=d.XpG();return d.Njj(h.close(a,c))}),d.k0s()}2&n&&d.Y8G("styleClass","p-tabview-close")}function D(n,e){1&n&&d.nrm(0,"span",33)}function w(n,e){}function S(n,e){1&n&&d.DNE(0,w,0,0,"ng-template")}function O(n,e){if(1&n&&(d.qex(0),d.DNE(1,E,1,1,"TimesIcon",30)(2,D,1,0,"span",31)(3,S,1,0,null,17),d.bVm()),2&n){const t=d.XpG(2).$implicit;d.R7$(),d.Y8G("ngIf",!t.closeIconTemplate),d.R7$(),d.Y8G("ngIf",t.closeIconTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function j(n,e){if(1&n){const t=d.RV6();d.j41(0,"li",19)(1,"a",20),d.bIt("click",function(a){d.eBV(t);const c=d.XpG().$implicit,h=d.XpG();return d.Njj(h.open(a,c))})("keydown",function(a){d.eBV(t);const c=d.XpG().$implicit,h=d.XpG();return d.Njj(h.onTabKeyDown(a,c))}),d.DNE(2,om,7,5,"ng-container",16)(3,Zf,1,0,"ng-container",17)(4,O,4,3,"ng-container",16),d.k0s()()}if(2&n){const t=d.XpG(),i=t.$implicit,a=t.index,c=d.XpG();d.HbH(i.headerStyleClass),d.Y8G("ngClass",d.l_i(19,rv,i.selected,i.disabled))("ngStyle",i.headerStyle),d.BMQ("data-p-disabled",i.disabled),d.R7$(),d.Y8G("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),d.BMQ("id",c.getTabHeaderActionId(i.id))("aria-controls",c.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":c.tabindex)("aria-disabled",i.disabled)("data-pc-index",a)("data-pc-section","headeraction"),d.R7$(),d.Y8G("ngIf",!i.headerTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",i.headerTemplate),d.R7$(),d.Y8G("ngIf",i.closable)}}function J(n,e){1&n&&d.DNE(0,j,5,22,"li",18),2&n&&d.Y8G("ngIf",!e.$implicit.closed)}function ye(n,e){1&n&&d.nrm(0,"ChevronRightIcon"),2&n&&d.BMQ("aria-hidden",!0)}function _e(n,e){}function at(n,e){1&n&&d.DNE(0,_e,0,0,"ng-template")}function cn(n,e){if(1&n){const t=d.RV6();d.j41(0,"button",34,5),d.bIt("click",function(){d.eBV(t);const a=d.XpG();return d.Njj(a.navForward())}),d.DNE(2,ye,1,1,"ChevronRightIcon",16)(3,at,1,0,null,17),d.k0s()}if(2&n){const t=d.XpG();d.BMQ("tabindex",t.tabindex)("aria-label",t.nextButtonAriaLabel),d.R7$(2),d.Y8G("ngIf",!t.nextIconTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",t.nextIconTemplate)}}let sn=(()=>{class n{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(t){this._headerStyle=t,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(t){this._headerStyleClass=t,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(t){this._selected=t,this.loaded||this.cd.detectChanges(),t&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=t,this.tabView.cd.markForCheck()}get header(){return this._header}set header(t){this._header=t,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(t){this._leftIcon=t,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(t){this._rightIcon=t,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(t,i,a,c){this.el=i,this.viewContainer=a,this.cd=c,this.tabView=t,this.id=_i()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"righticon":this.rightIconTemplate=t.template;break;case"lefticon":this.leftIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||n)(d.rXU((0,d.Rfq)(()=>dr)),d.rXU(d.aKT),d.rXU(d.c1b),d.rXU(d.gRc))};static \u0275cmp=d.VBU({type:n,selectors:[["p-tabPanel"]],contentQueries:function(i,a,c){if(1&i&&d.wni(c,rs,4),2&i){let h;d.mGM(h=d.lsd())&&(a.templates=h)}},hostAttrs:[1,"p-element"],inputs:{closable:[d.Mj6.HasDecoratorInputTransform,"closable","closable",d.L39],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[d.Mj6.HasDecoratorInputTransform,"cache","cache",d.L39],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[d.GFd],ngContentSelectors:gl,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,a){1&i&&(d.NAR(),d.DNE(0,Wc,3,6,"div",0)),2&i&&d.Y8G("ngIf",!a.closed)},dependencies:[dt.bT,dt.T3],encapsulation:2})}return n})(),dr=(()=>{class n{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(t))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new d.bkB;onClose=new d.bkB;activeIndexChange=new d.bkB;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(t,i,a,c){this.platformId=t,this.el=i,this.cd=a,this.renderer=c}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(t=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(t=>{switch(t.getType()){case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template}})}callResizeObserver(){(0,dt.UE)(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=$e.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=$e.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){(0,dt.UE)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(t,i){switch(t.code){case"ArrowLeft":this.onTabArrowLeftKey(t);break;case"ArrowRight":this.onTabArrowRightKey(t);break;case"Home":case"PageUp":this.onTabHomeKey(t);break;case"End":case"PageDown":this.onTabEndKey(t);break;case"Enter":case"Space":this.open(t,i)}}onTabArrowLeftKey(t){const i=this.findPrevHeaderAction(t.target.parentElement),a=$e.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(t,i,a):this.onTabEndKey(t),t.preventDefault()}onTabArrowRightKey(t){const i=this.findNextHeaderAction(t.target.parentElement),a=$e.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(t,i,a):this.onTabHomeKey(t),t.preventDefault()}onTabHomeKey(t){const i=this.findFirstHeaderAction(),a=$e.getAttribute(i,"data-pc-index");this.changeFocusedTab(t,i,a),t.preventDefault()}onTabEndKey(t){const i=this.findLastHeaderAction(),a=$e.getAttribute(i,"data-pc-index");this.changeFocusedTab(t,i,a),t.preventDefault()}changeFocusedTab(t,i,a){i&&($e.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(t,this.tabs[a])}findNextHeaderAction(t,i=!1){const a=i?t:t.nextElementSibling;return a?$e.getAttribute(a,"data-p-disabled")||"inkbar"===$e.getAttribute(a,"data-pc-section")?this.findNextHeaderAction(a):$e.findSingle(a,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,i=!1){const a=i?t:t.previousElementSibling;return a?$e.getAttribute(a,"data-p-disabled")||"inkbar"===$e.getAttribute(a,"data-pc-section")?this.findPrevHeaderAction(a):$e.findSingle(a,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const t=this.navbar.nativeElement.lastElementChild,i="inkbar"===$e.getAttribute(t,"data-pc-section")?t.previousElementSibling:t;return this.findPrevHeaderAction(i,!0)}open(t,i){if(i.disabled)t&&t.preventDefault();else{if(!i.selected){let a=this.findSelectedTab();a&&(a.selected=!1),this.tabChanged=!0,i.selected=!0;let c=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(c),this.onChange.emit({originalEvent:t,index:c}),this.updateScrollBar(c)}t&&t.preventDefault()}}close(t,i){this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:t,index:this.findTabIndex(i)}))}closeTab(t){if(!t.disabled){if(t.selected){this.tabChanged=!0,t.selected=!1;for(let i=0;i<this.tabs.length;i++){let a=this.tabs[i];if(!a.closed&&!t.disabled){a.selected=!0;break}}}t.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null}findTabIndex(t){let i=-1;for(let a=0;a<this.tabs.length;a++)if(this.tabs[a]==t){i=a;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if((0,dt.UE)(this.platformId)&&this.navbar){const t=$e.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!t)return;this.inkbar.nativeElement.style.width=$e.getWidth(t)+"px",this.inkbar.nativeElement.style.left=$e.getOffset(t).left-$e.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(t){let i=this.navbar.nativeElement.children[t];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){const t=this.content.nativeElement,{scrollLeft:i,scrollWidth:a}=t,c=$e.getWidth(t);this.backwardIsDisabled=0===i,this.forwardIsDisabled=Math.round(i)===a-c}refreshButtonState(){this.container=$e.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=$e.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.markForCheck())}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,i)=>i?t+$e.getWidth(i):t,0)}navBackward(){const t=this.content.nativeElement,i=$e.getWidth(t)-this.getVisibleButtonWidths(),a=t.scrollLeft-i;t.scrollLeft=a<=0?0:a}navForward(){const t=this.content.nativeElement,i=$e.getWidth(t)-this.getVisibleButtonWidths(),a=t.scrollLeft+i,c=t.scrollWidth-i;t.scrollLeft=a>=c?c:a}static \u0275fac=function(i){return new(i||n)(d.rXU(d.Agw),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.sFG))};static \u0275cmp=d.VBU({type:n,selectors:[["p-tabView"]],contentQueries:function(i,a,c){if(1&i&&(d.wni(c,sn,4),d.wni(c,rs,4)),2&i){let h;d.mGM(h=d.lsd())&&(a.tabPanels=h),d.mGM(h=d.lsd())&&(a.templates=h)}},viewQuery:function(i,a){if(1&i&&(d.GBs(qf,5),d.GBs(Gc,5),d.GBs(tv,5),d.GBs(sh,5),d.GBs(Kf,5),d.GBs(nv,5)),2&i){let c;d.mGM(c=d.lsd())&&(a.content=c.first),d.mGM(c=d.lsd())&&(a.navbar=c.first),d.mGM(c=d.lsd())&&(a.prevBtn=c.first),d.mGM(c=d.lsd())&&(a.nextBtn=c.first),d.mGM(c=d.lsd())&&(a.inkbar=c.first),d.mGM(c=d.lsd())&&(a.elementToObserve=c.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[d.Mj6.HasDecoratorInputTransform,"controlClose","controlClose",d.L39],scrollable:[d.Mj6.HasDecoratorInputTransform,"scrollable","scrollable",d.L39],activeIndex:"activeIndex",selectOnFocus:[d.Mj6.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",d.L39],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[d.Mj6.HasDecoratorInputTransform,"autoHideButtons","autoHideButtons",d.L39],tabindex:[d.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",d.Udg]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[d.GFd],ngContentSelectors:gl,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,a){if(1&i){const c=d.RV6();d.NAR(),d.j41(0,"div",6)(1,"div",7,0),d.DNE(3,rm,4,4,"button",8),d.j41(4,"div",9,1),d.bIt("scroll",function(g){return d.eBV(c),d.Njj(a.onScroll(g))}),d.j41(6,"ul",10,2),d.DNE(8,J,1,1,"ng-template",11),d.nrm(9,"li",12,3),d.k0s()(),d.DNE(11,cn,4,4,"button",13),d.k0s(),d.j41(12,"div",14),d.SdG(13),d.k0s()()}2&i&&(d.HbH(a.styleClass),d.Y8G("ngClass",d.eq3(11,Qf,a.scrollable))("ngStyle",a.style),d.BMQ("data-pc-name","tabview"),d.R7$(3),d.Y8G("ngIf",a.scrollable&&!a.backwardIsDisabled&&a.autoHideButtons),d.R7$(),d.BMQ("data-pc-section","navcontent"),d.R7$(2),d.BMQ("data-pc-section","nav"),d.R7$(2),d.Y8G("ngForOf",a.tabs),d.R7$(),d.BMQ("data-pc-section","inkbar"),d.R7$(2),d.Y8G("ngIf",a.scrollable&&!a.forwardIsDisabled&&a.buttonVisible))},dependencies:()=>[dt.YU,dt.Sq,dt.bT,dt.T3,dt.B3,Ni,Ps,xa,yi,Oi],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),ia=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD,Ma,pl,ra,xa,yi,Oi,Ma]})}return n})(),qc=(()=>{class n{constructor(){this.activeTab=(0,d.vPA)("benvenuto")}ngAfterViewInit(){$(function(){$('[data-toggle="popover"]').popover()})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-home"]],standalone:!0,features:[d.aNF],decls:39,vars:0,consts:[["id","picture"],[1,"card"],["header","Benvenuto"],[1,"text"],["id","popover","data-bs-container","body","data-toggle","popover","data-bs-placement","bottom","data-bs-content","Non sono attualmente previsti i posti di movimento, solo STAZIONI e FERMATE. Non sono considerate le linee dismesse. Sono considerate le linee non attive IN FASE DI RIPRISTINO",1,"btn"],["href","https://normativaesercizio.rfi.it/NormativaEsercizio/detail.xhtml?doctype=FCL&compartimento=PA","target","_blank",1,"btn","btn-about"],[1,"pi","pi-external-link"],["src","assets/lineesiciliane.png","alt","Mappa linee ferroviarie siciliane di RFI"],["header","Come funziona?"],["src","https://www.palermomania.it/public/news/image/images/metro.jpg","alt","Cartello passante ferroviario di Palermo"],["href","https://www.palermomania.it/","target","_blank",1,"btn","btn-about"],["header","Perch\xe9 SpotiRFI?"],[1,"mb-4"],["href","https://www.stagniweb.it/foto6.asp?File=orizzf&Inizio=68&Righe=10&InizioI=1&RigheI=150&Col=5&Titolo=0","target","_blank",1,"btn","btn-about"],["src","https://www.stagniweb.it/altro/orizzf/636gioi0.jpg","alt","Locomotiva E636.010 in transito a Gioiosa Marea(ME)"]],template:function(i,a){1&i&&(d.nrm(0,"div",0),d.j41(1,"div",1)(2,"p-tabView")(3,"p-tabPanel",2)(4,"article")(5,"section",3)(6,"h2"),d.EFF(7,"Benvenuto su SpotiRFI! \u{1f684}\u{1f3b5}"),d.k0s(),d.j41(8,"p"),d.EFF(9," SpotiRFI \xe8 un viaggio unico attraverso la musica e le linee ferroviarie della Sicilia. Ogni stazione ferroviaria sulla mappa \xe8 associata a una canzone che porta il suo nome"),d.j41(10,"span",4),d.EFF(11," * "),d.k0s(),d.EFF(12,", creando un'esperienza musicale che riflette il viaggio attraverso la nostra bellissima regione. "),d.k0s(),d.j41(13,"a",5),d.nrm(14,"span",6),d.k0s()(),d.j41(15,"section"),d.nrm(16,"img",7),d.k0s()()(),d.j41(17,"p-tabPanel",8)(18,"article")(19,"section"),d.nrm(20,"img",9),d.k0s(),d.j41(21,"section",3)(22,"h2"),d.EFF(23,"Come funziona? \u{1f9d0}"),d.k0s(),d.j41(24,"p"),d.EFF(25," Scegli una linea ferroviaria sulla mappa e inizia il tuo viaggio musicale. Ad ogni fermata, ti verr\xe0 presentata una canzone che porta il nome della stazione. Puoi ascoltare la canzone mentre leggi informazioni sulla stazione e sulla sua storia. "),d.k0s(),d.j41(26,"a",10),d.nrm(27,"span",6),d.k0s()()()(),d.j41(28,"p-tabPanel",11)(29,"article")(30,"section",3)(31,"h2"),d.EFF(32,"Perch\xe9 SpotiRFI? \u{1f914}"),d.k0s(),d.j41(33,"p",12),d.EFF(34," La musica e i viaggi sono due esperienze che possono portarci in luoghi che non abbiamo mai visitato. SpotiRFI combina queste due esperienze in un unico viaggio, permettendoti di esplorare la Sicilia attraverso le sue linee ferroviarie e la sua musica. "),d.k0s(),d.j41(35,"a",13),d.nrm(36,"span",6),d.k0s()(),d.j41(37,"section"),d.nrm(38,"img",14),d.k0s()()()()())},dependencies:[ia,dr,sn],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";.card[_ngcontent-%COMP%]{background-color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav, [_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:inherit;color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav{border:none;display:flex;justify-content:center;margin:auto;padding:0}@media screen and (width < 460px){[_nghost-%COMP%]     .p-tabview .p-tabview-nav{justify-content:start}}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:none;background-color:inherit;text-decoration:none;color:inherit;font-family:Merienda,cursive}[_nghost-%COMP%]     .p-highlight{border-bottom:.1em #d62a42 solid;color:#d62a42}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link:hover{background-color:#d62a420a}ul[_ngcontent-%COMP%]{padding-left:0}#popover[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;padding:0 0 0 5px}article[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px;font-weight:500;width:90%;margin:2em auto 1em;display:flex;flex-flow:row wrap}h2[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:20px;font-weight:600}section[_ngcontent-%COMP%]{width:50%;text-align:justify}.text[_ngcontent-%COMP%]{padding:1em}section[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%}#picture[_ngcontent-%COMP%]{background-image:url(464Torrenova-min.58a22e042c69a55e.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}@media screen and (min-width: 768px) and (max-width: 1024px){article[_ngcontent-%COMP%]{width:95%}}@media screen and (min-width: 281px) and (max-width: 767px){article[_ngcontent-%COMP%]{width:95%;flex-flow:column wrap}section[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 280px){article[_ngcontent-%COMP%]{width:97%;flex-flow:column wrap}section[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{overflow:scroll}}']})}return n})(),Rn=(()=>{class n{constructor(){this.tratte=(0,d.vPA)([])}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();G(8407);var Yt=G(1076),Sr=G(8041),am=G(1362);class is{constructor(){return Zt("auth")}}var _t,Ve=G(467),Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lo={},hh=hh||{},en=Iv||self;function fs(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function oc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vl="closure_uid_"+(1e9*Math.random()>>>0),ph=0;function gh(n,e,t){return n.call.apply(n.bind,arguments)}function op(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function bi(n,e,t){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gh:op).apply(null,arguments)}function mh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,a,c){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[a].apply(i,h)}}function xs(){this.s=this.s,this.o=this.o}xs.prototype.s=!1,xs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function fh(n){Object.prototype.hasOwnProperty.call(n,vl)&&n[vl]||(n[vl]=++ph)}(this)},xs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ac=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function _h(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ap(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(fs(i)){const a=n.length||0,c=i.length||0;n.length=a+c;for(let h=0;h<c;h++)n[a+h]=i[h]}else n.push(i)}}function ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ss.prototype.h=function(){this.defaultPrevented=!0};var uw=function(){if(!en.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};en.addEventListener("test",t,e),en.removeEventListener("test",t,e)}catch{}return n}();function yh(n){return/^[\s\xa0]*$/.test(n)}function Jc(){var n=en.navigator;return n&&(n=n.userAgent)?n:""}function Os(n){return-1!=Jc().indexOf(n)}function vh(n){return vh[" "](n),n}vh[" "]=function(){};var W,n,vm=Os("Opera"),Na=Os("Trident")||Os("MSIE"),I=Os("Edge"),p=I||Na,m=Os("Gecko")&&!(-1!=Jc().toLowerCase().indexOf("webkit")&&!Os("Edge"))&&!(Os("Trident")||Os("MSIE"))&&!Os("Edge"),T=-1!=Jc().toLowerCase().indexOf("webkit")&&!Os("Edge");function N(){var n=en.document;return n?n.documentMode:void 0}e:{var re="",ve=(n=Jc(),m?/rv:([^\);]+)(\)|;)/.exec(n):I?/Edge\/([\d\.]+)/.exec(n):Na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):T?/WebKit\/(\S+)/.exec(n):vm?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ve&&(re=ve?ve[1]:""),Na){var We=N();if(null!=We&&We>parseFloat(re)){W=String(We);break e}}W=re}var Pn=en.document&&Na&&(N()||parseInt(W,10))||void 0;function Ci(n,e){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(m){e:{try{vh(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ka[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ci.$.h.call(this)}}ti(Ci,ss);var ka={2:"touch",3:"pen",4:"mouse"};Ci.prototype.h=function(){Ci.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var La="closure_listenable_"+(1e6*Math.random()|0),lp=0;function cp(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=a,this.key=++lp,this.fa=this.ia=!1}function El(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function aa(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Eh(n){const e={};for(const t in n)e[t]=n[t];return e}const Ih="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fa(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let c=0;c<Ih.length;c++)t=Ih[c],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function la(n){this.src=n,this.g={},this.h=0}function di(n,e){var t=e.type;if(t in n.g){var c,i=n.g[t],a=ac(i,e);(c=0<=a)&&Array.prototype.splice.call(i,a,1),c&&(El(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ed(n,e,t,i){for(var a=0;a<n.length;++a){var c=n[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return a}return-1}la.prototype.add=function(n,e,t,i,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=ed(n,e,i,a);return-1<h?(e=n[h],t||(e.ia=!1)):((e=new cp(e,this.src,c,!!i,a)).ia=t,n.push(e)),e};var wh="closure_lm_"+(1e6*Math.random()|0),dp={};function dw(n,e,t,i,a){if(i&&i.once)return hw(n,e,t,i,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)dw(n,e[c],t,i,a);return null}return t=Dv(t),n&&n[La]?n.O(e,t,oc(i)?!!i.capture:!!i,a):wv(n,e,t,!1,i,a)}function wv(n,e,t,i,a,c){if(!e)throw Error("Invalid event type");var h=oc(a)?!!a.capture:!!a,g=bv(n);if(g||(n[wh]=g=new la(n)),(t=g.add(e,t,i,h,c)).proxy)return t;if(i=function Em(){const e=fw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)uw||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(fp(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function hw(n,e,t,i,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)hw(n,e[c],t,i,a);return null}return t=Dv(t),n&&n[La]?n.P(e,t,oc(i)?!!i.capture:!!i,a):wv(n,e,t,!0,i,a)}function Tv(n,e,t,i,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Tv(n,e[c],t,i,a);else i=oc(i)?!!i.capture:!!i,t=Dv(t),n&&n[La]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ed(c=n.g[e],t,i,a))&&(El(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=bv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ed(e,t,i,a)),(t=-1<n?e[n]:null)&&hp(t))}function hp(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[La])di(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(fp(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=bv(e))?(di(t,n),0==t.h&&(t.src=null,e[wh]=null)):El(n)}}}function fp(n){return n in dp?dp[n]:dp[n]="on"+n}function fw(n,e){if(n.fa)n=!0;else{e=new Ci(e,this);var t=n.listener,i=n.la||n.src;n.ia&&hp(n),n=t.call(i,e)}return n}function bv(n){return(n=n[wh])instanceof la?n:null}var Cv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dv(n){return"function"==typeof n?n:(n[Cv]||(n[Cv]=function(e){return n.handleEvent(e)}),n[Cv])}function zi(){xs.call(this),this.i=new la(this),this.S=this,this.J=null}function ps(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ss(e,n);else if(e instanceof ss)e.target=e.target||n;else{var a=e;Fa(e=new ss(i,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];a=pp(h,i,!0,e)&&a}if(a=pp(h=e.g=n,i,!0,e)&&a,a=pp(h,i,!1,e)&&a,t)for(c=0;c<t.length;c++)a=pp(h=e.g=t[c],i,!1,e)&&a}function pp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.fa&&h.capture==t){var g=h.listener,v=h.la||h.src;h.ia&&di(n.i,h),a=!1!==g.call(v,i)&&a}}return a&&!i.defaultPrevented}ti(zi,xs),zi.prototype[La]=!0,zi.prototype.removeEventListener=function(n,e,t,i){Tv(this,n,e,t,i)},zi.prototype.N=function(){if(zi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)El(t[i]);delete n.g[e],n.h--}}this.J=null},zi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},zi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Av=en.JSON.stringify;function nM(){var n=Va;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Sv=new class rA{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Fo,n=>n.reset());class Fo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rM(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function gw(n){en.setTimeout(()=>{throw n},0)}let Im,td=!1,Va=new class pw{constructor(){this.h=this.g=null}add(e,t){const i=Sv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Rv=()=>{const n=en.Promise.resolve(void 0);Im=()=>{n.then(Th)}};var Th=()=>{for(var n;n=nM();){try{n.h.call(n.g)}catch(t){gw(t)}var e=Sv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}td=!1};function wm(n,e){zi.call(this),this.h=n||1,this.g=e||en,this.j=bi(this.qb,this),this.l=Date.now()}function Pv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Tm(n,e,t){if("function"==typeof n)t&&(n=bi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bi(n.handleEvent,n)}return 2147483647<Number(e)?-1:en.setTimeout(n,e||0)}function iA(n){n.g=Tm(()=>{n.g=null,n.i&&(n.i=!1,iA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(wm,zi),(_t=wm.prototype).ga=!1,_t.T=null,_t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ps(this,"tick"),this.ga&&(Pv(this),this.start()))}},_t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.N=function(){wm.$.N.call(this),Pv(this),delete this.g};class iM extends xs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iA(this)}N(){super.N(),this.g&&(en.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bm(n){xs.call(this),this.h=n,this.g={}}ti(bm,xs);var sA=[];function oA(n,e,t,i){Array.isArray(t)||(t&&(sA[0]=t.toString()),t=sA);for(var a=0;a<t.length;a++){var c=dw(e,t[a],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function mw(n){aa(n.g,function(e,t){this.g.hasOwnProperty(t)&&hp(e)},n),n.g={}}function lc(){this.g=!0}function bh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Il(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<a.length;h++)a[h]=""}}}return Av(t)}catch{return e}}(n,t)+(i?" "+i:"")})}bm.prototype.N=function(){bm.$.N.call(this),mw(this)},bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lc.prototype.Ea=function(){this.g=!1},lc.prototype.info=function(){};var nd={},Cm=null;function eu(){return Cm=Cm||new zi}function yw(n){ss.call(this,nd.Ta,n)}function Ch(n){const e=eu();ps(e,new yw(e))}function xv(n,e){ss.call(this,nd.STAT_EVENT,n),this.stat=e}function os(n){const e=eu();ps(e,new xv(e,n))}function mp(n,e){ss.call(this,nd.Ua,n),this.size=e}function rd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return en.setTimeout(function(){n()},e)}nd.Ta="serverreachability",ti(yw,ss),nd.STAT_EVENT="statevent",ti(xv,ss),nd.Ua="timingevent",ti(mp,ss);var Dm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ov(){}function Ew(){}Ov.prototype.h=null;var Am,_p={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ns(){ss.call(this,"d")}function yp(){ss.call(this,"c")}function Dh(){}function ki(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new bm(this),this.P=Iw,this.V=new wm(n=p?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ah}function Ah(){this.i=null,this.g="",this.h=!1}ti(Ns,ss),ti(yp,ss),ti(Dh,Ov),Dh.prototype.g=function(){return new XMLHttpRequest},Dh.prototype.i=function(){return{}},Am=new Dh;var Iw=45e3,kv={},Lv={};function Sm(n,e,t){n.L=1,n.A=Bv(cc(e)),n.u=t,n.S=!0,ww(n,null)}function ww(n,e){n.G=Date.now(),vp(n),n.B=cc(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),Nm(t.i,"t",i),n.o=0,t=n.l.J,n.h=new Ah,n.g=eE(n.l,t?e:null,!n.u),0<n.O&&(n.M=new iM(bi(n.Pa,n,n.g),n.O)),oA(n.U,n.g,"readystatechange",n.nb),e=n.I?Eh(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Ch(),function gp(n,e,t,i,a,c){n.info(function(){if(n.g)if(c)for(var h="",g=c.split("&"),v=0;v<g.length;v++){var A=g[v].split("=");if(1<A.length){var x=A[0];A=A[1];var L=x.split("_");h=2<=L.length&&"type"==L[1]?h+(x+"=")+A+"&":h+(x+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.v,n.B,n.m,n.W,n.u)}function Fv(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function Tw(n,e,t){let a,i=!0;for(;!n.J&&n.o<t.length;){if(a=bw(n,t),a==Lv){4==e&&(n.s=4,os(14),i=!1),bh(n.j,n.m,null,"[Incomplete Response]");break}if(a==kv){n.s=4,os(15),bh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}bh(n.j,n.m,a,null),Pm(n,a)}Fv(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,os(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Mp(e),e.M=!0,os(11))):(bh(n.j,n.m,t,"[Invalid Chunked Response]"),tu(n),Ep(n))}function bw(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?Lv:(t=Number(e.substring(t,i)),isNaN(t)?kv:(i+=1)+t>e.length?Lv:(e=e.slice(i,i+t),n.o=i+t,e))}function vp(n){n.Y=Date.now()+n.P,Cw(n,n.P)}function Cw(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=rd(bi(n.lb,n),e)}function Rm(n){n.C&&(en.clearTimeout(n.C),n.C=null)}function Ep(n){0==n.l.H||n.J||kw(n.l,n)}function tu(n){Rm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Pv(n.V),mw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Pm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Rh(t.i,n)))if(!n.K&&Rh(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Bm(t),Vm(t)}Nh(t),os(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=rd(bi(t.ib,t),6e3));if(1>=gA(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Tl(t,11)}else if((n.K||t.g==n)&&Bm(t),!yh(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.V=A[0],A=A[1],2==t.H)if("c"==A[0]){t.K=A[1],t.pa=A[2];const x=A[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const L=A[4];null!=L&&(t.Ga=L,t.l.info("SVER="+t.Ga));const X=A[5];null!=X&&"number"==typeof X&&0<X&&(t.L=i=1.5*X,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ee=n.g;if(ee){const de=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var c=i.i;c.g||-1==de.indexOf("spdy")&&-1==de.indexOf("quic")&&-1==de.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Hv(c,c.h),c.h=null))}if(i.F){const pe=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;pe&&(i.Da=pe,jr(i.I,i.F,pe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var h=n;if((i=t).wa=Jv(i,i.J?i.pa:null,i.Y),h.K){km(i.i,h);var g=h,v=i.L;v&&g.setTimeout(v),g.C&&(Rm(g),vp(g)),i.g=h}else Zv(i);0<t.j.length&&xh(t)}else"stop"!=A[0]&&"close"!=A[0]||Tl(t,7);else 3==t.H&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Tl(t,7):Rp(t):"noop"!=A[0]&&t.h&&t.h.Aa(A),t.A=0)}Ch()}catch{}}function Vv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fs(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Mm(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fs(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Dw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fs(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,c=0;c<a;c++)e.call(void 0,i[c],t&&t[c],n)}(_t=ki.prototype).setTimeout=function(n){this.P=n},_t.nb=function(n){n=n.target;const e=this.M;e&&3==ua(n)?e.l():this.Pa(n)},_t.Pa=function(n){try{if(n==this.g)e:{const x=ua(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||p||this.g&&(this.h.h||this.g.ja()||Nw(this.g)))){this.J||4!=x||7==e||Ch(),Rm(this);var t=this.g.da();this.ca=t;t:if(Fv(this)){var i=Nw(this.g);n="";var a=i.length,c=4==ua(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tu(this),Ep(this);var h="";break t}this.h.i=new en.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:c&&e==a-1});i.length=0,this.h.g+=n,this.o=0,h=this.h.g}else h=this.g.ja();if(this.i=200==t,function _w(n,e,t,i,a,c,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.v,this.B,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yh(g)){var A=g;break t}}A=null}if(!(t=A)){this.i=!1,this.s=3,os(12),tu(this),Ep(this);break e}bh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pm(this,t)}this.S?(Tw(this,x,h),p&&this.i&&3==x&&(oA(this.U,this.V,"tick",this.mb),this.V.start())):(bh(this.j,this.m,h,null),Pm(this,h)),4==x&&tu(this),this.i&&!this.J&&(4==x?kw(this.l,this):(this.i=!1,vp(this)))}else(function sM(n){const e={};n=(n.g&&2<=ua(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(yh(n[i]))continue;var t=rM(n[i]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function up(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<h.indexOf("Unknown SID")?(this.s=3,os(12)):(this.s=0,os(13)),tu(this),Ep(this)}}}catch{}},_t.mb=function(){if(this.g){var n=ua(this.g),e=this.g.ja();this.o<e.length&&(Rm(this),Tw(this,n,e),this.i&&4!=n&&vp(this))}},_t.cancel=function(){this.J=!0,tu(this)},_t.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Mv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Ch(),os(17)),tu(this),this.s=2,Ep(this)):Cw(this,this.Y-n)};var Uv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nu){this.h=n.h,xm(this,n.j),this.s=n.s,this.g=n.g,Om(this,n.m),this.l=n.l;var e=n.i,t=new ca;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Sw(this,t),this.o=n.o}else n&&(e=String(n).match(Uv))?(this.h=!1,xm(this,e[1]||"",!0),this.s=Sh(e[2]||""),this.g=Sh(e[3]||"",!0),Om(this,e[4]),this.l=Sh(e[5]||"",!0),Sw(this,e[6]||"",!0),this.o=Sh(e[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}function cc(n){return new nu(n)}function xm(n,e,t){n.j=t?Sh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Om(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Sw(n,e,t){e instanceof ca?(n.i=e,function dA(n,e){e&&!n.j&&(uc(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(Pw(this,i),Nm(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ip(e,jv)),n.i=new ca(e,n.h))}function jr(n,e,t){n.i.set(e,t)}function Bv(n){return jr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ip(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,aA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ip(e,lA,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ip(e,lA,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ip(t,"/"==t.charAt(0)?Rw:cA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ip(t,uA)),n.join("")};var lA=/[#\/\?@]/g,cA=/[#\?:]/g,Rw=/[#\?]/g,jv=/[#\?@]/g,uA=/#/g;function ca(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Aw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var c=n[t].substring(0,i);a=n[t].substring(i+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Pw(n,e){uc(n),e=wp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function $v(n,e){return uc(n),e=wp(n,e),n.g.has(e)}function Nm(n,e,t){Pw(n,e),0<t.length&&(n.i=null,n.g.set(wp(n,e),_h(t)),n.h+=t.length)}function wp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(_t=ca.prototype).add=function(n,e){uc(this),this.i=null,n=wp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_t.forEach=function(n,e){uc(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},_t.ta=function(){uc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let c=0;c<a.length;c++)t.push(e[i])}return t},_t.Z=function(n){uc(this);let e=[];if("string"==typeof n)$v(this,n)&&(e=e.concat(this.g.get(wp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_t.set=function(n,e){return uc(this),this.i=null,$v(this,n=wp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_t.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),h=this.Z(i);for(i=0;i<h.length;i++){var a=c;""!==h[i]&&(a+="="+encodeURIComponent(String(h[i]))),n.push(a)}}return this.i=n.join("&")};var hA=class{constructor(n,e){this.g=n,this.map=e}};function Mw(n){this.l=n||fA,n=en.PerformanceNavigationTiming?0<(n=en.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(en.g&&en.g.Ka&&en.g.Ka()&&en.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fA=10;function pA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gA(n){return n.h?1:n.g?n.g.size:0}function Rh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Hv(n,e){n.g?n.g.add(e):n.h=e}function km(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Lm(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return _h(n.i)}Mw.prototype.cancel=function(){if(this.i=Lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Ph=class{stringify(n){return en.JSON.stringify(n,void 0)}parse(n){return en.JSON.parse(n,void 0)}};function zv(){this.g=new Ph}function Wv(n,e,t){const i=t||"";try{Vv(n,function(a,c){let h=a;oc(a)&&(h=Av(a)),e.push(i+c+"="+encodeURIComponent(h))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function id(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function wl(n){this.l=n.ec||null,this.j=n.ob||!1}function Mh(n,e){zi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ti(wl,Ov),wl.prototype.g=function(){return new Mh(this.l,this.j)},wl.prototype.i=function(n){return function(){return n}}({}),ti(Mh,zi);var bp=0;function Cp(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sd(n)}function sd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=Mh.prototype).open=function(n,e){if(this.readyState!=bp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sd(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||en).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fm(this)),this.readyState=bp},_t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof en.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cp(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fm(this):sd(this),3==this.readyState&&Cp(this)}},_t.Za=function(n){this.g&&(this.response=this.responseText=n,Fm(this))},_t.Ya=function(n){this.g&&(this.response=n,Fm(this))},_t.ka=function(){this.g&&Fm(this)},_t.setRequestHeader=function(n,e){this.v.append(n,e)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Mh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dp=en.JSON.parse;function vi(n){zi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gv,this.L=this.M=!1}ti(vi,zi);var Gv="",mA=/^https?$/i,_A=["POST","PUT"];function Kv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xw(n),ru(n)}function xw(n){n.F||(n.F=!0,ps(n,"complete"),ps(n,"error"))}function Ow(n){if(n.h&&typeof hh<"u"&&(!n.C[1]||4!=ua(n)||2!=n.da()))if(n.v&&4==ua(n))Tm(n.La,0,n);else if(ps(n,"readystatechange"),4==ua(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var a=String(n.I).match(Uv)[1]||null;!a&&en.self&&en.self.location&&(a=en.self.location.protocol.slice(0,-1)),i=!mA.test(a?a.toLowerCase():"")}t=i}if(t)ps(n,"complete"),ps(n,"success");else{n.m=6;try{var c=2<ua(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",xw(n)}}finally{ru(n)}}}function ru(n,e){if(n.g){Qv(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ps(n,"ready");try{t.onreadystatechange=i}catch{}}}function Qv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(en.clearTimeout(n.A),n.A=null)}function ua(n){return n.g?n.g.readyState:0}function Nw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Gv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yA(n){let e="";return aa(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function od(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=yA(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jr(n,e,t))}function Ap(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sp(n){this.Ga=0,this.j=[],this.l=new lc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ap("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ap("baseRetryDelayMs",5e3,n),this.hb=Ap("retryDelaySeedMs",1e4,n),this.eb=Ap("forwardChannelMaxRetries",2,n),this.xa=Ap("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Mw(n&&n.concurrentRequestLimit),this.Ja=new zv,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rp(n){if(Xv(n),3==n.H){var e=n.W++,t=cc(n.I);if(jr(t,"SID",n.K),jr(t,"RID",e),jr(t,"TYPE","terminate"),Oh(n,t),(e=new ki(n,n.l,e)).L=2,e.A=Bv(cc(t)),t=!1,en.navigator&&en.navigator.sendBeacon)try{t=en.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&en.Image&&((new Image).src=e.A,t=!0),t||(e.g=eE(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vp(e)}jm(n)}function Vm(n){n.g&&(Mp(n),n.g.cancel(),n.g=null)}function Xv(n){Vm(n),n.u&&(en.clearTimeout(n.u),n.u=null),Bm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&en.clearTimeout(n.m),n.m=null)}function xh(n){if(!pA(n.i)&&!n.m){n.m=!0;var e=n.Na;Im||Rv(),td||(Im(),td=!0),Va.add(e,n),n.C=0}}function Pp(n,e){var t;t=e?e.m:n.W++;const i=cc(n.I);jr(i,"SID",n.K),jr(i,"RID",t),jr(i,"AID",n.V),Oh(n,i),n.o&&n.s&&od(i,n.o,n.s),t=new ki(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Yv(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Hv(n.i,t),Sm(t,i,e)}function Oh(n,e){n.na&&aa(n.na,function(t,i){jr(e,i,t)}),n.h&&Vv({},function(t,i){jr(e,i,t)})}function Yv(n,e,t){t=Math.min(n.j.length,t);var i=n.h?bi(n.h.Va,n.h,n):null;e:{var a=n.j;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=a[0].g,h.push("ofs="+c)):c=0:h.push("ofs="+c);let g=!0;for(let v=0;v<t;v++){let A=a[v].g;const x=a[v].map;if(A-=c,0>A)c=Math.max(0,a[v].g-100),g=!1;else try{Wv(x,h,"req"+A+"_")}catch{i&&i(x)}}if(g){i=h.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Zv(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Im||Rv(),td||(Im(),td=!0),Va.add(e,n),n.A=0}}function Nh(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=rd(bi(n.Ma,n),vA(n,n.A)),n.A++,0))}function Mp(n){null!=n.B&&(en.clearTimeout(n.B),n.B=null)}function ad(n){n.g=new ki(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=cc(n.wa);jr(e,"RID","rpc"),jr(e,"SID",n.K),jr(e,"AID",n.V),jr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&jr(e,"TO",n.qa),jr(e,"TYPE","xmlhttp"),Oh(n,e),n.o&&n.s&&od(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Bv(cc(e)),t.u=null,t.S=!0,ww(t,n)}function Bm(n){null!=n.v&&(en.clearTimeout(n.v),n.v=null)}function kw(n,e){var t=null;if(n.g==e){Bm(n),Mp(n),n.g=null;var i=2}else{if(!Rh(n.i,e))return;t=e.F,km(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var a=n.C;ps(i=eu(),new mp(i,t)),xh(n)}else Zv(n);else if(3==(a=e.s)||0==a&&0<e.ca||!(1==i&&function Um(n,e){return!(gA(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=rd(bi(n.Na,n,e),vA(n,n.C)),n.C++,0)))}(n,e)||2==i&&Nh(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Tl(n,5);break;case 4:Tl(n,10);break;case 3:Tl(n,6);break;default:Tl(n,2)}}function vA(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Tl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=bi(n.pb,n);t||(t=new nu("//www.google.com/images/cleardot.gif"),en.location&&"http"==en.location.protocol||xm(t,"https"),Bv(t)),function Tp(n,e){const t=new lc;if(en.Image){const i=new Image;i.onload=mh(id,t,i,"TestLoadImage: loaded",!0,e),i.onerror=mh(id,t,i,"TestLoadImage: error",!1,e),i.onabort=mh(id,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=mh(id,t,i,"TestLoadImage: timeout",!1,e),en.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else os(2);n.H=0,n.h&&n.h.za(e),jm(n),Xv(n)}function jm(n){if(n.H=0,n.ma=[],n.h){const e=Lm(n.i);(0!=e.length||0!=n.j.length)&&(ap(n.ma,e),ap(n.ma,n.j),n.i.i.length=0,_h(n.j),n.j.length=0),n.h.ya()}}function Jv(n,e,t){var i=t instanceof nu?cc(t):new nu(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Om(i,i.m);else{var a=en.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new nu(null);i&&xm(c,i),e&&(c.g=e),a&&Om(c,a),t&&(c.l=t),i=c}return e=n.Da,(t=n.F)&&e&&jr(i,t,e),jr(i,"VER",n.ra),Oh(n,i),i}function eE(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vi(n.Ha&&!n.va?new wl({ob:t}):n.va)).Oa(n.J),e}function tE(){}function bl(){if(Na&&!(10<=Number(Pn)))throw Error("Environmental error: no available transport.")}function Vo(n,e){zi.call(this),this.g=new Sp(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kh(this)}function Lw(n){Ns.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Fw(){yp.call(this),this.status=1}function kh(n){this.g=n}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function iu(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)i[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)i[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],h=(e=n.g[0])+(c^(t=n.g[1])&((a=n.g[2])^c))+i[0]+3614090360&4294967295;h=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(h<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(a^c))+i[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(a^c))+i[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(a^c))+i[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=c+(a^e&(t^a))+i[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(a^c&(t^a))+i[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^c&(t^a))+i[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^c&(t^a))+i[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^c&(t^a))+i[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^a&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(a^c))+i[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(t^a^c)+i[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^c)+i[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^c)+i[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^c)+i[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^a)+i[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=a+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(a^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(a|~e))+i[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(a|~e))+i[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(a|~e))+i[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((c=(e=t+((h=e+(a^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~a))+i[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((a=c+((h=a+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(h<<21&4294967295|h>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+c&4294967295}function yr(n,e){this.h=e;for(var t=[],i=!0,a=n.length-1;0<=a;a--){var c=0|n[a];i&&c==e||(t[a]=c,i=!1)}this.g=t}(_t=vi.prototype).Oa=function(n){this.M=n},_t.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Am.g(),this.C=function Nv(n){return n.h||(n.h=n.i())}(this.u?this.u:Am),this.g.onreadystatechange=bi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void Kv(this,c)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=en.FormData&&n instanceof en.FormData,!(0<=ac(_A,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,h]of t)this.g.setRequestHeader(c,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Qv(this),0<this.B&&((this.L=function qv(n){return Na&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.ua,this)):this.A=Tm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Kv(this,c)}},_t.ua=function(){typeof hh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ps(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ps(this,"complete"),ps(this,"abort"),ru(this))},_t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ru(this,!0)),vi.$.N.call(this)},_t.La=function(){this.s||(this.G||this.v||this.l?Ow(this):this.kb())},_t.kb=function(){Ow(this)},_t.isActive=function(){return!!this.g},_t.da=function(){try{return 2<ua(this)?this.g.status:-1}catch{return-1}},_t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Dp(e)}},_t.Ia=function(){return this.m},_t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=Sp.prototype).ra=8,_t.H=1,_t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new ki(this,this.l,n);let c=this.s;if(this.U&&(c?(c=Eh(c),Fa(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Yv(this,a,e),jr(t=cc(this.I),"RID",n),jr(t,"CVER",22),this.F&&jr(t,"X-HTTP-Session-Id",this.F),Oh(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(yA(c)))+"&"+e:this.o&&od(t,this.o,c)),Hv(this.i,a),this.bb&&jr(t,"TYPE","init"),this.P?(jr(t,"$req",e),jr(t,"SID","null"),a.aa=!0,Sm(a,t,null)):Sm(a,t,e),this.H=2}}else 3==this.H&&(n?Pp(this,n):0==this.j.length||pA(this.i)||Pp(this))},_t.Ma=function(){if(this.u=null,ad(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=rd(bi(this.jb,this),n)}},_t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,os(10),Vm(this),ad(this))},_t.ib=function(){null!=this.v&&(this.v=null,Vm(this),Nh(this),os(19))},_t.pb=function(n){n?(this.l.info("Successfully pinged google.com"),os(2)):(this.l.info("Failed to ping google.com"),os(1))},_t.isActive=function(){return!!this.h&&this.h.isActive(this)},(_t=tE.prototype).Ba=function(){},_t.Aa=function(){},_t.za=function(){},_t.ya=function(){},_t.isActive=function(){return!0},_t.Va=function(){},bl.prototype.g=function(n,e){return new Vo(n,e)},ti(Vo,zi),Vo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;os(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Jv(n,null,n.Y),xh(n)},Vo.prototype.close=function(){Rp(this.g)},Vo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Av(n),n=t);e.j.push(new hA(e.fb++,n)),3==e.H&&xh(e)},Vo.prototype.N=function(){this.g.h=null,delete this.j,Rp(this.g),delete this.g,Vo.$.N.call(this)},ti(Lw,Ns),ti(Fw,yp),ti(kh,tE),kh.prototype.Ba=function(){ps(this.g,"a")},kh.prototype.Aa=function(n){ps(this.g,new Lw(n))},kh.prototype.za=function(n){ps(this.g,new Fw)},kh.prototype.ya=function(){ps(this.g,"b")},ti(Wi,function EA(){this.blockSize=-1}),Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)iu(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(i[a++]=n.charCodeAt(c++),a==this.blockSize){iu(this,i),a=0;break}}else for(;c<e;)if(i[a++]=n[c++],a==this.blockSize){iu(this,i),a=0;break}}this.h=a,this.i+=e},Wi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var IA={};function nE(n){return-128<=n&&128>n?function Ju(n,e){var t=IA;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new yr([0|e],0>e?-1:0)}):new yr([0|n],0>n?-1:0)}function Cl(n){if(isNaN(n)||!isFinite(n))return ld;if(0>n)return Li(Cl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=rE;return new yr(e,0)}var rE=4294967296,ld=nE(0),iE=nE(1),Uw=nE(16777216);function dc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function da(n){return-1==n.h}function Li(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new yr(t,~n.h).add(iE)}function ha(n,e){return n.add(Li(e))}function su(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Lh(n,e){this.g=n,this.h=e}function xp(n,e){if(dc(e))throw Error("division by zero");if(dc(n))return new Lh(ld,ld);if(da(n))return e=xp(Li(n),e),new Lh(Li(e.g),Li(e.h));if(da(e))return e=xp(n,Li(e)),new Lh(Li(e.g),e.h);if(30<n.g.length){if(da(n)||da(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iE,i=e;0>=i.X(n);)t=sE(t),i=sE(i);var a=Op(t,1),c=Op(i,1);for(i=Op(i,2),t=Op(t,2);!dc(i);){var h=c.add(i);0>=h.X(n)&&(a=a.add(t),c=h),i=Op(i,1),t=Op(t,1)}return e=ha(n,a.R(e)),new Lh(a,e)}for(a=ld;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),h=(c=Cl(t)).R(e);da(h)||0<h.X(n);)h=(c=Cl(t-=i)).R(e);dc(c)&&(c=iE),a=a.add(c),n=ha(n,h)}return new Lh(a,n)}function sE(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new yr(t,n.h)}function Op(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,a=[],c=0;c<i;c++)a[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new yr(a,n.h)}(_t=yr.prototype).ea=function(){if(da(this))return-Li(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:rE+i)*e,e*=rE}return n},_t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(dc(this))return"0";if(da(this))return"-"+Li(this).toString(n);for(var e=Cl(Math.pow(n,6)),t=this,i="";;){var a=xp(t,e).g,c=((0<(t=ha(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(dc(t=a))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},_t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_t.X=function(n){return da(n=ha(this,n))?-1:dc(n)?0:1},_t.abs=function(){return da(this)?Li(this):this},_t.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,a=0;a<=e;a++){var c=i+(65535&this.D(a))+(65535&n.D(a)),h=(c>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);i=h>>>16,t[a]=(h&=65535)<<16|(c&=65535)}return new yr(t,-2147483648&t[t.length-1]?-1:0)},_t.R=function(n){if(dc(this)||dc(n))return ld;if(da(this))return da(n)?Li(this).R(Li(n)):Li(Li(this).R(n));if(da(n))return Li(this.R(Li(n)));if(0>this.X(Uw)&&0>n.X(Uw))return Cl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<n.g.length;a++){var c=this.D(i)>>>16,h=65535&this.D(i),g=n.D(a)>>>16,v=65535&n.D(a);t[2*i+2*a]+=h*v,su(t,2*i+2*a),t[2*i+2*a+1]+=c*v,su(t,2*i+2*a+1),t[2*i+2*a+1]+=h*g,su(t,2*i+2*a+1),t[2*i+2*a+2]+=c*g,su(t,2*i+2*a+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new yr(t,0)},_t.gb=function(n){return xp(this,n).h},_t.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new yr(t,this.h&n.h)},_t.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new yr(t,this.h|n.h)},_t.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new yr(t,this.h^n.h)},bl.prototype.createWebChannel=bl.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,Dm.NO_ERROR=0,Dm.TIMEOUT=8,Dm.HTTP_ERROR=6,vw.COMPLETE="complete",Ew.EventType=_p,_p.OPEN="a",_p.CLOSE="b",_p.ERROR="c",_p.MESSAGE="d",zi.prototype.listen=zi.prototype.O,vi.prototype.listenOnce=vi.prototype.P,vi.prototype.getLastError=vi.prototype.Sa,vi.prototype.getLastErrorCode=vi.prototype.Ia,vi.prototype.getStatus=vi.prototype.da,vi.prototype.getResponseJson=vi.prototype.Wa,vi.prototype.getResponseText=vi.prototype.ja,vi.prototype.send=vi.prototype.ha,vi.prototype.setWithCredentials=vi.prototype.Oa,Wi.prototype.digest=Wi.prototype.l,Wi.prototype.reset=Wi.prototype.reset,Wi.prototype.update=Wi.prototype.j,yr.prototype.add=yr.prototype.add,yr.prototype.multiply=yr.prototype.R,yr.prototype.modulo=yr.prototype.gb,yr.prototype.compare=yr.prototype.X,yr.prototype.toNumber=yr.prototype.ea,yr.prototype.toString=yr.prototype.toString,yr.prototype.getBits=yr.prototype.D,yr.fromNumber=Cl,yr.fromString=function Vw(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Li(Vw(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Cl(Math.pow(e,8)),i=ld,a=0;a<n.length;a+=8){var c=Math.min(8,n.length-a),h=parseInt(n.substring(a,a+c),e);8>c?(c=Cl(Math.pow(e,c)),i=i.R(c).add(Cl(h))):i=(i=i.R(t)).add(Cl(h))}return i};var oM=Lo.createWebChannelTransport=function(){return new bl},aM=Lo.getStatEventTarget=function(){return eu()},Np=Lo.ErrorCode=Dm,oE=Lo.EventType=vw,lM=Lo.Event=nd,wA=Lo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bw=Lo.FetchXmlHttpFactory=wl,$m=Lo.WebChannel=Ew,TA=Lo.XhrIo=vi,bA=Lo.Md5=Wi,Fh=Lo.Integer=yr;const jw="@firebase/firestore";class Gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");let cd="10.11.1";const ou=new Sr.Vy("@firebase/firestore");function Vh(){return ou.logLevel}function Ze(n,...e){if(ou.logLevel<=Sr.$b.DEBUG){const t=e.map(aE);ou.debug(`Firestore (${cd}): ${n}`,...t)}}function Ei(n,...e){if(ou.logLevel<=Sr.$b.ERROR){const t=e.map(aE);ou.error(`Firestore (${cd}): ${n}`,...t)}}function ks(n,...e){if(ou.logLevel<=Sr.$b.WARN){const t=e.map(aE);ou.warn(`Firestore (${cd}): ${n}`,...t)}}function aE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ct(n="Unexpected state"){const e=`FIRESTORE (${cd}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function Ft(n,e){n||Ct()}function mt(n,e){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Yt.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gi.UNAUTHENTICATED))}shutdown(){}}class Hw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cM{constructor(e){this.t=e,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const c=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let h=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new qi,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const A=h;e.enqueueRetryable((0,Ve.A)(function*(){yield A.promise,yield c(i.currentUser)}))},v=A=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(A=>v(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?v(A):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new qi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new lE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Gi(e)}}class uM{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Gi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kp{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new uM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=c=>{null!=c.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,Ze("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.R=t.token,new zw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ww(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Gw{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=Ww(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return i}}function pn(n,e){return n<e?-1:n>e?1:0}function Uh(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}function qw(n){return n+"\0"}class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ni(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new ni(0,0))}static max(){return new Bt(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ud{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ct(),void 0===i?i=e.length-t:i>e.length-t&&Ct(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ud.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ud?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wn extends ud{construct(e,t,i){return new Wn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Xe(Se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Wn(t)}static emptyPath(){return new Wn([])}}const hM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends ud{construct(e,t,i){return new Fr(e,t,i)}static isValidIdentifier(e){return hM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(0===i.length)throw new Xe(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const g=e[a];if("\\"===g){if(a+1===e.length)throw new Xe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Xe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,a+=2}else"`"===g?(h=!h,a++):"."!==g||h?(i+=g,a++):(c(),a++)}if(c(),h)throw new Xe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Wn.fromString(e))}static fromName(e){return new yt(Wn.fromString(e).popFirst(5))}static empty(){return new yt(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Wn(e.slice()))}}class Lp{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Kw(n){return n.fields.find(e=>2===e.kind)}function Bh(n){return n.fields.filter(e=>2!==e.kind)}Lp.UNKNOWN_ID=-1;class dd{constructor(e,t){this.fieldPath=e,this.kind=t}}class hc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hc(0,uo.min())}}function zm(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Bt.fromTimestamp(1e9===i?new ni(t+1,0):new ni(t,i));return new uo(a,yt.empty(),e)}function cE(n){return new uo(n.readTime,n.key,-1)}class uo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new uo(Bt.min(),yt.empty(),-1)}static max(){return new uo(Bt.max(),yt.empty(),-1)}}function uE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=yt.comparator(n.documentKey,e.documentKey),0!==t?t:pn(n.largestBatchId,e.largestBatchId))}const dE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Uo(n){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,Ve.A)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==dE)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),Ks.apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,c=0,h=!1;e.forEach(g=>{++a,g.next(()=>{++c,h&&c===a&&t()},v=>i(v))}),h=!0,c===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const c=e.length,h=new Array(c);let g=0;for(let v=0;v<c;v++){const A=v;t(e[A]).next(x=>{h[A]=x,++g,g===c&&i(h)},x=>a(x))}})}static doWhile(e,t){return new fe((i,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):i()};c()})}}class Fp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new qi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wm(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const a=Up(i.target.error);this.V.reject(new Wm(e,a))}}static open(e,t,i,a){try{return new Fp(t,e.transaction(a,i))}catch(c){throw new Wm(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Xw(t)}}class fc{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===fc.S((0,Yt.ZQ)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),jh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Yt.zW)())return!1;if(fc.C())return!0;const e=(0,Yt.ZQ)(),t=fc.S(e),i=0<t&&t<10,a=Qw(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,Ve.A)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{i(h.target.result)},c.onblocked=()=>{a(new Wm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const g=h.target.error;a("VersionError"===g.name?new Xe(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Xe(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Wm(e,g))},c.onupgradeneeded=h=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.p.O(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var c=this;return(0,Ve.A)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.M(e);const v=Fp.open(c.db,e,h?"readonly":"readwrite",i),A=a(v).next(x=>(v.g(),x)).catch(x=>(v.abort(x),fe.reject(x))).toPromise();return A.catch(()=>{}),yield v.m,A}catch(v){const A=v,x="FirebaseError"!==A.name&&g<3;if(Ze("SimpleDb","Transaction failed with error:",A.message,"Retrying:",x),c.close(),!x)return Promise.reject(A)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Qw(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class pM{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return jh(this.B.delete())}}class Wm extends Xe{constructor(e,t){super(Se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pc(n){return"IndexedDbTransactionError"===n.name}class Xw{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),jh(i)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),jh(this.store.add(e))}get(e){return jh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),jh(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),jh(this.store.count())}U(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if("function"==typeof a.getAll){const c=a.getAll(i.range);return new fe((h,g)=>{c.onerror=v=>{g(v.target.error)},c.onsuccess=v=>{h(v.target.result)}})}{const c=this.cursor(i),h=[];return this.W(c,(g,v)=>{h.push(v)}).next(()=>h)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new fe((a,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}j(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const a=this.cursor(i);return this.W(a,(c,h,g)=>g.delete())}J(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.W(a,t)}Y(e){const t=this.cursor({});return new fe((i,a)=>{t.onerror=c=>{const h=Up(c.target.error);a(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():i()}):i()}})}W(e,t){const i=[];return new fe((a,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void a();const v=new pM(g),A=t(g.primaryKey,g.value,v);if(A instanceof fe){const x=A.catch(L=>(v.done(),fe.reject(L)));i.push(x)}v.isDone?a():null===v.K?g.continue():g.continue(v.K)}}).next(()=>fe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function jh(n){return new fe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const a=Up(i.target.error);t(a)}})}let Vp=!1;function Up(n){const e=fc.S((0,Yt.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vp||(Vp=!0,setTimeout(()=>{throw i},0)),i}}return n}class fE{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Ze("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ve.A)(function*(){t.task=null;try{Ze("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){pc(i)?Ze("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Uo(i)}yield t.X(6e4)}))}}class SA{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,Ve.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))})()}te(e,t){const i=new Set;let a=t,c=!0;return fe.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!i.has(h))return Ze("IndexBackfiller",`Processing collection: ${h}`),this.ne(e,h,a).next(g=>{a-=g,i.add(h)});c=!1})).next(()=>t-a)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(c=>{const h=c.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.re(a,c)).next(g=>(Ze("IndexBackfiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>h.size)}))}re(e,t){let i=e;return t.changes.forEach((a,c)=>{const h=cE(c);uE(h,i)>0&&(i=h)}),new uo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let as=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function hd(n){return null==n}function $h(n){return 0===n&&1/n==-1/0}function Gm(n){return"number"==typeof n&&Number.isInteger(n)&&!$h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yw(e)),e=RA(n.get(t),e);return Yw(e)}function RA(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const c=n.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Yw(n){return n+"\x01\x01"}function Ua(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wn.emptyPath();const t=e-2,i=[];let a="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&Ct(),n.charAt(h+1)){case"\x01":const g=n.substring(c,h);let v;0===a.length?v=g:(a+=g,v=a,a=""),i.push(v);break;case"\x10":a+=n.substring(c,h),a+="\0";break;case"\x11":a+=n.substring(c,h+1);break;default:Ct()}c=h+2}return new Wn(i)}const Zw=["userId","batchId"];function qm(n,e){return[n,Ki(e)]}function Jw(n,e,t){return[n,Ki(e),t]}const eT={},Bp=["prefixPath","collectionGroup","readTime","documentId"],Km=["prefixPath","collectionGroup","documentId"],pE=["collectionGroup","readTime","prefixPath","documentId"],PA=["canonicalId","targetId"],MA=["targetId","path"],gE=["path","targetId"],tT=["collectionId","parent"],fd=["indexId","uid"],nT=["uid","sequenceNumber"],rT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xA=["indexId","uid","orderedDocumentKey"],gM=["userId","collectionPath","documentId"],Qm=["userId","collectionPath","largestBatchId"],OA=["userId","collectionGroup","largestBatchId"],mE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iT=[...mE,"documentOverlays"],_E=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xm=_E,yE=[...Xm,"indexConfiguration","indexState","indexEntries"],Ym=yE;class pd extends hE{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Qi(n,e){const t=mt(n);return fc.F(t._e,e)}function Zm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Rr{constructor(e,t){this.comparator=e,this.root=t||gs.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gs{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??gs.RED,this.left=a??gs.EMPTY,this.right=c??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new gs(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return gs.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(e,t,i,a,c){return this}insert(e,t,i){return new gs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hh(n){return n.hasNext()?n.getNext():void 0}class ho{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new ho([])}unionWith(e){let t=new vr(Fr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ho(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new EE("Invalid base64 string: "+c):c}}(e);return new kt(t)}static fromUint8Array(e){const t=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const aT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=aT.exec(n);if(Ft(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Al(n){return"string"==typeof n?kt.fromBase64String(n):kt.fromUint8Array(n)}function jp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jm(n){const e=n.mapValue.fields.__previous_value__;return jp(e)?Jm(e):e}function au(n){const e=Dl(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class zh{constructor(e,t,i,a,c,h,g,v,A){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=A}}class Sl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$p={nullValue:"NULL_VALUE"};function Rl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:uT(n)?9007199254740991:10:Ct()}function ga(n,e){if(n===e)return!0;const t=Rl(n);if(t!==Rl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return au(n).isEqual(au(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=Dl(a.timestampValue),g=Dl(c.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Al(n.bytesValue).isEqual(Al(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,c){return Vr(a.geoPointValue.latitude)===Vr(c.geoPointValue.latitude)&&Vr(a.geoPointValue.longitude)===Vr(c.geoPointValue.longitude)}(n,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Vr(a.integerValue)===Vr(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=Vr(a.doubleValue),g=Vr(c.doubleValue);return h===g?$h(h)===$h(g):isNaN(h)&&isNaN(g)}return!1}(n,e);case 9:return Uh(n.arrayValue.values||[],e.arrayValue.values||[],ga);case 10:return function(a,c){const h=a.mapValue.fields||{},g=c.mapValue.fields||{};if(Zm(h)!==Zm(g))return!1;for(const v in h)if(h.hasOwnProperty(v)&&(void 0===g[v]||!ga(h[v],g[v])))return!1;return!0}(n,e);default:return Ct()}var c}function md(n,e){return void 0!==(n.values||[]).find(t=>ga(t,e))}function gc(n,e){if(n===e)return 0;const t=Rl(n),i=Rl(e);if(t!==i)return pn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return pn(n.booleanValue,e.booleanValue);case 2:return function(c,h){const g=Vr(c.integerValue||c.doubleValue),v=Vr(h.integerValue||h.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(n,e);case 3:return e_(n.timestampValue,e.timestampValue);case 4:return e_(au(n),au(e));case 5:return pn(n.stringValue,e.stringValue);case 6:return function(c,h){const g=Al(c),v=Al(h);return g.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(c,h){const g=c.split("/"),v=h.split("/");for(let A=0;A<g.length&&A<v.length;A++){const x=pn(g[A],v[A]);if(0!==x)return x}return pn(g.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,h){const g=pn(Vr(c.latitude),Vr(h.latitude));return 0!==g?g:pn(Vr(c.longitude),Vr(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,h){const g=c.values||[],v=h.values||[];for(let A=0;A<g.length&&A<v.length;++A){const x=gc(g[A],v[A]);if(x)return x}return pn(g.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,h){if(c===pa.mapValue&&h===pa.mapValue)return 0;if(c===pa.mapValue)return 1;if(h===pa.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),A=h.fields||{},x=Object.keys(A);v.sort(),x.sort();for(let L=0;L<v.length&&L<x.length;++L){const X=pn(v[L],x[L]);if(0!==X)return X;const ee=gc(g[v[L]],A[x[L]]);if(0!==ee)return ee}return pn(v.length,x.length)}(n.mapValue,e.mapValue);default:throw Ct()}}function e_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return pn(n,e);const t=Dl(n),i=Dl(e),a=pn(t.seconds,i.seconds);return 0!==a?a:pn(t.nanos,i.nanos)}function Wh(n){return IE(n)}function IE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Dl(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Al(n.bytesValue).toBase64():"referenceValue"in n?yt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const c of t.values||[])a?a=!1:i+=",",i+=IE(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${IE(t.fields[h])}`;return a+"}"}(n.mapValue):Ct()}function lu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wE(n){return!!n&&"integerValue"in n}function Hp(n){return!!n&&"arrayValue"in n}function lT(n){return!!n&&"nullValue"in n}function cT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zp(n){return!!n&&"mapValue"in n}function Gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Gh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function NA(n){return"nullValue"in n?$p:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lu(Sl.empty(),yt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ct()}function fo(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lu(Sl.empty(),yt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pa:Ct()}function dT(n,e){const t=gc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hT(n,e){const t=gc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ls{constructor(e){this.value=e}static empty(){return new Ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gh(t)}setAll(e){let t=Fr.emptyPath(),i={},a=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,i,a),i={},a=[],t=g.popLast()}h?i[g.lastSegment()]=Gh(h):a.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ga(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];zp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){fa(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new Ls(Gh(this.value))}}function n_(n){const e=[];return fa(n.fields,(t,i)=>{const a=new Fr([t]);if(zp(i)){const c=n_(i.mapValue).fields;if(0===c.length)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new ho(e)}class $r{constructor(e,t,i,a,c,h,g){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=h,this.documentState=g}static newInvalidDocument(e){return new $r(e,0,Bt.min(),Bt.min(),Bt.min(),Ls.empty(),0)}static newFoundDocument(e,t,i,a){return new $r(e,1,t,Bt.min(),i,a,0)}static newNoDocument(e,t){return new $r(e,2,t,Bt.min(),Bt.min(),Ls.empty(),0)}static newUnknownDocument(e,t){return new $r(e,3,t,Bt.min(),Bt.min(),Ls.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cu{constructor(e,t){this.position=e,this.inclusive=t}}function fT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const c=e[a],h=n.position[a];if(i=c.field.isKeyField()?yt.comparator(yt.fromName(h.referenceValue),t.key):gc(h,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function pT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ga(n.position[t],e.position[t]))return!1;return!0}class qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function kA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class gT{}class Ln extends gT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new vT(e,t,i):"array-contains"===t?new mM(e,i):"in"===t?new CE(e,i):"not-in"===t?new IT(e,i):"array-contains-any"===t?new wT(e,i):new Ln(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new ET(e,i):new i_(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gc(t,this.value)):null!==t&&Rl(this.value)===Rl(t)&&this.matchesComparison(gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends gT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Er(e,t)}matches(e){return Kh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kh(n){return"and"===n.op}function TE(n){return"or"===n.op}function bE(n){return mT(n)&&Kh(n)}function mT(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function ma(n){if(n instanceof Ln)return n.field.canonicalString()+n.op.toString()+Wh(n.value);if(bE(n))return n.filters.map(e=>ma(e)).join(",");{const e=n.filters.map(t=>ma(t)).join(",");return`${n.op}(${e})`}}function r_(n,e){return n instanceof Ln?(i=n,(a=e)instanceof Ln&&i.op===a.op&&i.field.isEqual(a.field)&&ga(i.value,a.value)):n instanceof Er?function(i,a){return a instanceof Er&&i.op===a.op&&i.filters.length===a.filters.length&&i.filters.reduce((c,h,g)=>c&&r_(h,a.filters[g]),!0)}(n,e):void Ct();var i,a}function _T(n,e){const t=n.filters.concat(e);return Er.create(t,n.op)}function yT(n){return n instanceof Ln?`${(t=n).field.canonicalString()} ${t.op} ${Wh(t.value)}`:n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(yT).join(" ,")+"}"}(n):"Filter";var t}class vT extends Ln{constructor(e,t,i){super(e,t,i),this.key=yt.fromName(i.referenceValue)}matches(e){const t=yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ET extends Ln{constructor(e,t){super(e,"in",t),this.keys=s_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class i_ extends Ln{constructor(e,t){super(e,"not-in",t),this.keys=s_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>yt.fromName(i.referenceValue))}class mM extends Ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hp(t)&&md(t.arrayValue,this.value)}}class CE extends Ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&md(this.value.arrayValue,t)}}class IT extends Ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!md(this.value.arrayValue,t)}}class wT extends Ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>md(this.value.arrayValue,i))}}class o_{constructor(e,t=null,i=[],a=[],c=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=h,this.endAt=g,this.ue=null}}function Wp(n,e=null,t=[],i=[],a=null,c=null,h=null){return new o_(n,e,t,i,a,c,h)}function Qs(n){const e=mt(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ma(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wh(i)).join(",")),e.ue=t}return e.ue}function Gp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pT(n.startAt,e.startAt)&&pT(n.endAt,e.endAt)}function a_(n){return yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Qh(n,e){return n.filters.filter(t=>t instanceof Ln&&t.field.isEqual(e))}function TT(n,e,t){let i=$p,a=!0;for(const c of Qh(n,e)){let h=$p,g=!0;switch(c.op){case"<":case"<=":h=NA(c.value);break;case"==":case"in":case">=":h=c.value;break;case">":h=c.value,g=!1;break;case"!=":case"not-in":h=$p}dT({value:i,inclusive:a},{value:h,inclusive:g})<0&&(i=h,a=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const h=t.position[c];dT({value:i,inclusive:a},{value:h,inclusive:t.inclusive})<0&&(i=h,a=t.inclusive);break}return{value:i,inclusive:a}}function Xh(n,e,t){let i=pa,a=!0;for(const c of Qh(n,e)){let h=pa,g=!0;switch(c.op){case">=":case">":h=fo(c.value),g=!1;break;case"==":case"in":case"<=":h=c.value;break;case"<":h=c.value,g=!1;break;case"!=":case"not-in":h=pa}hT({value:i,inclusive:a},{value:h,inclusive:g})>0&&(i=h,a=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const h=t.position[c];hT({value:i,inclusive:a},{value:h,inclusive:t.inclusive})>0&&(i=h,a=t.inclusive);break}return{value:i,inclusive:a}}class Pl{constructor(e,t=null,i=[],a=[],c=null,h="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null}}function _d(n,e,t,i,a,c,h,g){return new Pl(n,e,t,i,a,c,h,g)}function Ml(n){return new Pl(n)}function l_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yd(n){return null!==n.collectionGroup}function vd(n){const e=mt(n);if(null===e.ce){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new vr(Fr.comparator);return h.filters.forEach(v=>{v.getFlattenedFilters().forEach(A=>{A.isInequality()&&(g=g.add(A.field))})}),g})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new qh(c,i))}),t.has(Fr.keyField().canonicalString())||e.ce.push(new qh(Fr.keyField(),i))}return e.ce}function Fs(n){const e=mt(n);return e.le||(e.le=function bT(n,e){if("F"===n.limitType)return Wp(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>new qh(a.field,"desc"===a.dir?"asc":"desc"));const t=n.endAt?new cu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new cu(n.startAt.position,n.startAt.inclusive):null;return Wp(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,vd(n))),e.le}function DE(n,e){const t=n.filters.concat([e]);return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function c_(n,e,t){return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qp(n,e){return Gp(Fs(n),Fs(e))&&n.limitType===e.limitType}function AE(n){return`${Qs(Fs(n))}|lt:${n.limitType}`}function mc(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>yT(a)).join(", ")}]`),hd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>{return`${(h=a).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Wh(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Wh(a)).join(",")),`Target(${i})`}(Fs(n))}; limitType=${n.limitType})`}function Kp(n,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):yt.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,a){for(const c of vd(i))if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(n,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(n,e)&&(a=e,!((i=n).startAt&&!function(h,g,v){const A=fT(h,g,v);return h.inclusive?A<=0:A<0}(i.startAt,vd(i),a)||i.endAt&&!function(h,g,v){const A=fT(h,g,v);return h.inclusive?A>=0:A>0}(i.endAt,vd(i),a)));var i,a}function LA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CT(n){return(e,t)=>{let i=!1;for(const a of vd(n)){const c=FA(a,e,t);if(0!==c)return c;i=i||a.field.isKeyField()}return 0}}function FA(n,e,t){const i=n.field.isKeyField()?yt.comparator(e.key,t.key):function(c,h,g){const v=h.data.field(c),A=g.data.field(c);return null!==v&&null!==A?gc(v,A):Ct()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ct()}}class xl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,c]of i)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}const VA=new Rr(yt.comparator);function po(){return VA}const SE=new Rr(yt.comparator);function Ed(...n){let e=SE;for(const t of n)e=e.insert(t.key,t);return e}function RE(n){let e=SE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function go(){return _c()}function Yh(){return _c()}function _c(){return new xl(n=>n.toString(),(n,e)=>n.isEqual(e))}const UA=new Rr(yt.comparator),BA=new vr(yt.comparator);function bn(...n){let e=BA;for(const t of n)e=e.add(t);return e}const u_=new vr(pn);function Qp(){return u_}function DT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function jA(n){return{integerValue:""+n}}function $A(n,e){return Gm(e)?jA(e):DT(n,e)}class d_{constructor(){this._=void 0}}function HA(n,e,t){return n instanceof Xp?function(a,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&jp(c)&&(c=Jm(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(t,e):n instanceof Id?ST(n,e):n instanceof wd?h_(n,e):function(a,c){const h=AT(a,c),g=f_(h)+f_(a.Pe);return wE(h)&&wE(a.Pe)?jA(g):DT(a.serializer,g)}(n,e)}function _M(n,e,t){return n instanceof Id?ST(n,e):n instanceof wd?h_(n,e):t}function AT(n,e){return n instanceof Ol?wE(i=e)||(c=i)&&"doubleValue"in c?e:{integerValue:0}:null;var i,c}class Xp extends d_{}class Id extends d_{constructor(e){super(),this.elements=e}}function ST(n,e){const t=Yp(e);for(const i of n.elements)t.some(a=>ga(a,i))||t.push(i);return{arrayValue:{values:t}}}class wd extends d_{constructor(e){super(),this.elements=e}}function h_(n,e){let t=Yp(e);for(const i of n.elements)t=t.filter(a=>!ga(a,i));return{arrayValue:{values:t}}}class Ol extends d_{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function f_(n){return Vr(n.integerValue||n.doubleValue)}function Yp(n){return Hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zh{constructor(e,t){this.field=e,this.transform=t}}class RT{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Jp{}function PT(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Nl(n.key,ri.none()):new Jh(n.key,n.data,ri.none());{const t=n.data,i=Ls.empty();let a=new vr(Fr.comparator);for(let c of e.fields)if(!a.has(c)){let h=t.field(c);null===h&&c.length>1&&(c=c.popLast(),h=t.field(c)),null===h?i.delete(c):i.set(c,h),a=a.add(c)}return new yc(n.key,i,new ho(a.toArray()),ri.none())}}function MT(n,e,t){n instanceof Jh?function(a,c,h){const g=a.value.clone(),v=NT(a.fieldTransforms,c,h.transformResults);g.setAll(v),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):n instanceof yc?function(a,c,h){if(!uu(a.precondition,c))return void c.convertToUnknownDocument(h.version);const g=NT(a.fieldTransforms,c,h.transformResults),v=c.data;v.setAll(OT(a)),v.setAll(g),c.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function eg(n,e,t,i){return n instanceof Jh?function(c,h,g,v){if(!uu(c.precondition,h))return g;const A=c.value.clone(),x=g_(c.fieldTransforms,v,h);return A.setAll(x),h.convertToFoundDocument(h.version,A).setHasLocalMutations(),null}(n,e,t,i):n instanceof yc?function(c,h,g,v){if(!uu(c.precondition,h))return g;const A=g_(c.fieldTransforms,v,h),x=h.data;return x.setAll(OT(c)),x.setAll(A),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),null===g?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(L=>L.field))}(n,e,t,i):(g=t,uu(n.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function p_(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),c=AT(i.transform,a||null);null!=c&&(null===t&&(t=Ls.empty()),t.set(i.field,c))}return t||null}function xT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===a||i&&a&&Uh(i,a,(c,h)=>function Zp(n,e){return n.field.isEqual(e.field)&&(a=e.transform,(i=n.transform)instanceof Id&&a instanceof Id||i instanceof wd&&a instanceof wd?Uh(i.elements,a.elements,ga):i instanceof Ol&&a instanceof Ol?ga(i.Pe,a.Pe):i instanceof Xp&&a instanceof Xp);var i,a}(c,h))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,a}class Jh extends Jp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class yc extends Jp{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function NT(n,e,t){const i=new Map;Ft(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],h=c.transform,g=e.data.field(c.field);i.set(c.field,_M(h,g,t[a]))}return i}function g_(n,e,t){const i=new Map;for(const a of n){const c=a.transform,h=t.data.field(a.field);i.set(a.field,HA(c,h,e))}return i}class Nl extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PE extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ef{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&MT(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=eg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=eg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Yh();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=t.has(a.key)?null:g;const v=PT(h,g);null!==v&&i.set(a.key,v),h.isValidDocument()||h.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&Uh(this.mutations,e.mutations,(t,i)=>xT(t,i))&&Uh(this.baseMutations,e.baseMutations,(t,i)=>xT(t,i))}}class tf{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ft(e.mutations.length===i.length);let a=function(){return UA}();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,i[h].version);return new tf(e,t,i,a)}}class kT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class WA{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ii,Kn;function ME(n){switch(n){default:return Ct();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function LT(n){if(void 0===n)return Ei("GRPC error has no .code"),Se.UNKNOWN;switch(n){case Ii.OK:return Se.OK;case Ii.CANCELLED:return Se.CANCELLED;case Ii.UNKNOWN:return Se.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return Se.INTERNAL;case Ii.UNAVAILABLE:return Se.UNAVAILABLE;case Ii.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Ii.NOT_FOUND:return Se.NOT_FOUND;case Ii.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Ii.ABORTED:return Se.ABORTED;case Ii.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Ii.DATA_LOSS:return Se.DATA_LOSS;default:return Ct()}}(Kn=Ii||(Ii={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";function xE(){return new TextEncoder}const GA=new Fh([4294967295,4294967295],0);function FT(n){const e=xE().encode(n),t=new bA;return t.update(e),new Uint8Array(t.digest())}function Td(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Fh([t,i],0),new Fh([a,c],0)]}class nf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tg(`Invalid padding: ${t}`);if(i<0)throw new tg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new tg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new tg(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Fh.fromNumber(this.Ie)}Ee(e,t,i){let a=e.add(t.multiply(Fh.fromNumber(i)));return 1===a.compare(GA)&&(a=new Fh([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=FT(e),[i,a]=Td(t);for(let c=0;c<this.hashCount;c++){const h=this.Ee(i,a,c);if(!this.de(h))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new nf(c,a,t);return i.forEach(g=>h.insert(g)),h}insert(e){if(0===this.Ie)return;const t=FT(e),[i,a]=Td(t);for(let c=0;c<this.hashCount;c++){const h=this.Ee(i,a,c);this.Ae(h)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class tg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ng.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rf(Bt.min(),a,new Rr(pn),po(),bn())}}class ng{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ng(i,t,bn(),bn(),bn())}}class rg{constructor(e,t,i,a){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=a}}class qA{constructor(e,t){this.targetId=e,this.me=t}}class VT{constructor(e,t,i=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class ig{constructor(){this.fe=0,this.ge=jT(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=bn(),t=bn(),i=bn();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ct()}}),new ng(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=jT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UT{constructor(e){this.Le=e,this.Be=new Map,this.ke=po(),this.qe=BT(),this.Qe=new Rr(pn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,i=e.me.count,a=this.Je(t);if(a){const c=a.target;if(a_(c))if(0===i){const h=new yt(c.path);this.Ue(t,h,$r.newNoDocument(h,Bt.min()))}else Ft(1===i);else{const h=this.Ye(t);if(h!==i){const g=this.Ze(e),v=g?this.Xe(g,e,h):1;0!==v&&(this.je(t),this.Qe=this.Qe.insert(t,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=t;let h,g;try{h=Al(i).toUint8Array()}catch(v){if(v instanceof EE)return ks("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new nf(h,a,c)}catch(v){return ks(v instanceof tg?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return 0===g.Ie?null:g}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let a=0;return i.forEach(c=>{const h=this.Le.tt(),g=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Ue(t,c,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((c,h)=>{const g=this.Je(h);if(g){if(c.current&&a_(g.target)){const v=new yt(g.target.path);null!==this.ke.get(v)||this.it(h,v)||this.Ue(h,v,$r.newNoDocument(v,e))}c.be&&(t.set(h,c.Ce()),c.ve())}});let i=bn();this.qe.forEach((c,h)=>{let g=!0;h.forEachWhile(v=>{const A=this.Je(v);return!A||"TargetPurposeLimboResolution"===A.purpose||(g=!1,!1)}),g&&(i=i.add(c))}),this.ke.forEach((c,h)=>h.setReadTime(e));const a=new rf(e,t,this.Qe,this.ke,i);return this.ke=po(),this.qe=BT(),this.Qe=new Rr(pn),a}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ig,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new vr(pn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ig),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function BT(){return new Rr(yt.comparator)}function jT(){return new Rr(yt.comparator)}const KA={asc:"ASCENDING",desc:"DESCENDING"},OE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yM={and:"AND",or:"OR"};class $T{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bo(n,e){return n.useProto3Json||hd(e)?e:{value:e}}function bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vM(n,e){return bd(n,e.toTimestamp())}function Cn(n){return Ft(!!n),Bt.fromTimestamp(function(t){const i=Dl(t);return new ni(i.seconds,i.nanos)}(n))}function NE(n,e){return sg(n,e).canonicalString()}function sg(n,e){const t=(a=n,new Wn(["projects",a.projectId,"databases",a.database])).child("documents");var a;return void 0===e?t:t.child(e)}function zT(n){const e=Wn.fromString(n);return Ft(sf(e)),e}function og(n,e){return NE(n.databaseId,e.path)}function _a(n,e){const t=zT(e);if(t.get(1)!==n.databaseId.projectId)throw new Xe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Xe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new yt(WT(t))}function kE(n,e){return NE(n.databaseId,e)}function LE(n){const e=zT(n);return 4===e.length?Wn.emptyPath():WT(e)}function __(n){return new Wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WT(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GT(n,e,t){return{name:og(n,e),fields:t.value.mapValue.fields}}function du(n,e,t){const i=_a(n,e.name),a=Cn(e.updateTime),c=e.createTime?Cn(e.createTime):Bt.min(),h=new Ls({mapValue:{fields:e.fields}}),g=$r.newFoundDocument(i,a,c,h);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function ag(n,e){let t;if(e instanceof Jh)t={update:GT(n,e.key,e.value)};else if(e instanceof Nl)t={delete:og(n,e.key)};else if(e instanceof yc)t={update:GT(n,e.key,e.data),updateMask:gu(e.fieldMask)};else{if(!(e instanceof PE))return Ct();t={verify:og(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const g=h.transform;if(g instanceof Xp)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Id)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof wd)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ol)return{fieldPath:h.field.canonicalString(),increment:g.Pe};throw Ct()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:vM(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ct()),t;var c}function y_(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ri.updateTime(Cn(c.updateTime)):void 0!==c.exists?ri.exists(c.exists):ri.none():ri.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(h,g){let v=null;"setToServerValue"in g?(Ft("REQUEST_TIME"===g.setToServerValue),v=new Xp):"appendMissingElements"in g?v=new Id(g.appendMissingElements.values||[]):"removeAllFromArray"in g?v=new wd(g.removeAllFromArray.values||[]):"increment"in g?v=new Ol(h,g.increment):Ct();const A=Fr.fromServerFormat(g.fieldPath);return new Zh(A,v)}(n,a)):[];var c;if(e.update){const a=_a(n,e.update.name),c=new Ls({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new ho((e.updateMask.fieldPaths||[]).map(x=>Fr.fromServerFormat(x)));return new yc(a,c,h,t,i)}return new Jh(a,c,t,i)}if(e.delete){const a=_a(n,e.delete);return new Nl(a,t)}if(e.verify){const a=_a(n,e.verify);return new PE(a,t)}return Ct()}function VE(n,e){return{documents:[kE(n,e.path)]}}function Cd(n,e){const t={structuredQuery:{}},i=e.path;let a;null!==e.collectionGroup?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=kE(n,a);const c=function(A){if(0!==A.length)return UE(Er.create(A,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(A){if(0!==A.length)return A.map(x=>{return{field:fu((X=x).field),direction:QT(X.dir)};var X})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=Bo(n,e.limit);return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt=function(A){return{before:!A.inclusive,values:A.position}}(e.endAt)),{_t:t,parent:a};var A}function v_(n){let e=LE(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ft(1===i);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(L){const X=lg(L);return X instanceof Er&&bE(X)?X.getFilters():[X]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(X=>{return new qh(pu((de=X).field),function(Ae){switch(Ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let g=null;t.limit&&(g=function(L){let X;return X="object"==typeof L?L.value:L,hd(X)?null:X}(t.limit));let v=null;var L;t.startAt&&(v=new cu((L=t.startAt).values||[],!!L.before));let A=null;return t.endAt&&(A=function(L){return new cu(L.values||[],!L.before)}(t.endAt)),_d(e,a,h,c,g,"F",v,A)}function lg(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=pu(t.unaryFilter.field);return Ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=pu(t.unaryFilter.field);return Ln.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=pu(t.unaryFilter.field);return Ln.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=pu(t.unaryFilter.field);return Ln.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(n):void 0!==n.fieldFilter?Ln.create(pu((t=n).fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Er.create(t.compositeFilter.filters.map(i=>lg(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ct()}}(t.compositeFilter.op))}(n):Ct();var t}function QT(n){return KA[n]}function cg(n){return OE[n]}function QA(n){return yM[n]}function fu(n){return{fieldPath:n.canonicalString()}}function pu(n){return Fr.fromServerFormat(n.fieldPath)}function UE(n){return n instanceof Ln?function(t){if("=="===t.op){if(cT(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NAN"}};if(lT(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(cT(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NOT_NAN"}};if(lT(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(t.field),op:cg(t.op),value:t.value}}}(n):n instanceof Er?function(t){const i=t.getFilters().map(a=>UE(a));return 1===i.length?i[0]:{compositeFilter:{op:QA(t.op),filters:i}}}(n):Ct()}function gu(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class mu{constructor(e,t,i,a,c=Bt.min(),h=Bt.min(),g=kt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ug{constructor(e){this.ut=e}}function BE(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:E_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:og(c=n.ut,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:bd(c,h.version.toTimestamp()),createTime:bd(c,h.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:kl(e.version)};else{if(!e.isUnknownDocument())return Ct();i.unknownDocument={path:t.path.toArray(),version:kl(e.version)}}var c,h;return i}function E_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ba(n){const e=new ni(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function Dd(n,e){const t=(e.baseMutations||[]).map(c=>y_(n.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const i=e.mutations.map(c=>y_(n.ut,c)),a=ni.fromMillis(e.localWriteTimeMs);return new ef(e.batchId,a,t,i)}function dg(n){const e=Ba(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ba(n.lastLimboFreeSnapshotVersion):Bt.min();let i;return i=void 0!==n.query.documents?(Ft(1===(c=n.query).documents.length),Fs(Ml(LE(c.documents[0])))):function(c){return Fs(v_(c))}(n.query),new mu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,kt.fromBase64String(n.resumeToken));var c}function YT(n,e){const t=kl(e.snapshotVersion),i=kl(e.lastLimboFreeSnapshotVersion);let a;a=a_(e.target)?VE(n.ut,e.target):Cd(n.ut,e.target)._t;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qs(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function jE(n){const e=v_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?c_(e,e.limit,"L"):e}function $E(n,e){return new kT(e.largestBatchId,y_(n.ut,e.overlayMutation))}function ZT(n,e){const t=e.path.lastSegment();return[n,Ki(e.path.popLast()),t]}function JT(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:kl(i.readTime),documentKey:Ki(i.documentKey.path),largestBatchId:i.largestBatchId}}class XA{getBundleMetadata(e,t){return hg(e).get(t).next(i=>{if(i)return{id:(c=i).bundleId,createTime:Ba(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return hg(e).put({bundleId:(a=t).id,createTime:kl(Cn(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return eb(e).get(t).next(i=>{if(i)return{name:(c=i).name,query:jE(c.bundledQuery),readTime:Ba(c.readTime)};var c})}saveNamedQuery(e,t){return eb(e).put({name:(a=t).name,readTime:kl(Cn(a.readTime)),bundledQuery:a.bundledQuery});var a}}function hg(n){return Qi(n,"bundles")}function eb(n){return Qi(n,"namedQueries")}class I_{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new I_(e,t.uid||"")}getOverlay(e,t){return af(e).get(ZT(this.userId,t)).next(i=>i?$E(this.serializer,i):null)}getOverlays(e,t){const i=go();return fe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((c,h)=>{const g=new kT(t,h);a.push(this.lt(e,g))}),fe.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(h=>a.add(Ki(h.getCollectionPath())));const c=[];return a.forEach(h=>{const g=IDBKeyRange.bound([this.userId,h,i],[this.userId,h,i+1],!1,!0);c.push(af(e).j("collectionPathOverlayIndex",g))}),fe.waitFor(c)}getOverlaysForCollection(e,t,i){const a=go(),c=Ki(t),h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return af(e).U("collectionPathOverlayIndex",h).next(g=>{for(const v of g){const A=$E(this.serializer,v);a.set(A.getKey(),A)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const c=go();let h;const g=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return af(e).J({index:"collectionGroupOverlayIndex",range:g},(v,A,x)=>{const L=$E(this.serializer,A);c.size()<a||L.largestBatchId===h?(c.set(L.getKey(),L),h=L.largestBatchId):x.done()}).next(()=>c)}lt(e,t){return af(e).put(function(a,c,h){const[g,v,A]=ZT(c,h.mutation.key);return{userId:c,collectionPath:v,documentId:A,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:ag(a.ut,h.mutation)}}(this.serializer,this.userId,t))}}function af(n){return Qi(n,"documentOverlays")}class _u{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Vr(e.integerValue));else if("doubleValue"in e){const i=Vr(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),$h(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(t,20),"string"==typeof i&&(i=Dl(i)),t.dt(`${i.seconds||""}`),t.Et(i.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Al(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?uT(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ct()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const a of Object.keys(i))this.At(a,t),this.Pt(i[a],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const a of i)this.Pt(a,t)}ft(e,t){this.Tt(t,37),yt.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function HE(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function zE(n){const e=64-function(i){let a=0;for(let c=0;c<8;++c){const h=HE(255&i[c]);if(a+=h,8!==h)break}return a}(n);return Math.ceil(e/8)}_u.St=new _u;class YA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const a=t.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const a=t.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Nt(e){const t=this.Lt(e),i=zE(t);this.Bt(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}kt(e){const t=this.Lt(e),i=zE(t);this.Bt(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(c){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,c,!1),new Uint8Array(h.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class tb{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class WE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class lf{constructor(){this.Wt=new YA,this.Gt=new tb(this.Wt),this.zt=new WE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class yu{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new yu(this.indexId,this.documentKey,this.arrayValue,i)}}function vu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nb(n.arrayValue,e.arrayValue),0!==t?t:(t=nb(n.directionalValue,e.directionalValue),0!==t?t:yt.comparator(n.documentKey,e.documentKey)))}function nb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class rb{constructor(e){this.Jt=new vr((t,i)=>Fr.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Ft(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Kw(e);if(void 0!==t&&!this.tn(t))return!1;const i=Bh(e);let a=new Set,c=0,h=0;for(;c<i.length&&this.tn(i[c]);++c)a=a.add(i[c].fieldPath.canonicalString());if(c===i.length)return!0;if(this.Jt.size>0){const g=this.Jt.getIterator().getNext();if(!a.has(g.field.canonicalString())){const v=i[c];if(!this.nn(g,v)||!this.rn(this.Yt[h++],v))return!1}++c}for(;c<i.length;++c)if(h>=this.Yt.length||!this.rn(this.Yt[h++],i[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new vr(Fr.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new dd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new dd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new dd(i.field,"asc"===i.dir?0:1)));return new Lp(Lp.UNKNOWN_ID,this.collectionId,t,hc.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function w_(n){var e,t;if(Ft(n instanceof Ln||n instanceof Er),n instanceof Ln){if(n instanceof CE){const a=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Ln.create(n.field,"==",c)))||[];return Er.create(a,"or")}return n}const i=n.filters.map(a=>w_(a));return Er.create(i,n.op)}function GE(n){if(0===n.getFilters().length)return[];const e=qE(w_(n));return Ft(b_(e)),T_(e)||fg(e)?[e]:e.getFilters()}function T_(n){return n instanceof Ln}function fg(n){return n instanceof Er&&bE(n)}function b_(n){return T_(n)||fg(n)||function(t){if(t instanceof Er&&TE(t)){for(const i of t.getFilters())if(!T_(i)&&!fg(i))return!1;return!0}return!1}(n)}function qE(n){if(Ft(n instanceof Ln||n instanceof Er),n instanceof Ln)return n;if(1===n.filters.length)return qE(n.filters[0]);const e=n.filters.map(i=>qE(i));let t=Er.create(e,n.op);return t=C_(t),b_(t)?t:(Ft(t instanceof Er),Ft(Kh(t)),Ft(t.filters.length>1),t.filters.reduce((i,a)=>KE(i,a)))}function KE(n,e){let t;return Ft(n instanceof Ln||n instanceof Er),Ft(e instanceof Ln||e instanceof Er),t=n instanceof Ln?e instanceof Ln?Er.create([n,e],"and"):ib(n,e):e instanceof Ln?ib(e,n):function(a,c){if(Ft(a.filters.length>0&&c.filters.length>0),Kh(a)&&Kh(c))return _T(a,c.getFilters());const h=TE(a)?a:c,g=TE(a)?c:a,v=h.filters.map(A=>KE(A,g));return Er.create(v,"or")}(n,e),C_(t)}function ib(n,e){if(Kh(e))return _T(e,n.getFilters());{const t=e.filters.map(i=>KE(n,i));return Er.create(t,"or")}}function C_(n){if(Ft(n instanceof Ln||n instanceof Er),n instanceof Ln)return n;const e=n.getFilters();if(1===e.length)return C_(e[0]);if(mT(n))return n;const t=e.map(a=>C_(a)),i=[];return t.forEach(a=>{a instanceof Ln?i.push(a):a instanceof Er&&(a.op===n.op?i.push(...a.filters):i.push(a))}),1===i.length?i[0]:Er.create(i,n.op)}class sb{constructor(){this.on=new pg}addToCollectionParentIndex(e,t){return this.on.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(uo.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class pg{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new vr(Wn.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new vr(Wn.comparator)).toArray()}}const cf=new Uint8Array(0);class ob{constructor(e,t){this.databaseId=t,this._n=new pg,this.an=new xl(i=>Qs(i),(i,a)=>Gp(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const c={collectionId:i,parent:Ki(a)};return QE(e).put(c)}return fe.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[qw(t),""],!1,!0);return QE(e).U(a).next(c=>{for(const h of c){if(h.collectionId!==t)break;i.push(Ua(h.parent))}return i})}addFieldIndex(e,t){const i=gg(e),a={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var g;delete a.indexId;const c=i.add(a);if(t.indexState){const h=Sd(e);return c.next(g=>{h.put(JT(g,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const i=gg(e),a=Sd(e),c=Ad(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=gg(e),i=Ad(e),a=Sd(e);return t.j().next(()=>i.j()).next(()=>a.j())}createTargetIndexes(e,t){return fe.forEach(this.un(t),i=>this.getIndexType(e,i).next(a=>{if(0===a||1===a){const c=new rb(i).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const i=Ad(e);let a=!0;const c=new Map;return fe.forEach(this.un(t),h=>this.cn(e,h).next(g=>{a&&(a=!!g),c.set(h,g)})).next(()=>{if(a){let h=bn();const g=[];return fe.forEach(c,(v,A)=>{var Qe;Ze("IndexedDbIndexManager",`Using index ${Qe=v,`id=${Qe.indexId}|cg=${Qe.collectionGroup}|f=${Qe.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${Qs(t)}`);const x=function(Qe,vt){const nn=Kw(vt);if(void 0===nn)return null;for(const un of Qh(Qe,nn.fieldPath))switch(un.op){case"array-contains-any":return un.value.arrayValue.values||[];case"array-contains":return[un.value]}return null}(A,v),L=function(Qe,vt){const nn=new Map;for(const un of Bh(vt))for(const Mn of Qh(Qe,un.fieldPath))switch(Mn.op){case"==":case"in":nn.set(un.fieldPath.canonicalString(),Mn.value);break;case"not-in":case"!=":return nn.set(un.fieldPath.canonicalString(),Mn.value),Array.from(nn.values())}return null}(A,v),X=function(Qe,vt){const nn=[];let un=!0;for(const Mn of Bh(vt)){const Mr=0===Mn.kind?TT(Qe,Mn.fieldPath,Qe.startAt):Xh(Qe,Mn.fieldPath,Qe.startAt);nn.push(Mr.value),un&&(un=Mr.inclusive)}return new cu(nn,un)}(A,v),ee=function(Qe,vt){const nn=[];let un=!0;for(const Mn of Bh(vt)){const Mr=0===Mn.kind?Xh(Qe,Mn.fieldPath,Qe.endAt):TT(Qe,Mn.fieldPath,Qe.endAt);nn.push(Mr.value),un&&(un=Mr.inclusive)}return new cu(nn,un)}(A,v),de=this.ln(v,A,X),pe=this.ln(v,A,ee),Ae=this.hn(v,A,L),nt=this.Pn(v.indexId,x,de,X.inclusive,pe,ee.inclusive,Ae);return fe.forEach(nt,pt=>i.G(pt,t.limit).next(Qe=>{Qe.forEach(vt=>{const nn=yt.fromSegments(vt.documentKey);h.has(nn)||(h=h.add(nn),g.push(nn))})}))}).next(()=>g)}return fe.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:GE(Er.create(e.filters,"and")).map(i=>Wp(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,a,c,h,g){const v=(null!=t?t.length:1)*Math.max(i.length,c.length),A=v/(null!=t?t.length:1),x=[];for(let L=0;L<v;++L){const X=t?this.In(t[L/A]):cf,ee=this.Tn(e,X,i[L%A],a),de=this.En(e,X,c[L%A],h),pe=g.map(Ae=>this.Tn(e,X,Ae,!0));x.push(...this.createRange(ee,de,pe))}return x}Tn(e,t,i,a){const c=new yu(e,yt.empty(),t,i);return a?c:c.Ht()}En(e,t,i,a){const c=new yu(e,yt.empty(),t,i);return a?c.Ht():c}cn(e,t){const i=new rb(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let h=null;for(const g of c)i.en(g)&&(!h||g.fields.length>h.fields.length)&&(h=g);return h})}getIndexType(e,t){let i=2;const a=this.un(t);return fe.forEach(a,c=>this.cn(e,c).next(h=>{h?0!==i&&h.fields.length<function(v){let A=new vr(Fr.comparator),x=!1;for(const L of v.filters)for(const X of L.getFlattenedFilters())X.field.isKeyField()||("array-contains"===X.op||"array-contains-any"===X.op?x=!0:A=A.add(X.field));for(const L of v.orderBy)L.field.isKeyField()||(A=A.add(L.field));return A.size+(x?1:0)}(c)&&(i=1):i=0})).next(()=>null!==t.limit&&a.length>1&&2===i?1:i)}dn(e,t){const i=new lf;for(const a of Bh(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const h=i.jt(a.kind);_u.St.ht(c,h)}return i.Ut()}In(e){const t=new lf;return _u.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new lf;return _u.St.ht(lu(this.databaseId,t),i.jt(function(c){const h=Bh(c);return 0===h.length?0:h[h.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let a=[];a.push(new lf);let c=0;for(const h of Bh(e)){const g=i[c++];for(const v of a)if(this.Rn(t,h.fieldPath)&&Hp(g))a=this.Vn(a,h,g);else{const A=v.jt(h.kind);_u.St.ht(g,A)}}return this.mn(a)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const a=[...e],c=[];for(const h of i.arrayValue.values||[])for(const g of a){const v=new lf;v.seed(g.Ut()),_u.St.ht(h,v.jt(t.kind)),c.push(v)}return c}Rn(e,t){return!!e.filters.find(i=>i instanceof Ln&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=gg(e),a=Sd(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(c=>{const h=[];return fe.forEach(c,g=>a.get([g.indexId,this.uid]).next(v=>{h.push(function(x,L){const X=L?new hc(L.sequenceNumber,new uo(Ba(L.readTime),new yt(Ua(L.documentKey)),L.largestBatchId)):hc.empty(),ee=x.fields.map(([de,pe])=>new dd(Fr.fromServerFormat(de),pe));return new Lp(x.indexId,x.collectionGroup,ee,X)}(g,v))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const c=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:pn(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=gg(e),c=Sd(e);return this.fn(e).next(h=>a.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>fe.forEach(g,v=>c.put(JT(v.indexId,this.uid,h,i)))))}updateIndexEntries(e,t){const i=new Map;return fe.forEach(t,(a,c)=>{const h=i.get(a.collectionGroup);return(h?fe.resolve(h):this.getFieldIndexes(e,a.collectionGroup)).next(g=>(i.set(a.collectionGroup,g),fe.forEach(g,v=>this.gn(e,a,v).next(A=>{const x=this.pn(c,v);return A.isEqual(x)?fe.resolve():this.yn(e,c,v,A,x)}))))})}wn(e,t,i,a){return Ad(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,a){return Ad(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const a=Ad(e);let c=new vr(vu);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(h,g)=>{c=c.add(new yu(i.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}pn(e,t){let i=new vr(vu);const a=this.dn(t,e);if(null==a)return i;const c=Kw(t);if(null!=c){const h=e.data.field(c.fieldPath);if(Hp(h))for(const g of h.arrayValue.values||[])i=i.add(new yu(t.indexId,e.key,this.In(g),a))}else i=i.add(new yu(t.indexId,e.key,cf,a));return i}yn(e,t,i,a,c){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(v,A,x,L,X){const ee=v.getIterator(),de=A.getIterator();let pe=Hh(ee),Ae=Hh(de);for(;pe||Ae;){let nt=!1,pt=!1;if(pe&&Ae){const Qe=x(pe,Ae);Qe<0?pt=!0:Qe>0&&(nt=!0)}else null!=pe?pt=!0:nt=!0;nt?(L(Ae),Ae=Hh(de)):pt?(X(pe),pe=Hh(ee)):(pe=Hh(ee),Ae=Hh(de))}}(a,c,vu,g=>{h.push(this.wn(e,t,i,g))},g=>{h.push(this.Sn(e,t,i,g))}),fe.waitFor(h)}fn(e){let t=1;return Sd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((h,g)=>vu(h,g)).filter((h,g,v)=>!g||0!==vu(h,v[g-1]));const a=[];a.push(e);for(const h of i){const g=vu(h,e),v=vu(h,t);if(0===g)a[0]=e.Ht();else if(g>0&&v<0)a.push(h),a.push(h.Ht());else if(v>0)break}a.push(t);const c=[];for(let h=0;h<a.length;h+=2){if(this.bn(a[h],a[h+1]))return[];c.push(IDBKeyRange.bound([a[h].indexId,this.uid,a[h].arrayValue,a[h].directionalValue,cf,[]],[a[h+1].indexId,this.uid,a[h+1].arrayValue,a[h+1].directionalValue,cf,[]]))}return c}bn(e,t){return vu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ab)}getMinOffset(e,t){return fe.mapArray(this.un(t),i=>this.cn(e,i).next(a=>a||Ct())).next(ab)}}function QE(n){return Qi(n,"collectionParents")}function Ad(n){return Qi(n,"indexEntries")}function gg(n){return Qi(n,"indexConfiguration")}function Sd(n){return Qi(n,"indexState")}function ab(n){Ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;uE(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new uo(e.readTime,e.documentKey,t)}const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ms{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ms(e,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XE(n,e,t){const i=n.store("mutations"),a=n.store("documentMutations"),c=[],h=IDBKeyRange.only(t.batchId);let g=0;const v=i.J({range:h},(x,L,X)=>(g++,X.delete()));c.push(v.next(()=>{Ft(1===g)}));const A=[];for(const x of t.mutations){const L=Jw(e,x.key.path,t.batchId);c.push(a.delete(L)),A.push(x.key)}return fe.waitFor(c).next(()=>A)}function YE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ct();e=n.noDocument}return JSON.stringify(e).length}ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);class ZE{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Dn={}}static ct(e,t,i,a){Ft(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new ZE(c,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).J({index:"userMutationsIndex",range:i},(a,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const c=Rd(e),h=vc(e);return h.add({}).next(g=>{Ft("number"==typeof g);const v=new ef(g,t,i,a),A=function(ee,de,pe){const Ae=pe.baseMutations.map(pt=>ag(ee.ut,pt)),nt=pe.mutations.map(pt=>ag(ee.ut,pt));return{userId:de,batchId:pe.batchId,localWriteTimeMs:pe.localWriteTime.toMillis(),baseMutations:Ae,mutations:nt}}(this.serializer,this.userId,v),x=[];let L=new vr((X,ee)=>pn(X.canonicalString(),ee.canonicalString()));for(const X of a){const ee=Jw(this.userId,X.key.path,g);L=L.add(X.key.path.popLast()),x.push(h.put(A)),x.push(c.put(ee,eT))}return L.forEach(X=>{x.push(this.indexManager.addToCollectionParentIndex(e,X))}),e.addOnCommittedListener(()=>{this.Dn[g]=v.keys()}),fe.waitFor(x).next(()=>v)})}lookupMutationBatch(e,t){return vc(e).get(t).next(i=>i?(Ft(i.userId===this.userId),Dd(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?fe.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Dn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return vc(e).J({index:"userMutationsIndex",range:a},(h,g,v)=>{g.userId===this.userId&&(Ft(g.batchId>=i),c=Dd(this.serializer,g)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return vc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(a,c,h)=>{i=c.batchId,h.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).U("userMutationsIndex",t).next(i=>i.map(a=>Dd(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=qm(this.userId,t.path),a=IDBKeyRange.lowerBound(i),c=[];return Rd(e).J({range:a},(h,g,v)=>{const[A,x,L]=h,X=Ua(x);if(A===this.userId&&t.path.isEqual(X))return vc(e).get(L).next(ee=>{if(!ee)throw Ct();Ft(ee.userId===this.userId),c.push(Dd(this.serializer,ee))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vr(pn);const a=[];return t.forEach(c=>{const h=qm(this.userId,c.path),g=IDBKeyRange.lowerBound(h),v=Rd(e).J({range:g},(A,x,L)=>{const[X,ee,de]=A,pe=Ua(ee);X===this.userId&&c.path.isEqual(pe)?i=i.add(de):L.done()});a.push(v)}),fe.waitFor(a).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,c=qm(this.userId,i),h=IDBKeyRange.lowerBound(c);let g=new vr(pn);return Rd(e).J({range:h},(v,A,x)=>{const[L,X,ee]=v,de=Ua(X);L===this.userId&&i.isPrefixOf(de)?de.length===a&&(g=g.add(ee)):x.done()}).next(()=>this.vn(e,g))}vn(e,t){const i=[],a=[];return t.forEach(c=>{a.push(vc(e).get(c).next(h=>{if(null===h)throw Ct();Ft(h.userId===this.userId),i.push(Dd(this.serializer,h))}))}),fe.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return XE(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),fe.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const i=IDBKeyRange.lowerBound(function(h){return[h]}(this.userId)),a=[];return Rd(e).J({range:i},(c,h,g)=>{if(c[0]===this.userId){const v=Ua(c[1]);a.push(v)}else g.done()}).next(()=>{Ft(0===a.length)})})}containsKey(e,t){return JE(e,this.userId,t)}Mn(e){return A_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function JE(n,e,t){const i=qm(e,t.path),a=i[1],c=IDBKeyRange.lowerBound(i);let h=!1;return Rd(n).J({range:c,H:!0},(g,v,A)=>{const[x,L,X]=g;x===e&&L===a&&(h=!0),A.done()}).next(()=>h)}function vc(n){return Qi(n,"mutations")}function Rd(n){return Qi(n,"documentMutations")}function A_(n){return Qi(n,"mutationQueues")}class Eu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Eu(0)}static Nn(){return new Eu(-1)}}class lb{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next(t=>{const i=new Eu(t.highestTargetId);return t.highestTargetId=i.next(),this.Bn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(t=>Bt.fromTimestamp(new ni(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Ln(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Bn(e,a)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Ln(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Bn(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pd(e).delete(t.targetId)).next(()=>this.Ln(e)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.Bn(e,i)))}removeTargets(e,t,i){let a=0;const c=[];return Pd(e).J((h,g)=>{const v=dg(g);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(a++,c.push(this.removeTargetData(e,v)))}).next(()=>fe.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Pd(e).J((i,a)=>{const c=dg(a);t(c)})}Ln(e){return eI(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}Bn(e,t){return eI(e).put("targetGlobalKey",t)}kn(e,t){return Pd(e).put(YT(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Ln(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Qs(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return Pd(e).J({range:a,index:"queryTargetsIndex"},(h,g,v)=>{const A=dg(g);Gp(t,A.target)&&(c=A,v.done())}).next(()=>c)}addMatchingKeys(e,t,i){const a=[],c=Iu(e);return t.forEach(h=>{const g=Ki(h.path);a.push(c.put({targetId:i,path:g})),a.push(this.referenceDelegate.addReference(e,i,h))}),fe.waitFor(a)}removeMatchingKeys(e,t,i){const a=Iu(e);return fe.forEach(t,c=>{const h=Ki(c.path);return fe.waitFor([a.delete([i,h]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=Iu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Iu(e);let c=bn();return a.J({range:i,H:!0},(h,g,v)=>{const A=Ua(h[1]),x=new yt(A);c=c.add(x)}).next(()=>c)}containsKey(e,t){const i=Ki(t.path),a=IDBKeyRange.bound([i],[qw(i)],!1,!0);let c=0;return Iu(e).J({index:"documentTargetsIndex",H:!0,range:a},([h,g],v,A)=>{0!==h&&(c++,A.done())}).next(()=>c>0)}ot(e,t){return Pd(e).get(t).next(i=>i?dg(i):null)}}function Pd(n){return Qi(n,"targets")}function eI(n){return Qi(n,"targetGlobal")}function Iu(n){return Qi(n,"targetDocuments")}function ZA([n,e],[t,i]){const a=pn(n,t);return 0===a?pn(e,i):a}class EM{constructor(e){this.Qn=e,this.buffer=new vr(ZA),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ZA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ve.A)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){pc(i)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Uo(i)}yield t.Gn(3e5)}))}}class IM{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(as.oe);const i=new EM(t);return this.zn.forEachTarget(e,a=>i.Un(a.sequenceNumber)).next(()=>this.zn.Hn(e,a=>i.Un(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(D_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,a,c,h,g,v,A;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),a=this.params.maximumSequenceNumbersToCollect):a=L,h=Date.now(),this.nthSequenceNumber(e,a))).next(L=>(i=L,g=Date.now(),this.removeTargets(e,i,t))).next(L=>(c=L,v=Date.now(),this.removeOrphanedDocuments(e,i))).next(L=>(A=Date.now(),Vh()<=Sr.$b.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-x}ms\n\tDetermined least recently used ${a} in `+(g-h)+`ms\n\tRemoved ${c} targets in `+(v-g)+`ms\n\tRemoved ${L} documents in `+(A-v)+`ms\nTotal Duration: ${A-x}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:L})))}}class wM{constructor(e,t){this.db=e,this.garbageCollector=function eS(n,e){return new IM(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,a)=>t(a))}addReference(e,t,i){return tI(e,i)}removeReference(e,t,i){return tI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return tI(e,t)}Xn(e,t){return function(a,c){let h=!1;return A_(a).Y(g=>JE(a,g,c).next(v=>(v&&(h=!0),fe.resolve(!v)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Zn(e,(h,g)=>{if(g<=t){const v=this.Xn(e,h).next(A=>{if(!A)return c++,i.getEntry(e,h).next(()=>(i.removeEntry(h,Bt.min()),Iu(e).delete([0,Ki(h.path)])))});a.push(v)}}).next(()=>fe.waitFor(a)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return tI(e,t)}Zn(e,t){const i=Iu(e);let a,c=as.oe;return i.J({index:"documentTargetsIndex"},([h,g],{path:v,sequenceNumber:A})=>{0===h?(c!==as.oe&&t(new yt(Ua(a)),c),c=A,a=v):c=as.oe}).next(()=>{c!==as.oe&&t(new yt(Ua(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tI(n,e){return Iu(n).put((a=n.currentSequenceNumber,{targetId:0,path:Ki(e.path),sequenceNumber:a}));var a}class tS{constructor(){this.changes=new xl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cb{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return uf(e).put(i)}removeEntry(e,t,i){return uf(e).delete(function(c,h){const g=c.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],E_(h),g[g.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=$r.newInvalidDocument(t);return uf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(S_(t))},(a,c)=>{i=this.tr(t,c)}).next(()=>i)}nr(e,t){let i={size:0,document:$r.newInvalidDocument(t)};return uf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(S_(t))},(a,c)=>{i={document:this.tr(t,c),size:YE(c)}}).next(()=>i)}getEntries(e,t){let i=po();return this.rr(e,t,(a,c)=>{const h=this.tr(a,c);i=i.insert(a,h)}).next(()=>i)}ir(e,t){let i=po(),a=new Rr(yt.comparator);return this.rr(e,t,(c,h)=>{const g=this.tr(c,h);i=i.insert(c,g),a=a.insert(c,YE(h))}).next(()=>({documents:i,sr:a}))}rr(e,t,i){if(t.isEmpty())return fe.resolve();let a=new vr(iS);t.forEach(v=>a=a.add(v));const c=IDBKeyRange.bound(S_(a.first()),S_(a.last())),h=a.getIterator();let g=h.getNext();return uf(e).J({index:"documentKeyIndex",range:c},(v,A,x)=>{const L=yt.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;g&&iS(g,L)<0;)i(g,null),g=h.getNext();g&&g.isEqual(L)&&(i(g,A),g=h.hasNext()?h.getNext():null),g?x.$(S_(g)):x.done()}).next(()=>{for(;g;)i(g,null),g=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,t,i,a,c){const h=t.path,g=[h.popLast().toArray(),h.lastSegment(),E_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],v=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uf(e).U(IDBKeyRange.bound(g,v,!0)).next(A=>{c?.incrementDocumentReadCount(A.length);let x=po();for(const L of A){const X=this.tr(yt.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);X.isFoundDocument()&&(Kp(t,X)||a.has(X.key))&&(x=x.insert(X.key,X))}return x})}getAllFromCollectionGroup(e,t,i,a){let c=po();const h=rS(t,i),g=rS(t,uo.max());return uf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,g,!0)},(v,A,x)=>{const L=this.tr(yt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);c=c.insert(L.key,L),c.size===a&&x.done()}).next(()=>c)}newChangeBuffer(e){return new TM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return nS(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}er(e,t){return nS(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function XT(n,e){let t;if(e.document)t=du(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=yt.fromSegments(e.noDocument.path),a=Ba(e.noDocument.readTime);t=$r.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct();{const i=yt.fromSegments(e.unknownDocument.path),a=Ba(e.unknownDocument.version);t=$r.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(a){const c=new ni(a[0],a[1]);return Bt.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Bt.min()))return i}return $r.newInvalidDocument(e)}}function nI(n){return new cb(n)}class TM extends tS{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new xl(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new vr((c,h)=>pn(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const g=this.ar.get(c);if(t.push(this._r.removeEntry(e,c,g.readTime)),h.isValidDocument()){const v=BE(this._r.serializer,h);a=a.add(c.path.popLast());const A=YE(v);i+=A-g.size,t.push(this._r.addEntry(e,c,v))}else if(i-=g.size,this.trackRemovals){const v=BE(this._r.serializer,h.convertToNoDocument(Bt.min()));t.push(this._r.addEntry(e,c,v))}}),a.forEach(c=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),t.push(this._r.updateMetadata(e,i)),fe.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:a})=>(a.forEach((c,h)=>{this.ar.set(c,{size:h,readTime:i.get(c).readTime})}),i))}}function nS(n){return Qi(n,"remoteDocumentGlobal")}function uf(n){return Qi(n,"remoteDocumentsV14")}function S_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rS(n,e){const t=e.documentKey.path.toArray();return[n,E_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iS(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<i.length-2;++c)if(a=pn(t[c],i[c]),a)return a;return a=pn(t.length,i.length),a||(a=pn(t[t.length-2],i[i.length-2]),a||pn(t[t.length-1],i[i.length-1]))}class bM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sS{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&eg(i.mutation,a,ho.empty(),ni.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,bn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=bn()){const a=go();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let h=Ed();return c.forEach((g,v)=>{h=h.insert(g,v.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,bn()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,g)=>{t.set(h,g)})})}computeViews(e,t,i,a){let c=po();const h=_c(),g=_c();return t.forEach((v,A)=>{const x=i.get(A.key);a.has(A.key)&&(void 0===x||x.mutation instanceof yc)?c=c.insert(A.key,A):void 0!==x?(h.set(A.key,x.mutation.getFieldMask()),eg(x.mutation,A,x.mutation.getFieldMask(),ni.now())):h.set(A.key,ho.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((A,x)=>h.set(A,x)),t.forEach((A,x)=>{var L;return g.set(A,new bM(x,null!==(L=h.get(A))&&void 0!==L?L:null))}),g))}recalculateAndSaveOverlays(e,t){const i=_c();let a=new Rr((h,g)=>h-g),c=bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const g of h)g.keys().forEach(v=>{const A=t.get(v);if(null===A)return;let x=i.get(v)||ho.empty();x=g.applyToLocalView(A,x),i.set(v,x);const L=(a.get(g.batchId)||bn()).add(v);a=a.insert(g.batchId,L)})}).next(()=>{const h=[],g=a.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),A=v.key,x=v.value,L=Yh();x.forEach(X=>{if(!c.has(X)){const ee=PT(t.get(X),i.get(X));null!==ee&&L.set(X,ee),c=c.add(X)}}),h.push(this.documentOverlayCache.saveOverlays(e,A,L))}return fe.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return yt.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a);var h}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):fe.resolve(go());let g=-1,v=c;return h.next(A=>fe.forEach(A,(x,L)=>(g<L.largestBatchId&&(g=L.largestBatchId),c.get(x)?fe.resolve():this.remoteDocumentCache.getEntry(e,x).next(X=>{v=v.insert(x,X)}))).next(()=>this.populateOverlays(e,A,c)).next(()=>this.computeViews(e,v,A,bn())).next(x=>({batchId:g,changes:RE(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new yt(t)).next(i=>{let a=Ed();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const c=t.collectionGroup;let h=Ed();return this.indexManager.getCollectionParents(e,c).next(g=>fe.forEach(g,v=>{const A=(L=t,X=v.child(c),new Pl(X,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,X;return this.getDocumentsMatchingCollectionQuery(e,A,i,a).next(x=>{x.forEach((L,X)=>{h=h.insert(L,X)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,a))).next(h=>{c.forEach((v,A)=>{const x=A.getKey();null===h.get(x)&&(h=h.insert(x,$r.newInvalidDocument(x)))});let g=Ed();return h.forEach((v,A)=>{const x=c.get(v);void 0!==x&&eg(x.mutation,A,ho.empty(),ni.now()),Kp(t,A)&&(g=g.insert(v,A))}),g})}}class CM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return fe.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(a=t).id,version:a.version,createTime:Cn(a.createTime)}),fe.resolve();var a}getNamedQuery(e,t){return fe.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(a=t).name,query:jE(a.bundledQuery),readTime:Cn(a.readTime)}),fe.resolve();var a}}class oS{constructor(){this.overlays=new Rr(yt.comparator),this.lr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=go();return fe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.lt(e,t,c)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.lr.get(i);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=go(),c=t.length+1,h=new yt(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const v=g.getNext().value,A=v.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===c&&v.largestBatchId>i&&a.set(v.getKey(),v)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new Rr((A,x)=>A-x);const h=this.overlays.getIterator();for(;h.hasNext();){const A=h.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>i){let x=c.get(A.largestBatchId);null===x&&(x=go(),c=c.insert(A.largestBatchId,x)),x.set(A.getKey(),A)}}const g=go(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((A,x)=>g.set(A,x)),!(g.size()>=a)););return fe.resolve(g)}lt(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const h=this.lr.get(a.largestBatchId).delete(i.key);this.lr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new kT(t,i));let c=this.lr.get(t);void 0===c&&(c=bn(),this.lr.set(t,c)),this.lr.set(t,c.add(i.key))}}class wu{constructor(){this.hr=new vr(wi.Pr),this.Ir=new vr(wi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new wi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new wi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new yt(new Wn([])),i=new wi(t,e),a=new wi(t,e+1),c=[];return this.Ir.forEachInRange([i,a],h=>{this.dr(h),c.push(h.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new yt(new Wn([])),i=new wi(t,e),a=new wi(t,e+1);let c=bn();return this.Ir.forEachInRange([i,a],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new wi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class wi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return yt.comparator(e.key,t.key)||pn(e.gr,t.gr)}static Tr(e,t){return pn(e.gr,t.gr)||yt.comparator(e.key,t.key)}}class aS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new vr(wi.Pr)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const c=this.pr;this.pr++;const h=new ef(c,t,i,a);this.mutationQueue.push(h);for(const g of a)this.yr=this.yr.add(new wi(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return fe.resolve(h)}lookupMutationBatch(e,t){return fe.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Sr(t+1),c=a<0?0:a;return fe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new wi(t,0),a=new wi(t,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([i,a],h=>{const g=this.wr(h.gr);c.push(g)}),fe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vr(pn);return t.forEach(a=>{const c=new wi(a,0),h=new wi(a,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,h],g=>{i=i.add(g.gr)})}),fe.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;yt.isDocumentKey(c)||(c=c.child(""));const h=new wi(new yt(c),0);let g=new vr(pn);return this.yr.forEachWhile(v=>{const A=v.key.path;return!!i.isPrefixOf(A)&&(A.length===a&&(g=g.add(v.gr)),!0)},h),fe.resolve(this.br(g))}br(e){const t=[];return e.forEach(i=>{const a=this.wr(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Ft(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return fe.forEach(t.mutations,a=>{const c=new wi(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new wi(t,0),a=this.yr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return fe.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class DM{constructor(e){this.Cr=e,this.docs=new Rr(yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,h=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():$r.newInvalidDocument(t))}getEntries(e,t){let i=po();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():$r.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=po();const h=t.path,g=new yt(h.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:A,value:{document:x}}=v.getNext();if(!h.isPrefixOf(A.path))break;A.path.length>h.length+1||uE(cE(x),i)<=0||(a.has(x.key)||Kp(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return fe.resolve(c)}getAllFromCollectionGroup(e,t,i,a){Ct()}vr(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ub(this)}getSize(e){return fe.resolve(this.size)}}class ub extends tS{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this._r.addEntry(e,a)):this._r.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class lS{constructor(e){this.persistence=e,this.Fr=new xl(t=>Qs(t),Gp),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new wu,this.targetCount=0,this.Nr=Eu.On()}forEachTarget(e,t){return this.Fr.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),fe.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Eu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.kn(t),fe.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.Fr.forEach((h,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Fr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),fe.waitFor(c).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),fe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.Or.containsKey(t))}}class db{constructor(e,t){this.Lr={},this.overlays={},this.Br=new as(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lS(this),this.indexManager=new sb,this.remoteDocumentCache=new DM(i=>this.referenceDelegate.Qr(i)),this.serializer=new ug(t),this.Kr=new CM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Lr[e.toKey()];return i||(i=new aS(t,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){Ze("MemoryPersistence","Starting transaction:",e);const a=new cS(this.Br.next());return this.referenceDelegate.$r(),i(a).next(c=>this.referenceDelegate.Ur(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Wr(e,t){return fe.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,t)))}}class cS extends hE{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.Gr=new wu,this.zr=null}static jr(e){return new R_(e)}get Hr(){if(this.zr)return this.zr;throw Ct()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(a=>this.Hr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Hr.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Hr,i=>{const a=yt.fromPath(i);return this.Jr(e,a).next(c=>{c||t.removeEntry(a,Bt.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return fe.or([()=>fe.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class M_{constructor(e){this.serializer=e}O(e,t,i,a){const c=new Fp("createOrUpgrade",t);var v;i<1&&a>=1&&(e.createObjectStore("owner"),(v=e).createObjectStore("mutationQueues",{keyPath:"userId"}),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zw,{unique:!0}),v.createObjectStore("documentMutations"),rI(e),function(v){v.createObjectStore("remoteDocuments")}(e));let h=fe.resolve();return i<3&&a>=3&&(0!==i&&(function(v){v.deleteObjectStore("targetDocuments"),v.deleteObjectStore("targets"),v.deleteObjectStore("targetGlobal")}(e),rI(e)),h=h.next(()=>function(v){const A=v.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return A.put("targetGlobalKey",x)}(c))),i<4&&a>=4&&(0!==i&&(h=h.next(()=>function(v,A){return A.store("mutations").U().next(x=>{v.deleteObjectStore("mutations"),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zw,{unique:!0});const L=A.store("mutations"),X=x.map(ee=>L.put(ee));return fe.waitFor(X)})}(e,c))),h=h.next(()=>{!function(v){v.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(h=h.next(()=>this.Zr(c))),i<6&&a>=6&&(h=h.next(()=>(function(v){v.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),i<7&&a>=7&&(h=h.next(()=>this.ei(c))),i<8&&a>=8&&(h=h.next(()=>this.ti(e,c))),i<9&&a>=9&&(h=h.next(()=>{!function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(h=h.next(()=>this.ni(c))),i<11&&a>=11&&(h=h.next(()=>{(function(v){v.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(v){v.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(h=h.next(()=>{!function(v){const A=v.createObjectStore("documentOverlays",{keyPath:gM});A.createIndex("collectionPathOverlayIndex",Qm,{unique:!1}),A.createIndex("collectionGroupOverlayIndex",OA,{unique:!1})}(e)})),i<13&&a>=13&&(h=h.next(()=>function(v){const A=v.createObjectStore("remoteDocumentsV14",{keyPath:Bp});A.createIndex("documentKeyIndex",Km),A.createIndex("collectionGroupIndex",pE)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(h=h.next(()=>this.ii(e,c))),i<15&&a>=15&&(h=h.next(()=>function(v){v.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),v.createObjectStore("indexState",{keyPath:fd}).createIndex("sequenceNumberIndex",nT,{unique:!1}),v.createObjectStore("indexEntries",{keyPath:rT}).createIndex("documentKeyIndex",xA,{unique:!1})}(e))),i<16&&a>=16&&(h=h.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),h}Xr(e){let t=0;return e.store("remoteDocuments").J((i,a)=>{t+=YE(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(a=>fe.forEach(a,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",h).next(g=>fe.forEach(g,v=>{Ft(v.userId===c.userId);const A=Dd(this.serializer,v);return XE(e,c.userId,A).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return i.J((h,g)=>{const v=new Wn(h),A=[0,Ki(v)];c.push(t.get(A).next(x=>x?fe.resolve():t.put({targetId:0,path:Ki(v),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>fe.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:tT});const i=t.store("collectionParents"),a=new pg,c=h=>{if(a.add(h)){const g=h.lastSegment(),v=h.popLast();return i.put({collectionId:g,parent:Ki(v)})}};return t.store("remoteDocuments").J({H:!0},(h,g)=>{const v=new Wn(h);return c(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([h,g,v],A)=>{const x=Ua(g);return c(x.popLast())}))}ni(e){const t=e.store("targets");return t.J((i,a)=>{const c=dg(a),h=YT(this.serializer,c);return t.put(h)})}ri(e,t){const i=t.store("remoteDocuments"),a=[];return i.J((c,h)=>{const g=t.store("remoteDocumentsV14"),v=(L=h,L.document?new yt(Wn.fromString(L.document.name).popFirst(5)):L.noDocument?yt.fromSegments(L.noDocument.path):L.unknownDocument?yt.fromSegments(L.unknownDocument.path):Ct()).path.toArray(),A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};var L;a.push(g.put(A))}).next(()=>fe.waitFor(a))}ii(e,t){const i=t.store("mutations"),a=nI(this.serializer),c=new db(R_.jr,this.serializer.ut);return i.U().next(h=>{const g=new Map;return h.forEach(v=>{var A;let x=null!==(A=g.get(v.userId))&&void 0!==A?A:bn();Dd(this.serializer,v).keys().forEach(L=>x=x.add(L)),g.set(v.userId,x)}),fe.forEach(g,(v,A)=>{const x=new Gi(A),L=I_.ct(this.serializer,x),X=c.getIndexManager(x),ee=ZE.ct(x,this.serializer,X,c.referenceDelegate);return new sS(a,ee,L,X).recalculateAndSaveOverlaysForDocumentKeys(new pd(t,as.oe),v).next()})})}}function rI(n){n.createObjectStore("targetDocuments",{keyPath:MA}).createIndex("documentTargetsIndex",gE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",PA,{unique:!0}),n.createObjectStore("targetGlobal")}const iI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class x_{constructor(e,t,i,a,c,h,g,v,A,x,L=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=c,this.window=h,this.document=g,this.oi=A,this._i=x,this.ai=L,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=X=>Promise.resolve(),!x_.D())throw new Xe(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wM(this,a),this.Ii=t+"main",this.serializer=new ug(v),this.Ti=new fc(this.Ii,this.ai,new M_(this.serializer)),this.qr=new lb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nI(this.serializer),this.Kr=new XA,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===x&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xe(Se.FAILED_PRECONDITION,iI);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new as(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,Ve.A)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Ve.A)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ve.A)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(pc(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return O_(e).get("owner").next(t=>fe.resolve(this.wi(t)))}Si(e){return mg(e).delete(this.clientId)}bi(){var e=this;return(0,Ve.A)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=Qi(i,"clientMetadata");return a.U().next(c=>{const h=e.Ci(c,18e5),g=c.filter(v=>-1===h.indexOf(v));return fe.forEach(g,v=>a.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?fe.resolve(!0):O_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Xe(Se.FAILED_PRECONDITION,iI);return!1}}return!(!this.networkEnabled||!this.inForeground)||mg(e).U().next(i=>void 0===this.Ci(i,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ve.A)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new pd(t,as.oe);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>mg(e).U().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return ZE.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ob(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return I_.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){Ze("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=16===(v=this.ai)?Ym:15===v?yE:14===v?Xm:13===v?_E:12===v?iT:11===v?mE:void Ct();var v;let h;return this.Ti.runTransaction(e,a,c,g=>(h=new pd(g,this.Br?this.Br.next():as.oe),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.gi(h)).next(v=>{if(!v)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Xe(Se.FAILED_PRECONDITION,dE);return i(h)}).next(v=>this.yi(h).next(()=>v)):this.Bi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Bi(e){return O_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Xe(Se.FAILED_PRECONDITION,iI)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return O_(e).put("owner",t)}static D(){return fc.D()}pi(e){const t=O_(e);return t.get("owner").next(i=>this.wi(i)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ei(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,Yt.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ei("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function O_(n){return Qi(n,"owner")}function mg(n){return Qi(n,"clientMetadata")}function hb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class sI{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=a}static Qi(e,t){let i=bn(),a=bn();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new sI(e,t.fromCache,i,a)}}class fb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N_{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=(0,Yt.nr)()?8:Qw((0,Yt.ZQ)())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,a){const c={result:null};return this.zi(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ji(e,t,a,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new fb;return this.Hi(e,t,h).next(g=>{if(c.result=g,this.$i)return this.Ji(e,t,h,g.size)})}).next(()=>c.result)}Ji(e,t,i,a){return i.documentReadCount<this.Ui?(Vh()<=Sr.$b.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",mc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),fe.resolve()):(Vh()<=Sr.$b.DEBUG&&Ze("QueryEngine","Query:",mc(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Wi*a?(Vh()<=Sr.$b.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",mc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(t))):fe.resolve())}zi(e,t){if(l_(t))return fe.resolve(null);let i=Fs(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=c_(t,null,"F"),i=Fs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=bn(...c);return this.Gi.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,i).next(v=>{const A=this.Yi(t,g);return this.Zi(t,A,h,v.readTime)?this.zi(e,c_(t,null,"F")):this.Xi(e,A,t,v)}))})))}ji(e,t,i,a){return l_(t)||a.isEqual(Bt.min())?fe.resolve(null):this.Gi.getDocuments(e,i).next(c=>{const h=this.Yi(t,c);return this.Zi(t,h,i,a)?fe.resolve(null):(Vh()<=Sr.$b.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),mc(t)),this.Xi(e,h,t,zm(a,-1)).next(g=>g))})}Yi(e,t){let i=new vr(CT(e));return t.forEach((a,c)=>{Kp(e,c)&&(i=i.add(c))}),i}Zi(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Hi(e,t,i){return Vh()<=Sr.$b.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",mc(t)),this.Gi.getDocumentsMatchingQuery(e,t,uo.min(),i)}Xi(e,t,i,a){return this.Gi.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}class uS{constructor(e,t,i,a){this.persistence=e,this.es=t,this.serializer=a,this.ts=new Rr(pn),this.ns=new xl(c=>Qs(c),Gp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function pb(n,e,t,i){return new uS(n,e,t,i)}function _g(n,e){return oI.apply(this,arguments)}function oI(){return oI=(0,Ve.A)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],g=[];let v=bn();for(const A of a){h.push(A.batchId);for(const x of A.mutations)v=v.add(x.key)}for(const A of c){g.push(A.batchId);for(const x of A.mutations)v=v.add(x.key)}return t.localDocuments.getDocuments(i,v).next(A=>({_s:A,removedBatchIds:h,addedBatchIds:g}))})})}),oI.apply(this,arguments)}function gb(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function mb(n,e,t){let i=bn(),a=bn();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let h=po();return t.forEach((g,v)=>{const A=c.get(g);v.isFoundDocument()!==A.isFoundDocument()&&(a=a.add(g)),v.isNoDocument()&&v.version.isEqual(Bt.min())?(e.removeEntry(g,v.readTime),h=h.insert(g,v)):!A.isValidDocument()||v.version.compareTo(A.version)>0||0===v.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(v),h=h.insert(g,v)):Ze("LocalStore","Ignoring outdated watch update for ",g,". Current version:",A.version," Watch version:",v.version)}),{us:h,cs:a}})}function fS(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function df(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.qr.getTargetData(i,e).next(c=>c?(a=c,fe.resolve(a)):t.qr.allocateTargetId(i).next(h=>(a=new mu(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.ts.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Md(n,e,t){return k_.apply(this,arguments)}function k_(){return k_=(0,Ve.A)(function*(n,e,t){const i=mt(n),a=i.ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!pc(h))throw h;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.ts=i.ts.remove(e),i.ns.delete(a.target)}),k_.apply(this,arguments)}function L_(n,e,t){const i=mt(n);let a=Bt.min(),c=bn();return i.persistence.runTransaction("Execute query","readwrite",h=>function(v,A,x){const L=mt(v),X=L.ns.get(x);return void 0!==X?fe.resolve(L.ts.get(X)):L.qr.getTargetData(A,x)}(i,h,Fs(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(h,g.targetId).next(v=>{c=v})}).next(()=>i.es.getDocumentsMatchingQuery(h,e,t?a:Bt.min(),t?c:bn())).next(g=>(lI(i,LA(e),g),{documents:g,ls:c})))}function pS(n,e){const t=mt(n),i=mt(t.qr),a=t.ts.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>i.ot(c,e).next(h=>h?h.target:null))}function aI(n,e){const t=mt(n),i=t.rs.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.ss.getAllFromCollectionGroup(a,e,zm(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(lI(t,e,a),a))}function lI(n,e,t){let i=n.rs.get(e)||Bt.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.rs.set(e,i)}function F_(){return F_=(0,Ve.A)(function*(n,e,t,i){const a=mt(n);let c=bn(),h=po();for(const A of t){const x=e.hs(A.metadata.name);A.document&&(c=c.add(x));const L=e.Ps(A);L.setReadTime(e.Is(A.metadata.readTime)),h=h.insert(x,L)}const g=a.ss.newChangeBuffer({trackRemovals:!0}),v=yield df(a,(x=i,Fs(Ml(Wn.fromString(`__bundle__/docs/${x}`)))));var x;return a.persistence.runTransaction("Apply bundle documents","readwrite",A=>mb(A,g,h).next(x=>(g.apply(A),x)).next(x=>a.qr.removeMatchingKeysForTargetId(A,v.targetId).next(()=>a.qr.addMatchingKeys(A,c,v.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(A,x.us,x.cs)).next(()=>x.us)))}),F_.apply(this,arguments)}function gS(n,e){return _b.apply(this,arguments)}function _b(){return _b=(0,Ve.A)(function*(n,e,t=bn()){const i=yield df(n,Fs(jE(e.bundledQuery))),a=mt(n);return a.persistence.runTransaction("Save named query","readwrite",c=>{const h=Cn(e.readTime);if(i.snapshotVersion.compareTo(h)>=0)return a.Kr.saveNamedQuery(c,e);const g=i.withResumeToken(kt.EMPTY_BYTE_STRING,h);return a.ts=a.ts.insert(g.targetId,g),a.qr.updateTargetData(c,g).next(()=>a.qr.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>a.qr.addMatchingKeys(c,t,i.targetId)).next(()=>a.Kr.saveNamedQuery(c,e))})}),_b.apply(this,arguments)}function V_(n,e){return`firestore_clients_${n}_${e}`}function U_(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function cI(n,e){return`firestore_targets_${n}_${e}`}class yg{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Ts(e,t,i){const a=JSON.parse(i);let c,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(c=new Xe(a.error.code,a.error.message))),h?new yg(e,t,a.state,c):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Od{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let a,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Xe(i.error.code,i.error.message))),c?new Od(e,i.state,a):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class B_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,c=Qp();for(let h=0;a&&h<i.activeTargetIds.length;++h)a=Gm(i.activeTargetIds[h]),c=c.add(i.activeTargetIds[h]);return a?new B_(e,c):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hf{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hf(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yb{constructor(){this.activeTargetIds=Qp()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vb{constructor(e,t,i,a,c){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Rr(pn),this.started=!1,this.ps=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=V_(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new yb),this.Ss=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(v){return`firestore_bundle_loaded_v2_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ve.A)(function*(){const t=yield e.syncEngine.Li();for(const a of t){if(a===e.Rs)continue;const c=e.getItem(V_(e.persistenceKey,a));if(c){const h=B_.Ts(a,c);h&&(e.gs=e.gs.insert(h.clientId,h))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const a=e.Ms(i);a&&e.xs(a)}for(const a of e.ps)e.fs(a);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(cI(this.persistenceKey,e));if(i){const a=Od.Ts(e,i);a&&(t=a.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cI(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Ls(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ve.A)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const a=t.Ks(i.key);return t.$s(a,null)}{const a=t.Us(i.key,i.newValue);if(a)return t.$s(a.clientId,a)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const a=t.Ws(i.key,i.newValue);if(a)return t.Gs(a)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const a=t.zs(i.key,i.newValue);if(a)return t.js(a)}}else if(i.key===t.Cs){if(null!==i.newValue){const a=t.Ms(i.newValue);if(a)return t.xs(a)}}else if(i.key===t.ws){const a=function(h){let g=as.oe;if(null!=h)try{const v=JSON.parse(h);Ft("number"==typeof v),g=v}catch(v){Ei("SharedClientState","Failed to read sequence number from WebStorage",v)}return g}(i.newValue);a!==as.oe&&t.sequenceNumberHandler(a)}else if(i.key===t.vs){const a=t.Hs(i.newValue);yield Promise.all(a.map(c=>t.syncEngine.Js(c)))}}else t.ps.push(i)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,i){const a=new yg(this.currentUser,e,t,i),c=U_(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Es())}Ls(e){const t=U_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const a=cI(this.persistenceKey,e),c=new Od(e,t,i);this.setItem(a,c.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return B_.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),a=Number(i[1]);return yg.Ts(new Gi(void 0!==i[2]?i[2]:null),a,t)}zs(e,t){const i=this.Ds.exec(e),a=Number(i[1]);return Od.Ts(a,t)}Ms(e){return hf.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Ve.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),a=this.Os(this.gs),c=this.Os(i),h=[],g=[];return c.forEach(v=>{a.has(v)||h.push(v)}),a.forEach(v=>{c.has(v)||g.push(v)}),this.syncEngine.Xs(h,g).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Qp();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Eb{constructor(){this.eo=new yb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new yb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AM{ro(e){}shutdown(){}}class Nd{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let uI=null;function ff(){return null===uI?uI=268435456+Math.round(2147483648*Math.random()):uI++,"0x"+uI.toString(16)}const mS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _S{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const ls="WebChannelConnection";class yS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.yo=i+"://"+t.host,this.wo=`projects/${a}/databases/${c}`,this.So="(default)"===this.databaseId.database?`project_id=${a}`:`project_id=${a}&database_id=${c}`}get bo(){return!1}Do(t,i,a,c,h){const g=ff(),v=this.Co(t,i.toUriEncodedString());Ze("RestConnection",`Sending RPC '${t}' ${g}:`,v,a);const A={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(A,c,h),this.Fo(t,v,A,a).then(x=>(Ze("RestConnection",`Received RPC '${t}' ${g}: `,x),x),x=>{throw ks("RestConnection",`RPC '${t}' ${g} failed with error: `,x,"url: ",v,"request:",a),x})}Mo(t,i,a,c,h,g){return this.Do(t,i,a,c,h)}vo(t,i,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+cd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,h)=>t[h]=c),a&&a.headers.forEach((c,h)=>t[h]=c)}Co(t,i){return`${this.yo}/v1/${i}:${mS[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,i,a){const c=ff();return new Promise((h,g)=>{const v=new TA;v.setWithCredentials(!0),v.listenOnce(oE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Np.NO_ERROR:const x=v.getResponseJson();Ze(ls,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case Np.TIMEOUT:Ze(ls,`RPC '${e}' ${c} timed out`),g(new Xe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Np.HTTP_ERROR:const L=v.getStatus();if(Ze(ls,`RPC '${e}' ${c} failed with status:`,L,"response text:",v.getResponseText()),L>0){let X=v.getResponseJson();Array.isArray(X)&&(X=X[0]);const ee=X?.error;if(ee&&ee.status&&ee.message){const de=function(Ae){const nt=Ae.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(nt)>=0?nt:Se.UNKNOWN}(ee.status);g(new Xe(de,ee.message))}else g(new Xe(Se.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Xe(Se.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{Ze(ls,`RPC '${e}' ${c} completed.`)}});const A=JSON.stringify(a);Ze(ls,`RPC '${e}' ${c} sending request:`,a),v.send(t,"POST",A,i,15)})}xo(e,t,i){const a=ff(),c=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=oM(),g=aM(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;void 0!==A&&(v.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(v.xmlHttpFactory=new Bw({})),this.vo(v.initMessageHeaders,t,i),v.encodeInitMessageHeaders=!0;const x=c.join("");Ze(ls,`Creating RPC '${e}' stream ${a}: ${x}`,v);const L=h.createWebChannel(x,v);let X=!1,ee=!1;const de=new _S({co:Ae=>{ee?Ze(ls,`Not sending because RPC '${e}' stream ${a} is closed:`,Ae):(X||(Ze(ls,`Opening RPC '${e}' stream ${a} transport.`),L.open(),X=!0),Ze(ls,`RPC '${e}' stream ${a} sending:`,Ae),L.send(Ae))},lo:()=>L.close()}),pe=(Ae,nt,pt)=>{Ae.listen(nt,Qe=>{try{pt(Qe)}catch(vt){setTimeout(()=>{throw vt},0)}})};return pe(L,$m.EventType.OPEN,()=>{ee||(Ze(ls,`RPC '${e}' stream ${a} transport opened.`),de.Vo())}),pe(L,$m.EventType.CLOSE,()=>{ee||(ee=!0,Ze(ls,`RPC '${e}' stream ${a} transport closed`),de.fo())}),pe(L,$m.EventType.ERROR,Ae=>{ee||(ee=!0,ks(ls,`RPC '${e}' stream ${a} transport errored:`,Ae),de.fo(new Xe(Se.UNAVAILABLE,"The operation could not be completed")))}),pe(L,$m.EventType.MESSAGE,Ae=>{var nt;if(!ee){const pt=Ae.data[0];Ft(!!pt);const vt=pt.error||(null===(nt=pt[0])||void 0===nt?void 0:nt.error);if(vt){Ze(ls,`RPC '${e}' stream ${a} received error:`,vt);const nn=vt.status;let un=function(Xd){const Yd=Ii[Xd];if(void 0!==Yd)return LT(Yd)}(nn),Mn=vt.message;void 0===un&&(un=Se.INTERNAL,Mn="Unknown error status: "+nn+" with message "+vt.message),ee=!0,de.fo(new Xe(un,Mn)),L.close()}else Ze(ls,`RPC '${e}' stream ${a} received:`,pt),de.po(pt)}}),pe(g,lM.STAT_EVENT,Ae=>{Ae.stat===wA.PROXY?Ze(ls,`RPC '${e}' stream ${a} detected buffering proxy`):Ae.stat===wA.NOPROXY&&Ze(ls,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{de.mo()},0),de}}function ja(){return typeof window<"u"?window:null}function Tu(){return typeof document<"u"?document:null}function Xr(n){return new $T(n,!0)}class Ec{constructor(e,t,i=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.Oo=i,this.No=a,this.Lo=c,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),i=Math.max(0,Date.now()-this.qo),a=Math.max(0,t-i);a>0&&Ze("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class vg{constructor(e,t,i,a,c,h,g,v){this.si=e,this.Wo=i,this.Go=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Ec(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return(0,Ve.A)(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return(0,Ve.A)(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,t){var i=this;return(0,Ve.A)(function*(){i.i_(),i.s_(),i.Jo.cancel(),i.zo++,4!==e?i.Jo.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),i.Jo.Qo()):t&&t.code===Se.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.o_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Eo(t)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.zo===t&&this.a_(i,a)},i=>{e(()=>{const a=new Xe(Se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.u_(a)})})}a_(e,t){const i=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho(()=>{i(()=>this.listener.ho())}),this.stream.Io(()=>{i(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(a=>{i(()=>this.u_(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Xo(){var e=this;this.state=5,this.Jo.Ko((0,Ve.A)(function*(){e.state=0,e.start()}))}u_(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget(()=>this.zo===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ya extends vg{constructor(e,t,i,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.serializer=c}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function FE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(A=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===A?1:"REMOVE"===A?2:"CURRENT"===A?3:"RESET"===A?4:Ct(),a=e.targetChange.targetIds||[],c=function(A,x){return A.useProto3Json?(Ft(void 0===x||"string"==typeof x),kt.fromBase64String(x||"")):(Ft(void 0===x||x instanceof Buffer||x instanceof Uint8Array),kt.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(A){const x=void 0===A.code?Se.UNKNOWN:LT(A.code);return new Xe(x,A.message||"")}(h);t=new VT(i,a,c,g||null)}else if("documentChange"in e){const i=e.documentChange,a=_a(n,i.document.name),c=Cn(i.document.updateTime),h=i.document.createTime?Cn(i.document.createTime):Bt.min(),g=new Ls({mapValue:{fields:i.document.fields}}),v=$r.newFoundDocument(a,c,h,g);t=new rg(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const i=e.documentDelete,a=_a(n,i.document),c=i.readTime?Cn(i.readTime):Bt.min(),h=$r.newNoDocument(a,c);t=new rg([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,a=_a(n,i.document);t=new rg([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ct();{const i=e.filter,{count:a=0,unchangedNames:c}=i,h=new WA(a,c);t=new qA(i.targetId,h)}}var A;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Bt.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Bt.min():h.readTime?Cn(h.readTime):Bt.min()}(e);return this.listener.l_(t,i)}h_(e){const t={};t.database=__(this.serializer),t.addTarget=function(c,h){let g;const v=h.target;if(g=a_(v)?{documents:VE(c,v)}:{query:Cd(c,v)._t},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=HT(c,h.resumeToken);const A=Bo(c,h.expectedCount);null!==A&&(g.expectedCount=A)}else if(h.snapshotVersion.compareTo(Bt.min())>0){g.readTime=bd(c,h.snapshotVersion.toTimestamp());const A=Bo(c,h.expectedCount);null!==A&&(g.expectedCount=A)}return g}(this.serializer,e);const i=function hu(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.r_(t)}P_(e){const t={};t.database=__(this.serializer),t.removeTarget=e,this.r_(t)}}class Eg extends vg{constructor(e,t,i,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.serializer=c,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function KT(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(a,c){let h=Cn(a.updateTime?a.updateTime:c);return h.isEqual(Bt.min())&&(h=Cn(c)),new RT(h,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Cn(e.commitTime);return this.listener.d_(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=__(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ag(this.serializer,i))};this.r_(t)}}class vS extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.V_=!1}m_(){if(this.V_)throw new Xe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,i,a){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Do(e,sg(t,i),a,c,h)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Xe(Se.UNKNOWN,c.toString())})}Mo(e,t,i,a,c){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Mo(e,sg(t,i),a,h,g,c)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Xe(Se.UNKNOWN,h.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Ib{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ei(t),this.y_=!1):Ze("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class ES{constructor(e,t,i,a,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.ro(g=>{i.enqueueAndForget((0,Ve.A)(function*(){var v;Ic(h)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ve.A)(function*(x){const L=mt(x);L.M_.add(4),yield kd(L),L.N_.set("Unknown"),L.M_.delete(4),yield Ig(L)}),function A(x){return v.apply(this,arguments)})(h))}))}),this.N_=new Ib(i,a)}}function Ig(n){return hi.apply(this,arguments)}function hi(){return hi=(0,Ve.A)(function*(n){if(Ic(n))for(const e of n.x_)yield e(!0)}),hi.apply(this,arguments)}function kd(n){return dI.apply(this,arguments)}function dI(){return dI=(0,Ve.A)(function*(n){for(const e of n.x_)yield e(!1)}),dI.apply(this,arguments)}function ii(n,e){const t=mt(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),gf(t)?Ld(t):yf(t).Zo()&&bu(t,e))}function Ll(n,e){const t=mt(n),i=yf(t);t.F_.delete(e),i.Zo()&&wg(t,e),0===t.F_.size&&(i.Zo()?i.t_():Ic(t)&&t.N_.set("Unknown"))}function bu(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yf(n).h_(e)}function wg(n,e){n.L_.xe(e),yf(n).P_(e)}function Ld(n){n.L_=new UT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),yf(n).start(),n.N_.w_()}function gf(n){return Ic(n)&&!yf(n).Yo()&&n.F_.size>0}function Ic(n){return 0===mt(n).M_.size}function hI(n){n.L_=void 0}function wb(n){return mf.apply(this,arguments)}function mf(){return mf=(0,Ve.A)(function*(n){n.N_.set("Online")}),mf.apply(this,arguments)}function fI(n){return $_.apply(this,arguments)}function $_(){return $_=(0,Ve.A)(function*(n){n.F_.forEach((e,t)=>{bu(n,e)})}),$_.apply(this,arguments)}function H_(n,e){return wc.apply(this,arguments)}function wc(){return wc=(0,Ve.A)(function*(n,e){hI(n),gf(n)?(n.N_.D_(e),Ld(n)):n.N_.set("Unknown")}),wc.apply(this,arguments)}function IS(n,e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,Ve.A)(function*(n,e,t){if(n.N_.set("Online"),e instanceof VT&&2===e.state&&e.cause)try{yield(i=(0,Ve.A)(function*(c,h){const g=h.cause;for(const v of h.targetIds)c.F_.has(v)&&(yield c.remoteSyncer.rejectListen(v,g),c.F_.delete(v),c.L_.removeTarget(v))}),function a(c,h){return i.apply(this,arguments)})(n,e)}catch(i){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield z_(n,i)}else if(e instanceof rg?n.L_.Ke(e):e instanceof qA?n.L_.He(e):n.L_.We(e),!t.isEqual(Bt.min()))try{const i=yield gb(n.localStore);t.compareTo(i)>=0&&(yield function(c,h){const g=c.L_.rt(h);return g.targetChanges.forEach((v,A)=>{if(v.resumeToken.approximateByteSize()>0){const x=c.F_.get(A);x&&c.F_.set(A,x.withResumeToken(v.resumeToken,h))}}),g.targetMismatches.forEach((v,A)=>{const x=c.F_.get(v);if(!x)return;c.F_.set(v,x.withResumeToken(kt.EMPTY_BYTE_STRING,x.snapshotVersion)),wg(c,v);const L=new mu(x.target,v,A,x.sequenceNumber);bu(c,L)}),c.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(i){Ze("RemoteStore","Failed to raise snapshot:",i),yield z_(n,i)}var i}),Xs.apply(this,arguments)}function z_(n,e,t){return pI.apply(this,arguments)}function pI(){return pI=(0,Ve.A)(function*(n,e,t){if(!pc(e))throw e;n.M_.add(1),yield kd(n),n.N_.set("Offline"),t||(t=()=>gb(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ve.A)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield Ig(n)}))}),pI.apply(this,arguments)}function W_(n,e){return e().catch(t=>z_(n,t,e))}function Fd(n){return G_.apply(this,arguments)}function G_(){return G_=(0,Ve.A)(function*(n){const e=mt(n),t=jo(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;wS(e);)try{const a=yield fS(e.localStore,i);if(null===a){0===e.v_.length&&t.t_();break}i=a.batchId,SM(e,a)}catch(a){yield z_(e,a)}Tb(e)&&Tg(e)}),G_.apply(this,arguments)}function wS(n){return Ic(n)&&n.v_.length<10}function SM(n,e){n.v_.push(e);const t=jo(n);t.Zo()&&t.T_&&t.E_(e.mutations)}function Tb(n){return Ic(n)&&!jo(n).Yo()&&n.v_.length>0}function Tg(n){jo(n).start()}function gI(n){return bg.apply(this,arguments)}function bg(){return bg=(0,Ve.A)(function*(n){jo(n).R_()}),bg.apply(this,arguments)}function _f(n){return q_.apply(this,arguments)}function q_(){return q_=(0,Ve.A)(function*(n){const e=jo(n);for(const t of n.v_)e.E_(t.mutations)}),q_.apply(this,arguments)}function bb(n,e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,Ve.A)(function*(n,e,t){const i=n.v_.shift(),a=tf.from(i,e,t);yield W_(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Fd(n)}),Cu.apply(this,arguments)}function mI(n,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,Ve.A)(function*(n,e){var t;e&&jo(n).T_&&(yield(t=(0,Ve.A)(function*(a,c){if(ME(g=c.code)&&g!==Se.ABORTED){const h=a.v_.shift();jo(a).e_(),yield W_(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,c)),yield Fd(a)}var g}),function i(a,c){return t.apply(this,arguments)})(n,e)),Tb(n)&&Tg(n)}),Cg.apply(this,arguments)}function _I(n,e){return K_.apply(this,arguments)}function K_(){return K_=(0,Ve.A)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const i=Ic(t);t.M_.add(3),yield kd(t),i&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield Ig(t)}),K_.apply(this,arguments)}function Q_(n,e){return yI.apply(this,arguments)}function yI(){return yI=(0,Ve.A)(function*(n,e){const t=mt(n);e?(t.M_.delete(2),yield Ig(t)):e||(t.M_.add(2),yield kd(t),t.N_.set("Unknown"))}),yI.apply(this,arguments)}function yf(n){return n.B_||(n.B_=function(t,i,a){const c=mt(t);return c.m_(),new ya(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(n.datastore,n.asyncQueue,{ho:wb.bind(null,n),Io:fI.bind(null,n),Eo:H_.bind(null,n),l_:IS.bind(null,n)}),n.x_.push(function(){var e=(0,Ve.A)(function*(t){t?(n.B_.e_(),gf(n)?Ld(n):n.N_.set("Unknown")):(yield n.B_.stop(),hI(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function jo(n){return n.k_||(n.k_=function(t,i,a){const c=mt(t);return c.m_(),new Eg(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(n.datastore,n.asyncQueue,{ho:()=>Promise.resolve(),Io:gI.bind(null,n),Eo:mI.bind(null,n),A_:_f.bind(null,n),d_:bb.bind(null,n)}),n.x_.push(function(){var e=(0,Ve.A)(function*(t){t?(n.k_.e_(),yield Fd(n)):(yield n.k_.stop(),n.v_.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class X_{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,c){const h=Date.now()+i,g=new X_(e,t,h,a,c);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xe(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vf(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),pc(n))return new Xe(Se.UNAVAILABLE,`${e}: ${n}`);throw n}class Ef{constructor(e){this.comparator=e?(t,i)=>e(t,i)||yt.comparator(t.key,i.key):(t,i)=>yt.comparator(t.key,i.key),this.keyedMap=Ed(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new Ef(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ef)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ef;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Cb{constructor(){this.q_=new Rr(yt.comparator)}track(e){const t=e.doc.key,i=this.q_.get(t);i?0!==e.type&&3===i.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==i.type?this.q_=this.q_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.q_=this.q_.remove(t):1===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Ct():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vd{constructor(e,t,i,a,c,h,g,v,A){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=A}static fromInitialDocuments(e,t,i,a,c){const h=[];return t.forEach(g=>{h.push({type:0,doc:g})}),new Vd(e,t,Ef.emptySet(t),h,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class Db{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class TS{constructor(){this.queries=new xl(e=>AE(e),qp),this.onlineState="Unknown",this.z_=new Set}}function Ab(n,e){return vI.apply(this,arguments)}function vI(){return vI=(0,Ve.A)(function*(n,e){const t=mt(n);let i=3;const a=e.query;let c=t.queries.get(a);c?!c.W_()&&e.G_()&&(i=2):(c=new Db,i=e.G_()?0:1);try{switch(i){case 0:c.K_=yield t.onListen(a,!0);break;case 1:c.K_=yield t.onListen(a,!1);break;case 2:yield t.onFirstRemoteStoreListen(a)}}catch(h){const g=vf(h,`Initialization of query '${mc(e.query)}' failed`);return void e.onError(g)}t.queries.set(a,c),c.U_.push(e),e.j_(t.onlineState),c.K_&&e.H_(c.K_)&&EI(t)}),vI.apply(this,arguments)}function Dg(n,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,Ve.A)(function*(n,e){const t=mt(n),i=e.query;let a=3;const c=t.queries.get(i);if(c){const h=c.U_.indexOf(e);h>=0&&(c.U_.splice(h,1),0===c.U_.length?a=e.G_()?0:1:!c.W_()&&e.G_()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}),Ag.apply(this,arguments)}function Sb(n,e){const t=mt(n);let i=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const g of h.U_)g.H_(a)&&(i=!0);h.K_=a}}i&&EI(t)}function Rb(n,e,t){const i=mt(n),a=i.queries.get(e);if(a)for(const c of a.U_)c.onError(t);i.queries.delete(e)}function EI(n){n.z_.forEach(e=>{e.next()})}var II,wI;(wI=II||(II={})).J_="default",wI.Cache="cache";class TI{constructor(e,t,i){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Vd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==II.Cache}}class bS{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class Pb{constructor(e){this.serializer=e}hs(e){return _a(this.serializer,e)}Ps(e){return e.metadata.exists?du(this.serializer,e.document,!1):$r.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Cn(e)}}class CS{constructor(e,t,i){this.oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mb(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const i=Wn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,i=new Pb(this.serializer);for(const a of e)if(a.metadata.queries){const c=i.hs(a.metadata.name);for(const h of a.metadata.queries){const g=(t.get(h)||bn()).add(c);t.set(h,g)}}return t}complete(){var e=this;return(0,Ve.A)(function*(){const t=yield function xd(n,e,t,i){return F_.apply(this,arguments)}(e.localStore,new Pb(e.serializer),e.documents,e.oa.id),i=e.aa(e.documents);for(const a of e.queries)yield gS(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:t}})()}}function Mb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xb{constructor(e){this.key=e}}class Ob{constructor(e){this.key=e}}class Nb{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=bn(),this.mutatedKeys=bn(),this.Ia=CT(e),this.Ta=new Ef(this.Ia)}get Ea(){return this.la}da(e,t){const i=t?t.Aa:new Cb,a=t?t.Ta:this.Ta;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,g=!1;const v="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,A="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,L)=>{const X=a.get(x),ee=Kp(this.query,L)?L:null,de=!!X&&this.mutatedKeys.has(X.key),pe=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Ae=!1;X&&ee?X.data.isEqual(ee.data)?de!==pe&&(i.track({type:3,doc:ee}),Ae=!0):this.Ra(X,ee)||(i.track({type:2,doc:ee}),Ae=!0,(v&&this.Ia(ee,v)>0||A&&this.Ia(ee,A)<0)&&(g=!0)):!X&&ee?(i.track({type:0,doc:ee}),Ae=!0):X&&!ee&&(i.track({type:1,doc:X}),Ae=!0,(v||A)&&(g=!0)),Ae&&(ee?(h=h.add(ee),c=pe?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const x="F"===this.query.limitType?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{Ta:h,Aa:i,Zi:g,mutatedKeys:c}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const c=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const h=e.Aa.Q_();h.sort((x,L)=>function(ee,de){const pe=Ae=>{switch(Ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return pe(ee)-pe(de)}(x.type,L.type)||this.Ia(x.doc,L.doc)),this.Va(i),a=null!=a&&a;const g=t&&!a?this.ma():[],v=0===this.Pa.size&&this.current&&!a?1:0,A=v!==this.ha;return this.ha=v,0!==h.length||A?{snapshot:new Vd(this.query,e.Ta,c,h,e.mutatedKeys,0===v,A,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:g}:{fa:g}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Cb,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=bn(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const t=[];return e.forEach(i=>{this.Pa.has(i)||t.push(new Ob(i))}),this.Pa.forEach(i=>{e.has(i)||t.push(new xb(i))}),t}pa(e){this.la=e.ls,this.Pa=bn();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Vd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class DS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AS{constructor(e){this.key=e,this.wa=!1}}class SS{constructor(e,t,i,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Sa={},this.ba=new xl(g=>AE(g),qp),this.Da=new Map,this.Ca=new Set,this.va=new Rr(yt.comparator),this.Fa=new Map,this.Ma=new wu,this.xa={},this.Oa=new Map,this.Na=Eu.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function kb(n,e){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,Ve.A)(function*(n,e,t=!0){const i=ly(n);let a;const c=i.ba.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.ya()):a=yield Lb(i,e,t,!0),a}),Y_.apply(this,arguments)}function Du(n,e){return bI.apply(this,arguments)}function bI(){return bI=(0,Ve.A)(function*(n,e){const t=ly(n);yield Lb(t,e,!0,!1)}),bI.apply(this,arguments)}function Lb(n,e,t,i){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ve.A)(function*(n,e,t,i){const a=yield df(n.localStore,Fs(e)),c=a.targetId,h=t?n.sharedClientState.addLocalQueryTarget(c):"not-current";let g;return i&&(g=yield CI(n,e,c,"current"===h,a.resumeToken)),n.isPrimaryClient&&t&&ii(n.remoteStore,a),g}),Z_.apply(this,arguments)}function CI(n,e,t,i,a){return J_.apply(this,arguments)}function J_(){return J_=(0,Ve.A)(function*(n,e,t,i,a){n.Ba=(L,X,ee)=>{return(de=(0,Ve.A)(function*(Ae,nt,pt,Qe){let vt=nt.view.da(pt);vt.Zi&&(vt=yield L_(Ae.localStore,nt.query,!1).then(({documents:Mr})=>nt.view.da(Mr,vt)));const nn=Qe&&Qe.targetChanges.get(nt.targetId),un=Qe&&null!=Qe.targetMismatches.get(nt.targetId),Mn=nt.view.applyChanges(vt,Ae.isPrimaryClient,nn,un);return iy(Ae,nt.targetId,Mn.fa),Mn.snapshot}),function pe(Ae,nt,pt,Qe){return de.apply(this,arguments)})(n,L,X,ee);var de};const c=yield L_(n.localStore,e,!0),h=new Nb(e,c.ls),g=h.da(c.documents),v=ng.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),A=h.applyChanges(g,n.isPrimaryClient,v);iy(n,t,A.fa);const x=new DS(e,t,h);return n.ba.set(e,x),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),A.snapshot}),J_.apply(this,arguments)}function Fb(n,e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,Ve.A)(function*(n,e,t){const i=mt(n),a=i.ba.get(e),c=i.Da.get(a.targetId);if(c.length>1)return i.Da.set(a.targetId,c.filter(h=>!qp(h,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Md(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ll(i.remoteStore,a.targetId),jd(i,a.targetId)}).catch(Uo))):(jd(i,a.targetId),yield Md(i.localStore,a.targetId,!0))}),Ud.apply(this,arguments)}function DI(n,e){return Au.apply(this,arguments)}function Au(){return Au=(0,Ve.A)(function*(n,e){const t=mt(n),i=t.ba.get(e),a=t.Da.get(i.targetId);t.isPrimaryClient&&1===a.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ll(t.remoteStore,i.targetId))}),Au.apply(this,arguments)}function Su(){return Su=(0,Ve.A)(function*(n,e,t){const i=cy(n);try{const a=yield function(h,g){const v=mt(h),A=ni.now(),x=g.reduce((ee,de)=>ee.add(de.key),bn());let L,X;return v.persistence.runTransaction("Locally write mutations","readwrite",ee=>{let de=po(),pe=bn();return v.ss.getEntries(ee,x).next(Ae=>{de=Ae,de.forEach((nt,pt)=>{pt.isValidDocument()||(pe=pe.add(nt))})}).next(()=>v.localDocuments.getOverlayedDocuments(ee,de)).next(Ae=>{L=Ae;const nt=[];for(const pt of g){const Qe=p_(pt,L.get(pt.key).overlayedDocument);null!=Qe&&nt.push(new yc(pt.key,Qe,n_(Qe.value.mapValue),ri.exists(!0)))}return v.mutationQueue.addMutationBatch(ee,A,nt,g)}).next(Ae=>{X=Ae;const nt=Ae.applyToLocalDocumentSet(L,pe);return v.documentOverlayCache.saveOverlays(ee,Ae.batchId,nt)})}).then(()=>({batchId:X.batchId,changes:RE(L)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(h,g,v){let A=h.xa[h.currentUser.toKey()];A||(A=new Rr(pn)),A=A.insert(g,v),h.xa[h.currentUser.toKey()]=A}(i,a.batchId,t),yield Fl(i,a.changes),yield Fd(i.remoteStore)}catch(a){const c=vf(a,"Failed to persist write");t.reject(c)}}),Su.apply(this,arguments)}function ey(n,e){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,Ve.A)(function*(n,e){const t=mt(n);try{const i=yield function hS(n,e){const t=mt(n),i=e.snapshotVersion;let a=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.ss.newChangeBuffer({trackRemovals:!0});a=t.ts;const g=[];e.targetChanges.forEach((x,L)=>{const X=a.get(L);if(!X)return;g.push(t.qr.removeMatchingKeys(c,x.removedDocuments,L).next(()=>t.qr.addMatchingKeys(c,x.addedDocuments,L)));let ee=X.withSequenceNumber(c.currentSequenceNumber);var pe,Ae,nt;null!==e.targetMismatches.get(L)?ee=ee.withResumeToken(kt.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):x.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(x.resumeToken,i)),a=a.insert(L,ee),Ae=ee,nt=x,(0===(pe=X).resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0)&&g.push(t.qr.updateTargetData(c,ee))});let v=po(),A=bn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),g.push(mb(c,h,e.documentUpdates).next(x=>{v=x.us,A=x.cs})),!i.isEqual(Bt.min())){const x=t.qr.getLastRemoteSnapshotVersion(c).next(L=>t.qr.setTargetsMetadata(c,c.currentSequenceNumber,i));g.push(x)}return fe.waitFor(g).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,v,A)).next(()=>v)}).then(c=>(t.ts=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const h=t.Fa.get(c);h&&(Ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.wa=!0:a.modifiedDocuments.size>0?Ft(h.wa):a.removedDocuments.size>0&&(Ft(h.wa),h.wa=!1))}),yield Fl(t,i,e)}catch(i){yield Uo(i)}}),Ru.apply(this,arguments)}function Bd(n,e,t){const i=mt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.ba.forEach((c,h)=>{const g=h.view.j_(e);g.snapshot&&a.push(g.snapshot)}),function(h,g){const v=mt(h);v.onlineState=g;let A=!1;v.queries.forEach((x,L)=>{for(const X of L.U_)X.j_(g)&&(A=!0)}),A&&EI(v)}(i.eventManager,e),a.length&&i.Sa.l_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function If(n,e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,Ve.A)(function*(n,e,t){const i=mt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Fa.get(e),c=a&&a.key;if(c){let h=new Rr(yt.comparator);h=h.insert(c,$r.newNoDocument(c,Bt.min()));const g=bn().add(c),v=new rf(Bt.min(),new Map,new Rr(pn),h,g);yield ey(i,v),i.va=i.va.remove(c),i.Fa.delete(e),sy(i)}else yield Md(i.localStore,e,!1).then(()=>jd(i,e,t)).catch(Uo)}),Pu.apply(this,arguments)}function wf(n,e){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,Ve.A)(function*(n,e){const t=mt(n),i=e.batch.batchId;try{const a=yield function dS(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.ss.newChangeBuffer({trackRemovals:!0});return function(g,v,A,x){const L=A.batch,X=L.keys();let ee=fe.resolve();return X.forEach(de=>{ee=ee.next(()=>x.getEntry(v,de)).next(pe=>{const Ae=A.docVersions.get(de);Ft(null!==Ae),pe.version.compareTo(Ae)<0&&(L.applyToRemoteDocument(pe,A),pe.isValidDocument()&&(pe.setReadTime(A.commitVersion),x.addEntry(pe)))})}),ee.next(()=>g.mutationQueue.removeMutationBatch(v,L))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let v=bn();for(let A=0;A<g.mutationResults.length;++A)g.mutationResults[A].transformResults.length>0&&(v=v.add(g.batch.mutations[A].key));return v}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);ry(t,i,null),ny(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Fl(t,a)}catch(a){yield Uo(a)}}),Mu.apply(this,arguments)}function Tf(n,e,t){return xu.apply(this,arguments)}function xu(){return xu=(0,Ve.A)(function*(n,e,t){const i=mt(n);try{const a=yield function(h,g){const v=mt(h);return v.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let x;return v.mutationQueue.lookupMutationBatch(A,g).next(L=>(Ft(null!==L),x=L.keys(),v.mutationQueue.removeMutationBatch(A,L))).next(()=>v.mutationQueue.performConsistencyCheck(A)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(A,x,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,x)).next(()=>v.localDocuments.getDocuments(A,x))})}(i.localStore,e);ry(i,e,t),ny(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Fl(i,a)}catch(a){yield Uo(a)}}),xu.apply(this,arguments)}function ty(){return ty=(0,Ve.A)(function*(n,e){const t=mt(n);Ic(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(h){const g=mt(h);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>g.mutationQueue.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===i)return void e.resolve();const a=t.Oa.get(i)||[];a.push(e),t.Oa.set(i,a)}catch(i){const a=vf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),ty.apply(this,arguments)}function ny(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function ry(n,e,t){const i=mt(n);let a=i.xa[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.xa[i.currentUser.toKey()]=a}}function jd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Da.get(e))n.ba.delete(i),t&&n.Sa.ka(i,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Rr(e).forEach(i=>{n.Ma.containsKey(i)||AI(n,i)})}function AI(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(Ll(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),sy(n))}function iy(n,e,t){for(const i of t)i instanceof xb?(n.Ma.addReference(i.key,e),Ub(n,i)):i instanceof Ob?(Ze("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,e),n.Ma.containsKey(i.key)||AI(n,i.key)):Ct()}function Ub(n,e){const t=e.key,i=t.path.canonicalString();n.va.get(t)||n.Ca.has(i)||(Ze("SyncEngine","New document in limbo: "+t),n.Ca.add(i),sy(n))}function sy(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new yt(Wn.fromString(e)),i=n.Na.next();n.Fa.set(i,new AS(t)),n.va=n.va.insert(t,i),ii(n.remoteStore,new mu(Fs(Ml(t.path)),i,"TargetPurposeLimboResolution",as.oe))}}function Fl(n,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Ve.A)(function*(n,e,t){const i=mt(n),a=[],c=[],h=[];var g;i.ba.isEmpty()||(i.ba.forEach((g,v)=>{h.push(i.Ba(v,e,t).then(A=>{if((A||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,A?.fromCache?"not-current":"current"),A){a.push(A);const x=sI.Qi(v.targetId,A);c.push(x)}}))}),yield Promise.all(h),i.Sa.l_(a),yield(g=(0,Ve.A)(function*(A,x){const L=mt(A);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",X=>fe.forEach(x,ee=>fe.forEach(ee.ki,de=>L.persistence.referenceDelegate.addReference(X,ee.targetId,de)).next(()=>fe.forEach(ee.qi,de=>L.persistence.referenceDelegate.removeReference(X,ee.targetId,de)))))}catch(X){if(!pc(X))throw X;Ze("LocalStore","Failed to update sequence numbers: "+X)}for(const X of x){const ee=X.targetId;if(!X.fromCache){const de=L.ts.get(ee),Ae=de.withLastLimboFreeSnapshotVersion(de.snapshotVersion);L.ts=L.ts.insert(ee,Ae)}}}),function v(A,x){return g.apply(this,arguments)})(i.localStore,c))}),Cf.apply(this,arguments)}function Ou(n,e){return SI.apply(this,arguments)}function SI(){return SI=(0,Ve.A)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const i=yield _g(t.localStore,e);t.currentUser=e,(c=t).Oa.forEach(g=>{g.forEach(v=>{v.reject(new Xe(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Fl(t,i._s)}var c}),SI.apply(this,arguments)}function RS(n,e){const t=mt(n),i=t.Fa.get(e);if(i&&i.wa)return bn().add(i.key);{let a=bn();const c=t.Da.get(e);if(!c)return a;for(const h of c){const g=t.ba.get(h);a=a.unionWith(g.view.Ea)}return a}}function RI(n,e){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,Ve.A)(function*(n,e){const t=mt(n),i=yield L_(t.localStore,e.query,!0),a=e.view.pa(i);return t.isPrimaryClient&&iy(t,e.targetId,a.fa),a}),Tc.apply(this,arguments)}function PI(n,e){return MI.apply(this,arguments)}function MI(){return MI=(0,Ve.A)(function*(n,e){const t=mt(n);return aI(t.localStore,e).then(i=>Fl(t,i))}),MI.apply(this,arguments)}function xI(n,e,t,i){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Ve.A)(function*(n,e,t,i){const a=mt(n),c=yield function(g,v){const A=mt(g),x=mt(A.mutationQueue);return A.persistence.runTransaction("Lookup mutation documents","readonly",L=>x.Cn(L,v).next(X=>X?A.localDocuments.getDocuments(L,X):fe.resolve(null)))}(a.localStore,e);var v;null!==c?("pending"===t?yield Fd(a.remoteStore):"acknowledged"===t||"rejected"===t?(ry(a,e,i||null),ny(a,e),v=e,mt(mt(a.localStore).mutationQueue).Fn(v)):Ct(),yield Fl(a,c)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),Bb.apply(this,arguments)}function OI(){return OI=(0,Ve.A)(function*(n,e){const t=mt(n);if(ly(t),cy(t),!0===e&&!0!==t.La){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield jb(t,i.toArray());t.La=!0,yield Q_(t.remoteStore,!0);for(const c of a)ii(t.remoteStore,c)}else if(!1===e&&!1!==t.La){const i=[];let a=Promise.resolve();t.Da.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?i.push(h):a=a.then(()=>(jd(t,h),Md(t.localStore,h,!0))),Ll(t.remoteStore,h)}),yield a,yield jb(t,i),function(h){const g=mt(h);g.Fa.forEach((v,A)=>{Ll(g.remoteStore,A)}),g.Ma.Vr(),g.Fa=new Map,g.va=new Rr(yt.comparator)}(t),t.La=!1,yield Q_(t.remoteStore,!1)}}),OI.apply(this,arguments)}function jb(n,e,t){return oy.apply(this,arguments)}function oy(){return oy=(0,Ve.A)(function*(n,e,t){const i=mt(n),a=[],c=[];for(const h of e){let g;const v=i.Da.get(h);if(v&&0!==v.length){g=yield df(i.localStore,Fs(v[0]));for(const A of v){const x=i.ba.get(A),L=yield RI(i,x);L.snapshot&&c.push(L.snapshot)}}else{const A=yield pS(i.localStore,h);g=yield df(i.localStore,A),yield CI(i,$b(A),h,!1,g.resumeToken)}a.push(g)}return i.Sa.l_(c),a}),oy.apply(this,arguments)}function $b(n){return _d(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Xi(n){return t=mt(n).localStore,mt(mt(t).persistence).Li();var t}function Hb(n,e,t,i){return NI.apply(this,arguments)}function NI(){return NI=(0,Ve.A)(function*(n,e,t,i){const a=mt(n);if(a.La)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const c=a.Da.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const h=yield aI(a.localStore,LA(c[0])),g=rf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,kt.EMPTY_BYTE_STRING);yield Fl(a,h,g);break}case"rejected":yield Md(a.localStore,e,!0),jd(a,e,i);break;default:Ct()}}),NI.apply(this,arguments)}function PS(n,e,t){return ay.apply(this,arguments)}function ay(){return ay=(0,Ve.A)(function*(n,e,t){const i=ly(n);if(i.La){for(const a of e){if(i.Da.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){Ze("SyncEngine","Adding an already active target "+a);continue}const c=yield pS(i.localStore,a),h=yield df(i.localStore,c);yield CI(i,$b(c),h.targetId,!1,h.resumeToken),ii(i.remoteStore,h)}for(const a of t)i.Da.has(a)&&(yield Md(i.localStore,a,!1).then(()=>{Ll(i.remoteStore,a),jd(i,a)}).catch(Uo))}}),ay.apply(this,arguments)}function ly(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ey.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=If.bind(null,e),e.Sa.l_=Sb.bind(null,e.eventManager),e.Sa.ka=Rb.bind(null,e.eventManager),e}function cy(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tf.bind(null,e),e}class $a{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ve.A)(function*(){t.serializer=Xr(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return pb(this.persistence,new N_,e.initialUser,this.serializer)}createPersistence(e){return new db(R_.jr,this.serializer)}createSharedClientState(e){return new Eb}terminate(){var e=this;return(0,Ve.A)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kI extends $a{constructor(e,t,i){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ve.A)(function*(){yield t().call(i,e),yield i.Qa.initialize(i,e),yield cy(i.Qa.syncEngine),yield Fd(i.Qa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return pb(this.persistence,new N_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new JA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new SA(t,this.persistence);return new fE(e.asyncQueue,i)}createPersistence(e){const t=hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new x_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,ja(),Tu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Eb}}class LI extends kI{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ve.A)(function*(){yield t().call(i,e);const a=i.Qa.syncEngine;i.sharedClientState instanceof vb&&(i.sharedClientState.syncEngine={Ys:xI.bind(null,a),Zs:Hb.bind(null,a),Xs:PS.bind(null,a),Li:Xi.bind(null,a),Js:PI.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var c=(0,Ve.A)(function*(h){yield function RM(n,e){return OI.apply(this,arguments)}(i.Qa.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start():h||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(h&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():h||i.indexBackfillerScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ja();if(!vb.D(t))throw new Xe(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vb(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Df{initialize(e,t){var i=this;return(0,Ve.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>Bd(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ou.bind(null,i.syncEngine),yield Q_(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TS}createDatastore(e){const t=Xr(e.databaseInfo.databaseId),i=new yS(e.databaseInfo);return new vS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,a=this.datastore,c=e.asyncQueue,h=t=>Bd(this.syncEngine,t,0),g=Nd.D()?new Nd:new AM,new ES(i,a,c,h,g);var i,a,c,h,g}createSyncEngine(e,t){return function(a,c,h,g,v,A,x){const L=new SS(a,c,h,g,v,A);return x&&(L.La=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,Ve.A)(function*(){var t,i;yield(i=(0,Ve.A)(function*(c){const h=mt(c);Ze("RemoteStore","RemoteStore shutting down."),h.M_.add(5),yield kd(h),h.O_.shutdown(),h.N_.set("Unknown")}),function a(c){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function FI(n,e=10240){let t=0;return{read:()=>(0,Ve.A)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ve.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class VI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class UI{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new qi,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,Ve.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,Ve.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,Ve.A)(function*(){const t=yield e.za();if(null===t)return null;const i=e.Wa.decode(t),a=Number(i);isNaN(a)&&e.ja(`length string (${i}) is not valid number`);const c=yield e.Ha(a);return new bS(JSON.parse(c),t.length+a)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,Ve.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const t=e.Ja();t<0&&e.ja("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ha(e){var t=this;return(0,Ve.A)(function*(){for(;t.buffer.length<e;)(yield t.Ya())&&t.ja("Reached the end of bundle when more is expected.");const i=t.Wa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,Ve.A)(function*(){const t=yield e.Ua.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class BI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ve.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new Xe(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(a=(0,Ve.A)(function*(h,g){const v=mt(h),A={documents:g.map(ee=>og(v.serializer,ee))},x=yield v.Mo("BatchGetDocuments",v.serializer.databaseId,Wn.emptyPath(),A,g.length),L=new Map;x.forEach(ee=>{const de=function qT(n,e){return"found"in e?function(i,a){Ft(!!a.found);const c=_a(i,a.found.name),h=Cn(a.found.updateTime),g=a.found.createTime?Cn(a.found.createTime):Bt.min(),v=new Ls({mapValue:{fields:a.found.fields}});return $r.newFoundDocument(c,h,g,v)}(n,e):"missing"in e?function(i,a){Ft(!!a.missing),Ft(!!a.readTime);const c=_a(i,a.missing),h=Cn(a.readTime);return $r.newNoDocument(c,h)}(n,e):Ct()}(v.serializer,ee);L.set(de.key.toString(),de)});const X=[];return g.forEach(ee=>{const de=L.get(ee.toString());Ft(!!de),X.push(de)}),X}),function c(h,g){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ve.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const c=yt.fromPath(a);e.mutations.push(new PE(c,e.precondition(c)))}),yield(i=(0,Ve.A)(function*(c,h){const g=mt(c),v={writes:h.map(A=>ag(g.serializer,A))};yield g.Do("Commit",g.serializer.databaseId,Wn.emptyPath(),v)}),function a(c,h){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ct();t=Bt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Xe(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?ri.exists(!1):ri.updateTime(t):ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Xe(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ri.updateTime(t)}return ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class jI{constructor(e,t,i,a,c){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=c,this.Za=i.maxAttempts,this.Jo=new Ec(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Jo.Ko((0,Ve.A)(function*(){const t=new BI(e.datastore),i=e.tu(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.nu(c)}))}).catch(a=>{e.nu(a)})}))}tu(e){try{const t=this.updateFunction(e);return!hd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ME(t)}return!1}}class $I{constructor(e,t,i,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Gi.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,Ve.A)(function*(g){Ze("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,h=>(Ze("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ve.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=vf(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function mo(n,e){return HI.apply(this,arguments)}function HI(){return HI=(0,Ve.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Ve.A)(function*(c){i.isEqual(c)||(yield _g(e.localStore,c),i=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),HI.apply(this,arguments)}function uy(n,e){return va.apply(this,arguments)}function va(){return va=(0,Ve.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $o(n);Ze("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>_I(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>_I(e.remoteStore,a)),n._onlineComponents=e}),va.apply(this,arguments)}function Ea(n){return"FirebaseError"===n.name?n.code===Se.FAILED_PRECONDITION||n.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function $o(n){return dy.apply(this,arguments)}function dy(){return dy=(0,Ve.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mo(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Ea(t))throw t;ks("Error using user provided cache. Falling back to memory cache: "+t),yield mo(n,new $a)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield mo(n,new $a);return n._offlineComponents}),dy.apply(this,arguments)}function Sg(n){return zI.apply(this,arguments)}function zI(){return zI=(0,Ve.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield uy(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield uy(n,new Df))),n._onlineComponents}),zI.apply(this,arguments)}function Wb(n){return $o(n).then(e=>e.persistence)}function Af(n){return $o(n).then(e=>e.localStore)}function Gb(n){return Sg(n).then(e=>e.remoteStore)}function Rg(n){return Sg(n).then(e=>e.syncEngine)}function Rf(n){return hy.apply(this,arguments)}function hy(){return hy=(0,Ve.A)(function*(n){const e=yield Sg(n),t=e.eventManager;return t.onListen=kb.bind(null,e.syncEngine),t.onUnlisten=Fb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Du.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DI.bind(null,e.syncEngine),t}),hy.apply(this,arguments)}function WI(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function(c,h,g,v,A){const x=new VI({next:X=>{h.enqueueAndForget(()=>Dg(c,L));const ee=X.docs.has(g);!ee&&X.fromCache?A.reject(new Xe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):ee&&X.fromCache&&v&&"server"===v.source?A.reject(new Xe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(X)},error:X=>A.reject(X)}),L=new TI(Ml(g.path),x,{includeMetadataChanges:!0,ra:!0});return Ab(c,L)}(yield Rf(n),n.asyncQueue,e,t,i)})),i.promise}function Kb(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function(c,h,g,v,A){const x=new VI({next:X=>{h.enqueueAndForget(()=>Dg(c,L)),X.fromCache&&"server"===v.source?A.reject(new Xe(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(X)},error:X=>A.reject(X)}),L=new TI(g,x,{includeMetadataChanges:!0,ra:!0});return Ab(c,L)}(yield Rf(n),n.asyncQueue,e,t,i)})),i.promise}function Xb(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Yb=new Map;function GI(n,e,t){if(!t)throw new Xe(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zb(n,e,t,i){if(!0===e&&!0===i)throw new Xe(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jb(n){if(!yt.isDocumentKey(n))throw new Xe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eC(n){if(yt.isDocumentKey(n))throw new Xe(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ct()}function Vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Xe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pf(n);throw new Xe(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function py(n,e){if(e<=0)throw new Xe(Se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Xe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xb(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Xe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Xe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Xe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qI(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new DA;switch(i.type){case"firstParty":return new kp(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Xe(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Yb.get(t);i&&(Ze("ComponentProvider","Removing Datastore"),Yb.delete(t),i.terminate())}(this),Promise.resolve()}}function KI(n,e,t,i={}){var a;const c=(n=Vn(n,Mf))._getSettings(),h=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==h&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),i.mockUserToken){let g,v;if("string"==typeof i.mockUserToken)g=i.mockUserToken,v=Gi.MOCK_USER;else{g=(0,Yt.Fy)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new Xe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gi(A)}n._authCredentials=new Hw(new lE(g,v))}}class cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class Yr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class Vl extends cs{constructor(e,t,i){super(e,t,Ml(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new yt(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function gy(n,e,...t){if(n=(0,Yt.Ku)(n),GI("collection","path",e),n instanceof Mf){const i=Wn.fromString(e,...t);return eC(i),new Vl(n,null,i)}{if(!(n instanceof Yr||n instanceof Vl))throw new Xe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Wn.fromString(e,...t));return eC(i),new Vl(n.firestore,null,i)}}function Pg(n,e,...t){if(n=(0,Yt.Ku)(n),1===arguments.length&&(e=Gw.newId()),GI("doc","path",e),n instanceof Mf){const i=Wn.fromString(e,...t);return Jb(i),new Yr(n,null,new yt(i))}{if(!(n instanceof Yr||n instanceof Vl))throw new Xe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Wn.fromString(e,...t));return Jb(i),new Yr(n.firestore,n instanceof Vl?n.converter:null,new yt(i))}}function tC(n,e){return n=(0,Yt.Ku)(n),e=(0,Yt.Ku)(e),(n instanceof Yr||n instanceof Vl)&&(e instanceof Yr||e instanceof Vl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function my(n,e){return n=(0,Yt.Ku)(n),e=(0,Yt.Ku)(e),n instanceof cs&&e instanceof cs&&n.firestore===e.firestore&&qp(n._query,e._query)&&n.converter===e.converter}class QI{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Ec(this,"async_queue_retry"),this.hu=()=>{const t=Tu();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Jo.Uo()};const e=Tu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Tu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new qi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,Ve.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(t){if(!pc(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(i=>{throw this.au=i,this.uu=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(i)),i}).then(i=>(this.uu=!1,i))));return this.iu=t,t}enqueueAfterDelay(e,t,i){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const a=X_.createAndSchedule(this,e,t,i,c=>this.Eu(c));return this._u.push(a),a}Pu(){this.au&&Ct()}verifyOperationInProgress(){}du(){var e=this;return(0,Ve.A)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function XI(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const a=t;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(n)}class BS{constructor(){this._progressObserver={},this._taskCompletionResolver=new qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hr extends Mf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new QI,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JI(this),this._firestoreClient.terminate()}}function si(n){return n._firestoreClient||JI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JI(n){var e,t,i;const a=n._freezeSettings(),c=(v=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zh(n._databaseId,v,n._persistenceKey,(x=a).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Xb(x.experimentalLongPollingOptions),x.useFetchStreams));var v,x;n._firestoreClient=new $I(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=a.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}function nC(n,e,t){const i=new qi;return n.asyncQueue.enqueue((0,Ve.A)(function*(){try{yield mo(n,t),yield uy(n,e),i.resolve()}catch(a){const c=a;if(!Ea(c))throw c;ks("Error enabling indexeddb cache. Falling back to memory cache: "+c),i.reject(c)}})).then(()=>i.promise)}function t0(n){if(n._initialized||n._terminated)throw new Xe(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ul(kt.fromBase64String(e))}catch(t){throw new Xe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ul(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Xe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Of{constructor(e){this._methodName=e}}class Nf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}}const MM=/^__.*__$/;class sC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jh(e,this.data,t,this.fieldTransforms)}}class n0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class Cc{constructor(e,t,i,a,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Cc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.gu({path:i,yu:!1});return a.wu(e),a}Su(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.gu({path:i,yu:!1});return a.mu(),a}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ty(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(zS(this.fu)&&MM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class WS{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Xr(e)}Fu(e,t,i,a=!1){return new Cc({fu:e,methodName:t,vu:i,path:Fr.emptyPath(),yu:!1,Cu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(n){const e=n._freezeSettings(),t=Xr(n._databaseId);return new WS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ey(n,e,t,i,a,c={}){const h=n.Fu(c.merge||c.mergeFields?2:0,e,t,a);l0("Data must be an object, but it was:",h,i);const g=o0(i,h);let v,A;if(c.merge)v=new ho(h.fieldMask),A=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const L of c.mergeFields){const X=xg(e,L,t);if(!h.contains(X))throw new Xe(Se.INVALID_ARGUMENT,`Field '${X}' is specified in your field mask but missing from your input data.`);aC(x,X)||x.push(X)}v=new ho(x),A=h.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,A=h.fieldTransforms;return new sC(new Ls(g),v,A)}class Bl extends Of{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bl}}function oC(n,e,t){return new Cc({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kf extends Of{_toFieldTransform(e){return new Zh(e.path,new Xp)}isEqual(e){return e instanceof kf}}class Lf extends Of{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=oC(this,e,!0),i=this.Mu.map(c=>Nu(c,t)),a=new Id(i);return new Zh(e.path,a)}isEqual(e){return e instanceof Lf&&(0,Yt.bD)(this.Mu,e.Mu)}}class Vs extends Of{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=oC(this,e,!0),i=this.Mu.map(c=>Nu(c,t)),a=new wd(i);return new Zh(e.path,a)}isEqual(e){return e instanceof Vs&&(0,Yt.bD)(this.Mu,e.Mu)}}class Iy extends Of{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new Ol(e.serializer,$A(e.serializer,this.xu));return new Zh(e.path,t)}isEqual(e){return e instanceof Iy&&this.xu===e.xu}}function wy(n,e,t,i){const a=n.Fu(1,e,t);l0("Data must be an object, but it was:",a,i);const c=[],h=Ls.empty();fa(i,(v,A)=>{const x=ku(e,v,t);A=(0,Yt.Ku)(A);const L=a.Su(x);if(A instanceof Bl)c.push(x);else{const X=Nu(A,L);null!=X&&(c.push(x),h.set(x,X))}});const g=new ho(c);return new n0(h,g,a.fieldTransforms)}function r0(n,e,t,i,a,c){const h=n.Fu(1,e,t),g=[xg(e,i,t)],v=[a];if(c.length%2!=0)throw new Xe(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let X=0;X<c.length;X+=2)g.push(xg(e,c[X])),v.push(c[X+1]);const A=[],x=Ls.empty();for(let X=g.length-1;X>=0;--X)if(!aC(A,g[X])){const ee=g[X];let de=v[X];de=(0,Yt.Ku)(de);const pe=h.Su(ee);if(de instanceof Bl)A.push(ee);else{const Ae=Nu(de,pe);null!=Ae&&(A.push(ee),x.set(ee,Ae))}}const L=new ho(A);return new n0(x,L,h.fieldTransforms)}function s0(n,e,t,i=!1){return Nu(t,n.Fu(i?4:3,e))}function Nu(n,e){if(a0(n=(0,Yt.Ku)(n)))return l0("Unsupported field value:",e,n),o0(n,e);if(n instanceof Of)return function(i,a){if(!zS(a.fu))throw a.Du(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Du(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(i,a){const c=[];let h=0;for(const g of i){let v=Nu(g,a.bu(h));null==v&&(v={nullValue:"NULL_VALUE"}),c.push(v),h++}return{arrayValue:{values:c}}}(n,e)}return function(i,a){if(null===(i=(0,Yt.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return $A(a.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=ni.fromDate(i);return{timestampValue:bd(a.serializer,c)}}if(i instanceof ni){const c=new ni(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bd(a.serializer,c)}}if(i instanceof Nf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ul)return{bytesValue:HT(a.serializer,i._byteString)};if(i instanceof Yr){const c=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw a.Du(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:NE(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Du(`Unsupported field value: ${Pf(i)}`)}(n,e)}function o0(n,e){const t={};return vE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(n,(i,a)=>{const c=Nu(a,e.pu(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function a0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof Nf||n instanceof Ul||n instanceof Yr||n instanceof Of)}function l0(n,e,t){if(!a0(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const i=Pf(t);throw e.Du("an object"===i?n+" a custom object":n+" "+i)}var a}function xg(n,e,t){if((e=(0,Yt.Ku)(e))instanceof bc)return e._internalPath;if("string"==typeof e)return ku(n,e);throw Ty("Field path arguments must be of type string or ",n,!1,void 0,t)}const GS=new RegExp("[~\\*/\\[\\]]");function ku(n,e,t){if(e.search(GS)>=0)throw Ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bc(...e.split("."))._internalPath}catch{throw Ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ty(n,e,t,i,a){const c=i&&!i.isEmpty(),h=void 0!==a;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||h)&&(v+=" (found",c&&(v+=` in field ${i}`),h&&(v+=` in document ${a}`),v+=")"),new Xe(Se.INVALID_ARGUMENT,g+n+v)}function aC(n,e){return n.some(t=>t.isEqual(e))}class Og{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new by(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ng("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class by extends Og{data(){return super.data()}}function Ng(n,e){return"string"==typeof e?ku(n,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function c0(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Xe(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cy{}class kg extends Cy{}function Ia(n,e,...t){let i=[];e instanceof Cy&&i.push(e),i=i.concat(t),function(c){const h=c.filter(v=>v instanceof Ff).length,g=c.filter(v=>v instanceof Dc).length;if(h>1||h>0&&g>0)throw new Xe(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Dc extends kg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Dc(e,t,i)}_apply(e){const t=this._parse(e);return d0(e._query,t),new cs(e.firestore,e.converter,DE(e._query,t))}_parse(e){const t=Hd(e.firestore);return function(c,h,g,v,A,x,L){let X;if(A.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Xe(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){e1(L,x);const ee=[];for(const de of L)ee.push(JS(v,c,de));X={arrayValue:{values:ee}}}else X=JS(v,c,L)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||e1(L,x),X=s0(g,"where",L,"in"===x||"not-in"===x);return Ln.create(A,x,X)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ff extends Cy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ff(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,c){let h=a;const g=c.getFlattenedFilters();for(const v of g)d0(h,v),h=DE(h,v)}(e._query,t),new cs(e.firestore,e.converter,DE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class u0 extends kg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new u0(e,t)}_apply(e){const t=function(a,c,h){if(null!==a.startAt)throw new Xe(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Xe(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qh(c,h)}(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,function(a,c){const h=a.explicitOrderBy.concat([c]);return new Pl(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Ay extends kg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Ay(e,t,i)}_apply(e){return new cs(e.firestore,e.converter,c_(e._query,this._limit,this._limitType))}}class Lg extends kg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Lg(e,t,i)}_apply(e){const t=ZS(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(c=t,new Pl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class Sy extends kg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Sy(e,t,i)}_apply(e){const t=ZS(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(c=t,new Pl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function ZS(n,e,t,i){if(t[0]=(0,Yt.Ku)(t[0]),t[0]instanceof Og)return function(c,h,g,v,A){if(!v)throw new Xe(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const x=[];for(const L of vd(c))if(L.field.isKeyField())x.push(lu(h,v.key));else{const X=v.data.field(L.field);if(jp(X))throw new Xe(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===X){const ee=L.field.canonicalString();throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ee}' (used as the orderBy) does not exist.`)}x.push(X)}return new cu(x,A)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=Hd(n.firestore);return function(h,g,v,A,x,L){const X=h.explicitOrderBy;if(x.length>X.length)throw new Xe(Se.INVALID_ARGUMENT,`Too many arguments provided to ${A}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ee=[];for(let de=0;de<x.length;de++){const pe=x[de];if(X[de].field.isKeyField()){if("string"!=typeof pe)throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${A}(), but got a ${typeof pe}`);if(!yd(h)&&-1!==pe.indexOf("/"))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${A}() must be a plain document ID, but '${pe}' contains a slash.`);const Ae=h.path.child(Wn.fromString(pe));if(!yt.isDocumentKey(Ae))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${A}() must result in a valid document path, but '${Ae}' is not because it contains an odd number of segments.`);const nt=new yt(Ae);ee.push(lu(g,nt))}else{const Ae=s0(v,A,pe);ee.push(Ae)}}return new cu(ee,L)}(n._query,n.firestore._databaseId,a,e,t,i)}}function JS(n,e,t){if("string"==typeof(t=(0,Yt.Ku)(t))){if(""===t)throw new Xe(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yd(e)&&-1!==t.indexOf("/"))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Wn.fromString(t));if(!yt.isDocumentKey(i))throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lu(n,new yt(i))}if(t instanceof Yr)return lu(n,t._key);throw new Xe(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(t)}.`)}function e1(n,e){if(!Array.isArray(n)||0===n.length)throw new Xe(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d0(n,e){const t=function(a,c){for(const h of a)for(const g of h.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Xe(Se.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class h0{convertValue(e,t="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ct()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return fa(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new Nf(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jm(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const t=Dl(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Wn.fromString(e);Ft(sf(i));const a=new Sl(i.get(1),i.get(3)),c=new yt(i.popFirst(5));return a.isEqual(t)||Ei(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Ry(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class dC extends h0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,t)}}class Vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ac extends Og{constructor(e,t,i,a,c,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ng("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Uf extends Ac{data(e={}){return super.data(e)}}class Lu{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Uf(this._firestore,this._userDataWriter,i.key,i,new Vf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(g=>({type:"added",doc:new Uf(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Vf(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||3!==g.type).map(g=>{const v=new Uf(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Vf(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let A=-1,x=-1;return 0!==g.type&&(A=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),x=h.indexOf(g.doc.key)),{type:n1(g.type),doc:v,oldIndex:A,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function n1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}function Bf(n,e){return n instanceof Ac&&e instanceof Ac?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Lu&&e instanceof Lu&&n._firestore===e._firestore&&my(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Sc extends h0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,t)}}function My(n,e,t){n=Vn(n,Yr);const i=Vn(n.firestore,Hr),a=Ry(n.converter,e,t);return jf(i,[Ey(Hd(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,ri.none())])}function pC(n,e,t,...i){n=Vn(n,Yr);const a=Vn(n.firestore,Hr),c=Hd(a);let h;return h="string"==typeof(e=(0,Yt.Ku)(e))||e instanceof bc?r0(c,"updateDoc",n._key,e,t,i):wy(c,"updateDoc",n._key,e),jf(a,[h.toMutation(n._key,ri.exists(!0))])}function f0(n,...e){var t,i,a;n=(0,Yt.Ku)(n);let c={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||XI(e[h])||(c=e[h],h++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(XI(e[h])){const L=e[h];e[h]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[h+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),e[h+2]=null===(a=L.complete)||void 0===a?void 0:a.bind(L)}let v,A,x;if(n instanceof Yr)A=Vn(n.firestore,Hr),x=Ml(n._key.path),v={next:L=>{e[h]&&e[h](Vg(A,n,L))},error:e[h+1],complete:e[h+2]};else{const L=Vn(n,cs);A=Vn(L.firestore,Hr),x=L._query;const X=new Sc(A);v={next:ee=>{e[h]&&e[h](new Lu(A,X,L,ee))},error:e[h+1],complete:e[h+2]},c0(n._query)}return function(X,ee,de,pe){const Ae=new VI(pe),nt=new TI(ee,Ae,de);return X.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return Ab(yield Rf(X),nt)})),()=>{Ae.$a(),X.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return Dg(yield Rf(X),nt)}))}}(si(A),x,g,v)}function jf(n,e){return function(i,a){const c=new qi;return i.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function Vb(n,e,t){return Su.apply(this,arguments)}(yield Rg(i),a,c)})),c.promise}(si(n),e)}function Vg(n,e,t){const i=t.docs.get(e._key),a=new Sc(n);return new Ac(n,a,e._key,i,new Vf(t.hasPendingWrites,t.fromCache),e.converter)}const EC={maxAttempts:5};class IC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hd(e)}set(e,t,i){this._verifyNotCommitted();const a=Fu(e,this._firestore),c=Ry(a.converter,t,i),h=Ey(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,i);return this._mutations.push(h.toMutation(a._key,ri.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const c=Fu(e,this._firestore);let h;return h="string"==typeof(t=(0,Yt.Ku)(t))||t instanceof bc?r0(this._dataReader,"WriteBatch.update",c._key,t,i,a):wy(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fu(e,this._firestore);return this._mutations=this._mutations.concat(new Nl(t._key,ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fu(n,e){if((n=(0,Yt.Ku)(n)).firestore!==e)throw new Xe(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class p0 extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Hd(t)}get(t){const i=Fu(t,this._firestore),a=new dC(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Ct();const h=c[0];if(h.isFoundDocument())return new Og(this._firestore,a,h.key,h,i.converter);if(h.isNoDocument())return new Og(this._firestore,a,i._key,null,i.converter);throw Ct()})}set(t,i,a){const c=Fu(t,this._firestore),h=Ry(c.converter,i,a),g=Ey(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,a);return this._transaction.set(c._key,g),this}update(t,i,a,...c){const h=Fu(t,this._firestore);let g;return g="string"==typeof(i=(0,Yt.Ku)(i))||i instanceof bc?r0(this._dataReader,"Transaction.update",h._key,i,a,c):wy(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,g),this}delete(t){const i=Fu(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fu(e,this._firestore),i=new Sc(this._firestore);return super.get(e).then(a=>new Ac(this._firestore,i,t._key,a._document,new Vf(!1,!1),t.converter))}}!function(e,t=!0){cd=le.SDK_VERSION,(0,le._registerComponent)(new am.uA("firestore",(i,{instanceIdentifier:a,options:c})=>{const h=i.getProvider("app").getImmediate(),g=new Hr(new cM(i.getProvider("auth-internal")),new AA(i.getProvider("app-check-internal")),function(A,x){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new Xe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(A.options.projectId,x)}(h,a),h);return c=Object.assign({useFetchStreams:t},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(jw,"4.6.1",e),(0,le.registerVersion)(jw,"4.6.1","esm2017")}();var Fi=G(6354),Bg=function(){return Bg=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var c in t=arguments[i])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},Bg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var SC={includeMetadataChanges:!1};function NC(n,e){return void 0===e&&(e={}),function T1(n){return function Ny(n,e){return void 0===e&&(e=SC),new Ye.c(function(t){return{unsubscribe:f0(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,Fi.T)(function(e){return e.docs}))}(n).pipe((0,Fi.T)(function(t){return t.map(function(i){return function RC(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?Bg(Bg({},i),((t={})[e.idField]=n.id,t)):i}(i,e)})}))}class jg{constructor(e){return e}}const I0="firestore",ky=new d.nKC("angularfire2.firestore-instances");function VC(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new jg(i)}}const A1={provide:class LC{constructor(){return Zt(I0)}},deps:[[new d.Xx1,ky]]},S1={provide:jg,useFactory:function FC(n,e){const t=function we(n,e,t){if(e){if(1===e.length)return e[0];const c=e.filter(h=>h.app===t);if(1===c.length)return c[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(I0,n,e);return t&&new jg(t)},deps:[[new d.Xx1,ky],mn]};let w0=(()=>{class n{constructor(){(0,le.registerVersion)("angularfire",lt.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({providers:[S1,A1]})}return n})();const jC=Xt(NC,!0),L1=Xt(gy,!0);let zd=(()=>{class n{constructor(){this.firestore=(0,d.WQX)(jg),this.tratteCollection=L1(this.firestore,"tratte")}getTratte(){return jC(this.tratteCollection,{idField:"id"})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["loading-tratta"]],standalone:!0,features:[d.aNF],decls:5,vars:0,consts:[[1,"blog-card","spring-fever"],[1,"title-content"]],template:function(i,a){1&i&&(d.j41(0,"article")(1,"div",0)(2,"div",1)(3,"h3"),d.EFF(4,"Caricamento..."),d.k0s()()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";article[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;margin:auto auto 4rem;font-family:Merienda,cursive;width:500px}.blog-card[_ngcontent-%COMP%]{max-width:475px;width:100%;height:450px;position:relative;font-family:"Droid Serif",serif;color:#fff;top:20%;right:0;left:0;margin:0 auto;overflow:hidden;border-radius:0;box-shadow:0 10px 20px -9px #00000080;text-align:center;background-size:100%;background-color:#96939334}.title-content[_ngcontent-%COMP%]{text-align:center;margin:170px 0 0;position:absolute;z-index:20;width:100%;top:0;left:0}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9em;font-weight:400;letter-spacing:1px;font-family:Abril Fatface,serif;margin-bottom:0;display:inline-block}@keyframes _ngcontent-%COMP%_changeLetter{0%{width:10%}to{width:80%}}']})}return n})();const YC=["*"],C0=(n,e,t,i,a,c)=>({"p-sidebar":!0,"p-sidebar-active":n,"p-sidebar-left":e,"p-sidebar-right":t,"p-sidebar-top":i,"p-sidebar-bottom":a,"p-sidebar-full":c}),vx=(n,e)=>({transform:n,transition:e}),iR=n=>({value:"visible",params:n});function sR(n,e){1&n&&d.eu8(0)}function oR(n,e){if(1&n&&(d.qex(0),d.DNE(1,sR,1,0,"ng-container",5),d.bVm()),2&n){const t=d.XpG(2);d.R7$(),d.Y8G("ngTemplateOutlet",t.headlessTemplate)}}function ZC(n,e){1&n&&d.eu8(0)}function JC(n,e){1&n&&d.nrm(0,"TimesIcon",13),2&n&&(d.Y8G("styleClass","p-sidebar-close-icon"),d.BMQ("data-pc-section","closeicon"))}function aR(n,e){}function eD(n,e){1&n&&d.DNE(0,aR,0,0,"ng-template")}function tD(n,e){if(1&n&&(d.j41(0,"span",14),d.DNE(1,eD,1,0,null,5),d.k0s()),2&n){const t=d.XpG(4);d.BMQ("data-pc-section","closeicon"),d.R7$(),d.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function lR(n,e){if(1&n){const t=d.RV6();d.j41(0,"button",10),d.bIt("click",function(a){d.eBV(t);const c=d.XpG(3);return d.Njj(c.close(a))})("keydown.enter",function(a){d.eBV(t);const c=d.XpG(3);return d.Njj(c.close(a))}),d.DNE(1,JC,1,2,"TimesIcon",11)(2,tD,2,2,"span",12),d.k0s()}if(2&n){const t=d.XpG(3);d.BMQ("aria-label",t.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),d.R7$(),d.Y8G("ngIf",!t.closeIconTemplate),d.R7$(),d.Y8G("ngIf",t.closeIconTemplate)}}function cR(n,e){1&n&&d.eu8(0)}function nD(n,e){1&n&&d.eu8(0)}function uR(n,e){if(1&n&&(d.qex(0),d.j41(1,"div",15),d.DNE(2,nD,1,0,"ng-container",5),d.k0s(),d.bVm()),2&n){const t=d.XpG(3);d.R7$(),d.BMQ("data-pc-section","footer"),d.R7$(),d.Y8G("ngTemplateOutlet",t.footerTemplate)}}function rD(n,e){if(1&n&&(d.j41(0,"div",6),d.DNE(1,ZC,1,0,"ng-container",5)(2,lR,3,5,"button",7),d.k0s(),d.j41(3,"div",8),d.SdG(4),d.DNE(5,cR,1,0,"ng-container",5),d.k0s(),d.DNE(6,uR,3,2,"ng-container",9)),2&n){const t=d.XpG(2);d.BMQ("data-pc-section","header"),d.R7$(),d.Y8G("ngTemplateOutlet",t.headerTemplate),d.R7$(),d.Y8G("ngIf",t.showCloseIcon),d.R7$(),d.BMQ("data-pc-section","content"),d.R7$(2),d.Y8G("ngTemplateOutlet",t.contentTemplate),d.R7$(),d.Y8G("ngIf",t.footerTemplate)}}function iD(n,e){if(1&n){const t=d.RV6();d.j41(0,"div",3,0),d.bIt("@panelState.start",function(a){d.eBV(t);const c=d.XpG();return d.Njj(c.onAnimationStart(a))})("@panelState.done",function(a){d.eBV(t);const c=d.XpG();return d.Njj(c.onAnimationEnd(a))})("keydown",function(a){d.eBV(t);const c=d.XpG();return d.Njj(c.onKeyDown(a))}),d.DNE(2,oR,2,1,"ng-container",4)(3,rD,7,6,"ng-template",null,1,d.C5r),d.k0s()}if(2&n){const t=d.sdS(4),i=d.XpG();d.HbH(i.styleClass),d.Y8G("ngClass",d.l4e(9,C0,i.visible,"left"===i.position&&!i.fullScreen,"right"===i.position&&!i.fullScreen,"top"===i.position&&!i.fullScreen,"bottom"===i.position&&!i.fullScreen,i.fullScreen))("@panelState",d.eq3(19,iR,d.l_i(16,vx,i.transformOptions,i.transitionOptions)))("ngStyle",i.style),d.BMQ("data-pc-name","sidebar")("data-pc-section","root"),d.R7$(2),d.Y8G("ngIf",i.headlessTemplate)("ngIfElse",t)}}const sD=Ot([xn({transform:"{{transform}}",opacity:0}),cr("{{transition}}")]),oD=Ot([cr("{{transition}}",xn({transform:"{{transform}}",opacity:0}))]);let dR=(()=>{class n{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(t){this._visible=t}get position(){return this._position}set position(t){switch(this._position=t,t){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(t){this._fullScreen=t,t&&(this.transformOptions="none")}templates;onShow=new d.bkB;onHide=new d.bkB;visibleChange=new d.bkB;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(t,i,a,c,h){this.document=t,this.el=i,this.renderer=a,this.cd=c,this.config=h}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template}})}onKeyDown(t){"Escape"===t.code&&this.hide(!1)}show(){this.autoZIndex&&Hi.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(t=!0){t&&this.onHide.emit({}),this.modal&&this.disableModality()}close(t){this.hide(),this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(this.container.style.zIndex)-1)),$e.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",t=>{this.dismissible&&this.close(t)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&$e.blockBodyScroll())}disableModality(){this.mask&&($e.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&$e.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(t){"visible"===t.toState&&(this.container=t.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(t){"void"===t.toState&&(this.hide(!1),Hi.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):$e.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"keydown",i=>{27==i.which&&parseInt(this.container.style.zIndex)===Hi.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&Hi.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(i){return new(i||n)(d.rXU(dt.qQ),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(ei))};static \u0275cmp=d.VBU({type:n,selectors:[["p-sidebar"]],contentQueries:function(i,a,c){if(1&i&&d.wni(c,rs,4),2&i){let h;d.mGM(h=d.lsd())&&(a.templates=h)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[d.Mj6.HasDecoratorInputTransform,"blockScroll","blockScroll",d.L39],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[d.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",d.L39],baseZIndex:[d.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",d.Udg],modal:[d.Mj6.HasDecoratorInputTransform,"modal","modal",d.L39],dismissible:[d.Mj6.HasDecoratorInputTransform,"dismissible","dismissible",d.L39],showCloseIcon:[d.Mj6.HasDecoratorInputTransform,"showCloseIcon","showCloseIcon",d.L39],closeOnEscape:[d.Mj6.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",d.L39],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[d.GFd],ngContentSelectors:YC,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(i,a){1&i&&(d.NAR(),d.DNE(0,iD,5,21,"div",2)),2&i&&d.Y8G("ngIf",a.visible)},dependencies:()=>[dt.YU,dt.bT,dt.T3,dt.B3,Ps,xa],styles:["@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}\n"],encapsulation:2,data:{animation:[Yn("panelState",[fr("void => visible",[Zn(sD)]),fr("visible => void",[Zn(oD)])])]},changeDetection:0})}return n})(),hR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD,ra,Ma,xa,Ma]})}return n})(),Ex=(()=>{class n{autofocus=!1;focused=!1;platformId=(0,d.WQX)(d.Agw);document=(0,d.WQX)(dt.qQ);host=(0,d.WQX)(d.aKT);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){(0,dt.UE)(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=$e.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=d.FsC({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[d.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",d.L39]},standalone:!0,features:[d.GFd]})}return n})(),Ix=(()=>{class n extends ko{pathId;ngOnInit(){this.pathId="url(#"+_i()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=d.xGo(n)))(a||n)}})();static \u0275cmp=d.VBU({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[d.Vt3,d.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(d.qSk(),d.j41(0,"svg",0)(1,"g"),d.nrm(2,"path",1),d.k0s(),d.j41(3,"defs")(4,"clipPath",2),d.nrm(5,"rect",3),d.k0s()()()),2&i&&(d.HbH(a.getClassNames()),d.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),d.R7$(),d.BMQ("clip-path",a.pathId),d.R7$(3),d.Y8G("id",a.pathId))},encapsulation:2})}return n})();const wx=["*"],pR=n=>({class:n});function Tx(n,e){1&n&&d.eu8(0)}function bx(n,e){if(1&n&&d.nrm(0,"span",8),2&n){const t=d.XpG(3);d.Y8G("ngClass",t.iconClass()),d.BMQ("aria-hidden",!0)("data-pc-section","loadingicon")}}function Cx(n,e){if(1&n&&d.nrm(0,"SpinnerIcon",9),2&n){const t=d.XpG(3);d.Y8G("styleClass",t.spinnerIconClass())("spin",!0),d.BMQ("aria-hidden",!0)("data-pc-section","loadingicon")}}function Dx(n,e){if(1&n&&(d.qex(0),d.DNE(1,bx,1,3,"span",6)(2,Cx,1,4,"SpinnerIcon",7),d.bVm()),2&n){const t=d.XpG(2);d.R7$(),d.Y8G("ngIf",t.loadingIcon),d.R7$(),d.Y8G("ngIf",!t.loadingIcon)}}function Ax(n,e){}function aD(n,e){if(1&n&&d.DNE(0,Ax,0,0,"ng-template",10),2&n){const t=d.XpG(2);d.Y8G("ngIf",t.loadingIconTemplate)}}function gR(n,e){if(1&n&&(d.qex(0),d.DNE(1,Dx,3,2,"ng-container",2)(2,aD,1,1,null,5),d.bVm()),2&n){const t=d.XpG();d.R7$(),d.Y8G("ngIf",!t.loadingIconTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",d.eq3(3,pR,t.iconClass()))}}function lD(n,e){if(1&n&&d.nrm(0,"span",8),2&n){const t=d.XpG(2);d.Y8G("ngClass",t.iconClass()),d.BMQ("data-pc-section","icon")}}function mR(n,e){}function Hg(n,e){if(1&n&&d.DNE(0,mR,0,0,"ng-template",10),2&n){const t=d.XpG(2);d.Y8G("ngIf",!t.icon&&t.iconTemplate)}}function By(n,e){if(1&n&&(d.qex(0),d.DNE(1,lD,1,2,"span",6)(2,Hg,1,1,null,5),d.bVm()),2&n){const t=d.XpG();d.R7$(),d.Y8G("ngIf",t.icon&&!t.iconTemplate),d.R7$(),d.Y8G("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",d.eq3(3,pR,t.iconClass()))}}function _R(n,e){if(1&n&&(d.j41(0,"span",11),d.EFF(1),d.k0s()),2&n){const t=d.XpG();d.BMQ("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),d.R7$(),d.JRh(t.label)}}function yR(n,e){if(1&n&&(d.j41(0,"span",8),d.EFF(1),d.k0s()),2&n){const t=d.XpG();d.HbH(t.badgeClass),d.Y8G("ngClass",t.badgeStyleClass()),d.BMQ("data-pc-section","badge"),d.R7$(),d.JRh(t.badge)}}const Vu={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let vR=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Vu);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){$e.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const t=[Vu.button,Vu.component];return this.icon&&!this.label&&No.isEmpty(this.htmlElement.textContent)&&t.push(Vu.iconOnly),this.loading&&(t.push(Vu.disabled,Vu.loading),!this.icon&&this.label&&t.push(Vu.labelOnly),this.icon&&!this.label&&!No.isEmpty(this.htmlElement.textContent)&&t.push(Vu.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),"small"===this.size&&t.push("p-button-sm"),"large"===this.size&&t.push("p-button-lg"),t}setStyleClass(){const t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!$e.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!$e.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let a=this.label?"p-button-icon-"+this.iconPos:null;a&&$e.addClass(i,a);let c=this.getIconClass();c&&$e.addMultipleClasses(i,c),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=$e.findSingle(this.htmlElement,".p-button-label");this.label?t?t.textContent=this.label:this.createLabel():t&&this.htmlElement.removeChild(t)}updateIcon(){let t=$e.findSingle(this.htmlElement,".p-button-icon"),i=$e.findSingle(this.htmlElement,".p-button-label");t?t.className=this.iconPos?"p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(d.rXU(d.aKT),d.rXU(dt.qQ))};static \u0275dir=d.FsC({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[d.Mj6.HasDecoratorInputTransform,"raised","raised",d.L39],rounded:[d.Mj6.HasDecoratorInputTransform,"rounded","rounded",d.L39],text:[d.Mj6.HasDecoratorInputTransform,"text","text",d.L39],outlined:[d.Mj6.HasDecoratorInputTransform,"outlined","outlined",d.L39],size:"size",plain:[d.Mj6.HasDecoratorInputTransform,"plain","plain",d.L39]},standalone:!0,features:[d.GFd]})}return n})(),jy=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new d.bkB;onFocus=new d.bkB;onBlur=new d.bkB;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(d.rXU(d.aKT))};static \u0275cmp=d.VBU({type:n,selectors:[["p-button"]],contentQueries:function(i,a,c){if(1&i&&d.wni(c,rs,4),2&i){let h;d.mGM(h=d.lsd())&&(a.templates=h)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,a){2&i&&d.AVh("p-disabled",a.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[d.Mj6.HasDecoratorInputTransform,"disabled","disabled",d.L39],loading:[d.Mj6.HasDecoratorInputTransform,"loading","loading",d.L39],loadingIcon:"loadingIcon",raised:[d.Mj6.HasDecoratorInputTransform,"raised","raised",d.L39],rounded:[d.Mj6.HasDecoratorInputTransform,"rounded","rounded",d.L39],text:[d.Mj6.HasDecoratorInputTransform,"text","text",d.L39],plain:[d.Mj6.HasDecoratorInputTransform,"plain","plain",d.L39],severity:"severity",outlined:[d.Mj6.HasDecoratorInputTransform,"outlined","outlined",d.L39],link:[d.Mj6.HasDecoratorInputTransform,"link","link",d.L39],tabindex:[d.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",d.Udg],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[d.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",d.L39]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:wx,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,a){1&i&&(d.NAR(),d.j41(0,"button",0),d.bIt("click",function(h){return a.onClick.emit(h)})("focus",function(h){return a.onFocus.emit(h)})("blur",function(h){return a.onBlur.emit(h)}),d.SdG(1),d.DNE(2,Tx,1,0,"ng-container",1)(3,gR,3,5,"ng-container",2)(4,By,3,5,"ng-container",2)(5,_R,2,3,"span",3)(6,yR,2,5,"span",4),d.k0s()),2&i&&(d.Y8G("ngStyle",a.style)("disabled",a.disabled||a.loading)("ngClass",a.buttonClass)("autofocus",a.autofocus),d.BMQ("type",a.type)("aria-label",a.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",a.tabindex),d.R7$(2),d.Y8G("ngTemplateOutlet",a.contentTemplate),d.R7$(),d.Y8G("ngIf",a.loading),d.R7$(),d.Y8G("ngIf",!a.loading),d.R7$(),d.Y8G("ngIf",!a.contentTemplate&&a.label),d.R7$(),d.Y8G("ngIf",!a.contentTemplate&&a.badge))},dependencies:[dt.bT,dt.T3,dt.B3,dt.YU,Ps,Ex,Ix],encapsulation:2,changeDetection:0})}return n})(),$f=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[jy,Ma]})}return n})(),ER=(()=>{class n{pFocusTrapDisabled=!1;platformId=(0,d.WQX)(d.Agw);host=(0,d.WQX)(d.aKT);document=(0,d.WQX)(dt.qQ);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){(0,dt.UE)(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&(0,dt.UE)(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){const i=a=>$e.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:a?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){const{currentTarget:i,relatedTarget:a}=t,c=a!==this.lastHiddenFocusableElement&&this.host.nativeElement?.contains(a)?this.lastHiddenFocusableElement:$e.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)");$e.focus(c)}onLastHiddenElementFocus(t){const{currentTarget:i,relatedTarget:a}=t,c=a!==this.firstHiddenFocusableElement&&this.host.nativeElement?.contains(a)?this.firstHiddenFocusableElement:$e.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)");$e.focus(c)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=d.FsC({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[d.Mj6.HasDecoratorInputTransform,"pFocusTrapDisabled","pFocusTrapDisabled",d.L39]},features:[d.GFd,d.OA$]})}return n})(),cD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD]})}return n})(),uD=(()=>{class n extends ko{pathId;ngOnInit(){this.pathId="url(#"+_i()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=d.xGo(n)))(a||n)}})();static \u0275cmp=d.VBU({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[d.Vt3,d.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(d.qSk(),d.j41(0,"svg",0)(1,"g"),d.nrm(2,"path",1),d.k0s(),d.j41(3,"defs")(4,"clipPath",2),d.nrm(5,"rect",3),d.k0s()()()),2&i&&(d.HbH(a.getClassNames()),d.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),d.R7$(),d.BMQ("clip-path",a.pathId),d.R7$(3),d.Y8G("id",a.pathId))},encapsulation:2})}return n})(),dD=(()=>{class n extends ko{pathId;ngOnInit(){this.pathId="url(#"+_i()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=d.xGo(n)))(a||n)}})();static \u0275cmp=d.VBU({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[d.Vt3,d.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(d.qSk(),d.j41(0,"svg",0)(1,"g"),d.nrm(2,"path",1),d.k0s(),d.j41(3,"defs")(4,"clipPath",2),d.nrm(5,"rect",3),d.k0s()()()),2&i&&(d.HbH(a.getClassNames()),d.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),d.R7$(),d.BMQ("clip-path",a.pathId),d.R7$(3),d.Y8G("id",a.pathId))},encapsulation:2})}return n})();const IR=["titlebar"],wR=["content"],TR=["footer"],bR=["*",[["p-header"]],[["p-footer"]]],CR=["*","p-header","p-footer"],DR=(n,e,t,i,a,c,h,g,v,A)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":a,"p-dialog-top-left":c,"p-dialog-top-right":h,"p-dialog-bottom":g,"p-dialog-bottom-left":v,"p-dialog-bottom-right":A}),AR=(n,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),SR=(n,e)=>({transform:n,transition:e}),RR=n=>({value:"visible",params:n}),PR=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),MR=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),hD=()=>({"min-width":0});function D0(n,e){1&n&&d.eu8(0)}function xR(n,e){if(1&n&&(d.qex(0),d.DNE(1,D0,1,0,"ng-container",10),d.bVm()),2&n){const t=d.XpG(3);d.R7$(),d.Y8G("ngTemplateOutlet",t.headlessTemplate)}}function OR(n,e){if(1&n){const t=d.RV6();d.j41(0,"div",15),d.bIt("mousedown",function(a){d.eBV(t);const c=d.XpG(4);return d.Njj(c.initResize(a))}),d.k0s()}}function fD(n,e){if(1&n&&(d.j41(0,"span",21),d.EFF(1),d.k0s()),2&n){const t=d.XpG(5);d.Y8G("id",t.ariaLabelledBy),d.R7$(),d.JRh(t.header)}}function NR(n,e){if(1&n&&(d.j41(0,"span",21),d.SdG(1,1),d.k0s()),2&n){const t=d.XpG(5);d.Y8G("id",t.ariaLabelledBy)}}function pD(n,e){1&n&&d.eu8(0)}function Sx(n,e){if(1&n&&d.nrm(0,"span",25),2&n){const t=d.XpG(6);d.Y8G("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function kR(n,e){1&n&&d.nrm(0,"WindowMaximizeIcon",27),2&n&&d.Y8G("styleClass","p-dialog-header-maximize-icon")}function gD(n,e){1&n&&d.nrm(0,"WindowMinimizeIcon",27),2&n&&d.Y8G("styleClass","p-dialog-header-maximize-icon")}function mD(n,e){if(1&n&&(d.qex(0),d.DNE(1,kR,1,1,"WindowMaximizeIcon",26)(2,gD,1,1,"WindowMinimizeIcon",26),d.bVm()),2&n){const t=d.XpG(6);d.R7$(),d.Y8G("ngIf",!t.maximized&&!t.maximizeIconTemplate),d.R7$(),d.Y8G("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function LR(n,e){}function _D(n,e){1&n&&d.DNE(0,LR,0,0,"ng-template")}function FR(n,e){if(1&n&&(d.qex(0),d.DNE(1,_D,1,0,null,10),d.bVm()),2&n){const t=d.XpG(6);d.R7$(),d.Y8G("ngTemplateOutlet",t.maximizeIconTemplate)}}function A0(n,e){}function S0(n,e){1&n&&d.DNE(0,A0,0,0,"ng-template")}function yD(n,e){if(1&n&&(d.qex(0),d.DNE(1,S0,1,0,null,10),d.bVm()),2&n){const t=d.XpG(6);d.R7$(),d.Y8G("ngTemplateOutlet",t.minimizeIconTemplate)}}function vD(n,e){if(1&n){const t=d.RV6();d.j41(0,"button",22),d.bIt("click",function(){d.eBV(t);const a=d.XpG(5);return d.Njj(a.maximize())})("keydown.enter",function(){d.eBV(t);const a=d.XpG(5);return d.Njj(a.maximize())}),d.DNE(1,Sx,1,1,"span",23)(2,mD,3,2,"ng-container",24)(3,FR,2,1,"ng-container",24)(4,yD,2,1,"ng-container",24),d.k0s()}if(2&n){const t=d.XpG(5);d.Y8G("ngClass",d.lJ4(7,PR)),d.BMQ("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),d.R7$(),d.Y8G("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),d.R7$(),d.Y8G("ngIf",!t.maximizeIcon),d.R7$(),d.Y8G("ngIf",!t.maximized),d.R7$(),d.Y8G("ngIf",t.maximized)}}function R0(n,e){if(1&n&&d.nrm(0,"span",30),2&n){const t=d.XpG(7);d.Y8G("ngClass",t.closeIcon)}}function P0(n,e){1&n&&d.nrm(0,"TimesIcon",27),2&n&&d.Y8G("styleClass","p-dialog-header-close-icon")}function Rx(n,e){if(1&n&&(d.qex(0),d.DNE(1,R0,1,1,"span",29)(2,P0,1,1,"TimesIcon",26),d.bVm()),2&n){const t=d.XpG(6);d.R7$(),d.Y8G("ngIf",t.closeIcon),d.R7$(),d.Y8G("ngIf",!t.closeIcon)}}function ED(n,e){}function VR(n,e){1&n&&d.DNE(0,ED,0,0,"ng-template")}function Px(n,e){if(1&n&&(d.j41(0,"span"),d.DNE(1,VR,1,0,null,10),d.k0s()),2&n){const t=d.XpG(6);d.R7$(),d.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function ID(n,e){if(1&n){const t=d.RV6();d.j41(0,"button",28),d.bIt("click",function(a){d.eBV(t);const c=d.XpG(5);return d.Njj(c.close(a))})("keydown.enter",function(a){d.eBV(t);const c=d.XpG(5);return d.Njj(c.close(a))}),d.DNE(1,Rx,3,2,"ng-container",24)(2,Px,2,1,"span",24),d.k0s()}if(2&n){const t=d.XpG(5);d.Y8G("ngClass",d.lJ4(6,MR))("ngStyle",d.lJ4(7,hD)),d.BMQ("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),d.R7$(),d.Y8G("ngIf",!t.closeIconTemplate),d.R7$(),d.Y8G("ngIf",t.closeIconTemplate)}}function wD(n,e){if(1&n){const t=d.RV6();d.j41(0,"div",16,3),d.bIt("mousedown",function(a){d.eBV(t);const c=d.XpG(4);return d.Njj(c.initDrag(a))}),d.DNE(2,fD,2,2,"span",17)(3,NR,2,1,"span",17)(4,pD,1,0,"ng-container",10),d.j41(5,"div",18),d.DNE(6,vD,5,8,"button",19)(7,ID,3,8,"button",20),d.k0s()()}if(2&n){const t=d.XpG(4);d.R7$(2),d.Y8G("ngIf",!t.headerFacet&&!t.headerTemplate),d.R7$(),d.Y8G("ngIf",t.headerFacet),d.R7$(),d.Y8G("ngTemplateOutlet",t.headerTemplate),d.R7$(2),d.Y8G("ngIf",t.maximizable),d.R7$(),d.Y8G("ngIf",t.closable)}}function Uu(n,e){1&n&&d.eu8(0)}function $y(n,e){1&n&&d.eu8(0)}function Hy(n,e){if(1&n&&(d.j41(0,"div",31,4),d.SdG(2,2),d.DNE(3,$y,1,0,"ng-container",10),d.k0s()),2&n){const t=d.XpG(4);d.R7$(3),d.Y8G("ngTemplateOutlet",t.footerTemplate)}}function UR(n,e){if(1&n&&(d.DNE(0,OR,1,0,"div",11)(1,wD,8,5,"div",12),d.j41(2,"div",13,2),d.SdG(4),d.DNE(5,Uu,1,0,"ng-container",10),d.k0s(),d.DNE(6,Hy,4,1,"div",14)),2&n){const t=d.XpG(3);d.Y8G("ngIf",t.resizable),d.R7$(),d.Y8G("ngIf",t.showHeader),d.R7$(),d.HbH(t.contentStyleClass),d.Y8G("ngClass","p-dialog-content")("ngStyle",t.contentStyle),d.R7$(3),d.Y8G("ngTemplateOutlet",t.contentTemplate),d.R7$(),d.Y8G("ngIf",t.footerFacet||t.footerTemplate)}}function BR(n,e){if(1&n){const t=d.RV6();d.j41(0,"div",8,0),d.bIt("@animation.start",function(a){d.eBV(t);const c=d.XpG(2);return d.Njj(c.onAnimationStart(a))})("@animation.done",function(a){d.eBV(t);const c=d.XpG(2);return d.Njj(c.onAnimationEnd(a))}),d.DNE(2,xR,2,1,"ng-container",9)(3,UR,7,8,"ng-template",null,1,d.C5r),d.k0s()}if(2&n){const t=d.sdS(4),i=d.XpG(2);d.HbH(i.styleClass),d.Y8G("ngClass",d.ziG(10,AR,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",!1===i.focusTrap)("@animation",d.eq3(18,RR,d.l_i(15,SR,i.transformOptions,i.transitionOptions))),d.BMQ("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),d.R7$(2),d.Y8G("ngIf",i.headlessTemplate)("ngIfElse",t)}}function M0(n,e){if(1&n&&(d.j41(0,"div",6),d.DNE(1,BR,5,20,"div",7),d.k0s()),2&n){const t=d.XpG();d.HbH(t.maskStyleClass),d.Y8G("ngStyle",t.maskStyle)("ngClass",d.zJS(5,DR,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),d.R7$(),d.Y8G("ngIf",t.visible)}}const jR=Ot([xn({transform:"{{transform}}",opacity:0}),cr("{{transition}}")]),$R=Ot([cr("{{transition}}",xn({transform:"{{transform}}",opacity:0}))]);let x0=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}onShow=new d.bkB;onHide=new d.bkB;visibleChange=new d.bkB;onResizeInit=new d.bkB;onResizeEnd=new d.bkB;onDragEnd=new d.bkB;onMaximize=new d.bkB;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=_i();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(Oo.ARIA).maximizeLabel}constructor(t,i,a,c,h,g,v){this.document=t,this.platformId=i,this.el=a,this.renderer=c,this.zone=h,this.cd=g,this.config=v,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return null!==this.header?_i()+"_header":null}parseDurationToMilliseconds(t){const i=/([\d\.]+)(ms|s)\b/g;let c,a=0;for(;null!==(c=i.exec(t));){const h=parseFloat(c[1]),g=c[2];"ms"===g?a+=h:"s"===g&&(a+=1e3*h)}if(0!==a)return a}focus(t=this.contentViewChild?.nativeElement){const i=this.parseDurationToMilliseconds(this.transitionOptions);let a=$e.getFocusableElement(t,"[autofocus]");if(a)return void this.zone.runOutsideAngular(()=>{setTimeout(()=>a.focus(),i||5)});const c=$e.getFocusableElement(t);c?this.zone.runOutsideAngular(()=>{setTimeout(()=>c.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&$e.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();const t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&1==t.length&&$e.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?$e.blockBodyScroll():$e.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Hi.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if((0,dt.UE)(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",$e.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                        @media screen and (max-width: ${i}) {\n                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {\n                                width: ${this.breakpoints[i]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){$e.hasClass(t.target,"p-dialog-header-icon")||$e.hasClass(t.target,"p-dialog-header-close-icon")||$e.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",$e.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){const i=$e.getOuterWidth(this.container),a=$e.getOuterHeight(this.container),c=t.pageX-this.lastPageX,h=t.pageY-this.lastPageY,g=this.container.getBoundingClientRect(),v=getComputedStyle(this.container),A=parseFloat(v.marginLeft),x=parseFloat(v.marginTop),L=g.left+c-A,X=g.top+h-x,ee=$e.getViewport();this.container.style.position="fixed",this.keepInViewport?(L>=this.minX&&L+i<ee.width&&(this._style.left=`${L}px`,this.lastPageX=t.pageX,this.container.style.left=`${L}px`),X>=this.minY&&X+a<ee.height&&(this._style.top=`${X}px`,this.lastPageY=t.pageY,this.container.style.top=`${X}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${L}px`,this.lastPageY=t.pageY,this.container.style.top=`${X}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,$e.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,$e.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,a=t.pageY-this.lastPageY,c=$e.getOuterWidth(this.container),h=$e.getOuterHeight(this.container),g=$e.getOuterHeight(this.contentViewChild?.nativeElement),v=c+i,A=h+a,x=this.container.style.minWidth,L=this.container.style.minHeight,X=this.container.getBoundingClientRect(),ee=$e.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(v+=i,A+=a),(!x||v>parseInt(x))&&X.left+v<ee.width&&(this._style.width=v+"px",this.container.style.width=this._style.width),(!L||A>parseInt(L))&&X.top+A<ee.height&&(this.contentViewChild.nativeElement.style.height=g+A-h+"px",this._style.height&&(this._style.height=A+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,$e.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{"Escape"==i.key&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.wrapper):$e.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&$e.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&$e.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&($e.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&$e.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Hi.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(d.rXU(dt.qQ),d.rXU(d.Agw),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.SKi),d.rXU(d.gRc),d.rXU(ei))};static \u0275cmp=d.VBU({type:n,selectors:[["p-dialog"]],contentQueries:function(i,a,c){if(1&i&&(d.wni(c,fl,5),d.wni(c,xo,5),d.wni(c,rs,4)),2&i){let h;d.mGM(h=d.lsd())&&(a.headerFacet=h.first),d.mGM(h=d.lsd())&&(a.footerFacet=h.first),d.mGM(h=d.lsd())&&(a.templates=h)}},viewQuery:function(i,a){if(1&i&&(d.GBs(IR,5),d.GBs(wR,5),d.GBs(TR,5)),2&i){let c;d.mGM(c=d.lsd())&&(a.headerViewChild=c.first),d.mGM(c=d.lsd())&&(a.contentViewChild=c.first),d.mGM(c=d.lsd())&&(a.footerViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[d.Mj6.HasDecoratorInputTransform,"draggable","draggable",d.L39],resizable:[d.Mj6.HasDecoratorInputTransform,"resizable","resizable",d.L39],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[d.Mj6.HasDecoratorInputTransform,"modal","modal",d.L39],closeOnEscape:[d.Mj6.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",d.L39],dismissableMask:[d.Mj6.HasDecoratorInputTransform,"dismissableMask","dismissableMask",d.L39],rtl:[d.Mj6.HasDecoratorInputTransform,"rtl","rtl",d.L39],closable:[d.Mj6.HasDecoratorInputTransform,"closable","closable",d.L39],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[d.Mj6.HasDecoratorInputTransform,"showHeader","showHeader",d.L39],breakpoint:"breakpoint",blockScroll:[d.Mj6.HasDecoratorInputTransform,"blockScroll","blockScroll",d.L39],autoZIndex:[d.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",d.L39],baseZIndex:[d.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",d.Udg],minX:[d.Mj6.HasDecoratorInputTransform,"minX","minX",d.Udg],minY:[d.Mj6.HasDecoratorInputTransform,"minY","minY",d.Udg],focusOnShow:[d.Mj6.HasDecoratorInputTransform,"focusOnShow","focusOnShow",d.L39],maximizable:[d.Mj6.HasDecoratorInputTransform,"maximizable","maximizable",d.L39],keepInViewport:[d.Mj6.HasDecoratorInputTransform,"keepInViewport","keepInViewport",d.L39],focusTrap:[d.Mj6.HasDecoratorInputTransform,"focusTrap","focusTrap",d.L39],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[d.GFd],ngContentSelectors:CR,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,a){1&i&&(d.NAR(bR),d.DNE(0,M0,2,16,"div",5)),2&i&&d.Y8G("ngIf",a.maskVisible)},dependencies:()=>[dt.YU,dt.bT,dt.T3,dt.B3,ER,vR,Ps,xa,uD,dD],styles:["@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}\n"],encapsulation:2,data:{animation:[Yn("animation",[fr("void => visible",[Zn(jR)]),fr("visible => void",[Zn($R)])])]},changeDetection:0})}return n})(),O0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD,cD,$f,ra,xa,uD,dD,Ma]})}return n})(),Mx=(()=>{class n extends ko{pathId;ngOnInit(){this.pathId="url(#"+_i()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=d.xGo(n)))(a||n)}})();static \u0275cmp=d.VBU({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[d.Vt3,d.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(d.qSk(),d.j41(0,"svg",0)(1,"g"),d.nrm(2,"path",1),d.k0s(),d.j41(3,"defs")(4,"clipPath",2),d.nrm(5,"rect",3),d.k0s()()()),2&i&&(d.HbH(a.getClassNames()),d.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),d.R7$(),d.BMQ("clip-path",a.pathId),d.R7$(3),d.Y8G("id",a.pathId))},encapsulation:2})}return n})(),Vx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD,$f,ra,pl,U.iI,Mx,Ma,$f,pl,U.iI]})}return n})();const bD=(n,e)=>e.trattaId,ZR=()=>[G.e(250).then(G.bind(G,5869)).then(n=>n.TrattaCardComponent)],L0=()=>({width:"25rem"});function Ux(n,e){if(1&n&&d.nrm(0,"tratta-card",21),2&n){const t=e.$implicit,i=d.XpG(3);d.Y8G("tratta",t)("activeTab",i.activeTab())}}function JR(n,e){if(1&n&&d.Z7z(0,Ux,1,2,"tratta-card",21,bD),2&n){const t=d.XpG(2);d.Dyx(t.tratteService.tratte())}}function CD(n,e){1&n&&d.nrm(0,"loading-tratta")}function eP(n,e){1&n&&(d.j41(0,"p-tabPanel",8)(1,"div",20),d.DNE(2,JR,2,0)(3,CD,1,0),d.nv$(4,2,ZR,3,null,null,0,null,d.T$4),d.g25(),d.k0s()()),2&n&&d.FS9("header",e.$implicit)}function Bx(n,e){1&n&&(d.j41(0,"span",22),d.EFF(1,"Legenda"),d.k0s())}let jx=(()=>{class n{constructor(){this.tratteService=(0,d.WQX)(Rn),this.firebaseService=(0,d.WQX)(zd),this.activeTab=(0,d.vPA)("treno"),this.sidebarVisible=!1,this.disclaimerVisible=!1,this.tabs=["Treno","Tram","Metro","Tutti"]}ngOnInit(){this.firebaseService.getTratte().subscribe(t=>this.tratteService.tratte.set(t))}onChange(t){this.activeTab.set(this.tabs[t.index].toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-tratte"]],standalone:!0,features:[d.aNF],decls:41,vars:6,consts:[[1e3,null],["id","picture"],[3,"onChange"],[1,"buttons-div"],[2,"background-color","var(--RFI)","width","fit-content","height","fit-content","border-radius","50%"],["type","button","icon","pi pi-info-circle",3,"onClick"],[2,"background-color","white","color","var(--atm)","width","fit-content","height","fit-content","border-radius","50%"],["type","button","icon","pi pi-exclamation-circle",3,"onClick"],[3,"header"],["header","Disclaimer",3,"visibleChange","modal","visible"],["position","bottom",3,"visibleChange","visible"],["pTemplate","header"],[1,"pi","pi-circle-fill",2,"color","var(--RFI)"],["href","https://www.rfi.it/it.html","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--FCE)"],["href","https://www.circumetnea.it/","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--AMAT)"],["href","https://www.amat.pa.it/","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--atm)"],["href","https://www.atmmessinaspa.it/","target","_blank"],[1,"tratte-panel"],[3,"tratta","activeTab"],[1,"font-semibold","text-xl"]],template:function(i,a){1&i&&(d.nrm(0,"div",1),d.j41(1,"p-tabView",2),d.bIt("onChange",function(h){return a.onChange(h)}),d.j41(2,"div",3)(3,"div",4)(4,"p-button",5),d.bIt("onClick",function(){return a.sidebarVisible=!0}),d.k0s()(),d.j41(5,"div",6)(6,"p-button",7),d.bIt("onClick",function(){return a.disclaimerVisible=!0}),d.k0s()()(),d.Z7z(7,eP,6,1,"p-tabPanel",8,d.fX1),d.k0s(),d.j41(9,"p-dialog",9),d.mxI("visibleChange",function(h){return d.DH7(a.disclaimerVisible,h)||(a.disclaimerVisible=h),h}),d.j41(10,"p"),d.EFF(11,"Le canzoni presentate su SpotiRFI sono state scelte esclusivamente sulla base dell'adeguatezza del titolo con il nome delle stazioni ferroviarie. La scelta di una canzone non implica un'approvazione o un'adesione al testo, al significato o a qualsiasi altro aspetto della canzone stessa. Le canzoni sono fornite solo a scopo di intrattenimento e non intendono rappresentare o riflettere le opinioni di SpotiRFI. "),d.k0s()(),d.j41(12,"p-sidebar",10),d.mxI("visibleChange",function(h){return d.DH7(a.sidebarVisible,h)||(a.sidebarVisible=h),h}),d.DNE(13,Bx,2,0,"ng-template",11),d.j41(14,"table")(15,"tr")(16,"td"),d.nrm(17,"span",12),d.k0s(),d.j41(18,"td")(19,"a",13),d.EFF(20,"Rete Ferroviaria Italiana"),d.k0s()()(),d.j41(21,"tr")(22,"td"),d.nrm(23,"span",14),d.k0s(),d.j41(24,"td")(25,"a",15),d.EFF(26,"Ferrovia Circumetnea"),d.k0s()()(),d.j41(27,"tr")(28,"td"),d.nrm(29,"span",16),d.k0s(),d.j41(30,"td")(31,"a",17),d.EFF(32,"Azienda Municipalizzata Auto Trasporti "),d.j41(33,"i"),d.EFF(34,"(Palermo)"),d.k0s()()()(),d.j41(35,"tr")(36,"td"),d.nrm(37,"span",18),d.k0s(),d.j41(38,"td")(39,"a",19),d.EFF(40,"Azienda Trasporti Messina"),d.k0s()()()()()),2&i&&(d.R7$(7),d.Dyx(a.tabs),d.R7$(2),d.Aen(d.lJ4(5,L0)),d.Y8G("modal",!0),d.R50("visible",a.disclaimerVisible),d.R7$(3),d.R50("visible",a.sidebarVisible))},dependencies:[rR,ia,dr,sn,rs,hR,dR,$f,jy,O0,x0,Vx],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";#picture[_ngcontent-%COMP%]{background-image:url(104Agnone-min.b7887179a1f4c43d.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}[_nghost-%COMP%]     .p-tabview .p-tabview-nav, [_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:inherit;color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav{border:none;display:flex;justify-content:center;margin:auto;padding:0;font-size:larger}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:none;background-color:inherit;text-decoration:none;color:inherit;font-family:Merienda,cursive}[_nghost-%COMP%]     .p-highlight{border-bottom:.1em #d62a42 solid;color:#d62a42}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link:hover{background-color:#d62a420a}.tratte-panel[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center}@media screen and (width < 500px){[_nghost-%COMP%]     .p-tabview .p-tabview-nav{justify-content:start}}td[_ngcontent-%COMP%]{font-weight:600}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:currentColor;text-decoration:none}.disclaimer[_ngcontent-%COMP%]{text-decoration:underline;color:#731622;cursor:pointer;font-family:Merienda,cursive;font-weight:700}p[_ngcontent-%COMP%]{font-size:19px;line-height:1.6}.pi-circle-fill[_ngcontent-%COMP%]{font-size:20px;margin:.5em;float:left}[_nghost-%COMP%]     .p-sidebar{height:-moz-fit-content;height:fit-content}[_nghost-%COMP%]     .p-sidebar-header{justify-content:space-between}[_nghost-%COMP%]     .p-button{color:inherit;background-color:inherit;border:none;border-radius:50%}[_ngcontent-%COMP%]:is()   .pi[_ngcontent-%COMP%]{font-size:24px;font-weight:600}[_nghost-%COMP%]     .p-button:focus{box-shadow:none}[_nghost-%COMP%]     .p-dialog-content{text-align:justify}.buttons-div[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:-moz-fit-content;width:fit-content;z-index:1000;display:flex;flex-flow:row nowrap;justify-content:space-between}.buttons-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.buttons-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 2px #000}']})}return n})(),$x=(()=>{class n{openEasterEgg(){window.open("https://github.com/chiaraferrara","_blank")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-chisiamo"]],standalone:!0,features:[d.aNF],decls:17,vars:0,consts:[["id","picture"],["id","content"],[1,"mb-4"],["href","https://www.instagram.com/explore/tags/ferrosessuale/top/","target","_blank","id","ferrosex"],[3,"click"],["href","https://github.com/gianmarco2307","mat-button","","target","_blank","id","GitHub"],["src","assets/github-mark.png","id","githubLogo"]],template:function(i,a){1&i&&(d.nrm(0,"div",0),d.j41(1,"div",1)(2,"h2"),d.EFF(3,"Chi Sono"),d.k0s(),d.j41(4,"p",2),d.EFF(5," Sono un appassionato di viaggi e di musica, con un "),d.j41(6,"a",3),d.EFF(7,"amore particolare per le ferrovie"),d.k0s(),d.EFF(8," . La passione per l'esplorazione e la scoperta mi ha portato a creare SpotiRFI, un progetto unico che unisce la bellezza del viaggio in treno con il potere evocativo della musica. Ogni stazione ferroviaria sulla mappa diventa una tappa di un viaggio musicale attraverso la Sicilia, offrendo un'esperienza unica che spero possa arricchire i vostri viaggi tanto quanto ha arricchito i miei. "),d.k0s(),d.nrm(9,"br"),d.j41(10,"p"),d.EFF(11," Se vuoi passa dal "),d.j41(12,"span",4),d.bIt("click",function(){return a.openEasterEgg()}),d.EFF(13,"mio "),d.k0s(),d.j41(14,"a",5),d.nrm(15,"img",6),d.EFF(16,"GitHub"),d.k0s()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#picture[_ngcontent-%COMP%]{background-image:url(PMAgnone-min.60f5992de05385e1.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}h2[_ngcontent-%COMP%]{margin-top:2em;font-family:Merienda,cursive;font-weight:bolder}#content[_ngcontent-%COMP%]{max-width:58em;text-align:justify;margin:0 auto;padding:2em;font-size:18px;font-family:Merienda,cursive;line-height:1.7}#ferrosex[_ngcontent-%COMP%]{text-decoration:none;color:#000}#ferrosex[_ngcontent-%COMP%]:hover{color:#393939}#GitHub[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-weight:700}#githubLogo[_ngcontent-%COMP%]{height:24px;margin-right:10px}']})}return n})(),DD=(()=>{class n{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=d.VBU({type:n,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(i,a){1&i&&(d.j41(0,"div",0),d.qSk(),d.j41(1,"svg",1),d.nrm(2,"circle",2),d.k0s()()),2&i&&(d.Y8G("ngStyle",a.style)("ngClass",a.styleClass),d.BMQ("aria-label",a.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),d.R7$(),d.xc7("animation-duration",a.animationDuration),d.BMQ("data-pc-section","root"),d.R7$(),d.BMQ("fill",a.fill)("stroke-width",a.strokeWidth))},dependencies:[dt.YU,dt.B3],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return n})(),AD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD]})}return n})(),tP=(()=>{class n{constructor(){this.apiUrl="https://iechub.rfi.it/ArriviPartenze/ArrivalsDepartures/Monitor?placeId="}getArrivals(t){window.open(`${this.apiUrl}${t}&arrivals=True`,"_blank")}getDepartures(t){window.open(`${this.apiUrl}${t}&arrivals=False`,"_blank")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nP=()=>({width:"25rem"});function Hx(n,e){1&n&&(d.j41(0,"div",0),d.nrm(1,"p-progressSpinner",5),d.k0s())}function zx(n,e){if(1&n){const t=d.RV6();d.j41(0,"li",11),d.bIt("click",function(){const a=d.eBV(t).$implicit,c=d.XpG(3);return d.Njj(c.stationToModal(a,c.tratta().gestore,c.tratta().note))}),d.EFF(1),d.k0s()}if(2&n){const t=e.$implicit;d.R7$(),d.SpI(" ",t.station," ")}}function Wx(n,e){if(1&n&&(d.j41(0,"div",6)(1,"div",7),d.nrm(2,"iframe",8),d.k0s(),d.j41(3,"div",9)(4,"ul"),d.Z7z(5,zx,2,1,"li",10,d.fX1),d.k0s()()()),2&n){const t=d.XpG(2);d.R7$(2),d.Y8G("src",t.sanitizedSrc,d.f$h),d.R7$(3),d.Dyx(t.tratta().stations)}}function Gx(n,e){if(1&n&&(d.j41(0,"div",1),d.DNE(1,Wx,7,1,"div",6),d.k0s()),2&n){const t=d.XpG();d.R7$(),d.vxM(1,t.tratta().trattaId==t.id()?1:-1)}}function qx(n,e){if(1&n){const t=d.RV6();d.j41(0,"div",3)(1,"p-button",12),d.bIt("onClick",function(){d.eBV(t);const a=d.XpG();return d.Njj(a.openArrivals())}),d.k0s(),d.j41(2,"p-button",13),d.bIt("onClick",function(){d.eBV(t);const a=d.XpG();return d.Njj(a.openDepartures())}),d.k0s()()}}function SD(n,e){if(1&n){const t=d.RV6();d.j41(0,"p-button",14),d.bIt("onClick",function(){d.eBV(t);const a=d.XpG();return d.Njj(a.openMaps())}),d.k0s()}}let Wy=(()=>{class n{constructor(t,i,a,c){this.route=t,this.sanitizer=i,this.router=a,this.monitor=c,this.tratteService=(0,d.WQX)(Rn),this.firebaseService=(0,d.WQX)(zd),this.loading=!0,this.id=(0,d.vPA)(""),this.tratta=(0,d.vPA)({}),this.actualStation=(0,d.vPA)({}),this.actualManager=(0,d.vPA)(""),this.actualLine=(0,d.vPA)(""),this.modalHeader=(0,d.EWP)(()=>`Stazione di ${this.actualStation().station}`),this.visible=!1}ngOnInit(){this.id.set(this.route.snapshot.paramMap.get("id")),this.firebaseService.getTratte().subscribe(t=>{this.loading=!0,this.tratta.set(t.find(i=>i.trattaId==this.id())),void 0!==this.tratta()?this.sanitizedSrc=this.sanitizer.bypassSecurityTrustResourceUrl(this.tratta().src):this.router.navigate([`/${this.id()}`]),this.loading=!1})}stationToModal(t,i,a){this.actualStation.set(t),this.actualManager.set(i),this.actualLine.set(a),this.visible=!0}openMaps(){let t,i;i="AMAT"==this.actualManager()?`fermata ${this.actualManager()} tram ${this.actualManager()} di ${this.actualStation().station} Palermo`:"atm"==this.actualManager()?`fermata ${this.actualManager()} tram ${this.actualLine()} di ${this.actualStation().station} Messina`:`stazione ${this.actualManager()} di ${this.actualStation().station}`,t="https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(i),window.open(t,"_blank")}openArrivals(){this.monitor.getArrivals(this.actualStation().stationId)}openDepartures(){this.monitor.getDepartures(this.actualStation().stationId)}static#e=this.\u0275fac=function(i){return new(i||n)(d.rXU(U.nX),d.rXU(R.up),d.rXU(U.Ix),d.rXU(tP))};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-playlist-page"]],standalone:!0,features:[d.aNF],decls:5,vars:9,consts:[[2,"width","fit-content","margin","7em auto"],[1,"tratta-container"],[3,"visibleChange","header","modal","visible"],[1,"modal-content"],["pTemplate","footer"],["ariaLabel","loading"],[1,"tratta-incontainer"],[1,"iframe"],["width","98%","height","500","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px","position","sticky","top","4em",3,"src"],[1,"line"],["data-bs-toggle","modal","data-bs-target","#exampleModal"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click"],["label","Arrivi","icon","pi pi-external-link",3,"onClick"],["label","Partenze","icon","pi pi-external-link",3,"onClick"],["label","Apri su Maps","icon","pi pi-map-marker",3,"onClick"]],template:function(i,a){1&i&&(d.DNE(0,Hx,2,0,"div",0)(1,Gx,2,1,"div",1),d.j41(2,"p-dialog",2),d.mxI("visibleChange",function(h){return d.DH7(a.visible,h)||(a.visible=h),h}),d.DNE(3,qx,3,0,"div",3)(4,SD,1,0,"ng-template",4),d.k0s()),2&i&&(d.vxM(0,a.loading?0:-1),d.R7$(),d.vxM(1,a.tratta()&&a.sanitizedSrc?1:-1),d.R7$(),d.Aen(d.lJ4(8,nP)),d.Y8G("header",a.modalHeader())("modal",!0),d.R50("visible",a.visible),d.R7$(),d.vxM(3,"RFI"===a.tratta().gestore?3:-1))},dependencies:[AD,DD,$f,jy,rs,O0,x0],styles:['@import"https://fonts.cdnfonts.com/css/futura-std-4";.tratta-container[_ngcontent-%COMP%]{width:100%;margin-bottom:4em;margin-top:6em}.tratta-incontainer[_ngcontent-%COMP%]{font-family:Futura Std,sans-serif;font-weight:700;font-size:x-large;display:flex;flex-flow:row-reverse wrap}.iframe[_ngcontent-%COMP%]{flex:1;text-align:center}.line[_ngcontent-%COMP%]{flex:1}.map[_ngcontent-%COMP%]{display:block;margin:auto;width:75%;height:auto}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:auto;width:max-content}li[_ngcontent-%COMP%]:before{content:"";border-radius:50%;width:.625em;height:.625em;background:red;display:inline-block;margin-right:.625em}li[_ngcontent-%COMP%]{margin:.625em 0;position:relative;cursor:pointer}li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:.125em;height:calc(100% + .625em);background:red;left:.25em;top:.625em}li[_ngcontent-%COMP%]:first-child:after{top:.625em}li[_ngcontent-%COMP%]:last-child:after{height:0}.modal-content[_ngcontent-%COMP%]{width:100%;padding:1em;display:flex;flex-flow:row wrap;justify-content:space-around}[_nghost-%COMP%]     .p-dialog-content .p-button{width:150px}[_nghost-%COMP%]     .p-dialog-content .p-button, [_nghost-%COMP%]     .p-dialog-footer .p-button{background-color:var(--RFI);border-radius:6px;border-color:var(--RFI)}[_nghost-%COMP%]     .p-dialog-content .p-button:focus, [_nghost-%COMP%]     .p-dialog-footer .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--RFI),0 1px 2px #000}@media screen and (280px < width < 768px){.tratta-incontainer[_ngcontent-%COMP%]{flex-direction:column}}@media screen and (width < 415px){.modal-content[_ngcontent-%COMP%]{flex-flow:column nowrap;text-align:center}[_nghost-%COMP%]     .p-dialog-content .p-button, [_nghost-%COMP%]     .p-dialog-footer .p-button{margin:.5em auto}}@media screen and (width < 281px){.tratta-incontainer[_ngcontent-%COMP%]{flex-direction:column}}']})}return n})(),rP=(()=>{class n{constructor(t){this.path="";let i=t.path().split("/");this.path=i[1].toUpperCase()}static#e=this.\u0275fac=function(i){return new(i||n)(d.rXU(dt.aZ))};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-tabellone"]],standalone:!0,features:[d.aNF],decls:50,vars:1,consts:[["href",d.wXG`https://fonts.cdnfonts.com/css/caros`,"rel","stylesheet"],[1,"background"],[1,"riga"],[1,"binario"],[1,"destinazione"],[1,"pdest"],[1,"treno"],[1,"ptreno"],[1,"partenza"],[1,"ppart"],[1,"info"],[1,"pinfo"]],template:function(i,a){1&i&&(d.nrm(0,"link",0),d.j41(1,"div",1),d.nrm(2,"br"),d.j41(3,"div",2)(4,"div",3)(5,"h2")(6,"b"),d.EFF(7,"1"),d.k0s()()(),d.j41(8,"div",4)(9,"p")(10,"b"),d.EFF(11,"destinazione "),d.k0s(),d.j41(12,"i"),d.EFF(13,"destination"),d.k0s()(),d.j41(14,"div",5)(15,"h4"),d.EFF(16),d.k0s()()()(),d.nrm(17,"br"),d.j41(18,"div",2)(19,"div",6)(20,"p")(21,"b"),d.EFF(22,"treno "),d.k0s(),d.j41(23,"i"),d.EFF(24,"train"),d.k0s()(),d.j41(25,"div",7)(26,"h4"),d.EFF(27,"SPOTIRFI"),d.k0s(),d.j41(28,"h5"),d.EFF(29,"REG 21886"),d.k0s()()(),d.j41(30,"div",8)(31,"p")(32,"b"),d.EFF(33,"partenza "),d.k0s(),d.j41(34,"i"),d.EFF(35,"departure"),d.k0s()(),d.j41(36,"div",9)(37,"h4"),d.EFF(38,"CANCELLATO"),d.k0s()()()(),d.nrm(39,"br"),d.j41(40,"div",2)(41,"div",10)(42,"p")(43,"b"),d.EFF(44,"informazioni "),d.k0s(),d.j41(45,"i"),d.EFF(46,"informations"),d.k0s()(),d.j41(47,"div",11)(48,"h4"),d.EFF(49,"E' SEVERAMENTE VIETATO ATTRAVERSARE LA LINEA GIALLA"),d.k0s()()()()()),2&i&&(d.R7$(16),d.JRh(a.path))},styles:['@import"https://fonts.cdnfonts.com/css/caros";.background[_ngcontent-%COMP%]{width:40em;height:20.35em;background-color:#000;margin:auto}.riga[_ngcontent-%COMP%]{border-top:.1em white solid;width:38em;margin:0 1em}.binario[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}h2[_ngcontent-%COMP%]{font-size:5em}.destinazione[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.destinazione[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pdest[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 20s linear infinite}.pdest[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em;overflow:hidden}.treno[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}.treno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ptreno[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:10.99em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ptreno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;margin-left:.2em;margin-bottom:.1em}.ptreno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1em;margin-left:.2em}.partenza[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.partenza[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ppart[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ppart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em}.info[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pinfo[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:38em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite;overflow:hidden}.pinfo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8em;white-space:nowrap;position:relative;animation:_ngcontent-%COMP%_scroll-left 20s linear infinite}@keyframes _ngcontent-%COMP%_lighting{0%{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}to{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(100%)}to{transform:translate(-100%)}}']})}return n})();const RD=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:qc},{path:"tratte",component:jx},{path:"tratte/:id",component:Wy},{path:"chisono",component:$x},{path:"**",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-notfound"]],standalone:!0,features:[d.aNF],decls:6,vars:0,consts:[["controls","","autoplay",""],["src","assets/404.mp3","type","audio/mpeg"]],template:function(i,a){1&i&&(d.j41(0,"article"),d.nrm(1,"app-tabellone"),d.k0s(),d.j41(2,"article")(3,"audio",0),d.nrm(4,"source",1),d.EFF(5," Il tuo browser non supporta l'elemento audio. "),d.k0s()())},dependencies:[rP],styles:["article[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;margin:6em;font-family:Merienda,cursive}"]})}return n})()}],Gd_firebaseConfig={apiKey:"AIzaSyBhT4vrImMOpXLps9RtD_GROoPflfGtM4U",authDomain:"spotirfi-cd7a9.firebaseapp.com",databaseURL:"https://spotirfi-cd7a9-default-rtdb.firebaseio.com",projectId:"spotirfi-cd7a9",storageBucket:"spotirfi-cd7a9.appspot.com",messagingSenderId:"207743558815",appId:"1:207743558815:web:1d28c36da0a303fca7eeaa",measurementId:"G-8Z6DVSWE34"};var Rc=G(7673),jl=G(8455),F0=G(274),Gy=G(5964),V0=G(980),Ha=G(5558);class qd{}class U0{}class za{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const a=t.slice(0,i),c=a.toLowerCase(),h=t.slice(i+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof za?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new za;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof za?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const a=("a"===e.op?this.headers.get(t):void 0)||[];a.push(...i),this.headers.set(t,a);break;case"d":const c=e.value;if(c){let h=this.headers.get(t);if(!h)return;h=h.filter(g=>-1===c.indexOf(g)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(c=>c.toString()),a=e.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(e,a)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PD{encodeKey(e){return MD(e)}encodeValue(e){return MD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sP=/%(\d[a-f0-9])/gi,oP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MD(n){return encodeURIComponent(n).replace(sP,(e,t)=>oP[t]??e)}function zg(n){return`${n}`}class Pc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PD,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function iP(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[h,g]=-1==c?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,c)),e.decodeValue(a.slice(c+1))],v=t.get(h)||[];v.push(g),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],a=Array.isArray(i)?i.map(zg):[zg(i)];this.map.set(t,a)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const a=e[i];Array.isArray(a)?a.forEach(c=>{t.push({param:i,value:c,op:"a"})}):t.push({param:i,value:a,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(zg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const a=i.indexOf(zg(e.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function B0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qy(n){return typeof Blob<"u"&&n instanceof Blob}function uP(n){return typeof FormData<"u"&&n instanceof FormData}class Kd{constructor(e,t,i,a){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,c=a):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new za,this.context??=new lP,this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+h}}else this.params=new Pc,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||B0(this.body)||qy(this.body)||uP(this.body)||function xD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Pc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uP(this.body)?null:qy(this.body)?this.body.type||null:B0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=e.transferCache??this.transferCache,h=void 0!==e.body?e.body:this.body,g=e.withCredentials??this.withCredentials,v=e.reportProgress??this.reportProgress;let A=e.headers||this.headers,x=e.params||this.params;const L=e.context??this.context;return void 0!==e.setHeaders&&(A=Object.keys(e.setHeaders).reduce((X,ee)=>X.set(ee,e.setHeaders[ee]),A)),e.setParams&&(x=Object.keys(e.setParams).reduce((X,ee)=>X.set(ee,e.setParams[ee]),x)),new Kd(t,i,h,{params:x,headers:A,context:L,reportProgress:v,responseType:a,withCredentials:g,transferCache:c})}}var Bu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Bu||{});class j0{constructor(e,t=Ky.Ok,i="OK"){this.headers=e.headers||new za,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $0 extends j0{constructor(e={}){super(e),this.type=Bu.ResponseHeader}clone(e={}){return new $0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Hf extends j0{constructor(e={}){super(e),this.type=Bu.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Hf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Wg extends j0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var Ky=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Ky||{});function OD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let Yi=(()=>{class n{constructor(t){this.handler=t}request(t,i,a={}){let c;if(t instanceof Kd)c=t;else{let v,A;v=a.headers instanceof za?a.headers:new za(a.headers),a.params&&(A=a.params instanceof Pc?a.params:new Pc({fromObject:a.params})),c=new Kd(t,i,void 0!==a.body?a.body:null,{headers:v,context:a.context,params:A,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}const h=(0,Rc.of)(c).pipe((0,F0.H)(v=>this.handler.handle(v)));if(t instanceof Kd||"events"===a.observe)return h;const g=h.pipe((0,Gy.p)(v=>v instanceof Hf));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe((0,Fi.T)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,Fi.T)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,Fi.T)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,Fi.T)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Pc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,a={}){return this.request("PATCH",t,OD(a,i))}post(t,i,a={}){return this.request("POST",t,OD(a,i))}put(t,i,a={}){return this.request("PUT",t,OD(a,i))}static#e=this.\u0275fac=function(i){return new(i||n)(d.KVO(qd))};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}return n})();function dP(n,e){return e(n)}const zf=new d.nKC(""),W0=new d.nKC(""),G0=new d.nKC("");let kD=(()=>{class n extends qd{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,d.WQX)(d.TgB);const a=(0,d.WQX)(G0,{optional:!0});this.backend=a??t}handle(t){if(null===this.chain){const a=Array.from(new Set([...this.injector.get(zf),...this.injector.get(W0,[])]));this.chain=a.reduceRight((c,h)=>function hP(n,e,t){return(i,a)=>(0,d.N4e)(t,()=>e(i,c=>n(c,a)))}(c,h,this.injector),dP)}const i=this.pendingTasks.add();return this.chain(t,a=>this.backend.handle(a)).pipe((0,V0.j)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(d.KVO(U0),d.KVO(d.uvJ))};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}return n})();const FD=/^\)\]\}',?\n/;let vP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new d.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,jl.H)(i.\u0275loadImpl()):(0,Rc.of)(null)).pipe((0,Ha.n)(()=>new Ye.c(c=>{const h=i.build();if(h.open(t.method,t.urlWithParams),t.withCredentials&&(h.withCredentials=!0),t.headers.forEach((pe,Ae)=>h.setRequestHeader(pe,Ae.join(","))),t.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const pe=t.detectContentTypeHeader();null!==pe&&h.setRequestHeader("Content-Type",pe)}if(t.responseType){const pe=t.responseType.toLowerCase();h.responseType="json"!==pe?pe:"text"}const g=t.serializeBody();let v=null;const A=()=>{if(null!==v)return v;const pe=h.statusText||"OK",Ae=new za(h.getAllResponseHeaders()),nt=function VD(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(h)||t.url;return v=new $0({headers:Ae,status:h.status,statusText:pe,url:nt}),v},x=()=>{let{headers:pe,status:Ae,statusText:nt,url:pt}=A(),Qe=null;Ae!==Ky.NoContent&&(Qe=typeof h.response>"u"?h.responseText:h.response),0===Ae&&(Ae=Qe?Ky.Ok:0);let vt=Ae>=200&&Ae<300;if("json"===t.responseType&&"string"==typeof Qe){const nn=Qe;Qe=Qe.replace(FD,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(un){Qe=nn,vt&&(vt=!1,Qe={error:un,text:Qe})}}vt?(c.next(new Hf({body:Qe,headers:pe,status:Ae,statusText:nt,url:pt||void 0})),c.complete()):c.error(new Wg({error:Qe,headers:pe,status:Ae,statusText:nt,url:pt||void 0}))},L=pe=>{const{url:Ae}=A(),nt=new Wg({error:pe,status:h.status||0,statusText:h.statusText||"Unknown Error",url:Ae||void 0});c.error(nt)};let X=!1;const ee=pe=>{X||(c.next(A()),X=!0);let Ae={type:Bu.DownloadProgress,loaded:pe.loaded};pe.lengthComputable&&(Ae.total=pe.total),"text"===t.responseType&&h.responseText&&(Ae.partialText=h.responseText),c.next(Ae)},de=pe=>{let Ae={type:Bu.UploadProgress,loaded:pe.loaded};pe.lengthComputable&&(Ae.total=pe.total),c.next(Ae)};return h.addEventListener("load",x),h.addEventListener("error",L),h.addEventListener("timeout",L),h.addEventListener("abort",L),t.reportProgress&&(h.addEventListener("progress",ee),null!==g&&h.upload&&h.upload.addEventListener("progress",de)),h.send(g),c.next({type:Bu.Sent}),()=>{h.removeEventListener("error",L),h.removeEventListener("abort",L),h.removeEventListener("load",x),h.removeEventListener("timeout",L),t.reportProgress&&(h.removeEventListener("progress",ee),null!==g&&h.upload&&h.upload.removeEventListener("progress",de)),h.readyState!==h.DONE&&h.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(d.KVO(dt.N0))};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}return n})();const Qg=new d.nKC(""),EP=new d.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),UD=new d.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class IP{}let wP=(()=>{class n{constructor(t,i,a){this.doc=t,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,dt._b)(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(d.KVO(dt.qQ),d.KVO(d.Agw),d.KVO(EP))};static#t=this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac})}return n})();function TP(n,e){const t=n.url.toLowerCase();if(!(0,d.WQX)(Qg)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,d.WQX)(IP).getToken(),a=(0,d.WQX)(UD);return null!=i&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,i)})),e(n)}const WD={providers:[(0,U.lh)(RD),function Rt(){return(0,d.ngT)("NgEagerAnimations"),[...Br]}(),function tO(...n){const e=[Yi,vP,kD,{provide:qd,useExisting:kD},{provide:U0,useExisting:vP},{provide:zf,useValue:TP,multi:!0},{provide:Qg,useValue:!0},{provide:IP,useClass:wP}];for(const t of n)e.push(...t.\u0275providers);return(0,d.EmA)(e)}(),(0,d.oKB)([function Ur(n,...e){return{ngModule:Xn,providers:[{provide:En,useFactory:Or(n),multi:!0,deps:[d.SKi,d.zZn,oi,...e]}]}}(()=>fi(Gd_firebaseConfig)),function Ly(n,...e){return{ngModule:w0,providers:[{provide:ky,useFactory:VC(n),multi:!0,deps:[d.SKi,d.zZn,oi,At,[new d.Xx1,is],[new d.Xx1,Lt],...e]}]}}(()=>function _y(n,e){const t="object"==typeof n?n:(0,le.getApp)(),i="string"==typeof n?n:e||"(default)",a=(0,le._getProvider)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=(0,Yt.yU)("firestore");c&&KI(a,...c)}return a}())])]};let cO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-navbar"]],standalone:!0,features:[d.aNF],decls:20,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body","fixed-top"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["src","assets/nuovologocompatto.png","alt","Logo","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","tratte",1,"nav-link"],["routerLink","chisono",1,"nav-link"],["href","https://www.rfi.it/it.html","target","_blank",1,"nav-link"],["href","https://open.spotify.com/intl-it","target","_blank",1,"nav-link"]],template:function(i,a){1&i&&(d.j41(0,"nav",0)(1,"div",1)(2,"a",2),d.nrm(3,"img",3),d.k0s(),d.j41(4,"button",4),d.nrm(5,"span",5),d.k0s(),d.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),d.EFF(10,"Le tratte"),d.k0s()(),d.j41(11,"li",8)(12,"a",10),d.EFF(13,"Chi sono"),d.k0s()(),d.j41(14,"li",8)(15,"a",11),d.EFF(16," RFI "),d.k0s()(),d.j41(17,"li",8)(18,"a",12),d.EFF(19," Spotify "),d.k0s()()()()()())},dependencies:[U.Wk],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#shareButton[_ngcontent-%COMP%]{color:transparent;background-color:transparent;border:transparent;float:right}nav[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px}']})}return n})(),Jy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({imports:[dt.MD]})}return n})();const GD=()=>({width:"50vw"}),qD=()=>({"1199px":"75vw","575px":"90vw"});let NP=(()=>{class n{constructor(){this.visible=!1}showDialog(){this.visible=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-disclaimer-dialog"]],standalone:!0,features:[d.aNF],decls:4,vars:9,consts:[["icon","pi pi-info-circle",3,"onClick"],["header","Disclaimer",3,"visibleChange","visible","modal","breakpoints","draggable","resizable"]],template:function(i,a){1&i&&(d.j41(0,"p-button",0),d.bIt("onClick",function(){return a.showDialog()}),d.k0s(),d.j41(1,"p-dialog",1),d.mxI("visibleChange",function(h){return d.DH7(a.visible,h)||(a.visible=h),h}),d.j41(2,"p"),d.EFF(3," SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti. "),d.k0s()()),2&i&&(d.R7$(),d.Aen(d.lJ4(7,GD)),d.R50("visible",a.visible),d.Y8G("modal",!0)("breakpoints",d.lJ4(8,qD))("draggable",!1)("resizable",!1))},dependencies:[O0,x0,$f,jy,Jy],styles:["[_nghost-%COMP%]     .p-button.p-button-icon-only{background-color:transparent;border-color:transparent}"]})}return n})(),kP=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-footer"]],standalone:!0,features:[d.aNF],decls:64,vars:0,consts:[["rel","stylesheet","href",d.wXG`https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200`],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body"],[1,"layout"],[1,"footer-wrapper","clearfix"],[1,"grid-3","footer-logo"],["href","#"],["alt","html layout logo","src","assets/logo.png"],[1,"footer-text"],[1,"grid-3"],[1,"footer-heading"],[1,"footermenu"],["routerLink","tratte"],["routerLink","chisono"],["href","https://www.rfi.it/it.html","target","_blank"],["href","https://open.spotify.com/intl-it","target","_blank"],[1,"footer-contact"],["href","./tratte/PalermoMessina"],["href","./tratte/AnelloPalermo"],["href","./tratte/AgrigentoPalermo"],["href","./tratte/SiracusaCaltanissetta"],["href","./tratte/CataniaGela"],[1,"footerblog"],["href","https://www.fsitaliane.it/content/dam/fsitaliane/Documents/impegno/per-lambiente/progetti/Atlante%20delle%20linee%20ferroviarie%20dismesse.pdf","target","_blank"],["href","https://epodweb.rfi.it/Download.ashx?q=lTmHEqG6%2FeC61zq42ZZheV8ouJSzS%2B5udsN2POFdeD4hdoONi5u5MvreFVXiIbvj","target","_blank"],["href","https://www.rfi.it/it/chi-siamo/Il-rapporto-con-lo-Stato-e-con-gli-stakeholder/il-piano-commerciale.html","target","_blank"]],template:function(i,a){1&i&&(d.nrm(0,"link",0),d.j41(1,"footer",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),d.nrm(6,"img",6),d.k0s(),d.j41(7,"p",7),d.EFF(8," SpotiRFI: Un viaggio musicale unico attraverso le linee ferroviarie della Sicilia. Ogni stazione, una nuova canzone. "),d.k0s(),d.nrm(9,"app-disclaimer-dialog"),d.k0s(),d.j41(10,"div",8)(11,"p",9),d.EFF(12,"pagine"),d.k0s(),d.j41(13,"ul",10)(14,"li")(15,"a",11),d.EFF(16,"Le tratte"),d.k0s()(),d.j41(17,"li")(18,"a",12),d.EFF(19,"Chi sono"),d.k0s()(),d.j41(20,"li")(21,"a",13),d.EFF(22,"RFI"),d.k0s()(),d.j41(23,"li")(24,"a",14),d.EFF(25,"Spotify"),d.k0s()()()(),d.j41(26,"div",8)(27,"p",9),d.EFF(28,"link"),d.k0s(),d.j41(29,"ul",15)(30,"li")(31,"a",16),d.EFF(32,"Palermo - Messina"),d.k0s()(),d.j41(33,"li")(34,"a",17),d.EFF(35,"Anello Ferroviario Palermo"),d.k0s()(),d.j41(36,"li")(37,"a",18),d.EFF(38,"Agrigento - Palermo"),d.k0s()(),d.j41(39,"li")(40,"a",19),d.EFF(41,"Siracusa - Caltanissetta"),d.k0s()(),d.j41(42,"li")(43,"a",20),d.EFF(44,"Catania - Gela"),d.k0s()()()(),d.j41(45,"div",8)(46,"p",9),d.EFF(47,"link utili"),d.k0s(),d.j41(48,"ul",21)(49,"li")(50,"a",22),d.EFF(51,"Linee dismesse"),d.k0s(),d.j41(52,"p"),d.EFF(53,"FS Italiane"),d.k0s()(),d.j41(54,"li")(55,"a",23),d.EFF(56,"Regolamento Circolazione Treni"),d.k0s(),d.j41(57,"p"),d.EFF(58,"RFI"),d.k0s()(),d.j41(59,"li")(60,"a",24),d.EFF(61,"Piano Commerciale"),d.k0s(),d.j41(62,"p"),d.EFF(63,"RFI"),d.k0s()()()()()()())},dependencies:[U.Wk,NP],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%]{list-style:none;text-decoration:none;margin:0}img[_ngcontent-%COMP%]{height:3.7em}html[_ngcontent-%COMP%]{overflow-y:scroll}body[_ngcontent-%COMP%]{background:#b7b7b7 none repeat scroll 0 0;font-family:Open Sans,sans-serif}ul[_ngcontent-%COMP%]{padding:0}.clearfix[_ngcontent-%COMP%]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.clearfix[_ngcontent-%COMP%]{display:inline-block}*[_ngcontent-%COMP%]   html[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{height:1%}.clearfix[_ngcontent-%COMP%]{display:block}.layout[_ngcontent-%COMP%]{margin:0 auto;max-width:1170px;width:100%;padding:0 15px}.grid-3[_ngcontent-%COMP%]{width:25%;float:left;min-height:1px;padding-left:15px;padding-right:15px;position:relative}.footer-wrapper[_ngcontent-%COMP%]{padding:100px 0}.footer-text[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;margin:40px 0 0;text-align:justify}footer[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{color:#e1e1e1;font:18px/19px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]{margin-top:32px}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{line-height:25px}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"-";margin:0 5px 0 0}.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;line-height:34px;text-transform:capitalize}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:0 8px 0 0;color:#fff}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c7c7c7;font:13px/28px Open Sans,sans-serif;letter-spacing:1.2px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b4b4b4;font:13px/18px Open Sans,sans-serif;letter-spacing:1.2px;padding-bottom:10px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c7c7c7;font:italic 12px/18px Open Sans,sans-serif}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#22c489}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 200,"GRAD" 200,"opsz" 24;color:#fff}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin:1em}@media (max-width:980px){.layout[_ngcontent-%COMP%]{width:767px}.grid-3[_ngcontent-%COMP%]{width:50%}.footer-heading[_ngcontent-%COMP%]{margin-top:18px}}@media (max-width:640px){.layout[_ngcontent-%COMP%]{width:300px}.grid-3[_ngcontent-%COMP%]{width:100%}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;float:none;line-height:25px}}']})}return n})();var ju=G(3345);ju.A.registerVersion("firebase","10.11.1","app-compat");const VP=["ngOnDestroy"];class jP{constructor(e){return e}}const KD=new d.nKC("angularfire2.app.options"),QD=new d.nKC("angularfire2.app.name");function XD(n,e,t){const a="object"==typeof t&&t||{};a.name=a.name||"string"==typeof t&&t||"[DEFAULT]";const h=ju.A.apps.filter(g=>g&&g.name===a.name)[0]||e.runOutsideAngular(()=>ju.A.initializeApp(n,a));try{if(JSON.stringify(n)!==JSON.stringify(h.options)){const g=!!module.hot;$P("error",`${h.name} Firebase App already initialized with different options${g?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new jP(h)}const $P=(n,...e)=>{(0,d.naY)()&&typeof console<"u"&&console[n](...e)};function HP(n,e,t,i,a){const[,c,h]=globalThis.\u0275AngularfireInstanceCache.find(g=>g[0]===n)||[];if(c)return function dO(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(a,h)||(YD("error",`${e} was already initialized on the ${t} Firebase App with different settings.${zP?" You may need to reload as Firebase is not HMR aware.":""}`),YD("warn",{is:a,was:h})),c;{const g=i();return globalThis.\u0275AngularfireInstanceCache.push([n,g,a]),g}}const zP=typeof module<"u"&&!!module.hot,YD=(n,...e)=>{(0,d.naY)()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[],G(2438);var WP=G(6365),Q0=G(8750),GP=G(983),ZD=G(3794);class qP extends qn.B{constructor(e=1/0,t=1/0,i=Je){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:h}=this;t||(i.push(e),!a&&i.push(c.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:a}=this,c=a.slice();for(let h=0;h<c.length&&!e.closed;h+=i?1:2)e.next(c[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<i.length&&i.splice(0,i.length-c),!a){const h=t.now();let g=0;for(let v=1;v<i.length&&i[v]<=h;v+=2)g=v;g&&i.splice(0,g+1)}}}var KP=G(7707),r=G(9974);function o(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new KP.Ms({next:()=>{i.unsubscribe(),n()}});return(0,Q0.Tg)(e(...t)).subscribe(i)}function l(n,e,t){let i,a=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=n):i=n??1/0,function s(n={}){const{connector:e=(()=>new qn.B),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:a=!0}=n;return c=>{let h,g,v,A=0,x=!1,L=!1;const X=()=>{g?.unsubscribe(),g=void 0},ee=()=>{X(),h=v=void 0,x=L=!1},de=()=>{const pe=h;ee(),pe?.unsubscribe()};return(0,r.N)((pe,Ae)=>{A++,!L&&!x&&X();const nt=v=v??e();Ae.add(()=>{A--,0===A&&!L&&!x&&(g=o(de,a))}),nt.subscribe(Ae),!h&&A>0&&(h=new KP.Ms({next:pt=>nt.next(pt),error:pt=>{L=!0,X(),g=o(ee,t,pt),nt.error(pt)},complete:()=>{x=!0,X(),g=o(ee,i),nt.complete()}}),(0,Q0.Tg)(pe).subscribe(h))})(c)}}({connector:()=>new qP(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var u=G(1594),f=G(8071);function _(n,e){return(0,f.T)(e)?(0,Ha.n)(()=>n,e):(0,Ha.n)(()=>n)}const b=new d.nKC("angularfire2.auth.use-emulator"),M=new d.nKC("angularfire2.auth.settings"),F=new d.nKC("angularfire2.auth.tenant-id"),q=new d.nKC("angularfire2.auth.langugage-code"),ne=new d.nKC("angularfire2.auth.use-device-language"),ae=new d.nKC("angularfire.auth.persistence"),me=(n,e,t,i,a,c,h,g)=>HP(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=a,c&&v.useDeviceLanguage(),h)for(const[A,x]of Object.entries(h))v.settings[A]=x;return g&&v.setPersistence(g),v},[t,i,a,c,h,g]);let ke=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,a,c,h,g,v,A,x,L,X,ee){const de=new qn.B,pe=(0,Rc.of)(void 0).pipe((0,rt.Q)(h.outsideAngular),(0,Ha.n)(()=>c.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,2438)))),(0,Fi.T)(()=>XD(t,c,i)),(0,Fi.T)(Ae=>me(Ae,c,g,A,x,L,v,X)),l({bufferSize:1,refCount:!1}));if((0,dt.Vy)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Rc.of)(null);else{pe.pipe((0,u.$)()).subscribe();const Ae=pe.pipe((0,Ha.n)(Qe=>Qe.getRedirectResult().then(vt=>vt,()=>null)),Re,l({bufferSize:1,refCount:!1})),nt=pe.pipe((0,Ha.n)(Qe=>new Ye.c(vt=>({unsubscribe:c.runOutsideAngular(()=>Qe.onAuthStateChanged(nn=>vt.next(nn),nn=>vt.error(nn),()=>vt.complete()))})))),pt=pe.pipe((0,Ha.n)(Qe=>new Ye.c(vt=>({unsubscribe:c.runOutsideAngular(()=>Qe.onIdTokenChanged(nn=>vt.next(nn),nn=>vt.error(nn),()=>vt.complete()))}))));this.authState=Ae.pipe(_(nt),(0,et._)(h.outsideAngular),(0,rt.Q)(h.insideAngular)),this.user=Ae.pipe(_(pt),(0,et._)(h.outsideAngular),(0,rt.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,Ha.n)(Qe=>Qe?(0,jl.H)(Qe.getIdToken()):(0,Rc.of)(null))),this.idTokenResult=this.user.pipe((0,Ha.n)(Qe=>Qe?(0,jl.H)(Qe.getIdTokenResult()):(0,Rc.of)(null))),this.credential=function fO(...n){const e=(0,ZD.lI)(n),t=(0,ZD.R0)(n,1/0),i=n;return i.length?1===i.length?(0,Q0.Tg)(i[0]):(0,WP.U)(t)((0,jl.H)(i,e)):GP.w}(Ae,de,this.authState.pipe((0,Gy.p)(Qe=>!Qe))).pipe((0,Fi.T)(Qe=>Qe?.user?Qe:null),(0,et._)(h.outsideAngular),(0,rt.Q)(h.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(a,c)=>t.runOutsideAngular(()=>{if(n[c])return i?.spy?.get&&i.spy.get(c,n[c]),n[c];if(VP.indexOf(c)>-1)return()=>{};const h=e.toPromise().then(g=>{const v=g?.[c];return"function"==typeof v?v.bind(g):v?.then?v.then(A=>t.run(()=>A)):t.run(()=>v)});return new Proxy(()=>{},{get:(g,v)=>h[v],apply:(g,v,A)=>h.then(x=>{const L=x?.(...A);return i?.spy?.apply&&i.spy.apply(c,A,L),L})})})}))(this,pe,c,{spy:{apply:(Ae,nt,pt)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&pt.then(Qe=>de.next(Qe))}}})}static \u0275fac=function(i){return new(i||n)(d.KVO(KD),d.KVO(QD,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(oi),d.KVO(b,8),d.KVO(M,8),d.KVO(F,8),d.KVO(q,8),d.KVO(ne,8),d.KVO(ae,8),d.KVO(Lt,8))};static \u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var ct=G(9172),Ge=G(4360);function Qt(){return(0,r.N)((n,e)=>{let t,i=!1;n.subscribe((0,Ge._)(e,a=>{const c=t;t=a,i&&e.next([c,a]),i=!0}))})}var $n=G(2816),Pr=G(3669);function yo(n,e){return n===e}function X0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function pO(){if(typeof Uint8Array>"u")throw new Xe("unimplemented","Uint8Arrays are not available in this environment.")}function gO(){if(!function oT(){return typeof atob<"u"}())throw new Xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Y0{constructor(e){this._delegate=e}static fromBase64String(e){return gO(),new Y0(Ul.fromBase64String(e))}static fromUint8Array(e){return pO(),new Y0(Ul.fromUint8Array(e))}toBase64(){return gO(),this._delegate.toBase64()}toUint8Array(){return pO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QP(n){return function qO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class KO{enableIndexedDbPersistence(e,t){return function jS(n,e){t0(n=Vn(n,Hr));const t=si(n);if(t._uninitializedComponentsProvider)throw new Xe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");ks("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),a=new Df;return nC(t,a,new kI(a,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $S(n){t0(n=Vn(n,Hr));const e=si(n);if(e._uninitializedComponentsProvider)throw new Xe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");ks("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Df;return nC(e,i,new LI(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yy(n){if(n._initialized&&!n._terminated)throw new Xe(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ve.A)(function*(){try{yield(t=(0,Ve.A)(function*(a){if(!fc.D())return Promise.resolve();const c=a+"main";yield fc.delete(c)}),function i(a){return t.apply(this,arguments)})(hb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ks("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){KI(this._delegate,e,t,i)}enableNetwork(){return function e0(n){return function xS(n){return n.asyncQueue.enqueue((0,Ve.A)(function*(){const e=yield Wb(n),t=yield Gb(n);return e.setNetworkEnabled(!0),function(a){const c=mt(a);return c.M_.delete(0),Ig(c)}(t)}))}(si(n=Vn(n,Hr)))}(this._delegate)}disableNetwork(){return function rC(n){return function OS(n){return n.asyncQueue.enqueue((0,Ve.A)(function*(){const e=yield Wb(n),t=yield Gb(n);return e.setNetworkEnabled(!1),(i=(0,Ve.A)(function*(c){const h=mt(c);h.M_.add(0),yield kd(h),h.N_.set("Offline")}),function a(c){return i.apply(this,arguments)})(t);var i}))}(si(n=Vn(n,Hr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Zb("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vy(n){return function(t){const i=new qi;return t.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function bf(n,e){return ty.apply(this,arguments)}(yield Rg(t),i)})),i.promise}(si(n=Vn(n,Hr)))}(this._delegate)}onSnapshotsInSync(e){return function l1(n,e){return function Qb(n,e){const t=new VI(e);return n.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return a=yield Rf(n),c=t,mt(a).z_.add(c),void c.next();var a,c})),()=>{t.$a(),n.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return a=yield Rf(n),c=t,void mt(a).z_.delete(c);var a,c}))}}(si(n=Vn(n,Hr)),XI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ev(this,gy(this._delegate,e))}catch(t){throw Ho(t,"collection()","Firestore.collection()")}}doc(e){try{return new $l(this,Pg(this._delegate,e))}catch(t){throw Ho(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zo(this,function US(n,e){if(n=Vn(n,Mf),GI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xe(Se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(n,null,(i=e,new Pl(Wn.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Ho(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wC(n,e,t){n=Vn(n,Hr);const i=Object.assign(Object.assign({},EC),t);return function(c){if(c.maxAttempts<1)throw new Xe(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,h,g){const v=new qi;return c.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){const A=yield function Sf(n){return Sg(n).then(e=>e.datastore)}(c);new jI(c.asyncQueue,A,g,h,v).Xa()})),v.promise}(si(n),a=>e(new p0(n,a)),i)}(this._delegate,t=>e(new _O(this,t)))}batch(){return si(this._delegate),new yO(new IC(this._delegate,e=>jf(this._delegate,e)))}loadBundle(e){return function HS(n,e){const t=si(n=Vn(n,Hr)),i=new BS;return function NS(n,e,t,i){const a=function(h,g){let v;return v="string"==typeof h?xE().encode(h):h,x=function(x,L){if(x instanceof Uint8Array)return FI(x,L);if(x instanceof ArrayBuffer)return FI(new Uint8Array(x),L);if(x instanceof ReadableStream)return x.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new UI(x,g);var x}(t,Xr(e));n.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){!function zb(n,e,t){const i=mt(n);var a;(a=(0,Ve.A)(function*(h,g,v){try{const A=yield g.getMetadata();if(yield function(de,pe){const Ae=mt(de),nt=Cn(pe.createTime);return Ae.persistence.runTransaction("hasNewerBundle","readonly",pt=>Ae.Kr.getBundleMetadata(pt,pe.id)).then(pt=>!!pt&&pt.createTime.compareTo(nt)>=0)}(h.localStore,A))return yield g.close(),v._completeWith({taskState:"Success",documentsLoaded:(de=A).totalDocuments,bytesLoaded:de.totalBytes,totalDocuments:de.totalDocuments,totalBytes:de.totalBytes}),Promise.resolve(new Set);v._updateProgress(Mb(A));const x=new CS(A,h.localStore,g.serializer);let L=yield g.qa();for(;L;){const ee=yield x._a(L);ee&&v._updateProgress(ee),L=yield g.qa()}const X=yield x.complete();return yield Fl(h,X.ca,void 0),yield function(de,pe){const Ae=mt(de);return Ae.persistence.runTransaction("Save bundle","readwrite",nt=>Ae.Kr.saveBundleMetadata(nt,pe))}(h.localStore,A),v._completeWith(X.progress),Promise.resolve(X.ua)}catch(A){return ks("SyncEngine",`Loading bundle failed with ${A}`),v._failWith(A),Promise.resolve(new Set)}var de}),function c(h,g,v){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield Rg(n),a,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function iC(n,e){return function kS(n,e){return n.asyncQueue.enqueue((0,Ve.A)(function*(){return function(i,a){const c=mt(i);return c.persistence.runTransaction("Get named query","readonly",h=>c.Kr.getNamedQuery(h,a))}(yield Af(n),e)}))}(si(n=Vn(n,Hr)),e).then(t=>t?new cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zo(this,t):null)}}class eA extends h0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Y0(new Ul(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $l.forKey(t,this.firestore,null)}}class _O{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eA(e)}get(e){const t=Yg(e);return this._delegate.get(t).then(i=>new Z0(this._firestore,new Ac(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=Yg(e);return i?(X0("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=Yg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=Yg(e);return this._delegate.delete(t),this}}class yO{constructor(e){this._delegate=e}set(e,t,i){const a=Yg(e);return i?(X0("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=Yg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=Yg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Uf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new J0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Xg.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let c=a.get(t);return c||(c=new Xg(e,new eA(e),t),a.set(t,c)),c}}Xg.INSTANCES=new WeakMap;class $l{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $l(t,new Yr(t._delegate,i,new yt(e)))}static forKey(e,t,i){return new $l(t,new Yr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ev(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ev(this.firestore,gy(this._delegate,e))}catch(t){throw Ho(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.Ku)(e))instanceof Yr&&tC(this._delegate,e)}set(e,t){t=X0("DocumentReference.set",t);try{return t?My(this._delegate,e,t):My(this._delegate,e)}catch(i){throw Ho(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?pC(this._delegate,e):pC(this._delegate,e,t,...i)}catch(a){throw Ho(a,"updateDoc()","DocumentReference.update()")}}delete(){return function gC(n){return jf(Vn(n.firestore,Hr),[new Nl(n._key,ri.none())])}(this._delegate)}onSnapshot(...e){const t=vO(e),i=EO(e,a=>new Z0(this.firestore,new Ac(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return f0(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function s1(n){n=Vn(n,Yr);const e=Vn(n.firestore,Hr),t=si(e),i=new Sc(e);return function qb(n,e){const t=new qi;return n.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return(i=(0,Ve.A)(function*(c,h,g){try{const v=yield function(x,L){const X=mt(x);return X.persistence.runTransaction("read document","readonly",ee=>X.localDocuments.getDocument(ee,L))}(c,h);v.isFoundDocument()?g.resolve(v):v.isNoDocument()?g.resolve(null):g.reject(new Xe(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const A=vf(v,`Failed to get document '${h} from cache`);g.reject(A)}}),function a(c,h,g){return i.apply(this,arguments)})(yield Af(n),e,t);var i})),t.promise}(t,n._key).then(a=>new Ac(e,i,n._key,a,new Vf(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function hC(n){n=Vn(n,Yr);const e=Vn(n.firestore,Hr);return WI(si(e),n._key,{source:"server"}).then(t=>Vg(e,n,t))}(this._delegate):function r1(n){n=Vn(n,Yr);const e=Vn(n.firestore,Hr);return WI(si(e),n._key).then(t=>Vg(e,n,t))}(this._delegate),t.then(i=>new Z0(this.firestore,new Ac(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new $l(this.firestore,this._delegate.withConverter(e?Xg.getInstance(this.firestore,e):null))}}function Ho(n,e,t){return n.message=n.message.replace(e,t),n}function vO(n){for(const e of n)if("object"==typeof e&&!QP(e))return e;return{}}function EO(n,e){var t,i;let a;return a=QP(n[0])?n[0]:QP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class Z0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $l(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Bf(this._delegate,e._delegate)}}class J0 extends Z0{data(e){const t=this._delegate.data(e);return this._delegate._converter||function CA(n,e){n||Ct()}(void 0!==t),t}}class zo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eA(e)}where(e,t,i){try{return new zo(this.firestore,Ia(this._delegate,function qS(n,e,t){const i=e,a=Ng("where",n);return Dc._create(a,i,t)}(e,t,i)))}catch(a){throw Ho(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zo(this.firestore,Ia(this._delegate,function QS(n,e="asc"){const t=e,i=Ng("orderBy",n);return u0._create(i,t)}(e,t)))}catch(i){throw Ho(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zo(this.firestore,Ia(this._delegate,function lC(n){return py("limit",n),Ay._create("limit",n,"F")}(e)))}catch(t){throw Ho(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zo(this.firestore,Ia(this._delegate,function cC(n){return py("limitToLast",n),Ay._create("limitToLast",n,"L")}(e)))}catch(t){throw Ho(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zo(this.firestore,Ia(this._delegate,function XS(...n){return Lg._create("startAt",n,!0)}(...e)))}catch(t){throw Ho(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zo(this.firestore,Ia(this._delegate,function uC(...n){return Lg._create("startAfter",n,!1)}(...e)))}catch(t){throw Ho(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zo(this.firestore,Ia(this._delegate,function YS(...n){return Sy._create("endBefore",n,!1)}(...e)))}catch(t){throw Ho(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zo(this.firestore,Ia(this._delegate,function xM(...n){return Sy._create("endAt",n,!0)}(...e)))}catch(t){throw Ho(t,"endAt()","Query.endAt()")}}isEqual(e){return my(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fC(n){n=Vn(n,cs);const e=Vn(n.firestore,Hr),t=si(e),i=new Sc(e);return function fy(n,e){const t=new qi;return n.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return(i=(0,Ve.A)(function*(c,h,g){try{const v=yield L_(c,h,!0),A=new Nb(h,v.ls),x=A.da(v.documents),L=A.applyChanges(x,!1);g.resolve(L.snapshot)}catch(v){const A=vf(v,`Failed to execute query '${h} against cache`);g.reject(A)}}),function a(c,h,g){return i.apply(this,arguments)})(yield Af(n),e,t);var i})),t.promise}(t,n._query).then(a=>new Lu(e,i,n,a))}(this._delegate):"server"===e?.source?function a1(n){n=Vn(n,cs);const e=Vn(n.firestore,Hr),t=si(e),i=new Sc(e);return Kb(t,n._query,{source:"server"}).then(a=>new Lu(e,i,n,a))}(this._delegate):function o1(n){n=Vn(n,cs);const e=Vn(n.firestore,Hr),t=si(e),i=new Sc(e);return c0(n._query),Kb(t,n._query).then(a=>new Lu(e,i,n,a))}(this._delegate),t.then(i=>new XP(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=vO(e),i=EO(e,a=>new XP(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return f0(this._delegate,t,i)}withConverter(e){return new zo(this.firestore,this._delegate.withConverter(e?Xg.getInstance(this.firestore,e):null))}}class XO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new J0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new J0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new XO(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new J0(this._firestore,i))})}isEqual(e){return Bf(this._delegate,e._delegate)}}class ev extends zo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $l(this.firestore,e):null}doc(e){try{return new $l(this.firestore,void 0===e?Pg(this._delegate):Pg(this._delegate,e))}catch(t){throw Ho(t,"doc()","CollectionReference.doc()")}}add(e){return function mC(n,e){const t=Vn(n.firestore,Hr),i=Pg(n),a=Ry(n.converter,e);return jf(t,[Ey(Hd(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new $l(this.firestore,t))}isEqual(e){return tC(this._delegate,e._delegate)}withConverter(e){return new ev(this.firestore,this._delegate.withConverter(e?Xg.getInstance(this.firestore,e):null))}}function Yg(n){return Vn(n,Yr)}class YP{constructor(...e){this._delegate=new bc(...e)}static documentId(){return new YP(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.Ku)(e))instanceof bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function g0(){return new kf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Zg(e)}static delete(){const e=function p1(){return new Bl("deleteField")}();return e._methodName="FieldValue.delete",new Zg(e)}static arrayUnion(...e){const t=function TC(...n){return new Lf("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Zg(t)}static arrayRemove(...e){const t=function bC(...n){return new Vs("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Zg(t)}static increment(e){const t=function $M(n){return new Iy("increment",n)}(e);return t._methodName="FieldValue.increment",new Zg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const YO={Firestore:mO,GeoPoint:Nf,Timestamp:ni,Blob:Y0,Transaction:_O,WriteBatch:yO,DocumentReference:$l,DocumentSnapshot:Z0,Query:zo,QueryDocumentSnapshot:J0,QuerySnapshot:XP,CollectionReference:ev,FieldPath:YP,FieldValue:Zg,setLogLevel:function QO(n){!function $w(n){ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function IO(n,e){return function eN(n,e=gn){return new Ye.c(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function ZP(n,e){return IO(n,e).pipe((0,Fi.T)(t=>({payload:t,type:"query"})))}!function JO(n){(function ZO(n,e){n.INTERNAL.registerComponent(new am.uA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},YO)))})(n,(e,t)=>new mO(e,t,new KO)),n.registerVersion("@firebase/firestore-compat","0.3.30")}(ju.A);class wO{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:c}=SO(i,t);return new CO(a,c,this.afs)}snapshotChanges(){return function tN(n,e){return IO(n,e).pipe((0,ct.Z)(void 0),Qt(),(0,Fi.T)(t=>{const[i,a]=t;return a.exists?i?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Re)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Fi.T)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,jl.H)(this.ref.get(e)).pipe(Re)}}function tA(n,e){return ZP(n,e).pipe((0,ct.Z)(void 0),Qt(),(0,Fi.T)(t=>{const[i,a]=t,c=a.payload.docChanges(),h=c.map(g=>({type:g.type,payload:g}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((g,v)=>{const A=c.find(L=>L.doc.ref.isEqual(g.ref)),x=i?.payload.docs.find(L=>L.ref.isEqual(g.ref));A&&JSON.stringify(A.doc.metadata)===JSON.stringify(g.metadata)||!A&&x&&JSON.stringify(x.metadata)===JSON.stringify(g.metadata)||h.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:g}})}),h}))}function TO(n,e,t){return tA(n,t).pipe((0,$n.S)((i,a)=>function nN(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function rN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JP(n,e.oldIndex,1)}return n}(n,i))}),n}(i,a.map(c=>c.payload),e),[]),function Zi(n,e=Pr.D){return n=n??yo,(0,r.N)((t,i)=>{let a,c=!0;t.subscribe((0,Ge._)(i,h=>{const g=e(h);(c||!n(a,g))&&(c=!1,a=g,i.next(h))}))})}(),(0,Fi.T)(i=>i.map(a=>({type:a.type,payload:a}))))}function JP(n,e,t,...i){const a=n.slice();return a.splice(e,t,...i),a}function bO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CO{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=tA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Fi.T)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,ct.Z)(void 0),Qt(),(0,Gy.p)(([i,a])=>a.length>0||!i),(0,Fi.T)(([,i])=>i),Re)}auditTrail(e){return this.stateChanges(e).pipe((0,$n.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=bO(e);return TO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Re)}valueChanges(e={}){return ZP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fi.T)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Re)}get(e){return(0,jl.H)(this.query.get(e)).pipe(Re)}add(e){return this.ref.add(e)}doc(e){return new wO(this.ref.doc(e),this.afs)}}class iN{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fi.T)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Gy.p)(t=>t.length>0),Re):tA(this.query,this.afs.schedulers.outsideAngular).pipe(Re)}auditTrail(e){return this.stateChanges(e).pipe((0,$n.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=bO(e);return TO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Re)}valueChanges(e={}){return ZP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fi.T)(i=>i.payload.docs.map(a=>e.idField?{[e.idField]:a.id,...a.data()}:a.data())),Re)}get(e){return(0,jl.H)(this.query.get(e)).pipe(Re)}}const DO=new d.nKC("angularfire2.enableFirestorePersistence"),AO=new d.nKC("angularfire2.firestore.persistenceSettings"),sN=new d.nKC("angularfire2.firestore.settings"),oN=new d.nKC("angularfire2.firestore.use-emulator");function SO(n,e=(t=>t)){return{query:e(n),ref:n}}let RO=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,a,c,h,g,v,A,x,L,X,ee,de,pe,Ae,nt,pt){this.schedulers=v;const Qe=XD(t,g,i),vt=x;L&&me(Qe,g,X,de,pe,Ae,ee,nt),[this.firestore,this.persistenceEnabled$]=HP(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const nn=g.runOutsideAngular(()=>Qe.firestore());if(c&&nn.settings(c),vt&&nn.useEmulator(...vt),a&&!(0,dt.Vy)(h)){const un=()=>{try{return(0,jl.H)(nn.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Mn){return typeof console<"u"&&console.warn(Mn),(0,Rc.of)(!1)}};return[nn,g.runOutsideAngular(un)]}return[nn,(0,Rc.of)(!1)]},[c,vt,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=SO(a,i),g=this.schedulers.ngZone.run(()=>c);return new CO(g,h,this)}collectionGroup(t,i){const a=i||(h=>h),c=this.firestore.collectionGroup(t);return new iN(a(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new wO(a,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(d.KVO(KD),d.KVO(QD,8),d.KVO(DO,8),d.KVO(sN,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(oi),d.KVO(AO,8),d.KVO(oN,8),d.KVO(ke,8),d.KVO(b,8),d.KVO(M,8),d.KVO(F,8),d.KVO(q,8),d.KVO(ne,8),d.KVO(ae,8),d.KVO(Lt,8))};static \u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),aN=(()=>{class n{constructor(){ju.A.registerVersion("angularfire",lt.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:DO,useValue:!0},{provide:AO,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=d.$C({type:n});static \u0275inj=d.G2t({providers:[RO]})}return n})(),lN=(()=>{class n{constructor(t){this.router=t,this.title="SpotiRFI",this.router.events.subscribe(i=>{i instanceof U.wF&&window.scrollTo(0,0)})}static#e=this.\u0275fac=function(i){return new(i||n)(d.rXU(U.Ix))};static#t=this.\u0275cmp=d.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[d.Jv_([RO]),d.aNF],decls:3,vars:0,template:function(i,a){1&i&&d.nrm(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[U.n3,cO,kP,aN]})}return n})();(0,R.B8)(lN,WD).catch(n=>console.error(n))},4412:(Pt,Ue,G)=>{G.d(Ue,{t:()=>d});var R=G(1413);class d extends R.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const Te=super._subscribe(le);return!Te.closed&&le.next(this._value),Te}getValue(){const{hasError:le,thrownError:Te,_value:xe}=this;if(le)throw Te;return this._throwIfClosed(),xe}next(le){super.next(this._value=le)}}},1985:(Pt,Ue,G)=>{G.d(Ue,{c:()=>Ke});var R=G(7707),d=G(8359),U=G(3494),le=G(1203),Te=G(1026),xe=G(8071),ue=G(9786);let Ke=(()=>{class be{constructor(He){He&&(this._subscribe=He)}lift(He){const ht=new be;return ht.source=this,ht.operator=He,ht}subscribe(He,ht,ot){const wt=function te(be){return be&&be instanceof R.vU||function ie(be){return be&&(0,xe.T)(be.next)&&(0,xe.T)(be.error)&&(0,xe.T)(be.complete)}(be)&&(0,d.Uv)(be)}(He)?He:new R.Ms(He,ht,ot);return(0,ue.Y)(()=>{const{operator:Tt,source:gn}=this;wt.add(Tt?Tt.call(wt,gn):gn?this._subscribe(wt):this._trySubscribe(wt))}),wt}_trySubscribe(He){try{return this._subscribe(He)}catch(ht){He.error(ht)}}forEach(He,ht){return new(ht=je(ht))((ot,wt)=>{const Tt=new R.Ms({next:gn=>{try{He(gn)}catch(Tn){wt(Tn),Tt.unsubscribe()}},error:wt,complete:ot});this.subscribe(Tt)})}_subscribe(He){var ht;return null===(ht=this.source)||void 0===ht?void 0:ht.subscribe(He)}[U.s](){return this}pipe(...He){return(0,le.m)(He)(this)}toPromise(He){return new(He=je(He))((ht,ot)=>{let wt;this.subscribe(Tt=>wt=Tt,Tt=>ot(Tt),()=>ht(wt))})}}return be.create=Je=>new be(Je),be})();function je(be){var Je;return null!==(Je=be??Te.$.Promise)&&void 0!==Je?Je:Promise}},1413:(Pt,Ue,G)=>{G.d(Ue,{B:()=>ue});var R=G(1985),d=G(8359);const le=(0,G(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=G(7908),xe=G(9786);let ue=(()=>{class je extends R.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const be=new Ke(this,this);return be.operator=te,be}_throwIfClosed(){if(this.closed)throw new le}next(te){(0,xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(te)}})}error(te){(0,xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:be}=this;for(;be.length;)be.shift().error(te)}})}complete(){(0,xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:be,isStopped:Je,observers:He}=this;return be||Je?d.Kn:(this.currentObservers=null,He.push(te),new d.yU(()=>{this.currentObservers=null,(0,Te.o)(He,te)}))}_checkFinalizedStatuses(te){const{hasError:be,thrownError:Je,isStopped:He}=this;be?te.error(Je):He&&te.complete()}asObservable(){const te=new R.c;return te.source=this,te}}return je.create=(ie,te)=>new Ke(ie,te),je})();class Ke extends ue{constructor(ie,te){super(),this.destination=ie,this.source=te}next(ie){var te,be;null===(be=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===be||be.call(te,ie)}error(ie){var te,be;null===(be=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===be||be.call(te,ie)}complete(){var ie,te;null===(te=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===te||te.call(ie)}_subscribe(ie){var te,be;return null!==(be=null===(te=this.source)||void 0===te?void 0:te.subscribe(ie))&&void 0!==be?be:d.Kn}}},7707:(Pt,Ue,G)=>{G.d(Ue,{Ms:()=>ot,vU:()=>be});var R=G(8071),d=G(8359),U=G(1026),le=G(5334),Te=G(5343);const xe=je("C",void 0,void 0);function je(Ye,ze,et){return{kind:Ye,value:ze,error:et}}var ie=G(9270),te=G(9786);class be extends d.yU{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,d.Uv)(ze)&&ze.add(this)):this.destination=Tn}static create(ze,et,rt){return new ot(ze,et,rt)}next(ze){this.isStopped?gn(function Ke(Ye){return je("N",Ye,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?gn(function ue(Ye){return je("E",void 0,Ye)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?gn(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function He(Ye,ze){return Je.call(Ye,ze)}class ht{constructor(ze){this.partialObserver=ze}next(ze){const{partialObserver:et}=this;if(et.next)try{et.next(ze)}catch(rt){wt(rt)}}error(ze){const{partialObserver:et}=this;if(et.error)try{et.error(ze)}catch(rt){wt(rt)}else wt(ze)}complete(){const{partialObserver:ze}=this;if(ze.complete)try{ze.complete()}catch(et){wt(et)}}}class ot extends be{constructor(ze,et,rt){let lt;if(super(),(0,R.T)(ze)||!ze)lt={next:ze??void 0,error:et??void 0,complete:rt??void 0};else{let Et;this&&U.$.useDeprecatedNextContext?(Et=Object.create(ze),Et.unsubscribe=()=>this.unsubscribe(),lt={next:ze.next&&He(ze.next,Et),error:ze.error&&He(ze.error,Et),complete:ze.complete&&He(ze.complete,Et)}):lt=ze}this.destination=new ht(lt)}}function wt(Ye){U.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(Ye):(0,le.m)(Ye)}function gn(Ye,ze){const{onStoppedNotification:et}=U.$;et&&ie.f.setTimeout(()=>et(Ye,ze))}const Tn={closed:!0,next:Te.l,error:function Tt(Ye){throw Ye},complete:Te.l}},8359:(Pt,Ue,G)=>{G.d(Ue,{Kn:()=>xe,yU:()=>Te,Uv:()=>ue});var R=G(8071);const U=(0,G(1853).L)(je=>function(te){je(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((be,Je)=>`${Je+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var le=G(7908);class Te{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const He of te)He.remove(this);else te.remove(this);const{initialTeardown:be}=this;if((0,R.T)(be))try{be()}catch(He){ie=He instanceof U?He.errors:[He]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const He of Je)try{Ke(He)}catch(ht){ie=ie??[],ht instanceof U?ie=[...ie,...ht.errors]:ie.push(ht)}}if(ie)throw new U(ie)}}add(ie){var te;if(ie&&ie!==this)if(this.closed)Ke(ie);else{if(ie instanceof Te){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(ie)}}_hasParent(ie){const{_parentage:te}=this;return te===ie||Array.isArray(te)&&te.includes(ie)}_addParent(ie){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(ie),te):te?[te,ie]:ie}_removeParent(ie){const{_parentage:te}=this;te===ie?this._parentage=null:Array.isArray(te)&&(0,le.o)(te,ie)}remove(ie){const{_finalizers:te}=this;te&&(0,le.o)(te,ie),ie instanceof Te&&ie._removeParent(this)}}Te.EMPTY=(()=>{const je=new Te;return je.closed=!0,je})();const xe=Te.EMPTY;function ue(je){return je instanceof Te||je&&"closed"in je&&(0,R.T)(je.remove)&&(0,R.T)(je.add)&&(0,R.T)(je.unsubscribe)}function Ke(je){(0,R.T)(je)?je():je.unsubscribe()}},1026:(Pt,Ue,G)=>{G.d(Ue,{$:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Pt,Ue,G)=>{G.d(Ue,{x:()=>Te});var R=G(6365),U=G(3794),le=G(8455);function Te(...xe){return function d(){return(0,R.U)(1)}()((0,le.H)(xe,(0,U.lI)(xe)))}},983:(Pt,Ue,G)=>{G.d(Ue,{w:()=>d});const d=new(G(1985).c)(Te=>Te.complete())},8455:(Pt,Ue,G)=>{G.d(Ue,{H:()=>ze});var R=G(8750),d=G(941),U=G(6745),xe=G(1985),Ke=G(4761),je=G(8071),ie=G(5225);function be(et,rt){if(!et)throw new Error("Iterable cannot be null");return new xe.c(lt=>{(0,ie.N)(lt,rt,()=>{const Et=et[Symbol.asyncIterator]();(0,ie.N)(lt,rt,()=>{Et.next().then(we=>{we.done?lt.complete():lt.next(we.value)})},0,!0)})})}var Je=G(5055),He=G(9858),ht=G(7441),ot=G(5397),wt=G(7953),Tt=G(591),gn=G(5196);function ze(et,rt){return rt?function Ye(et,rt){if(null!=et){if((0,Je.l)(et))return function le(et,rt){return(0,R.Tg)(et).pipe((0,U._)(rt),(0,d.Q)(rt))}(et,rt);if((0,ht.X)(et))return function ue(et,rt){return new xe.c(lt=>{let Et=0;return rt.schedule(function(){Et===et.length?lt.complete():(lt.next(et[Et++]),lt.closed||this.schedule())})})}(et,rt);if((0,He.y)(et))return function Te(et,rt){return(0,R.Tg)(et).pipe((0,U._)(rt),(0,d.Q)(rt))}(et,rt);if((0,wt.T)(et))return be(et,rt);if((0,ot.x)(et))return function te(et,rt){return new xe.c(lt=>{let Et;return(0,ie.N)(lt,rt,()=>{Et=et[Ke.l](),(0,ie.N)(lt,rt,()=>{let we,Zt;try{({value:we,done:Zt}=Et.next())}catch(Lt){return void lt.error(Lt)}Zt?lt.complete():lt.next(we)},0,!0)}),()=>(0,je.T)(Et?.return)&&Et.return()})}(et,rt);if((0,gn.U)(et))return function Tn(et,rt){return be((0,gn.C)(et),rt)}(et,rt)}throw(0,Tt.L)(et)}(et,rt):(0,R.Tg)(et)}},8750:(Pt,Ue,G)=>{G.d(Ue,{Tg:()=>Je});var R=G(1635),d=G(7441),U=G(9858),le=G(1985),Te=G(5055),xe=G(7953),ue=G(591),Ke=G(5397),je=G(5196),ie=G(8071),te=G(5334),be=G(3494);function Je(Ye){if(Ye instanceof le.c)return Ye;if(null!=Ye){if((0,Te.l)(Ye))return function He(Ye){return new le.c(ze=>{const et=Ye[be.s]();if((0,ie.T)(et.subscribe))return et.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ye);if((0,d.X)(Ye))return function ht(Ye){return new le.c(ze=>{for(let et=0;et<Ye.length&&!ze.closed;et++)ze.next(Ye[et]);ze.complete()})}(Ye);if((0,U.y)(Ye))return function ot(Ye){return new le.c(ze=>{Ye.then(et=>{ze.closed||(ze.next(et),ze.complete())},et=>ze.error(et)).then(null,te.m)})}(Ye);if((0,xe.T)(Ye))return Tt(Ye);if((0,Ke.x)(Ye))return function wt(Ye){return new le.c(ze=>{for(const et of Ye)if(ze.next(et),ze.closed)return;ze.complete()})}(Ye);if((0,je.U)(Ye))return function gn(Ye){return Tt((0,je.C)(Ye))}(Ye)}throw(0,ue.L)(Ye)}function Tt(Ye){return new le.c(ze=>{(function Tn(Ye,ze){var et,rt,lt,Et;return(0,R.sH)(this,void 0,void 0,function*(){try{for(et=(0,R.xN)(Ye);!(rt=yield et.next()).done;)if(ze.next(rt.value),ze.closed)return}catch(we){lt={error:we}}finally{try{rt&&!rt.done&&(Et=et.return)&&(yield Et.call(et))}finally{if(lt)throw lt.error}}ze.complete()})})(Ye,ze).catch(et=>ze.error(et))})}},7673:(Pt,Ue,G)=>{G.d(Ue,{of:()=>U});var R=G(3794),d=G(8455);function U(...le){const Te=(0,R.lI)(le);return(0,d.H)(le,Te)}},4360:(Pt,Ue,G)=>{G.d(Ue,{_:()=>d});var R=G(7707);function d(le,Te,xe,ue,Ke){return new U(le,Te,xe,ue,Ke)}class U extends R.vU{constructor(Te,xe,ue,Ke,je,ie){super(Te),this.onFinalize=je,this.shouldUnsubscribe=ie,this._next=xe?function(te){try{xe(te)}catch(be){Te.error(be)}}:super._next,this._error=Ke?function(te){try{Ke(te)}catch(be){Te.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(te){Te.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:xe}=this;super.unsubscribe(),!xe&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},274:(Pt,Ue,G)=>{G.d(Ue,{H:()=>U});var R=G(1397),d=G(8071);function U(le,Te){return(0,d.T)(Te)?(0,R.Z)(le,Te,1):(0,R.Z)(le,1)}},9901:(Pt,Ue,G)=>{G.d(Ue,{U:()=>U});var R=G(9974),d=G(4360);function U(le){return(0,R.N)((Te,xe)=>{let ue=!1;Te.subscribe((0,d._)(xe,Ke=>{ue=!0,xe.next(Ke)},()=>{ue||xe.next(le),xe.complete()}))})}},5964:(Pt,Ue,G)=>{G.d(Ue,{p:()=>U});var R=G(9974),d=G(4360);function U(le,Te){return(0,R.N)((xe,ue)=>{let Ke=0;xe.subscribe((0,d._)(ue,je=>le.call(Te,je,Ke++)&&ue.next(je)))})}},980:(Pt,Ue,G)=>{G.d(Ue,{j:()=>d});var R=G(9974);function d(U){return(0,R.N)((le,Te)=>{try{le.subscribe(Te)}finally{Te.add(U)}})}},1594:(Pt,Ue,G)=>{G.d(Ue,{$:()=>ue});var R=G(9350),d=G(5964),U=G(6697),le=G(9901),Te=G(3774),xe=G(3669);function ue(Ke,je){const ie=arguments.length>=2;return te=>te.pipe(Ke?(0,d.p)((be,Je)=>Ke(be,Je,te)):xe.D,(0,U.s)(1),ie?(0,le.U)(je):(0,Te.v)(()=>new R.G))}},6354:(Pt,Ue,G)=>{G.d(Ue,{T:()=>U});var R=G(9974),d=G(4360);function U(le,Te){return(0,R.N)((xe,ue)=>{let Ke=0;xe.subscribe((0,d._)(ue,je=>{ue.next(le.call(Te,je,Ke++))}))})}},6365:(Pt,Ue,G)=>{G.d(Ue,{U:()=>U});var R=G(1397),d=G(3669);function U(le=1/0){return(0,R.Z)(d.D,le)}},1397:(Pt,Ue,G)=>{G.d(Ue,{Z:()=>Ke});var R=G(6354),d=G(8750),U=G(9974),le=G(5225),Te=G(4360),ue=G(8071);function Ke(je,ie,te=1/0){return(0,ue.T)(ie)?Ke((be,Je)=>(0,R.T)((He,ht)=>ie(be,He,Je,ht))((0,d.Tg)(je(be,Je))),te):("number"==typeof ie&&(te=ie),(0,U.N)((be,Je)=>function xe(je,ie,te,be,Je,He,ht,ot){const wt=[];let Tt=0,gn=0,Tn=!1;const Ye=()=>{Tn&&!wt.length&&!Tt&&ie.complete()},ze=rt=>Tt<be?et(rt):wt.push(rt),et=rt=>{He&&ie.next(rt),Tt++;let lt=!1;(0,d.Tg)(te(rt,gn++)).subscribe((0,Te._)(ie,Et=>{Je?.(Et),He?ze(Et):ie.next(Et)},()=>{lt=!0},void 0,()=>{if(lt)try{for(Tt--;wt.length&&Tt<be;){const Et=wt.shift();ht?(0,le.N)(ie,ht,()=>et(Et)):et(Et)}Ye()}catch(Et){ie.error(Et)}}))};return je.subscribe((0,Te._)(ie,ze,()=>{Tn=!0,Ye()})),()=>{ot?.()}}(be,Je,je,te)))}},941:(Pt,Ue,G)=>{G.d(Ue,{Q:()=>le});var R=G(5225),d=G(9974),U=G(4360);function le(Te,xe=0){return(0,d.N)((ue,Ke)=>{ue.subscribe((0,U._)(Ke,je=>(0,R.N)(Ke,Te,()=>Ke.next(je),xe),()=>(0,R.N)(Ke,Te,()=>Ke.complete(),xe),je=>(0,R.N)(Ke,Te,()=>Ke.error(je),xe)))})}},2816:(Pt,Ue,G)=>{G.d(Ue,{S:()=>le});var R=G(9974),d=G(4360);function le(Te,xe){return(0,R.N)(function U(Te,xe,ue,Ke,je){return(ie,te)=>{let be=ue,Je=xe,He=0;ie.subscribe((0,d._)(te,ht=>{const ot=He++;Je=be?Te(Je,ht,ot):(be=!0,ht),Ke&&te.next(Je)},je&&(()=>{be&&te.next(Je),te.complete()})))}}(Te,xe,arguments.length>=2,!0))}},9172:(Pt,Ue,G)=>{G.d(Ue,{Z:()=>le});var R=G(8793),d=G(3794),U=G(9974);function le(...Te){const xe=(0,d.lI)(Te);return(0,U.N)((ue,Ke)=>{(xe?(0,R.x)(Te,ue,xe):(0,R.x)(Te,ue)).subscribe(Ke)})}},6745:(Pt,Ue,G)=>{G.d(Ue,{_:()=>d});var R=G(9974);function d(U,le=0){return(0,R.N)((Te,xe)=>{xe.add(U.schedule(()=>Te.subscribe(xe),le))})}},5558:(Pt,Ue,G)=>{G.d(Ue,{n:()=>le});var R=G(8750),d=G(9974),U=G(4360);function le(Te,xe){return(0,d.N)((ue,Ke)=>{let je=null,ie=0,te=!1;const be=()=>te&&!je&&Ke.complete();ue.subscribe((0,U._)(Ke,Je=>{je?.unsubscribe();let He=0;const ht=ie++;(0,R.Tg)(Te(Je,ht)).subscribe(je=(0,U._)(Ke,ot=>Ke.next(xe?xe(Je,ot,ht,He++):ot),()=>{je=null,be()}))},()=>{te=!0,be()}))})}},6697:(Pt,Ue,G)=>{G.d(Ue,{s:()=>le});var R=G(983),d=G(9974),U=G(4360);function le(Te){return Te<=0?()=>R.w:(0,d.N)((xe,ue)=>{let Ke=0;xe.subscribe((0,U._)(ue,je=>{++Ke<=Te&&(ue.next(je),Te<=Ke&&ue.complete())}))})}},8141:(Pt,Ue,G)=>{G.d(Ue,{M:()=>Te});var R=G(8071),d=G(9974),U=G(4360),le=G(3669);function Te(xe,ue,Ke){const je=(0,R.T)(xe)||ue||Ke?{next:xe,error:ue,complete:Ke}:xe;return je?(0,d.N)((ie,te)=>{var be;null===(be=je.subscribe)||void 0===be||be.call(je);let Je=!0;ie.subscribe((0,U._)(te,He=>{var ht;null===(ht=je.next)||void 0===ht||ht.call(je,He),te.next(He)},()=>{var He;Je=!1,null===(He=je.complete)||void 0===He||He.call(je),te.complete()},He=>{var ht;Je=!1,null===(ht=je.error)||void 0===ht||ht.call(je,He),te.error(He)},()=>{var He,ht;Je&&(null===(He=je.unsubscribe)||void 0===He||He.call(je)),null===(ht=je.finalize)||void 0===ht||ht.call(je)}))}):le.D}},3774:(Pt,Ue,G)=>{G.d(Ue,{v:()=>le});var R=G(9350),d=G(9974),U=G(4360);function le(xe=Te){return(0,d.N)((ue,Ke)=>{let je=!1;ue.subscribe((0,U._)(Ke,ie=>{je=!0,Ke.next(ie)},()=>je?Ke.complete():Ke.error(xe())))})}function Te(){return new R.G}},9270:(Pt,Ue,G)=>{G.d(Ue,{f:()=>R});const R={setTimeout(d,U,...le){const{delegate:Te}=R;return Te?.setTimeout?Te.setTimeout(d,U,...le):setTimeout(d,U,...le)},clearTimeout(d){const{delegate:U}=R;return(U?.clearTimeout||clearTimeout)(d)},delegate:void 0}},4761:(Pt,Ue,G)=>{G.d(Ue,{l:()=>d});const d=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Pt,Ue,G)=>{G.d(Ue,{s:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Pt,Ue,G)=>{G.d(Ue,{G:()=>d});const d=(0,G(1853).L)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Pt,Ue,G)=>{G.d(Ue,{R0:()=>xe,ms:()=>le,lI:()=>Te});var R=G(8071);function U(ue){return ue[ue.length-1]}function le(ue){return(0,R.T)(U(ue))?ue.pop():void 0}function Te(ue){return function d(ue){return ue&&(0,R.T)(ue.schedule)}(U(ue))?ue.pop():void 0}function xe(ue,Ke){return"number"==typeof U(ue)?ue.pop():Ke}},7908:(Pt,Ue,G)=>{function R(d,U){if(d){const le=d.indexOf(U);0<=le&&d.splice(le,1)}}G.d(Ue,{o:()=>R})},1853:(Pt,Ue,G)=>{function R(d){const le=d(Te=>{Error.call(Te),Te.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}G.d(Ue,{L:()=>R})},9786:(Pt,Ue,G)=>{G.d(Ue,{Y:()=>U,l:()=>le});var R=G(1026);let d=null;function U(Te){if(R.$.useDeprecatedSynchronousErrorHandling){const xe=!d;if(xe&&(d={errorThrown:!1,error:null}),Te(),xe){const{errorThrown:ue,error:Ke}=d;if(d=null,ue)throw Ke}}else Te()}function le(Te){R.$.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=Te)}},5225:(Pt,Ue,G)=>{function R(d,U,le,Te=0,xe=!1){const ue=U.schedule(function(){le(),xe?d.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(d.add(ue),!xe)return ue}G.d(Ue,{N:()=>R})},3669:(Pt,Ue,G)=>{function R(d){return d}G.d(Ue,{D:()=>R})},7441:(Pt,Ue,G)=>{G.d(Ue,{X:()=>R});const R=d=>d&&"number"==typeof d.length&&"function"!=typeof d},7953:(Pt,Ue,G)=>{G.d(Ue,{T:()=>d});var R=G(8071);function d(U){return Symbol.asyncIterator&&(0,R.T)(U?.[Symbol.asyncIterator])}},8071:(Pt,Ue,G)=>{function R(d){return"function"==typeof d}G.d(Ue,{T:()=>R})},5055:(Pt,Ue,G)=>{G.d(Ue,{l:()=>U});var R=G(3494),d=G(8071);function U(le){return(0,d.T)(le[R.s])}},5397:(Pt,Ue,G)=>{G.d(Ue,{x:()=>U});var R=G(4761),d=G(8071);function U(le){return(0,d.T)(le?.[R.l])}},9858:(Pt,Ue,G)=>{G.d(Ue,{y:()=>d});var R=G(8071);function d(U){return(0,R.T)(U?.then)}},5196:(Pt,Ue,G)=>{G.d(Ue,{C:()=>U,U:()=>le});var R=G(1635),d=G(8071);function U(Te){return(0,R.AQ)(this,arguments,function*(){const ue=Te.getReader();try{for(;;){const{value:Ke,done:je}=yield(0,R.N3)(ue.read());if(je)return yield(0,R.N3)(void 0);yield yield(0,R.N3)(Ke)}}finally{ue.releaseLock()}})}function le(Te){return(0,d.T)(Te?.getReader)}},9974:(Pt,Ue,G)=>{G.d(Ue,{N:()=>U,S:()=>d});var R=G(8071);function d(le){return(0,R.T)(le?.lift)}function U(le){return Te=>{if(d(Te))return Te.lift(function(xe){try{return le(xe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Pt,Ue,G)=>{function R(){}G.d(Ue,{l:()=>R})},1203:(Pt,Ue,G)=>{G.d(Ue,{F:()=>d,m:()=>U});var R=G(3669);function d(...le){return U(le)}function U(le){return 0===le.length?R.D:1===le.length?le[0]:function(xe){return le.reduce((ue,Ke)=>Ke(ue),xe)}}},5334:(Pt,Ue,G)=>{G.d(Ue,{m:()=>U});var R=G(1026),d=G(9270);function U(le){d.f.setTimeout(()=>{const{onUnhandledError:Te}=R.$;if(!Te)throw le;Te(le)})}},591:(Pt,Ue,G)=>{function R(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Ue,{L:()=>R})},177:(Pt,Ue,G)=>{G.d(Ue,{AJ:()=>us,B3:()=>qt,MD:()=>gr,N0:()=>Co,QT:()=>U,Sm:()=>ot,Sq:()=>Bs,T3:()=>fn,UE:()=>ai,VF:()=>Te,Vy:()=>Kl,Xr:()=>xc,YU:()=>Ht,ZD:()=>le,_b:()=>on,aZ:()=>Tt,bT:()=>Ka,fw:()=>wt,hb:()=>He,hj:()=>je,qQ:()=>ue});var R=G(4438);let d=null;function U(){return d}function le(C){d??=C}class Te{}const ue=new R.nKC("");let Ke=(()=>{class C{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275prov=R.jDH({token:C,factory:()=>(0,R.WQX)(ie),providedIn:"platform"})}return C})();const je=new R.nKC("");let ie=(()=>{class C extends Ke{constructor(){super(),this._doc=(0,R.WQX)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(P){const k=U().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",P,!1),()=>k.removeEventListener("popstate",P)}onHashChange(P){const k=U().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",P,!1),()=>k.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,k,Z){this._history.pushState(P,k,Z)}replaceState(P,k,Z){this._history.replaceState(P,k,Z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275prov=R.jDH({token:C,factory:()=>new C,providedIn:"platform"})}return C})();function te(C,V){if(0==C.length)return V;if(0==V.length)return C;let P=0;return C.endsWith("/")&&P++,V.startsWith("/")&&P++,2==P?C+V.substring(1):1==P?C+V:C+"/"+V}function be(C){const V=C.match(/#|\?|$/),P=V&&V.index||C.length;return C.slice(0,P-("/"===C[P-1]?1:0))+C.slice(P)}function Je(C){return C&&"?"!==C[0]?"?"+C:C}let He=(()=>{class C{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275prov=R.jDH({token:C,factory:()=>(0,R.WQX)(ot),providedIn:"root"})}return C})();const ht=new R.nKC("");let ot=(()=>{class C extends He{constructor(P,k){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,R.WQX)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return te(this._baseHref,P)}path(P=!1){const k=this._platformLocation.pathname+Je(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&P?`${k}${Z}`:k}pushState(P,k,Z,Ie){const Be=this.prepareExternalUrl(Z+Je(Ie));this._platformLocation.pushState(P,k,Be)}replaceState(P,k,Z,Ie){const Be=this.prepareExternalUrl(Z+Je(Ie));this._platformLocation.replaceState(P,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(k){return new(k||C)(R.KVO(Ke),R.KVO(ht,8))};static#t=this.\u0275prov=R.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),wt=(()=>{class C extends He{constructor(P,k){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){const k=this._platformLocation.hash??"#";return k.length>0?k.substring(1):k}prepareExternalUrl(P){const k=te(this._baseHref,P);return k.length>0?"#"+k:k}pushState(P,k,Z,Ie){let Be=this.prepareExternalUrl(Z+Je(Ie));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(P,k,Be)}replaceState(P,k,Z,Ie){let Be=this.prepareExternalUrl(Z+Je(Ie));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(P,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(k){return new(k||C)(R.KVO(Ke),R.KVO(ht,8))};static#t=this.\u0275prov=R.jDH({token:C,factory:C.\u0275fac})}return C})(),Tt=(()=>{class C{constructor(P){this._subject=new R.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const k=this._locationStrategy.getBaseHref();this._basePath=function ze(C){if(new RegExp("^(https?:)?//").test(C)){const[,P]=C.split(/\/\/[^\/]+/);return P}return C}(be(Ye(k))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,k=""){return this.path()==this.normalize(P+Je(k))}normalize(P){return C.stripTrailingSlash(function Tn(C,V){if(!C||!V.startsWith(C))return V;const P=V.substring(C.length);return""===P||["/",";","?","#"].includes(P[0])?P:V}(this._basePath,Ye(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,k="",Z=null){this._locationStrategy.pushState(Z,"",P,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Je(k)),Z)}replaceState(P,k="",Z=null){this._locationStrategy.replaceState(Z,"",P,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Je(k)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription??=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)}),()=>{const k=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",k){this._urlChangeListeners.forEach(Z=>Z(P,k))}subscribe(P,k,Z){return this._subject.subscribe({next:P,error:k,complete:Z})}static#e=this.normalizeQueryParams=Je;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=be;static#r=this.\u0275fac=function(k){return new(k||C)(R.KVO(He))};static#i=this.\u0275prov=R.jDH({token:C,factory:()=>function gn(){return new Tt((0,R.KVO)(He))}(),providedIn:"root"})}return C})();function Ye(C){return C.replace(/\/index.html$/,"")}function on(C,V){V=encodeURIComponent(V);for(const P of C.split(";")){const k=P.indexOf("="),[Z,Ie]=-1==k?[P,""]:[P.slice(0,k),P.slice(k+1)];if(Z.trim()===V)return decodeURIComponent(Ie)}return null}const Jn=/\s+/,On=[];let Ht=(()=>{class C{constructor(P,k){this._ngEl=P,this._renderer=k,this.initialClasses=On,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(Jn):On}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(Jn):P}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const k of P)this._updateState(k,!0);else if(null!=P)for(const k of Object.keys(P))this._updateState(k,!!P[k]);this._applyStateDiff()}_updateState(P,k){const Z=this.stateMap.get(P);void 0!==Z?(Z.enabled!==k&&(Z.changed=!0,Z.enabled=k),Z.touched=!0):this.stateMap.set(P,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const k=P[0],Z=P[1];Z.changed?(this._toggleClass(k,Z.enabled),Z.changed=!1):Z.touched||(Z.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),Z.touched=!1}}_toggleClass(P,k){(P=P.trim()).length>0&&P.split(Jn).forEach(Z=>{k?this._renderer.addClass(this._ngEl.nativeElement,Z):this._renderer.removeClass(this._ngEl.nativeElement,Z)})}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.aKT),R.rXU(R.sFG))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngClass",""]],inputs:{klass:[R.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return C})();class er{constructor(V,P,k,Z){this.$implicit=V,this.ngForOf=P,this.index=k,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bs=(()=>{class C{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,k,Z){this._viewContainer=P,this._template=k,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const k=this._viewContainer;P.forEachOperation((Z,Ie,Be)=>{if(null==Z.previousIndex)k.createEmbeddedView(this._template,new er(Z.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)k.remove(null===Ie?void 0:Ie);else if(null!==Ie){const It=k.get(Ie);k.move(It,Be),Ys(It,Z)}});for(let Z=0,Ie=k.length;Z<Ie;Z++){const It=k.get(Z).context;It.index=Z,It.count=Ie,It.ngForOf=this._ngForOf}P.forEachIdentityChange(Z=>{Ys(k.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(P,k){return!0}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.c1b),R.rXU(R.C4Q),R.rXU(R._q3))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return C})();function Ys(C,V){C.context.$implicit=V.item}let Ka=(()=>{class C{constructor(P,k){this._viewContainer=P,this._context=new Zd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Gl("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Gl("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,k){return!0}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.c1b),R.rXU(R.C4Q))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return C})();class Zd{constructor(){this.$implicit=null,this.ngIf=null}}function Gl(C,V){if(V&&!V.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,R.Tbb)(V)}'.`)}let qt=(()=>{class C{constructor(P,k,Z){this._ngEl=P,this._differs=k,this._renderer=Z,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,k){const[Z,Ie]=P.split("."),Be=-1===Z.indexOf("-")?void 0:R.czy.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,Z,Ie?`${k}${Ie}`:k,Be):this._renderer.removeStyle(this._ngEl.nativeElement,Z,Be)}_applyChanges(P){P.forEachRemovedItem(k=>this._setStyle(k.key,null)),P.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),P.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.aKT),R.rXU(R.MKu),R.rXU(R.sFG))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return C})(),fn=(()=>{class C{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(this._shouldRecreateView(P)){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Z=this._createContextForwardProxy();this._viewRef=k.createEmbeddedView(this.ngTemplateOutlet,Z,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(P){return!!P.ngTemplateOutlet||!!P.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(P,k,Z)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,k,Z),get:(P,k,Z)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,k,Z)}})}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.c1b))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[R.OA$]})}return C})(),gr=(()=>{class C{static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275mod=R.$C({type:C});static#n=this.\u0275inj=R.G2t({})}return C})();const us="browser",el="server";function ai(C){return C===us}function Kl(C){return C===el}let xc=(()=>{class C{static#e=this.\u0275prov=(0,R.jDH)({token:C,providedIn:"root",factory:()=>ai((0,R.WQX)(R.Agw))?new Un((0,R.WQX)(ue),window):new ba})}return C})();class Un{constructor(V,P){this.document=V,this.window=P,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(V){this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){const P=function bs(C,V){const P=C.getElementById(V)||C.getElementsByName(V)[0];if(P)return P;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let Z=k.currentNode;for(;Z;){const Ie=Z.shadowRoot;if(Ie){const Be=Ie.getElementById(V)||Ie.querySelector(`[name="${V}"]`);if(Be)return Be}Z=k.nextNode()}}return null}(this.document,V);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(V){this.window.history.scrollRestoration=V}scrollToElement(V){const P=V.getBoundingClientRect(),k=P.left+this.window.pageXOffset,Z=P.top+this.window.pageYOffset,Ie=this.offset();this.window.scrollTo(k-Ie[0],Z-Ie[1])}}class ba{setOffset(V){}getScrollPosition(){return[0,0]}scrollToPosition(V){}scrollToAnchor(V){}setHistoryScrollRestoration(V){}}class Co{}},4438:(Pt,Ue,G)=>{function d(r,s){return Object.is(r,s)}G.d(Ue,{bc$:()=>dA,iLQ:()=>P0,sZ2:()=>uc,hnV:()=>vD,o8S:()=>Uu,BIS:()=>hA,gRc:()=>AD,Ql9:()=>x0,Ocv:()=>QR,Z63:()=>ro,aKT:()=>gp,uvJ:()=>Dr,zcH:()=>Va,bkB:()=>Il,$GK:()=>an,nKC:()=>Ht,zZn:()=>Fo,_q3:()=>qy,MKu:()=>Kd,xe9:()=>zy,Co$:()=>F_,Vns:()=>xd,SKi:()=>Cn,Xx1:()=>ai,Agw:()=>Nm,PLl:()=>$v,sFG:()=>BT,_9s:()=>UT,czy:()=>Vp,WPN:()=>Ct,kdw:()=>pi,C4Q:()=>_c,NYb:()=>LR,giA:()=>_D,xvI:()=>gR,RxE:()=>aD,c1b:()=>hg,gXe:()=>$s,mal:()=>y_,L39:()=>UP,EWP:()=>zP,Ol2:()=>Od,w6W:()=>gS,Rfq:()=>Ri,oKB:()=>Ro,WQX:()=>Kt,naY:()=>eP,QuC:()=>Ti,EmA:()=>cl,Udg:()=>BP,HJs:()=>qP,N4e:()=>ao,vPA:()=>JE,O8t:()=>YD,An2:()=>nf,H3F:()=>lD,H8p:()=>oo,KH2:()=>Cc,TgB:()=>Nd,wOt:()=>ut,WHO:()=>gD,e01:()=>mD,lNU:()=>Ur,h9k:()=>Ei,$MX:()=>Li,ZF7:()=>iu,Kcf:()=>IA,e5t:()=>rE,UyX:()=>Cl,cWb:()=>nE,osQ:()=>Vw,H5H:()=>Nf,Zy3:()=>Wr,mq5:()=>sC,JZv:()=>Vt,TL3:()=>sO,LfX:()=>he,plB:()=>hu,jNT:()=>S0,zjR:()=>yD,ngT:()=>Bo,TL$:()=>uA,Tbb:()=>sr,rcV:()=>Wi,Vt3:()=>N_,Mj6:()=>Ao,GFd:()=>lI,OA$:()=>E,Jv_:()=>F1,aNF:()=>V1,R7$:()=>aT,BMQ:()=>ey,HbH:()=>uy,AVh:()=>$I,vxM:()=>cs,wni:()=>Bg,nv$:()=>Rb,T$4:()=>Sb,g25:()=>wI,VBU:()=>Aa,FsC:()=>al,jDH:()=>An,G2t:()=>_s,$C:()=>Uc,EJ8:()=>As,rXU:()=>Vr,nrm:()=>si,eu8:()=>e0,bVm:()=>vy,qex:()=>yy,k0s:()=>_y,j41:()=>ZI,RV6:()=>iC,xGo:()=>wh,KVO:()=>qr,kS0:()=>Em,QTQ:()=>Al,bIt:()=>p0,lsd:()=>Ny,qSk:()=>Ev,XpG:()=>g1,SdG:()=>CC,NAR:()=>m0,Y8G:()=>UI,FS9:()=>DC,lJ4:()=>B1,eq3:()=>j1,l_i:()=>$1,sMw:()=>H1,ziG:()=>z1,l4e:()=>W1,zJS:()=>G1,mGM:()=>SC,sdS:()=>MC,Dyx:()=>my,Z7z:()=>Pg,fX1:()=>gy,Njj:()=>fv,EBC:()=>dE,eBV:()=>ep,f$h:()=>Se,n$t:()=>Hw,Aen:()=>mo,xc7:()=>jI,DNE:()=>pf,C5r:()=>Z1,EFF:()=>FC,JRh:()=>w0,SpI:()=>Ly,Lme:()=>UC,E5c:()=>BC,wXG:()=>lE,DH7:()=>N1,mxI:()=>HC,R50:()=>$C,GBs:()=>Oy}),G(467);let U=null,le=!1,Te=1;const xe=Symbol("SIGNAL");function ue(r){const s=U;return U=r,s}const te={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function be(r){if(le)throw new Error("");if(null===U)return;U.consumerOnSignalRead(r);const s=U.nextProducerIndex++;lt(U),s<U.producerNode.length&&U.producerNode[s]!==r&&rt(U)&&et(U.producerNode[s],U.producerIndexOfThis[s]),U.producerNode[s]!==r&&(U.producerNode[s]=r,U.producerIndexOfThis[s]=rt(U)?ze(r,U,s):0),U.producerLastReadVersion[s]=r.version}function He(r){if((!rt(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==Te)){if(!r.producerMustRecompute(r)&&!Tn(r))return r.dirty=!1,void(r.lastCleanEpoch=Te);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=Te}}function ht(r){if(void 0===r.liveConsumerNode)return;const s=le;le=!0;try{for(const o of r.liveConsumerNode)o.dirty||wt(o)}finally{le=s}}function ot(){return!1!==U?.consumerAllowSignalWrites}function wt(r){r.dirty=!0,ht(r),r.consumerMarkedDirty?.(r)}function Tt(r){return r&&(r.nextProducerIndex=0),ue(r)}function gn(r,s){if(ue(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(rt(r))for(let o=r.nextProducerIndex;o<r.producerNode.length;o++)et(r.producerNode[o],r.producerIndexOfThis[o]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Tn(r){lt(r);for(let s=0;s<r.producerNode.length;s++){const o=r.producerNode[s],l=r.producerLastReadVersion[s];if(l!==o.version||(He(o),l!==o.version))return!0}return!1}function ze(r,s,o){if(Et(r),lt(r),0===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)r.producerIndexOfThis[l]=ze(r.producerNode[l],r,l);return r.liveConsumerIndexOfThis.push(o),r.liveConsumerNode.push(s)-1}function et(r,s){if(Et(r),lt(r),1===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)et(r.producerNode[l],r.producerIndexOfThis[l]);const o=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[o],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[o],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const l=r.liveConsumerIndexOfThis[s],u=r.liveConsumerNode[s];lt(u),u.producerIndexOfThis[l]=s}}function rt(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function lt(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function Et(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}const Zt=Symbol("UNSET"),Lt=Symbol("COMPUTING"),Ir=Symbol("ERRORED"),wr={...te,value:Zt,dirty:!0,error:null,equal:d,producerMustRecompute:r=>r.value===Zt||r.value===Lt,producerRecomputeValue(r){if(r.value===Lt)throw new Error("Detected cycle in computations.");const s=r.value;r.value=Lt;const o=Tt(r);let l;try{l=r.computation()}catch(u){l=Ir,r.error=u}finally{gn(r,o)}s!==Zt&&s!==Ir&&l!==Ir&&r.equal(s,l)?r.value=s:(r.value=l,r.version++)}};let Qn=function zr(){throw new Error};function oi(){Qn()}let Ee=null;function Re(r,s){ot()||oi(),r.equal(r.value,s)||(r.value=s,function Xt(r){r.version++,function Je(){Te++}(),ht(r),Ee?.()}(r))}const St={...te,equal:d,value:void 0};var En=G(1413),xr=G(8359),lr=G(4412),Or=G(6354);const Ur="https://g.co/ng/security#xss";class ut extends Error{constructor(s,o){super(Wr(s,o)),this.code=s}}function Wr(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}function qe(r){return{toString:r}.toString()}const Yn="__parameters__";function xn(r,s,o){return qe(()=>{const l=function Gn(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...f){if(this instanceof u)return l.apply(this,f),this;const _=new u(...f);return y.annotation=_,y;function y(b,M,F){const q=b.hasOwnProperty(Yn)?b[Yn]:Object.defineProperty(b,Yn,{value:[]})[Yn];for(;q.length<=F;)q.push(null);return(q[F]=q[F]||[]).push(_),b}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}const Vt=globalThis;function _n(r){for(let s in r)if(r[s]===_n)return s;throw Error("Could not find renamed property on target object.")}function Zn(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function sr(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(sr).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function pr(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Si=_n({__forward_ref__:_n});function Ri(r){return r.__forward_ref__=Ri,r.toString=function(){return sr(this())},r}function ce(r){return ge(r)?r():r}function ge(r){return"function"==typeof r&&r.hasOwnProperty(Si)&&r.__forward_ref__===Ri}function ft(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}function An(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function _s(r){return{providers:r.providers||[],imports:r.imports||[]}}function De(r){return Fe(r,Gt)||Fe(r,Jn)}function he(r){return null!==De(r)}function Fe(r,s){return r.hasOwnProperty(s)?r[s]:null}function Wt(r){return r&&(r.hasOwnProperty(on)||r.hasOwnProperty(On))?r[on]:null}const Gt=_n({\u0275prov:_n}),on=_n({\u0275inj:_n}),Jn=_n({ngInjectableDef:_n}),On=_n({ngInjectorDef:_n});class Ht{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=An({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Go(r){return r&&!!r.\u0275providers}const Pi=_n({\u0275cmp:_n}),wa=_n({\u0275dir:_n}),vs=_n({\u0275pipe:_n}),Qa=_n({\u0275mod:_n}),Mi=_n({\u0275fac:_n}),br=_n({__NG_ELEMENT_ID__:_n}),qo=_n({__NG_ENV_ID__:_n});function qt(r){return"string"==typeof r?r:null==r?"":String(r)}function Io(r,s){throw new ut(-201,!1)}var an=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(an||{});let xi;function Ta(){return xi}function Gr(r){const s=xi;return xi=r,s}function Xa(r,s,o){const l=De(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&an.Optional?null:void 0!==s?s:void Io()}const wo={},Za="__NG_DI_FLAG__",Qo="ngTempTokenPath",Xo=/\n/gm,bo="__source";let Zs;function Jr(r){const s=Zs;return Zs=r,s}function Ja(r,s=an.Default){if(void 0===Zs)throw new ut(-203,!1);return null===Zs?Xa(r,void 0,s):Zs.get(r,s&an.Optional?null:void 0,s)}function qr(r,s=an.Default){return(Ta()||Ja)(ce(r),s)}function Kt(r,s=an.Default){return qr(r,eo(s))}function eo(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Bi(r){const s=[];for(let o=0;o<r.length;o++){const l=ce(r[o]);if(Array.isArray(l)){if(0===l.length)throw new ut(900,!1);let u,f=an.Default;for(let _=0;_<l.length;_++){const y=l[_],b=us(y);"number"==typeof b?-1===b?u=y.token:f|=b:u=y}s.push(qr(u,f))}else s.push(qr(l))}return s}function gr(r,s){return r[Za]=s,r.prototype[Za]=s,r}function us(r){return r[Za]}const ai=gr(xn("Optional"),8),pi=gr(xn("SkipSelf"),4);function Ts(r,s){return r.hasOwnProperty(Mi)?r[Mi]:null}function bs(r,s){r.forEach(o=>Array.isArray(o)?bs(o,s):s(o))}function ba(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Co(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Yo(r,s,o){const l=r.length-o;for(;s<l;)r[s]=r[s+o],s++;for(;o--;)r.pop()}function nh(r,s,o,l){let u=r.length;if(u==s)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>s;)r[u]=r[u-2],u--;r[s]=o,r[s+1]=l}}function gi(r,s,o){let l=ji(r,s);return l>=0?r[1|l]=o:(l=~l,nh(r,l,s,o)),l}function Ca(r,s){const o=ji(r,s);if(o>=0)return r[1|o]}function ji(r,s){return function Do(r,s,o){let l=0,u=r.length>>o;for(;u!==l;){const f=l+(u-l>>1),_=r[f<<o];if(s===_)return f<<o;_>s?u=f:l=f+1}return~(u<<o)}(r,s,1)}const li={},wn=[],ro=new Ht(""),Oc=new Ht("",-1),Nc=new Ht("");class Ds{get(s,o=wo){if(o===wo){const l=new Error(`NullInjectorError: No provider for ${sr(s)}!`);throw l.name="NullInjectorError",l}return o}}var nl=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(nl||{}),$s=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}($s||{}),Ao=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(Ao||{});function Hu(r,s,o){let l=r.length;for(;;){const u=r.indexOf(s,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const f=s.length;if(u+f===l||r.charCodeAt(u+f)<=32)return u}o=u+1}}function Da(r,s,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const f=o[l++],_=o[l++],y=o[l++];r.setAttribute(s,_,y,f)}else{const f=u,_=o[++l];rl(f)?r.setProperty(s,f,_):r.setAttribute(s,f,_),l++}}return l}function $i(r){return 3===r||4===r||6===r}function rl(r){return 64===r.charCodeAt(0)}function Kr(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||Zo(r,o,u,null,-1===o||2===o?s[++l]:null)}}return r}function Zo(r,s,o,l,u){let f=0,_=r.length;if(-1===s)_=-1;else for(;f<r.length;){const y=r[f++];if("number"==typeof y){if(y===s){_=-1;break}if(y>s){_=f-1;break}}}for(;f<r.length;){const y=r[f];if("number"==typeof y)break;if(y===o){if(null===l)return void(null!==u&&(r[f+1]=u));if(l===r[f+1])return void(r[f+2]=u)}f++,null!==l&&f++,null!==u&&f++}-1!==_&&(r.splice(_,0,s),f=_+1),r.splice(f++,0,o),null!==l&&r.splice(f++,0,l),null!==u&&r.splice(f++,0,u)}const ds="ng-template";function il(r,s,o,l){let u=0;if(l){for(;u<s.length&&"string"==typeof s[u];u+=2)if("class"===s[u]&&-1!==Hu(s[u+1].toLowerCase(),o,0))return!0}else if(Ql(r))return!1;if(u=s.indexOf(1,u),u>-1){let f;for(;++u<s.length&&"string"==typeof(f=s[u]);)if(f.toLowerCase()===o)return!0}return!1}function Ql(r){return 4===r.type&&r.value!==ds}function rh(r,s,o){return s===(4!==r.type||o?r.value:ds)}function sl(r,s,o){let l=4;const u=r.attrs,f=null!==u?function zs(r){for(let s=0;s<r.length;s++)if($i(r[s]))return s;return r.length}(u):0;let _=!1;for(let y=0;y<s.length;y++){const b=s[y];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!rh(r,b,o)||""===b&&1===s.length){if(mi(l))return!1;_=!0}}else if(8&l){if(null===u||!il(r,u,b,o)){if(mi(l))return!1;_=!0}}else{const M=s[++y],F=Xl(b,u,Ql(r),o);if(-1===F){if(mi(l))return!1;_=!0;continue}if(""!==M){let q;if(q=F>f?"":u[F+1].toLowerCase(),2&l&&M!==q){if(mi(l))return!1;_=!0}}}}else{if(!_&&!mi(l)&&!mi(b))return!1;if(_&&mi(b))continue;_=!1,l=b|1&l}}return mi(l)||_}function mi(r){return!(1&r)}function Xl(r,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let f=!1;for(;u<s.length;){const _=s[u];if(_===r)return u;if(3===_||6===_)f=!0;else{if(1===_||2===_){let y=s[++u];for(;"string"==typeof y;)y=s[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=f?1:2}return-1}return function Bn(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function Jo(r,s,o=!1){for(let l=0;l<s.length;l++)if(sl(r,s[l],o))return!0;return!1}function ol(r,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(r.length===l.length){for(let u=0;u<r.length;u++)if(r[u]!==l[u])continue e;return!0}}return!1}function So(r,s){return r?":not("+s.trim()+")":s}function io(r){let s=r[0],o=1,l=2,u="",f=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&l){const y=r[++o];u+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?u+="."+_:4&l&&(u+=" "+_);else""!==u&&!mi(_)&&(s+=So(f,u),u=""),l=_,f=f||!mi(l);o++}return""!==u&&(s+=So(f,u)),s}function Aa(r){return qe(()=>{const s=ll(r),o={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===nl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||$s.Emulated,styles:r.styles||wn,_:null,schemas:r.schemas||null,tView:null,id:""};Yl(o);const l=r.dependencies;return o.directiveDefs=Ws(l,!1),o.pipeDefs=Ws(l,!0),o.id=function Zl(r){let s=0;const o=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const u of o)s=Math.imul(31,s)+u.charCodeAt(0)|0;return s+=2147483648,"c"+s}(o),o})}function Fc(r){return rn(r)||Nr(r)}function Vc(r){return null!==r}function Uc(r){return qe(()=>({type:r.type,bootstrap:r.bootstrap||wn,declarations:r.declarations||wn,imports:r.imports||wn,exports:r.exports||wn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Sa(r,s){if(null==r)return li;const o={};for(const l in r)if(r.hasOwnProperty(l)){const u=r[l];let f,_,y=Ao.None;Array.isArray(u)?(y=u[0],f=u[1],_=u[2]??f):(f=u,_=u),s?(o[f]=y!==Ao.None?[l,y]:l,s[f]=_):o[f]=l}return o}function al(r){return qe(()=>{const s=ll(r);return Yl(s),s})}function As(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function rn(r){return r[Pi]||null}function Nr(r){return r[wa]||null}function Cr(r){return r[vs]||null}function Ti(r){const s=rn(r)||Nr(r)||Cr(r);return null!==s&&s.standalone}function ci(r,s){const o=r[Qa]||null;if(!o&&!0===s)throw new Error(`Type ${sr(r)} does not have '\u0275mod' property.`);return o}function ll(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||li,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||wn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sa(r.inputs,s),outputs:Sa(r.outputs),debugInfo:null}}function Yl(r){r.features?.forEach(s=>s(r))}function Ws(r,s){if(!r)return null;const o=s?Cr:Fc;return()=>("function"==typeof r?r():r).map(l=>o(l)).filter(Vc)}function cl(r){return{\u0275providers:r}}function Ro(...r){return{\u0275providers:so(0,r),\u0275fromNgModule:!0}}function so(r,...s){const o=[],l=new Set;let u;const f=_=>{o.push(_)};return bs(s,_=>{const y=_;ts(y,f,[],l)&&(u||=[],u.push(y))}),void 0!==u&&Gs(u,f),o}function Gs(r,s){for(let o=0;o<r.length;o++){const{ngModule:l,providers:u}=r[o];ea(u,f=>{s(f,l)})}}function ts(r,s,o,l){if(!(r=ce(r)))return!1;let u=null,f=Wt(r);const _=!f&&rn(r);if(f||_){if(_&&!_.standalone)return!1;u=r}else{const b=r.ngModule;if(f=Wt(b),!f)return!1;u=b}const y=l.has(u);if(_){if(y)return!1;if(l.add(u),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const M of b)ts(M,s,o,l)}}else{if(!f)return!1;{if(null!=f.imports&&!y){let M;l.add(u);try{bs(f.imports,F=>{ts(F,s,o,l)&&(M||=[],M.push(F))})}finally{}void 0!==M&&Gs(M,s)}if(!y){const M=Ts(u)||(()=>new u);s({provide:u,useFactory:M,deps:wn},u),s({provide:Nc,useValue:u,multi:!0},u),s({provide:ro,useValue:()=>qr(u),multi:!0},u)}const b=f.providers;if(null!=b&&!y){const M=r;ea(b,F=>{s(F,M)})}}}return u!==r&&void 0!==r.providers}function ea(r,s){for(let o of r)Go(o)&&(o=o.\u0275providers),Array.isArray(o)?ea(o,s):s(o)}const ul=_n({provide:String,useValue:_n});function dl(r){return null!==r&&"object"==typeof r&&ul in r}function Mo(r){return"function"==typeof r}const oo=new Ht(""),ec={},hl={};let tc;function Ss(){return void 0===tc&&(tc=new Ds),tc}class Dr{}class ns extends Dr{get destroyed(){return this._destroyed}constructor(s,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ra(s,_=>this.processProvider(_)),this.records.set(Oc,ta(void 0,this)),u.has("environment")&&this.records.set(Dr,ta(void 0,this));const f=this.records.get(oo);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Nc,wn,an.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=ue(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=Jr(this),l=Gr(void 0);try{return s()}finally{Jr(o),Gr(l)}}get(s,o=wo,l=an.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(qo))return s[qo](this);l=eo(l);const f=Jr(this),_=Gr(void 0);try{if(!(l&an.SkipSelf)){let b=this.records.get(s);if(void 0===b){const M=function rc(r){return"function"==typeof r||"object"==typeof r&&r instanceof Ht}(s)&&De(s);b=M&&this.injectableDefInScope(M)?ta(jc(s),ec):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(l&an.Self?Ss():this.parent).get(s,o=l&an.Optional&&o===wo?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Qo]=y[Qo]||[]).unshift(sr(s)),f)throw y;return function el(r,s,o,l){const u=r[Qo];throw s[bo]&&u.unshift(s[bo]),r.message=function to(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=sr(s);if(Array.isArray(s))u=s.map(sr).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let y=s[_];f.push(_+":"+("string"==typeof y?JSON.stringify(y):sr(y)))}u=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(Xo,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[Qo]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{Gr(_),Jr(f)}}resolveInjectorInitializers(){const s=ue(null),o=Jr(this),l=Gr(void 0);try{const f=this.get(ro,wn,an.Self);for(const _ of f)_()}finally{Jr(o),Gr(l),ue(s)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(sr(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ut(205,!1)}processProvider(s){let o=Mo(s=ce(s))?s:ce(s&&s.provide);const l=function Wu(r){return dl(r)?ta(void 0,r.useValue):ta(nc(r),ec)}(s);if(!Mo(s)&&!0===s.multi){let u=this.records.get(o);u||(u=ta(void 0,ec,!0),u.factory=()=>Bi(u.multi),this.records.set(o,u)),o=s,u.multi.push(s)}this.records.set(o,l)}hydrate(s,o){const l=ue(null);try{return o.value===ec&&(o.value=hl,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Gu(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{ue(l)}}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ce(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function jc(r){const s=De(r),o=null!==s?s.factory:Ts(r);if(null!==o)return o;if(r instanceof Ht)throw new ut(204,!1);if(r instanceof Function)return function $c(r){if(r.length>0)throw new ut(204,!1);const o=function gt(r){return r&&(r[Gt]||r[Jn])||null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ut(204,!1)}function nc(r,s,o){let l;if(Mo(r)){const u=ce(r);return Ts(u)||jc(u)}if(dl(r))l=()=>ce(r.useValue);else if(function Po(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...Bi(r.deps||[]));else if(function zu(r){return!(!r||!r.useExisting)}(r))l=()=>qr(ce(r.useExisting));else{const u=ce(r&&(r.useClass||r.provide));if(!function na(r){return!!r.deps}(r))return Ts(u)||jc(u);l=()=>new u(...Bi(r.deps))}return l}function ta(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Ra(r,s){for(const o of r)Array.isArray(o)?Ra(o,s):o&&Go(o)?Ra(o.\u0275providers,s):s(o)}function ao(r,s){r instanceof ns&&r.assertNotDestroyed();const l=Jr(r),u=Gr(void 0);try{return s()}finally{Jr(l),Gr(u)}}function Hc(){return void 0!==Ta()||null!=function Js(){return Zs}()}const Fn=0,tt=1,Rt=2,zn=3,or=4,qn=5,Qr=6,lo=7,mr=8,ui=9,ur=10,zt=11,Pa=12,qu=13,ic=14,_r=15,ei=16,fl=17,xo=18,rs=19,Ma=20,Oo=21,Ku=22,$e=23,ln=25,No=1,_i=7,Hi=9,jn=10;var ko=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(ko||{});function yi(r){return Array.isArray(r)&&"object"==typeof r[No]}function Oi(r){return Array.isArray(r)&&!0===r[No]}function xa(r){return!!(4&r.flags)}function Ps(r){return r.componentOffset>-1}function ra(r){return!(1&~r.flags)}function Ni(r){return!!r.template}function pl(r){return!!(512&r[Rt])}class om{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Zf(r,s,o,l){null!==s?s.applyValueToInputSignal(s,l):r[o]=l}function E(){return D}function D(r){return r.type.prototype.ngOnChanges&&(r.setInput=S),w}function w(){const r=j(this),s=r?.current;if(s){const o=r.previous;if(o===li)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function S(r,s,o,l,u){const f=this.declaredInputs[l],_=j(r)||function J(r,s){return r[O]=s}(r,{previous:li,current:null}),y=_.current||(_.current={}),b=_.previous,M=b[f];y[f]=new om(M&&M.currentValue,o,b===li),Zf(r,s,u,o)}E.ngInherit=!0;const O="__ngSimpleChanges__";function j(r){return r[O]||null}const at=function(r,s,o){},cn="svg";let dr=!1;function Rn(r){for(;Array.isArray(r);)r=r[Fn];return r}function Yt(r,s){return Rn(s[r])}function Sr(r,s){return Rn(s[r.index])}function Qc(r,s){return r.data[s]}function is(r,s){const o=s[r];return yi(o)?o:o[Fn]}function Xu(r){return!(128&~r[Rt])}function co(r,s){return null==s?null:r[s]}function cv(r){r[fl]=0}function lm(r){1024&r[Rt]||(r[Rt]|=1024,Xu(r)&&ch(r))}function ah(r){return!!(9216&r[Rt]||r[$e]?.dirty)}function lh(r){r[ur].changeDetectionScheduler?.notify(1),ah(r)?ch(r):64&r[Rt]&&(function ia(){return dr}()?(r[Rt]|=1024,ch(r)):r[ur].changeDetectionScheduler?.notify())}function ch(r){r[ur].changeDetectionScheduler?.notify();let s=Xc(r);for(;null!==s&&!(8192&s[Rt])&&(s[Rt]|=8192,Xu(s));)s=Xc(s)}function sc(r,s){if(!(256&~r[Rt]))throw new ut(911,!1);null===r[Oo]&&(r[Oo]=[]),r[Oo].push(s)}function um(r,s){if(null===r[Oo])return;const o=r[Oo].indexOf(s);-1!==o&&r[Oo].splice(o,1)}function Xc(r){const s=r[zn];return Oi(s)?s[zn]:s}const Jt={lFrame:_v(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dm(){return Jt.bindingsEnabled}function Yu(){return null!==Jt.skipHydrationRootTNode}function Le(){return Jt.lFrame.lView}function kn(){return Jt.lFrame.tView}function ep(r){return Jt.lFrame.contextLView=r,r[mr]}function fv(r){return Jt.lFrame.contextLView=null,r}function rr(){let r=tp();for(;null!==r&&64===r.type;)r=r.parent;return r}function tp(){return Jt.lFrame.currentTNode}function sa(r,s){const o=Jt.lFrame;o.currentTNode=r,o.isParent=s}function uh(){return Jt.lFrame.isParent}function pm(){Jt.lFrame.isParent=!1}function Ms(){const r=Jt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Oa(){return Jt.lFrame.bindingIndex}function oa(){return Jt.lFrame.bindingIndex++}function yl(r){const s=Jt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function ow(r,s){const o=Jt.lFrame;o.bindingIndex=o.bindingRootIndex=r,ip(s)}function ip(r){Jt.lFrame.currentDirectiveIndex=r}function Zu(){return Jt.lFrame.currentQueryIndex}function sp(r){Jt.lFrame.currentQueryIndex=r}function lw(r){const s=r[tt];return 2===s.type?s.declTNode:1===s.type?r[qn]:null}function gv(r,s,o){if(o&an.SkipSelf){let u=s,f=r;for(;!(u=u.parent,null!==u||o&an.Host||(u=lw(f),null===u||(f=f[ic],10&u.type))););if(null===u)return!1;s=u,r=f}const l=Jt.lFrame=mv();return l.currentTNode=s,l.lView=r,!0}function _m(r){const s=mv(),o=r[tt];Jt.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function mv(){const r=Jt.lFrame,s=null===r?null:r.child;return null===s?_v(r):s}function _v(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function yv(){const r=Jt.lFrame;return Jt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const vv=yv;function dh(){const r=yv();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function hs(){return Jt.lFrame.selectedIndex}function Zc(r){Jt.lFrame.selectedIndex=r}function Lr(){const r=Jt.lFrame;return Qc(r.tView,r.selectedIndex)}function Ev(){Jt.lFrame.currentNamespace=cn}let hh=!0;function en(){return hh}function fs(r){hh=r}function fh(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:M,ngOnDestroy:F}=f;_&&(r.contentHooks??=[]).push(-o,_),y&&((r.contentHooks??=[]).push(o,y),(r.contentCheckHooks??=[]).push(o,y)),b&&(r.viewHooks??=[]).push(-o,b),M&&((r.viewHooks??=[]).push(o,M),(r.viewCheckHooks??=[]).push(o,M)),null!=F&&(r.destroyHooks??=[]).push(o,F)}}function vl(r,s,o){op(r,s,3,o)}function ph(r,s,o,l){(3&r[Rt])===o&&op(r,s,o,l)}function gh(r,s){let o=r[Rt];(3&o)===s&&(o&=16383,o+=1,r[Rt]=o)}function op(r,s,o,l){const f=l??-1,_=s.length-1;let y=0;for(let b=void 0!==l?65535&r[fl]:0;b<_;b++)if("number"==typeof s[b+1]){if(y=s[b],null!=l&&y>=l)break}else s[b]<0&&(r[fl]+=65536),(y<f||-1==f)&&(mh(r,o,s,b),r[fl]=(4294901760&r[fl])+b+2),b++}function bi(r,s){at(4,r,s);const o=ue(null);try{s.call(r)}finally{ue(o),at(5,r,s)}}function mh(r,s,o,l){const u=o[l]<0,f=o[l+1],y=r[u?-o[l]:o[l]];u?r[Rt]>>14<r[fl]>>16&&(3&r[Rt])===s&&(r[Rt]+=16384,bi(y,f)):bi(y,f)}const ti=-1;class xs{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Jc(r){return r!==ti}function Os(r){return 32767&r}function Ju(r,s){let o=function vh(r){return r>>16}(r),l=s;for(;o>0;)l=l[ic],o--;return l}let vm=!0;function Na(r){const s=vm;return vm=r,s}const p=255,m=5;let T=0;const N={};function re(r,s){const o=We(r,s);if(-1!==o)return o;const l=s[tt];l.firstCreatePass&&(r.injectorIndex=s.length,ve(l.data,r),ve(s,null),ve(l.blueprint,null));const u=bt(r,s),f=r.injectorIndex;if(Jc(u)){const _=Os(u),y=Ju(u,s),b=y[tt].data;for(let M=0;M<8;M++)s[f+M]=y[_+M]|b[_+M]}return s[f+8]=u,f}function ve(r,s){r.push(0,0,0,0,0,0,0,0,s)}function We(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function bt(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){if(l=wv(u),null===l)return ti;if(o++,u=u[ic],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return ti}function Nt(r,s,o){!function W(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(br)&&(l=o[br]),null==l&&(l=o[br]=T++);const u=l&p;s.data[r+(u>>m)]|=1<<u}(r,s,o)}function Ci(r,s,o){if(o&an.Optional||void 0!==r)return r;Io()}function ka(r,s,o,l){if(o&an.Optional&&void 0===l&&(l=null),!(o&(an.Self|an.Host))){const u=r[ui],f=Gr(void 0);try{return u?u.get(s,l,o&an.Optional):Xa(s,l,o&an.Optional)}finally{Gr(f)}}return Ci(l,0,o)}function La(r,s,o,l=an.Default,u){if(null!==r){if(2048&s[Rt]&&!(l&an.Self)){const _=function dw(r,s,o,l,u){let f=r,_=s;for(;null!==f&&null!==_&&2048&_[Rt]&&!(512&_[Rt]);){const y=lp(f,_,o,l|an.Self,N);if(y!==N)return y;let b=f.parent;if(!b){const M=_[Ma];if(M){const F=M.get(o,N,l);if(F!==N)return F}b=wv(_),_=_[ic]}f=b}return u}(r,s,o,l,N);if(_!==N)return _}const f=lp(r,s,o,l,N);if(f!==N)return f}return ka(s,o,l,u)}function lp(r,s,o,l,u){const f=function up(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(br)?r[br]:void 0;return"number"==typeof s?s>=0?s&p:ed:s}(o);if("function"==typeof f){if(!gv(s,r,l))return l&an.Host?Ci(u,0,l):ka(s,o,l,u);try{let _;if(_=f(l),null!=_||l&an.Optional)return _;Io()}finally{vv()}}else if("number"==typeof f){let _=null,y=We(r,s),b=ti,M=l&an.Host?s[_r][qn]:null;for((-1===y||l&an.SkipSelf)&&(b=-1===y?bt(r,s):s[y+8],b!==ti&&Ih(l,!1)?(_=s[tt],y=Os(b),s=Ju(b,s)):y=-1);-1!==y;){const F=s[tt];if(Eh(f,y,F.data)){const q=cp(y,s,o,_,l,M);if(q!==N)return q}b=s[y+8],b!==ti&&Ih(l,s[tt].data[y+8]===M)&&Eh(f,y,s)?(_=F,y=Os(b),s=Ju(b,s)):y=-1}}return u}function cp(r,s,o,l,u,f){const _=s[tt],y=_.data[r+8],F=El(y,_,o,null==l?Ps(y)&&vm:l!=_&&!!(3&y.type),u&an.Host&&f===y);return null!==F?aa(s,_,F,y):N}function El(r,s,o,l,u){const f=r.providerIndexes,_=s.data,y=1048575&f,b=r.directiveStart,F=f>>20,ne=u?y+F:r.directiveEnd;for(let ae=l?y:y+F;ae<ne;ae++){const me=_[ae];if(ae<b&&o===me||ae>=b&&me.type===o)return ae}if(u){const ae=_[b];if(ae&&Ni(ae)&&ae.type===o)return b}return null}function aa(r,s,o,l){let u=r[o];const f=s.data;if(function ym(r){return r instanceof xs}(u)){const _=u;_.resolving&&function Ko(r,s){throw s&&s.join(" > "),new ut(-200,r)}(function fn(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():qt(r)}(f[o]));const y=Na(_.canSeeViewProviders);_.resolving=!0;const M=_.injectImpl?Gr(_.injectImpl):null;gv(r,l,an.Default);try{u=r[o]=_.factory(void 0,f,r,l),s.firstCreatePass&&o>=l.directiveStart&&function oc(r,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:f}=s.type.prototype;if(l){const _=D(s);(o.preOrderHooks??=[]).push(r,_),(o.preOrderCheckHooks??=[]).push(r,_)}u&&(o.preOrderHooks??=[]).push(0-r,u),f&&((o.preOrderHooks??=[]).push(r,f),(o.preOrderCheckHooks??=[]).push(r,f))}(o,f[o],s)}finally{null!==M&&Gr(M),Na(y),_.resolving=!1,vv()}}return u}function Eh(r,s,o){return!!(o[s+(r>>m)]&1<<r)}function Ih(r,s){return!(r&an.Self||r&an.Host&&s)}class di{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return La(this._tNode,this._lView,s,eo(l),o)}}function ed(){return new di(rr(),Le())}function wh(r){return qe(()=>{const s=r.prototype.constructor,o=s[Mi]||dp(s),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const f=u[Mi]||dp(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function dp(r){return ge(r)?()=>{const s=dp(ce(r));return s&&s()}:Ts(r)}function wv(r){const s=r[tt],o=s.type;return 2===o?s.declTNode:1===o?r[qn]:null}function Em(r){return function Pn(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const f=o[u];if($i(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(f===s)return o[u+1];u+=2}}}return null}(rr(),r)}function pw(r,s=null,o=null,l){const u=Sv(r,s,o,l);return u.resolveInjectorInitializers(),u}function Sv(r,s=null,o=null,l,u=new Set){const f=[o||wn,Ro(r)];return l=l||("object"==typeof r?void 0:sr(r)),new ns(f,s||Ss(),l||null,u)}let Fo=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=wo;static#t=this.NULL=new Ds;static create(o,l){if(Array.isArray(o))return pw({name:""},l,o,"");{const u=o.name??"";return pw({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=An({token:r,providedIn:"any",factory:()=>qr(Oc)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function td(r){return r.ngOriginalError}class Va{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&td(s);for(;o&&td(o);)o=td(o);return o||null}}const Rv=new Ht("",{providedIn:"root",factory:()=>Kt(Va).handleError.bind(void 0)});let Th=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Pv;static#t=this.__NG_ENV_ID__=o=>o}return r})();class wm extends Th{constructor(s){super(),this._lView=s}onDestroy(s){return sc(this._lView,s),()=>um(this._lView,s)}}function Pv(){return new wm(Le())}function mw(){return lc(rr(),Le())}function lc(r,s){return new gp(Sr(r,s))}let gp=(()=>{class r{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=mw}return r})();function _w(r){return r instanceof gp?r.nativeElement:r}function Mv(r){return s=>{setTimeout(r,void 0,s)}}const Il=class bh extends En.B{constructor(s=!1){super(),this.destroyRef=void 0,this.__isAsync=s,Hc()&&(this.destroyRef=Kt(Th,{optional:!0})??void 0)}emit(s){const o=ue(null);try{super.next(s)}finally{ue(o)}}subscribe(s,o,l){let u=s,f=o||(()=>null),_=l;if(s&&"object"==typeof s){const b=s;u=b.next?.bind(b),f=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(f=Mv(f),u&&(u=Mv(u)),_&&(_=Mv(_)));const y=super.subscribe({next:u,error:f,complete:_});return s instanceof xr.yU&&s.add(y),y}};function nd(){return this._results[Symbol.iterator]()}class Cm{static#e=Symbol.iterator;get changes(){return this._changes??=new Il}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=Cm.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=nd)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){this.dirty=!1;const l=function Un(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function xc(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],f=s[l];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(this._results,l,o))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function os(r){return!(128&~r.flags)}const rd=new Map;let Dm=0;const Dh="__ngContext__";function ki(r,s){yi(s)?(r[Dh]=s[rs],function Ov(r){rd.set(r[rs],r)}(s)):r[Dh]=s}function tu(r){return Dw(r[Pa])}function Pm(r){return Dw(r[or])}function Dw(r){for(;null!==r&&!Oi(r);)r=r[or];return r}let jv;function uA(r){jv=r}const uc=new Ht("",{providedIn:"root",factory:()=>Pw}),Pw="ng",$v=new Ht(""),Nm=new Ht("",{providedIn:"platform",factory:()=>"unknown"}),dA=new Ht(""),hA=new Ht("",{providedIn:"root",factory:()=>function ca(){if(void 0!==jv)return jv;if(typeof document<"u")return document;throw new ut(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Gv=()=>null;function qv(r,s,o=!1){return Gv(r,s,o)}const Yv=new Ht("",{providedIn:"root",factory:()=>!1});let Nh,Tl;function Mp(){if(void 0===Nh&&(Nh=null,Vt.trustedTypes))try{Nh=Vt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Nh}function ad(r){return Mp()?.createHTML(r)||r}function tE(r){return function jm(){if(void 0===Tl&&(Tl=null,Vt.trustedTypes))try{Tl=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Tl}()?.createScriptURL(r)||r}class bl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ur})`}}class Vo extends bl{getTypeName(){return"HTML"}}class Lw extends bl{getTypeName(){return"Style"}}class Fw extends bl{getTypeName(){return"Script"}}class kh extends bl{getTypeName(){return"URL"}}class EA extends bl{getTypeName(){return"ResourceURL"}}function Wi(r){return r instanceof bl?r.changingThisBreaksApplicationSecurity:r}function iu(r,s){const o=function yr(r){return r instanceof bl&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Ur})`)}return o===s}function IA(r){return new Vo(r)}function nE(r){return new Lw(r)}function Cl(r){return new Fw(r)}function Vw(r){return new kh(r)}function rE(r){return new EA(r)}class iE{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(ad(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class Uw{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=ad(s),o}}const da=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Li(r){return(r=String(r)).match(da)?r:"unsafe:"+r}function ha(r){const s={};for(const o of r.split(","))s[o]=!0;return s}function su(...r){const s={};for(const o of r)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const Lh=ha("area,br,col,hr,img,wbr"),xp=ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sE=ha("rp,rt"),Np=su(Lh,su(xp,ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),su(sE,ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),su(sE,xp)),oE=ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bw=su(oE,ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$m=ha("script,style,template");class TA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0,u=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)u.push(o),o=jw(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=Fh(o);if(f){o=f;break}o=u.pop()}return this.buf.join("")}startElement(s){const o=Gi(s).toLowerCase();if(!Np.hasOwnProperty(o))return this.sanitizedSomething=!0,!$m.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let u=0;u<l.length;u++){const f=l.item(u),_=f.name,y=_.toLowerCase();if(!Bw.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let b=f.value;oE[y]&&(b=Li(b)),this.buf.push(" ",_,'="',$w(b),'"')}return this.buf.push(">"),!0}endElement(s){const o=Gi(s).toLowerCase();Np.hasOwnProperty(o)&&!Lh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push($w(s))}}function Fh(r){const s=r.nextSibling;if(s&&r!==s.previousSibling)throw cd(s);return s}function jw(r){const s=r.firstChild;if(s&&function bA(r,s){return(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,s))throw cd(s);return s}function Gi(r){const s=r.nodeName;return"string"==typeof s?s:"FORM"}function cd(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const ou=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vh=/([^\#-~ |!])/g;function $w(r){return r.replace(/&/g,"&amp;").replace(ou,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Vh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ze;function Ei(r,s){let o=null;try{Ze=Ze||function ld(r){const s=new Uw(r);return function dc(){try{return!!(new window.DOMParser).parseFromString(ad(""),"text/html")}catch{return!1}}()?new iE(s):s}(r);let l=s?String(s):"";o=Ze.getInertBodyElement(l);let u=5,f=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=f,f=o.innerHTML,o=Ze.getInertBodyElement(l)}while(l!==f);return ad((new TA).sanitizeChildren(ks(o)||o))}finally{if(o){const l=ks(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ks(r){return"content"in r&&function aE(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ct=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ct||{});function mt(r){const s=kp();return s?s.sanitize(Ct.URL,r)||"":iu(r,"URL")?Wi(r):Li(qt(r))}function Se(r){const s=kp();if(s)return tE(s.sanitize(Ct.RESOURCE_URL,r)||"");if(iu(r,"ResourceURL"))return tE(Wi(r));throw new ut(904,!1)}function lE(r){return function kw(r){return Mp()?.createScriptURL(r)||r}(r[0])}function Hw(r,s,o){return function DA(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Se:mt}(s,o)(r)}function kp(){const r=Le();return r&&r[ur].sanitizer}const zw=/^>|^->|<!--|-->|--!>|<!-$/g,AA=/(<|>)/g,dM="\u200b$1\u200b";function zm(r){ft("Must never be called in production mode");const o=function Hm(r){ft("Must never be called in production mode");const o=r[_r][mr];return o&&o.constructor?rn(o.constructor):null}(r)?.type?.name;return o?` (used in the '${o}' component template)`:""}function dE(r){return r.ownerDocument}function Ks(r){return r instanceof Function?r():r}function fe(r){return"browser"===(r??Kt(Fo)).get(Nm)}var Vp=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Vp||{});let Up;function fE(r,s){return Up(r,s)}function as(r,s,o,l,u){if(null!=l){let f,_=!1;Oi(l)?f=l:yi(l)&&(_=!0,l=l[Fn]);const y=Rn(l);0===r&&null!==o?null==u?nT(s,o,y):fd(s,o,y,u||null,!0):1===r&&null!==o?fd(s,o,y,u||null,!0):2===r?function fa(r,s,o){const l=Qm(r,s);l&&function xA(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,y,_):3===r&&s.destroyNode(y),null!=f&&function sT(r,s,o,l,u){const f=o[_i];f!==Rn(o)&&as(s,r,l,f,u);for(let y=jn;y<o.length;y++){const b=o[y];gd(b[tt],b,r,s,l,f)}}(s,r,f,o,u)}}function Gm(r,s){return r.createComment(function Ww(r){return r.replace(zw,s=>s.replace(AA,dM))}(s))}function Ki(r,s,o){return r.createElement(s,o)}function Ua(r,s){s[ur].changeDetectionScheduler?.notify(1),gd(r,s,s[zt],2,null,null)}function eT(r,s){const o=r[Hi],l=o.indexOf(s);o.splice(l,1)}function Bp(r,s){if(r.length<=jn)return;const o=jn+s,l=r[o];if(l){const u=l[ei];null!==u&&u!==r&&eT(u,l),s>0&&(r[o-1][or]=l[or]);const f=Co(r,jn+s);!function RA(r,s){Ua(r,s),s[Fn]=null,s[qn]=null}(l[tt],l);const _=f[xo];null!==_&&_.detachView(f[tt]),l[zn]=null,l[or]=null,l[Rt]&=-129}return l}function Km(r,s){if(!(256&s[Rt])){const o=s[zt];o.destroyNode&&gd(r,s,o,3,null,null),function Zw(r){let s=r[Pa];if(!s)return pE(r[tt],r);for(;s;){let o=null;if(yi(s))o=s[Pa];else{const l=s[jn];l&&(o=l)}if(!o){for(;s&&!s[or]&&s!==r;)yi(s)&&pE(s[tt],s),s=s[zn];null===s&&(s=r),yi(s)&&pE(s[tt],s),o=s&&s[or]}s=o}}(s)}}function pE(r,s){if(256&s[Rt])return;const o=ue(null);try{s[Rt]&=-129,s[Rt]|=256,s[$e]&&function Ye(r){if(lt(r),rt(r))for(let s=0;s<r.producerNode.length;s++)et(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}(s[$e]),function MA(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof xs)){const f=o[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const y=u[f[_]],b=f[_+1];at(4,y,b);try{b.call(y)}finally{at(5,y,b)}}else{at(4,u,f);try{f.call(u)}finally{at(5,u,f)}}}}}(r,s),function PA(r,s){const o=r.cleanup,l=s[lo];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const _=o[f+3];_>=0?l[_]():l[-_].unsubscribe(),f+=2}else o[f].call(l[o[f+1]]);null!==l&&(s[lo]=null);const u=s[Oo];if(null!==u){s[Oo]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(r,s),1===s[tt].type&&s[zt].destroy();const l=s[ei];if(null!==l&&Oi(s[zn])){l!==s[zn]&&eT(l,s);const u=s[xo];null!==u&&u.detachView(r)}!function Ew(r){rd.delete(r[rs])}(s)}finally{ue(o)}}function gE(r,s,o){return function tT(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[Fn];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:f}=r.data[l.directiveStart+u];if(f===$s.None||f===$s.Emulated)return null}return Sr(l,o)}}(r,s.parent,o)}function fd(r,s,o,l,u){r.insertBefore(s,o,l,u)}function nT(r,s,o){r.appendChild(s,o)}function rT(r,s,o,l,u){null!==l?fd(r,s,o,l,u):nT(r,s,o)}function Qm(r,s){return r.parentNode(s)}function mE(r,s,o){return _E(r,s,o)}let Xm,_E=function iT(r,s,o){return 40&r.type?Sr(r,o):null};function Ym(r,s,o,l){const u=gE(r,l,s),f=s[zt],y=mE(l.parent||s[qn],l,s);if(null!=u)if(Array.isArray(o))for(let b=0;b<o.length;b++)rT(f,u,o[b],y,!1);else rT(f,u,o,y,!1);void 0!==Xm&&Xm(f,l,s,o,u)}function pd(r,s){if(null!==s){const o=s.type;if(3&o)return Sr(s,r);if(4&o)return Zm(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return pd(r,l);{const u=r[s.index];return Oi(u)?Zm(-1,u):Rn(u)}}if(32&o)return fE(s,r)()||Rn(r[s.index]);{const l=Qi(r,s);return null!==l?Array.isArray(l)?l[0]:pd(Xc(r[_r]),l):pd(r,s.next)}}return null}function Qi(r,s){return null!==s?r[_r][qn].projection[s.projection]:null}function Zm(r,s){const o=jn+r+1;if(o<s.length){const l=s[o],u=l[tt].firstChild;if(null!==u)return pd(l,u)}return s[_i]}function Rr(r,s,o,l,u,f,_){for(;null!=o;){const y=l[o.index],b=o.type;if(_&&0===s&&(y&&ki(Rn(y),l),o.flags|=2),32&~o.flags)if(8&b)Rr(r,s,o.child,l,u,f,!1),as(s,r,u,y,f);else if(32&b){const M=fE(o,l);let F;for(;F=M();)as(s,r,u,F,f);as(s,r,u,y,f)}else 16&b?vr(r,s,l,o,u,f):as(s,r,u,y,f);o=_?o.projectionNext:o.next}}function gd(r,s,o,l,u,f){Rr(o,l,r.firstChild,s,u,f,!1)}function vr(r,s,o,l,u,f){const _=o[_r],b=_[qn].projection[l.projection];if(Array.isArray(b))for(let M=0;M<b.length;M++)as(s,r,u,b[M],f);else{let M=b;const F=_[zn];os(l)&&(M.flags|=128),Rr(r,s,M,F,u,f,!0)}}function EE(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function oT(r,s,o){const{mergedAttrs:l,classes:u,styles:f}=o;null!==l&&Da(r,s,l),null!==u&&EE(r,s,u),null!==f&&function ho(r,s,o){r.setAttribute(s,"style",o)}(r,s,f)}const kt={};function aT(r=1){Dl(kn(),Le(),hs()+r,!1)}function Dl(r,s,o,l){if(!l)if(3&~s[Rt]){const f=r.preOrderHooks;null!==f&&ph(s,f,0,o)}else{const f=r.preOrderCheckHooks;null!==f&&vl(s,f,o)}Zc(o)}function Vr(r,s=an.Default){const o=Le();return null===o?qr(r,s):La(rr(),o,ce(r),s)}function Al(){throw new Error("invalid")}function jp(r,s,o,l,u,f){const _=ue(null);try{let y=null;u&Ao.SignalBased&&(y=s[l][xe]),null!==y&&void 0!==y.transformFn&&(f=y.transformFn(f)),u&Ao.HasDecoratorInputTransform&&(f=r.inputTransforms[l].call(s,f)),null!==r.setInput?r.setInput(s,y,f,o,l):Zf(s,y,l,f)}finally{ue(_)}}function au(r,s,o,l,u,f,_,y,b,M,F){const q=s.blueprint.slice();return q[Fn]=u,q[Rt]=204|l,(null!==M||r&&2048&r[Rt])&&(q[Rt]|=2048),cv(q),q[zn]=q[ic]=r,q[mr]=o,q[ur]=_||r&&r[ur],q[zt]=y||r&&r[zt],q[ui]=b||r&&r[ui]||null,q[qn]=f,q[rs]=function vw(){return Dm++}(),q[Qr]=F,q[Ma]=M,q[_r]=2==s.type?r[_r]:q,q}function zh(r,s,o,l,u){let f=r.data[s];if(null===f)f=function Sl(r,s,o,l,u){const f=tp(),_=uh(),b=r.data[s]=function cT(r,s,o,l,u,f){let _=s?s.injectorIndex:-1,y=0;return Yu()&&(y|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,o,s,l,u);return null===r.firstChild&&(r.firstChild=b),null!==f&&(_?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b,b.prev=f)),b}(r,s,o,l,u),function sw(){return Jt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=l,f.attrs=u;const _=function Yc(){const r=Jt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return sa(f,!0),f}function pa(r,s,o,l){if(0===o)return-1;const u=s.length;for(let f=0;f<o;f++)s.push(l),r.blueprint.push(l),r.data.push(null);return u}function $p(r,s,o,l,u){const f=hs(),_=2&l;try{Zc(-1),_&&s.length>ln&&Dl(r,s,ln,!1),at(_?2:0,u),o(l,u)}finally{Zc(f),at(_?3:1,u)}}function Rl(r,s,o){if(xa(s)){const l=ue(null);try{const f=s.directiveEnd;for(let _=s.directiveStart;_<f;_++){const y=r.data[_];y.contentQueries&&y.contentQueries(1,o[_],_)}}finally{ue(l)}}}function ga(r,s,o){dm()&&(function pT(r,s,o,l){const u=o.directiveStart,f=o.directiveEnd;Ps(o)&&function mT(r,s,o){const l=Sr(s,r),u=gc(o);let _=16;o.signals?_=4096:o.onPush&&(_=64);const y=i_(r,au(r,u,null,_,l,s,null,r[ur].rendererFactory.createRenderer(l,o),null,null,null));r[s.index]=y}(s,o,r.data[u+o.componentOffset]),r.firstCreatePass||re(o,s),ki(l,s);const _=o.initialInputs;for(let y=u;y<f;y++){const b=r.data[y],M=aa(s,r,y,o);ki(M,s),null!==_&&_T(0,y-u,M,b,0,_),Ni(b)&&(is(o.index,s)[mr]=aa(s,r,y,o))}}(r,s,o,Sr(o,s)),!(64&~o.flags)&&qh(r,s,o))}function md(r,s,o=Sr){const l=s.localNames;if(null!==l){let u=s.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],y=-1===_?o(s,r):r[_];r[u++]=y}}}function gc(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=e_(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function e_(r,s,o,l,u,f,_,y,b,M,F){const q=ln+l,ne=q+u,ae=function Wh(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:kt);return o}(q,ne),me="function"==typeof M?M():M;return ae[tt]={type:r,blueprint:ae,template:o,queries:null,viewQuery:y,declTNode:s,data:ae.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:me,incompleteFirstPass:!1,ssrId:F}}let lu=()=>null;function zp(r,s,o,l,u){for(let f in s){if(!s.hasOwnProperty(f))continue;const _=s[f];if(void 0===_)continue;l??={};let y,b=Ao.None;Array.isArray(_)?(y=_[0],b=_[1]):y=_;let M=f;if(null!==u){if(!u.hasOwnProperty(f))continue;M=u[f]}0===r?Gh(l,o,M,y,b):Gh(l,o,M,y)}return l}function Gh(r,s,o,l,u){let f;r.hasOwnProperty(o)?(f=r[o]).push(s,l):f=r[o]=[s,l],void 0!==u&&f.push(u)}function fo(r,s,o,l,u,f,_,y){const b=Sr(s,o);let F,M=s.inputs;!y&&null!=M&&(F=M[l])?(Wp(r,o,F,l,u),Ps(s)&&function dT(r,s){const o=is(s,r);16&o[Rt]||(o[Rt]|=64)}(o,s.index)):3&s.type&&(l=function NA(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=_?_(u,s.value||"",l):u,f.setProperty(b,l,u))}function n_(r,s,o,l){if(dm()){const u=null===l?null:{"":-1},f=function gT(r,s){const o=r.directiveRegistry;let l=null,u=null;if(o)for(let f=0;f<o.length;f++){const _=o[f];if(Jo(s,_.selectors,!1))if(l||(l=[]),Ni(_))if(null!==_.findHostDirectiveDefs){const y=[];u=u||new Map,_.findHostDirectiveDefs(_,y,u),l.unshift(...y,_),Ln(r,s,y.length)}else l.unshift(_),Ln(r,s,0);else u=u||new Map,_.findHostDirectiveDefs?.(_,l,u),l.push(_)}return null===l?null:[l,u]}(r,o);let _,y;null===f?_=y=null:[_,y]=f,null!==_&&$r(r,s,o,_,u,y),u&&function Er(r,s,o){if(s){const l=r.localNames=[];for(let u=0;u<s.length;u+=2){const f=o[s[u+1]];if(null==f)throw new ut(-301,!1);l.push(s[u],f)}}}(o,l,u)}o.mergedAttrs=Kr(o.mergedAttrs,o.attrs)}function $r(r,s,o,l,u,f){for(let M=0;M<l.length;M++)Nt(re(o,s),r,l[M].type);!function TE(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,l.length);for(let M=0;M<l.length;M++){const F=l[M];F.providersResolver&&F.providersResolver(F)}let _=!1,y=!1,b=pa(r,s,l.length,null);for(let M=0;M<l.length;M++){const F=l[M];o.mergedAttrs=Kr(o.mergedAttrs,F.hostAttrs),bE(r,o,s,b,F),Kh(b,F,u),null!==F.contentQueries&&(o.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(o.flags|=64);const q=F.type.prototype;!_&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((r.preOrderHooks??=[]).push(o.index),_=!0),!y&&(q.ngOnChanges||q.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(o.index),y=!0),b++}!function uT(r,s,o){const u=s.directiveEnd,f=r.data,_=s.attrs,y=[];let b=null,M=null;for(let F=s.directiveStart;F<u;F++){const q=f[F],ne=o?o.get(q):null,me=ne?ne.outputs:null;b=zp(0,q.inputs,F,b,ne?ne.inputs:null),M=zp(1,q.outputs,F,M,me);const ke=null===b||null===_||Ql(s)?null:yT(b,F,_);y.push(ke)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=y,s.inputs=b,s.outputs=M}(r,o,f)}function qh(r,s,o){const l=o.directiveStart,u=o.directiveEnd,f=o.index,_=function aw(){return Jt.lFrame.currentDirectiveIndex}();try{Zc(f);for(let y=l;y<u;y++){const b=r.data[y],M=s[y];ip(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&kA(b,M)}}finally{Zc(-1),ip(_)}}function kA(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Ln(r,s,o){s.componentOffset=o,(r.components??=[]).push(s.index)}function Kh(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;Ni(s)&&(o[""]=r)}}function bE(r,s,o,l,u){r.data[l]=u;const f=u.factory||(u.factory=Ts(u.type)),_=new xs(f,Ni(u),Vr);r.blueprint[l]=_,o[l]=_,function cu(r,s,o,l,u){const f=u.hostBindings;if(f){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const y=~s.index;(function fT(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=y&&_.push(y),_.push(o,l,f)}}(r,s,l,pa(r,o,u.hostVars,kt),u)}function ma(r,s,o,l,u,f){const _=Sr(r,s);!function r_(r,s,o,l,u,f,_){if(null==f)r.removeAttribute(s,u,o);else{const y=null==_?qt(f):_(f,l||"",u);r.setAttribute(s,u,y,o)}}(s[zt],_,f,r.value,o,l,u)}function _T(r,s,o,l,u,f){const _=f[s];if(null!==_)for(let y=0;y<_.length;)jp(l,o,_[y++],_[y++],_[y++],_[y++])}function yT(r,s,o){let l=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===l&&(l=[]);const _=r[f];for(let y=0;y<_.length;y+=3)if(_[y]===s){l.push(f,_[y+1],_[y+2],o[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function vT(r,s,o,l){return[r,!0,0,s,null,l,null,o,null,null]}function ET(r,s){const o=r.contentQueries;if(null!==o){const l=ue(null);try{for(let u=0;u<o.length;u+=2){const _=o[u+1];if(-1!==_){const y=r.data[_];sp(o[u]),y.contentQueries(2,s[_],_)}}}finally{ue(l)}}}function i_(r,s){return r[Pa]?r[qu][or]=s:r[Pa]=s,r[qu]=s,s}function s_(r,s,o){sp(0);const l=ue(null);try{s(r,o)}finally{ue(l)}}function CE(r){return r[lo]||(r[lo]=[])}function IT(r){return r.cleanup||(r.cleanup=[])}function o_(r,s){const o=r[ui],l=o?o.get(Va,null):null;l&&l.handleError(s)}function Wp(r,s,o,l,u){for(let f=0;f<o.length;){const _=o[f++],y=o[f++],b=o[f++];jp(r.data[_],s[_],l,y,b,u)}}function Qs(r,s,o){const l=Yt(s,r);!function $h(r,s,o){r.setValue(s,o)}(r[zt],l,o)}function Gp(r,s){const o=is(s,r),l=o[tt];!function a_(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])}(l,o);const u=o[Fn];null!==u&&null===o[Qr]&&(o[Qr]=qv(u,o[ui])),Qh(l,o,o[mr])}function Qh(r,s,o){_m(s);try{const l=r.viewQuery;null!==l&&s_(1,l,o);const u=r.template;null!==u&&$p(r,s,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),s[xo]?.finishViewCreation(r),r.staticContentQueries&&ET(r,s),r.staticViewQueries&&s_(2,r.viewQuery,o);const f=r.components;null!==f&&function TT(r,s){for(let o=0;o<s.length;o++)Gp(r,s[o])}(s,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[Rt]&=-5,dh()}}function Xh(r,s,o,l){const u=ue(null);try{const f=s.tView,b=au(r,f,o,4096&r[Rt]?4096:16,null,s,null,null,l?.injector??null,l?.embeddedViewInjector??null,l?.dehydratedView??null);b[ei]=r[s.index];const F=r[xo];return null!==F&&(b[xo]=F.createEmbeddedView(f)),Qh(f,b,o),b}finally{ue(u)}}function Pl(r,s){const o=jn+s;if(o<r.length)return r[o]}function _d(r,s){return!s||null===s.firstChild||os(r)}function Ml(r,s,o,l=!0){const u=s[tt];if(function qm(r,s,o,l){const u=jn+l,f=o.length;l>0&&(o[u-1][or]=s),l<f-jn?(s[or]=o[u],ba(o,jn+l,s)):(o.push(s),s[or]=null),s[zn]=o;const _=s[ei];null!==_&&o!==_&&function Jw(r,s){const o=r[Hi];s[_r]!==s[zn][zn][_r]&&(r[Rt]|=ko.HasTransplantedViews),null===o?r[Hi]=[s]:o.push(s)}(_,s);const y=s[xo];null!==y&&y.insertView(r),lh(s),s[Rt]|=128}(u,s,r,o),l){const _=Zm(o,r),y=s[zt],b=Qm(y,r[_i]);null!==b&&function Yw(r,s,o,l,u,f){l[Fn]=u,l[qn]=s,gd(r,l,o,1,u,f)}(u,r[qn],y,s,b,_)}const f=s[Qr];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function l_(r,s){const o=Bp(r,s);return void 0!==o&&Km(o[tt],o),o}function yd(r,s,o,l,u=!1){for(;null!==o;){const f=s[o.index];null!==f&&l.push(Rn(f)),Oi(f)&&vd(f,l);const _=o.type;if(8&_)yd(r,s,o.child,l);else if(32&_){const y=fE(o,s);let b;for(;b=y();)l.push(b)}else if(16&_){const y=Qi(s,o);if(Array.isArray(y))l.push(...y);else{const b=Xc(s[_r]);yd(b[tt],b,y,l,!0)}}o=u?o.projectionNext:o.next}return l}function vd(r,s){for(let o=jn;o<r.length;o++){const l=r[o],u=l[tt].firstChild;null!==u&&yd(l[tt],l,u,s)}r[_i]!==r[Fn]&&s.push(r[_i])}let Fs=[];const qp={...te,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{ch(r.lView)},consumerOnSignalRead(){this.lView[$e]=this}},AE=100;function mc(r,s=!0,o=0){const l=r[ur],u=l.rendererFactory;u.begin?.();try{!function Kp(r,s){Ed(r,s);let o=0;for(;ah(r);){if(o===AE)throw new ut(103,!1);o++,Ed(r,1)}}(r,o)}catch(_){throw s&&o_(r,_),_}finally{u.end?.(),l.inlineEffectRunner?.flush()}}function CT(r,s,o,l){const u=s[Rt];if(!(256&~u))return;s[ur].inlineEffectRunner?.flush(),_m(s);let _=null,y=null;(function FA(r){return 2!==r.type})(r)&&(y=function bT(r){return r[$e]??function DE(r){const s=Fs.pop()??Object.create(qp);return s.lView=r,s}(r)}(s),_=Tt(y));try{cv(s),function np(r){return Jt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&$p(r,s,o,2,l);const b=!(3&~u);if(b){const q=r.preOrderCheckHooks;null!==q&&vl(s,q,null)}else{const q=r.preOrderHooks;null!==q&&ph(s,q,0,null),gh(s,0)}if(function VA(r){for(let s=tu(r);null!==s;s=Pm(s)){if(!(s[Rt]&ko.HasTransplantedViews))continue;const o=s[Hi];for(let l=0;l<o.length;l++){lm(o[l])}}}(s),xl(s,0),null!==r.contentQueries&&ET(r,s),b){const q=r.contentCheckHooks;null!==q&&vl(s,q)}else{const q=r.contentHooks;null!==q&&ph(s,q,1),gh(s,1)}!function Jm(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)Zc(~u);else{const f=u,_=o[++l],y=o[++l];ow(_,f),y(2,s[f])}}}finally{Zc(-1)}}(r,s);const M=r.components;null!==M&&RE(s,M,0);const F=r.viewQuery;if(null!==F&&s_(2,F,l),b){const q=r.viewCheckHooks;null!==q&&vl(s,q)}else{const q=r.viewHooks;null!==q&&ph(s,q,2),gh(s,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Ku]){for(const q of s[Ku])q();s[Ku]=null}s[Rt]&=-73}catch(b){throw ch(s),b}finally{null!==y&&(gn(y,_),function c_(r){r.lView[$e]!==r&&(r.lView=null,Fs.push(r))}(y)),dh()}}function xl(r,s){for(let o=tu(r);null!==o;o=Pm(o))for(let l=jn;l<o.length;l++)SE(o[l],s)}function po(r,s,o){SE(is(s,r),o)}function SE(r,s){Xu(r)&&Ed(r,s)}function Ed(r,s){const l=r[tt],u=r[Rt],f=r[$e];let _=!!(0===s&&16&u);if(_||=!!(64&u&&0===s),_||=!!(1024&u),_||=!(!f?.dirty||!Tn(f)),f&&(f.dirty=!1),r[Rt]&=-9217,_)CT(l,r,l.template,r[mr]);else if(8192&u){xl(r,1);const y=l.components;null!==y&&RE(r,y,1)}}function RE(r,s,o){for(let l=0;l<s.length;l++)po(r,s[l],o)}function go(r){for(r[ur].changeDetectionScheduler?.notify();r;){r[Rt]|=64;const s=Xc(r);if(pl(r)&&!s)return r;r=s}return null}class Yh{get rootNodes(){const s=this._lView,o=s[tt];return yd(o,s,o.firstChild,[])}constructor(s,o,l=!0){this._lView=s,this._cdRefInjectingView=o,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(s){this._lView[mr]=s}get destroyed(){return!(256&~this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[zn];if(Oi(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Bp(s,l),Co(o,l))}this._attachedToViewContainer=!1}Km(this._lView[tt],this._lView)}onDestroy(s){sc(this._lView,s)}markForCheck(){go(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-129}reattach(){lh(this._lView),this._lView[Rt]|=128}detectChanges(){this._lView[Rt]|=1024,mc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ut(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ua(this._lView[tt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ut(902,!1);this._appRef=s,lh(this._lView)}}let _c=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=bn}return r})();const UA=_c,BA=class extends UA{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,l){const u=Xh(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:o,dehydratedView:l});return new Yh(u)}};function bn(){return u_(rr(),Le())}function u_(r,s){return 4&r.type?new BA(s,r,lc(r,s)):null}let xE=()=>null;function Td(r,s){return xE(r,s)}class nf{}class tg{}class rf{}class VT{resolveComponentFactory(s){throw function ng(r){const s=Error(`No component factory found for ${sr(r)}.`);return s.ngComponent=r,s}(s)}}let ig=(()=>{class r{static#e=this.NULL=new VT}return r})();class UT{}let BT=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function jT(){const r=Le(),o=is(rr().index,r);return(yi(o)?o:r)[zt]}()}return r})(),KA=(()=>{class r{static#e=this.\u0275prov=An({token:r,providedIn:"root",factory:()=>null})}return r})();const OE={},$T=new Set;function Bo(r){$T.has(r)||($T.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function bd(...r){}class Cn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new ut(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function HT(){const r="function"==typeof Vt.requestAnimationFrame;let s=Vt[r?"requestAnimationFrame":"setTimeout"],o=Vt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function og(r){const s=()=>{!function zT(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Vt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,_a(r),r.isCheckStableRunning=!0,sg(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),_a(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,f,_,y)=>{if(function WT(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(y))return o.invokeTask(u,f,_,y);try{return kE(r),o.invokeTask(u,f,_,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),LE(r)}},onInvoke:(o,l,u,f,_,y,b)=>{try{return kE(r),o.invoke(u,f,_,y,b)}finally{r.shouldCoalesceRunChangeDetection&&s(),LE(r)}},onHasTask:(o,l,u,f)=>{o.hasTask(u,f),l===u&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,_a(r),sg(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,u,f)=>(o.handleError(u,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cn.isInAngularZone())throw new ut(909,!1)}static assertNotInAngularZone(){if(Cn.isInAngularZone())throw new ut(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+u,s,NE,bd,bd);try{return f.runTask(_,o,l)}finally{f.cancelTask(_)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const NE={};function sg(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function _a(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function kE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function LE(r){r._nesting--,sg(r)}var du=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(du||{});const qT={destroy(){}};function y_(r,s){!s&&function qs(r){if(!Hc())throw new ut(-203,!1)}();const o=s?.injector??Kt(Fo);if(!fe(o))return qT;Bo("NgAfterNextRender");const l=o.get(Cd),u=l.handler??=new VE,f=s?.phase??du.MixedReadWrite,_=()=>{u.unregister(b),y()},y=o.get(Th).onDestroy(_),b=ao(o,()=>new KT(f,()=>{_(),r()}));return u.register(b),{destroy:_}}class KT{constructor(s,o){this.phase=s,this.callbackFn=o,this.zone=Kt(Cn),this.errorHandler=Kt(Va,{optional:!0}),Kt(nf,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){this.errorHandler?.handleError(s)}}}class VE{constructor(){this.executingCallbacks=!1,this.buckets={[du.EarlyRead]:new Set,[du.Write]:new Set,[du.MixedReadWrite]:new Set,[du.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const o of s)o.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let Cd=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of o)l()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=An({token:r,providedIn:"root",factory:()=>new r})}return r})();function hu(r){return!!ci(r)}function ug(r,s,o){let l=o?r.styles:null,u=o?r.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const y=s[_];"number"==typeof y?f=y:1==f?u=pr(u,y):2==f&&(l=pr(l,y+": "+s[++_]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}class XT extends ig{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=rn(s);return new Ba(o,this.ngModule)}}function BE(r){const s=[];for(const o in r){if(!r.hasOwnProperty(o))continue;const l=r[o];void 0!==l&&s.push({propName:Array.isArray(l)?l[0]:l,templateName:o})}return s}class kl{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=eo(l);const u=this.injector.get(s,OE,l);return u!==OE||o===OE?u:this.parentInjector.get(s,o,l)}}class Ba extends rf{get inputs(){const s=this.componentDef,o=s.inputTransforms,l=BE(s.inputs);if(null!==o)for(const u of l)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return l}get outputs(){return BE(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function kc(r){return r.map(io).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,u){const f=ue(null);try{let _=(u=u||this.ngModule)instanceof Dr?u:u?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const y=_?new kl(s,_):s,b=y.get(UT,null);if(null===b)throw new ut(407,!1);const M=y.get(KA,null),ne={rendererFactory:b,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:y.get(Cd,null),changeDetectionScheduler:y.get(nf,null)},ae=b.createRenderer(null,this.componentDef),me=this.componentDef.selectors[0][0]||"div",ke=l?function IE(r,s,o,l){const f=l.get(Yv,!1)||o===$s.ShadowDom,_=r.selectRootElement(s,f);return function t_(r){lu(r)}(_),_}(ae,l,this.componentDef.encapsulation,y):Ki(ae,me,function E_(r){const s=r.toLowerCase();return"svg"===s?cn:"math"===s?"math":null}(me));let it=512;this.componentDef.signals?it|=4096:this.componentDef.onPush||(it|=16);let ct=null;null!==ke&&(ct=qv(ke,y,!0));const Ge=e_(0,null,null,1,0,null,null,null,null,null,null),Qt=au(null,Ge,null,it,null,null,ne,ae,y,null,ct);let $n,Pr;_m(Qt);try{const Zi=this.componentDef;let yo,Wf=null;Zi.findHostDirectiveDefs?(yo=[],Wf=new Map,Zi.findHostDirectiveDefs(Zi,yo,Wf),yo.push(Zi)):yo=[Zi];const JD=function dg(r,s){const o=r[tt],l=ln;return r[l]=s,zh(o,l,2,"#host",null)}(Qt,ke),X0=function YT(r,s,o,l,u,f,_){const y=u[tt];!function jE(r,s,o,l){for(const u of r)s.mergedAttrs=Kr(s.mergedAttrs,u.hostAttrs);null!==s.mergedAttrs&&(ug(s,s.mergedAttrs,!0),null!==o&&oT(l,o,s))}(l,r,s,_);let b=null;null!==s&&(b=qv(s,u[ui]));const M=f.rendererFactory.createRenderer(s,o);let F=16;o.signals?F=4096:o.onPush&&(F=64);const q=au(u,gc(o),null,F,u[r.index],r,f,M,null,null,b);return y.firstCreatePass&&Ln(y,r,l.length-1),i_(u,q),u[r.index]=q}(JD,ke,Zi,yo,Qt,ne,ae);Pr=Qc(Ge,ln),ke&&function ZT(r,s,o,l){if(l)Da(r,o,["ng-version","17.3.8"]);else{const{attrs:u,classes:f}=function Lc(r){const s=[],o=[];let l=1,u=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===u?""!==f&&s.push(f,r[++l]):8===u&&o.push(f);else{if(!mi(u))break;u=f}l++}return{attrs:s,classes:o}}(s.selectors[0]);u&&Da(r,o,u),f&&f.length>0&&EE(r,o,f.join(" "))}}(ae,Zi,ke,l),void 0!==o&&function JT(r,s,o){const l=r.projection=[];for(let u=0;u<s.length;u++){const f=o[u];l.push(null!=f?Array.from(f):null)}}(Pr,this.ngContentSelectors,o),$n=function $E(r,s,o,l,u,f){const _=rr(),y=u[tt],b=Sr(_,u);$r(y,u,_,o,null,l);for(let F=0;F<o.length;F++)ki(aa(u,y,_.directiveStart+F,_),u);qh(y,u,_),b&&ki(b,u);const M=aa(u,y,_.directiveStart+_.componentOffset,_);if(r[mr]=u[mr]=M,null!==f)for(const F of f)F(M,s);return Rl(y,_,u),M}(X0,Zi,yo,Wf,Qt,[XA]),Qh(Ge,Qt,null)}finally{dh()}return new Dd(this.componentType,$n,lc(Pr,Qt),Qt,Pr)}finally{ue(f)}}}class Dd extends tg{constructor(s,o,l,u,f){super(),this.location=l,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Yh(u,void 0,!1),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const f=this._rootLView;Wp(f[tt],f,u,s,o),this.previousInputValues.set(s,o),go(is(this._tNode.index,f))}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function XA(){const r=rr();fh(Le()[tt],r)}let hg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=eb}return r})();function eb(){return zE(rr(),Le())}const I_=hg,af=class extends I_{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const s=bt(this._hostTNode,this._hostLView);if(Jc(s)){const o=Ju(s,this._hostLView),l=Os(s);return new di(o[tt].data[l+8],o)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=_u(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-jn}createEmbeddedView(s,o,l){let u,f;"number"==typeof l?u=l:null!=l&&(u=l.index,f=l.injector);const _=Td(this._lContainer,s.ssrId),y=s.createEmbeddedViewImpl(o||{},f,_);return this.insertImpl(y,u,_d(this._hostTNode,_)),y}createComponent(s,o,l,u,f){const _=s&&!function Be(r){return"function"==typeof r}(s);let y;if(_)y=o;else{const me=o||{};y=me.index,l=me.injector,u=me.projectableNodes,f=me.environmentInjector||me.ngModuleRef}const b=_?s:new Ba(rn(s)),M=l||this.parentInjector;if(!f&&null==b.ngModule){const ke=(_?M:this.parentInjector).get(Dr,null);ke&&(f=ke)}const F=rn(b.componentType??{}),q=Td(this._lContainer,F?.id??null),ae=b.create(M,u,q?.firstChild??null,f);return this.insertImpl(ae.hostView,y,_d(this._hostTNode,q)),ae}insert(s,o){return this.insertImpl(s,o,!0)}insertImpl(s,o,l){const u=s._lView;if(function lv(r){return Oi(r[zn])}(u)){const y=this.indexOf(s);if(-1!==y)this.detach(y);else{const b=u[zn],M=new af(b,b[qn],b[zn]);M.detach(M.indexOf(s))}}const f=this._adjustIndex(o),_=this._lContainer;return Ml(_,u,f,l),s.attachToViewContainerRef(),ba(HE(_),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=_u(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Bp(this._lContainer,o);l&&(Co(HE(this._lContainer),o),Km(l[tt],l))}detach(s){const o=this._adjustIndex(s,-1),l=Bp(this._lContainer,o);return l&&null!=Co(HE(this._lContainer),o)?new Yh(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function _u(r){return r[8]}function HE(r){return r[8]||(r[8]=[])}function zE(r,s){let o;const l=s[r.index];return Oi(l)?o=l:(o=vT(l,s,null,r),s[r.index]=o,i_(s,o)),tb(o,s,r,l),new af(o,r,s)}let tb=function yu(r,s,o,l){if(r[_i])return;let u;u=8&o.type?Rn(l):function YA(r,s){const o=r[zt],l=o.createComment(""),u=Sr(s,r);return fd(o,Qm(o,u),l,function OA(r,s){return r.nextSibling(s)}(o,u),!1),l}(s,o),r[_i]=u},WE=()=>!1;function lf(r,s,o){return WE(r,s,o)}class w_{constructor(s){this.queryList=s,this.matches=null}clone(){return new w_(this.queryList)}setDirty(){this.queryList.setDirty()}}class GE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let f=0;f<l;f++){const _=o.getByIndex(f);u.push(this.queries[_.indexInDeclarationView].clone())}return new GE(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==D_(s,o).matches&&this.queries[o].setDirty()}}class T_{constructor(s,o,l=null){this.flags=o,this.read=l,this.predicate="string"==typeof s?function gg(r){return r.split(",").map(s=>s.trim())}(s):s}}class fg{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,u);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new fg(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class b_{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new b_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const f=l[u];this.matchTNodeWithReadOption(s,o,qE(o,f)),this.matchTNodeWithReadOption(s,o,El(o,s,f,!1,!1))}else l===_c?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,El(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===gp||u===hg||u===_c&&4&o.type)this.addMatch(o.index,-2);else{const f=El(o,s,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function qE(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function ib(r,s,o,l){return-1===o?function KE(r,s){return 11&r.type?lc(r,s):4&r.type?u_(r,s):null}(s,r):-2===o?function C_(r,s,o){return o===gp?lc(s,r):o===_c?u_(s,r):o===hg?zE(s,r):void 0}(r,s,l):aa(r,r[tt],o,s)}function sb(r,s,o,l){const u=s[xo].queries[l];if(null===u.matches){const f=r.data,_=o.matches,y=[];for(let b=0;null!==_&&b<_.length;b+=2){const M=_[b];y.push(M<0?null:ib(s,f[M],_[b+1],o.metadata.read))}u.matches=y}return u.matches}function pg(r,s,o,l){const u=r.queries.getByIndex(o),f=u.matches;if(null!==f){const _=sb(r,s,u,o);for(let y=0;y<f.length;y+=2){const b=f[y];if(b>0)l.push(_[y/2]);else{const M=f[y+1],F=s[-b];for(let q=jn;q<F.length;q++){const ne=F[q];ne[ei]===ne[zn]&&pg(ne[tt],ne,M,l)}if(null!==F[Hi]){const q=F[Hi];for(let ne=0;ne<q.length;ne++){const ae=q[ne];pg(ae[tt],ae,M,l)}}}}}return l}function ob(r,s,o){const l=new Cm(!(4&~o));return function lT(r,s,o,l){const u=CE(s);u.push(o),r.firstCreatePass&&IT(r).push(l,u.length-1)}(r,s,l,l.destroy),(s[xo]??=new GE).queries.push(new w_(l))-1}function Sd(r,s,o){null===r.queries&&(r.queries=new fg),r.queries.track(new b_(s,o))}function D_(r,s){return r.queries.getByIndex(s)}function ms(r,s){const o=r[tt],l=D_(o,s);return l.crossesNgTemplate?pg(o,r,s,[]):sb(o,r,l,s)}function JE(r,s){Bo("NgSignals");const o=function Ce(r){const s=Object.create(St);s.value=r;const o=()=>(be(s),s.value);return o[xe]=s,o}(r),l=o[xe];return s?.equal&&(l.equal=s.equal),o.set=u=>Re(l,u),o.update=u=>function Me(r,s){ot()||oi(),Re(r,s(r.value))}(l,u),o.asReadonly=vc.bind(o),o}function vc(){const r=this[xe];if(void 0===r.readonlyFn){const s=()=>this();s[xe]=r,r.readonlyFn=s}return r.readonlyFn}function Rd(r){return function XE(r){return"function"==typeof r&&void 0!==r[xe]}(r)&&"function"==typeof r.set}function N_(r){let s=function fb(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let u;if(Ni(r))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ut(903,!1);u=s.\u0275dir}if(u){if(o){l.push(u);const _=r;_.inputs=_g(r.inputs),_.inputTransforms=_g(r.inputTransforms),_.declaredInputs=_g(r.declaredInputs),_.outputs=_g(r.outputs);const y=u.hostBindings;y&&gb(r,y);const b=u.viewQuery,M=u.contentQueries;if(b&&oI(r,b),M&&dS(r,M),uS(r,u),Zn(r.outputs,u.outputs),Ni(u)&&u.data.animation){const F=r.data;F.animation=(F.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let _=0;_<f.length;_++){const y=f[_];y&&y.ngInherit&&y(r),y===N_&&(o=!1)}}s=Object.getPrototypeOf(s)}!function pb(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=s+=u.hostVars,u.hostAttrs=Kr(u.hostAttrs,o=Kr(o,u.hostAttrs))}}(l)}function uS(r,s){for(const o in s.inputs){if(!s.inputs.hasOwnProperty(o)||r.inputs.hasOwnProperty(o))continue;const l=s.inputs[o];if(void 0!==l&&(r.inputs[o]=l,r.declaredInputs[o]=s.declaredInputs[o],null!==s.inputTransforms)){const u=Array.isArray(l)?l[0]:l;if(!s.inputTransforms.hasOwnProperty(u))continue;r.inputTransforms??={},r.inputTransforms[u]=s.inputTransforms[u]}}}function _g(r){return r===li?{}:r===wn?[]:r}function oI(r,s){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function dS(r,s){const o=r.contentQueries;r.contentQueries=o?(l,u,f)=>{s(l,u,f),o(l,u,f)}:s}function gb(r,s){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}function lI(r){const s=r.inputConfig,o={};for(const l in s)if(s.hasOwnProperty(l)){const u=s[l];Array.isArray(u)&&u[3]&&(o[l]=u[3])}r.inputTransforms=o}class xd{}class F_{}function gS(r,s){return new V_(r,s??null,[])}class V_ extends xd{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XT(this);const u=ci(s);this._bootstrapComponents=Ks(u.bootstrap),this._r3Injector=Sv(s,o,[{provide:xd,useValue:this},{provide:ig,useValue:this.componentFactoryResolver},...l],sr(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class U_ extends F_{constructor(s){super(),this.moduleType=s}create(s){return new V_(this.moduleType,s,[])}}class yg extends xd{constructor(s){super(),this.componentFactoryResolver=new XT(this),this.instance=null;const o=new ns([...s.providers,{provide:xd,useValue:this},{provide:ig,useValue:this.componentFactoryResolver}],s.parent||Ss(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Od(r,s,o=null){return new yg({providers:r,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let B_=(()=>{class r{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(o,l,u,f){if(!this.cachedInjectors.has(o)){const _=u.length>0?Od(u,l,f):null;this.cachedInjectors.set(o,_)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=An({token:r,providedIn:"environment",factory:()=>new r})}return r})(),Nd=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ff(r){return!!ls(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function ls(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function ja(r,s,o){return r[s]=o}function Tu(r,s){return r[s]}function Xr(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Ec(r,s,o,l){const u=Xr(r,s,o);return Xr(r,s+1,l)||u}function vg(r,s,o,l,u){const f=Ec(r,s,o,l);return Xr(r,s+2,u)||f}function ya(r,s,o,l,u,f){const _=Ec(r,s,o,l);return Ec(r,s+2,u,f)||_}function pf(r,s,o,l,u,f,_,y){const b=Le(),M=kn(),F=r+ln,q=M.firstCreatePass?function vS(r,s,o,l,u,f,_,y,b){const M=s.consts,F=zh(s,r,4,_||null,co(M,y));n_(s,o,F,co(M,b)),fh(s,F);const q=F.tView=e_(2,F,l,u,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M,null);return null!==s.queries&&(s.queries.template(s,F),q.queries=s.queries.embeddedTView(F)),F}(F,M,b,s,o,l,u,f,_):M.data[F];sa(q,!1);const ne=j_(M,b,q,r);en()&&Ym(M,b,ne,q),ki(ne,b);const ae=vT(ne,b,ne,q);return b[F]=ae,i_(b,ae),lf(ae,q,b),ra(q)&&ga(M,b,q),null!=_&&md(b,q,y),pf}let j_=function Ib(r,s,o,l){return fs(!0),s[zt].createComment("")};var hi=function(r){return r[r.NOT_STARTED=0]="NOT_STARTED",r[r.IN_PROGRESS=1]="IN_PROGRESS",r[r.COMPLETE=2]="COMPLETE",r[r.FAILED=3]="FAILED",r}(hi||{});const kd=0,dI=1;var ii=function(r){return r[r.Placeholder=0]="Placeholder",r[r.Loading=1]="Loading",r[r.Complete=2]="Complete",r[r.Error=3]="Error",r}(ii||{}),Ll=function(r){return r[r.Initial=-1]="Initial",r}(Ll||{});const bu=0,wg=1,Ld=2,gf=3,Ic=4,hI=5;var wb=function(r){return r[r.Manual=0]="Manual",r[r.Playthrough=1]="Playthrough",r}(wb||{});function mf(r,s,o){const l=1===r?hI:Ic;null===s[l]&&(s[l]=[]),s[l].push(o)}function fI(r,s){const o=1===r?hI:Ic,l=s[o];if(null!==l){for(const u of l)u();s[o]=null}}function $_(r){fI(1,r),fI(0,r)}function H_(r){return r+1}function wc(r,s){return r[H_(s.index)]}function Xs(r,s){const o=H_(s.index);return r.data[o]}function W_(r,s){return s===ii.Placeholder?r.placeholderBlockConfig?.[kd]??null:s===ii.Loading?r.loadingBlockConfig?.[kd]??null:null}function Fd(r){return r.loadingBlockConfig?.[dI]??null}function G_(r,s){if(!r||0===r.length)return s;const o=new Set(r);for(const l of s)o.add(l);return r.length===o.size?r:Array.from(o)}function X_(r,s){const l=s[ui].get(Cb);return l.add(r),()=>l.remove(r)}let Cb=(()=>{class r{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=Kt(Cn),this.requestIdleCallbackFn=(typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout).bind(globalThis),this.cancelIdleCallbackFn=(typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout).bind(globalThis)}add(o){(this.executingCallbacks?this.deferred:this.current).add(o),null===this.idleId&&this.scheduleIdleCallback()}remove(o){const{current:l,deferred:u}=this;l.delete(o),u.delete(o),0===l.size&&0===u.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const o=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const l of this.current)l();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const l of this.deferred)this.current.add(l);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(o))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static#e=this.\u0275prov=An({token:r,providedIn:"root",factory:()=>new r})}return r})();let TS=(()=>{class r{constructor(){this.executingCallbacks=!1,this.timeoutId=null,this.invokeTimerAt=null,this.current=[],this.deferred=[]}add(o,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+o,l),this.scheduleTimer()}remove(o){const{current:l,deferred:u}=this;-1===this.removeFromQueue(l,o)&&this.removeFromQueue(u,o),0===l.length&&0===u.length&&this.clearTimeout()}addToQueue(o,l,u){let f=o.length;for(let _=0;_<o.length;_+=2)if(o[_]>l){f=_;break}nh(o,f,l,u)}removeFromQueue(o,l){let u=-1;for(let f=0;f<o.length;f+=2)if(o[f+1]===l){u=f;break}return u>-1&&Yo(o,u,2),u}scheduleTimer(){const o=()=>{this.clearTimeout(),this.executingCallbacks=!0;const u=[...this.current],f=Date.now();for(let y=0;y<u.length;y+=2){const M=u[y+1];if(!(u[y]<=f))break;M()}let _=-1;for(let y=0;y<this.current.length&&this.current[y]<=f;y+=2)_=y+1;if(_>=0&&Yo(this.current,0,_+1),this.executingCallbacks=!1,this.deferred.length>0){for(let y=0;y<this.deferred.length;y+=2)this.addToQueue(this.current,this.deferred[y],this.deferred[y+1]);this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const u=Date.now(),f=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-f>16){this.clearTimeout();const _=Math.max(f-u,16);this.invokeTimerAt=f,this.timeoutId=setTimeout(o,_)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static#e=this.\u0275prov=An({token:r,providedIn:"root",factory:()=>new r})}return r})();const vI=new Ht("");let Ag=null;function Sb(r,s,o,l){const u=r.consts;null!=o&&(s.placeholderBlockConfig=co(u,o)),null!=l&&(s.loadingBlockConfig=co(u,l)),null===Ag&&(Ag=CI)}function Rb(r,s,o,l,u,f,_,y,b){const M=Le(),F=kn(),q=r+ln;if(pf(r,null,0,0),F.firstCreatePass){Bo("NgDefer");const it={primaryTmplIndex:s,loadingTmplIndex:l??null,placeholderTmplIndex:u??null,errorTmplIndex:f??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:o??null,loadingState:hi.NOT_STARTED,loadingPromise:null,providers:null};b?.(F,it,y,_),function z_(r,s,o){const l=H_(s);r.data[l]=o}(F,q,it)}const ne=rr();lf(M[q],ne,M);const me=[null,Ll.Initial,null,null,null,null];!function IS(r,s,o){r[H_(s)]=o}(M,q,me);const ke=()=>$_(me);mf(0,me,()=>um(M,ke)),sc(M,ke)}function wI(){!function kb(r){const s=Le(),o=rr();if(function Au(r,s){Du(ii.Placeholder,s,r[s.index])}(s,o),fe(s[ui])){const l=r(()=>function Su(r,s){const o=r[tt],l=r[s.index];if(!function Dg(r){return r.get(vI,null,{optional:!0})?.behavior!==wb.Manual&&fe(r)}(r[ui]))return;const f=wc(r,s),_=Xs(o,s);switch($_(f),_.loadingState){case hi.NOT_STARTED:Du(ii.Loading,s,l),function DI(r,s,o){const l=s[ui],u=s[tt];if(r.loadingState!==hi.NOT_STARTED)return r.loadingPromise??Promise.resolve();const f=wc(s,o),_=function wS(r,s){return Qc(r,s.primaryTmplIndex+ln)}(u,r);r.loadingState=hi.IN_PROGRESS,fI(1,f);let y=r.dependencyResolverFn;const b=l.get(Nd),M=b.add();return y?(r.loadingPromise=Promise.allSettled(y()).then(F=>{let q=!1;const ne=[],ae=[];for(const me of F){if("fulfilled"!==me.status){q=!0;break}{const ke=me.value,it=rn(ke)||Nr(ke);if(it)ne.push(it);else{const ct=Cr(ke);ct&&ae.push(ct)}}}if(r.loadingPromise=null,b.remove(M),q){if(r.loadingState=hi.FAILED,null===r.errorTmplIndex){zm(s);const ke=new ut(750,!1);o_(s,ke)}}else{r.loadingState=hi.COMPLETE;const me=_.tView;if(ne.length>0){me.directiveRegistry=G_(me.directiveRegistry,ne);const it=so(!1,...ne.map(ct=>ct.type));r.providers=it}ae.length>0&&(me.pipeRegistry=G_(me.pipeRegistry,ae))}}),r.loadingPromise):(r.loadingPromise=Promise.resolve().then(()=>{r.loadingPromise=null,r.loadingState=hi.COMPLETE,b.remove(M)}),r.loadingPromise)}(_,r,s),_.loadingState===hi.IN_PROGRESS&&Vb(_,s,l);break;case hi.IN_PROGRESS:Du(ii.Loading,s,l),Vb(_,s,l);break;case hi.COMPLETE:Du(ii.Complete,s,l);break;case hi.FAILED:Du(ii.Error,s,l)}}(s,o),s);mf(0,wc(s,o),l)}}(X_)}function Du(r,s,o,l=!1){const u=o[zn],f=u[tt];if(function zc(r){return!(256&~r[Rt])}(u))return;const _=wc(u,s);if(Fb(_[wg],r)&&Fb(_[bu]??-1,r)){const b=u[ui],M=Xs(f,s),q=l||!fe(b)||null===Fd(M)&&null===W_(M,ii.Loading)&&!W_(M,ii.Placeholder)?Z_:Ag;try{q(r,_,o,s,u)}catch(ne){o_(u,ne)}}}function Z_(r,s,o,l,u){const f=function pI(r,s,o){const u=Xs(s[tt],o);switch(r){case ii.Complete:return u.primaryTmplIndex;case ii.Loading:return u.loadingTmplIndex;case ii.Error:return u.errorTmplIndex;case ii.Placeholder:return u.placeholderTmplIndex;default:return null}}(r,u,l);if(null!==f){s[wg]=r;const _=u[tt],b=Qc(_,f+ln),M=0;let F;if(l_(o,M),r===ii.Complete){const ae=Xs(_,l),me=ae.providers;if(me&&me.length>0){const ke=u[ui],it=function bI(r){return r instanceof kl&&"function"==typeof r.injector.__ngOutletInjector}(ke),ct=it?ke:ke.get(Dr);F=ct.get(B_).getOrCreateInjector(ae,ct,me,""),it&&(F=function Lb(r,s){return r.injector.__ngOutletInjector(s)}(ke,F))}}const q=Td(o,b.tView.ssrId),ne=Xh(u,b,null,{dehydratedView:q,injector:F});Ml(o,ne,M,_d(b,q)),go(ne)}}function CI(r,s,o,l,u){const f=Date.now(),y=Xs(u[tt],l);if(null===s[Ld]||s[Ld]<=f){s[Ld]=null;const b=Fd(y),M=null!==s[gf];if(r!==ii.Loading||null===b||M){r>ii.Loading&&M&&(s[gf](),s[gf]=null,s[bu]=null),Z_(r,s,o,l,u);const F=W_(y,r);null!==F&&(s[Ld]=f+F,J_(F,s,l,o,u))}else{s[bu]=r;const F=J_(b,s,l,o,u);s[gf]=F}}else s[bu]=r}function J_(r,s,o,l,u){return function Db(r,s,o){const u=o[ui].get(TS);return u.add(r,s),()=>u.remove(s)}(r,()=>{const _=s[bu];s[Ld]=null,s[bu]=null,null!==_&&Du(_,o,l)},u)}function Fb(r,s){return r<s}function Vb(r,s,o){r.loadingPromise.then(()=>{r.loadingState===hi.COMPLETE?Du(ii.Complete,s,o):r.loadingState===hi.FAILED&&Du(ii.Error,s,o)})}function ey(r,s,o,l){const u=Le();return Xr(u,oa(),s)&&(kn(),ma(Lr(),u,r,s,o,l)),ey}function Bd(r,s,o,l){return Xr(r,oa(),o)?s+qt(o)+l:kt}function Cf(r,s){return r<<17|s<<2}function Ou(r){return r>>17&32767}function RI(r){return 2|r}function Tc(r){return(131068&r)>>2}function PI(r,s){return-131069&r|s<<2}function xI(r){return 1|r}function oy(r,s,o,l){const u=r[o+1],f=null===s;let _=l?Ou(u):Tc(u),y=!1;for(;0!==_&&(!1===y||f);){const M=r[_+1];$b(r[_],s)&&(y=!0,r[_+1]=l?xI(M):RI(M)),_=l?Ou(M):Tc(M)}y&&(r[o+1]=l?RI(u):xI(u))}function $b(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&ji(r,s)>=0}const Xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hb(r){return r.substring(Xi.key,Xi.keyEnd)}function NI(r){return r.substring(Xi.value,Xi.valueEnd)}function ay(r,s){const o=Xi.textEnd;return o===s?-1:(s=Xi.keyEnd=function MS(r,s,o){for(;s<o&&r.charCodeAt(s)>32;)s++;return s}(r,Xi.key=s,o),$a(r,s,o))}function cy(r,s){const o=Xi.textEnd;let l=Xi.key=$a(r,s,o);return o===l?-1:(l=Xi.keyEnd=function kI(r,s,o){let l;for(;s<o&&(45===(l=r.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(r,l,o),l=LI(r,l,o),l=Xi.value=$a(r,l,o),l=Xi.valueEnd=function Df(r,s,o){let l=-1,u=-1,f=-1,_=s,y=_;for(;_<o;){const b=r.charCodeAt(_++);if(59===b)return y;34===b||39===b?y=_=FI(r,b,_,o):s===_-4&&85===f&&82===u&&76===l&&40===b?y=_=FI(r,41,_,o):b>32&&(y=_),f=u,u=l,l=-33&b}return y}(r,l,o),LI(r,l,o))}function zb(r){Xi.key=0,Xi.keyEnd=0,Xi.value=0,Xi.valueEnd=0,Xi.textEnd=r.length}function $a(r,s,o){for(;s<o&&r.charCodeAt(s)<=32;)s++;return s}function LI(r,s,o,l){return(s=$a(r,s,o))<o&&s++,s}function FI(r,s,o,l){let u=-1,f=o;for(;f<l;){const _=r.charCodeAt(f++);if(_==s&&92!==u)return f;u=92==_&&92===u?0:_}throw new Error}function UI(r,s,o){const l=Le();return Xr(l,oa(),s)&&fo(kn(),Lr(),l,r,s,l[zt],o,!1),UI}function BI(r,s,o,l,u){const _=u?"class":"style";Wp(r,o,s.inputs[_],_,l)}function jI(r,s,o){return Ea(r,s,o,!1),jI}function $I(r,s){return Ea(r,s,null,!0),$I}function mo(r){$o(hy,HI,r,!1)}function HI(r,s){for(let o=function ly(r){return zb(r),cy(r,$a(r,0,Xi.textEnd))}(s);o>=0;o=cy(s,o))hy(r,Hb(s),NI(s))}function uy(r){$o(xS,va,r,!0)}function va(r,s){for(let o=function PS(r){return zb(r),ay(r,$a(r,0,Xi.textEnd))}(s);o>=0;o=ay(s,o))gi(r,Hb(s),!0)}function Ea(r,s,o,l){const u=Le(),f=kn(),_=yl(2);f.firstUpdatePass&&Sg(f,r,_,l),s!==kt&&Xr(u,_,s)&&qb(f,f.data[hs()],u,u[zt],r,u[_+1]=function Kb(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=sr(Wi(r)))),r}(s,o),l,_)}function $o(r,s,o,l){const u=kn(),f=yl(2);u.firstUpdatePass&&Sg(u,null,f,l);const _=Le();if(o!==kt&&Xr(_,f,o)){const y=u.data[hs()];if(Qb(y,l)&&!dy(u,f)){let b=l?y.classesWithoutHost:y.stylesWithoutHost;null!==b&&(o=pr(b,o||"")),BI(u,y,_,o,l)}else!function OS(r,s,o,l,u,f,_,y){u===kt&&(u=wn);let b=0,M=0,F=0<u.length?u[0]:null,q=0<f.length?f[0]:null;for(;null!==F||null!==q;){const ne=b<u.length?u[b+1]:void 0,ae=M<f.length?f[M+1]:void 0;let ke,me=null;F===q?(b+=2,M+=2,ne!==ae&&(me=q,ke=ae)):null===q||null!==F&&F<q?(b+=2,me=F):(M+=2,me=q,ke=ae),null!==me&&qb(r,s,o,l,me,ke,_,y),F=b<u.length?u[b]:null,q=M<f.length?f[M]:null}}(u,y,_,_[zt],_[f+1],_[f+1]=function Rf(r,s,o){if(null==o||""===o)return wn;const l=[],u=Wi(o);if(Array.isArray(u))for(let f=0;f<u.length;f++)r(l,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&r(l,f,u[f]);else"string"==typeof u&&s(l,u);return l}(r,s,o),l,f)}}function dy(r,s){return s>=r.expandoStartIndex}function Sg(r,s,o,l){const u=r.data;if(null===u[o+1]){const f=u[hs()],_=dy(r,o);Qb(f,l)&&null===s&&!_&&(s=!1),s=function zI(r,s,o,l){const u=function mm(r){const s=Jt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=Sf(o=Rg(null,r,s,o,l),s.attrs,l),f=null);else{const _=s.directiveStylingLast;if(-1===_||r[_]!==u)if(o=Rg(u,r,s,o,l),null===f){let b=function Wb(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Tc(l))return r[Ou(l)]}(r,s,l);void 0!==b&&Array.isArray(b)&&(b=Rg(null,r,s,b[1],l),b=Sf(b,s.attrs,l),function Af(r,s,o,l){r[Ou(o?s.classBindings:s.styleBindings)]=l}(r,s,l,b))}else f=function Gb(r,s,o){let l;const u=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<u;f++)l=Sf(l,r[f].hostAttrs,o);return Sf(l,s.attrs,o)}(r,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(u,f,s,l),function OI(r,s,o,l,u,f){let _=f?s.classBindings:s.styleBindings,y=Ou(_),b=Tc(_);r[l]=o;let F,M=!1;if(Array.isArray(o)?(F=o[1],(null===F||ji(o,F)>0)&&(M=!0)):F=o,u)if(0!==b){const ne=Ou(r[y+1]);r[l+1]=Cf(ne,y),0!==ne&&(r[ne+1]=PI(r[ne+1],l)),r[y+1]=function RS(r,s){return 131071&r|s<<17}(r[y+1],l)}else r[l+1]=Cf(y,0),0!==y&&(r[y+1]=PI(r[y+1],l)),y=l;else r[l+1]=Cf(b,0),0===y?y=l:r[b+1]=PI(r[b+1],l),b=l;M&&(r[l+1]=RI(r[l+1])),oy(r,F,l,!0),oy(r,F,l,!1),function jb(r,s,o,l,u){const f=u?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&ji(f,s)>=0&&(o[l+1]=xI(o[l+1]))}(s,F,r,l,f),_=Cf(y,b),f?s.classBindings=_:s.styleBindings=_}(u,f,s,o,_,l)}}function Rg(r,s,o,l,u){let f=null;const _=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<_&&(f=s[y],l=Sf(l,f.hostAttrs,u),f!==r);)y++;return null!==r&&(o.directiveStylingLast=y),l}function Sf(r,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?u=_:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),gi(r,_,!!o||s[++f]))}return void 0===r?null:r}function hy(r,s,o){gi(r,s,Wi(o))}function xS(r,s,o){const l=String(s);""!==l&&!l.includes(" ")&&gi(r,l,o)}function qb(r,s,o,l,u,f,_,y){if(!(3&s.type))return;const b=r.data,M=b[y+1],F=function MI(r){return!(1&~r)}(M)?WI(b,s,o,u,Tc(M),_):void 0;fy(F)||(fy(f)||function SI(r){return!(2&~r)}(M)&&(f=WI(b,null,o,u,y,_)),function Hh(r,s,o,l,u){if(s)u?r.addClass(o,l):r.removeClass(o,l);else{let f=-1===l.indexOf("-")?void 0:Vp.DashCase;null==u?r.removeStyle(o,l,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Vp.Important),r.setStyle(o,l,u,f))}}(l,_,Yt(hs(),o),u,f))}function WI(r,s,o,l,u,f){const _=null===s;let y;for(;u>0;){const b=r[u],M=Array.isArray(b),F=M?b[1]:b,q=null===F;let ne=o[u+1];ne===kt&&(ne=q?wn:void 0);let ae=q?Ca(ne,l):F===l?ne:void 0;if(M&&!fy(ae)&&(ae=Ca(b,l)),fy(ae)&&(y=ae,_))return y;const me=r[u+1];u=_?Ou(me):Tc(me)}if(null!==s){let b=f?s.residualClasses:s.residualStyles;null!=b&&(y=Ca(b,l))}return y}function fy(r){return void 0!==r}function Qb(r,s){return!!(r.flags&(s?8:16))}class eC{destroy(s){}updateValue(s,o){}swap(s,o){const l=Math.min(s,o),u=Math.max(s,o),f=this.detach(u);if(u-l>1){const _=this.detach(l);this.attach(l,f),this.attach(u,_)}else this.attach(l,f)}move(s,o){this.attach(o,this.detach(s))}}function Pf(r,s,o,l,u){return r===o&&Object.is(s,l)?1:Object.is(u(r,s),u(o,l))?-1:0}function py(r,s,o,l){return!(void 0===s||!s.has(l)||(r.attach(o,s.get(l)),s.delete(l),0))}function qI(r,s,o,l,u){if(py(r,s,l,o(l,u)))r.updateValue(l,u);else{const f=r.create(l,u);r.attach(l,f)}}function Mf(r,s,o,l){const u=new Set;for(let f=s;f<=o;f++)u.add(l(f,r.at(f)));return u}class KI{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const o=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(s,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,o){if(this.kvMap.has(s)){let l=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const u=this._vMap;for(;u.has(l);)l=u.get(l);u.set(l,o)}else this.kvMap.set(s,o)}forEach(s){for(let[o,l]of this.kvMap)if(s(l,o),void 0!==this._vMap){const u=this._vMap;for(;u.has(l);)l=u.get(l),s(l,o)}}}function cs(r,s,o){Bo("NgControlFlow");const l=Le(),u=oa(),f=QI(l,ln+r);if(Xr(l,u,s)){const y=ue(null);try{if(l_(f,0),-1!==s){const b=YI(l[tt],ln+s),M=Td(f,b.tView.ssrId);Ml(f,Xh(l,b,o,{dehydratedView:M}),0,_d(b,M))}}finally{ue(y)}}else{const y=Pl(f,0);void 0!==y&&(y[mr]=o)}}class Yr{constructor(s,o,l){this.lContainer=s,this.$implicit=o,this.$index=l}get $count(){return this.lContainer.length-jn}}function gy(r,s){return s}class US{constructor(s,o,l){this.hasEmptyBlock=s,this.trackByFn=o,this.liveCollection=l}}function Pg(r,s,o,l,u,f,_,y,b,M,F,q,ne){Bo("NgControlFlow");const ae=void 0!==b,me=Le(),ke=y?_.bind(me[_r][mr]):_,it=new US(ae,ke);me[ln+r]=it,pf(r+1,s,o,l,u,f),ae&&pf(r+2,b,M,F,q,ne)}class tC extends eC{constructor(s,o,l){super(),this.lContainer=s,this.hostLView=o,this.templateTNode=l,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-jn}at(s){return this.getLView(s)[mr].$implicit}attach(s,o){const l=o[Qr];this.needsIndexUpdate||=s!==this.length,Ml(this.lContainer,o,s,_d(this.templateTNode,l))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function XI(r,s){return Bp(r,s)}(this.lContainer,s)}create(s,o){const l=Td(this.lContainer,this.templateTNode.tView.ssrId);return Xh(this.hostLView,this.templateTNode,new Yr(this.lContainer,o,s),{dehydratedView:l})}destroy(s){Km(s[tt],s)}updateValue(s,o){this.getLView(s)[mr].$implicit=o}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[mr].$index=s}getLView(s){return function BS(r,s){return Pl(r,s)}(this.lContainer,s)}}function my(r){const s=ue(null),o=hs();try{const l=Le(),u=l[tt],f=l[o];if(void 0===f.liveCollection){const y=o+1,b=QI(l,y),M=YI(u,y);f.liveCollection=new tC(b,l,M)}else f.liveCollection.reset();const _=f.liveCollection;if(function Vn(r,s,o){let l,u,f=0,_=r.length-1;if(Array.isArray(s)){let y=s.length-1;for(;f<=_&&f<=y;){const b=r.at(f),M=s[f],F=Pf(f,b,f,M,o);if(0!==F){F<0&&r.updateValue(f,M),f++;continue}const q=r.at(_),ne=s[y],ae=Pf(_,q,y,ne,o);if(0!==ae){ae<0&&r.updateValue(_,ne),_--,y--;continue}const me=o(f,b),ke=o(_,q),it=o(f,M);if(Object.is(it,ke)){const ct=o(y,ne);Object.is(ct,me)?(r.swap(f,_),r.updateValue(_,ne),y--,_--):r.move(_,f),r.updateValue(f,M),f++}else if(l??=new KI,u??=Mf(r,f,_,o),py(r,l,f,it))r.updateValue(f,M),f++,_++;else if(u.has(it))l.set(me,r.detach(f)),_--;else{const ct=r.create(f,s[f]);r.attach(f,ct),f++,_++}}for(;f<=y;)qI(r,l,o,f,s[f]),f++}else if(null!=s){const y=s[Symbol.iterator]();let b=y.next();for(;!b.done&&f<=_;){const M=r.at(f),F=b.value,q=Pf(f,M,f,F,o);if(0!==q)q<0&&r.updateValue(f,F),f++,b=y.next();else{l??=new KI,u??=Mf(r,f,_,o);const ne=o(f,F);if(py(r,l,f,ne))r.updateValue(f,F),f++,_++,b=y.next();else if(u.has(ne)){const ae=o(f,M);l.set(ae,r.detach(f)),_--}else r.attach(f,r.create(f,F)),f++,_++,b=y.next()}}for(;!b.done;)qI(r,l,o,r.length,b.value),b=y.next()}for(;f<=_;)r.destroy(r.detach(_--));l?.forEach(y=>{r.destroy(y)})}(_,r,f.trackByFn),_.updateIndexes(),f.hasEmptyBlock){const y=oa(),b=0===_.length;if(Xr(l,y,b)){const M=o+2,F=QI(l,M);if(b){const q=YI(u,M),ne=Td(F,q.tView.ssrId);Ml(F,Xh(l,q,void 0,{dehydratedView:ne}),0,_d(q,ne))}else l_(F,0)}}}finally{ue(s)}}function QI(r,s){return r[s]}function YI(r,s){return Qc(r,s)}function ZI(r,s,o,l){const u=Le(),f=kn(),_=ln+r,y=u[zt],b=f.firstCreatePass?function Hr(r,s,o,l,u,f){const _=s.consts,b=zh(s,r,2,l,co(_,u));return n_(s,o,b,co(_,f)),null!==b.attrs&&ug(b,b.attrs,!1),null!==b.mergedAttrs&&ug(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(_,f,u,s,o,l):f.data[_],M=JI(f,u,b,y,s,r);u[_]=M;const F=ra(b);return sa(b,!0),oT(y,M,b),!function Eg(r){return!(32&~r.flags)}(b)&&en()&&Ym(f,u,M,b),0===function ew(){return Jt.lFrame.elementDepthCount}()&&ki(M,u),function dv(){Jt.lFrame.elementDepthCount++}(),F&&(ga(f,u,b),Rl(f,b,u)),null!==l&&md(u,b),ZI}function _y(){let r=rr();uh()?pm():(r=r.parent,sa(r,!1));const s=r;(function tw(r){return Jt.skipHydrationRootTNode===r})(s)&&function fm(){Jt.skipHydrationRootTNode=null}(),function hv(){Jt.lFrame.elementDepthCount--}();const o=kn();return o.firstCreatePass&&(fh(o,r),xa(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function ap(r){return!!(8&r.flags)}(s)&&BI(o,s,Le(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ss(r){return!!(16&r.flags)}(s)&&BI(o,s,Le(),s.stylesWithoutHost,!1),_y}function si(r,s,o,l){return ZI(r,s,o,l),_y(),si}let JI=(r,s,o,l,u,f)=>(fs(!0),Ki(l,u,function _t(){return Jt.lFrame.currentNamespace}()));function yy(r,s,o){const l=Le(),u=kn(),f=r+ln,_=u.firstCreatePass?function nC(r,s,o,l,u){const f=s.consts,_=co(f,l),y=zh(s,r,8,"ng-container",_);return null!==_&&ug(y,_,!0),n_(s,o,y,co(f,u)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,u,l,s,o):u.data[f];sa(_,!0);const y=rC(u,l,_,r);return l[f]=y,en()&&Ym(u,l,y,_),ki(y,l),ra(_)&&(ga(u,l,_),Rl(u,_,l)),null!=o&&md(l,_),yy}function vy(){let r=rr();const s=kn();return uh()?pm():(r=r.parent,sa(r,!1)),s.firstCreatePass&&(fh(s,r),xa(r)&&s.queries.elementEnd(r)),vy}function e0(r,s,o){return yy(r,s,o),vy(),e0}let rC=(r,s,o,l)=>(fs(!0),Gm(s[zt],""));function iC(){return Le()}const $d=void 0;var bc=["en",[["a","p"],["AM","PM"],$d],[["AM","PM"],$d,$d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$d,"{1} 'at' {0}",$d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ul(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Mg={};function Nf(r){const s=function WS(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=n0(s);if(o)return o;const l=s.split("-")[0];if(o=n0(l),o)return o;if("en"===l)return bc;throw new ut(701,!1)}function sC(r){return Nf(r)[Cc.PluralCase]}function n0(r){return r in Mg||(Mg[r]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[r]),Mg[r]}var Cc=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Cc||{});const Bl="en-US";let Iy=Bl;function p0(r,s,o,l){const u=Le(),f=kn(),_=rr();return g0(f,u,u[zt],_,r,s,l),p0}function g0(r,s,o,l,u,f,_){const y=ra(l),M=r.firstCreatePass&&IT(r),F=s[mr],q=CE(s);let ne=!0;if(3&l.type||_){const ke=Sr(l,s),it=_?_(ke):ke,ct=q.length,Ge=_?$n=>_(Rn($n[l.index])):l.index;let Qt=null;if(!_&&y&&(Qt=function p1(r,s,o,l){const u=r.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const _=u[f];if(_===o&&u[f+1]===l){const y=s[lo],b=u[f+2];return y.length>b?y[b]:null}"string"==typeof _&&(f+=2)}return null}(r,s,u,l.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=f,Qt.__ngLastListenerFn__=f,ne=!1;else{f=bC(l,s,F,f,!1);const $n=o.listen(it,u,f);q.push(f,$n),M&&M.push(u,Ge,ct,ct+1)}}else f=bC(l,s,F,f,!1);const ae=l.outputs;let me;if(ne&&null!==ae&&(me=ae[u])){const ke=me.length;if(ke)for(let it=0;it<ke;it+=2){const Pr=s[me[it]][me[it+1]].subscribe(f),Zi=q.length;q.push(f,Pr),M&&M.push(u,l.index,Zi,-(Zi+1))}}}function TC(r,s,o,l){const u=ue(null);try{return at(6,s,o),!1!==o(l)}catch(f){return o_(r,f),!1}finally{at(7,s,o),ue(u)}}function bC(r,s,o,l,u){return function f(_){if(_===Function)return l;go(r.componentOffset>-1?is(r.index,s):s);let b=TC(s,o,l,_),M=f.__ngNextListenerFn__;for(;M;)b=TC(s,o,M,_)&&b,M=M.__ngNextListenerFn__;return u&&!1===b&&_.preventDefault(),b}}function g1(r=1){return function cw(r){return(Jt.lFrame.contextLView=function cm(r,s){for(;r>0;)s=s[ic],r--;return s}(r,Jt.lFrame.contextLView))[mr]}(r)}function HM(r,s){let o=null;const l=function Hs(r){const s=r.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(r);for(let u=0;u<s.length;u++){const f=s[u];if("*"!==f){if(null===l?Jo(r,f,!0):ol(l,f))return u}else o=u}return o}function m0(r){const s=Le()[_r][qn];if(!s.projection){const l=s.projection=function no(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}(r?r.length:1,null),u=l.slice();let f=s.child;for(;null!==f;){const _=r?HM(f,r):0;null!==_&&(u[_]?u[_].projectionNext=f:l[_]=f,u[_]=f),f=f.next}}}function CC(r,s=0,o){const l=Le(),u=kn(),f=zh(u,ln+r,16,null,o||null);null===f.projection&&(f.projection=s),pm(),(!l[Qr]||Yu())&&32&~f.flags&&function gs(r,s,o){vr(s[zt],0,s,o,gE(r,o,s),mE(o.parent||s[qn],o,s))}(u,l,f)}function DC(r,s,o){return AC(r,"",s,"",o),DC}function AC(r,s,o,l,u){const f=Le(),_=Bd(f,s,o,l);return _!==kt&&fo(kn(),Lr(),f,r,_,f[zt],u,!1),AC}function Bg(r,s,o,l){!function Ad(r,s,o,l){const u=kn();if(u.firstCreatePass){const f=rr();Sd(u,new T_(s,o,l),f.index),function ab(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(u,r),!(2&~o)&&(u.staticContentQueries=!0)}return ob(u,Le(),o)}(r,s,o,l)}function Oy(r,s,o){!function QE(r,s,o){const l=kn();return l.firstCreatePass&&(Sd(l,new T_(r,s,o),-1),!(2&~s)&&(l.staticViewQueries=!0)),ob(l,Le(),s)}(r,s,o)}function SC(r){const s=Le(),o=kn(),l=Zu();sp(l+1);const u=D_(o,l);if(r.dirty&&function av(r){return!(4&~r[Rt])}(s)===!(2&~u.metadata.flags)){if(null===u.matches)r.reset([]);else{const f=ms(s,l);r.reset(f,_w),r.notifyOnChanges()}return!0}return!1}function Ny(){return function cf(r,s){return r[xo].queries[s].queryList}(Le(),Zu())}function MC(r){return function _l(r,s){return r[s]}(function pv(){return Jt.lFrame.contextLView}(),ln+r)}function FC(r,s=""){const o=Le(),l=kn(),u=r+ln,f=l.firstCreatePass?zh(l,u,1,s,null):l.data[u],_=VC(l,o,f,s,r);o[u]=_,en()&&Ym(l,o,_,f),sa(f,!1)}let VC=(r,s,o,l,u)=>(fs(!0),function hd(r,s){return r.createText(s)}(s[zt],l));function w0(r){return Ly("",r,""),w0}function Ly(r,s,o){const l=Le(),u=Bd(l,r,s,o);return u!==kt&&Qs(l,hs(),u),Ly}function UC(r,s,o,l,u){const f=Le(),_=function If(r,s,o,l,u,f){const y=Ec(r,Oa(),o,u);return yl(2),y?s+qt(o)+l+qt(u)+f:kt}(f,r,s,o,l,u);return _!==kt&&Qs(f,hs(),_),UC}function BC(r,s,o,l,u,f,_){const y=Le(),b=function Pu(r,s,o,l,u,f,_,y){const M=vg(r,Oa(),o,u,_);return yl(3),M?s+qt(o)+l+qt(u)+f+qt(_)+y:kt}(y,r,s,o,l,u,f,_);return b!==kt&&Qs(y,hs(),b),BC}function $C(r,s,o){Rd(s)&&(s=s());const l=Le();return Xr(l,oa(),s)&&fo(kn(),Lr(),l,r,s,l[zt],o,!1),$C}function N1(r,s){const o=Rd(r);return o&&r.set(s),o}function HC(r,s){const o=Le(),l=kn(),u=rr();return g0(l,o,o[zt],u,r,s),HC}function zC(r,s,o,l,u){if(r=ce(r),Array.isArray(r))for(let f=0;f<r.length;f++)zC(r[f],s,o,l,u);else{const f=kn(),_=Le(),y=rr();let b=Mo(r)?r:ce(r.provide);const M=nc(r),F=1048575&y.providerIndexes,q=y.directiveStart,ne=y.providerIndexes>>20;if(Mo(r)||!r.multi){const ae=new xs(M,u,Vr),me=GC(b,s,u?F:F+ne,q);-1===me?(Nt(re(y,_),f,b),WC(f,r,s.length),s.push(b),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(ae),_.push(ae)):(o[me]=ae,_[me]=ae)}else{const ae=GC(b,s,F+ne,q),me=GC(b,s,F,F+ne),it=me>=0&&o[me];if(u&&!it||!u&&!(ae>=0&&o[ae])){Nt(re(y,_),f,b);const ct=function L1(r,s,o,l,u){const f=new xs(r,o,Vr);return f.multi=[],f.index=s,f.componentProviders=0,k1(f,u,l&&!o),f}(u?KM:qM,o.length,u,l,M);!u&&it&&(o[me].providerFactory=ct),WC(f,r,s.length,0),s.push(b),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(ct),_.push(ct)}else WC(f,r,ae>-1?ae:me,k1(o[u?me:ae],M,!u&&l));!u&&l&&it&&o[me].componentProviders++}}}function WC(r,s,o,l){const u=Mo(s),f=function Bc(r){return!!r.useClass}(s);if(u||f){const b=(f?ce(s.useClass):s).prototype.ngOnDestroy;if(b){const M=r.destroyHooks||(r.destroyHooks=[]);if(!u&&s.multi){const F=M.indexOf(o);-1===F?M.push(o,[l,b]):M[F+1].push(l,b)}else M.push(o,b)}}}function k1(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function GC(r,s,o,l){for(let u=o;u<l;u++)if(s[u]===r)return u;return-1}function qM(r,s,o,l){return qC(this.multi,[])}function KM(r,s,o,l){const u=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=aa(o,o[tt],this.providerFactory.index,l);f=y.slice(0,_),qC(u,f);for(let b=_;b<y.length;b++)f.push(y[b])}else f=[],qC(u,f);return f}function qC(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function F1(r,s=[]){return o=>{o.providersResolver=(l,u)=>function GM(r,s,o){const l=kn();if(l.firstCreatePass){const u=Ni(r);zC(o,l.data,l.blueprint,u,!0),zC(s,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,s)}}let QM=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=so(0,o.type),u=l.length>0?Od([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=An({token:r,providedIn:"environment",factory:()=>new r(qr(Dr))})}return r})();function V1(r){Bo("NgStandalone"),r.getStandaloneInjector=s=>s.get(QM).getOrCreateStandaloneInjector(r)}function B1(r,s,o){const l=Ms()+r,u=Le();return u[l]===kt?ja(u,l,o?s.call(o):s()):Tu(u,l)}function j1(r,s,o,l){return function q1(r,s,o,l,u,f){const _=s+o;return Xr(r,_,u)?ja(r,_+1,f?l.call(f,u):l(u)):Fy(r,_+1)}(Le(),Ms(),r,s,o,l)}function $1(r,s,o,l,u){return function K1(r,s,o,l,u,f,_){const y=s+o;return Ec(r,y,u,f)?ja(r,y+2,_?l.call(_,u,f):l(u,f)):Fy(r,y+2)}(Le(),Ms(),r,s,o,l,u)}function H1(r,s,o,l,u,f){return function Q1(r,s,o,l,u,f,_,y){const b=s+o;return vg(r,b,u,f,_)?ja(r,b+3,y?l.call(y,u,f,_):l(u,f,_)):Fy(r,b+3)}(Le(),Ms(),r,s,o,l,u,f)}function z1(r,s,o,l,u,f,_){return function X1(r,s,o,l,u,f,_,y,b){const M=s+o;return ya(r,M,u,f,_,y)?ja(r,M+4,b?l.call(b,u,f,_,y):l(u,f,_,y)):Fy(r,M+4)}(Le(),Ms(),r,s,o,l,u,f,_)}function W1(r,s,o,l,u,f,_,y,b){const M=Ms()+r,F=Le(),q=ya(F,M,o,l,u,f);return Ec(F,M+4,_,y)||q?ja(F,M+6,b?s.call(b,o,l,u,f,_,y):s(o,l,u,f,_,y)):Tu(F,M+6)}function G1(r,s,o,l){return function Y1(r,s,o,l,u,f){let _=s+o,y=!1;for(let b=0;b<u.length;b++)Xr(r,_++,u[b])&&(y=!0);return y?ja(r,_,l.apply(f,u)):Fy(r,_)}(Le(),Ms(),r,s,o,l)}function Fy(r,s){const o=r[s];return o===kt?void 0:o}function Z1(r,s){return u_(r,s)}class aD{constructor(s){this.full=s;const o=s.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const gR=new aD("17.3.8");let lD=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const gD=new Ht(""),mD=new Ht("");let A0,LR=(()=>{class r{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,A0||(function FR(r){A0=r}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),o()},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}static#e=this.\u0275fac=function(l){return new(l||r)(qr(Cn),qr(_D),qr(mD))};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac})}return r})(),_D=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return A0?.findTestabilityInTree(this,o,l)??null}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function S0(r){return!!r&&"function"==typeof r.then}function yD(r){return!!r&&"function"==typeof r.subscribe}const vD=new Ht("");let R0=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l}),this.appInits=Kt(vD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const f=u();if(S0(f))o.push(f);else if(yD(f)){const _=new Promise((y,b)=>{f.subscribe({complete:y,error:b})});o.push(_)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const P0=new Ht("");let Uu=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(Rv),this.afterRenderEffectManager=Kt(Cd),this.externalTestViews=new Set,this.beforeRender=new En.B,this.afterTick=new En.B,this.componentTypes=[],this.components=[],this.isStable=Kt(Nd).hasPendingTasks.pipe((0,Or.T)(o=>!o)),this._injector=Kt(Dr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof rf;if(!this._injector.get(R0).done)throw!u&&Ti(o),new ut(405,!1);let _;_=u?o:this._injector.get(ig).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const y=function VR(r){return r.isBoundToModule}(_)?void 0:this._injector.get(xd),M=_.create(Fo.NULL,[],l||_.selector,y),F=M.location.nativeElement,q=M.injector.get(gD,null);return q?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),$y(this.components,M),q?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new ut(101,!1);const l=ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(u){this.internalErrorHandler(u)}finally{this.afterTick.next(),this._runningTick=!1,ue(l)}}detectChangesInAttachedViews(o){let l=0;const u=this.afterRenderEffectManager;for(;;){if(l===AE)throw new ut(103,!1);if(o){const f=0===l;this.beforeRender.next(f);for(let{_lView:_,notifyErrorHandler:y}of this._views)BR(_,f,y)}if(l++,u.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:f})=>M0(f))&&(u.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:f})=>M0(f))))break}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;$y(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(P0,[]);[...this._bootstrapListeners,...l].forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$y(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ut(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function $y(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}function BR(r,s,o){!s&&!M0(r)||function jR(r,s,o){let l;o?(l=0,r[Rt]|=1024):l=64&r[Rt]?0:1,mc(r,s,l)}(r,o,s)}function M0(r){return ah(r)}class $R{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let x0=(()=>{class r{compileModuleSync(o){return new U_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),f=Ks(ci(o).declarations).reduce((_,y)=>{const b=rn(y);return b&&_.push(new Ba(b)),_},[]);return new $R(l,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),zR=(()=>{class r{constructor(){this.zone=Kt(Cn),this.applicationRef=Kt(Uu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function N0(r){return[{provide:Cn,useFactory:r},{provide:ro,multi:!0,useFactory:()=>{const s=Kt(zR,{optional:!0});return()=>s.initialize()}},{provide:ro,multi:!0,useFactory:()=>{const s=Kt(KR);return()=>{s.initialize()}}},{provide:Rv,useFactory:WR}]}function WR(){const r=Kt(Cn),s=Kt(Va);return o=>r.runOutsideAngular(()=>s.handleError(o))}function GR(r){return cl([[],N0(()=>new Cn(function qR(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}(r)))])}let KR=(()=>{class r{constructor(){this.subscription=new xr.yU,this.initialized=!1,this.zone=Kt(Cn),this.pendingTasks=Kt(Nd)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Cn.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Cn.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=An({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const zy=new Ht("",{providedIn:"root",factory:()=>Kt(zy,an.Optional|an.SkipSelf)||function Nx(){return typeof $localize<"u"&&$localize.locale||Bl}()}),QR=new Ht("",{providedIn:"root",factory:()=>"USD"}),k0=new Ht("");let Wd=null;function eP(){return!1}let AD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=tP}return r})();function tP(r){return function nP(r,s,o){if(Ps(r)&&!o){const l=is(r.index,s);return new Yh(l,l)}return 47&r.type?new Yh(s[_r],s):null}(rr(),Le(),!(16&~r))}class PD{constructor(){}supports(s){return ff(s)}create(s){return new sP(s)}}const iP=(r,s)=>s;class sP{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||iP}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,f=null;for(;o||l;){const _=!l||o&&o.currentIndex<Pc(l,u,f)?o:l,y=Pc(_,u,f),b=_.currentIndex;if(_===l)u--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)u++;else{f||(f=[]);const M=y-u,F=b-u;if(M!=F){for(let ne=0;ne<M;ne++){const ae=ne<f.length?f[ne]:f[ne]=0,me=ae+ne;F<=me&&me<M&&(f[ne]=ae+1)}f[_.previousIndex]=F-M}}y!==b&&s(_,y,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!ff(s))throw new ut(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,f,_,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],_=this._trackByFn(y,f),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,f,_,y)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,_,y),l=!0),o=o._next}else u=0,function _S(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,y=>{_=this._trackByFn(u,y),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,y,_,u)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,_,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,u)):s=this._addAfter(new oP(o,l),f,u),s}_verifyReinsertion(s,o,l,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,f=s._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new zg),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zg),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class oP{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class zg{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new MD,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pc(r,s,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class aP{constructor(){}supports(s){return s instanceof Map||ls(s)}create(){return new lP}}class lP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||ls(s)))throw new ut(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const f=u._prev,_=u._next;return f&&(f._next=_),_&&(_._prev=f),u._next=null,u._prev=null,u}const l=new cP(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class cP{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function B0(){return new qy([new PD])}let qy=(()=>{class r{static#e=this.\u0275prov=An({token:r,providedIn:"root",factory:B0});constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||B0()),deps:[[r,new pi,new ai]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new ut(901,!1)}}return r})();function xD(){return new Kd([new aP])}let Kd=(()=>{class r{static#e=this.\u0275prov=An({token:r,providedIn:"root",factory:xD});constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||xD()),deps:[[r,new pi,new ai]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new ut(901,!1)}}return r})();function sO(r){try{const{rootComponent:s,appProviders:o,platformProviders:l}=r,u=function JR(r=[]){if(Wd)return Wd;const s=function bD(r=[],s){return Fo.create({name:s,providers:[{provide:oo,useValue:"platform"},{provide:k0,useValue:new Set([()=>Wd=null])},...r]})}(r);return Wd=s,function ED(){!function hr(r){Qn=r}(()=>{throw new ut(600,!1)})}(),function CD(r){r.get($v,null)?.forEach(o=>o())}(s),s}(l),f=[GR(),...o||[]],y=new yg({providers:f,parent:u,debugName:"",runEnvironmentInitializers:!1}).injector,b=y.get(Cn);return b.run(()=>{y.resolveInjectorInitializers();const M=y.get(Va,null);let F;b.runOutsideAngular(()=>{F=b.onError.subscribe({next:ae=>{M.handleError(ae)}})});const q=()=>y.destroy(),ne=u.get(k0);return ne.add(q),y.onDestroy(()=>{F.unsubscribe(),ne.delete(q)}),function ID(r,s,o){try{const l=o();return S0(l)?l.catch(u=>{throw s.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(M,b,()=>{const ae=y.get(R0);return ae.runInitializers(),ae.donePromise.then(()=>{!function wy(r){"string"==typeof r&&(Iy=r.toLowerCase().replace(/_/g,"-"))}(y.get(zy,Bl)||Bl);const ke=y.get(Uu);return void 0!==s&&ke.bootstrap(s),ke})})})}catch(s){return Promise.reject(s)}}function UP(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function BP(r,s=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?s:Number(r)}function zP(r,s){Bo("NgSignals");const o=function we(r){const s=Object.create(wr);s.computation=r;const o=()=>{if(He(s),be(s),s.value===Ir)throw s.error;return s.value};return o[xe]=s,o}(r);return s?.equal&&(o[xe].equal=s.equal),o}function YD(r){const s=ue(null);try{return r()}finally{ue(s)}}function qP(r){const s=rn(r);if(!s)return null;const o=new Ba(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},345:(Pt,Ue,G)=>{G.d(Ue,{B7:()=>lt,B8:()=>Oe,hE:()=>Ur,up:()=>Ui});var R=G(4438),d=G(177);class U extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends U{static makeCurrent(){(0,d.ZD)(new le)}onAndCancel(ge,Y,se){return ge.addEventListener(Y,se),()=>{ge.removeEventListener(Y,se)}}dispatchEvent(ge,Y){ge.dispatchEvent(Y)}remove(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}createElement(ge,Y){return(Y=Y||this.getDefaultDocument()).createElement(ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ge){return ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(ge){return ge instanceof DocumentFragment}getGlobalEventTarget(ge,Y){return"window"===Y?window:"document"===Y?ge:"body"===Y?ge.body:null}getBaseHref(ge){const Y=function xe(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==Y?null:function ue(ce){return new URL(ce,document.baseURI).pathname}(Y)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(ge){return(0,d._b)(document.cookie,ge)}}let Te=null,je=(()=>{class ce{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(se){return new(se||ce)};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac})}return ce})();const ie=new R.nKC("");let te=(()=>{class ce{constructor(Y,se){this._zone=se,this._eventNameToPlugin=new Map,Y.forEach(K=>{K.manager=this}),this._plugins=Y.slice().reverse()}addEventListener(Y,se,K){return this._findPluginFor(se).addEventListener(Y,se,K)}getZone(){return this._zone}_findPluginFor(Y){let se=this._eventNameToPlugin.get(Y);if(se)return se;if(se=this._plugins.find(Q=>Q.supports(Y)),!se)throw new R.wOt(5101,!1);return this._eventNameToPlugin.set(Y,se),se}static#e=this.\u0275fac=function(se){return new(se||ce)(R.KVO(ie),R.KVO(R.SKi))};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac})}return ce})();class be{constructor(ge){this._doc=ge}}const Je="ng-app-id";let He=(()=>{class ce{constructor(Y,se,K,Q={}){this.doc=Y,this.appId=se,this.nonce=K,this.platformId=Q,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(Q),this.resetHostNodes()}addStyles(Y){for(const se of Y)1===this.changeUsageCount(se,1)&&this.onStyleAdded(se)}removeStyles(Y){for(const se of Y)this.changeUsageCount(se,-1)<=0&&this.onStyleRemoved(se)}ngOnDestroy(){const Y=this.styleNodesInDOM;Y&&(Y.forEach(se=>se.remove()),Y.clear());for(const se of this.getAllStyles())this.onStyleRemoved(se);this.resetHostNodes()}addHost(Y){this.hostNodes.add(Y);for(const se of this.getAllStyles())this.addStyleToHost(Y,se)}removeHost(Y){this.hostNodes.delete(Y)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Y){for(const se of this.hostNodes)this.addStyleToHost(se,Y)}onStyleRemoved(Y){const se=this.styleRef;se.get(Y)?.elements?.forEach(K=>K.remove()),se.delete(Y)}collectServerRenderedStyles(){const Y=this.doc.head?.querySelectorAll(`style[${Je}="${this.appId}"]`);if(Y?.length){const se=new Map;return Y.forEach(K=>{null!=K.textContent&&se.set(K.textContent,K)}),se}return null}changeUsageCount(Y,se){const K=this.styleRef;if(K.has(Y)){const Q=K.get(Y);return Q.usage+=se,Q.usage}return K.set(Y,{usage:se,elements:[]}),se}getStyleElement(Y,se){const K=this.styleNodesInDOM,Q=K?.get(se);if(Q?.parentNode===Y)return K.delete(se),Q.removeAttribute(Je),Q;{const H=this.doc.createElement("style");return this.nonce&&H.setAttribute("nonce",this.nonce),H.textContent=se,this.platformIsServer&&H.setAttribute(Je,this.appId),Y.appendChild(H),H}}addStyleToHost(Y,se){const K=this.getStyleElement(Y,se),Q=this.styleRef,H=Q.get(se)?.elements;H?H.push(K):Q.set(se,{elements:[K],usage:1})}resetHostNodes(){const Y=this.hostNodes;Y.clear(),Y.add(this.doc.head)}static#e=this.\u0275fac=function(se){return new(se||ce)(R.KVO(d.qQ),R.KVO(R.sZ2),R.KVO(R.BIS,8),R.KVO(R.Agw))};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac})}return ce})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g,Ye=new R.nKC("",{providedIn:"root",factory:()=>!0});function rt(ce,ge){return ge.map(Y=>Y.replace(ot,ce))}let lt=(()=>{class ce{constructor(Y,se,K,Q,H,z,B,oe=null){this.eventManager=Y,this.sharedStylesHost=se,this.appId=K,this.removeStylesOnCompDestroy=Q,this.doc=H,this.platformId=z,this.ngZone=B,this.nonce=oe,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(z),this.defaultRenderer=new Et(Y,H,B,this.platformIsServer)}createRenderer(Y,se){if(!Y||!se)return this.defaultRenderer;this.platformIsServer&&se.encapsulation===R.gXe.ShadowDom&&(se={...se,encapsulation:R.gXe.Emulated});const K=this.getOrCreateRenderer(Y,se);return K instanceof zr?K.applyToHost(Y):K instanceof wr&&K.applyStyles(),K}getOrCreateRenderer(Y,se){const K=this.rendererByCompId;let Q=K.get(se.id);if(!Q){const H=this.doc,z=this.ngZone,B=this.eventManager,oe=this.sharedStylesHost,Ne=this.removeStylesOnCompDestroy,st=this.platformIsServer;switch(se.encapsulation){case R.gXe.Emulated:Q=new zr(B,oe,se,this.appId,Ne,H,z,st);break;case R.gXe.ShadowDom:return new Ir(B,oe,Y,se,H,z,this.nonce,st);default:Q=new wr(B,oe,se,Ne,H,z,st)}K.set(se.id,Q)}return Q}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(se){return new(se||ce)(R.KVO(te),R.KVO(He),R.KVO(R.sZ2),R.KVO(Ye),R.KVO(d.qQ),R.KVO(R.Agw),R.KVO(R.SKi),R.KVO(R.BIS))};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac})}return ce})();class Et{constructor(ge,Y,se,K){this.eventManager=ge,this.doc=Y,this.ngZone=se,this.platformIsServer=K,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ge,Y){return Y?this.doc.createElementNS(ht[Y]||Y,ge):this.doc.createElement(ge)}createComment(ge){return this.doc.createComment(ge)}createText(ge){return this.doc.createTextNode(ge)}appendChild(ge,Y){(Lt(ge)?ge.content:ge).appendChild(Y)}insertBefore(ge,Y,se){ge&&(Lt(ge)?ge.content:ge).insertBefore(Y,se)}removeChild(ge,Y){ge&&ge.removeChild(Y)}selectRootElement(ge,Y){let se="string"==typeof ge?this.doc.querySelector(ge):ge;if(!se)throw new R.wOt(-5104,!1);return Y||(se.textContent=""),se}parentNode(ge){return ge.parentNode}nextSibling(ge){return ge.nextSibling}setAttribute(ge,Y,se,K){if(K){Y=K+":"+Y;const Q=ht[K];Q?ge.setAttributeNS(Q,Y,se):ge.setAttribute(Y,se)}else ge.setAttribute(Y,se)}removeAttribute(ge,Y,se){if(se){const K=ht[se];K?ge.removeAttributeNS(K,Y):ge.removeAttribute(`${se}:${Y}`)}else ge.removeAttribute(Y)}addClass(ge,Y){ge.classList.add(Y)}removeClass(ge,Y){ge.classList.remove(Y)}setStyle(ge,Y,se,K){K&(R.czy.DashCase|R.czy.Important)?ge.style.setProperty(Y,se,K&R.czy.Important?"important":""):ge.style[Y]=se}removeStyle(ge,Y,se){se&R.czy.DashCase?ge.style.removeProperty(Y):ge.style[Y]=""}setProperty(ge,Y,se){null!=ge&&(ge[Y]=se)}setValue(ge,Y){ge.nodeValue=Y}listen(ge,Y,se){if("string"==typeof ge&&!(ge=(0,d.QT)().getGlobalEventTarget(this.doc,ge)))throw new Error(`Unsupported event target ${ge} for event ${Y}`);return this.eventManager.addEventListener(ge,Y,this.decoratePreventDefault(se))}decoratePreventDefault(ge){return Y=>{if("__ngUnwrap__"===Y)return ge;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ge(Y)):ge(Y))&&Y.preventDefault()}}}function Lt(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Ir extends Et{constructor(ge,Y,se,K,Q,H,z,B){super(ge,Q,H,B),this.sharedStylesHost=Y,this.hostEl=se,this.shadowRoot=se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const oe=rt(K.id,K.styles);for(const Ne of oe){const st=document.createElement("style");z&&st.setAttribute("nonce",z),st.textContent=Ne,this.shadowRoot.appendChild(st)}}nodeOrShadowRoot(ge){return ge===this.hostEl?this.shadowRoot:ge}appendChild(ge,Y){return super.appendChild(this.nodeOrShadowRoot(ge),Y)}insertBefore(ge,Y,se){return super.insertBefore(this.nodeOrShadowRoot(ge),Y,se)}removeChild(ge,Y){return super.removeChild(this.nodeOrShadowRoot(ge),Y)}parentNode(ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ge)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wr extends Et{constructor(ge,Y,se,K,Q,H,z,B){super(ge,Q,H,z),this.sharedStylesHost=Y,this.removeStylesOnCompDestroy=K,this.styles=B?rt(B,se.styles):se.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zr extends wr{constructor(ge,Y,se,K,Q,H,z,B){const oe=K+"-"+se.id;super(ge,Y,se,Q,H,z,B,oe),this.contentAttr=function ze(ce){return"_ngcontent-%COMP%".replace(ot,ce)}(oe),this.hostAttr=function et(ce){return"_nghost-%COMP%".replace(ot,ce)}(oe)}applyToHost(ge){this.applyStyles(),this.setAttribute(ge,this.hostAttr,"")}createElement(ge,Y){const se=super.createElement(ge,Y);return super.setAttribute(se,this.contentAttr,""),se}}let Qn=(()=>{class ce extends be{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,se,K){return Y.addEventListener(se,K,!1),()=>this.removeEventListener(Y,se,K)}removeEventListener(Y,se,K){return Y.removeEventListener(se,K)}static#e=this.\u0275fac=function(se){return new(se||ce)(R.KVO(d.qQ))};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac})}return ce})();const oi=["alt","control","meta","shift"],hr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ee={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Ce=(()=>{class ce extends be{constructor(Y){super(Y)}supports(Y){return null!=ce.parseEventName(Y)}addEventListener(Y,se,K){const Q=ce.parseEventName(se),H=ce.eventCallback(Q.fullKey,K,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(Y,Q.domEventName,H))}static parseEventName(Y){const se=Y.toLowerCase().split("."),K=se.shift();if(0===se.length||"keydown"!==K&&"keyup"!==K)return null;const Q=ce._normalizeKey(se.pop());let H="",z=se.indexOf("code");if(z>-1&&(se.splice(z,1),H="code."),oi.forEach(oe=>{const Ne=se.indexOf(oe);Ne>-1&&(se.splice(Ne,1),H+=oe+".")}),H+=Q,0!=se.length||0===Q.length)return null;const B={};return B.domEventName=K,B.fullKey=H,B}static matchEventFullKeyCode(Y,se){let K=hr[Y.key]||Y.key,Q="";return se.indexOf("code.")>-1&&(K=Y.code,Q="code."),!(null==K||!K)&&(K=K.toLowerCase()," "===K?K="space":"."===K&&(K="dot"),oi.forEach(H=>{H!==K&&(0,Ee[H])(Y)&&(Q+=H+".")}),Q+=K,Q===se)}static eventCallback(Y,se,K){return Q=>{ce.matchEventFullKeyCode(Q,Y)&&K.runGuarded(()=>se(Q))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}static#e=this.\u0275fac=function(se){return new(se||ce)(R.KVO(d.qQ))};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function Oe(ce,ge){return(0,R.TL3)({rootComponent:ce,...Re(ge)})}function Re(ce){return{appProviders:[...xr,...ce?.providers??[]],platformProviders:At}}const At=[{provide:R.Agw,useValue:d.AJ},{provide:R.PLl,useValue:function St(){le.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function mn(){return(0,R.TL$)(document),document},deps:[]}],xr=[{provide:R.H8p,useValue:"root"},{provide:R.zcH,useFactory:function Xt(){return new R.zcH},deps:[]},{provide:ie,useClass:Qn,multi:!0,deps:[d.qQ,R.SKi,R.Agw]},{provide:ie,useClass:Ce,multi:!0,deps:[d.qQ]},lt,He,te,{provide:R._9s,useExisting:lt},{provide:d.N0,useClass:je,deps:[]},[]];let Ur=(()=>{class ce{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}static#e=this.\u0275fac=function(se){return new(se||ce)(R.KVO(d.qQ))};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),Ui=(()=>{class ce{static#e=this.\u0275fac=function(se){return new(se||ce)};static#t=this.\u0275prov=R.jDH({token:ce,factory:function(se){let K=null;return K=se?new(se||ce):R.KVO(Vt),K},providedIn:"root"})}return ce})(),Vt=(()=>{class ce extends Ui{constructor(Y){super(),this._doc=Y}sanitize(Y,se){if(null==se)return null;switch(Y){case R.WPN.NONE:return se;case R.WPN.HTML:return(0,R.ZF7)(se,"HTML")?(0,R.rcV)(se):(0,R.h9k)(this._doc,String(se)).toString();case R.WPN.STYLE:return(0,R.ZF7)(se,"Style")?(0,R.rcV)(se):se;case R.WPN.SCRIPT:if((0,R.ZF7)(se,"Script"))return(0,R.rcV)(se);throw new R.wOt(5200,!1);case R.WPN.URL:return(0,R.ZF7)(se,"URL")?(0,R.rcV)(se):(0,R.$MX)(String(se));case R.WPN.RESOURCE_URL:if((0,R.ZF7)(se,"ResourceURL"))return(0,R.rcV)(se);throw new R.wOt(5201,!1);default:throw new R.wOt(5202,!1)}}bypassSecurityTrustHtml(Y){return(0,R.Kcf)(Y)}bypassSecurityTrustStyle(Y){return(0,R.cWb)(Y)}bypassSecurityTrustScript(Y){return(0,R.UyX)(Y)}bypassSecurityTrustUrl(Y){return(0,R.osQ)(Y)}bypassSecurityTrustResourceUrl(Y){return(0,R.e5t)(Y)}static#e=this.\u0275fac=function(se){return new(se||ce)(R.KVO(d.qQ))};static#t=this.\u0275prov=R.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},6315:(Pt,Ue,G)=>{G.d(Ue,{nX:()=>ai,wF:()=>Es,Ix:()=>ei,Wk:()=>rs,iI:()=>Xf,n3:()=>Co,lh:()=>kr});var R=G(467),d=G(4438),U=G(1985),le=G(8071),xe=G(8455),ue=G(7673),Ke=G(4412);const{isArray:je}=Array,{getPrototypeOf:ie,prototype:te,keys:be}=Object;var ht=G(3669),ot=G(6354);const{isArray:wt}=Array;var Tn=G(3794),ze=G(4360),et=G(5225);function rt(...E){const D=(0,Tn.lI)(E),w=(0,Tn.ms)(E),{args:S,keys:O}=function Je(E){if(1===E.length){const D=E[0];if(je(D))return{args:D,keys:null};if(function He(E){return E&&"object"==typeof E&&ie(E)===te}(D)){const w=be(D);return{args:w.map(S=>D[S]),keys:w}}}return{args:E,keys:null}}(E);if(0===S.length)return(0,xe.H)([],D);const j=new U.c(function lt(E,D,w=ht.D){return S=>{Et(D,()=>{const{length:O}=E,j=new Array(O);let J=O,ye=O;for(let _e=0;_e<O;_e++)Et(D,()=>{const at=(0,xe.H)(E[_e],D);let cn=!1;at.subscribe((0,ze._)(S,sn=>{j[_e]=sn,cn||(cn=!0,ye--),ye||S.next(w(j.slice()))},()=>{--J||S.complete()}))},S)},S)}}(S,D,O?J=>function Ye(E,D){return E.reduce((w,S,O)=>(w[S]=D[O],w),{})}(O,J):ht.D));return w?j.pipe(function gn(E){return(0,ot.T)(D=>function Tt(E,D){return wt(D)?E(...D):E(D)}(E,D))}(w)):j}function Et(E,D,w){E?(0,et.N)(w,E,D):D()}var we=G(9350),Zt=G(8793),Lt=G(8750);function Ir(E){return new U.c(D=>{(0,Lt.Tg)(E()).subscribe(D)})}var wr=G(1203);function zr(E,D){const w=(0,le.T)(E)?E:()=>E,S=O=>O.error(w());return new U.c(D?O=>D.schedule(S,0,O):S)}var Qn=G(983),oi=G(8359),hr=G(9974);function Ee(){return(0,hr.N)((E,D)=>{let w=null;E._refCount++;const S=(0,ze._)(D,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(w=null);const O=E._connection,j=w;w=null,O&&(!j||O===j)&&O.unsubscribe(),D.unsubscribe()});E.subscribe(S),S.closed||(w=E.connect())})}class Ce extends U.c{constructor(D,w){super(),this.source=D,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,hr.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new oi.yU;const w=this.getSubject();D.add(this.source.subscribe((0,ze._)(w,void 0,()=>{this._teardown(),w.complete()},S=>{this._teardown(),w.error(S)},()=>this._teardown()))),D.closed&&(this._connection=null,D=oi.yU.EMPTY)}return D}refCount(){return Ee()(this)}}var Oe=G(1413),Pe=G(177),Re=G(5558),Me=G(6697),St=G(9172),Xt=G(5964),mn=G(1397),At=G(1594),yn=G(274),vn=G(8141);function En(E){return(0,hr.N)((D,w)=>{let j,S=null,O=!1;S=D.subscribe((0,ze._)(w,void 0,void 0,J=>{j=(0,Lt.Tg)(E(J,En(E)(D))),S?(S.unsubscribe(),S=null,j.subscribe(w)):O=!0})),O&&(S.unsubscribe(),S=null,j.subscribe(w))})}var xr=G(2816),lr=G(9901);function Or(E){return E<=0?()=>Qn.w:(0,hr.N)((D,w)=>{let S=[];D.subscribe((0,ze._)(w,O=>{S.push(O),E<S.length&&S.shift()},()=>{for(const O of S)w.next(O);w.complete()},void 0,()=>{S=null}))})}var Xn=G(3774),Wr=G(980),ir=G(5343),Vi=G(6365),Ji=G(345);const Mt="primary",qe=Symbol("RouteTitle");class xt{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w[0]:w}return null}getAll(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Yn(E){return new xt(E)}function cr(E,D,w){const S=w.path.split("/");if(S.length>E.length||"full"===w.pathMatch&&(D.hasChildren()||S.length<E.length))return null;const O={};for(let j=0;j<S.length;j++){const J=S[j],ye=E[j];if(J.startsWith(":"))O[J.substring(1)]=ye;else if(J!==ye.path)return null}return{consumed:E.slice(0,S.length),posParams:O}}function Gn(E,D){const w=E?xn(E):void 0,S=D?xn(D):void 0;if(!w||!S||w.length!=S.length)return!1;let O;for(let j=0;j<w.length;j++)if(O=w[j],!Ui(E[O],D[O]))return!1;return!0}function xn(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function Ui(E,D){if(Array.isArray(E)&&Array.isArray(D)){if(E.length!==D.length)return!1;const w=[...E].sort(),S=[...D].sort();return w.every((O,j)=>S[j]===O)}return E===D}function Vt(E){return E.length>0?E[E.length-1]:null}function fr(E){return function Te(E){return!!E&&(E instanceof U.c||(0,le.T)(E.lift)&&(0,le.T)(E.subscribe))}(E)?E:(0,d.jNT)(E)?(0,xe.H)(Promise.resolve(E)):(0,ue.of)(E)}const Ot={exact:function pr(E,D,w){if(!Q(E.segments,D.segments)||!ce(E.segments,D.segments,w)||E.numberOfChildren!==D.numberOfChildren)return!1;for(const S in D.children)if(!E.children[S]||!pr(E.children[S],D.children[S],w))return!1;return!0},subset:Si},_n={exact:function sr(E,D){return Gn(E,D)},subset:function Ai(E,D){return Object.keys(D).length<=Object.keys(E).length&&Object.keys(D).every(w=>Ui(E[w],D[w]))},ignored:()=>!0};function Zn(E,D,w){return Ot[w.paths](E.root,D.root,w.matrixParams)&&_n[w.queryParams](E.queryParams,D.queryParams)&&!("exact"===w.fragment&&E.fragment!==D.fragment)}function Si(E,D,w){return Ri(E,D,D.segments,w)}function Ri(E,D,w,S){if(E.segments.length>w.length){const O=E.segments.slice(0,w.length);return!(!Q(O,w)||D.hasChildren()||!ce(O,w,S))}if(E.segments.length===w.length){if(!Q(E.segments,w)||!ce(E.segments,w,S))return!1;for(const O in D.children)if(!E.children[O]||!Si(E.children[O],D.children[O],S))return!1;return!0}{const O=w.slice(0,E.segments.length),j=w.slice(E.segments.length);return!!(Q(E.segments,O)&&ce(E.segments,O,S)&&E.children[Mt])&&Ri(E.children[Mt],D,j,S)}}function ce(E,D,w){return D.every((S,O)=>_n[w](E[O].parameters,S.parameters))}class ge{constructor(D=new Y([],{}),w={},S=null){this.root=D,this.queryParams=w,this.fragment=S}get queryParamMap(){return this._queryParamMap??=Yn(this.queryParams),this._queryParamMap}toString(){return oe.serialize(this)}}class Y{constructor(D,w){this.segments=D,this.children=w,this.parent=null,Object.values(w).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ne(this)}}class se{constructor(D,w){this.path=D,this.parameters=w}get parameterMap(){return this._parameterMap??=Yn(this.parameters),this._parameterMap}toString(){return Zr(this)}}function Q(E,D){return E.length===D.length&&E.every((w,S)=>w.path===D[S].path)}let z=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:()=>new B,providedIn:"root"})}return E})();class B{parse(D){const w=new Wt(D);return new ge(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(D){const w=`/${st(D.root,!0)}`,S=function zl(E){const D=Object.entries(E).map(([w,S])=>Array.isArray(S)?S.map(O=>`${jt(w)}=${jt(O)}`).join("&"):`${jt(w)}=${jt(S)}`).filter(w=>w);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${w}${S}${"string"==typeof D.fragment?`#${function Dn(E){return encodeURI(E)}(D.fragment)}`:""}`}}const oe=new B;function Ne(E){return E.segments.map(D=>Zr(D)).join("/")}function st(E,D){if(!E.hasChildren())return Ne(E);if(D){const w=E.children[Mt]?st(E.children[Mt],!1):"",S=[];return Object.entries(E.children).forEach(([O,j])=>{O!==Mt&&S.push(`${O}:${st(j,!1)}`)}),S.length>0?`${w}(${S.join("//")})`:w}{const w=function H(E,D){let w=[];return Object.entries(E.children).forEach(([S,O])=>{S===Mt&&(w=w.concat(D(O,S)))}),Object.entries(E.children).forEach(([S,O])=>{S!==Mt&&(w=w.concat(D(O,S)))}),w}(E,(S,O)=>O===Mt?[st(E.children[Mt],!1)]:[`${O}:${st(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Mt]?`${Ne(E)}/${w[0]}`:`${Ne(E)}/(${w.join("//")})`}}function $t(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jt(E){return $t(E).replace(/%3B/gi,";")}function Dt(E){return $t(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ft(E){return decodeURIComponent(E)}function hn(E){return ft(E.replace(/\+/g,"%20"))}function Zr(E){return`${Dt(E.path)}${function Wo(E){return Object.entries(E).map(([D,w])=>`;${Dt(D)}=${Dt(w)}`).join("")}(E.parameters)}`}const Ga=/^[^\/()?;#]+/;function An(E){const D=E.match(Ga);return D?D[0]:""}const qa=/^[^\/()?;=#]+/,De=/^[^=?&#]+/,Fe=/^[^&#]+/;class Wt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(D.length>0||Object.keys(w).length>0)&&(S[Mt]=new Y(D,w)),S}parseSegment(){const D=An(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(D),new se(ft(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const w=function _s(E){const D=E.match(qa);return D?D[0]:""}(this.remaining);if(!w)return;this.capture(w);let S="";if(this.consumeOptional("=")){const O=An(this.remaining);O&&(S=O,this.capture(S))}D[ft(w)]=ft(S)}parseQueryParam(D){const w=function he(E){const D=E.match(De);return D?D[0]:""}(this.remaining);if(!w)return;this.capture(w);let S="";if(this.consumeOptional("=")){const J=function gt(E){const D=E.match(Fe);return D?D[0]:""}(this.remaining);J&&(S=J,this.capture(S))}const O=hn(w),j=hn(S);if(D.hasOwnProperty(O)){let J=D[O];Array.isArray(J)||(J=[J],D[O]=J),J.push(j)}else D[O]=j}parseParens(D){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=An(this.remaining),O=this.remaining[S.length];if("/"!==O&&")"!==O&&";"!==O)throw new d.wOt(4010,!1);let j;S.indexOf(":")>-1?(j=S.slice(0,S.indexOf(":")),this.capture(j),this.capture(":")):D&&(j=Mt);const J=this.parseChildren();w[j]=1===Object.keys(J).length?J[Mt]:new Y([],J),this.consumeOptional("//")}return w}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new d.wOt(4011,!1)}}function Gt(E){return E.segments.length>0?new Y([],{[Mt]:E}):E}function on(E){const D={};for(const[S,O]of Object.entries(E.children)){const j=on(O);if(S===Mt&&0===j.segments.length&&j.hasChildren())for(const[J,ye]of Object.entries(j.children))D[J]=ye;else(j.segments.length>0||j.hasChildren())&&(D[S]=j)}return function Jn(E){if(1===E.numberOfChildren&&E.children[Mt]){const D=E.children[Mt];return new Y(E.segments.concat(D.segments),D.children)}return E}(new Y(E.segments,D))}function On(E){return E instanceof ge}function ys(E){let D;const O=Gt(function w(j){const J={};for(const _e of j.children){const at=w(_e);J[_e.outlet]=at}const ye=new Y(j.url,J);return j===E&&(D=ye),ye}(E.root));return D??O}function Eo(E,D,w,S){let O=E;for(;O.parent;)O=O.parent;if(0===D.length)return Ys(O,O,O,w,S);const j=function Zd(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Ka(!0,0,E);let D=0,w=!1;const S=E.reduce((O,j,J)=>{if("object"==typeof j&&null!=j){if(j.outlets){const ye={};return Object.entries(j.outlets).forEach(([_e,at])=>{ye[_e]="string"==typeof at?at.split("/"):at}),[...O,{outlets:ye}]}if(j.segmentPath)return[...O,j.segmentPath]}return"string"!=typeof j?[...O,j]:0===J?(j.split("/").forEach((ye,_e)=>{0==_e&&"."===ye||(0==_e&&""===ye?w=!0:".."===ye?D++:""!=ye&&O.push(ye))}),O):[...O,j]},[]);return new Ka(w,D,S)}(D);if(j.toRoot())return Ys(O,O,new Y([],{}),w,S);const J=function Jd(E,D,w){if(E.isAbsolute)return new Gl(D,!0,0);if(!w)return new Gl(D,!1,NaN);if(null===w.parent)return new Gl(w,!0,0);const S=er(E.commands[0])?0:1;return function Go(E,D,w){let S=E,O=D,j=w;for(;j>O;){if(j-=O,S=S.parent,!S)throw new d.wOt(4005,!1);O=S.segments.length}return new Gl(S,!1,O-j)}(w,w.segments.length-1+S,E.numberOfDoubleDots)}(j,O,E),ye=J.processChildren?vs(J.segmentGroup,J.index,j.commands):wa(J.segmentGroup,J.index,j.commands);return Ys(O,J.segmentGroup,ye,w,S)}function er(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Bs(E){return"object"==typeof E&&null!=E&&E.outlets}function Ys(E,D,w,S,O){let J,j={};S&&Object.entries(S).forEach(([_e,at])=>{j[_e]=Array.isArray(at)?at.map(cn=>`${cn}`):`${at}`}),J=E===D?w:Wl(E,D,w);const ye=Gt(on(J));return new ge(ye,j,O)}function Wl(E,D,w){const S={};return Object.entries(E.children).forEach(([O,j])=>{S[O]=j===D?w:Wl(j,D,w)}),new Y(E.segments,S)}class Ka{constructor(D,w,S){if(this.isAbsolute=D,this.numberOfDoubleDots=w,this.commands=S,D&&S.length>0&&er(S[0]))throw new d.wOt(4003,!1);const O=S.find(Bs);if(O&&O!==Vt(S))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gl{constructor(D,w,S){this.segmentGroup=D,this.processChildren=w,this.index=S}}function wa(E,D,w){if(E??=new Y([],{}),0===E.segments.length&&E.hasChildren())return vs(E,D,w);const S=function Qa(E,D,w){let S=0,O=D;const j={match:!1,pathIndex:0,commandIndex:0};for(;O<E.segments.length;){if(S>=w.length)return j;const J=E.segments[O],ye=w[S];if(Bs(ye))break;const _e=`${ye}`,at=S<w.length-1?w[S+1]:null;if(O>0&&void 0===_e)break;if(_e&&at&&"object"==typeof at&&void 0===at.outlets){if(!qt(_e,at,J))return j;S+=2}else{if(!qt(_e,{},J))return j;S++}O++}return{match:!0,pathIndex:O,commandIndex:S}}(E,D,w),O=w.slice(S.commandIndex);if(S.match&&S.pathIndex<E.segments.length){const j=new Y(E.segments.slice(0,S.pathIndex),{});return j.children[Mt]=new Y(E.segments.slice(S.pathIndex),E.children),vs(j,0,O)}return S.match&&0===O.length?new Y(E.segments,{}):S.match&&!E.hasChildren()?Mi(E,D,w):S.match?vs(E,0,O):Mi(E,D,w)}function vs(E,D,w){if(0===w.length)return new Y(E.segments,{});{const S=function Pi(E){return Bs(E[0])?E[0].outlets:{[Mt]:E}}(w),O={};if(Object.keys(S).some(j=>j!==Mt)&&E.children[Mt]&&1===E.numberOfChildren&&0===E.children[Mt].segments.length){const j=vs(E.children[Mt],D,w);return new Y(E.segments,j.children)}return Object.entries(S).forEach(([j,J])=>{"string"==typeof J&&(J=[J]),null!==J&&(O[j]=wa(E.children[j],D,J))}),Object.entries(E.children).forEach(([j,J])=>{void 0===S[j]&&(O[j]=J)}),new Y(E.segments,O)}}function Mi(E,D,w){const S=E.segments.slice(0,D);let O=0;for(;O<w.length;){const j=w[O];if(Bs(j)){const _e=br(j.outlets);return new Y(S,_e)}if(0===O&&er(w[0])){S.push(new se(E.segments[D].path,qo(w[0]))),O++;continue}const J=Bs(j)?j.outlets[Mt]:`${j}`,ye=O<w.length-1?w[O+1]:null;J&&ye&&er(ye)?(S.push(new se(J,qo(ye))),O+=2):(S.push(new se(J,{})),O++)}return new Y(S,{})}function br(E){const D={};return Object.entries(E).forEach(([w,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(D[w]=Mi(new Y([],{}),0,S))}),D}function qo(E){const D={};return Object.entries(E).forEach(([w,S])=>D[w]=`${S}`),D}function qt(E,D,w){return E==w.path&&Gn(D,w.parameters)}const fn="imperative";var Sn=function(E){return E[E.NavigationStart=0]="NavigationStart",E[E.NavigationEnd=1]="NavigationEnd",E[E.NavigationCancel=2]="NavigationCancel",E[E.NavigationError=3]="NavigationError",E[E.RoutesRecognized=4]="RoutesRecognized",E[E.ResolveStart=5]="ResolveStart",E[E.ResolveEnd=6]="ResolveEnd",E[E.GuardsCheckStart=7]="GuardsCheckStart",E[E.GuardsCheckEnd=8]="GuardsCheckEnd",E[E.RouteConfigLoadStart=9]="RouteConfigLoadStart",E[E.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",E[E.ChildActivationStart=11]="ChildActivationStart",E[E.ChildActivationEnd=12]="ChildActivationEnd",E[E.ActivationStart=13]="ActivationStart",E[E.ActivationEnd=14]="ActivationEnd",E[E.Scroll=15]="Scroll",E[E.NavigationSkipped=16]="NavigationSkipped",E}(Sn||{});class nr{constructor(D,w){this.id=D,this.url=w}}class Ko extends nr{constructor(D,w,S="imperative",O=null){super(D,w),this.type=Sn.NavigationStart,this.navigationTrigger=S,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Es extends nr{constructor(D,w,S){super(D,w),this.urlAfterRedirects=S,this.type=Sn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var es=function(E){return E[E.Redirect=0]="Redirect",E[E.SupersededByNewNavigation=1]="SupersededByNewNavigation",E[E.NoDataFromResolver=2]="NoDataFromResolver",E[E.GuardRejected=3]="GuardRejected",E}(es||{}),Io=function(E){return E[E.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",E[E.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",E}(Io||{});class an extends nr{constructor(D,w,S,O){super(D,w),this.reason=S,this.code=O,this.type=Sn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xi extends nr{constructor(D,w,S,O){super(D,w),this.reason=S,this.code=O,this.type=Sn.NavigationSkipped}}class Ta extends nr{constructor(D,w,S,O){super(D,w),this.error=S,this.target=O,this.type=Sn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gr extends nr{constructor(D,w,S,O){super(D,w),this.urlAfterRedirects=S,this.state=O,this.type=Sn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xa extends nr{constructor(D,w,S,O){super(D,w),this.urlAfterRedirects=S,this.state=O,this.type=Sn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ya extends nr{constructor(D,w,S,O,j){super(D,w),this.urlAfterRedirects=S,this.state=O,this.shouldActivate=j,this.type=Sn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eh extends nr{constructor(D,w,S,O){super(D,w),this.urlAfterRedirects=S,this.state=O,this.type=Sn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends nr{constructor(D,w,S,O){super(D,w),this.urlAfterRedirects=S,this.state=O,this.type=Sn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Za{constructor(D){this.route=D,this.type=Sn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qo{constructor(D){this.route=D,this.type=Sn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ql{constructor(D){this.snapshot=D,this.type=Sn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(D){this.snapshot=D,this.type=Sn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(D){this.snapshot=D,this.type=Sn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(D){this.snapshot=D,this.type=Sn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(D,w,S){this.routerEvent=D,this.position=w,this.anchor=S,this.type=Sn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Js{}class Jr{constructor(D){this.url=D}}class qr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Is,this.attachRef=null}}let Is=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(w,S){const O=this.getOrCreateContext(w);O.outlet=S,this.contexts.set(w,O)}onChildOutletDestroyed(w){const S=this.getContext(w);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let S=this.getContext(w);return S||(S=new qr,this.contexts.set(w,S)),S}getContext(w){return this.contexts.get(w)||null}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();class Kt{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const w=this.pathFromRoot(D);return w.length>1?w[w.length-2]:null}children(D){const w=eo(D,this._root);return w?w.children.map(S=>S.value):[]}firstChild(D){const w=eo(D,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(D){const w=Bi(D,this._root);return w.length<2?[]:w[w.length-2].children.map(O=>O.value).filter(O=>O!==D)}pathFromRoot(D){return Bi(D,this._root).map(w=>w.value)}}function eo(E,D){if(E===D.value)return D;for(const w of D.children){const S=eo(E,w);if(S)return S}return null}function Bi(E,D){if(E===D.value)return[D];for(const w of D.children){const S=Bi(E,w);if(S.length)return S.unshift(D),S}return[]}class gr{constructor(D,w){this.value=D,this.children=w}toString(){return`TreeNode(${this.value})`}}function us(E){const D={};return E&&E.children.forEach(w=>D[w.value.outlet]=w),D}class el extends Kt{constructor(D,w){super(D),this.snapshot=w,Ts(this,D)}toString(){return this.snapshot.toString()}}function to(E){const D=function ws(E){const j=new pi([],{},{},"",{},Mt,E,null,{});return new th("",new gr(j,[]))}(E),w=new Ke.t([new se("",{})]),S=new Ke.t({}),O=new Ke.t({}),j=new Ke.t({}),J=new Ke.t(""),ye=new ai(w,S,j,J,O,Mt,E,D.root);return ye.snapshot=D.root,new el(new gr(ye,[]),D)}class ai{constructor(D,w,S,O,j,J,ye,_e){this.urlSubject=D,this.paramsSubject=w,this.queryParamsSubject=S,this.fragmentSubject=O,this.dataSubject=j,this.outlet=J,this.component=ye,this._futureSnapshot=_e,this.title=this.dataSubject?.pipe((0,ot.T)(at=>at[qe]))??(0,ue.of)(void 0),this.url=D,this.params=w,this.queryParams=S,this.fragment=O,this.data=j}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ot.T)(D=>Yn(D))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ot.T)(D=>Yn(D))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kl(E,D,w="emptyOnly"){let S;const{routeConfig:O}=E;return S=null===D||"always"!==w&&""!==O?.path&&(D.component||D.routeConfig?.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...E._resolvedData??{}}}:{params:{...D.params,...E.params},data:{...D.data,...E.data},resolve:{...E.data,...D.data,...O?.data,...E._resolvedData}},O&&ba(O)&&(S.resolve[qe]=O.title),S}class pi{get title(){return this.data?.[qe]}constructor(D,w,S,O,j,J,ye,_e,at){this.url=D,this.params=w,this.queryParams=S,this.fragment=O,this.data=j,this.outlet=J,this.component=ye,this.routeConfig=_e,this._resolve=at}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class th extends Kt{constructor(D,w){super(w),this.url=D,Ts(this,w)}toString(){return xc(this._root)}}function Ts(E,D){D.value._routerState=E,D.children.forEach(w=>Ts(E,w))}function xc(E){const D=E.children.length>0?` { ${E.children.map(xc).join(", ")} } `:"";return`${E.value}${D}`}function Un(E){if(E.snapshot){const D=E.snapshot,w=E._futureSnapshot;E.snapshot=w,Gn(D.queryParams,w.queryParams)||E.queryParamsSubject.next(w.queryParams),D.fragment!==w.fragment&&E.fragmentSubject.next(w.fragment),Gn(D.params,w.params)||E.paramsSubject.next(w.params),function Tr(E,D){if(E.length!==D.length)return!1;for(let w=0;w<E.length;++w)if(!Gn(E[w],D[w]))return!1;return!0}(D.url,w.url)||E.urlSubject.next(w.url),Gn(D.data,w.data)||E.dataSubject.next(w.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function bs(E,D){const w=Gn(E.params,D.params)&&function K(E,D){return Q(E,D)&&E.every((w,S)=>Gn(w.parameters,D[S].parameters))}(E.url,D.url);return w&&!(!E.parent!=!D.parent)&&(!E.parent||bs(E.parent,D.parent))}function ba(E){return"string"==typeof E.title||null===E.title}let Co=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(Is),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.environmentInjector=(0,d.WQX)(d.uvJ),this.inputBinder=(0,d.WQX)(Yo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:S,previousValue:O}=w.name;if(S)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,S){this.activated=w,this._activatedRoute=S,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,S){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=w;const O=this.location,J=w.snapshot.component,ye=this.parentContexts.getOrCreateContext(this.name).children,_e=new no(w,ye,O.injector);this.activated=O.createComponent(J,{index:O.length,injector:_e,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275dir=d.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}return E})();class no{__ngOutletInjector(D){return new no(this.route,this.childContexts,D)}constructor(D,w,S){this.route=D,this.childContexts=w,this.parent=S}get(D,w){return D===ai?this.route:D===Is?this.childContexts:this.parent.get(D,w)}}const Yo=new d.nKC("");let js=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:S}=w,O=rt([S.queryParams,S.params,S.data]).pipe((0,Re.n)(([j,J,ye],_e)=>(ye={...j,...J,...ye},0===_e?(0,ue.of)(ye):Promise.resolve(ye)))).subscribe(j=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(w);const J=(0,d.HJs)(S.component);if(J)for(const{templateName:ye}of J.inputs)w.activatedComponentRef.setInput(ye,j[ye]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,O)}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac})}return E})();function tl(E,D,w){if(w&&E.shouldReuseRoute(D.value,w.value.snapshot)){const S=w.value;S._futureSnapshot=D.value;const O=function gi(E,D,w){return D.children.map(S=>{for(const O of w.children)if(E.shouldReuseRoute(S.value,O.value.snapshot))return tl(E,S,O);return tl(E,S)})}(E,D,w);return new gr(S,O)}{if(E.shouldAttach(D.value)){const j=E.retrieve(D.value);if(null!==j){const J=j.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(ye=>tl(E,ye)),J}}const S=function Ca(E){return new ai(new Ke.t(E.url),new Ke.t(E.params),new Ke.t(E.queryParams),new Ke.t(E.fragment),new Ke.t(E.data),E.outlet,E.component,E)}(D.value),O=D.children.map(j=>tl(E,j));return new gr(S,O)}}const ji="ngNavigationCancelingError";function Cs(E,D){const{redirectTo:w,navigationBehaviorOptions:S}=On(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,O=Do(!1,es.Redirect);return O.url=w,O.navigationBehaviorOptions=S,O}function Do(E,D){const w=new Error(`NavigationCancelingError: ${E||""}`);return w[ji]=!0,w.cancellationCode=D,w}function wn(E){return!!E&&E[ji]}let ro=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=d.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(S,O){1&S&&d.nrm(0,"router-outlet")},dependencies:[Co],encapsulation:2})}return E})();function rl(E){const D=E.children&&E.children.map(rl),w=D?{...E,children:D}:{...E};return!w.component&&!w.loadComponent&&(D||w.loadChildren)&&w.outlet&&w.outlet!==Mt&&(w.component=ro),w}function Kr(E){return E.outlet||Mt}function ds(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let D=E.parent;D;D=D.parent){const w=D.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class rh{constructor(D,w,S,O,j){this.routeReuseStrategy=D,this.futureState=w,this.currState=S,this.forwardEvent=O,this.inputBindingEnabled=j}activate(D){const w=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,S,D),Un(this.futureState.root),this.activateChildRoutes(w,S,D)}deactivateChildRoutes(D,w,S){const O=us(w);D.children.forEach(j=>{const J=j.value.outlet;this.deactivateRoutes(j,O[J],S),delete O[J]}),Object.values(O).forEach(j=>{this.deactivateRouteAndItsChildren(j,S)})}deactivateRoutes(D,w,S){const O=D.value,j=w?w.value:null;if(O===j)if(O.component){const J=S.getContext(O.outlet);J&&this.deactivateChildRoutes(D,w,J.children)}else this.deactivateChildRoutes(D,w,S);else j&&this.deactivateRouteAndItsChildren(w,S)}deactivateRouteAndItsChildren(D,w){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,w):this.deactivateRouteAndOutlet(D,w)}detachAndStoreRouteSubtree(D,w){const S=w.getContext(D.value.outlet),O=S&&D.value.component?S.children:w,j=us(D);for(const J of Object.values(j))this.deactivateRouteAndItsChildren(J,O);if(S&&S.outlet){const J=S.outlet.detach(),ye=S.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:ye})}}deactivateRouteAndOutlet(D,w){const S=w.getContext(D.value.outlet),O=S&&D.value.component?S.children:w,j=us(D);for(const J of Object.values(j))this.deactivateRouteAndItsChildren(J,O);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(D,w,S){const O=us(w);D.children.forEach(j=>{this.activateRoutes(j,O[j.value.outlet],S),this.forwardEvent(new bo(j.value.snapshot))}),D.children.length&&this.forwardEvent(new Xo(D.value.snapshot))}activateRoutes(D,w,S){const O=D.value,j=w?w.value:null;if(Un(O),O===j)if(O.component){const J=S.getOrCreateContext(O.outlet);this.activateChildRoutes(D,w,J.children)}else this.activateChildRoutes(D,w,S);else if(O.component){const J=S.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ye=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),J.children.onOutletReAttached(ye.contexts),J.attachRef=ye.componentRef,J.route=ye.route.value,J.outlet&&J.outlet.attach(ye.componentRef,ye.route.value),Un(ye.route.value),this.activateChildRoutes(D,null,J.children)}else{const ye=ds(O.snapshot);J.attachRef=null,J.route=O,J.injector=ye,J.outlet&&J.outlet.activateWith(O,J.injector),this.activateChildRoutes(D,null,J.children)}}else this.activateChildRoutes(D,null,S)}}class sl{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class mi{constructor(D,w){this.component=D,this.route=w}}function Xl(E,D,w){const S=E._root;return zs(S,D?D._root:null,w,[S.value])}function Hs(E,D){const w=Symbol(),S=D.get(E,w);return S===w?"function"!=typeof E||(0,d.LfX)(E)?D.get(E):E:S}function zs(E,D,w,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=us(D);return E.children.forEach(J=>{(function Bn(E,D,w,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=E.value,J=D?D.value:null,ye=w?w.getContext(E.value.outlet):null;if(J&&j.routeConfig===J.routeConfig){const _e=function ol(E,D,w){if("function"==typeof w)return w(E,D);switch(w){case"pathParamsChange":return!Q(E.url,D.url);case"pathParamsOrQueryParamsChange":return!Q(E.url,D.url)||!Gn(E.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bs(E,D)||!Gn(E.queryParams,D.queryParams);default:return!bs(E,D)}}(J,j,j.routeConfig.runGuardsAndResolvers);_e?O.canActivateChecks.push(new sl(S)):(j.data=J.data,j._resolvedData=J._resolvedData),zs(E,D,j.component?ye?ye.children:null:w,S,O),_e&&ye&&ye.outlet&&ye.outlet.isActivated&&O.canDeactivateChecks.push(new mi(ye.outlet.component,J))}else J&&So(D,ye,O),O.canActivateChecks.push(new sl(S)),zs(E,null,j.component?ye?ye.children:null:w,S,O)})(J,j[J.value.outlet],w,S.concat([J.value]),O),delete j[J.value.outlet]}),Object.entries(j).forEach(([J,ye])=>So(ye,w.getContext(J),O)),O}function So(E,D,w){const S=us(E),O=E.value;Object.entries(S).forEach(([j,J])=>{So(J,O.component?D?D.children.getContext(j):null:D,w)}),w.canDeactivateChecks.push(new mi(O.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,O))}function io(E){return"function"==typeof E}function Sa(E){return E instanceof we.G||"EmptyError"===E?.name}const al=Symbol("INITIAL_VALUE");function As(){return(0,Re.n)(E=>rt(E.map(D=>D.pipe((0,Me.s)(1),(0,St.Z)(al)))).pipe((0,ot.T)(D=>{for(const w of D)if(!0!==w){if(w===al)return al;if(!1===w||w instanceof ge)return w}return!0}),(0,Xt.p)(D=>D!==al),(0,Me.s)(1)))}function Zl(E){return(0,wr.F)((0,vn.M)(D=>{if(On(D))throw Cs(0,D)}),(0,ot.T)(D=>!0===D))}class Ro{constructor(D){this.segmentGroup=D||null}}class so extends Error{constructor(D){super(),this.urlTree=D}}function Gs(E){return zr(new Ro(E))}class ul{constructor(D,w){this.urlSerializer=D,this.urlTree=w}lineralizeSegments(D,w){let S=[],O=w.root;for(;;){if(S=S.concat(O.segments),0===O.numberOfChildren)return(0,ue.of)(S);if(O.numberOfChildren>1||!O.children[Mt])return zr(new d.wOt(4e3,!1));O=O.children[Mt]}}applyRedirectCommands(D,w,S){const O=this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),D,S);if(w.startsWith("/"))throw new so(O);return O}applyRedirectCreateUrlTree(D,w,S,O){const j=this.createSegmentGroup(D,w.root,S,O);return new ge(j,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(D,w){const S={};return Object.entries(D).forEach(([O,j])=>{if("string"==typeof j&&j.startsWith(":")){const ye=j.substring(1);S[O]=w[ye]}else S[O]=j}),S}createSegmentGroup(D,w,S,O){const j=this.createSegments(D,w.segments,S,O);let J={};return Object.entries(w.children).forEach(([ye,_e])=>{J[ye]=this.createSegmentGroup(D,_e,S,O)}),new Y(j,J)}createSegments(D,w,S,O){return w.map(j=>j.path.startsWith(":")?this.findPosParam(D,j,O):this.findOrReturn(j,S))}findPosParam(D,w,S){const O=S[w.path.substring(1)];if(!O)throw new d.wOt(4001,!1);return O}findOrReturn(D,w){let S=0;for(const O of w){if(O.path===D.path)return w.splice(S),O;S++}return D}}const dl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zu(E,D,w,S,O){const j=Po(E,D,w);return j.matched?(S=function Oc(E,D){return E.providers&&!E._injector&&(E._injector=(0,d.Ol2)(E.providers,D,`Route: ${E.path}`)),E._injector??D}(D,S),function cl(E,D,w,S){const O=D.canMatch;if(!O||0===O.length)return(0,ue.of)(!0);const j=O.map(J=>{const ye=Hs(J,E);return fr(function Uc(E){return E&&io(E.canMatch)}(ye)?ye.canMatch(D,w):(0,d.N4e)(E,()=>ye(D,w)))});return(0,ue.of)(j).pipe(As(),Zl())}(S,D,w).pipe((0,ot.T)(J=>!0===J?j:{...dl}))):(0,ue.of)(j)}function Po(E,D,w){if("**"===D.path)return function Mo(E){return{matched:!0,parameters:E.length>0?Vt(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(w);if(""===D.path)return"full"===D.pathMatch&&(E.hasChildren()||w.length>0)?{...dl}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const O=(D.matcher||cr)(w,E,D);if(!O)return{...dl};const j={};Object.entries(O.posParams??{}).forEach(([ye,_e])=>{j[ye]=_e.path});const J=O.consumed.length>0?{...j,...O.consumed[O.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:O.consumed,remainingSegments:w.slice(O.consumed.length),parameters:J,positionalParamSegments:O.posParams??{}}}function Bc(E,D,w,S){return w.length>0&&function hl(E,D,w){return w.some(S=>Ss(E,D,S)&&Kr(S)!==Mt)}(E,w,S)?{segmentGroup:new Y(D,ec(S,new Y(w,E.children))),slicedSegments:[]}:0===w.length&&function tc(E,D,w){return w.some(S=>Ss(E,D,S))}(E,w,S)?{segmentGroup:new Y(E.segments,oo(E,w,S,E.children)),slicedSegments:w}:{segmentGroup:new Y(E.segments,E.children),slicedSegments:w}}function oo(E,D,w,S){const O={};for(const j of w)if(Ss(E,D,j)&&!S[Kr(j)]){const J=new Y([],{});O[Kr(j)]=J}return{...S,...O}}function ec(E,D){const w={};w[Mt]=D;for(const S of E)if(""===S.path&&Kr(S)!==Mt){const O=new Y([],{});w[Kr(S)]=O}return w}function Ss(E,D,w){return(!(E.hasChildren()||D.length>0)||"full"!==w.pathMatch)&&""===w.path}class jc{}class nc{constructor(D,w,S,O,j,J,ye){this.injector=D,this.configLoader=w,this.rootComponentType=S,this.config=O,this.urlTree=j,this.paramsInheritanceStrategy=J,this.urlSerializer=ye,this.applyRedirects=new ul(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(D){return new d.wOt(4002,`'${D.segmentGroup}'`)}recognize(){const D=Bc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,ot.T)(w=>{const S=new pi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,{}),O=new gr(S,w),j=new th("",O),J=function Ht(E,D,w=null,S=null){return Eo(ys(E),D,w,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return J.queryParams=this.urlTree.queryParams,j.url=this.urlSerializer.serialize(J),this.inheritParamsAndData(j._root,null),{state:j,tree:J}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D,Mt).pipe(En(S=>{if(S instanceof so)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof Ro?this.noMatchError(S):S}))}inheritParamsAndData(D,w){const S=D.value,O=Kl(S,w,this.paramsInheritanceStrategy);S.params=Object.freeze(O.params),S.data=Object.freeze(O.data),D.children.forEach(j=>this.inheritParamsAndData(j,S))}processSegmentGroup(D,w,S,O){return 0===S.segments.length&&S.hasChildren()?this.processChildren(D,w,S):this.processSegment(D,w,S,S.segments,O,!0).pipe((0,ot.T)(j=>j instanceof gr?[j]:[]))}processChildren(D,w,S){const O=[];for(const j of Object.keys(S.children))"primary"===j?O.unshift(j):O.push(j);return(0,xe.H)(O).pipe((0,yn.H)(j=>{const J=S.children[j],ye=function Zo(E,D){const w=E.filter(S=>Kr(S)===D);return w.push(...E.filter(S=>Kr(S)!==D)),w}(w,j);return this.processSegmentGroup(D,ye,J,j)}),(0,xr.S)((j,J)=>(j.push(...J),j)),(0,lr.U)(null),function Ur(E,D){const w=arguments.length>=2;return S=>S.pipe(E?(0,Xt.p)((O,j)=>E(O,j,S)):ht.D,Or(1),w?(0,lr.U)(D):(0,Xn.v)(()=>new we.G))}(),(0,mn.Z)(j=>{if(null===j)return Gs(S);const J=Gu(j);return function ta(E){E.sort((D,w)=>D.value.outlet===Mt?-1:w.value.outlet===Mt?1:D.value.outlet.localeCompare(w.value.outlet))}(J),(0,ue.of)(J)}))}processSegment(D,w,S,O,j,J){return(0,xe.H)(w).pipe((0,yn.H)(ye=>this.processSegmentAgainstRoute(ye._injector??D,w,ye,S,O,j,J).pipe(En(_e=>{if(_e instanceof Ro)return(0,ue.of)(null);throw _e}))),(0,At.$)(ye=>!!ye),En(ye=>{if(Sa(ye))return function ns(E,D,w){return 0===D.length&&!E.children[w]}(S,O,j)?(0,ue.of)(new jc):Gs(S);throw ye}))}processSegmentAgainstRoute(D,w,S,O,j,J,ye){return function Dr(E,D,w,S){return!!(Kr(E)===S||S!==Mt&&Ss(D,w,E))&&Po(D,E,w).matched}(S,O,j,J)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(D,O,S,j,J):this.allowRedirects&&ye?this.expandSegmentAgainstRouteUsingRedirect(D,O,w,S,j,J):Gs(O):Gs(O)}expandSegmentAgainstRouteUsingRedirect(D,w,S,O,j,J){const{matched:ye,consumedSegments:_e,positionalParamSegments:at,remainingSegments:cn}=Po(w,O,j);if(!ye)return Gs(w);O.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const sn=this.applyRedirects.applyRedirectCommands(_e,O.redirectTo,at);return this.applyRedirects.lineralizeSegments(O,sn).pipe((0,mn.Z)(dr=>this.processSegment(D,S,w,dr.concat(cn),J,!1)))}matchSegmentAgainstRoute(D,w,S,O,j){const J=zu(w,S,O,D);return"**"===S.path&&(w.children={}),J.pipe((0,Re.n)(ye=>ye.matched?this.getChildConfig(D=S._injector??D,S,O).pipe((0,Re.n)(({routes:_e})=>{const at=S._loadedInjector??D,{consumedSegments:cn,remainingSegments:sn,parameters:dr}=ye,ia=new pi(cn,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ra(E){return E.data||{}}(S),Kr(S),S.component??S._loadedComponent??null,S,function ao(E){return E.resolve||{}}(S)),{segmentGroup:qc,slicedSegments:Rn}=Bc(w,cn,sn,_e);if(0===Rn.length&&qc.hasChildren())return this.processChildren(at,_e,qc).pipe((0,ot.T)(Yt=>null===Yt?null:new gr(ia,Yt)));if(0===_e.length&&0===Rn.length)return(0,ue.of)(new gr(ia,[]));const Kc=Kr(S)===j;return this.processSegment(at,_e,qc,Rn,Kc?Mt:j,!0).pipe((0,ot.T)(Yt=>new gr(ia,Yt instanceof gr?[Yt]:[])))})):Gs(w)))}getChildConfig(D,w,S){return w.children?(0,ue.of)({routes:w.children,injector:D}):w.loadChildren?void 0!==w._loadedRoutes?(0,ue.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function ih(E,D,w,S){const O=D.canLoad;if(void 0===O||0===O.length)return(0,ue.of)(!0);const j=O.map(J=>{const ye=Hs(J,E);return fr(function Lc(E){return E&&io(E.canLoad)}(ye)?ye.canLoad(D,w):(0,d.N4e)(E,()=>ye(D,w)))});return(0,ue.of)(j).pipe(As(),Zl())}(D,w,S).pipe((0,mn.Z)(O=>O?this.configLoader.loadChildren(D,w).pipe((0,vn.M)(j=>{w._loadedRoutes=j.routes,w._loadedInjector=j.injector})):function ea(E){return zr(Do(!1,es.GuardRejected))}())):(0,ue.of)({routes:[],injector:D})}}function na(E){const D=E.value.routeConfig;return D&&""===D.path}function Gu(E){const D=[],w=new Set;for(const S of E){if(!na(S)){D.push(S);continue}const O=D.find(j=>S.value.routeConfig===j.value.routeConfig);void 0!==O?(O.children.push(...S.children),w.add(O)):D.push(S)}for(const S of w){const O=Gu(S.children);D.push(new gr(S.value,O))}return D.filter(S=>!w.has(S))}function C(E){const D=E.children.map(w=>C(w)).flat();return[E,...D]}function Z(E){return(0,Re.n)(D=>{const w=E(D);return w?(0,xe.H)(w).pipe((0,ot.T)(()=>D)):(0,ue.of)(D)})}let Ie=(()=>{class E{buildTitle(w){let S,O=w.root;for(;void 0!==O;)S=this.getResolvedTitleForRoute(O)??S,O=O.children.find(j=>j.outlet===Mt);return S}getResolvedTitleForRoute(w){return w.data[qe]}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(Be),providedIn:"root"})}return E})(),Be=(()=>{class E extends Ie{constructor(w){super(),this.title=w}updateTitle(w){const S=this.buildTitle(w);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||E)(d.KVO(Ji.hE))};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const It=new d.nKC("",{providedIn:"root",factory:()=>({})}),Hn=new d.nKC("");let dt=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,ue.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const S=fr(w.loadComponent()).pipe((0,ot.T)(Ar),(0,vn.M)(j=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=j}),(0,Wr.j)(()=>{this.componentLoaders.delete(w)})),O=new Ce(S,()=>new Oe.B).pipe(Ee());return this.componentLoaders.set(w,O),O}loadChildren(w,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,ue.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const j=function tr(E,D,w,S){return fr(E.loadChildren()).pipe((0,ot.T)(Ar),(0,mn.Z)(O=>O instanceof d.Co$||Array.isArray(O)?(0,ue.of)(O):(0,xe.H)(D.compileModuleAsync(O))),(0,ot.T)(O=>{S&&S(E);let j,J,ye=!1;return Array.isArray(O)?(J=O,!0):(j=O.create(w).injector,J=j.get(Hn,[],{optional:!0,self:!0}).flat()),{routes:J.map(rl),injector:j}}))}(S,this.compiler,w,this.onLoadEndListener).pipe((0,Wr.j)(()=>{this.childrenLoaders.delete(S)})),J=new Ce(j,()=>new Oe.B).pipe(Ee());return this.childrenLoaders.set(S,J),J}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Ar(E){return function In(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Nn=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(Br),providedIn:"root"})}return E})(),Br=(()=>{class E{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,S){return w}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const Fn=new d.nKC(""),tt=new d.nKC("");function Rt(E,D,w){const S=E.get(tt),O=E.get(Pe.qQ);return E.get(d.SKi).runOutsideAngular(()=>{if(!O.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(at=>setTimeout(at));let j;const J=new Promise(at=>{j=at}),ye=O.startViewTransition(()=>(j(),function zn(E){return new Promise(D=>{(0,d.mal)(D,{injector:E})})}(E))),{onViewTransitionCreated:_e}=S;return _e&&(0,d.N4e)(E,()=>_e({transition:ye,from:D,to:w})),J})}let or=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Oe.B,this.transitionAbortSubject=new Oe.B,this.configLoader=(0,d.WQX)(dt),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(z),this.rootContexts=(0,d.WQX)(Is),this.location=(0,d.WQX)(Pe.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(Yo,{optional:!0}),this.titleStrategy=(0,d.WQX)(Ie),this.options=(0,d.WQX)(It,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(Nn),this.createViewTransition=(0,d.WQX)(Fn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ue.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new Qo(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new Za(O))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:S})}setupNavigations(w,S,O){return this.transitions=new Ke.t({id:0,currentUrlTree:S,currentRawUrl:S,extractedUrl:this.urlHandlingStrategy.extract(S),urlAfterRedirects:this.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fn,restoredState:null,currentSnapshot:O.snapshot,targetSnapshot:null,currentRouterState:O,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Xt.p)(j=>0!==j.id),(0,ot.T)(j=>({...j,extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,Re.n)(j=>{let J=!1,ye=!1;return(0,ue.of)(j).pipe((0,Re.n)(_e=>{if(this.navigationId>j.id)return this.cancelNavigationTransition(j,"",es.SupersededByNewNavigation),Qn.w;this.currentTransition=j,this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const at=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!at&&"reload"!==(_e.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const sn="";return this.events.next(new xi(_e.id,this.urlSerializer.serialize(_e.rawUrl),sn,Io.IgnoredSameUrlNavigation)),_e.resolve(null),Qn.w}if(this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return(0,ue.of)(_e).pipe((0,Re.n)(sn=>{const dr=this.transitions?.getValue();return this.events.next(new Ko(sn.id,this.urlSerializer.serialize(sn.extractedUrl),sn.source,sn.restoredState)),dr!==this.transitions?.getValue()?Qn.w:Promise.resolve(sn)}),function Hc(E,D,w,S,O,j){return(0,mn.Z)(J=>function $c(E,D,w,S,O,j,J="emptyOnly"){return new nc(E,D,w,S,O,J,j).recognize()}(E,D,w,S,J.extractedUrl,O,j).pipe((0,ot.T)(({state:ye,tree:_e})=>({...J,targetSnapshot:ye,urlAfterRedirects:_e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,vn.M)(sn=>{j.targetSnapshot=sn.targetSnapshot,j.urlAfterRedirects=sn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sn.urlAfterRedirects};const dr=new Gr(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(dr)}));if(at&&this.urlHandlingStrategy.shouldProcessUrl(_e.currentRawUrl)){const{id:sn,extractedUrl:dr,source:ia,restoredState:qc,extras:Rn}=_e,Kc=new Ko(sn,this.urlSerializer.serialize(dr),ia,qc);this.events.next(Kc);const Yt=to(this.rootComponentType).snapshot;return this.currentTransition=j={..._e,targetSnapshot:Yt,urlAfterRedirects:dr,extras:{...Rn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=dr,(0,ue.of)(j)}{const sn="";return this.events.next(new xi(_e.id,this.urlSerializer.serialize(_e.extractedUrl),sn,Io.IgnoredByUrlHandlingStrategy)),_e.resolve(null),Qn.w}}),(0,vn.M)(_e=>{const at=new Xa(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(at)}),(0,ot.T)(_e=>(this.currentTransition=j={..._e,guards:Xl(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)},j)),function rn(E,D){return(0,mn.Z)(w=>{const{targetSnapshot:S,currentSnapshot:O,guards:{canActivateChecks:j,canDeactivateChecks:J}}=w;return 0===J.length&&0===j.length?(0,ue.of)({...w,guardsResult:!0}):function Nr(E,D,w,S){return(0,xe.H)(E).pipe((0,mn.Z)(O=>function Ws(E,D,w,S,O){const j=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,ue.of)(!0);const J=j.map(ye=>{const _e=ds(D)??O,at=Hs(ye,_e);return fr(function Vc(E){return E&&io(E.canDeactivate)}(at)?at.canDeactivate(E,D,w,S):(0,d.N4e)(_e,()=>at(E,D,w,S))).pipe((0,At.$)())});return(0,ue.of)(J).pipe(As())}(O.component,O.route,w,D,S)),(0,At.$)(O=>!0!==O,!0))}(J,S,O,E).pipe((0,mn.Z)(ye=>ye&&function kc(E){return"boolean"==typeof E}(ye)?function Cr(E,D,w,S){return(0,xe.H)(D).pipe((0,yn.H)(O=>(0,Zt.x)(function ci(E,D){return null!==E&&D&&D(new ql(E)),(0,ue.of)(!0)}(O.route.parent,S),function Ti(E,D){return null!==E&&D&&D(new To(E)),(0,ue.of)(!0)}(O.route,S),function Yl(E,D,w){const S=D[D.length-1],j=D.slice(0,D.length-1).reverse().map(J=>function Jo(E){const D=E.routeConfig?E.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:E,guards:D}:null}(J)).filter(J=>null!==J).map(J=>Ir(()=>{const ye=J.guards.map(_e=>{const at=ds(J.node)??w,cn=Hs(_e,at);return fr(function Fc(E){return E&&io(E.canActivateChild)}(cn)?cn.canActivateChild(S,E):(0,d.N4e)(at,()=>cn(S,E))).pipe((0,At.$)())});return(0,ue.of)(ye).pipe(As())}));return(0,ue.of)(j).pipe(As())}(E,O.path,w),function ll(E,D,w){const S=D.routeConfig?D.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ue.of)(!0);const O=S.map(j=>Ir(()=>{const J=ds(D)??w,ye=Hs(j,J);return fr(function Aa(E){return E&&io(E.canActivate)}(ye)?ye.canActivate(D,E):(0,d.N4e)(J,()=>ye(D,E))).pipe((0,At.$)())}));return(0,ue.of)(O).pipe(As())}(E,O.route,w))),(0,At.$)(O=>!0!==O,!0))}(S,j,E,D):(0,ue.of)(ye)),(0,ot.T)(ye=>({...w,guardsResult:ye})))})}(this.environmentInjector,_e=>this.events.next(_e)),(0,vn.M)(_e=>{if(j.guardsResult=_e.guardsResult,On(_e.guardsResult))throw Cs(0,_e.guardsResult);const at=new Ya(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.events.next(at)}),(0,Xt.p)(_e=>!!_e.guardsResult||(this.cancelNavigationTransition(_e,"",es.GuardRejected),!1)),Z(_e=>{if(_e.guards.canActivateChecks.length)return(0,ue.of)(_e).pipe((0,vn.M)(at=>{const cn=new eh(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(cn)}),(0,Re.n)(at=>{let cn=!1;return(0,ue.of)(at).pipe(function qs(E,D){return(0,mn.Z)(w=>{const{targetSnapshot:S,guards:{canActivateChecks:O}}=w;if(!O.length)return(0,ue.of)(w);const j=new Set(O.map(_e=>_e.route)),J=new Set;for(const _e of j)if(!J.has(_e))for(const at of C(_e))J.add(at);let ye=0;return(0,xe.H)(J).pipe((0,yn.H)(_e=>j.has(_e)?function V(E,D,w,S){const O=E.routeConfig,j=E._resolve;return void 0!==O?.title&&!ba(O)&&(j[qe]=O.title),function P(E,D,w,S){const O=xn(E);if(0===O.length)return(0,ue.of)({});const j={};return(0,xe.H)(O).pipe((0,mn.Z)(J=>function k(E,D,w,S){const O=ds(D)??S,j=Hs(E,O);return fr(j.resolve?j.resolve(D,w):(0,d.N4e)(O,()=>j(D,w)))}(E[J],D,w,S).pipe((0,At.$)(),(0,vn.M)(ye=>{j[J]=ye}))),Or(1),function ut(E){return(0,ot.T)(()=>E)}(j),En(J=>Sa(J)?Qn.w:zr(J)))}(j,E,D,S).pipe((0,ot.T)(J=>(E._resolvedData=J,E.data=Kl(E,E.parent,w).resolve,null)))}(_e,S,E,D):(_e.data=Kl(_e,_e.parent,E).resolve,(0,ue.of)(void 0))),(0,vn.M)(()=>ye++),Or(1),(0,mn.Z)(_e=>ye===J.size?(0,ue.of)(w):Qn.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,vn.M)({next:()=>cn=!0,complete:()=>{cn||this.cancelNavigationTransition(at,"",es.NoDataFromResolver)}}))}),(0,vn.M)(at=>{const cn=new wo(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(cn)}))}),Z(_e=>{const at=cn=>{const sn=[];cn.routeConfig?.loadComponent&&!cn.routeConfig._loadedComponent&&sn.push(this.configLoader.loadComponent(cn.routeConfig).pipe((0,vn.M)(dr=>{cn.component=dr}),(0,ot.T)(()=>{})));for(const dr of cn.children)sn.push(...at(dr));return sn};return rt(at(_e.targetSnapshot.root)).pipe((0,lr.U)(null),(0,Me.s)(1))}),Z(()=>this.afterPreactivation()),(0,Re.n)(()=>{const{currentSnapshot:_e,targetSnapshot:at}=j,cn=this.createViewTransition?.(this.environmentInjector,_e.root,at.root);return cn?(0,xe.H)(cn).pipe((0,ot.T)(()=>j)):(0,ue.of)(j)}),(0,ot.T)(_e=>{const at=function nh(E,D,w){const S=tl(E,D._root,w?w._root:void 0);return new el(S,D)}(w.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return this.currentTransition=j={..._e,targetRouterState:at},this.currentNavigation.targetRouterState=at,j}),(0,vn.M)(()=>{this.events.next(new Js)}),((E,D,w,S)=>(0,ot.T)(O=>(new rh(D,O.targetRouterState,O.currentRouterState,w,S).activate(E),O)))(this.rootContexts,w.routeReuseStrategy,_e=>this.events.next(_e),this.inputBindingEnabled),(0,Me.s)(1),(0,vn.M)({next:_e=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Es(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects))),this.titleStrategy?.updateTitle(_e.targetRouterState.snapshot),_e.resolve(!0)},complete:()=>{J=!0}}),function fi(E){return(0,hr.N)((D,w)=>{(0,Lt.Tg)(E).subscribe((0,ze._)(w,()=>w.complete(),ir.l)),!w.closed&&D.subscribe(w)})}(this.transitionAbortSubject.pipe((0,vn.M)(_e=>{throw _e}))),(0,Wr.j)(()=>{!J&&!ye&&this.cancelNavigationTransition(j,"",es.SupersededByNewNavigation),this.currentTransition?.id===j.id&&(this.currentNavigation=null,this.currentTransition=null)}),En(_e=>{if(ye=!0,wn(_e))this.events.next(new an(j.id,this.urlSerializer.serialize(j.extractedUrl),_e.message,_e.cancellationCode)),function li(E){return wn(E)&&On(E.url)}(_e)?this.events.next(new Jr(_e.url)):j.resolve(!1);else{this.events.next(new Ta(j.id,this.urlSerializer.serialize(j.extractedUrl),_e,j.targetSnapshot??void 0));try{j.resolve(w.errorHandler(_e))}catch(at){this.options.resolveNavigationPromiseOnError?j.resolve(!1):j.reject(at)}}return Qn.w}))}))}cancelNavigationTransition(w,S,O){const j=new an(w.id,this.urlSerializer.serialize(w.extractedUrl),S,O);this.events.next(j),w.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function qn(E){return E!==fn}let Qr=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(mr),providedIn:"root"})}return E})();class lo{shouldDetach(D){return!1}store(D,w){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,w){return D.routeConfig===w.routeConfig}}let mr=(()=>{class E extends lo{static#e=this.\u0275fac=(()=>{let w;return function(O){return(w||(w=d.xGo(E)))(O||E)}})();static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),ui=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(ur),providedIn:"root"})}return E})(),ur=(()=>{class E extends ui{constructor(){super(...arguments),this.location=(0,d.WQX)(Pe.aZ),this.urlSerializer=(0,d.WQX)(z),this.options=(0,d.WQX)(It,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(Nn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ge,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=to(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(S=>{"popstate"===S.type&&w(S.url,S.state)})}handleRouterEvent(w,S){if(w instanceof Ko)this.stateMemento=this.createStateMemento();else if(w instanceof xi)this.rawUrlTree=S.initialUrl;else if(w instanceof Gr){if("eager"===this.urlUpdateStrategy&&!S.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(S.finalUrl,S.initialUrl);this.setBrowserUrl(O,S)}}else w instanceof Js?(this.currentUrlTree=S.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(S.finalUrl,S.initialUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S))):w instanceof an&&(w.code===es.GuardRejected||w.code===es.NoDataFromResolver)?this.restoreHistory(S):w instanceof Ta?this.restoreHistory(S,!0):w instanceof Es&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,S){const O=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(O)||S.extras.replaceUrl){const J={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(O,"",J)}else{const j={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(O,"",j)}}restoreHistory(w,S=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-this.browserPageId;0!==j?this.location.historyGo(j):this.currentUrlTree===w.finalUrl&&0===j&&(this.resetState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,S){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:S}:{navigationId:w}}static#e=this.\u0275fac=(()=>{let w;return function(O){return(w||(w=d.xGo(E)))(O||E)}})();static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();var zt=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(zt||{});function Pa(E,D){E.events.pipe((0,Xt.p)(w=>w instanceof Es||w instanceof an||w instanceof Ta||w instanceof xi),(0,ot.T)(w=>w instanceof Es||w instanceof xi?zt.COMPLETE:w instanceof an&&(w.code===es.Redirect||w.code===es.SupersededByNewNavigation)?zt.REDIRECTING:zt.FAILED),(0,Xt.p)(w=>w!==zt.REDIRECTING),(0,Me.s)(1)).subscribe(()=>{D()})}function qu(E){throw E}const ic={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_r={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ei=(()=>{class E{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(ui),this.options=(0,d.WQX)(It,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(or),this.urlSerializer=(0,d.WQX)(z),this.location=(0,d.WQX)(Pe.aZ),this.urlHandlingStrategy=(0,d.WQX)(Nn),this._events=new Oe.B,this.errorHandler=this.options.errorHandler||qu,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Qr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.WQX)(Hn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.WQX)(Yo,{optional:!0}),this.eventsSubscription=new oi.yU,this.isNgZoneEnabled=(0,d.WQX)(d.SKi)instanceof d.SKi&&d.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:w=>{this.console.warn(w)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(S=>{try{const O=this.navigationTransitions.currentTransition,j=this.navigationTransitions.currentNavigation;if(null!==O&&null!==j)if(this.stateManager.handleRouterEvent(S,j),S instanceof an&&S.code!==es.Redirect&&S.code!==es.SupersededByNewNavigation)this.navigated=!0;else if(S instanceof Es)this.navigated=!0;else if(S instanceof Jr){const J=this.urlHandlingStrategy.merge(S.url,O.currentRawUrl),ye={info:O.extras.info,skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qn(O.source)};this.scheduleNavigation(J,fn,null,ye,{resolve:O.resolve,reject:O.reject,promise:O.promise})}(function xo(E){return!(E instanceof Js||E instanceof Jr)})(S)&&this._events.next(S)}catch(O){this.navigationTransitions.transitionAbortSubject.next(O)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((w,S)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(w,"popstate",S)},0)})}navigateToSyncWithBrowser(w,S,O){const j={replaceUrl:!0},J=O?.navigationId?O:null;if(O){const _e={...O};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(j.state=_e)}const ye=this.parseUrl(w);this.scheduleNavigation(ye,S,J,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(rl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,S={}){const{relativeTo:O,queryParams:j,fragment:J,queryParamsHandling:ye,preserveFragment:_e}=S,at=_e?this.currentUrlTree.fragment:J;let sn,cn=null;switch(ye){case"merge":cn={...this.currentUrlTree.queryParams,...j};break;case"preserve":cn=this.currentUrlTree.queryParams;break;default:cn=j||null}null!==cn&&(cn=this.removeEmptyProps(cn));try{sn=ys(O?O.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),sn=this.currentUrlTree.root}return Eo(sn,w,cn,at??null)}navigateByUrl(w,S={skipLocationChange:!1}){const O=On(w)?w:this.parseUrl(w),j=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(j,fn,null,S)}navigate(w,S={skipLocationChange:!1}){return function fl(E){for(let D=0;D<E.length;D++)if(null==E[D])throw new d.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,S),S)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,S){let O;if(O=!0===S?{...ic}:!1===S?{..._r}:S,On(w))return Zn(this.currentUrlTree,w,O);const j=this.parseUrl(w);return Zn(this.currentUrlTree,j,O)}removeEmptyProps(w){return Object.entries(w).reduce((S,[O,j])=>(null!=j&&(S[O]=j),S),{})}scheduleNavigation(w,S,O,j,J){if(this.disposed)return Promise.resolve(!1);let ye,_e,at;J?(ye=J.resolve,_e=J.reject,at=J.promise):at=new Promise((sn,dr)=>{ye=sn,_e=dr});const cn=this.pendingTasks.add();return Pa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(cn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:j,resolve:ye,reject:_e,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(sn=>Promise.reject(sn))}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),rs=(()=>{class E{constructor(w,S,O,j,J,ye){this.router=w,this.route=S,this.tabIndexAttribute=O,this.renderer=j,this.el=J,this.locationStrategy=ye,this.href=null,this.commands=null,this.onChanges=new Oe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _e=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_e||"area"===_e,this.isAnchorElement?this.subscription=w.events.subscribe(at=>{at instanceof Es&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,S,O,j,J){const ye=this.urlTree;return!!(null===ye||this.isAnchorElement&&(0!==w||S||O||j||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ye,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const w=this.urlTree;this.href=null!==w&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(w)):null;const S=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(w,S){const O=this.renderer,j=this.el.nativeElement;null!==S?O.setAttribute(j,w,S):O.removeAttribute(j,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||E)(d.rXU(ei),d.rXU(ai),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(Pe.hb))};static#t=this.\u0275dir=d.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,O){1&S&&d.bIt("click",function(J){return O.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&S&&d.BMQ("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[d.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[d.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[d.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]})}return E})();class Ku{}let No=(()=>{class E{constructor(w,S,O,j,J){this.router=w,this.injector=O,this.preloadingStrategy=j,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xt.p)(w=>w instanceof Es),(0,yn.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,S){const O=[];for(const j of S){j.providers&&!j._injector&&(j._injector=(0,d.Ol2)(j.providers,w,`Route: ${j.path}`));const J=j._injector??w,ye=j._loadedInjector??J;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&O.push(this.preloadConfig(J,j)),(j.children||j._loadedRoutes)&&O.push(this.processRoutes(ye,j.children??j._loadedRoutes))}return(0,xe.H)(O).pipe((0,Vi.U)())}preloadConfig(w,S){return this.preloadingStrategy.preload(S,()=>{let O;O=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(w,S):(0,ue.of)(null);const j=O.pipe((0,mn.Z)(J=>null===J?(0,ue.of)(void 0):(S._loadedRoutes=J.routes,S._loadedInjector=J.injector,this.processRoutes(J.injector??w,J.routes))));if(S.loadComponent&&!S._loadedComponent){const J=this.loader.loadComponent(S);return(0,xe.H)([j,J]).pipe((0,Vi.U)())}return j})}static#e=this.\u0275fac=function(S){return new(S||E)(d.KVO(ei),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(Ku),d.KVO(dt))};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const Rs=new d.nKC("");let _i=(()=>{class E{constructor(w,S,O,j,J={}){this.urlSerializer=w,this.transitions=S,this.viewportScroller=O,this.zone=j,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,d.WQX)(d.uvJ),J.scrollPositionRestoration||="disabled",J.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Es?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof xi&&w.code===Io.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Zs&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,S){var O=this;this.zone.runOutsideAngular((0,R.A)(function*(){yield new Promise(j=>{setTimeout(()=>{j()}),(0,d.mal)(()=>{j()},{injector:O.environmentInjector})}),O.zone.run(()=>{O.transitions.events.next(new Zs(w,"popstate"===O.lastSource?O.store[O.restoredId]:null,S))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){d.QTQ()};static#t=this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac})}return E})();function kr(E,...D){return(0,d.EmA)([{provide:Hn,multi:!0,useValue:E},[],{provide:ai,useFactory:Hi,deps:[ei]},{provide:d.iLQ,multi:!0,useFactory:Ps},D.map(w=>w.\u0275providers)])}function Hi(E){return E.routerState.root}function jn(E,D){return{\u0275kind:E,\u0275providers:D}}function Ps(){const E=(0,d.WQX)(d.zZn);return D=>{const w=E.get(d.o8S);if(D!==w.components[0])return;const S=E.get(ei),O=E.get(ra);1===E.get(Ni)&&S.initialNavigation(),E.get(zc,null,d.$GK.Optional)?.setUpPreloading(),E.get(Rs,null,d.$GK.Optional)?.init(),S.resetRootComponentType(w.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const ra=new d.nKC("",{factory:()=>new Oe.B}),Ni=new d.nKC("",{providedIn:"root",factory:()=>1}),zc=new d.nKC("");function Wc(E){return jn(0,[{provide:zc,useExisting:No},{provide:Ku,useExisting:E}])}function Kf(E){return jn(9,[{provide:Fn,useValue:Rt},{provide:tt,useValue:{skipNextTransition:!!E?.skipInitialTransition,...E}}])}const Qf=new d.nKC("ROUTER_FORROOT_GUARD"),rv=[Pe.aZ,{provide:z,useClass:B},ei,Is,{provide:ai,useFactory:Hi,deps:[ei]},dt,[]];let Xf=(()=>{class E{constructor(w){}static forRoot(w,S){return{ngModule:E,providers:[rv,[],{provide:Hn,multi:!0,useValue:w},{provide:Qf,useFactory:im,deps:[[ei,new d.Xx1,new d.kdw]]},{provide:It,useValue:S||{}},S?.useHash?{provide:Pe.hb,useClass:Pe.fw}:{provide:Pe.hb,useClass:Pe.Sm},{provide:Rs,useFactory:()=>{const E=(0,d.WQX)(Pe.Xr),D=(0,d.WQX)(d.SKi),w=(0,d.WQX)(It),S=(0,d.WQX)(or),O=(0,d.WQX)(z);return w.scrollOffset&&E.setOffset(w.scrollOffset),new _i(O,S,E,D,w)}},S?.preloadingStrategy?Wc(S.preloadingStrategy).\u0275providers:[],S?.initialNavigation?sm(S):[],S?.bindToComponentInputs?jn(8,[js,{provide:Yo,useExisting:js}]).\u0275providers:[],S?.enableViewTransitions?Kf().\u0275providers:[],[{provide:ml,useFactory:Ps},{provide:d.iLQ,multi:!0,useExisting:ml}]]}}static forChild(w){return{ngModule:E,providers:[{provide:Hn,multi:!0,useValue:w}]}}static#e=this.\u0275fac=function(S){return new(S||E)(d.KVO(Qf,8))};static#t=this.\u0275mod=d.$C({type:E});static#n=this.\u0275inj=d.G2t({})}return E})();function im(E){return"guarded"}function sm(E){return["disabled"===E.initialNavigation?jn(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const D=(0,d.WQX)(ei);return()=>{D.setUpLocationChangeListener()}}},{provide:Ni,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?jn(2,[{provide:Ni,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:D=>{const w=D.get(Pe.hj,Promise.resolve());return()=>w.then(()=>new Promise(S=>{const O=D.get(ei),j=D.get(ra);Pa(O,()=>{S(!0)}),D.get(or).afterPreactivation=()=>(S(!0),j.closed?(0,ue.of)(void 0):j),O.initialNavigation()}))}}]).\u0275providers:[]]}const ml=new d.nKC("")},3345:(Pt,Ue,G)=>{G.d(Ue,{A:()=>ht});var R=G(1076),d=G(1362),U=G(7852),le=G(8041);class Te{constructor(wt,Tt){this._delegate=wt,this.firebase=Tt,(0,U._addComponent)(wt,new d.uA("app-compat",()=>this,"PUBLIC")),this.container=wt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this._delegate.automaticDataCollectionEnabled=wt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(wt=>{this._delegate.checkDestroyed(),wt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(wt,Tt=U._DEFAULT_ENTRY_NAME){var gn;this._delegate.checkDestroyed();const Tn=this._delegate.container.getProvider(wt);return!Tn.isInitialized()&&"EXPLICIT"===(null===(gn=Tn.getComponent())||void 0===gn?void 0:gn.instantiationMode)&&Tn.initialize(),Tn.getImmediate({identifier:Tt})}_removeServiceInstance(wt,Tt=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(wt).clearInstance(Tt)}_addComponent(wt){(0,U._addComponent)(this._delegate,wt)}_addOrOverwriteComponent(wt){(0,U._addOrOverwriteComponent)(this._delegate,wt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new R.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function je(){const ot=function Ke(ot){const wt={},Tt={__esModule:!0,initializeApp:function Ye(lt,Et={}){const we=U.initializeApp(lt,Et);if((0,R.gR)(wt,we.name))return wt[we.name];const Zt=new ot(we,Tt);return wt[we.name]=Zt,Zt},app:Tn,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function et(lt){const Et=lt.name,we=Et.replace("-compat","");if(U._registerComponent(lt)&&"PUBLIC"===lt.type){const Zt=(Lt=Tn())=>{if("function"!=typeof Lt[we])throw ue.create("invalid-app-argument",{appName:Et});return Lt[we]()};void 0!==lt.serviceProps&&(0,R.zw)(Zt,lt.serviceProps),Tt[we]=Zt,ot.prototype[we]=function(...Lt){return this._getService.bind(this,Et).apply(this,lt.multipleInstances?Lt:[])}}return"PUBLIC"===lt.type?Tt[we]:null},removeApp:function gn(lt){delete wt[lt]},useAsService:function rt(lt,Et){return"serverAuth"===Et?null:Et},modularAPIs:U}};function Tn(lt){if(!(0,R.gR)(wt,lt=lt||U._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:lt});return wt[lt]}return Tt.default=Tt,Object.defineProperty(Tt,"apps",{get:function ze(){return Object.keys(wt).map(lt=>wt[lt])}}),Tn.App=ot,Tt}(Te);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function wt(Tt){(0,R.zw)(ot,Tt)},createSubscribe:R.tD,ErrorFactory:R.FA,deepExtend:R.zw}),ot}(),te=new le.Vy("@firebase/app-compat");if((0,R.Bd)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=ie;!function He(ot){(0,U.registerVersion)("@firebase/app-compat","0.2.32",ot)}()},7852:(Pt,Ue,G)=>{G.r(Ue),G.d(Ue,{FirebaseError:()=>le.g,SDK_VERSION:()=>Ai,_DEFAULT_ENTRY_NAME:()=>Ji,_addComponent:()=>cr,_addOrOverwriteComponent:()=>Tr,_apps:()=>qe,_clearComponents:()=>Ot,_components:()=>Yn,_getProvider:()=>xn,_isFirebaseApp:()=>Vt,_isFirebaseServerApp:()=>fr,_registerComponent:()=>Gn,_removeServiceInstance:()=>Ui,_serverApps:()=>xt,deleteApp:()=>Y,getApp:()=>ce,getApps:()=>ge,initializeApp:()=>Si,initializeServerApp:()=>Ri,onLog:()=>Q,registerVersion:()=>K,setLogLevel:()=>H});var R=G(467),d=G(1362),U=G(8041),le=G(1076);const Te=(De,he)=>he.some(Fe=>De instanceof Fe);let xe,ue;const ie=new WeakMap,te=new WeakMap,be=new WeakMap,Je=new WeakMap,He=new WeakMap;let wt={get(De,he,Fe){if(De instanceof IDBTransaction){if("done"===he)return te.get(De);if("objectStoreNames"===he)return De.objectStoreNames||be.get(De);if("store"===he)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return Ye(De[he])},set:(De,he,Fe)=>(De[he]=Fe,!0),has:(De,he)=>De instanceof IDBTransaction&&("done"===he||"store"===he)||he in De};function Tn(De){return"function"==typeof De?function gn(De){return De!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(De)?function(...he){return De.apply(ze(this),he),Ye(ie.get(this))}:function(...he){return Ye(De.apply(ze(this),he))}:function(he,...Fe){const gt=De.call(ze(this),he,...Fe);return be.set(gt,he.sort?he.sort():[he]),Ye(gt)}}(De):(De instanceof IDBTransaction&&function ot(De){if(te.has(De))return;const he=new Promise((Fe,gt)=>{const Wt=()=>{De.removeEventListener("complete",Gt),De.removeEventListener("error",on),De.removeEventListener("abort",on)},Gt=()=>{Fe(),Wt()},on=()=>{gt(De.error||new DOMException("AbortError","AbortError")),Wt()};De.addEventListener("complete",Gt),De.addEventListener("error",on),De.addEventListener("abort",on)});te.set(De,he)}(De),Te(De,function Ke(){return xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(De,wt):De)}function Ye(De){if(De instanceof IDBRequest)return function ht(De){const he=new Promise((Fe,gt)=>{const Wt=()=>{De.removeEventListener("success",Gt),De.removeEventListener("error",on)},Gt=()=>{Fe(Ye(De.result)),Wt()},on=()=>{gt(De.error),Wt()};De.addEventListener("success",Gt),De.addEventListener("error",on)});return he.then(Fe=>{Fe instanceof IDBCursor&&ie.set(Fe,De)}).catch(()=>{}),He.set(he,De),he}(De);if(Je.has(De))return Je.get(De);const he=Tn(De);return he!==De&&(Je.set(De,he),He.set(he,De)),he}const ze=De=>He.get(De),lt=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],we=new Map;function Zt(De,he){if(!(De instanceof IDBDatabase)||he in De||"string"!=typeof he)return;if(we.get(he))return we.get(he);const Fe=he.replace(/FromIndex$/,""),gt=he!==Fe,Wt=Et.includes(Fe);if(!(Fe in(gt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!lt.includes(Fe))return;const Gt=function(){var on=(0,R.A)(function*(Jn,...On){const Ht=this.transaction(Jn,Wt?"readwrite":"readonly");let ys=Ht.store;return gt&&(ys=ys.index(On.shift())),(yield Promise.all([ys[Fe](...On),Wt&&Ht.done]))[0]});return function(On){return on.apply(this,arguments)}}();return we.set(he,Gt),Gt}!function Tt(De){wt=De(wt)}(De=>({...De,get:(he,Fe,gt)=>Zt(he,Fe)||De.get(he,Fe,gt),has:(he,Fe)=>!!Zt(he,Fe)||De.has(he,Fe)}));class Lt{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function Ir(De){const he=De.getComponent();return"VERSION"===he?.type}(Fe)){const gt=Fe.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const wr="@firebase/app",zr="0.10.2",Qn=new U.Vy("@firebase/app"),Ji="[DEFAULT]",Mt={[wr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qe=new Map,xt=new Map,Yn=new Map;function cr(De,he){try{De.container.addComponent(he)}catch(Fe){Qn.debug(`Component ${he.name} failed to register with FirebaseApp ${De.name}`,Fe)}}function Tr(De,he){De.container.addOrOverwriteComponent(he)}function Gn(De){const he=De.name;if(Yn.has(he))return Qn.debug(`There were multiple attempts to register component ${he}.`),!1;Yn.set(he,De);for(const Fe of qe.values())cr(Fe,De);for(const Fe of xt.values())cr(Fe,De);return!0}function xn(De,he){const Fe=De.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),De.container.getProvider(he)}function Ui(De,he,Fe=Ji){xn(De,he).clearInstance(Fe)}function Vt(De){return void 0!==De.options}function fr(De){return void 0!==De.settings}function Ot(){Yn.clear()}const Zn=new le.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sr{constructor(he,Fe,gt){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new d.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}class pr extends sr{constructor(he,Fe,gt,Wt){const Gt=void 0!==Fe.automaticDataCollectionEnabled&&Fe.automaticDataCollectionEnabled,on={name:gt,automaticDataCollectionEnabled:Gt};super(void 0!==he.apiKey?he:he.options,on,Wt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Gt},Fe),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Fe.releaseOnDeref=void 0,K(wr,zr,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(he){this.isDeleted||(this._refCount++,void 0!==he&&this._finalizationRegistry.register(he,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Y(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Zn.create("server-app-deleted")}}const Ai="10.11.1";function Si(De,he={}){let Fe=De;"object"!=typeof he&&(he={name:he});const gt=Object.assign({name:Ji,automaticDataCollectionEnabled:!1},he),Wt=gt.name;if("string"!=typeof Wt||!Wt)throw Zn.create("bad-app-name",{appName:String(Wt)});if(Fe||(Fe=(0,le.T9)()),!Fe)throw Zn.create("no-options");const Gt=qe.get(Wt);if(Gt){if((0,le.bD)(Fe,Gt.options)&&(0,le.bD)(gt,Gt.config))return Gt;throw Zn.create("duplicate-app",{appName:Wt})}const on=new d.h1(Wt);for(const On of Yn.values())on.addComponent(On);const Jn=new sr(Fe,gt,on);return qe.set(Wt,Jn),Jn}function Ri(De,he){if((0,le.Bd)())throw Zn.create("invalid-server-app-environment");let Fe;void 0===he.automaticDataCollectionEnabled&&(he.automaticDataCollectionEnabled=!1),Fe=Vt(De)?De.options:De;const gt=Object.assign(Object.assign({},he),Fe);if(void 0!==gt.releaseOnDeref&&delete gt.releaseOnDeref,void 0!==he.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Zn.create("finalization-registry-not-supported",{});const Gt=""+(Ht=JSON.stringify(gt),[...Ht].reduce((ys,Eo)=>Math.imul(31,ys)+Eo.charCodeAt(0)|0,0)),on=xt.get(Gt);var Ht;if(on)return on.incRefCount(he.releaseOnDeref),on;const Jn=new d.h1(Gt);for(const Ht of Yn.values())Jn.addComponent(Ht);const On=new pr(Fe,he,Gt,Jn);return xt.set(Gt,On),On}function ce(De=Ji){const he=qe.get(De);if(!he&&De===Ji&&(0,le.T9)())return Si();if(!he)throw Zn.create("no-app",{appName:De});return he}function ge(){return Array.from(qe.values())}function Y(De){return se.apply(this,arguments)}function se(){return(se=(0,R.A)(function*(De){let he=!1;const Fe=De.name;qe.has(Fe)?(he=!0,qe.delete(Fe)):xt.has(Fe)&&De.decRefCount()<=0&&(xt.delete(Fe),he=!0),he&&(yield Promise.all(De.container.getProviders().map(gt=>gt.delete())),De.isDeleted=!0)})).apply(this,arguments)}function K(De,he,Fe){var gt;let Wt=null!==(gt=Mt[De])&&void 0!==gt?gt:De;Fe&&(Wt+=`-${Fe}`);const Gt=Wt.match(/\s|\//),on=he.match(/\s|\//);if(Gt||on){const Jn=[`Unable to register library "${Wt}" with version "${he}":`];return Gt&&Jn.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),Gt&&on&&Jn.push("and"),on&&Jn.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void Qn.warn(Jn.join(" "))}Gn(new d.uA(`${Wt}-version`,()=>({library:Wt,version:he}),"VERSION"))}function Q(De,he){if(null!==De&&"function"!=typeof De)throw Zn.create("invalid-log-argument");(0,U.Ey)(De,he)}function H(De){(0,U.He)(De)}const z="firebase-heartbeat-database",B=1,oe="firebase-heartbeat-store";let Ne=null;function st(){return Ne||(Ne=function et(De,he,{blocked:Fe,upgrade:gt,blocking:Wt,terminated:Gt}={}){const on=indexedDB.open(De,he),Jn=Ye(on);return gt&&on.addEventListener("upgradeneeded",On=>{gt(Ye(on.result),On.oldVersion,On.newVersion,Ye(on.transaction),On)}),Fe&&on.addEventListener("blocked",On=>Fe(On.oldVersion,On.newVersion,On)),Jn.then(On=>{Gt&&On.addEventListener("close",()=>Gt()),Wt&&On.addEventListener("versionchange",Ht=>Wt(Ht.oldVersion,Ht.newVersion,Ht))}).catch(()=>{}),Jn}(z,B,{upgrade:(De,he)=>{if(0===he)try{De.createObjectStore(oe)}catch(Fe){console.warn(Fe)}}}).catch(De=>{throw Zn.create("idb-open",{originalErrorMessage:De.message})})),Ne}function jt(){return(jt=(0,R.A)(function*(De){try{const Fe=(yield st()).transaction(oe),gt=yield Fe.objectStore(oe).get(ft(De));return yield Fe.done,gt}catch(he){if(he instanceof le.g)Qn.warn(he.message);else{const Fe=Zn.create("idb-get",{originalErrorMessage:he?.message});Qn.warn(Fe.message)}}})).apply(this,arguments)}function Dn(De,he){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,R.A)(function*(De,he){try{const gt=(yield st()).transaction(oe,"readwrite");yield gt.objectStore(oe).put(he,ft(De)),yield gt.done}catch(Fe){if(Fe instanceof le.g)Qn.warn(Fe.message);else{const gt=Zn.create("idb-set",{originalErrorMessage:Fe?.message});Qn.warn(gt.message)}}})).apply(this,arguments)}function ft(De){return`${De.name}!${De.options.appId}`}class Wo{constructor(he){this.container=he,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new An(Fe),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var he=this;return(0,R.A)(function*(){var Fe,gt;const Gt=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=zl();if((null!=(null===(Fe=he._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)||(he._heartbeatsCache=yield he._heartbeatsCachePromise,null!=(null===(gt=he._heartbeatsCache)||void 0===gt?void 0:gt.heartbeats)))&&he._heartbeatsCache.lastSentHeartbeatDate!==on&&!he._heartbeatsCache.heartbeats.some(Jn=>Jn.date===on))return he._heartbeatsCache.heartbeats.push({date:on,agent:Gt}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(Jn=>{const On=new Date(Jn.date).valueOf();return Date.now()-On<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,R.A)(function*(){var Fe;if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null==(null===(Fe=he._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)||0===he._heartbeatsCache.heartbeats.length)return"";const gt=zl(),{heartbeatsToSend:Wt,unsentEntries:Gt}=function Ga(De,he=1024){const Fe=[];let gt=De.slice();for(const Wt of De){const Gt=Fe.find(on=>on.agent===Wt.agent);if(Gt){if(Gt.dates.push(Wt.date),qa(Fe)>he){Gt.dates.pop();break}}else if(Fe.push({agent:Wt.agent,dates:[Wt.date]}),qa(Fe)>he){Fe.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:gt}}(he._heartbeatsCache.heartbeats),on=(0,le.Uj)(JSON.stringify({version:2,heartbeats:Wt}));return he._heartbeatsCache.lastSentHeartbeatDate=gt,Gt.length>0?(he._heartbeatsCache.heartbeats=Gt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),on})()}}function zl(){return(new Date).toISOString().substring(0,10)}class An{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.A)(function*(){return!!(0,le.zW)()&&(0,le.eX)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,R.A)(function*(){if(yield he._canUseIndexedDBPromise){const gt=yield function $t(De){return jt.apply(this,arguments)}(he.app);return gt?.heartbeats?gt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(he){var Fe=this;return(0,R.A)(function*(){var gt;if(yield Fe._canUseIndexedDBPromise){const Gt=yield Fe.read();return Dn(Fe.app,{lastSentHeartbeatDate:null!==(gt=he.lastSentHeartbeatDate)&&void 0!==gt?gt:Gt.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var Fe=this;return(0,R.A)(function*(){var gt;if(yield Fe._canUseIndexedDBPromise){const Gt=yield Fe.read();return Dn(Fe.app,{lastSentHeartbeatDate:null!==(gt=he.lastSentHeartbeatDate)&&void 0!==gt?gt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...he.heartbeats]})}})()}}function qa(De){return(0,le.Uj)(JSON.stringify({version:2,heartbeats:De})).length}!function _s(De){Gn(new d.uA("platform-logger",he=>new Lt(he),"PRIVATE")),Gn(new d.uA("heartbeat",he=>new Wo(he),"PRIVATE")),K(wr,zr,De),K(wr,zr,"esm2017"),K("fire-js","")}("")},1362:(Pt,Ue,G)=>{G.d(Ue,{h1:()=>Ke,uA:()=>U});var R=G(467),d=G(1076);class U{constructor(ie,te,be){this.name=ie,this.instanceFactory=te,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const le="[DEFAULT]";class Te{constructor(ie,te){this.name=ie,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const te=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(te)){const be=new d.cY;if(this.instancesDeferred.set(te,be),this.isInitialized(te)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:te});Je&&be.resolve(Je)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(ie){var te;const be=this.normalizeInstanceIdentifier(ie?.identifier),Je=null!==(te=ie?.optional)&&void 0!==te&&te;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(He){if(Je)return null;throw He}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function ue(je){return"EAGER"===je.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[te,be]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(te);try{const He=this.getOrInitializeService({instanceIdentifier:Je});be.resolve(He)}catch{}}}}clearInstance(ie=le){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,R.A)(function*(){const te=Array.from(ie.instances.values());yield Promise.all([...te.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...te.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=le){return this.instances.has(ie)}getOptions(ie=le){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:te={}}=ie,be=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:be,options:te});for(const[He,ht]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(He)&&ht.resolve(Je);return Je}onInit(ie,te){var be;const Je=this.normalizeInstanceIdentifier(te),He=null!==(be=this.onInitCallbacks.get(Je))&&void 0!==be?be:new Set;He.add(ie),this.onInitCallbacks.set(Je,He);const ht=this.instances.get(Je);return ht&&ie(ht,Je),()=>{He.delete(ie)}}invokeOnInitCallbacks(ie,te){const be=this.onInitCallbacks.get(te);if(be)for(const Je of be)try{Je(ie,te)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:te={}}){let be=this.instances.get(ie);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(je=ie,je===le?void 0:je),options:te}),this.instances.set(ie,be),this.instancesOptions.set(ie,te),this.invokeOnInitCallbacks(be,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,be)}catch{}var je;return be||null}normalizeInstanceIdentifier(ie=le){return this.component?this.component.multipleInstances?ie:le:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ke{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const te=this.getProvider(ie.name);if(te.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);te.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const te=new Te(ie,this);return this.providers.set(ie,te),te}getProviders(){return Array.from(this.providers.values())}}},8041:(Pt,Ue,G)=>{G.d(Ue,{$b:()=>d,Ey:()=>je,He:()=>Ke,Vy:()=>ue});const R=[];var d=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(d||{});const U={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},le=d.INFO,Te={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},xe=(ie,te,...be)=>{if(te<ie.logLevel)return;const Je=(new Date).toISOString(),He=Te[te];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[He](`[${Je}]  ${ie.name}:`,...be)};class ue{constructor(te){this.name=te,this._logLevel=le,this._logHandler=xe,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in d))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?U[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...te),this._logHandler(this,d.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...te),this._logHandler(this,d.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,d.INFO,...te),this._logHandler(this,d.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,d.WARN,...te),this._logHandler(this,d.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...te),this._logHandler(this,d.ERROR,...te)}}function Ke(ie){R.forEach(te=>{te.setLogLevel(ie)})}function je(ie,te){for(const be of R){let Je=null;te&&te.level&&(Je=U[te.level]),be.userLogHandler=null===ie?null:(He,ht,...ot)=>{const wt=ot.map(Tt=>{if(null==Tt)return null;if("string"==typeof Tt)return Tt;if("number"==typeof Tt||"boolean"==typeof Tt)return Tt.toString();if(Tt instanceof Error)return Tt.message;try{return JSON.stringify(Tt)}catch{return null}}).filter(Tt=>Tt).join(" ");ht>=(Je??He.logLevel)&&ie({level:d[ht].toLowerCase(),message:wt,args:ot,type:He.name})}}}},2438:(Pt,Ue,G)=>{G.r(Ue);var R=G(467),d=G(3345),U=G(8407),le=G(1076),ue=(G(7852),G(8041),G(1362));function Ke(){return window}function te(){return te=(0,R.A)(function*(H,z,B){var oe;const{BuildInfo:Ne}=Ke();(0,U.au)(z.sessionId,"AuthEvent did not contain a session ID");const st=yield function Tt(H){return gn.apply(this,arguments)}(z.sessionId),$t={};return(0,U.av)()?$t.ibi=Ne.packageName:(0,U.aw)()?$t.apn=Ne.packageName:(0,U.ax)(H,"operation-not-supported-in-this-environment"),Ne.displayName&&($t.appDisplayName=Ne.displayName),$t.sessionId=st,(0,U.ay)(H,B,z.type,void 0,null!==(oe=z.eventId)&&void 0!==oe?oe:void 0,$t)}),te.apply(this,arguments)}function Je(){return(Je=(0,R.A)(function*(H){const{BuildInfo:z}=Ke(),B={};(0,U.av)()?B.iosBundleId=z.packageName:(0,U.aw)()?B.androidPackageName=z.packageName:(0,U.ax)(H,"operation-not-supported-in-this-environment"),yield(0,U.az)(H,B)})).apply(this,arguments)}function ot(){return(ot=(0,R.A)(function*(H,z,B){const{cordova:oe}=Ke();let Ne=()=>{};try{yield new Promise((st,$t)=>{let jt=null;function Dn(){var hn;st();const Zr=null===(hn=oe.plugins.browsertab)||void 0===hn?void 0:hn.close;"function"==typeof Zr&&Zr(),"function"==typeof B?.close&&B.close()}function Dt(){jt||(jt=window.setTimeout(()=>{$t((0,U.aB)(H,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===document?.visibilityState&&Dt()}z.addPassiveListener(Dn),document.addEventListener("resume",Dt,!1),(0,U.aw)()&&document.addEventListener("visibilitychange",ft,!1),Ne=()=>{z.removePassiveListener(Dn),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",ft,!1),jt&&window.clearTimeout(jt)}})}finally{Ne()}})).apply(this,arguments)}function gn(){return(gn=(0,R.A)(function*(H){const z=function Tn(H){if((0,U.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const z=new ArrayBuffer(H.length),B=new Uint8Array(z);for(let oe=0;oe<H.length;oe++)B[oe]=H.charCodeAt(oe);return B}(H),B=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(B)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ze extends U.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(z)),super.onEvent(z)}initialized(){var z=this;return(0,R.A)(function*(){yield z.initPromise})()}}function lt(H){return Et.apply(this,arguments)}function Et(){return(Et=(0,R.A)(function*(H){const z=yield Lt()._get(Ir(H));return z&&(yield Lt()._remove(Ir(H))),z})).apply(this,arguments)}function Zt(){const H=[];for(let B=0;B<20;B++){const oe=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(oe))}return H.join("")}function Lt(){return(0,U.aE)(U.b)}function Ir(H){return(0,U.aF)("authEvent",H.config.apiKey,H.name)}function Qn(H){if(!H?.includes("?"))return{};const[z,...B]=H.split("?");return(0,le.I9)(B.join("?"))}const Ee=class hr{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(z){var B=this;return(0,R.A)(function*(){const oe=z._key();let Ne=B.eventManagers.get(oe);return Ne||(Ne=new ze(z),B.eventManagers.set(oe,Ne),B.attachCallbackListeners(z,Ne)),Ne})()}_openPopup(z){(0,U.ax)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,B,oe,Ne){var st=this;return(0,R.A)(function*(){!function wt(H){var z,B,oe,Ne,st,$t,jt,Dn,Dt,ft;const hn=Ke();(0,U.aC)("function"==typeof(null===(z=hn?.universalLinks)||void 0===z?void 0:z.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aC)(typeof(null===(B=hn?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aC)("function"==typeof(null===(st=null===(Ne=null===(oe=hn?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===st?void 0:st.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(Dn=null===(jt=null===($t=hn?.cordova)||void 0===$t?void 0:$t.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===Dn?void 0:Dn.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(ft=null===(Dt=hn?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===ft?void 0:ft.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const $t=yield st._initialize(z);yield $t.initialized(),$t.resetRedirect(),(0,U.aI)(),yield st._originValidation(z);const jt=function et(H,z,B=null){return{type:z,eventId:B,urlResponse:null,sessionId:Zt(),postBody:null,tenantId:H.tenantId,error:(0,U.aB)(H,"no-auth-event")}}(z,oe,Ne);yield function rt(H,z){return Lt()._set(Ir(H),z)}(z,jt);const Dn=yield function ie(H,z,B){return te.apply(this,arguments)}(z,jt,B),Dt=yield function He(H){const{cordova:z}=Ke();return new Promise(B=>{z.plugins.browsertab.isAvailable(oe=>{let Ne=null;oe?z.plugins.browsertab.openUrl(H):Ne=z.InAppBrowser.open(H,(0,U.aA)()?"_blank":"_system","location=yes"),B(Ne)})})}(Dn);return function ht(H,z,B){return ot.apply(this,arguments)}(z,$t,Dt)})()}_isIframeWebStorageSupported(z,B){throw new Error("Method not implemented.")}_originValidation(z){const B=z._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function be(H){return Je.apply(this,arguments)}(z)),this.originValidationPromises[B]}attachCallbackListeners(z,B){const{universalLinks:oe,handleOpenURL:Ne,BuildInfo:st}=Ke(),$t=setTimeout((0,R.A)(function*(){yield lt(z),B.onEvent(Ce())}),500),jt=function(){var ft=(0,R.A)(function*(hn){clearTimeout($t);const Zr=yield lt(z);let Wo=null;Zr&&hn?.url&&(Wo=function we(H,z){var B,oe;const Ne=function zr(H){const z=Qn(H),B=z.link?decodeURIComponent(z.link):void 0,oe=Qn(B).link,Ne=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return Qn(Ne).link||Ne||oe||B||H}(z);if(Ne.includes("/__/auth/callback")){const st=Qn(Ne),$t=st.firebaseError?function wr(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,jt=null===(oe=null===(B=$t?.code)||void 0===B?void 0:B.split("auth/"))||void 0===oe?void 0:oe[1],Dn=jt?(0,U.aB)(jt):null;return Dn?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Dn,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:Ne,postBody:null}}return null}(Zr,hn.url)),B.onEvent(Wo||Ce())});return function(Zr){return ft.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,jt);const Dn=Ne,Dt=`${st.packageName.toLowerCase()}://`;Ke().handleOpenURL=function(){var ft=(0,R.A)(function*(hn){if(hn.toLowerCase().startsWith(Dt)&&jt({url:hn}),"function"==typeof Dn)try{Dn(hn)}catch(Zr){console.error(Zr)}});return function(hn){return ft.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aB)("no-auth-event")}}function St(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function mn(H=(0,le.ZQ)()){return!("file:"!==St()&&"ionic:"!==St()&&"capacitor:"!==St()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){try{const H=self.localStorage,z=U.aN();if(H)return H.setItem(z,"1"),H.removeItem(z),!function En(H=(0,le.ZQ)()){return function yn(){return(0,le.lT)()&&11===document?.documentMode}()||function vn(H=(0,le.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,le.zW)()}catch{return lr()&&(0,le.zW)()}return!1}function lr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Or(){return(function Xt(){return"http:"===St()||"https:"===St()}()||(0,le.sr)()||mn())&&!function At(){return(0,le.lV)()||(0,le.Ll)()}()&&xr()&&!lr()}function Xn(){return mn()&&typeof document<"u"}function ut(){return(ut=(0,R.A)(function*(){return!!Xn()&&new Promise(H=>{const z=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),H(!0)})})})).apply(this,arguments)}const ir={LOCAL:"local",NONE:"none",SESSION:"session"},fi=U.aC,Vi="persistence";function Mt(H){return qe.apply(this,arguments)}function qe(){return(qe=(0,R.A)(function*(H){yield H._initializationPromise;const z=Yn(),B=U.aF(Vi,H.config.apiKey,H.name);z&&z.setItem(B,H._getPersistence())})).apply(this,arguments)}function Yn(){var H;try{return(null===(H=function Wr(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const cr=U.aC;class Tr{constructor(){this.browserResolver=U.aE(U.k),this.cordovaResolver=U.aE(Ee),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(z){var B=this;return(0,R.A)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,B,oe,Ne){var st=this;return(0,R.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(z,B,oe,Ne)})()}_openRedirect(z,B,oe,Ne){var st=this;return(0,R.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(z,B,oe,Ne)})()}_isIframeWebStorageSupported(z,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,B)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return Xn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,R.A)(function*(){if(z.underlyingResolver)return;const B=yield function Ur(){return ut.apply(this,arguments)}();z.underlyingResolver=B?z.cordovaResolver:z.browserResolver})()}}function Gn(H){return H.unwrap()}function Ui(H){return fr(H)}function fr(H){const{_tokenResponse:z}=H instanceof le.g?H.customData:H;if(!z)return null;if(!(H instanceof le.g)&&"temporaryProof"in z&&"phoneNumber"in z)return U.P.credentialFromResult(H);const B=z.providerId;if(!B||B===U.p.PASSWORD)return null;let oe;switch(B){case U.p.GOOGLE:oe=U.X;break;case U.p.FACEBOOK:oe=U.W;break;case U.p.GITHUB:oe=U.Y;break;case U.p.TWITTER:oe=U.$;break;default:const{oauthIdToken:Ne,oauthAccessToken:st,oauthTokenSecret:$t,pendingToken:jt,nonce:Dn}=z;return st||$t||Ne||jt?jt?B.startsWith("saml.")?U.aQ._create(B,jt):U.N._fromParams({providerId:B,signInMethod:B,pendingToken:jt,idToken:Ne,accessToken:st}):new U.Z(B).credential({idToken:Ne,accessToken:st,rawNonce:Dn}):null}return H instanceof le.g?oe.credentialFromError(H):oe.credentialFromResult(H)}function Ot(H,z){return z.catch(B=>{throw B instanceof le.g&&function Vt(H,z){var B;const oe=null===(B=z.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===z?.code)z.resolver=new sr(H,U.as(H,z));else if(oe){const Ne=fr(z),st=z;Ne&&(st.credential=Ne,st.tenantId=oe.tenantId||void 0,st.email=oe.email||void 0,st.phoneNumber=oe.phoneNumber||void 0)}}(H,B),B}).then(B=>{const Ne=B.user;return{operationType:B.operationType,credential:Ui(B),additionalUserInfo:U.aq(B),user:pr.getOrCreate(Ne)}})}function _n(H,z){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,R.A)(function*(H,z){const B=yield z;return{verificationId:B.verificationId,confirm:oe=>Ot(H,B.confirm(oe))}})).apply(this,arguments)}class sr{constructor(z,B){this.resolver=B,this.auth=function xn(H){return H.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return Ot(Gn(this.auth),this.resolver.resolveSignIn(z))}}class pr{constructor(z){this._delegate=z,this.multiFactor=U.at(z)}static getOrCreate(z){return pr.USER_MAP.has(z)||pr.USER_MAP.set(z,new pr(z)),pr.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var B=this;return(0,R.A)(function*(){return Ot(B.auth,U.a2(B._delegate,z))})()}linkWithPhoneNumber(z,B){var oe=this;return(0,R.A)(function*(){return _n(oe.auth,U.l(oe._delegate,z,B))})()}linkWithPopup(z){var B=this;return(0,R.A)(function*(){return Ot(B.auth,U.d(B._delegate,z,Tr))})()}linkWithRedirect(z){var B=this;return(0,R.A)(function*(){return yield Mt(U.aJ(B.auth)),U.g(B._delegate,z,Tr)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var B=this;return(0,R.A)(function*(){return Ot(B.auth,U.a3(B._delegate,z))})()}reauthenticateWithPhoneNumber(z,B){return _n(this.auth,U.r(this._delegate,z,B))}reauthenticateWithPopup(z){return Ot(this.auth,U.e(this._delegate,z,Tr))}reauthenticateWithRedirect(z){var B=this;return(0,R.A)(function*(){return yield Mt(U.aJ(B.auth)),U.h(B._delegate,z,Tr)})()}sendEmailVerification(z){return U.ag(this._delegate,z)}unlink(z){var B=this;return(0,R.A)(function*(){return yield U.ap(B._delegate,z),B})()}updateEmail(z){return U.al(this._delegate,z)}updatePassword(z){return U.am(this._delegate,z)}updatePhoneNumber(z){return U.u(this._delegate,z)}updateProfile(z){return U.ak(this._delegate,z)}verifyBeforeUpdateEmail(z,B){return U.ah(this._delegate,z,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pr.USER_MAP=new WeakMap;const Ai=U.aC;let Si=(()=>{class H{constructor(B,oe){if(this.app=B,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=B.options;Ai(Ne,"invalid-api-key",{appName:B.name}),Ai(Ne,"invalid-api-key",{appName:B.name});const st=typeof window<"u"?Tr:void 0;this._delegate=oe.initialize({options:{persistence:ce(Ne,B.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(U.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,oe){U.K(this._delegate,B,oe)}applyActionCode(B){return U.a7(this._delegate,B)}checkActionCode(B){return U.a8(this._delegate,B)}confirmPasswordReset(B,oe){return U.a6(this._delegate,B,oe)}createUserWithEmailAndPassword(B,oe){var Ne=this;return(0,R.A)(function*(){return Ot(Ne._delegate,U.aa(Ne._delegate,B,oe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return U.af(this._delegate,B)}isSignInWithEmailLink(B){return U.ad(this._delegate,B)}getRedirectResult(){var B=this;return(0,R.A)(function*(){Ai(Or(),B._delegate,"operation-not-supported-in-this-environment");const oe=yield U.j(B._delegate,Tr);return oe?Ot(B._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function Oe(H,z){(0,U.aJ)(H)._logFramework(z)}(this._delegate,B)}onAuthStateChanged(B,oe,Ne){const{next:st,error:$t,complete:jt}=Ri(B,oe,Ne);return this._delegate.onAuthStateChanged(st,$t,jt)}onIdTokenChanged(B,oe,Ne){const{next:st,error:$t,complete:jt}=Ri(B,oe,Ne);return this._delegate.onIdTokenChanged(st,$t,jt)}sendSignInLinkToEmail(B,oe){return U.ac(this._delegate,B,oe)}sendPasswordResetEmail(B,oe){return U.a5(this._delegate,B,oe||void 0)}setPersistence(B){var oe=this;return(0,R.A)(function*(){let Ne;switch(function Ji(H,z){fi(Object.values(ir).includes(z),H,"invalid-persistence-type"),(0,le.lV)()?fi(z!==ir.SESSION,H,"unsupported-persistence-type"):(0,le.Ll)()?fi(z===ir.NONE,H,"unsupported-persistence-type"):lr()?fi(z===ir.NONE||z===ir.LOCAL&&(0,le.zW)(),H,"unsupported-persistence-type"):fi(z===ir.NONE||xr(),H,"unsupported-persistence-type")}(oe._delegate,B),B){case ir.SESSION:Ne=U.a;break;case ir.LOCAL:Ne=(yield U.aE(U.i)._isAvailable())?U.i:U.b;break;case ir.NONE:Ne=U.U;break;default:return U.ax("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Ot(this._delegate,U.a0(this._delegate))}signInWithCredential(B){return Ot(this._delegate,U.a1(this._delegate,B))}signInWithCustomToken(B){return Ot(this._delegate,U.a4(this._delegate,B))}signInWithEmailAndPassword(B,oe){return Ot(this._delegate,U.ab(this._delegate,B,oe))}signInWithEmailLink(B,oe){return Ot(this._delegate,U.ae(this._delegate,B,oe))}signInWithPhoneNumber(B,oe){return _n(this._delegate,U.s(this._delegate,B,oe))}signInWithPopup(B){var oe=this;return(0,R.A)(function*(){return Ai(Or(),oe._delegate,"operation-not-supported-in-this-environment"),Ot(oe._delegate,U.c(oe._delegate,B,Tr))})()}signInWithRedirect(B){var oe=this;return(0,R.A)(function*(){return Ai(Or(),oe._delegate,"operation-not-supported-in-this-environment"),yield Mt(oe._delegate),U.f(oe._delegate,B,Tr)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return U.a9(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=ir,H})();function Ri(H,z,B){let oe=H;"function"!=typeof H&&({next:oe,error:z,complete:B}=H);const Ne=oe;return{next:$t=>Ne($t&&pr.getOrCreate($t)),error:z,complete:B}}function ce(H,z){const B=function xt(H,z){const B=Yn();if(!B)return[];const oe=U.aF(Vi,H,z);switch(B.getItem(oe)){case ir.NONE:return[U.U];case ir.LOCAL:return[U.i,U.a];case ir.SESSION:return[U.a];default:return[]}}(H,z);if(typeof self<"u"&&!B.includes(U.i)&&B.push(U.i),typeof window<"u")for(const oe of[U.b,U.a])B.includes(oe)||B.push(oe);return B.includes(U.U)||B.push(U.U),B}class ge{constructor(){this.providerId="phone",this._delegate=new U.P(Gn(d.A.auth()))}static credential(z,B){return U.P.credential(z,B)}verifyPhoneNumber(z,B){return this._delegate.verifyPhoneNumber(z,B)}unwrap(){return this._delegate}}ge.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,ge.PROVIDER_ID=U.P.PROVIDER_ID;const Y=U.aC;class se{constructor(z,B,oe=d.A.app()){var Ne;Y(null===(Ne=oe.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new U.R(oe.auth(),z,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(H){H.INTERNAL.registerComponent(new ue.uA("auth-compat",z=>{const B=z.getProvider("app-compat").getImmediate(),oe=z.getProvider("auth");return new Si(B,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.V,FacebookAuthProvider:U.W,GithubAuthProvider:U.Y,GoogleAuthProvider:U.X,OAuthProvider:U.Z,SAMLAuthProvider:U._,PhoneAuthProvider:ge,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:se,TwitterAuthProvider:U.$,Auth:Si,AuthCredential:U.L,Error:le.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.7")}(d.A)},467:(Pt,Ue,G)=>{function R(U,le,Te,xe,ue,Ke,je){try{var ie=U[Ke](je),te=ie.value}catch(be){return void Te(be)}ie.done?le(te):Promise.resolve(te).then(xe,ue)}function d(U){return function(){var le=this,Te=arguments;return new Promise(function(xe,ue){var Ke=U.apply(le,Te);function je(te){R(Ke,xe,ue,je,ie,"next",te)}function ie(te){R(Ke,xe,ue,je,ie,"throw",te)}je(void 0)})}}G.d(Ue,{A:()=>d})},1635:(Pt,Ue,G)=>{function le(Ee,Ce){var Oe={};for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&Ce.indexOf(Pe)<0&&(Oe[Pe]=Ee[Pe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(Pe=Object.getOwnPropertySymbols(Ee);Re<Pe.length;Re++)Ce.indexOf(Pe[Re])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Pe[Re])&&(Oe[Pe[Re]]=Ee[Pe[Re]])}return Oe}function be(Ee,Ce,Oe,Pe){return new(Oe||(Oe=Promise))(function(Me,St){function Xt(yn){try{At(Pe.next(yn))}catch(vn){St(vn)}}function mn(yn){try{At(Pe.throw(yn))}catch(vn){St(vn)}}function At(yn){yn.done?Me(yn.value):function Re(Me){return Me instanceof Oe?Me:new Oe(function(St){St(Me)})}(yn.value).then(Xt,mn)}At((Pe=Pe.apply(Ee,Ce||[])).next())})}function Ye(Ee){return this instanceof Ye?(this.v=Ee,this):new Ye(Ee)}function ze(Ee,Ce,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Pe=Oe.apply(Ee,Ce||[]),Me=[];return Re={},St("next"),St("throw"),St("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function St(En){Pe[En]&&(Re[En]=function(xr){return new Promise(function(lr,Or){Me.push([En,xr,lr,Or])>1||Xt(En,xr)})})}function Xt(En,xr){try{!function mn(En){En.value instanceof Ye?Promise.resolve(En.value.v).then(At,yn):vn(Me[0][2],En)}(Pe[En](xr))}catch(lr){vn(Me[0][3],lr)}}function At(En){Xt("next",En)}function yn(En){Xt("throw",En)}function vn(En,xr){En(xr),Me.shift(),Me.length&&Xt(Me[0][0],Me[0][1])}}function rt(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Ce=Ee[Symbol.asyncIterator];return Ce?Ce.call(Ee):(Ee=function ot(Ee){var Ce="function"==typeof Symbol&&Symbol.iterator,Oe=Ce&&Ee[Ce],Pe=0;if(Oe)return Oe.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Pe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Pe++],done:!Ee}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Oe={},Pe("next"),Pe("throw"),Pe("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Pe(Me){Oe[Me]=Ee[Me]&&function(St){return new Promise(function(Xt,mn){!function Re(Me,St,Xt,mn){Promise.resolve(mn).then(function(At){Me({value:At,done:Xt})},St)}(Xt,mn,(St=Ee[Me](St)).done,St.value)})}}}G.d(Ue,{AQ:()=>ze,N3:()=>Ye,Tt:()=>le,sH:()=>be,xN:()=>rt}),"function"==typeof SuppressedError&&SuppressedError}},Pt=>{Pt(Pt.s=8625)}]);