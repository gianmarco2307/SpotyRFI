"use strict";(self.webpackChunkSpotyRFI=self.webpackChunkSpotyRFI||[]).push([[792],{8407:(Rt,Fe,H)=>{H.d(Fe,{$:()=>Ro,A:()=>ee,G:()=>$e,K:()=>Xo,L:()=>Ni,N:()=>gi,P:()=>Kc,R:()=>S,U:()=>Bt,V:()=>Hi,W:()=>bn,X:()=>io,Y:()=>xc,Z:()=>li,_:()=>Hs,a:()=>Ne,a0:()=>qr,a1:()=>so,a2:()=>kc,a3:()=>Lc,a4:()=>al,a5:()=>Xl,a6:()=>rh,a7:()=>cl,a8:()=>oo,a9:()=>ns,aA:()=>Ce,aB:()=>He,aC:()=>Ee,aD:()=>gv,aE:()=>st,aF:()=>Cn,aG:()=>ep,aH:()=>hv,aI:()=>eb,aJ:()=>Jn,aN:()=>Ps,aQ:()=>As,aa:()=>na,ab:()=>dl,ac:()=>$u,ad:()=>Oo,ae:()=>Uc,af:()=>ec,ag:()=>Dr,ah:()=>Bc,ak:()=>ra,al:()=>zu,am:()=>nc,ap:()=>nh,aq:()=>Ie,as:()=>Qr,at:()=>rc,au:()=>Lt,av:()=>ys,aw:()=>Wa,ax:()=>Qe,ay:()=>ps,az:()=>Oa,b:()=>ko,c:()=>cv,d:()=>um,e:()=>uv,f:()=>Qu,g:()=>Le,h:()=>nb,i:()=>Qf,j:()=>pv,k:()=>ph,l:()=>me,m:()=>gh,p:()=>Ke,r:()=>ln,s:()=>Z,u:()=>Wc});var R=H(467),u=H(7852),U=H(1076),ae=H(8041),be=H(1635),Me=H(1362);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function Te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},dt=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new U.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new ae.Vy("@firebase/auth");function En(E,...p){bt.logLevel<=ae.$b.ERROR&&bt.error(`Auth (${u.SDK_VERSION}): ${E}`,...p)}function Qe(E,...p){throw vt(E,...p)}function He(E,...p){return vt(E,...p)}function Je(E,p,m){const T=Object.assign(Object.assign({},dt()),{[p]:m});return new U.FA("auth","Firebase",T).create(p,{appName:E.name})}function rt(E){return Je(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lt(E,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Qe(E,"argument-error"),Je(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(E,...p){if("string"!=typeof E){const m=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(m,...T)}return ot.create(E,...p)}function Ee(E,p,...m){if(!E)throw vt(p,...m)}function Xt(E){const p="INTERNAL ASSERTION FAILED: "+E;throw En(p),new Error(p)}function Lt(E,p){E||Xt(p)}function Er(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function br(){return"http:"===zr()||"https:"===zr()}function zr(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class dr{constructor(p,m){this.shortDelay=p,this.longDelay=m,Lt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.jZ)()||(0,U.lV)()}get(){return function qn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(br()||(0,U.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ve(E,p){Lt(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class we{static initialize(p,m,T){this.fetchImpl=p,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new dr(3e4,6e4);function Se(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function Pe(E,p,m,T){return At.apply(this,arguments)}function At(){return(At=(0,R.A)(function*(E,p,m,T,N={}){return qt(E,N,(0,R.A)(function*(){let G={},ne={};T&&("GET"===p?ne=T:G={body:JSON.stringify(T)});const ye=(0,U.Am)(Object.assign({key:E.config.apiKey},ne)).slice(1),ze=yield E._getAdditionalHeaders();return ze["Content-Type"]="application/json",E.languageCode&&(ze["X-Firebase-Locale"]=E.languageCode),we.fetch()(yn(E,E.config.apiHost,m,ye),Object.assign({method:p,headers:ze,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function qt(E,p,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,R.A)(function*(E,p,m){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},xe),p);try{const N=new xr(E),G=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const ne=yield G.json();if("needConfirmation"in ne)throw ar(E,"account-exists-with-different-credential",ne);if(G.ok&&!("errorMessage"in ne))return ne;{const ye=G.ok?ne.errorMessage:ne.error.message,[ze,Tt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw ar(E,"credential-already-in-use",ne);if("EMAIL_EXISTS"===ze)throw ar(E,"email-already-in-use",ne);if("USER_DISABLED"===ze)throw ar(E,"user-disabled",ne);const Ot=T[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Je(E,Ot,Tt);Qe(E,Ot)}}catch(N){if(N instanceof U.g)throw N;Qe(E,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function Ct(E,p,m,T){return _n.apply(this,arguments)}function _n(){return(_n=(0,R.A)(function*(E,p,m,T,N={}){const G=yield Pe(E,p,m,T,N);return"mfaPendingCredential"in G&&Qe(E,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function yn(E,p,m,T){const N=`${p}${m}?${T}`;return E.config.emulator?ve(E.config,N):`${E.config.apiScheme}://${N}`}function vn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(He(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(E,p,m){const T={appName:E.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const N=He(E,p,T);return N.customData._tokenResponse=m,N}function Or(E){return void 0!==E&&void 0!==E.getResponse}function Qn(E){return void 0!==E&&void 0!==E.enterprise}class Ur{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===p)return vn(m.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Gr(){return(Gr=(0,R.A)(function*(E){return(yield Pe(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rr(E,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,R.A)(function*(E,p){return Pe(E,"GET","/v2/recaptchaConfig",Se(E,p))})).apply(this,arguments)}function es(){return(es=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ge(){return(Ge=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mt(E,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function lr(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Mn(){return(Mn=(0,R.A)(function*(E,p=!1){const m=(0,U.Ku)(E),T=yield m.getIdToken(p),N=Ft(T);Ee(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const G="object"==typeof N.firebase?N.firebase:void 0,ne=G?.sign_in_provider;return{claims:N,token:T,authTime:lr(ji(N.auth_time)),issuedAtTime:lr(ji(N.iat)),expirationTime:lr(ji(N.exp)),signInProvider:ne||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function ji(E){return 1e3*Number(E)}function Ft(E){const[p,m,T]=E.split(".");if(void 0===p||void 0===m||void 0===T)return En("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,U.u)(m);return N?JSON.parse(N):(En("Failed to decode base64 JWT payload"),null)}catch(N){return En("Caught error parsing JWT payload as JSON",N?.toString()),null}}function hr(E){const p=Ft(E);return Ee(p,"internal-error"),Ee(typeof p.exp<"u","internal-error"),Ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function xt(E,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.A)(function*(E,p,m=!1){if(m)return p;try{return yield p}catch(T){throw T instanceof U.g&&function Yn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}class ir{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,R.A)(function*(){yield m.iteration()}),T)}iteration(){var p=this;return(0,R.A)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class fr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ri(E){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,R.A)(function*(E){var p;const m=E.auth,T=yield E.getIdToken(),N=yield xt(E,Mt(m,{idToken:T}));Ee(N?.users.length,m,"internal-error");const G=N.users[0];E._notifyReloadListener(G);const ne=null!==(p=G.providerUserInfo)&&void 0!==p&&p.length?X(G.providerUserInfo):[],ye=function pe(E,p){return[...E.filter(T=>!p.some(N=>N.providerId===T.providerId)),...p]}(E.providerData,ne),Ot=!!E.isAnonymous&&!(E.email&&G.passwordHash||ye?.length),Rn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:ye,metadata:new fr(G.createdAt,G.lastLoginAt),isAnonymous:Ot};Object.assign(E,Rn)})).apply(this,arguments)}function le(){return(le=(0,R.A)(function*(E){const p=(0,U.Ku)(E);yield Ri(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function X(E){return E.map(p=>{var{providerId:m}=p,T=(0,be.Tt)(p,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function K(){return(K=(0,R.A)(function*(E,p){const m=yield qt(E,{},(0,R.A)(function*(){const T=(0,U.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:G}=E.config,ne=yn(E,N,"/v1/token",`key=${G}`),ye=yield E._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",we.fetch()(ne,{method:"POST",headers:ye,body:T})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function $(){return($=(0,R.A)(function*(E,p){return Pe(E,"POST","/v2/accounts:revokeToken",Se(E,p))})).apply(this,arguments)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ee(p.idToken,"internal-error"),Ee(typeof p.idToken<"u","internal-error"),Ee(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):hr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}updateFromIdToken(p){Ee(0!==p.length,"internal-error");const m=hr(p);this.updateTokensAndExpiration(p,null,m)}getToken(p,m=!1){var T=this;return(0,R.A)(function*(){return m||!T.accessToken||T.isExpired?(Ee(T.refreshToken,p,"user-token-expired"),T.refreshToken?(yield T.refresh(p,T.refreshToken),T.accessToken):null):T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var T=this;return(0,R.A)(function*(){const{accessToken:N,refreshToken:G,expiresIn:ne}=yield function ie(E,p){return K.apply(this,arguments)}(p,m);T.updateTokensAndExpiration(N,G,Number(ne))})()}updateTokensAndExpiration(p,m,T){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,m){const{refreshToken:T,accessToken:N,expirationTime:G}=m,ne=new z;return T&&(Ee("string"==typeof T,"internal-error",{appName:p}),ne.refreshToken=T),N&&(Ee("string"==typeof N,"internal-error",{appName:p}),ne.accessToken=N),G&&(Ee("number"==typeof G,"internal-error",{appName:p}),ne.expirationTime=G),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return Xt("not implemented")}}function B(E,p){Ee("string"==typeof E||typeof E>"u","internal-error",{appName:p})}class se{constructor(p){var{uid:m,auth:T,stsTokenManager:N}=p,G=(0,be.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new fr(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,R.A)(function*(){const T=yield xt(m,m.stsTokenManager.getToken(m.auth,p));return Ee(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(p){return function Gn(E){return Mn.apply(this,arguments)}(this,p)}reload(){return function Mi(E){return le.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new se(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var T=this;return(0,R.A)(function*(){let N=!1;p.idToken&&p.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(p),N=!0),m&&(yield Ri(T)),yield T.auth._persistUserIfCurrent(T),N&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var p=this;return(0,R.A)(function*(){if((0,u._isFirebaseServerApp)(p.auth.app))return Promise.reject(rt(p.auth));const m=yield p.getIdToken();return yield xt(p,function Bi(E,p){return es.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var T,N,G,ne,ye,ze,Tt,Ot;const Rn=null!==(T=m.displayName)&&void 0!==T?T:void 0,Ai=null!==(N=m.email)&&void 0!==N?N:void 0,ka=null!==(G=m.phoneNumber)&&void 0!==G?G:void 0,La=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,ap=null!==(ye=m.tenantId)&&void 0!==ye?ye:void 0,lp=null!==(ze=m._redirectEventId)&&void 0!==ze?ze:void 0,vl=null!==(Tt=m.createdAt)&&void 0!==Tt?Tt:void 0,la=null!==(Ot=m.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:cp,emailVerified:vh,isAnonymous:Ih,providerData:Fa,stsTokenManager:ca}=m;Ee(cp&&ca,p,"internal-error");const hi=z.fromJSON(this.name,ca);Ee("string"==typeof cp,p,"internal-error"),B(Rn,p.name),B(Ai,p.name),Ee("boolean"==typeof vh,p,"internal-error"),Ee("boolean"==typeof Ih,p,"internal-error"),B(ka,p.name),B(La,p.name),B(ap,p.name),B(lp,p.name),B(vl,p.name),B(la,p.name);const Zu=new se({uid:cp,auth:p,email:Ai,emailVerified:vh,displayName:Rn,isAnonymous:Ih,photoURL:La,phoneNumber:ka,tenantId:ap,stsTokenManager:hi,createdAt:vl,lastLoginAt:la});return Fa&&Array.isArray(Fa)&&(Zu.providerData=Fa.map(Eh=>Object.assign({},Eh))),lp&&(Zu._redirectEventId=lp),Zu}static _fromIdTokenResponse(p,m,T=!1){return(0,R.A)(function*(){const N=new z;N.updateFromServerResponse(m);const G=new se({uid:m.localId,auth:p,stsTokenManager:N,isAnonymous:T});return yield Ri(G),G})()}static _fromGetAccountInfoResponse(p,m,T){return(0,R.A)(function*(){const N=m.users[0];Ee(void 0!==N.localId,"internal-error");const G=void 0!==N.providerUserInfo?X(N.providerUserInfo):[],ne=!(N.email&&N.passwordHash||G?.length),ye=new z;ye.updateFromIdToken(T);const ze=new se({uid:N.localId,auth:p,stsTokenManager:ye,isAnonymous:ne}),Tt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:G,metadata:new fr(N.createdAt,N.lastLoginAt),isAnonymous:!(N.email&&N.passwordHash||G?.length)};return Object.assign(ze,Tt),ze})()}}const Oe=new Map;function st(E){Lt(E instanceof Function,"Expected a class definition");let p=Oe.get(E);return p?(Lt(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,Oe.set(E,p),p)}const Bt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.A)(function*(){return!0})()}_set(m,T){var N=this;return(0,R.A)(function*(){N.storage[m]=T})()}_get(m){var T=this;return(0,R.A)(function*(){const N=T.storage[m];return void 0===N?null:N})()}_remove(m){var T=this;return(0,R.A)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return E.type="NONE",E})();function Cn(E,p,m){return`firebase:${E}:${p}:${m}`}class Dt{constructor(p,m,T){this.persistence=p,this.auth=m,this.userKey=T;const{config:N,name:G}=this.auth;this.fullUserKey=Cn(this.userKey,N.apiKey,G),this.fullPersistenceKey=Cn("persistence",N.apiKey,G),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,R.A)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?se._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,R.A)(function*(){if(m.persistence===p)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,T="authUser"){return(0,R.A)(function*(){if(!m.length)return new Dt(st(Bt),p,T);const N=(yield Promise.all(m.map(function(){var Tt=(0,R.A)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let G=N[0]||st(Bt);const ne=Cn(T,p.config.apiKey,p.name);let ye=null;for(const Tt of m)try{const Ot=yield Tt._get(ne);if(Ot){const Rn=se._fromJSON(p,Ot);Tt!==G&&(ye=Rn),G=Tt;break}}catch{}const ze=N.filter(Tt=>Tt._shouldAllowMigration);return G._shouldAllowMigration&&ze.length?(G=ze[0],ye&&(yield G._set(ne,ye.toJSON())),yield Promise.all(m.map(function(){var Tt=(0,R.A)(function*(Ot){if(Ot!==G)try{yield Ot._remove(ne)}catch{}});return function(Ot){return Tt.apply(this,arguments)}}())),new Dt(G,p,T)):new Dt(G,p,T)})()}}function ht(E){const p=E.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Hl(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(fn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Dn(p))return"Blackberry";if(Ka(p))return"Webos";if(Jr(p))return"Safari";if((p.includes("chrome/")||Ko(p))&&!p.includes("edge/"))return"Chrome";if(Wa(p))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function fn(E=(0,U.ZQ)()){return/firefox\//i.test(E)}function Jr(E=(0,U.ZQ)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ko(E=(0,U.ZQ)()){return/crios\//i.test(E)}function Hl(E=(0,U.ZQ)()){return/iemobile/i.test(E)}function Wa(E=(0,U.ZQ)()){return/android/i.test(E)}function Dn(E=(0,U.ZQ)()){return/blackberry/i.test(E)}function Ka(E=(0,U.ZQ)()){return/webos/i.test(E)}function ys(E=(0,U.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Ce(E=(0,U.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function gt(E=(0,U.ZQ)()){return ys(E)||Wa(E)||Ka(E)||Dn(E)||/windows phone/i.test(E)||Hl(E)}function Gt(E,p=[]){let m;switch(E){case"Browser":m=ht((0,U.ZQ)());break;case"Worker":m=`${ht((0,U.ZQ)())}-${E}`;break;default:m=E}const T=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${u.SDK_VERSION}/${T}`}class sn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const T=G=>new Promise((ne,ye)=>{try{ne(p(G))}catch(ze){ye(ze)}});T.onAbort=m,this.queue.push(T);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,R.A)(function*(){if(m.auth.currentUser===p)return;const T=[];try{for(const N of m.queue)yield N(p),N.onAbort&&T.push(N.onAbort)}catch(N){T.reverse();for(const G of T)try{G()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}function xn(){return(xn=(0,R.A)(function*(E,p={}){return Pe(E,"GET","/v2/passwordPolicy",Se(E,p))})).apply(this,arguments)}class vs{constructor(p){var m,T,N,G;const ne=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=ne.minPasswordLength)&&void 0!==m?m:6,ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ne.maxPasswordLength),void 0!==ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ne.containsLowercaseCharacter),void 0!==ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ne.containsUppercaseCharacter),void 0!==ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ne.containsNumericCharacter),void 0!==ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ne.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(N=null===(T=p.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==N?N:"",this.forceUpgradeOnSignin=null!==(G=p.forceUpgradeOnSignin)&&void 0!==G&&G,this.schemaVersion=p.schemaVersion}validatePassword(p){var m,T,N,G,ne,ye;const ze={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,ze),this.validatePasswordCharacterOptions(p,ze),ze.isValid&&(ze.isValid=null===(m=ze.meetsMinPasswordLength)||void 0===m||m),ze.isValid&&(ze.isValid=null===(T=ze.meetsMaxPasswordLength)||void 0===T||T),ze.isValid&&(ze.isValid=null===(N=ze.containsLowercaseLetter)||void 0===N||N),ze.isValid&&(ze.isValid=null===(G=ze.containsUppercaseLetter)||void 0===G||G),ze.isValid&&(ze.isValid=null===(ne=ze.containsNumericCharacter)||void 0===ne||ne),ze.isValid&&(ze.isValid=null===(ye=ze.containsNonAlphanumericCharacter)||void 0===ye||ye),ze}validatePasswordLengthOptions(p,m){const T=this.customStrengthOptions.minPasswordLength,N=this.customStrengthOptions.maxPasswordLength;T&&(m.meetsMinPasswordLength=p.length>=T),N&&(m.meetsMaxPasswordLength=p.length<=N)}validatePasswordCharacterOptions(p,m){let T;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let N=0;N<p.length;N++)T=p.charAt(N),this.updatePasswordCharacterOptionsStatuses(m,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(p,m,T,N,G){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=N)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=G))}}class bo{constructor(p,m,T,N){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=T,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(p,m){var T=this;return m&&(this._popupRedirectResolver=st(m)),this._initializationPromise=this.queue((0,R.A)(function*(){var N,G;if(!T._deleted&&(T.persistenceManager=yield Dt.create(T,p),!T._deleted)){if(null!==(N=T._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(G=T.currentUser)||void 0===G?void 0:G.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,R.A)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(p){var m=this;return(0,R.A)(function*(){try{const T=yield Mt(m,{idToken:p}),N=yield se._fromGetAccountInfoResponse(m,T,p);yield m.directlySetCurrentUser(N)}catch(T){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",T),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var m=this;return(0,R.A)(function*(){var T;if((0,u._isFirebaseServerApp)(m.app)){const ye=m.app.settings.authIdToken;return ye?new Promise(ze=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(ye).then(ze,ze))}):m.directlySetCurrentUser(null)}const N=yield m.assertedPersistence.getCurrentUser();let G=N,ne=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ye=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,ze=G?._redirectEventId,Tt=yield m.tryRedirectSignIn(p);(!ye||ye===ze)&&Tt?.user&&(G=Tt.user,ne=!0)}if(!G)return m.directlySetCurrentUser(null);if(!G._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(G)}catch(ye){G=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ye))}return G?m.reloadAndSetCurrentUserOrClear(G):m.directlySetCurrentUser(null)}return Ee(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===G._redirectEventId?m.directlySetCurrentUser(G):m.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(p){var m=this;return(0,R.A)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,R.A)(function*(){try{yield Ri(p)}catch(T){if("auth/network-request-failed"!==T?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function oi(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var p=this;return(0,R.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,R.A)(function*(){if((0,u._isFirebaseServerApp)(m.app))return Promise.reject(rt(m));const T=p?(0,U.Ku)(p):null;return T&&Ee(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(p,m=!1){var T=this;return(0,R.A)(function*(){if(!T._deleted)return p&&Ee(T.tenantId===p.tenantId,T,"tenant-id-mismatch"),m||(yield T.beforeStateQueue.runMiddleware(p)),T.queue((0,R.A)(function*(){yield T.directlySetCurrentUser(p),T.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,R.A)(function*(){return(0,u._isFirebaseServerApp)(p.app)?Promise.reject(rt(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var m=this;return(0,u._isFirebaseServerApp)(this.app)?Promise.reject(rt(this)):this.queue((0,R.A)(function*(){yield m.assertedPersistence.setPersistence(st(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var m=this;return(0,R.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const T=m._getPasswordPolicyInternal();return T.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,R.A)(function*(){const m=yield function Zn(E){return xn.apply(this,arguments)}(p),T=new vs(m);null===p.tenantId?p._projectPasswordPolicy=T:p._tenantPasswordPolicies[p.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.FA("auth","Firebase",p())}onAuthStateChanged(p,m,T){return this.registerStateListener(this.authStateSubscription,p,m,T)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,T){return this.registerStateListener(this.idTokenSubscription,p,m,T)}authStateReady(){return new Promise((p,m)=>{if(this.currentUser)p();else{const T=this.onAuthStateChanged(()=>{T(),p()},m)}})}revokeAccessToken(p){var m=this;return(0,R.A)(function*(){if(m.currentUser){const T=yield m.currentUser.getIdToken(),N={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:T};null!=m.tenantId&&(N.tenantId=m.tenantId),yield function q(E,p){return $.apply(this,arguments)}(m,N)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var T=this;return(0,R.A)(function*(){const N=yield T.getOrInitRedirectPersistenceManager(m);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,R.A)(function*(){if(!m.redirectPersistenceManager){const T=p&&st(p)||m._popupRedirectResolver;Ee(T,m,"argument-error"),m.redirectPersistenceManager=yield Dt.create(m,[st(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,R.A)(function*(){var T,N;return m._isInitialized&&(yield m.queue((0,R.A)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===p?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,R.A)(function*(){if(p===m.currentUser)return m.queue((0,R.A)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,T,N){if(this._deleted)return()=>{};const G="function"==typeof m?m:m.next.bind(m);let ne=!1;const ye=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(ye,this,"internal-error"),ye.then(()=>{ne||G(this.currentUser)}),"function"==typeof m){const ze=p.addObserver(m,T,N);return()=>{ne=!0,ze()}}{const ze=p.addObserver(m);return()=>{ne=!0,ze()}}}directlySetCurrentUser(p){var m=this;return(0,R.A)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,R.A)(function*(){var m;const T={"X-Client-Version":p.clientVersion};p.app.options.appId&&(T["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();N&&(T["X-Firebase-Client"]=N);const G=yield p._getAppCheckToken();return G&&(T["X-Firebase-AppCheck"]=G),T})()}_getAppCheckToken(){var p=this;return(0,R.A)(function*(){var m;const T=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return T?.error&&function un(E,...p){bt.logLevel<=ae.$b.WARN&&bt.warn(`Auth (${u.SDK_VERSION}): ${E}`,...p)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Jn(E){return(0,U.Ku)(E)}class js{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.tD)(m=>this.observer=m)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zs={loadJS:()=>(0,R.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qa(E){return Zs.loadJS(E)}function qo(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Is{constructor(p){this.type="recaptcha-enterprise",this.auth=Jn(p)}verify(p="verify",m=!1){var T=this;return(0,R.A)(function*(){function G(){return G=(0,R.A)(function*(ye){if(!m){if(null==ye.tenantId&&null!=ye._agentRecaptchaConfig)return ye._agentRecaptchaConfig.siteKey;if(null!=ye.tenantId&&void 0!==ye._tenantRecaptchaConfigs[ye.tenantId])return ye._tenantRecaptchaConfigs[ye.tenantId].siteKey}return new Promise(function(){var ze=(0,R.A)(function*(Tt,Ot){rr(ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rn=>{if(void 0!==Rn.recaptchaKey){const Ai=new Ur(Rn);return null==ye.tenantId?ye._agentRecaptchaConfig=Ai:ye._tenantRecaptchaConfigs[ye.tenantId]=Ai,Tt(Ai.siteKey)}Ot(new Error("recaptcha Enterprise site key undefined"))}).catch(Rn=>{Ot(Rn)})});return function(Tt,Ot){return ze.apply(this,arguments)}}())}),G.apply(this,arguments)}function ne(ye,ze,Tt){const Ot=window.grecaptcha;Qn(Ot)?Ot.enterprise.ready(()=>{Ot.enterprise.execute(ye,{action:p}).then(Rn=>{ze(Rn)}).catch(()=>{ze("NO_RECAPTCHA")})}):Tt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ye,ze)=>{(function N(ye){return G.apply(this,arguments)})(T.auth).then(Tt=>{if(!m&&Qn(window.grecaptcha))ne(Tt,ye,ze);else{if(typeof window>"u")return void ze(new Error("RecaptchaVerifier is only supported in browser"));let Ot=function Gl(){return Zs.recaptchaEnterpriseScript}();0!==Ot.length&&(Ot+=Tt),qa(Ot).then(()=>{ne(Tt,ye,ze)}).catch(Rn=>{ze(Rn)})}}).catch(Tt=>{ze(Tt)})})})()}}function Qa(E,p,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,R.A)(function*(E,p,m,T=!1){const N=new Is(E);let G;try{G=yield N.verify(m)}catch{G=yield N.verify(m,!0)}const ne=Object.assign({},p);return Object.assign(ne,T?{captchaResp:G}:{captchaResponse:G}),Object.assign(ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ne})).apply(this,arguments)}function wr(E,p,m,T){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,R.A)(function*(E,p,m,T){var N;if(null!==(N=E._getRecaptchaConfig())&&void 0!==N&&N.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const G=yield Qa(E,p,m,"getOobCode"===m);return T(E,G)}return T(E,p).catch(function(){var G=(0,R.A)(function*(ne){if("auth/missing-recaptcha-token"===ne.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ye=yield Qa(E,p,m,"getOobCode"===m);return T(E,ye)}return Promise.reject(ne)});return function(ne){return G.apply(this,arguments)}}())}),Qo.apply(this,arguments)}function Xo(E,p,m){const T=Jn(E);Ee(T._canInitEmulator,T,"emulator-config-failed"),Ee(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const N=!!m?.disableWarnings,G=Es(p),{host:ne,port:ye}=function ts(E){const p=Es(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(p.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(T);if(N){const G=N[1];return{host:G,port:To(T.substr(G.length+1))}}{const[G,ne]=T.split(":");return{host:G,port:To(ne)}}}(p);T.config.emulator={url:`${G}//${ne}${null===ye?"":`:${ye}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ne,port:ye,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function on(){function E(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Es(E){const p=E.indexOf(":");return p<0?"":E.substr(0,p+1)}function To(E){if(!E)return null;const p=Number(E);return isNaN(p)?null:p}class Ni{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Xt("not implemented")}_getIdTokenResponse(p){return Xt("not implemented")}_linkToIdToken(p,m){return Xt("not implemented")}_getReauthenticationResolver(p){return Xt("not implemented")}}function wa(E,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:resetPassword",Se(E,p))})).apply(this,arguments)}function Ya(){return(Ya=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jd(E,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Yo(){return(Yo=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:update",Se(E,p))})).apply(this,arguments)}function Wl(E,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signInWithPassword",Se(E,p))})).apply(this,arguments)}function Co(E,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:sendOobCode",Se(E,p))})).apply(this,arguments)}function eo(){return(eo=(0,R.A)(function*(E,p){return Co(E,p)})).apply(this,arguments)}function ei(E,p){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,R.A)(function*(E,p){return Co(E,p)})).apply(this,arguments)}function Kr(E,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,R.A)(function*(E,p){return Co(E,p)})).apply(this,arguments)}function to(){return(to=(0,R.A)(function*(E,p){return Co(E,p)})).apply(this,arguments)}function pr(){return(pr=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signInWithEmailLink",Se(E,p))})).apply(this,arguments)}function el(){return(el=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signInWithEmailLink",Se(E,p))})).apply(this,arguments)}class no extends Ni{constructor(p,m,T,N=null){super("password",T),this._email=p,this._password=m,this._tenantId=N}static _fromEmailAndPassword(p,m){return new no(p,m,"password")}static _fromEmailAndCode(p,m,T=null){return new no(p,m,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,R.A)(function*(){switch(m.signInMethod){case"password":return wr(p,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wl);case"emailLink":return function $i(E,p){return pr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Qe(p,"internal-error")}})()}_linkToIdToken(p,m){var T=this;return(0,R.A)(function*(){switch(T.signInMethod){case"password":return wr(p,{idToken:m,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jd);case"emailLink":return function us(E,p){return el.apply(this,arguments)}(p,{idToken:m,email:T._email,oobCode:T._password});default:Qe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ts(E,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signInWithIdp",Se(E,p))})).apply(this,arguments)}class gi extends Ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new gi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Qe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:N}=m,G=(0,be.Tt)(m,["providerId","signInMethod"]);if(!T||!N)return null;const ne=new gi(T,N);return ne.idToken=G.idToken||void 0,ne.accessToken=G.accessToken||void 0,ne.secret=G.secret,ne.nonce=G.nonce,ne.pendingToken=G.pendingToken||null,ne}_getIdTokenResponse(p){return Ts(p,this.buildRequest())}_linkToIdToken(p,m){const T=this.buildRequest();return T.idToken=m,Ts(p,T)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ts(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,U.Am)(m)}return p}}function ws(){return(ws=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:sendVerificationCode",Se(E,p))})).apply(this,arguments)}function Vn(){return(Vn=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signInWithPhoneNumber",Se(E,p))})).apply(this,arguments)}function Ca(){return(Ca=(0,R.A)(function*(E,p){const m=yield Ct(E,"POST","/v1/accounts:signInWithPhoneNumber",Se(E,p));if(m.temporaryProof)throw ar(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ao={USER_NOT_FOUND:"user-not-found"};function Jo(){return(Jo=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signInWithPhoneNumber",Se(E,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ao)})).apply(this,arguments)}class $s extends Ni{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new $s({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new $s({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Mc(E,p){return Vn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Cs(E,p){return Ca.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ro(E,p){return Jo.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:T,verificationCode:N}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:T,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:T,phoneNumber:N,temporaryProof:G}=p;return T||m||N||G?new $s({verificationId:m,verificationCode:T,phoneNumber:N,temporaryProof:G}):null}}class mi{constructor(p){var m,T,N,G,ne,ye;const ze=(0,U.I9)((0,U.hp)(p)),Tt=null!==(m=ze.apiKey)&&void 0!==m?m:null,Ot=null!==(T=ze.oobCode)&&void 0!==T?T:null,Rn=function th(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ze.mode)&&void 0!==N?N:null);Ee(Tt&&Ot&&Rn,"argument-error"),this.apiKey=Tt,this.operation=Rn,this.code=Ot,this.continueUrl=null!==(G=ze.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(ne=ze.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(ye=ze.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const m=function tl(E){const p=(0,U.I9)((0,U.hp)(E)).link,m=p?(0,U.I9)((0,U.hp)(p)).deep_link_id:null,T=(0,U.I9)((0,U.hp)(E)).deep_link_id;return(T?(0,U.I9)((0,U.hp)(T)).link:null)||T||m||p||E}(p);try{return new mi(m)}catch{return null}}}let Hi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,T){return no._fromEmailAndPassword(m,T)}static credentialWithLink(m,T){const N=mi.parseLink(T);return Ee(N,"argument-error"),no._fromEmailAndCode(m,N.code,N.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Ds{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class So extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class li extends So{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Ee("providerId"in m&&"signInMethod"in m,"argument-error"),gi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ee(p.idToken||p.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return li.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return li.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:T,oauthTokenSecret:N,pendingToken:G,nonce:ne,providerId:ye}=p;if(!T&&!N&&!m&&!G||!ye)return null;try{return new li(ye)._credential({idToken:m,accessToken:T,nonce:ne,pendingToken:G})}catch{return null}}}let bn=(()=>{class E extends So{constructor(){super("facebook.com")}static credential(m){return gi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),io=(()=>{class E extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(m,T){return gi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:T})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:T,oauthAccessToken:N}=m;if(!T&&!N)return null;try{return E.credential(T,N)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),xc=(()=>{class E extends So{constructor(){super("github.com")}static credential(m){return gi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class As extends Ni{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ts(p,this.buildRequest())}_linkToIdToken(p,m){const T=this.buildRequest();return T.idToken=m,Ts(p,T)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ts(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:N,pendingToken:G}=m;return T&&N&&G&&T===N?new As(T,G):null}static _create(p,m){return new As(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hs extends Ds{constructor(p){Ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Hs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Hs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=As.fromJSON(p);return Ee(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:T}=p;if(!m||!T)return null;try{return As._create(T,m)}catch{return null}}}let Ro=(()=>{class E extends So{constructor(){super("twitter.com")}static credential(m,T){return gi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:T})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:T,oauthTokenSecret:N}=m;if(!T||!N)return null;try{return E.credential(T,N)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function ju(E,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signUp",Se(E,p))})).apply(this,arguments)}class zi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,T,N=!1){return(0,R.A)(function*(){const G=yield se._fromIdTokenResponse(p,T,N),ne=rl(T);return new zi({user:G,providerId:ne,_tokenResponse:T,operationType:m})})()}static _forOperation(p,m,T){return(0,R.A)(function*(){yield p._updateTokensIfNecessary(T,!0);const N=rl(T);return new zi({user:p,providerId:N,_tokenResponse:T,operationType:m})})()}}function rl(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function qr(E){return ea.apply(this,arguments)}function ea(){return(ea=(0,R.A)(function*(E){var p;if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const m=Jn(E);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new zi({user:m.currentUser,providerId:null,operationType:"signIn"});const T=yield ju(m,{returnSecureToken:!0}),N=yield zi._fromIdTokenResponse(m,"signIn",T,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class ds extends U.g{constructor(p,m,T,N){var G;super(m.code,m.message),this.operationType=T,this.user=N,Object.setPrototypeOf(this,ds.prototype),this.customData={appName:p.name,tenantId:null!==(G=p.tenantId)&&void 0!==G?G:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(p,m,T,N){return new ds(p,m,T,N)}}function il(E,p,m,T){return("reauthenticate"===p?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?ds._fromErrorAndOperation(E,G,p,T):G})}function ql(E){return new Set(E.map(({providerId:p})=>p).filter(p=>!!p))}function nh(E,p){return sl.apply(this,arguments)}function sl(){return sl=(0,R.A)(function*(E,p){const m=(0,U.Ku)(E);yield ta(!0,m,p);const{providerUserInfo:T}=yield function Pt(E,p){return Ge.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),N=ql(T||[]);return m.providerData=m.providerData.filter(G=>N.has(G.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),sl.apply(this,arguments)}function _i(E,p){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,R.A)(function*(E,p,m=!1){const T=yield xt(E,p._linkToIdToken(E.auth,yield E.getIdToken()),m);return zi._forOperation(E,"link",T)})).apply(this,arguments)}function ta(E,p,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,R.A)(function*(E,p,m){yield Ri(p);const N=!1===E?"provider-already-linked":"no-such-provider";Ee(ql(p.providerData).has(m)===E,p.auth,N)})).apply(this,arguments)}function Gs(E,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,R.A)(function*(E,p,m=!1){const{auth:T}=E;if((0,u._isFirebaseServerApp)(T.app))return Promise.reject(rt(T));const N="reauthenticate";try{const G=yield xt(E,il(T,N,p,E),m);Ee(G.idToken,T,"internal-error");const ne=Ft(G.idToken);Ee(ne,T,"internal-error");const{sub:ye}=ne;return Ee(E.uid===ye,T,"user-mismatch"),zi._forOperation(E,N,G)}catch(G){throw"auth/user-not-found"===G?.code&&Qe(T,"user-mismatch"),G}})).apply(this,arguments)}function ol(E,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,R.A)(function*(E,p,m=!1){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const T="signIn",N=yield il(E,T,p),G=yield zi._fromIdTokenResponse(E,T,N);return m||(yield E._updateCurrentUser(G.user)),G})).apply(this,arguments)}function so(E,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,R.A)(function*(E,p){return ol(Jn(E),p)})).apply(this,arguments)}function kc(E,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,R.A)(function*(E,p){const m=(0,U.Ku)(E);return yield ta(!1,m,p.providerId),_i(m,p)})).apply(this,arguments)}function Lc(E,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,R.A)(function*(E,p){return Gs((0,U.Ku)(E),p)})).apply(this,arguments)}function Ra(){return(Ra=(0,R.A)(function*(E,p){return Ct(E,"POST","/v1/accounts:signInWithCustomToken",Se(E,p))})).apply(this,arguments)}function al(E,p){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,R.A)(function*(E,p){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const m=Jn(E),T=yield function Vc(E,p){return Ra.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),N=yield zi._fromIdTokenResponse(m,"signIn",T);return yield m._updateCurrentUser(N.user),N}),Ss.apply(this,arguments)}class nn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Nr._fromServerResponse(p,m):"totpInfo"in m?Cr._fromServerResponse(p,m):Qe(p,"internal-error")}}class Nr extends nn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Nr(m)}}class Cr extends nn{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Cr(m)}}function wi(E,p,m){var T;Ee((null===(T=m.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),Ee(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ee(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Ee(m.android.packageName.length>0,E,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ci(E){return ll.apply(this,arguments)}function ll(){return(ll=(0,R.A)(function*(E){const p=Jn(E);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Xl(E,p,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,R.A)(function*(E,p,m){const T=Jn(E),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};m&&wi(T,N,m),yield wr(T,N,"getOobCode",ei)})).apply(this,arguments)}function rh(E,p,m){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,R.A)(function*(E,p,m){yield wa((0,U.Ku)(E),{oobCode:p,newPassword:m}).catch(function(){var T=(0,R.A)(function*(N){throw"auth/password-does-not-meet-requirements"===N.code&&ci(E),N});return function(N){return T.apply(this,arguments)}}())}),Yl.apply(this,arguments)}function cl(E,p){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,R.A)(function*(E,p){yield function Za(E,p){return Yo.apply(this,arguments)}((0,U.Ku)(E),{oobCode:p})}),Mo.apply(this,arguments)}function oo(E,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,R.A)(function*(E,p){const m=(0,U.Ku)(E),T=yield wa(m,{oobCode:p}),N=T.requestType;switch(Ee(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(T.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(T.mfaInfo,m,"internal-error");default:Ee(T.email,m,"internal-error")}let G=null;return T.mfaInfo&&(G=nn._fromServerResponse(Jn(m),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:G},operation:N}})).apply(this,arguments)}function ns(E,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,R.A)(function*(E,p){const{data:m}=yield oo((0,U.Ku)(E),p);return m.email})).apply(this,arguments)}function na(E,p,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,R.A)(function*(E,p,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const T=Jn(E),ne=yield wr(T,{returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ju).catch(ze=>{throw"auth/password-does-not-meet-requirements"===ze.code&&ci(E),ze}),ye=yield zi._fromIdTokenResponse(T,"signIn",ne);return yield T._updateCurrentUser(ye.user),ye})).apply(this,arguments)}function dl(E,p,m){return(0,u._isFirebaseServerApp)(E.app)?Promise.reject(rt(E)):so((0,U.Ku)(E),Hi.credential(p,m)).catch(function(){var T=(0,R.A)(function*(N){throw"auth/password-does-not-meet-requirements"===N.code&&ci(E),N});return function(N){return T.apply(this,arguments)}}())}function $u(E,p,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,R.A)(function*(E,p,m){const T=Jn(E),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function G(ne,ye){Ee(ye.handleCodeInApp,T,"argument-error"),ye&&wi(T,ne,ye)})(N,m),yield wr(T,N,"getOobCode",Kr)})).apply(this,arguments)}function Oo(E,p){const m=mi.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}function Uc(E,p,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.A)(function*(E,p,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const T=(0,U.Ku)(E),N=Hi.credentialWithLink(p,m||Er());return Ee(N._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),so(T,N)})).apply(this,arguments)}function hl(){return(hl=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:createAuthUri",Se(E,p))})).apply(this,arguments)}function ec(E,p){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,R.A)(function*(E,p){const T={identifier:p,continueUri:br()?Er():"http://localhost"},{signinMethods:N}=yield function Jl(E,p){return hl.apply(this,arguments)}((0,U.Ku)(E),T);return N||[]}),Rs.apply(this,arguments)}function Dr(E,p){return rs.apply(this,arguments)}function rs(){return rs=(0,R.A)(function*(E,p){const m=(0,U.Ku)(E),N={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};p&&wi(m.auth,N,p);const{email:G}=yield function Js(E,p){return eo.apply(this,arguments)}(m.auth,N);G!==E.email&&(yield E.reload())}),rs.apply(this,arguments)}function Bc(E,p,m){return jc.apply(this,arguments)}function jc(){return jc=(0,R.A)(function*(E,p,m){const T=(0,U.Ku)(E),G={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:p};m&&wi(T.auth,G,m);const{email:ne}=yield function Kt(E,p){return to.apply(this,arguments)}(T.auth,G);ne!==E.email&&(yield E.reload())}),jc.apply(this,arguments)}function tc(){return(tc=(0,R.A)(function*(E,p){return Pe(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ra(E,p){return ia.apply(this,arguments)}function ia(){return ia=(0,R.A)(function*(E,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const T=(0,U.Ku)(E),G={idToken:yield T.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},ne=yield xt(T,function Hu(E,p){return tc.apply(this,arguments)}(T.auth,G));T.displayName=ne.displayName||null,T.photoURL=ne.photoUrl||null;const ye=T.providerData.find(({providerId:ze})=>"password"===ze);ye&&(ye.displayName=T.displayName,ye.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ne)}),ia.apply(this,arguments)}function zu(E,p){const m=(0,U.Ku)(E);return(0,u._isFirebaseServerApp)(m.auth.app)?Promise.reject(rt(m.auth)):Pa(m,p,null)}function nc(E,p){return Pa((0,U.Ku)(E),null,p)}function Pa(E,p,m){return lo.apply(this,arguments)}function lo(){return lo=(0,R.A)(function*(E,p,m){const{auth:T}=E,G={idToken:yield E.getIdToken(),returnSecureToken:!0};p&&(G.email=p),m&&(G.password=m);const ne=yield xt(E,function Xa(E,p){return Ya.apply(this,arguments)}(T,G));yield E._updateTokensIfNecessary(ne,!0)}),lo.apply(this,arguments)}class qs{constructor(p,m,T={}){this.isNewUser=p,this.providerId=m,this.profile=T}}class C extends qs{constructor(p,m,T,N){super(p,m,T),this.username=N}}class V extends qs{constructor(p,m){super(p,"facebook.com",m)}}class P extends C{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class k extends qs{constructor(p,m){super(p,"google.com",m)}}class Y extends C{constructor(p,m,T){super(p,"twitter.com",m,T)}}function Ie(E){const{user:p,_tokenResponse:m}=E;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function $c(E){var p,m;if(!E)return null;const{providerId:T}=E,N=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},G=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&E?.idToken){const ne=null===(m=null===(p=Ft(E.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new qs(G,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!T)return null;switch(T){case"facebook.com":return new V(G,N);case"github.com":return new P(G,N);case"google.com":return new k(G,N);case"twitter.com":return new Y(G,N,E.screenName||null);case"custom":case"anonymous":return new qs(G,null);default:return new qs(G,T,N)}}(m)}class sr{constructor(p,m,T){this.type=p,this.credential=m,this.user=T}static _fromIdtoken(p,m){return new sr("enroll",p,m)}static _fromMfaPendingCredential(p){return new sr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,T;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return sr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(T=p.multiFactorSession)&&void 0!==T&&T.idToken)return sr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Hn{constructor(p,m,T){this.session=p,this.hints=m,this.signInResolver=T}static _fromError(p,m){const T=Jn(p),N=m.customData._serverResponse,G=(N.mfaInfo||[]).map(ye=>nn._fromServerResponse(T,ye));Ee(N.mfaPendingCredential,T,"internal-error");const ne=sr._fromMfaPendingCredential(N.mfaPendingCredential);return new Hn(ne,G,function(){var ye=(0,R.A)(function*(ze){const Tt=yield ze._process(T,ne);delete N.mfaInfo,delete N.mfaPendingCredential;const Ot=Object.assign(Object.assign({},N),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(m.operationType){case"signIn":const Rn=yield zi._fromIdTokenResponse(T,m.operationType,Ot);return yield T._updateCurrentUser(Rn.user),Rn;case"reauthenticate":return Ee(m.user,T,"internal-error"),zi._forOperation(m.user,m.operationType,Ot);default:Qe(T,"internal-error")}});return function(ze){return ye.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,R.A)(function*(){return m.signInResolver(p)})()}}function Qr(E,p){var m;const T=(0,U.Ku)(E),N=p;return Ee(p.customData.operationType,T,"argument-error"),Ee(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,T,"argument-error"),Hn._fromError(T,N)}class Ma{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(T=>nn._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new Ma(p)}getSession(){var p=this;return(0,R.A)(function*(){return sr._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,m){var T=this;return(0,R.A)(function*(){const N=p,G=yield T.getSession(),ne=yield xt(T.user,N._process(T.user.auth,G,m));return yield T.user._updateTokensIfNecessary(ne),T.user.reload()})()}unenroll(p){var m=this;return(0,R.A)(function*(){const T="string"==typeof p?p:p.uid,N=yield m.user.getIdToken();try{const G=yield xt(m.user,function Ht(E,p){return Pe(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(E,p))}(m.user.auth,{idToken:N,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ne})=>ne!==T),yield m.user._updateTokensIfNecessary(G),yield m.user.reload()}catch(G){throw G}})()}}const Gu=new WeakMap;function rc(E){const p=(0,U.Ku)(E);return Gu.has(p)||Gu.set(p,Ma._fromUser(p)),Gu.get(p)}const mr="__sak";class Xr{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(mr,"1"),this.storage.removeItem(mr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ko=(()=>{class E extends Xr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fl(){const E=(0,U.ZQ)();return Jr(E)||ys(E)}()&&function zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const N=this.storage.getItem(T),G=this.localCache[T];N!==G&&m(T,G,N)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((ye,ze,Tt)=>{this.notifyListeners(ye,Tt)});const N=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(N);if(m.newValue!==ye)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!T)return}const G=()=>{const ye=this.storage.getItem(N);!T&&this.localCache[N]===ye||this.notifyListeners(N,ye)},ne=this.storage.getItem(N);!function Ve(){return(0,U.lT)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?G():setTimeout(G,10)}notifyListeners(m,T){this.localCache[m]=T;const N=this.listeners[m];if(N)for(const G of Array.from(N))G(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var N=()=>super._set,G=this;return(0,R.A)(function*(){yield N().call(G,m,T),G.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,N=this;return(0,R.A)(function*(){const G=yield T().call(N,m);return N.localCache[m]=JSON.stringify(G),G})()}_remove(m){var T=()=>super._remove,N=this;return(0,R.A)(function*(){yield T().call(N,m),delete N.localCache[m]})()}}return E.type="LOCAL",E})(),Ne=(()=>{class E extends Xr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return E.type="SESSION",E})();let _r=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(G=>G.isListeningto(m));if(T)return T;const N=new E(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,R.A)(function*(){const N=m,{eventId:G,eventType:ne,data:ye}=N.data,ze=T.handlersMap[ne];if(!ze?.size)return;N.ports[0].postMessage({status:"ack",eventId:G,eventType:ne});const Tt=Array.from(ze).map(function(){var Rn=(0,R.A)(function*(Ai){return Ai(N.origin,ye)});return function(Ai){return Rn.apply(this,arguments)}}()),Ot=yield function an(E){return Promise.all(E.map(function(){var p=(0,R.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(T){return{fulfilled:!1,reason:T}}});return function(m){return p.apply(this,arguments)}}()))}(Tt);N.ports[0].postMessage({status:"done",eventId:G,eventType:ne,response:Ot})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ps(E="",p=10){let m="";for(let T=0;T<p;T++)m+=Math.floor(10*Math.random());return E+m}class di{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,T=50){var N=this;return(0,R.A)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let ne,ye;return new Promise((ze,Tt)=>{const Ot=Ps("",20);G.port1.start();const Rn=setTimeout(()=>{Tt(new Error("unsupported_event"))},T);ye={messageChannel:G,onMessage(Ai){const ka=Ai;if(ka.data.eventId===Ot)switch(ka.data.status){case"ack":clearTimeout(Rn),ne=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),ze(ka.data.response);break;default:clearTimeout(Rn),clearTimeout(ne),Tt(new Error("invalid_response"))}}},N.handlers.add(ye),G.port1.addEventListener("message",ye.onMessage),N.target.postMessage({eventType:p,eventId:Ot,data:m},[G.port2])}).finally(()=>{ye&&N.removeMessageHandler(ye)})})()}}function kr(){return window}function Bn(){return typeof kr().WorkerGlobalScope<"u"&&"function"==typeof kr().importScripts}function yi(){return(yi=(0,R.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hs="firebaseLocalStorageDb",vi="firebaseLocalStorage",Fo="fbase_key";class pl{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ku(E,p){return E.transaction([vi],p?"readwrite":"readonly").objectStore(vi)}function zc(){const E=indexedDB.open(hs,1);return new Promise((p,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(vi,{keyPath:Fo})}catch(N){m(N)}}),E.addEventListener("success",(0,R.A)(function*(){const T=E.result;T.objectStoreNames.contains(vi)?p(T):(T.close(),yield function Hc(){const E=indexedDB.deleteDatabase(hs);return new pl(E).toPromise()}(),p(yield zc()))}))})}function Wf(E,p,m){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,R.A)(function*(E,p,m){const T=Ku(E,!0).put({[Fo]:p,value:m});return new pl(T).toPromise()})).apply(this,arguments)}function ih(){return(ih=(0,R.A)(function*(E,p){const m=Ku(E,!1).get(p),T=yield new pl(m).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Kf(E,p){const m=Ku(E,!0).delete(p);return new pl(m).toPromise()}const Qf=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,R.A)(function*(){return m.db||(m.db=yield zc()),m.db})()}_withRetries(m){var T=this;return(0,R.A)(function*(){let N=0;for(;;)try{const G=yield T._openDb();return yield m(G)}catch(G){if(N++>3)throw G;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,R.A)(function*(){return Bn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,R.A)(function*(){m.receiver=_r._getInstance(function xa(){return Bn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var T=(0,R.A)(function*(N,G){return{keyProcessed:(yield m._poll()).includes(G.key)}});return function(N,G){return T.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var T=(0,R.A)(function*(N,G){return["keyChanged"]});return function(N,G){return T.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,R.A)(function*(){var T,N;if(m.activeServiceWorker=yield function Ms(){return yi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new di(m.activeServiceWorker);const G=yield m.sender._send("ping",{},800);G&&null!==(T=G[0])&&void 0!==T&&T.fulfilled&&null!==(N=G[0])&&void 0!==N&&N.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,R.A)(function*(){if(T.sender&&T.activeServiceWorker&&function Li(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.A)(function*(){try{if(!indexedDB)return!1;const m=yield zc();return yield Wf(m,mr,"1"),yield Kf(m,mr),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,R.A)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var N=this;return(0,R.A)(function*(){return N._withPendingWrite((0,R.A)(function*(){return yield N._withRetries(G=>Wf(G,m,T)),N.localCache[m]=T,N.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,R.A)(function*(){const N=yield T._withRetries(G=>function nv(E,p){return ih.apply(this,arguments)}(G,m));return T.localCache[m]=N,N})()}_remove(m){var T=this;return(0,R.A)(function*(){return T._withPendingWrite((0,R.A)(function*(){return yield T._withRetries(N=>Kf(N,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,R.A)(function*(){const T=yield m._withRetries(ne=>{const ye=Ku(ne,!1).getAll();return new pl(ye).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const N=[],G=new Set;if(0!==T.length)for(const{fbase_key:ne,value:ye}of T)G.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(ye)&&(m.notifyListeners(ne,ye),N.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!G.has(ne)&&(m.notifyListeners(ne,null),N.push(ne));return N})()}notifyListeners(m,T){this.localCache[m]=T;const N=this.listeners[m];if(N)for(const G of Array.from(N))G(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,R.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),gl=1e12;class sh{constructor(p){this.auth=p,this.counter=gl,this._widgets=new Map}render(p,m){const T=this.counter;return this._widgets.set(T,new sv(p,this.auth.name,m||{})),this.counter++,T}reset(p){var m;const T=p||gl;null===(m=this._widgets.get(T))||void 0===m||m.delete(),this._widgets.delete(T)}getResponse(p){var m;return(null===(m=this._widgets.get(p||gl))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,R.A)(function*(){var T;return null===(T=m._widgets.get(p||gl))||void 0===T||T.execute(),""})()}}class sv{constructor(p,m,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;Ee(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ov(E){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<E;T++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xf=qo("rcb"),av=new dr(3e4,6e4);class am{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=kr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Ee(function Yf(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Or(kr().grecaptcha)?Promise.resolve(kr().grecaptcha):new Promise((T,N)=>{const G=kr().setTimeout(()=>{N(He(p,"network-request-failed"))},av.get());kr()[Xf]=()=>{kr().clearTimeout(G),delete kr()[Xf];const ye=kr().grecaptcha;if(!ye||!Or(ye))return void N(He(p,"internal-error"));const ze=ye.render;ye.render=(Tt,Ot)=>{const Rn=ze(Tt,Ot);return this.counter++,Rn},this.hostLanguage=m,T(ye)},qa(`${function Yd(){return Zs.recaptchaV2Script}()}?${(0,U.Am)({onload:Xf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(G),N(He(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=kr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class I{load(p){return(0,R.A)(function*(){return new sh(p)})()}clearedOneInstance(){}}const A="recaptcha",b={theme:"light",type:"image"};class S{constructor(p,m,T=Object.assign({},b)){this.parameters=T,this.type=A,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jn(p),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof m?document.getElementById(m):m;Ee(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new I:new am,this.validateStartingState()}verify(){var p=this;return(0,R.A)(function*(){p.assertNotDestroyed();const m=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(m)||new Promise(G=>{const ne=ye=>{ye&&(p.tokenChangeListeners.delete(ne),G(ye))};p.tokenChangeListeners.add(ne),p.isInvisible&&T.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(T=>T(m)),"function"==typeof p)p(m);else if("string"==typeof p){const T=kr()[p];"function"==typeof T&&T(m)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,R.A)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const T=document.createElement("div");m.appendChild(T),m=T}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,R.A)(function*(){Ee(br()&&!Bn(),p.auth,"internal-error"),yield function O(){let E=null;return new Promise(p=>{"complete"!==document.readyState?(E=()=>p(),window.addEventListener("load",E)):p()}).catch(p=>{throw E&&window.removeEventListener("load",E),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ct(E){return Gr.apply(this,arguments)}(p.auth);Ee(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class j{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=$s._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Z(E,p,m){return _e.apply(this,arguments)}function _e(){return(_e=(0,R.A)(function*(E,p,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const T=Jn(E),N=yield ur(T,p,(0,U.Ku)(m));return new j(N,G=>so(T,G))})).apply(this,arguments)}function me(E,p,m){return at.apply(this,arguments)}function at(){return(at=(0,R.A)(function*(E,p,m){const T=(0,U.Ku)(E);yield ta(!1,T,"phone");const N=yield ur(T.auth,p,(0,U.Ku)(m));return new j(N,G=>kc(T,G))})).apply(this,arguments)}function ln(E,p,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,R.A)(function*(E,p,m){const T=(0,U.Ku)(E);if((0,u._isFirebaseServerApp)(T.auth.app))return Promise.reject(rt(T.auth));const N=yield ur(T.auth,p,(0,U.Ku)(m));return new j(N,G=>Lc(T,G))})).apply(this,arguments)}function ur(E,p,m){return sa.apply(this,arguments)}function sa(){return sa=(0,R.A)(function*(E,p,m){var T;const N=yield m.verify();try{let G;if(Ee("string"==typeof N,E,"argument-error"),Ee(m.type===A,E,"argument-error"),G="string"==typeof p?{phoneNumber:p}:p,"session"in G){const ne=G.session;if("phoneNumber"in G)return Ee("enroll"===ne.type,E,"internal-error"),(yield function co(E,p){return Pe(E,"POST","/v2/accounts/mfaEnrollment:start",Se(E,p))}(E,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{Ee("signin"===ne.type,E,"internal-error");const ye=(null===(T=G.multiFactorHint)||void 0===T?void 0:T.uid)||G.multiFactorUid;return Ee(ye,E,"missing-multi-factor-info"),(yield function nm(E,p){return Pe(E,"POST","/v2/accounts/mfaSignIn:start",Se(E,p))}(E,{mfaPendingCredential:ne.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield function eh(E,p){return ws.apply(this,arguments)}(E,{phoneNumber:G.phoneNumber,recaptchaToken:N});return ne}}finally{m._reset()}}),sa.apply(this,arguments)}function Wc(E,p){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,R.A)(function*(E,p){const m=(0,U.Ku)(E);if((0,u._isFirebaseServerApp)(m.auth.app))return Promise.reject(rt(m.auth));yield _i(m,p)})).apply(this,arguments)}let Kc=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=Jn(m)}verifyPhoneNumber(m,T){return ur(this.auth,m,(0,U.Ku)(T))}static credential(m,T){return $s._fromVerification(m,T)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:T,temporaryProof:N}=m;return T&&N?$s._fromTokenResponse(T,N):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Qt(E,p){return p?st(p):(Ee(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Sr extends Ni{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ts(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ts(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ts(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function lm(E){return ol(E.auth,new Sr(E),E.bypassAuthState)}function qc(E){const{auth:p,user:m}=E;return Ee(m,p,"internal-error"),Gs(m,new Sr(E),E.bypassAuthState)}function ml(E){return is.apply(this,arguments)}function is(){return(is=(0,R.A)(function*(E){const{auth:p,user:m}=E;return Ee(m,p,"internal-error"),_i(m,new Sr(E),E.bypassAuthState)})).apply(this,arguments)}class lv{constructor(p,m,T,N,G=!1){this.auth=p,this.resolver=T,this.user=N,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,R.A)(function*(T,N){p.pendingPromise={resolve:T,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(G){p.reject(G)}});return function(T,N){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,R.A)(function*(){const{urlResponse:T,sessionId:N,postBody:G,tenantId:ne,error:ye,type:ze}=p;if(ye)return void m.reject(ye);const Tt={auth:m.auth,requestUri:T,sessionId:N,tenantId:ne||void 0,postBody:G||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ze)(Tt))}catch(Ot){m.reject(Ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return lm;case"linkViaPopup":case"linkViaRedirect":return ml;case"reauthViaPopup":case"reauthViaRedirect":return qc;default:Qe(this.auth,"internal-error")}}resolve(p){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qu=new dr(2e3,1e4);function cv(E,p,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,R.A)(function*(E,p,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(He(E,"operation-not-supported-in-this-environment"));const T=Jn(E);lt(E,p,Ds);const N=Qt(T,m);return new ah(T,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function uv(E,p,m){return cm.apply(this,arguments)}function cm(){return(cm=(0,R.A)(function*(E,p,m){const T=(0,U.Ku)(E);if((0,u._isFirebaseServerApp)(T.auth.app))return Promise.reject(He(T.auth,"operation-not-supported-in-this-environment"));lt(T.auth,p,Ds);const N=Qt(T.auth,m);return new ah(T.auth,"reauthViaPopup",p,N,T).executeNotNull()})).apply(this,arguments)}function um(E,p,m){return oh.apply(this,arguments)}function oh(){return(oh=(0,R.A)(function*(E,p,m){const T=(0,U.Ku)(E);lt(T.auth,p,Ds);const N=Qt(T.auth,m);return new ah(T.auth,"linkViaPopup",p,N,T).executeNotNull()})).apply(this,arguments)}let ah=(()=>{class E extends lv{constructor(m,T,N,G,ne){super(m,T,G,ne),this.provider=N,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,R.A)(function*(){const T=yield m.execute();return Ee(T,m.auth,"internal-error"),T})()}onExecution(){var m=this;return(0,R.A)(function*(){Lt(1===m.filter.length,"Popup operations only handle one event");const T=Ps();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],T),m.authWindow.associatedEvent=T,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(He(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var T,N;this.pollId=null!==(N=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,qu.get())};m()}}return E.currentPopupAction=null,E})();const lh="pendingRedirect",ic=new Map;class dm extends lv{constructor(p,m,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,R.A)(function*(){let T=ic.get(m.auth._key());if(!T){try{const G=(yield function Qc(E,p){return Yt.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;T=()=>Promise.resolve(G)}catch(N){T=()=>Promise.reject(N)}ic.set(m.auth._key(),T)}return m.bypassAuthState||ic.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,T=this;return(0,R.A)(function*(){if("signInViaRedirect"===p.type)return m().call(T,p);if("unknown"!==p.type){if(p.eventId){const N=yield T.auth._redirectUserForId(p.eventId);if(N)return T.user=N,m().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,R.A)(function*(){})()}cleanUp(){}}function Yt(){return(Yt=(0,R.A)(function*(E,p){const m=hm(p),T=fv(E);if(!(yield T._isAvailable()))return!1;const N="true"===(yield T._get(m));return yield T._remove(m),N})).apply(this,arguments)}function Zf(E,p){return dv.apply(this,arguments)}function dv(){return(dv=(0,R.A)(function*(E,p){return fv(E)._set(hm(p),"true")})).apply(this,arguments)}function eb(){ic.clear()}function hv(E,p){ic.set(E._key(),p)}function fv(E){return st(E._redirectPersistence)}function hm(E){return Cn(lh,E.config.apiKey,E.name)}function Qu(E,p,m){return function tb(E,p,m){return fm.apply(this,arguments)}(E,p,m)}function fm(){return(fm=(0,R.A)(function*(E,p,m){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const T=Jn(E);lt(E,p,Ds),yield T._initializationPromise;const N=Qt(T,m);return yield Zf(N,T),N._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function nb(E,p,m){return function rb(E,p,m){return pm.apply(this,arguments)}(E,p,m)}function pm(){return(pm=(0,R.A)(function*(E,p,m){const T=(0,U.Ku)(E);if(lt(T.auth,p,Ds),(0,u._isFirebaseServerApp)(T.auth.app))return Promise.reject(rt(T.auth));yield T.auth._initializationPromise;const N=Qt(T.auth,m);yield Zf(N,T.auth);const G=yield oa(T);return N._openRedirect(T.auth,p,"reauthViaRedirect",G)})).apply(this,arguments)}function Le(E,p,m){return function Nn(E,p,m){return Jf.apply(this,arguments)}(E,p,m)}function Jf(){return(Jf=(0,R.A)(function*(E,p,m){const T=(0,U.Ku)(E);lt(T.auth,p,Ds),yield T.auth._initializationPromise;const N=Qt(T.auth,m);yield ta(!1,T,p.providerId),yield Zf(N,T.auth);const G=yield oa(T);return N._openRedirect(T.auth,p,"linkViaRedirect",G)})).apply(this,arguments)}function pv(E,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.A)(function*(E,p){return yield Jn(E)._initializationPromise,ep(E,p,!1)})).apply(this,arguments)}function ep(E,p){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,R.A)(function*(E,p,m=!1){if((0,u._isFirebaseServerApp)(E.app))return Promise.reject(rt(E));const T=Jn(E),N=Qt(T,p),ne=yield new dm(T,N,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield T._persistUserIfCurrent(ne.user),yield T._setRedirectUser(null,p)),ne})).apply(this,arguments)}function oa(E){return ch.apply(this,arguments)}function ch(){return(ch=(0,R.A)(function*(E){const p=Ps(`${E.uid}:::`);return E._redirectEventId=p,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),p})).apply(this,arguments)}class gv{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(m=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xs(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mm(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var T;if(p.error&&!mm(p)){const N=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(He(this.auth,N))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const T=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ib(p))}saveEventToCache(p){this.cachedEventUids.add(ib(p)),this.lastProcessedEventTime=Date.now()}}function ib(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function mm({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===p?.code}function Oa(E){return tp.apply(this,arguments)}function tp(){return(tp=(0,R.A)(function*(E,p={}){return Pe(E,"GET","/v1/projects",p)})).apply(this,arguments)}const aa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_l=/^https?/;function np(){return(np=(0,R.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield Oa(E);for(const m of p)try{if(ob(m))return}catch{}Qe(E,"unauthorized-domain")})).apply(this,arguments)}function ob(E){const p=Er(),{protocol:m,hostname:T}=new URL(p);if(E.startsWith("chrome-extension://")){const ne=new URL(E);return""===ne.hostname&&""===T?"chrome-extension:"===m&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===T}if(!_l.test(m))return!1;if(aa.test(E))return T===E;const N=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(T)}const ab=new dr(3e4,6e4);function rp(){const E=kr().___jsl;if(E?.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Xu=null;const lb=new dr(5e3,15e3),mv="__/auth/iframe",ym="emulator/auth/iframe",_v={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vv(E){const p=E.config;Ee(p.authDomain,E,"auth-domain-config-required");const m=p.emulator?ve(p,ym):`https://${E.config.authDomain}/${mv}`,T={apiKey:p.apiKey,appName:E.name,v:u.SDK_VERSION},N=yv.get(E.config.apiHost);N&&(T.eid=N);const G=E._getFrameworks();return G.length&&(T.fw=G.join(",")),`${m}?${(0,U.Am)(T).slice(1)}`}function uh(){return uh=(0,R.A)(function*(E){const p=yield function ip(E){return Xu=Xu||function _m(E){return new Promise((p,m)=>{var T,N,G;function ne(){rp(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{rp(),m(He(E,"network-request-failed"))},timeout:ab.get()})}if(null!==(N=null===(T=kr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==N&&N.Iframe)p(gapi.iframes.getContext());else{if(null===(G=kr().gapi)||void 0===G||!G.load){const ye=qo("iframefcb");return kr()[ye]=()=>{gapi.load?ne():m(He(E,"network-request-failed"))},qa(`${function Zd(){return Zs.gapiScript}()}?onload=${ye}`).catch(ze=>m(ze))}ne()}}).catch(p=>{throw Xu=null,p})}(E),Xu}(E),m=kr().gapi;return Ee(m,E,"internal-error"),p.open({where:document.body,url:vv(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_v,dontclear:!0},T=>new Promise(function(){var N=(0,R.A)(function*(G,ne){yield T.restyle({setHideOnLeave:!1});const ye=He(E,"network-request-failed"),ze=kr().setTimeout(()=>{ne(ye)},lb.get());function Tt(){kr().clearTimeout(ze),G(T)}T.ping(Tt).then(Tt,()=>{ne(ye)})});return function(G,ne){return N.apply(this,arguments)}}()))}),uh.apply(this,arguments)}const cb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mt="__/auth/handler",dh="emulator/auth/handler",Zt=encodeURIComponent("fac");function ps(E,p,m,T,N,G){return sc.apply(this,arguments)}function sc(){return(sc=(0,R.A)(function*(E,p,m,T,N,G){Ee(E.config.authDomain,E,"auth-domain-config-required"),Ee(E.config.apiKey,E,"invalid-api-key");const ne={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:T,v:u.SDK_VERSION,eventId:N};if(p instanceof Ds){p.setDefaultLanguage(E.languageCode),ne.providerId=p.providerId||"",(0,U.Im)(p.getCustomParameters())||(ne.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ot,Rn]of Object.entries(G||{}))ne[Ot]=Rn}if(p instanceof So){const Ot=p.getScopes().filter(Rn=>""!==Rn);Ot.length>0&&(ne.scopes=Ot.join(","))}E.tenantId&&(ne.tid=E.tenantId);const ye=ne;for(const Ot of Object.keys(ye))void 0===ye[Ot]&&delete ye[Ot];const ze=yield E._getAppCheckToken(),Tt=ze?`#${Zt}=${encodeURIComponent(ze)}`:"";return`${function hh({config:E}){return E.emulator?ve(E,dh):`https://${E.authDomain}/${mt}`}(E)}?${(0,U.Am)(ye).slice(1)}${Tt}`})).apply(this,arguments)}const yl="webStorageSupport",ph=class fh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ne,this._completeRedirectFn=ep,this._overrideRedirectResult=hv}_openPopup(p,m,T,N){var G=this;return(0,R.A)(function*(){var ne;Lt(null===(ne=G.eventManagers[p._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const ye=yield ps(p,m,T,Er(),N);return function bv(E,p,m,T=500,N=600){const G=Math.max((window.screen.availHeight-N)/2,0).toString(),ne=Math.max((window.screen.availWidth-T)/2,0).toString();let ye="";const ze=Object.assign(Object.assign({},cb),{width:T.toString(),height:N.toString(),top:G,left:ne}),Tt=(0,U.ZQ)().toLowerCase();m&&(ye=Ko(Tt)?"_blank":m),fn(Tt)&&(p=p||"http://localhost",ze.scrollbars="yes");const Ot=Object.entries(ze).reduce((Ai,[ka,La])=>`${Ai}${ka}=${La},`,"");if(function de(E=(0,U.ZQ)()){var p;return ys(E)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Tt)&&"_self"!==ye)return function Vo(E,p){const m=document.createElement("a");m.href=E,m.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(p||"",ye),new Ue(null);const Rn=window.open(p||"",ye,Ot);Ee(Rn,E,"popup-blocked");try{Rn.focus()}catch{}return new Ue(Rn)}(p,ye,Ps())})()}_openRedirect(p,m,T,N){var G=this;return(0,R.A)(function*(){return yield G._originValidation(p),function Ci(E){kr().location.href=E}(yield ps(p,m,T,Er(),N)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:N,promise:G}=this.eventManagers[m];return N?Promise.resolve(N):(Lt(G,"If manager is not set, promise should be"),G)}const T=this.initAndGetManager(p);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(p){var m=this;return(0,R.A)(function*(){const T=yield function Iv(E){return uh.apply(this,arguments)}(p),N=new gv(p);return T.register("authEvent",G=>(Ee(G?.authEvent,p,"invalid-auth-event"),{status:N.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:N},m.iframes[p._key()]=T,N})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(yl,{type:yl},N=>{var G;const ne=null===(G=N?.[0])||void 0===G?void 0:G[yl];void 0!==ne&&m(!!ne),Qe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function sb(E){return np.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return gt()||Jr()||ys()}};class sp{constructor(p){this.factorId=p}_process(p,m,T){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,T);case"signin":return this._finalizeSignIn(p,m.credential);default:return Xt("unexpected MultiFactorSessionType")}}}class Di extends sp{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Di(p)}_finalizeEnroll(p,m,T){return function gr(E,p){return Pe(E,"POST","/v2/accounts/mfaEnrollment:finalize",Se(E,p))}(p,{idToken:m,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function rm(E,p){return Pe(E,"POST","/v2/accounts/mfaSignIn:finalize",Se(E,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gh=(()=>{class E{constructor(){}static assertion(m){return Di._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var mh="@firebase/auth";class ss{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,R.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(T=>{p(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.XA)("authIdTokenMaxAge"),function zl(E){Zs=E}({loadJS:E=>new Promise((p,m)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=p,T.onerror=N=>{const G=He("internal-error");G.customData=N,m(G)},T.type="text/javascript",T.charset="UTF-8",function Na(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(T)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function _h(E){(0,u._registerComponent)(new Me.uA("auth",(p,{options:m})=>{const T=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),G=p.getProvider("app-check-internal"),{apiKey:ne,authDomain:ye}=T.options;Ee(ne&&!ne.includes(":"),"invalid-api-key",{appName:T.name});const ze={apiKey:ne,authDomain:ye,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gt(E)},Tt=new bo(T,N,G,ze);return function tr(E,p){const m=p?.persistence||[],T=(Array.isArray(m)?m:[m]).map(st);p?.errorMap&&E._updateErrorMap(p.errorMap),E._initializeWithPersistence(T,p?.popupRedirectResolver)}(Tt,m),Tt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,T)=>{p.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new Me.uA("auth-internal",p=>{const m=Jn(p.getProvider("auth").getImmediate());return new ss(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(mh,"1.7.2",function ub(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,u.registerVersion)(mh,"1.7.2","esm2017")}("Browser")},1076:(Rt,Fe,H)=>{H.d(Fe,{Am:()=>Bi,Bd:()=>Xt,FA:()=>Pe,Fy:()=>rt,I9:()=>es,Im:()=>Ur,Ku:()=>ie,Ll:()=>Ee,T9:()=>Qe,Uj:()=>je,XA:()=>He,ZQ:()=>lt,bD:()=>Gr,cY:()=>Je,eX:()=>we,g:()=>Se,gR:()=>Or,hp:()=>Pt,jZ:()=>vt,lT:()=>zr,lV:()=>Er,nr:()=>dr,sr:()=>Lt,tD:()=>Mt,u:()=>re,yU:()=>En,zW:()=>ve,zw:()=>Te});const ae=function(K){const q=[];let $=0;for(let z=0;z<K.length;z++){let B=K.charCodeAt(z);B<128?q[$++]=B:B<2048?(q[$++]=B>>6|192,q[$++]=63&B|128):55296==(64512&B)&&z+1<K.length&&56320==(64512&K.charCodeAt(z+1))?(B=65536+((1023&B)<<10)+(1023&K.charCodeAt(++z)),q[$++]=B>>18|240,q[$++]=B>>12&63|128,q[$++]=B>>6&63|128,q[$++]=63&B|128):(q[$++]=B>>12|224,q[$++]=B>>6&63|128,q[$++]=63&B|128)}return q},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,q){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let B=0;B<K.length;B+=3){const se=K[B],Oe=B+1<K.length,st=Oe?K[B+1]:0,jt=B+2<K.length,Bt=jt?K[B+2]:0;let ht=(15&st)<<2|Bt>>6,fn=63&Bt;jt||(fn=64,Oe||(ht=64)),z.push($[se>>2],$[(3&se)<<4|st>>4],$[ht],$[fn])}return z.join("")},encodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(K):this.encodeByteArray(ae(K),q)},decodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(K):function(K){const q=[];let $=0,z=0;for(;$<K.length;){const B=K[$++];if(B<128)q[z++]=String.fromCharCode(B);else if(B>191&&B<224){const se=K[$++];q[z++]=String.fromCharCode((31&B)<<6|63&se)}else if(B>239&&B<365){const jt=((7&B)<<18|(63&K[$++])<<12|(63&K[$++])<<6|63&K[$++])-65536;q[z++]=String.fromCharCode(55296+(jt>>10)),q[z++]=String.fromCharCode(56320+(1023&jt))}else{const se=K[$++],Oe=K[$++];q[z++]=String.fromCharCode((15&B)<<12|(63&se)<<6|63&Oe)}}return q.join("")}(this.decodeStringToByteArray(K,q))},decodeStringToByteArray(K,q){this.init_();const $=q?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let B=0;B<K.length;){const se=$[K.charAt(B++)],st=B<K.length?$[K.charAt(B)]:0;++B;const Bt=B<K.length?$[K.charAt(B)]:64;++B;const Dt=B<K.length?$[K.charAt(B)]:64;if(++B,null==se||null==st||null==Bt||null==Dt)throw new ce;z.push(se<<2|st>>4),64!==Bt&&(z.push(st<<4&240|Bt>>2),64!==Dt&&z.push(Bt<<6&192|Dt))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(K){return function(K){const q=ae(K);return Me.encodeByteArray(q,!0)}(K).replace(/\./g,"")},re=function(K){try{return Me.decodeString(K,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function Te(K,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return q}for(const $ in q)!q.hasOwnProperty($)||!Ze($)||(K[$]=Te(K[$],q[$]));return K}function Ze(K){return"__proto__"!==K}const bt=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=K&&re(K[1]);return q&&JSON.parse(q)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},En=K=>{const q=(K=>{var q,$;return null===($=null===(q=bt())||void 0===q?void 0:q.emulatorHosts)||void 0===$?void 0:$[K]})(K);if(!q)return;const $=q.lastIndexOf(":");if($<=0||$+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const z=parseInt(q.substring($+1),10);return"["===q[0]?[q.substring(1,$-1),z]:[q.substring(0,$),z]},Qe=()=>{var K;return null===(K=bt())||void 0===K?void 0:K.config},He=K=>{var q;return null===(q=bt())||void 0===q?void 0:q[`_${K}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,$)=>{this.resolve=q,this.reject=$})}wrapCallback(q){return($,z)=>{$?this.reject($):this.resolve(z),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q($):q($,z))}}}function rt(K,q){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=q||"demo-project",B=K.iat||0,se=K.sub||K.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:B,exp:B+3600,auth_time:B,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},K);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Oe)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Ee(){var K;const q=null===(K=bt())||void 0===K?void 0:K.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xt(){return"object"==typeof self&&self.self===self}function Lt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Er(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zr(){const K=lt();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function dr(){return!Ee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ve(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((K,q)=>{try{let $=!0;const z="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(z);B.onsuccess=()=>{B.result.close(),$||self.indexedDB.deleteDatabase(z),K(!0)},B.onupgradeneeded=()=>{$=!1},B.onerror=()=>{var se;q((null===(se=B.error)||void 0===se?void 0:se.message)||"")}}catch($){q($)}})}class Se extends Error{constructor(q,$,z){super($),this.code=q,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(q,$,z){this.service=q,this.serviceName=$,this.errors=z}create(q,...$){const z=$[0]||{},B=`${this.service}/${q}`,se=this.errors[q],Oe=se?function At(K,q){return K.replace(qt,($,z)=>{const B=q[z];return null!=B?String(B):`<${z}?>`})}(se,z):"Error";return new Se(B,`${this.serviceName}: ${Oe} (${B}).`,z)}}const qt=/\{\$([^}]+)}/g;function Or(K,q){return Object.prototype.hasOwnProperty.call(K,q)}function Ur(K){for(const q in K)if(Object.prototype.hasOwnProperty.call(K,q))return!1;return!0}function Gr(K,q){if(K===q)return!0;const $=Object.keys(K),z=Object.keys(q);for(const B of $){if(!z.includes(B))return!1;const se=K[B],Oe=q[B];if(rr(se)&&rr(Oe)){if(!Gr(se,Oe))return!1}else if(se!==Oe)return!1}for(const B of z)if(!$.includes(B))return!1;return!0}function rr(K){return null!==K&&"object"==typeof K}function Bi(K){const q=[];for(const[$,z]of Object.entries(K))Array.isArray(z)?z.forEach(B=>{q.push(encodeURIComponent($)+"="+encodeURIComponent(B))}):q.push(encodeURIComponent($)+"="+encodeURIComponent(z));return q.length?"&"+q.join("&"):""}function es(K){const q={};return K.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[B,se]=z.split("=");q[decodeURIComponent(B)]=decodeURIComponent(se)}}),q}function Pt(K){const q=K.indexOf("?");if(!q)return"";const $=K.indexOf("#",q);return K.substring(q,$>0?$:void 0)}function Mt(K,q){const $=new Xn(K,q);return $.subscribe.bind($)}class Xn{constructor(q,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{q(this)}).catch(z=>{this.error(z)})}next(q){this.forEachObserver($=>{$.next(q)})}error(q){this.forEachObserver($=>{$.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,$,z){let B;if(void 0===q&&void 0===$&&void 0===z)throw new Error("Missing Observer.");B=function Tr(K,q){if("object"!=typeof K||null===K)return!1;for(const $ of q)if($ in K&&"function"==typeof K[$])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:$,complete:z},void 0===B.next&&(B.next=Gn),void 0===B.error&&(B.error=Gn),void 0===B.complete&&(B.complete=Gn);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),se}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,q)}sendOne(q,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{$(this.observers[q])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}function ie(K){return K&&K._delegate?K._delegate:K}},1678:(Rt,Fe,H)=>{var R=H(345),u=H(4438),U=H(6315),ae=H(7852);(0,ae.registerVersion)("firebase","10.11.1","app");var ce=H(8359);class Ke extends ce.yU{constructor(e,t){super()}schedule(e,t=0){return this}}const je={setInterval(n,e,...t){const{delegate:i}=je;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=je;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var re=H(7908);class ee extends Ke{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,i=0){return je.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&je.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,i=!1;try{this.work(e)}catch(c){i=!0,o=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.o)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ze={now:()=>(Ze.delegate||Date).now(),delegate:void 0};class $e{constructor(e,t=$e.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}$e.now=Ze.now;class dt extends $e{constructor(e,t=$e.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Et=new class ot extends dt{}(class Te extends ee{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),un=new dt(ee),En=un;var Qe=H(1985),He=H(8141),Je=H(6745),rt=H(941);const lt=new u.RxE("ANGULARFIRE2_VERSION");const Xt=(n,e)=>{const t=e?[e]:(0,ae.getApps)(),i=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(h=>{i.includes(h)||i.push(h)})}),i};class Lt{constructor(){return Xt(Er)}}const Er="app-check";function br(){}class zr{zone;delegate;constructor(e,t=Et){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const o=this.zone;return this.delegate.schedule(function(h){o.runGuarded(()=>{e.apply(this,[h])})},t,i)}}class qn{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",br,{},br,br)),t.pipe((0,He.M)({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zr(Zone.current)),this.insideAngular=t.run(()=>new zr(Zone.current,un)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(u.KVO(u.SKi))};static \u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dr(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function we(n){return dr().ngZone.run(()=>n())}function Se(n){return function Pe(n){return function(t){return(t=t.lift(new qn(n.ngZone))).pipe((0,Je._)(n.outsideAngular),(0,rt.Q)(n.insideAngular))}}(dr())(n)}const At=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),we(()=>n.apply(void 0,i))},qt=(n,e)=>function(){let t;const i=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(t||=we(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",br,{},br,br))),i[c]=At(i[c],t));const o=function ve(n){return dr().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(o instanceof Qe.c){const c=dr();return o.pipe((0,Je._)(c.outsideAngular),(0,rt.Q)(c.insideAngular))}return we(()=>o)}return o instanceof Qe.c?o.pipe(Se):o instanceof Promise?we(()=>new Promise((c,h)=>o.then(g=>we(()=>c(g)),g=>we(()=>h(g))))):"function"==typeof o&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),o.apply(this,arguments)}:we(()=>o)};class hn{constructor(e){return e}}class Ct{constructor(){return(0,ae.getApps)()}}const vn=new u.nKC("angularfire2._apps"),xr={provide:hn,useFactory:function yn(n){return n&&1===n.length?n[0]:new hn((0,ae.getApp)())},deps:[[new u.Xx1,vn]]},ar={provide:Ct,deps:[[new u.Xx1,vn]]};function Or(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new hn(i)}}let Qn=(()=>{class n{constructor(t){(0,ae.registerVersion)("angularfire",lt.full,"core"),(0,ae.registerVersion)("angularfire",lt.full,"app"),(0,ae.registerVersion)("angular",u.xvI.full,t.toString())}static \u0275fac=function(i){return new(i||n)(u.KVO(u.Agw))};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({providers:[xr,ar]})}return n})();const pi=qt(ae.initializeApp,!0);var Ge=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ge||{});const Mt="*";function Xn(n,e){return{type:Ge.Trigger,name:n,definitions:e,options:{}}}function lr(n,e=null){return{type:Ge.Animate,styles:e,timings:n}}function Mn(n){return{type:Ge.Style,styles:n,offset:null}}function hr(n,e,t=null){return{type:Ge.Transition,expr:n,animation:e,options:t}}function xt(n,e=null){return{type:Ge.Reference,animation:n,options:e}}function Yn(n,e=null){return{type:Ge.AnimateRef,animation:n,options:e}}class q{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,o=0;const c=this.players.length;0==c?queueMicrotask(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==c&&this._onFinish()}),h.onDestroy(()=>{++i==c&&this._onDestroy()}),h.onStart(()=>{++o==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(o)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function se(n){return new u.wOt(3e3,!1)}function xi(n){switch(n.length){case 0:return new q;case 1:return n[0];default:return new $(n)}}function Ta(n,e,t=new Map,i=new Map){const o=[],c=[];let h=-1,g=null;if(e.forEach(v=>{const D=v.get("offset"),x=D==h,L=x&&g||new Map;v.forEach((Q,J)=>{let ue=J,fe=Q;if("offset"!==J)switch(ue=n.normalizePropertyName(ue,o),fe){case"!":fe=t.get(J);break;case Mt:fe=i.get(J);break;default:fe=n.normalizeStyleValue(J,ue,fe,o)}L.set(ue,fe)}),x||c.push(L),g=L,h=D}),o.length)throw function xn(n){return new u.wOt(3502,!1)}();return c}function Is(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Qa(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Qa(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Qa(t,"destroy",n)))}}function Qa(n,e,t){const c=Oi(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),h=n._data;return null!=h&&(c._data=h),c}function Oi(n,e,t,i,o="",c=0,h){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:o,totalTime:c,disabled:!!h}}function wr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Qo(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Wt=typeof document>"u"?null:document.documentElement;function pn(n){const e=n.parentNode||n.host||null;return e===Wt?null:e}let tr=null,Xo=!1;function on(n,e){for(;e;){if(e===n)return!0;e=pn(e)}return!1}function Ni(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Wr=(()=>{class n{validateStyleProperty(t){return function Es(n){tr||(tr=function To(){return typeof document<"u"?document.body:null}()||{},Xo=!!tr.style&&"WebkitAppearance"in tr.style);let e=!0;return tr.style&&!function An(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tr.style,!e&&Xo&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tr.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return on(t,i)}getParentElement(t){return pn(t)}query(t,i,o){return Ni(t,i,o)}computeStyle(t,i,o){return o||""}animate(t,i,o,c,h,g=[],v){return new q(o,c)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})();class Xa{static#e=this.NOOP=new Wr}class Ya{}const wo=1e3,Wl="ng-enter",Zo="ng-leave",Co="ng-trigger",Do=".ng-trigger",Js="ng-animating",eo=".ng-animating";function ei(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ja(parseFloat(e[1]),e[2])}function Ja(n,e){return"s"===e?n*wo:n}function Kr(n,e,t){return n.hasOwnProperty("duration")?n:function bs(n,e,t){let o,c=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(se()),{duration:0,delay:0,easing:""};o=Ja(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(c=Ja(parseFloat(v),g[4]));const D=g[5];D&&(h=D)}else o=n;if(!t){let g=!1,v=e.length;o<0&&(e.push(function Oe(){return new u.wOt(3100,!1)}()),g=!0),c<0&&(e.push(function st(){return new u.wOt(3101,!1)}()),g=!0),g&&e.splice(v,0,se())}return{duration:o,delay:c,easing:h}}(n,e,t)}function $i(n,e,t){e.forEach((i,o)=>{const c=gi(o);t&&!t.has(o)&&t.set(o,n.style[c]),n.style[c]=i})}function pr(n,e){e.forEach((t,i)=>{const o=gi(i);n.style[o]=""})}function us(n){return Array.isArray(n)?1==n.length?n[0]:function Gn(n,e=null){return{type:Ge.Sequence,steps:n,options:e}}(n):n}const no=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ts(n){let e=[];if("string"==typeof n){let t;for(;t=no.exec(n);)e.push(t[1]);no.lastIndex=0}return e}function ai(n,e,t){const i=`${n}`,o=i.replace(no,(c,h)=>{let g=e[h];return null==g&&(t.push(function Bt(n){return new u.wOt(3003,!1)}()),g=""),g.toString()});return o==i?n:o}const Kl=/-+([a-z0-9])/g;function gi(n){return n.replace(Kl,(...e)=>e[1].toUpperCase())}function Vn(n,e,t){switch(e.type){case Ge.Trigger:return n.visitTrigger(e,t);case Ge.State:return n.visitState(e,t);case Ge.Transition:return n.visitTransition(e,t);case Ge.Sequence:return n.visitSequence(e,t);case Ge.Group:return n.visitGroup(e,t);case Ge.Animate:return n.visitAnimate(e,t);case Ge.Keyframes:return n.visitKeyframes(e,t);case Ge.Style:return n.visitStyle(e,t);case Ge.Reference:return n.visitReference(e,t);case Ge.AnimateChild:return n.visitAnimateChild(e,t);case Ge.AnimateRef:return n.visitAnimateRef(e,t);case Ge.Query:return n.visitQuery(e,t);case Ge.Stagger:return n.visitStagger(e,t);default:throw function Cn(n){return new u.wOt(3004,!1)}()}}function Cs(n,e){return window.getComputedStyle(n)[e]}const Ca=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ao extends Ya{normalizePropertyName(e,t){return gi(e)}normalizeStyleValue(e,t,i,o){let c="";const h=i.toString().trim();if(Ca.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function Dt(n,e){return new u.wOt(3005,!1)}())}return h+c}}const Da="*";const li=new Set(["true","1"]),bn=new Set(["false","0"]);function io(n,e){const t=li.has(n)||bn.has(n),i=li.has(e)||bn.has(e);return(o,c)=>{let h=n==Da||n==o,g=e==Da||e==c;return!h&&t&&"boolean"==typeof o&&(h=o?li.has(n):bn.has(n)),!g&&i&&"boolean"==typeof c&&(g=c?li.has(e):bn.has(e)),h&&g}}const Oc=new RegExp("s*:selfs*,?","g");function As(n,e,t,i){return new Hs(n).build(e,t,i)}class Hs{constructor(e){this._driver=e}build(e,t,i){const o=new Aa(t);return this._resetContextStyleTimingState(o),Vn(this,us(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,o=t.depCount=0;const c=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push(function ht(){return new u.wOt(3006,!1)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),g.type==Ge.State){const v=g,D=v.name;D.toString().split(/\s*,\s*/).forEach(x=>{v.name=x,c.push(this.visitState(v,t))}),v.name=D}else if(g.type==Ge.Transition){const v=this.visitTransition(g,t);i+=v.queryCount,o+=v.depCount,h.push(v)}else t.errors.push(function fn(){return new u.wOt(3007,!1)}())}),{type:Ge.Trigger,name:e.name,states:c,transitions:h,queryCount:i,depCount:o,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(i.containsDynamicStyles){const c=new Set,h=o||{};i.styles.forEach(g=>{g instanceof Map&&g.forEach(v=>{Ts(v).forEach(D=>{h.hasOwnProperty(D)||c.add(D)})})}),c.size&&t.errors.push(function Jr(n,e){return new u.wOt(3008,!1)}(0,c.values()))}return{type:Ge.State,name:e.name,style:i,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Vn(this,us(e.animation),t),o=function Hi(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ds(n,e,t){if(":"==n[0]){const v=function So(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function zt(n){return new u.wOt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function gt(n){return new u.wOt(3015,!1)}()),e;const o=i[1],c=i[2],h=i[3];e.push(io(o,h)),"<"==c[0]&&(o!=Da||h!=Da)&&e.push(io(h,o))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Ge.Transition,matchers:o,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:qr(e.options)}}visitSequence(e,t){return{type:Ge.Sequence,steps:e.steps.map(i=>Vn(this,i,t)),options:qr(e.options)}}visitGroup(e,t){const i=t.currentTime;let o=0;const c=e.steps.map(h=>{t.currentTime=i;const g=Vn(this,h,t);return o=Math.max(o,t.currentTime),g});return t.currentTime=o,{type:Ge.Group,steps:c,options:qr(e.options)}}visitAnimate(e,t){const i=function rl(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ea(Kr(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=ea(0,0,"");return c.dynamic=!0,c.strValue=t,c}const o=Kr(t,e);return ea(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let o,c=e.styles?e.styles:Mn({});if(c.type==Ge.Keyframes)o=this.visitKeyframes(c,t);else{let h=e.styles,g=!1;if(!h){g=!0;const D={};i.easing&&(D.easing=i.easing),h=Mn(D)}t.currentTime+=i.duration+i.delay;const v=this.visitStyle(h,t);v.isEmptyStep=g,o=v}return t.currentAnimateTimings=null,{type:Ge.Animate,timings:i,style:o,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let g of o)"string"==typeof g?g===Mt?i.push(g):t.errors.push(new u.wOt(3002,!1)):i.push(new Map(Object.entries(g)));let c=!1,h=null;return i.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(h=g.get("easing"),g.delete("easing")),!c))for(let v of g.values())if(v.toString().indexOf("{{")>=0){c=!0;break}}),{type:Ge.Style,styles:i,easing:h,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let o=t.currentTime,c=t.currentTime;i&&c>0&&(c-=i.duration+i.delay),e.styles.forEach(h=>{"string"!=typeof h&&h.forEach((g,v)=>{const D=t.collectedStyles.get(t.currentQuerySelector),x=D.get(v);let L=!0;x&&(c!=o&&c>=x.startTime&&o<=x.endTime&&(t.errors.push(function Wa(n,e,t,i,o){return new u.wOt(3010,!1)}()),L=!1),c=x.startTime),L&&D.set(v,{startTime:c,endTime:o}),t.options&&function el(n,e,t){const i=e.params||{},o=Ts(n);o.length&&o.forEach(c=>{i.hasOwnProperty(c)||t.push(function jt(n){return new u.wOt(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Ge.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Dn(){return new u.wOt(3011,!1)}()),i;let c=0;const h=[];let g=!1,v=!1,D=0;const x=e.steps.map(tt=>{const pt=this._makeStyleAst(tt,t);let qe=null!=pt.offset?pt.offset:function zi(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(pt.styles),yt=0;return null!=qe&&(c++,yt=pt.offset=qe),v=v||yt<0||yt>1,g=g||yt<D,D=yt,h.push(yt),pt});v&&t.errors.push(function Ka(){return new u.wOt(3012,!1)}()),g&&t.errors.push(function ys(){return new u.wOt(3200,!1)}());const L=e.steps.length;let Q=0;c>0&&c<L?t.errors.push(function Ce(){return new u.wOt(3202,!1)}()):0==c&&(Q=1/(L-1));const J=L-1,ue=t.currentTime,fe=t.currentAnimateTimings,De=fe.duration;return x.forEach((tt,pt)=>{const qe=Q>0?pt==J?1:Q*pt:h[pt],yt=qe*De;t.currentTime=ue+fe.delay+yt,fe.duration=yt,this._validateStyleAst(tt,t),tt.offset=qe,i.styles.push(tt)}),i}visitReference(e,t){return{type:Ge.Reference,animation:Vn(this,us(e.animation),t),options:qr(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ge.AnimateChild,options:qr(e.options)}}visitAnimateRef(e,t){return{type:Ge.AnimateRef,animation:this.visitReference(e.animation,t),options:qr(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[c,h]=function Ro(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Oc,"")),n=n.replace(/@\*/g,Do).replace(/@\w+/g,t=>Do+"-"+t.slice(1)).replace(/:animating/g,eo),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+c:c,wr(t.collectedStyles,t.currentQuerySelector,new Map);const g=Vn(this,us(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Ge.Query,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:g,originalSelector:e.selector,options:qr(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function de(){return new u.wOt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Kr(e.timings,t.errors,!0);return{type:Ge.Stagger,animation:Vn(this,us(e.animation),t),timings:i,options:null}}}class Aa{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qr(n){return n?(n={...n}).params&&(n.params=function ju(n){return n?{...n}:null}(n.params)):n={},n}function ea(n,e,t){return{duration:n,delay:e,easing:t}}function ds(n,e,t,i,o,c,h=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:o,delay:c,totalTime:o+c,easing:h,subTimeline:g}}class il{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sl=new RegExp(":enter","g"),Ql=new RegExp(":leave","g");function ta(n,e,t,i,o,c=new Map,h=new Map,g,v,D=[]){return(new zs).buildKeyframes(n,e,t,i,o,c,h,g,v,D)}class zs{buildKeyframes(e,t,i,o,c,h,g,v,D,x=[]){D=D||new il;const L=new Un(e,t,D,o,c,x,[]);L.options=v;const Q=v.delay?ei(v.delay):0;L.currentTimeline.delayNextStep(Q),L.currentTimeline.setStyles([h],null,L.errors,v),Vn(this,i,L);const J=L.timelines.filter(ue=>ue.containsAnimation());if(J.length&&g.size){let ue;for(let fe=J.length-1;fe>=0;fe--){const De=J[fe];if(De.element===t){ue=De;break}}ue&&!ue.allowOnlyTimelineStyles()&&ue.setStyles([g],null,L.errors,v)}return J.length?J.map(ue=>ue.buildKeyframes()):[ds(t,[],[],[],0,Q,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const o=t.createSubContext(e.options),c=t.currentTimeline.currentTime,h=this._visitSubInstructions(i,o,o.options);c!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const o of e){const c=o?.delay;if(c){const h="number"==typeof c?c:ei(ai(c,o?.params??{},t.errors));i.delayNextStep(h)}}}_visitSubInstructions(e,t,i){let c=t.currentTimeline.currentTime;const h=null!=i.duration?ei(i.duration):null,g=null!=i.delay?ei(i.delay):null;return 0!==h&&e.forEach(v=>{const D=t.appendInstructionToTimeline(v,h,g);c=Math.max(c,D.duration+D.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Vn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let o=t;const c=e.options;if(c&&(c.params||c.delay)&&(o=t.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){o.previousNode.type==Ge.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Gs);const h=ei(c.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Vn(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let o=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?ei(e.options.delay):0;e.steps.forEach(h=>{const g=t.createSubContext(e.options);c&&g.delayNextStep(c),Vn(this,h,g),o=Math.max(o,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Kr(t.params?ai(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),o.snapshotCurrentStyles());const c=e.style;c.type==Ge.Keyframes?this.visitKeyframes(c,t):(t.incrementTime(i.duration),this.visitStyle(c,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,o=t.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const c=o&&o.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(c):i.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,o=t.currentTimeline.duration,c=i.duration,g=t.createSubContext().currentTimeline;g.easing=i.easing,e.styles.forEach(v=>{g.forwardTime((v.offset||0)*c),g.setStyles(v.styles,v.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(o+c),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,o=e.options||{},c=o.delay?ei(o.delay):0;c&&(t.previousNode.type===Ge.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gs);let h=i;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=g.length;let v=null;g.forEach((D,x)=>{t.currentQueryIndex=x;const L=t.createSubContext(e.options,D);c&&L.delayNextStep(c),D===t.element&&(v=L.currentTimeline),Vn(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,o=t.currentTimeline,c=e.timings,h=Math.abs(c.duration),g=h*(t.currentQueryTotal-1);let v=h*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=g-v;break;case"full":v=i.currentStaggerTime}const x=t.currentTimeline;v&&x.delayNextStep(v);const L=x.currentTime;Vn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=o.currentTime-L+(o.startTime-i.currentTimeline.startTime)}}const Gs={};class Un{constructor(e,t,i,o,c,h,g,v){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=c,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new ol(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let o=this.options;null!=i.duration&&(o.duration=ei(i.duration)),null!=i.delay&&(o.delay=ei(i.delay));const c=i.params;if(c){let h=o.params;h||(h=this.options.params={}),Object.keys(c).forEach(g=>{(!t||!h.hasOwnProperty(g))&&(h[g]=ai(c[g],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(o=>{i[o]=t[o]})}}return e}createSubContext(e=null,t,i){const o=t||this.element,c=new Un(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Gs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},c=new Po(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,o,c,h){let g=[];if(o&&g.push(this.element),e.length>0){e=(e=e.replace(sl,"."+this._enterClassName)).replace(Ql,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=i);0!==i&&(D=i<0?D.slice(D.length+i,D.length):D.slice(0,i)),g.push(...D)}return!c&&0==g.length&&h.push(function Ve(n){return new u.wOt(3014,!1)}()),g}}class ol{constructor(e,t,i,o){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ol(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Mt),this._currentKeyframe.set(t,Mt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,o){t&&this._previousKeyframe.set("easing",t);const c=o&&o.params||{},h=function Nc(n,e){const t=new Map;let i;return n.forEach(o=>{if("*"===o){i??=e.keys();for(let c of i)t.set(c,Mt)}else for(let[c,h]of o)t.set(c,h)}),t}(e,this._globalTimelineStyles);for(let[g,v]of h){const D=ai(v,c,i);this._pendingStyles.set(g,D),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Mt),this._updateStyle(g,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const o=this._styleSummary.get(i);(!o||t.time>o.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,v)=>{const D=new Map([...this._backFill,...g]);D.forEach((x,L)=>{"!"===x?e.add(L):x===Mt&&t.add(L)}),i||D.set("offset",v/this.duration),o.push(D)});const c=[...e.values()],h=[...t.values()];if(i){const g=o[0],v=new Map(g);g.set("offset",0),v.set("offset",1),o=[g,v]}return ds(this.element,o,c,h,this.duration,this.startTime,this.easing,!1)}}class Po extends ol{constructor(e,t,i,o,c,h,g=!1){super(e,t,h.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],h=i+t,g=t/h,v=new Map(e[0]);v.set("offset",0),c.push(v);const D=new Map(e[0]);D.set("offset",so(g)),c.push(D);const x=e.length-1;for(let L=1;L<=x;L++){let Q=new Map(e[L]);const J=Q.get("offset");Q.set("offset",so((t+J*i)/h)),c.push(Q)}i=h,t=0,o="",e=c}return ds(this.element,e,this.preStyleProps,this.postStyleProps,i,t,o,!0)}}function so(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function kc(n,e,t,i,o,c,h,g,v,D,x,L,Q){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:c,toState:i,toStyles:h,timelines:g,queriedElements:v,preStyleProps:D,postStyleProps:x,totalTime:L,errors:Q}}const Sa={};class Lc{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,o){return function Vc(n,e,t,i,o){return n.some(c=>c(e,t,i,o))}(this.ast.matchers,e,t,i,o)}buildStyles(e,t,i){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,i):new Map}build(e,t,i,o,c,h,g,v,D,x){const L=[],Q=this.ast.options&&this.ast.options.params||Sa,ue=this.buildStyles(i,g&&g.params||Sa,L),fe=v&&v.params||Sa,De=this.buildStyles(o,fe,L),tt=new Set,pt=new Map,qe=new Map,yt="void"===o,tn={params:Ra(fe,Q),delay:this.ast.options?.delay},cn=x?[]:ta(e,t,this.ast.animation,c,h,ue,De,tn,D,L);let Pn=0;return cn.forEach(Mr=>{Pn=Math.max(Mr.duration+Mr.delay,Pn)}),L.length?kc(t,this._triggerName,i,o,yt,ue,De,[],[],pt,qe,Pn,L):(cn.forEach(Mr=>{const Qd=Mr.element,Xd=wr(pt,Qd,new Set);Mr.preStyleProps.forEach(em=>Xd.add(em));const nN=wr(qe,Qd,new Set);Mr.postStyleProps.forEach(em=>nN.add(em)),Qd!==t&&tt.add(Qd)}),kc(t,this._triggerName,i,o,yt,ue,De,cn,[...tt.values()],pt,qe,Pn))}}function Ra(n,e){const t={...e};return Object.entries(n).forEach(([i,o])=>{null!=o&&(t[i]=o)}),t}class al{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,o=Ra(e,this.defaultParams);return this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,g)=>{h&&(h=ai(h,o,t));const v=this.normalizer.normalizePropertyName(g,t);h=this.normalizer.normalizeStyleValue(g,v,h,t),i.set(g,h)})}),i}}class nn{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new al(o.style,o.options&&o.options.params||{},i))}),Cr(this.states,"true","1"),Cr(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Lc(e,o,this.states))}),this.fallbackTransition=function Nr(n,e,t){return new Lc(n,{type:Ge.Transition,animation:{type:Ge.Sequence,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,o){return this.transitionFactories.find(h=>h.match(e,t,i,o))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Cr(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const wi=new il;class ci{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],c=As(this._driver,t,i,[]);if(i.length)throw function $t(n){return new u.wOt(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,i){const o=e.element,c=Ta(this._normalizer,e.keyframes,t,i);return this._driver.animate(o,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const o=[],c=this._animations.get(e);let h;const g=new Map;if(c?(h=ta(this._driver,t,c,Wl,Zo,new Map,new Map,i,wi,o),h.forEach(x=>{const L=wr(g,x.element,new Map);x.postStyleProps.forEach(Q=>L.set(Q,null))})):(o.push(function vs(){return new u.wOt(3300,!1)}()),h=[]),o.length)throw function bo(n){return new u.wOt(3504,!1)}();g.forEach((x,L)=>{x.forEach((Q,J)=>{x.set(J,this._driver.computeStyle(L,J,Mt))})});const D=xi(h.map(x=>{const L=g.get(x.element);return this._buildPlayer(x,new Map,L)}));return this._playersById.set(e,D),D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Jn(n){return new u.wOt(3301,!1)}();return t}listen(e,t,i,o){const c=Oi(t,"","","");return Is(this._getPlayer(e),i,c,o),()=>{}}command(e,t,i,o){if("register"==i)return void this.register(e,o[0]);if("create"==i)return void this.create(e,t,o[0]||{});const c=this._getPlayer(e);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const ll="ng-animate-queued",Ws="ng-animate-disabled",Mo=[],oo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed";class Zl{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Uc(n){return n??null}(i?e.value:e),i){const{value:c,...h}=e;this.options=h}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(o=>{null==i[o]&&(i[o]=t[o])})}}}const na="void",ul=new Zl(na);class dl{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dr(t,this._hostClassName)}listen(e,t,i,o){if(!this._triggers.has(t))throw function js(n,e){return new u.wOt(3302,!1)}();if(null==i||0==i.length)throw function Zs(n){return new u.wOt(3303,!1)}();if(!function Jl(n){return"start"==n||"done"==n}(i))throw function zl(n,e){return new u.wOt(3400,!1)}();const c=wr(this._elementListeners,e,[]),h={name:t,phase:i,callback:o};c.push(h);const g=wr(this._engine.statesByElement,e,new Map);return g.has(t)||(Dr(e,Co),Dr(e,Co+"-"+t),g.set(t,ul)),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(h);v>=0&&c.splice(v,1),this._triggers.has(t)||g.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function qa(n){return new u.wOt(3401,!1)}();return t}trigger(e,t,i,o=!0){const c=this._getTrigger(t),h=new xo(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Dr(e,Co),Dr(e,Co+"-"+t),this._engine.statesByElement.set(e,g=new Map));let v=g.get(t);const D=new Zl(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),g.set(t,D),v||(v=ul),D.value!==na&&v.value===D.value){if(!function tc(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){const c=t[o];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(v.params,D.params)){const fe=[],De=c.matchStyles(v.value,v.params,fe),tt=c.matchStyles(D.value,D.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{pr(e,De),$i(e,tt)})}return}const Q=wr(this._engine.playersByElement,e,[]);Q.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==t&&fe.queued&&fe.destroy()});let J=c.matchTransition(v.value,D.value,e,D.params),ue=!1;if(!J){if(!o)return;J=c.fallbackTransition,ue=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:J,fromState:v,toState:D,player:h,isFallbackTransition:ue}),ue||(Dr(e,ll),h.onStart(()=>{rs(e,ll)})),h.onDone(()=>{let fe=this.players.indexOf(h);fe>=0&&this.players.splice(fe,1);const De=this._engine.playersByElement.get(e);if(De){let tt=De.indexOf(h);tt>=0&&De.splice(tt,1)}}),this.players.push(h),Q.push(h),h}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Do,!0);i.forEach(o=>{if(o[ns])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,o){const c=this._engine.statesByElement.get(e),h=new Map;if(c){const g=[];if(c.forEach((v,D)=>{if(h.set(D,v.value),this._triggers.has(D)){const x=this.trigger(e,D,na,o);x&&g.push(x)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,h),i&&xi(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const o=new Set;t.forEach(c=>{const h=c.name;if(o.has(h))return;o.add(h);const v=this._triggers.get(h).fallbackTransition,D=i.get(h)||ul,x=new Zl(na),L=new xo(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:v,fromState:D,toState:x,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(e):[];if(c&&c.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(i.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{const c=e[ns];(!c||c===oo)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Dr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const c=i.element,h=this._elementListeners.get(c);h&&h.forEach(g=>{if(g.name==i.triggerName){const v=Oi(c,i.triggerName,i.fromState.value,i.toState.value);v._data=e,Is(i.player,g.phase,v,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(i)}),this._queue=[],t.sort((i,o)=>{const c=i.transition.ast.depCount,h=o.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class $u{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,o){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new dl(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let h=!1,g=this.driver.getParentElement(t);for(;g;){const v=o.get(g);if(v){const D=i.indexOf(v);i.splice(D+1,0,e),h=!0;break}g=this.driver.getParentElement(g)}h||i.unshift(e)}else i.push(e);return o.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let o=this._namespaceLookup[e];o&&o.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let o of i.values())if(o.namespaceId){const c=this._fetchNamespace(o.namespaceId);c&&t.add(c)}return t}trigger(e,t,i,o){if(ao(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,i,o),!0}return!1}insertNode(e,t,i,o){if(!ao(t))return;const c=t[ns];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,i)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dr(e,Ws)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rs(e,Ws))}removeNode(e,t,i){if(ao(t)){this.scheduler?.notify();const o=e?this._fetchNamespace(e):null;o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,o,c){this.collectedLeaveElements.push(t),t[ns]={namespaceId:e,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,i,o,c){return ao(t)?this._fetchNamespace(e).listen(t,i,o,c):()=>{}}_buildInstruction(e,t,i,o,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,o,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,Do,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,eo,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ns];if(t&&t.setForRemoval){if(e[ns]=oo,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ws)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Dr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?xi(t).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(e){throw function Yd(n){return new u.wOt(3402,!1)}()}_flushAnimations(e,t){const i=new il,o=[],c=new Map,h=[],g=new Map,v=new Map,D=new Map,x=new Set;this.disabledNodes.forEach(Vt=>{x.add(Vt);const en=this.driver.query(Vt,".ng-animate-queued",!0);for(let dn=0;dn<en.length;dn++)x.add(en[dn])});const L=this.bodyNode,Q=Array.from(this.statesByElement.keys()),J=Rs(Q,this.collectedEnterElements),ue=new Map;let fe=0;J.forEach((Vt,en)=>{const dn=Wl+fe++;ue.set(en,dn),Vt.forEach(or=>Dr(or,dn))});const De=[],tt=new Set,pt=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const en=this.collectedLeaveElements[Vt],dn=en[ns];dn&&dn.setForRemoval&&(De.push(en),tt.add(en),dn.hasAnimation?this.driver.query(en,".ng-star-inserted",!0).forEach(or=>tt.add(or)):pt.add(en))}const qe=new Map,yt=Rs(Q,Array.from(tt));yt.forEach((Vt,en)=>{const dn=Zo+fe++;qe.set(en,dn),Vt.forEach(or=>Dr(or,dn))}),e.push(()=>{J.forEach((Vt,en)=>{const dn=ue.get(en);Vt.forEach(or=>rs(or,dn))}),yt.forEach((Vt,en)=>{const dn=qe.get(en);Vt.forEach(or=>rs(or,dn))}),De.forEach(Vt=>{this.processLeaveNode(Vt)})});const tn=[],cn=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(t).forEach(dn=>{const or=dn.player,Bs=dn.element;if(tn.push(or),this.collectedEnterElements.length){const Eo=Bs[ns];if(Eo&&Eo.setForMove){if(Eo.previousTriggersValues&&Eo.previousTriggersValues.has(dn.triggerName)){const tm=Eo.previousTriggersValues.get(dn.triggerName),$l=this.statesByElement.get(dn.element);if($l&&$l.has(dn.triggerName)){const JD=$l.get(dn.triggerName);JD.value=tm,$l.set(dn.triggerName,JD)}}return void or.destroy()}}const Bu=!L||!this.driver.containsElement(L,Bs),Ga=qe.get(Bs),Gf=ue.get(Bs),Si=this._buildInstruction(dn,i,Gf,Ga,Bu);if(Si.errors&&Si.errors.length)return void cn.push(Si);if(Bu)return or.onStart(()=>pr(Bs,Si.fromStyles)),or.onDestroy(()=>$i(Bs,Si.toStyles)),void o.push(or);if(dn.isFallbackTransition)return or.onStart(()=>pr(Bs,Si.fromStyles)),or.onDestroy(()=>$i(Bs,Si.toStyles)),void o.push(or);const sN=[];Si.timelines.forEach(Eo=>{Eo.stretchStartingKeyframe=!0,this.disabledNodes.has(Eo.element)||sN.push(Eo)}),Si.timelines=sN,i.append(Bs,Si.timelines),h.push({instruction:Si,player:or,element:Bs}),Si.queriedElements.forEach(Eo=>wr(g,Eo,[]).push(or)),Si.preStyleProps.forEach((Eo,tm)=>{if(Eo.size){let $l=v.get(tm);$l||v.set(tm,$l=new Set),Eo.forEach((JD,lM)=>$l.add(lM))}}),Si.postStyleProps.forEach((Eo,tm)=>{let $l=D.get(tm);$l||D.set(tm,$l=new Set),Eo.forEach((JD,lM)=>$l.add(lM))})});if(cn.length){const Vt=[];cn.forEach(en=>{Vt.push(function Zd(n,e){return new u.wOt(3505,!1)}())}),tn.forEach(en=>en.destroy()),this.reportError(Vt)}const Pn=new Map,Mr=new Map;h.forEach(Vt=>{const en=Vt.element;i.has(en)&&(Mr.set(en,en),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,Pn))}),o.forEach(Vt=>{const en=Vt.element;this._getPreviousPlayers(en,!1,Vt.namespaceId,Vt.triggerName,null).forEach(or=>{wr(Pn,en,[]).push(or),or.destroy()})});const Qd=De.filter(Vt=>ra(Vt,v,D)),Xd=new Map;ec(Xd,this.driver,pt,D,Mt).forEach(Vt=>{ra(Vt,v,D)&&Qd.push(Vt)});const em=new Map;J.forEach((Vt,en)=>{ec(em,this.driver,new Set(Vt),v,"!")}),Qd.forEach(Vt=>{const en=Xd.get(Vt),dn=em.get(Vt);Xd.set(Vt,new Map([...en?.entries()??[],...dn?.entries()??[]]))});const aM=[],rN=[],iN={};h.forEach(Vt=>{const{element:en,player:dn,instruction:or}=Vt;if(i.has(en)){if(x.has(en))return dn.onDestroy(()=>$i(en,or.toStyles)),dn.disabled=!0,dn.overrideTotalTime(or.totalTime),void o.push(dn);let Bs=iN;if(Mr.size>1){let Ga=en;const Gf=[];for(;Ga=Ga.parentNode;){const Si=Mr.get(Ga);if(Si){Bs=Si;break}Gf.push(Ga)}Gf.forEach(Si=>Mr.set(Si,Bs))}const Bu=this._buildAnimation(dn.namespaceId,or,Pn,c,em,Xd);if(dn.setRealPlayer(Bu),Bs===iN)aM.push(dn);else{const Ga=this.playersByElement.get(Bs);Ga&&Ga.length&&(dn.parentPlayer=xi(Ga)),o.push(dn)}}else pr(en,or.fromStyles),dn.onDestroy(()=>$i(en,or.toStyles)),rN.push(dn),x.has(en)&&o.push(dn)}),rN.forEach(Vt=>{const en=c.get(Vt.element);if(en&&en.length){const dn=xi(en);Vt.setRealPlayer(dn)}}),o.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<De.length;Vt++){const en=De[Vt],dn=en[ns];if(rs(en,Zo),dn&&dn.hasAnimation)continue;let or=[];if(g.size){let Bu=g.get(en);Bu&&Bu.length&&or.push(...Bu);let Ga=this.driver.query(en,eo,!0);for(let Gf=0;Gf<Ga.length;Gf++){let Si=g.get(Ga[Gf]);Si&&Si.length&&or.push(...Si)}}const Bs=or.filter(Bu=>!Bu.destroyed);Bs.length?Bc(this,en,Bs):this.processLeaveNode(en)}return De.length=0,aM.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const en=this.players.indexOf(Vt);this.players.splice(en,1)}),Vt.play()}),aM}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,o,c){let h=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(h=g)}else{const g=this.playersByElement.get(e);if(g){const v=!c||c==na;g.forEach(D=>{D.queued||!v&&D.triggerName!=o||h.push(D)})}}return(i||o)&&(h=h.filter(g=>!(i&&i!=g.namespaceId||o&&o!=g.triggerName))),h}_beforeAnimationBuild(e,t,i){const c=t.element,h=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const D=v.element,x=D!==c,L=wr(i,D,[]);this._getPreviousPlayers(D,x,h,g,t.toState).forEach(J=>{const ue=J.getRealPlayer();ue.beforeDestroy&&ue.beforeDestroy(),J.destroy(),L.push(J)})}pr(c,t.fromStyles)}_buildAnimation(e,t,i,o,c,h){const g=t.triggerName,v=t.element,D=[],x=new Set,L=new Set,Q=t.timelines.map(ue=>{const fe=ue.element;x.add(fe);const De=fe[ns];if(De&&De.removedBeforeQueried)return new q(ue.duration,ue.delay);const tt=fe!==v,pt=function jc(n){const e=[];return Hu(n,e),e}((i.get(fe)||Mo).map(Pn=>Pn.getRealPlayer())).filter(Pn=>!!Pn.element&&Pn.element===fe),qe=c.get(fe),yt=h.get(fe),tn=Ta(this._normalizer,ue.keyframes,qe,yt),cn=this._buildPlayer(ue,tn,pt);if(ue.subTimeline&&o&&L.add(fe),tt){const Pn=new xo(e,g,fe);Pn.setRealPlayer(cn),D.push(Pn)}return cn});D.forEach(ue=>{wr(this.playersByQueriedElement,ue.element,[]).push(ue),ue.onDone(()=>function Oo(n,e,t){let i=n.get(e);if(i){if(i.length){const o=i.indexOf(t);i.splice(o,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ue.element,ue))}),x.forEach(ue=>Dr(ue,Js));const J=xi(Q);return J.onDestroy(()=>{x.forEach(ue=>rs(ue,Js)),$i(v,t.toStyles)}),L.forEach(ue=>{wr(o,ue,[]).push(J)}),J}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new q(e.duration,e.delay)}}class xo{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new q,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(o=>Is(e,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){wr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ao(n){return n&&1===n.nodeType}function hl(n,e){const t=n.style.display;return n.style.display=e??"none",t}function ec(n,e,t,i,o){const c=[];t.forEach(v=>c.push(hl(v)));const h=[];i.forEach((v,D)=>{const x=new Map;v.forEach(L=>{const Q=e.computeStyle(D,L,o);x.set(L,Q),(!Q||0==Q.length)&&(D[ns]=Ks,h.push(D))}),n.set(D,x)});let g=0;return t.forEach(v=>hl(v,c[g++])),h}function Rs(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const o=new Set(e),c=new Map;function h(g){if(!g)return 1;let v=c.get(g);if(v)return v;const D=g.parentNode;return v=t.has(D)?D:o.has(D)?1:h(D),c.set(g,v),v}return e.forEach(g=>{const v=h(g);1!==v&&t.get(v).push(g)}),t}function Dr(n,e){n.classList?.add(e)}function rs(n,e){n.classList?.remove(e)}function Bc(n,e,t){xi(t).onDone(()=>n.processLeaveNode(e))}function Hu(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof $?Hu(i.players,e):e.push(i)}}function ra(n,e,t){const i=t.get(n);if(!i)return!1;let o=e.get(n);return o?i.forEach(c=>o.add(c)):e.set(n,i),t.delete(n),!0}class ia{constructor(e,t,i,o){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new $u(e.body,t,i,o),this._timelineEngine=new ci(e.body,t,i),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(e,t,i,o,c){const h=e+"-"+o;let g=this._triggerCache[h];if(!g){const v=[],x=As(this._driver,c,v,[]);if(v.length)throw function Zn(n,e){return new u.wOt(3404,!1)}();g=function Ss(n,e,t){return new nn(n,e,t)}(o,x,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(t,o,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,o){this._transitionEngine.insertNode(e,t,i,o)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,o){if("@"==i.charAt(0)){const[c,h]=Qo(i);this._timelineEngine.command(c,t,h,o)}else this._transitionEngine.trigger(e,t,i,o)}listen(e,t,i,o,c){if("@"==i.charAt(0)){const[h,g]=Qo(i);return this._timelineEngine.listen(h,t,g,c)}return this._transitionEngine.listen(e,t,i,o,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class nc{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let o=nc.initialStylesByElement.get(e);o||nc.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&$i(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($i(this._element,this._initialStyles),this._endStyles&&($i(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(nc.initialStylesByElement.delete(this._element),this._startStyles&&(pr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pr(this._element,this._endStyles),this._endStyles=null),$i(this._element,this._initialStyles),this._state=3)}}function Pa(n){let e=null;return n.forEach((t,i)=>{(function lo(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class $c{constructor(e,t,i,o){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&e.set(o,this._finished?i:Cs(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class qs{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return on(e,t)}getParentElement(e){return pn(e)}query(e,t,i){return Ni(e,t,i)}computeStyle(e,t,i){return Cs(e,t)}animate(e,t,i,o,c,h=[]){const v={duration:i,delay:o,fill:0==o?"both":"forwards"};c&&(v.easing=c);const D=new Map,x=h.filter(J=>J instanceof $c);(function ws(n,e){return 0===n||0===e})(i,o)&&x.forEach(J=>{J.currentSnapshot.forEach((ue,fe)=>D.set(fe,ue))});let L=function Kt(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(J=>new Map(J));L=function Mc(n,e,t){if(t.size&&e.length){let i=e[0],o=[];if(t.forEach((c,h)=>{i.has(h)||o.push(h),i.set(h,c)}),o.length)for(let c=1;c<e.length;c++){let h=e[c];o.forEach(g=>h.set(g,Cs(n,g)))}}return e}(e,L,D);const Q=function zu(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Pa(e[0]),e.length>1&&(i=Pa(e[e.length-1]))):e instanceof Map&&(t=Pa(e)),t||i?new nc(n,t,i):null}(e,L);return new $c(e,L,v,Q)}}const P="@",k="@.disabled";class Y{constructor(e,t,i,o){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=o,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,o=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==P&&t==k?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ie extends Y{constructor(e,t,i,o,c){super(t,i,o,c),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==P?"."==t.charAt(1)&&t==k?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==P){const o=function Be(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),h="";return c.charAt(0)!=P&&([c,h]=function It(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,o,c,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(e,t,i)}}class jn{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(e,t){const o=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const D=this._rendererCache;let x=D.get(o);return x||(x=new Y("",o,this.engine,()=>D.delete(o)),D.set(o,x)),x}const c=t.id,h=t.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=D=>{Array.isArray(D)?D.forEach(g):this.engine.registerTrigger(c,h,e,D.name,D)};return t.data.animation.forEach(g),new Ie(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const o=this._animationCallbacksBuffer;0==o.length&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(c=>{const[h,g]=c;h(g)}),this._animationCallbacksBuffer=[]})}),o.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var nt=H(177);let er=(()=>{class n extends ia{constructor(t,i,o){super(t,i,o,(0,u.WQX)(u.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(u.KVO(nt.qQ),u.KVO(Xa),u.KVO(Ya))};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})();const On=[{provide:Ya,useFactory:function In(){return new Ao}},{provide:ia,useClass:er},{provide:u._9s,useFactory:function Ar(n,e,t){return new jn(n,e,t)},deps:[R.B7,ia,u.SKi]}],Br=[{provide:Xa,useFactory:()=>new qs},{provide:u.bc$,useValue:"BrowserAnimations"},...On];var Hn=H(1413);const Qr=["*"];let cr=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Xr=(()=>{class n{ripple=!1;inputStyle=(0,u.vPA)("outlined");overlayOptions={};csp=(0,u.vPA)({nonce:void 0});filterMatchModeOptions={text:[cr.STARTS_WITH,cr.CONTAINS,cr.NOT_CONTAINS,cr.ENDS_WITH,cr.EQUALS,cr.NOT_EQUALS],numeric:[cr.EQUALS,cr.NOT_EQUALS,cr.LESS_THAN,cr.LESS_THAN_OR_EQUAL_TO,cr.GREATER_THAN,cr.GREATER_THAN_OR_EQUAL_TO],date:[cr.DATE_IS,cr.DATE_IS_NOT,cr.DATE_BEFORE,cr.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Hn.B;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=u.VBU({type:n,selectors:[["p-header"]],standalone:!0,features:[u.aNF],ngContentSelectors:Qr,decls:1,vars:0,template:function(i,o){1&i&&(u.NAR(),u.SdG(0))},encapsulation:2})}return n})(),No=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=u.VBU({type:n,selectors:[["p-footer"]],standalone:!0,features:[u.aNF],ngContentSelectors:Qr,decls:1,vars:0,template:function(i,o){1&i&&(u.NAR(),u.SdG(0))},encapsulation:2})}return n})(),ki=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(u.rXU(u.C4Q))};static \u0275dir=u.FsC({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[u.Mj6.None,"pTemplate","name"]},standalone:!0})}return n})(),uo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({})}return n})(),ko=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})(),Ne=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let o=i.trim().split(" ");for(let c=0;c<o.length;c++)t.classList.add(o[c])}else{let o=i.split(" ");for(let c=0;c<o.length;c++)t.className+=" "+o[c]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(o=>o.split(" ").forEach(c=>this.removeClass(t,c)))}static hasClass(t,i){return!(!t||!i)&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,o=0;for(var c=0;c<i.length;c++){if(i[c]==t)return o;1==i[c].nodeType&&o++}return-1}static indexWithinGroup(t,i){let o=t.parentNode?t.parentNode.childNodes:[],c=0;for(var h=0;h<o.length;h++){if(o[h]==t)return c;o[h].attributes&&o[h].attributes[i]&&1==o[h].nodeType&&c++}return-1}static appendOverlay(t,i,o="self"){"self"!==o&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,o="self",c=!0){t&&i&&(c&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===o?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,o=!0){const c=pt=>{if(pt)return"relative"===getComputedStyle(pt).getPropertyValue("position")?pt:c(pt.parentElement)},h=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),g=i.offsetHeight??i.getBoundingClientRect().height,v=i.getBoundingClientRect(),D=this.getWindowScrollTop(),x=this.getWindowScrollLeft(),L=this.getViewport(),J=c(t)?.getBoundingClientRect()||{top:-1*D,left:-1*x};let ue,fe;v.top+g+h.height>L.height?(ue=v.top-J.top-h.height,t.style.transformOrigin="bottom",v.top+ue<0&&(ue=-1*v.top)):(ue=g+v.top-J.top,t.style.transformOrigin="top");const De=v.left+h.width-L.width;fe=h.width>L.width?-1*(v.left-J.left):De>0?v.left-J.left-De:v.left-J.left,t.style.top=ue+"px",t.style.left=fe+"px",o&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,o=!0){const c=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),h=c.height,g=c.width,v=i.offsetHeight??i.getBoundingClientRect().height,D=i.offsetWidth??i.getBoundingClientRect().width,x=i.getBoundingClientRect(),L=this.getWindowScrollTop(),Q=this.getWindowScrollLeft(),J=this.getViewport();let ue,fe;x.top+v+h>J.height?(ue=x.top+L-h,t.style.transformOrigin="bottom",ue<0&&(ue=L)):(ue=v+x.top+L,t.style.transformOrigin="top"),fe=x.left+g>J.width?Math.max(0,x.left+Q+D-g):x.left+Q,t.style.top=ue+"px",t.style.left=fe+"px",o&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let o=this.getParents(t);const c=/(auto|scroll)/,h=g=>{let v=window.getComputedStyle(g,null);return c.test(v.getPropertyValue("overflow"))||c.test(v.getPropertyValue("overflowX"))||c.test(v.getPropertyValue("overflowY"))};for(let g of o){let v=1===g.nodeType&&g.dataset.scrollselectors;if(v){let D=v.split(",");for(let x of D){let L=this.findSingle(g,x);L&&h(L)&&i.push(L)}}9!==g.nodeType&&h(g)&&i.push(g)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let o=getComputedStyle(t).getPropertyValue("borderTopWidth"),c=o?parseFloat(o):0,h=getComputedStyle(t).getPropertyValue("paddingTop"),g=h?parseFloat(h):0,v=t.getBoundingClientRect(),x=i.getBoundingClientRect().top+document.body.scrollTop-(v.top+document.body.scrollTop)-c-g,L=t.scrollTop,Q=t.clientHeight,J=this.getOuterHeight(i);x<0?t.scrollTop=L+x:x+J>Q&&(t.scrollTop=L+x-Q+J)}static fadeIn(t,i){t.style.opacity=0;let o=+new Date,c=0,h=function(){c=+t.style.opacity.replace(",",".")+((new Date).getTime()-o)/i,t.style.opacity=c,o=+new Date,+c<1&&(window.requestAnimationFrame&&requestAnimationFrame(h)||setTimeout(h,16))};h()}static fadeOut(t,i){var o=1,g=50/i;let v=setInterval(()=>{(o-=g)<=0&&(o=0,clearInterval(v)),t.style.opacity=o},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(h){return-1!==[].indexOf.call(document.querySelectorAll(h),this)}).call(t,i)}static getOuterWidth(t,i){let o=t.offsetWidth;if(i){let c=getComputedStyle(t);o+=parseFloat(c.marginLeft)+parseFloat(c.marginRight)}return o}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,o=getComputedStyle(t);return i+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),i}static width(t){let i=t.offsetWidth,o=getComputedStyle(t);return i-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,o=getComputedStyle(t);return i+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),i}static getOuterHeight(t,i){let o=t.offsetHeight;if(i){let c=getComputedStyle(t);o+=parseFloat(c.marginTop)+parseFloat(c.marginBottom)}return o}static getHeight(t){let i=t.offsetHeight,o=getComputedStyle(t);return i-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,o=getComputedStyle(t);return i-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),i}static getViewport(){let t=window,i=document,o=i.documentElement,c=i.getElementsByTagName("body")[0];return{width:t.innerWidth||o.clientWidth||c.clientWidth,height:t.innerHeight||o.clientHeight||c.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let o=t.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let o=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,o){t[i].apply(t,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let o=this.find(t,this.getFocusableSelectorString(i)),c=[];for(let h of o){const g=getComputedStyle(h);this.isVisible(h)&&"none"!=g.display&&"hidden"!=g.visibility&&c.push(h)}return c}static getFocusableElement(t,i=""){let o=this.findSingle(t,this.getFocusableSelectorString(i));if(o){const c=getComputedStyle(o);if(this.isVisible(o)&&"none"!=c.display&&"hidden"!=c.visibility)return o}return null}static getFirstFocusableElement(t,i=""){const o=this.getFocusableElements(t,i);return o.length>0?o[0]:null}static getLastFocusableElement(t,i){const o=this.getFocusableElements(t,i);return o.length>0?o[o.length-1]:null}static getNextFocusableElement(t,i=!1){const o=n.getFocusableElements(t);let c=0;if(o&&o.length>0){const h=o.indexOf(o[0].ownerDocument.activeElement);i?c=-1==h||0===h?o.length-1:h-1:-1!=h&&h!==o.length-1&&(c=h+1)}return o[c]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const o=typeof t;if("string"===o)return document.querySelector(t);if("object"===o&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const h=(g=t)&&g.constructor&&g.call&&g.apply?t():t;return h&&9===h.nodeType||this.isExist(h)?h:null}var g}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){const o=t.getAttribute(i);return isNaN(o)?"true"===o||"false"===o?"true"===o:o:+o}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...o){if(t){const c=document.createElement(t);return this.setAttributes(c,i),c.append(...o),c}}static setAttribute(t,i="",o){this.isElement(t)&&null!=o&&t.setAttribute(i,o)}static setAttributes(t,i={}){if(this.isElement(t)){const o=(c,h)=>{const g=t?.$attrs?.[c]?[t?.$attrs?.[c]]:[];return[h].flat().reduce((v,D)=>{if(null!=D){const x=typeof D;if("string"===x||"number"===x)v.push(D);else if("object"===x){const L=Array.isArray(D)?o(c,D):Object.entries(D).map(([Q,J])=>"style"!==c||!J&&0!==J?J?Q:void 0:`${Q.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${J}`);v=L.length?v.concat(L.filter(Q=>!!Q)):v}}return v},g)};Object.entries(i).forEach(([c,h])=>{if(null!=h){const g=c.match(/^on(.+)/);g?t.addEventListener(g[1].toLowerCase(),h):"pBind"===c?this.setAttributes(t,h):(h="class"===c?[...new Set(o("class",h))].join(" ").trim():"style"===c?o("style",h).join(";").trim():h,(t.$attrs=t.$attrs||{})&&(t.$attrs[c]=h),t.setAttribute(c,h))}})}}static isFocusableElement(t,i=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`)}}return n})();class an{element;listener;scrollableParents;constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=Ne.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class _r{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var c,h,g,i=Array.isArray(e),o=Array.isArray(t);if(i&&o){if((h=e.length)!=t.length)return!1;for(c=h;0!=c--;)if(!this.equalsByValue(e[c],t[c]))return!1;return!0}if(i!=o)return!1;var v=this.isDate(e),D=this.isDate(t);if(v!=D)return!1;if(v&&D)return e.getTime()==t.getTime();var x=e instanceof RegExp,L=t instanceof RegExp;if(x!=L)return!1;if(x&&L)return e.toString()==t.toString();var Q=Object.keys(e);if((h=Q.length)!==Object.keys(t).length)return!1;for(c=h;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,Q[c]))return!1;for(c=h;0!=c--;)if(!this.equalsByValue(e[g=Q[c]],t[g]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),o=e;for(let c=0,h=i.length;c<h;++c){if(null==o)return null;o=o[i[c]]}return o}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,o){if(i.length>0){let c=!1;for(let h=0;h<i.length;h++)if(this.findIndexInList(i[h],o)>t){i.splice(h,0,e),c=!0;break}c||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let o=0;o<t.length;o++)if(t[o]==e){i=o;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,o=1){let c=-1;const h=this.isEmpty(e),g=this.isEmpty(t);return c=h&&g?0:h?o:g?-o:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,i,{numeric:!0}):e<t?-1:e>t?1:0,c}static sort(e,t,i=1,o,c=1){const h=_r.compare(e,t,o,i);let g=i;return(_r.isEmpty(e)||_r.isEmpty(t))&&(g=1===c?i:c),g*h}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var c,h,g,i=Array.isArray(e),o=Array.isArray(t);if(i&&o){if((h=e.length)!=t.length)return!1;for(c=h;0!=c--;)if(!this.deepEquals(e[c],t[c]))return!1;return!0}if(i!=o)return!1;var v=e instanceof Date,D=t instanceof Date;if(v!=D)return!1;if(v&&D)return e.getTime()==t.getTime();var x=e instanceof RegExp,L=t instanceof RegExp;if(x!=L)return!1;if(x&&L)return e.toString()==t.toString();var Q=Object.keys(e);if((h=Q.length)!==Object.keys(t).length)return!1;for(c=h;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,Q[c]))return!1;for(c=h;0!=c--;)if(!this.deepEquals(e[g=Q[c]],t[g]))return!1;return!0}return e!=e&&t!=t}}var Ps=0;function di(n="pn_id_"){return`${n}${++Ps}`}var Ci=function kr(){let n=[];const o=c=>c&&parseInt(c.style.zIndex,10)||0;return{get:o,set:(c,h,g)=>{h&&(h.style.zIndex=String(((c,h)=>{let g=n.length>0?n[n.length-1]:{key:c,value:h},v=g.value+(g.key===c?0:h)+2;return n.push({key:c,value:v}),v})(c,g)))},clear:c=>{c&&((c=>{n=n.filter(h=>h.value!==c)})(o(c)),c.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const Bn=["*"];let Ms=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=_r.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=u.VBU({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[u.Mj6.HasDecoratorInputTransform,"spin","spin",u.L39],styleClass:"styleClass"},standalone:!0,features:[u.GFd,u.aNF],ngContentSelectors:Bn,decls:1,vars:0,template:function(i,o){1&i&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0})}return n})(),yi=(()=>{class n extends Ms{static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0),u.nrm(1,"path",1),u.k0s()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})(),Li=(()=>{class n extends Ms{static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0),u.nrm(1,"path",1),u.k0s()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})(),xa=(()=>{class n extends Ms{static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0),u.nrm(1,"path",1),u.k0s()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})(),hs=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,o,c,h,g){this.document=t,this.platformId=i,this.renderer=o,this.el=c,this.zone=h,this.config=g}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,nt.UE)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(Ne.removeClass(i,"p-ink-active"),!Ne.getHeight(i)&&!Ne.getWidth(i)){let g=Math.max(Ne.getOuterWidth(this.el.nativeElement),Ne.getOuterHeight(this.el.nativeElement));i.style.height=g+"px",i.style.width=g+"px"}let o=Ne.getOffset(this.el.nativeElement),c=t.pageX-o.left+this.document.body.scrollTop-Ne.getWidth(i)/2,h=t.pageY-o.top+this.document.body.scrollLeft-Ne.getHeight(i)/2;this.renderer.setStyle(i,"top",h+"px"),this.renderer.setStyle(i,"left",c+"px"),Ne.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let g=this.getInk();g&&Ne.removeClass(g,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if("string"==typeof t[i].className&&-1!==t[i].className.indexOf("p-ink"))return t[i];return null}resetInk(){let t=this.getInk();t&&Ne.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),Ne.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Ne.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(u.rXU(nt.qQ),u.rXU(u.Agw),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(u.SKi),u.rXU(Xr,8))};static \u0275dir=u.FsC({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),Lo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({})}return n})(),vi=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:di()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,o,c,h,g){this.platformId=t,this.el=i,this.zone=o,this.config=c,this.renderer=h,this.viewContainer=g}ngAfterViewInit(){(0,nt.UE)(this.platformId)&&this.zone.runOutsideAngular(()=>{const t=this.getOption("tooltipEvent");if(("hover"===t||"both"===t)&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),"focus"===t||"both"===t){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){(this.isAutoHide()||!(Ne.hasClass(t.relatedTarget,"p-tooltip")||Ne.hasClass(t.relatedTarget,"p-tooltip-text")||Ne.hasClass(t.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Ne.appendChild(this.container,this.el.nativeElement):Ne.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){this.getOption("tooltipLabel")&&!this.getOption("disabled")&&(this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),Ne.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Ci.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Ci.clear(this.container),this.remove()}updateText(){const t=this.getOption("tooltipLabel");if(t instanceof u.C4Q){const i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(o=>this.tooltipText.appendChild(o))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+Ne.getWindowScrollLeft(),top:t.top+Ne.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");const t=this.activeElement,i=this.getHostOffset(),o=i.left+Ne.getOuterWidth(t),c=i.top+(Ne.getOuterHeight(t)-Ne.getOuterHeight(this.container))/2;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=c+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")&&Ne.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-Ne.getOuterWidth(this.container),o=t.top+(Ne.getOuterHeight(this.el.nativeElement)-Ne.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(Ne.getOuterWidth(this.el.nativeElement)-Ne.getOuterWidth(this.container))/2,o=t.top-Ne.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(Ne.getOuterWidth(this.el.nativeElement)-Ne.getOuterWidth(this.container))/2,o=t.top+Ne.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return Ne.hasClass(t,"p-inputwrapper")?Ne.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,o=t.left,c=Ne.getOuterWidth(this.container),h=Ne.getOuterHeight(this.container),g=Ne.getViewport();return o+c>g.width||o<0||i<0||i+h>g.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new an(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){const t=this.getOption("tooltipEvent");if(("hover"===t||"both"===t)&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),"focus"===t||"both"===t){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Ne.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Ci.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(u.rXU(u.Agw),u.rXU(u.aKT),u.rXU(u.SKi),u.rXU(Xr),u.rXU(u.sFG),u.rXU(u.c1b))};static \u0275dir=u.FsC({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,o){1&i&&u.bIt("keydown.escape",function(h){return o.onPressEscape(h)},!1,u.EBC)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[u.Mj6.HasDecoratorInputTransform,"escape","escape",u.L39],showDelay:[u.Mj6.HasDecoratorInputTransform,"showDelay","showDelay",u.Udg],hideDelay:[u.Mj6.HasDecoratorInputTransform,"hideDelay","hideDelay",u.Udg],life:[u.Mj6.HasDecoratorInputTransform,"life","life",u.Udg],positionTop:[u.Mj6.HasDecoratorInputTransform,"positionTop","positionTop",u.Udg],positionLeft:[u.Mj6.HasDecoratorInputTransform,"positionLeft","positionLeft",u.Udg],autoHide:[u.Mj6.HasDecoratorInputTransform,"autoHide","autoHide",u.L39],fitContent:[u.Mj6.HasDecoratorInputTransform,"fitContent","fitContent",u.L39],hideOnEscape:[u.Mj6.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",u.L39],content:[u.Mj6.None,"pTooltip","content"],disabled:[u.Mj6.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[u.GFd,u.OA$]})}return n})(),Fo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD]})}return n})();const pl=["*"];function Ku(n,e){1&n&&u.eu8(0)}function Hc(n,e){if(1&n&&(u.qex(0),u.DNE(1,Ku,1,0,"ng-container",3),u.bVm()),2&n){const t=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",t.contentTemplate)}}function zc(n,e){if(1&n&&(u.j41(0,"div",1),u.SdG(1),u.DNE(2,Hc,2,1,"ng-container",2),u.k0s()),2&n){const t=u.XpG();u.Y8G("hidden",!t.selected),u.BMQ("id",t.tabView.getTabContentId(t.id))("aria-hidden",!t.selected)("aria-labelledby",t.tabView.getTabHeaderActionId(t.id))("data-pc-name","tabpanel"),u.R7$(2),u.Y8G("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const Wf=["content"],Gc=["navbar"],nv=["prevBtn"],ih=["nextBtn"],Kf=["inkbar"],rv=["elementToObserve"],qf=n=>({"p-tabview p-component":!0,"p-tabview-scrollable":n}),iv=(n,e)=>({"p-highlight":n,"p-disabled":e});function Qf(n,e){1&n&&u.nrm(0,"ChevronLeftIcon"),2&n&&u.BMQ("aria-hidden",!0)}function nm(n,e){}function rm(n,e){1&n&&u.DNE(0,nm,0,0,"ng-template")}function im(n,e){if(1&n){const t=u.RV6();u.j41(0,"button",15,4),u.bIt("click",function(){u.eBV(t);const o=u.XpG();return u.Njj(o.navBackward())}),u.DNE(2,Qf,1,1,"ChevronLeftIcon",16)(3,rm,1,0,null,17),u.k0s()}if(2&n){const t=u.XpG();u.BMQ("tabindex",t.tabindex)("aria-label",t.prevButtonAriaLabel),u.R7$(2),u.Y8G("ngIf",!t.previousIconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.previousIconTemplate)}}function sm(n,e){if(1&n&&u.nrm(0,"span",26),2&n){const t=u.XpG(3).$implicit;u.Y8G("ngClass",t.leftIcon)}}function om(n,e){}function gl(n,e){1&n&&u.DNE(0,om,0,0,"ng-template")}function sh(n,e){if(1&n&&(u.j41(0,"span",27),u.DNE(1,gl,1,0,null,17),u.k0s()),2&n){const t=u.XpG(3).$implicit;u.R7$(),u.Y8G("ngTemplateOutlet",t.leftIconTemplate)}}function sv(n,e){if(1&n&&u.nrm(0,"span",28),2&n){const t=u.XpG(3).$implicit;u.Y8G("ngClass",t.rightIcon)}}function ov(n,e){}function Xf(n,e){1&n&&u.DNE(0,ov,0,0,"ng-template")}function av(n,e){if(1&n&&(u.j41(0,"span",29),u.DNE(1,Xf,1,0,null,17),u.k0s()),2&n){const t=u.XpG(3).$implicit;u.R7$(),u.Y8G("ngTemplateOutlet",t.rightIconTemplate)}}function am(n,e){if(1&n&&(u.qex(0),u.DNE(1,sm,1,1,"span",21)(2,sh,2,1,"span",22),u.j41(3,"span",23),u.EFF(4),u.k0s(),u.DNE(5,sv,1,1,"span",24)(6,av,2,1,"span",25),u.bVm()),2&n){const t=u.XpG(2).$implicit;u.R7$(),u.Y8G("ngIf",t.leftIcon&&!t.leftIconTemplate),u.R7$(),u.Y8G("ngIf",t.leftIconTemplate),u.R7$(2),u.JRh(t.header),u.R7$(),u.Y8G("ngIf",t.rightIcon&&!t.rightIconTemplate),u.R7$(),u.Y8G("ngIf",t.rightIconTemplate)}}function Yf(n,e){1&n&&u.eu8(0)}function I(n,e){if(1&n){const t=u.RV6();u.j41(0,"TimesIcon",32),u.bIt("click",function(o){u.eBV(t);const c=u.XpG(3).$implicit,h=u.XpG();return u.Njj(h.close(o,c))}),u.k0s()}2&n&&u.Y8G("styleClass","p-tabview-close")}function A(n,e){1&n&&u.nrm(0,"span",33)}function b(n,e){}function S(n,e){1&n&&u.DNE(0,b,0,0,"ng-template")}function O(n,e){if(1&n&&(u.qex(0),u.DNE(1,I,1,1,"TimesIcon",30)(2,A,1,0,"span",31)(3,S,1,0,null,17),u.bVm()),2&n){const t=u.XpG(2).$implicit;u.R7$(),u.Y8G("ngIf",!t.closeIconTemplate),u.R7$(),u.Y8G("ngIf",t.closeIconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function j(n,e){if(1&n){const t=u.RV6();u.j41(0,"li",19)(1,"a",20),u.bIt("click",function(o){u.eBV(t);const c=u.XpG().$implicit,h=u.XpG();return u.Njj(h.open(o,c))})("keydown",function(o){u.eBV(t);const c=u.XpG().$implicit,h=u.XpG();return u.Njj(h.onTabKeyDown(o,c))}),u.DNE(2,am,7,5,"ng-container",16)(3,Yf,1,0,"ng-container",17)(4,O,4,3,"ng-container",16),u.k0s()()}if(2&n){const t=u.XpG(),i=t.$implicit,o=t.index,c=u.XpG();u.HbH(i.headerStyleClass),u.Y8G("ngClass",u.l_i(19,iv,i.selected,i.disabled))("ngStyle",i.headerStyle),u.BMQ("data-p-disabled",i.disabled),u.R7$(),u.Y8G("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),u.BMQ("id",c.getTabHeaderActionId(i.id))("aria-controls",c.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":c.tabindex)("aria-disabled",i.disabled)("data-pc-index",o)("data-pc-section","headeraction"),u.R7$(),u.Y8G("ngIf",!i.headerTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",i.headerTemplate),u.R7$(),u.Y8G("ngIf",i.closable)}}function Z(n,e){1&n&&u.DNE(0,j,5,22,"li",18),2&n&&u.Y8G("ngIf",!e.$implicit.closed)}function _e(n,e){1&n&&u.nrm(0,"ChevronRightIcon"),2&n&&u.BMQ("aria-hidden",!0)}function me(n,e){}function at(n,e){1&n&&u.DNE(0,me,0,0,"ng-template")}function ln(n,e){if(1&n){const t=u.RV6();u.j41(0,"button",34,5),u.bIt("click",function(){u.eBV(t);const o=u.XpG();return u.Njj(o.navForward())}),u.DNE(2,_e,1,1,"ChevronRightIcon",16)(3,at,1,0,null,17),u.k0s()}if(2&n){const t=u.XpG();u.BMQ("tabindex",t.tabindex)("aria-label",t.nextButtonAriaLabel),u.R7$(2),u.Y8G("ngIf",!t.nextIconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.nextIconTemplate)}}let rn=(()=>{class n{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(t){this._headerStyle=t,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(t){this._headerStyleClass=t,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(t){this._selected=t,this.loaded||this.cd.detectChanges(),t&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=t,this.tabView.cd.markForCheck()}get header(){return this._header}set header(t){this._header=t,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(t){this._leftIcon=t,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(t){this._rightIcon=t,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(t,i,o,c){this.el=i,this.viewContainer=o,this.cd=c,this.tabView=t,this.id=di()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"righticon":this.rightIconTemplate=t.template;break;case"lefticon":this.leftIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||n)(u.rXU((0,u.Rfq)(()=>ur)),u.rXU(u.aKT),u.rXU(u.c1b),u.rXU(u.gRc))};static \u0275cmp=u.VBU({type:n,selectors:[["p-tabPanel"]],contentQueries:function(i,o,c){if(1&i&&u.wni(c,ki,4),2&i){let h;u.mGM(h=u.lsd())&&(o.templates=h)}},hostAttrs:[1,"p-element"],inputs:{closable:[u.Mj6.HasDecoratorInputTransform,"closable","closable",u.L39],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[u.Mj6.HasDecoratorInputTransform,"cache","cache",u.L39],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[u.GFd],ngContentSelectors:pl,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,o){1&i&&(u.NAR(),u.DNE(0,zc,3,6,"div",0)),2&i&&u.Y8G("ngIf",!o.closed)},dependencies:[nt.bT,nt.T3],encapsulation:2})}return n})(),ur=(()=>{class n{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(t))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new u.bkB;onClose=new u.bkB;activeIndexChange=new u.bkB;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(t,i,o,c){this.platformId=t,this.el=i,this.cd=o,this.renderer=c}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(t=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(t=>{switch(t.getType()){case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template}})}callResizeObserver(){(0,nt.UE)(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=Ne.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=Ne.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){(0,nt.UE)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(t,i){switch(t.code){case"ArrowLeft":this.onTabArrowLeftKey(t);break;case"ArrowRight":this.onTabArrowRightKey(t);break;case"Home":case"PageUp":this.onTabHomeKey(t);break;case"End":case"PageDown":this.onTabEndKey(t);break;case"Enter":case"Space":this.open(t,i)}}onTabArrowLeftKey(t){const i=this.findPrevHeaderAction(t.target.parentElement),o=Ne.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(t,i,o):this.onTabEndKey(t),t.preventDefault()}onTabArrowRightKey(t){const i=this.findNextHeaderAction(t.target.parentElement),o=Ne.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(t,i,o):this.onTabHomeKey(t),t.preventDefault()}onTabHomeKey(t){const i=this.findFirstHeaderAction(),o=Ne.getAttribute(i,"data-pc-index");this.changeFocusedTab(t,i,o),t.preventDefault()}onTabEndKey(t){const i=this.findLastHeaderAction(),o=Ne.getAttribute(i,"data-pc-index");this.changeFocusedTab(t,i,o),t.preventDefault()}changeFocusedTab(t,i,o){i&&(Ne.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(t,this.tabs[o])}findNextHeaderAction(t,i=!1){const o=i?t:t.nextElementSibling;return o?Ne.getAttribute(o,"data-p-disabled")||"inkbar"===Ne.getAttribute(o,"data-pc-section")?this.findNextHeaderAction(o):Ne.findSingle(o,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,i=!1){const o=i?t:t.previousElementSibling;return o?Ne.getAttribute(o,"data-p-disabled")||"inkbar"===Ne.getAttribute(o,"data-pc-section")?this.findPrevHeaderAction(o):Ne.findSingle(o,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const t=this.navbar.nativeElement.lastElementChild,i="inkbar"===Ne.getAttribute(t,"data-pc-section")?t.previousElementSibling:t;return this.findPrevHeaderAction(i,!0)}open(t,i){if(i.disabled)t&&t.preventDefault();else{if(!i.selected){let o=this.findSelectedTab();o&&(o.selected=!1),this.tabChanged=!0,i.selected=!0;let c=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(c),this.onChange.emit({originalEvent:t,index:c}),this.updateScrollBar(c)}t&&t.preventDefault()}}close(t,i){this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:t,index:this.findTabIndex(i)}))}closeTab(t){if(!t.disabled){if(t.selected){this.tabChanged=!0,t.selected=!1;for(let i=0;i<this.tabs.length;i++){let o=this.tabs[i];if(!o.closed&&!t.disabled){o.selected=!0;break}}}t.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null}findTabIndex(t){let i=-1;for(let o=0;o<this.tabs.length;o++)if(this.tabs[o]==t){i=o;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if((0,nt.UE)(this.platformId)&&this.navbar){const t=Ne.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!t)return;this.inkbar.nativeElement.style.width=Ne.getWidth(t)+"px",this.inkbar.nativeElement.style.left=Ne.getOffset(t).left-Ne.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(t){let i=this.navbar.nativeElement.children[t];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){const t=this.content.nativeElement,{scrollLeft:i,scrollWidth:o}=t,c=Ne.getWidth(t);this.backwardIsDisabled=0===i,this.forwardIsDisabled=Math.round(i)===o-c}refreshButtonState(){this.container=Ne.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=Ne.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.markForCheck())}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,i)=>i?t+Ne.getWidth(i):t,0)}navBackward(){const t=this.content.nativeElement,i=Ne.getWidth(t)-this.getVisibleButtonWidths(),o=t.scrollLeft-i;t.scrollLeft=o<=0?0:o}navForward(){const t=this.content.nativeElement,i=Ne.getWidth(t)-this.getVisibleButtonWidths(),o=t.scrollLeft+i,c=t.scrollWidth-i;t.scrollLeft=o>=c?c:o}static \u0275fac=function(i){return new(i||n)(u.rXU(u.Agw),u.rXU(u.aKT),u.rXU(u.gRc),u.rXU(u.sFG))};static \u0275cmp=u.VBU({type:n,selectors:[["p-tabView"]],contentQueries:function(i,o,c){if(1&i&&(u.wni(c,rn,4),u.wni(c,ki,4)),2&i){let h;u.mGM(h=u.lsd())&&(o.tabPanels=h),u.mGM(h=u.lsd())&&(o.templates=h)}},viewQuery:function(i,o){if(1&i&&(u.GBs(Wf,5),u.GBs(Gc,5),u.GBs(nv,5),u.GBs(ih,5),u.GBs(Kf,5),u.GBs(rv,5)),2&i){let c;u.mGM(c=u.lsd())&&(o.content=c.first),u.mGM(c=u.lsd())&&(o.navbar=c.first),u.mGM(c=u.lsd())&&(o.prevBtn=c.first),u.mGM(c=u.lsd())&&(o.nextBtn=c.first),u.mGM(c=u.lsd())&&(o.inkbar=c.first),u.mGM(c=u.lsd())&&(o.elementToObserve=c.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[u.Mj6.HasDecoratorInputTransform,"controlClose","controlClose",u.L39],scrollable:[u.Mj6.HasDecoratorInputTransform,"scrollable","scrollable",u.L39],activeIndex:"activeIndex",selectOnFocus:[u.Mj6.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",u.L39],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[u.Mj6.HasDecoratorInputTransform,"autoHideButtons","autoHideButtons",u.L39],tabindex:[u.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",u.Udg]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[u.GFd],ngContentSelectors:pl,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,o){if(1&i){const c=u.RV6();u.NAR(),u.j41(0,"div",6)(1,"div",7,0),u.DNE(3,im,4,4,"button",8),u.j41(4,"div",9,1),u.bIt("scroll",function(g){return u.eBV(c),u.Njj(o.onScroll(g))}),u.j41(6,"ul",10,2),u.DNE(8,Z,1,1,"ng-template",11),u.nrm(9,"li",12,3),u.k0s()(),u.DNE(11,ln,4,4,"button",13),u.k0s(),u.j41(12,"div",14),u.SdG(13),u.k0s()()}2&i&&(u.HbH(o.styleClass),u.Y8G("ngClass",u.eq3(11,qf,o.scrollable))("ngStyle",o.style),u.BMQ("data-pc-name","tabview"),u.R7$(3),u.Y8G("ngIf",o.scrollable&&!o.backwardIsDisabled&&o.autoHideButtons),u.R7$(),u.BMQ("data-pc-section","navcontent"),u.R7$(2),u.BMQ("data-pc-section","nav"),u.R7$(2),u.Y8G("ngForOf",o.tabs),u.R7$(),u.BMQ("data-pc-section","inkbar"),u.R7$(2),u.Y8G("ngIf",o.scrollable&&!o.forwardIsDisabled&&o.buttonVisible))},dependencies:()=>[nt.YU,nt.Sq,nt.bT,nt.T3,nt.B3,vi,hs,xa,yi,Li],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),sa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD,uo,Fo,Lo,xa,yi,Li,uo]})}return n})(),Wc=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-home"]],standalone:!0,features:[u.aNF],decls:39,vars:0,consts:[["id","picture"],[1,"card"],["header","Benvenuto"],[1,"text"],["pTooltip","Non sono attualmente previsti i posti di movimento, solo STAZIONI e FERMATE. Non sono considerate le linee dismesse. Sono considerate le linee non attive IN FASE DI RIPRISTINO","id","popover",1,"btn",2,"cursor","pointer"],["href","https://normativaesercizio.rfi.it/NormativaEsercizio/detail.xhtml?doctype=FCL&compartimento=PA","target","_blank",1,"btn"],[1,"pi","pi-external-link"],["src","assets/lineesiciliane.png","alt","Mappa linee ferroviarie siciliane di RFI"],["header","Come funziona?"],["src","https://www.palermomania.it/public/news/image/images/metro.jpg","alt","Cartello passante ferroviario di Palermo"],["href","https://www.palermomania.it/","target","_blank",1,"btn"],["header","Perch\xe9 SpotiRFI?"],[1,"mb-4"],["href","https://www.stagniweb.it/foto6.asp?File=orizzf&Inizio=68&Righe=10&InizioI=1&RigheI=150&Col=5&Titolo=0","target","_blank",1,"btn"],["src","https://www.stagniweb.it/altro/orizzf/636gioi0.jpg","alt","Locomotiva E636.010 in transito a Gioiosa Marea(ME)"]],template:function(i,o){1&i&&(u.nrm(0,"div",0),u.j41(1,"div",1)(2,"p-tabView")(3,"p-tabPanel",2)(4,"article")(5,"section",3)(6,"h2"),u.EFF(7,"Benvenuto su SpotiRFI! \u{1f684}\u{1f3b5}"),u.k0s(),u.j41(8,"p"),u.EFF(9," SpotiRFI \xe8 un viaggio unico attraverso la musica e le linee ferroviarie della Sicilia. Ogni stazione ferroviaria sulla mappa \xe8 associata a una canzone che porta il suo nome"),u.j41(10,"span",4),u.EFF(11," * "),u.k0s(),u.EFF(12,", creando un'esperienza musicale che riflette il viaggio attraverso la nostra bellissima regione. "),u.k0s(),u.j41(13,"a",5),u.nrm(14,"span",6),u.k0s()(),u.j41(15,"section"),u.nrm(16,"img",7),u.k0s()()(),u.j41(17,"p-tabPanel",8)(18,"article")(19,"section"),u.nrm(20,"img",9),u.k0s(),u.j41(21,"section",3)(22,"h2"),u.EFF(23,"Come funziona? \u{1f9d0}"),u.k0s(),u.j41(24,"p"),u.EFF(25," Scegli una linea ferroviaria sulla mappa e inizia il tuo viaggio musicale. Ad ogni fermata, ti verr\xe0 presentata una canzone che porta il nome della stazione. Puoi ascoltare la canzone mentre leggi informazioni sulla stazione e sulla sua storia. "),u.k0s(),u.j41(26,"a",10),u.nrm(27,"span",6),u.k0s()()()(),u.j41(28,"p-tabPanel",11)(29,"article")(30,"section",3)(31,"h2"),u.EFF(32,"Perch\xe9 SpotiRFI? \u{1f914}"),u.k0s(),u.j41(33,"p",12),u.EFF(34," La musica e i viaggi sono due esperienze che possono portarci in luoghi che non abbiamo mai visitato. SpotiRFI combina queste due esperienze in un unico viaggio, permettendoti di esplorare la Sicilia attraverso le sue linee ferroviarie e la sua musica. "),u.k0s(),u.j41(35,"a",13),u.nrm(36,"span",6),u.k0s()(),u.j41(37,"section"),u.nrm(38,"img",14),u.k0s()()()()())},dependencies:[sa,ur,rn,Fo,vi],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";.card[_ngcontent-%COMP%]{background-color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav, [_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:inherit;color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav{border:none;display:flex;justify-content:center;margin:auto;padding:0}@media screen and (width < 460px){[_nghost-%COMP%]     .p-tabview .p-tabview-nav{justify-content:start}}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:none;background-color:inherit;text-decoration:none;color:inherit;font-family:Merienda,cursive}[_nghost-%COMP%]     .p-highlight{border-bottom:.1em #d62a42 solid;color:#d62a42}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link:hover{background-color:#d62a420a}ul[_ngcontent-%COMP%]{padding-left:0}#popover[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;padding:0 0 0 5px}article[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px;font-weight:500;width:90%;margin:2em auto 1em;display:flex;flex-flow:row wrap}h2[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:20px;font-weight:600}section[_ngcontent-%COMP%]{width:50%;text-align:justify}.text[_ngcontent-%COMP%]{padding:1em}section[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%}#picture[_ngcontent-%COMP%]{background-image:url(464Torrenova-min.58a22e042c69a55e.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}.btn[_ngcontent-%COMP%]{color:inherit}@media screen and (min-width: 768px) and (max-width: 1024px){article[_ngcontent-%COMP%]{width:95%}}@media screen and (min-width: 281px) and (max-width: 767px){article[_ngcontent-%COMP%]{width:95%;flex-flow:column wrap}section[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 280px){article[_ngcontent-%COMP%]{width:97%;flex-flow:column wrap}section[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{overflow:scroll}}']})}return n})(),Sn=(()=>{class n{constructor(){this.tratte=(0,u.vPA)([])}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();H(8407);var Qt=H(1076),Sr=H(8041),lm=H(1362);class is{constructor(){return Xt("auth")}}var mt,Ue=H(467),bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vo={},dh=dh||{},Zt=bv||self;function ps(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function sc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yl="closure_uid_"+(1e9*Math.random()>>>0),fh=0;function ph(n,e,t){return n.call.apply(n.bind,arguments)}function sp(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Di(n,e,t){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ph:sp).apply(null,arguments)}function gh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,o,c){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[o].apply(i,h)}}function Os(){this.s=this.s,this.o=this.o}Os.prototype.s=!1,Os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function hh(n){Object.prototype.hasOwnProperty.call(n,yl)&&n[yl]||(n[yl]=++fh)}(this)},Os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oc=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function mh(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function op(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(ps(i)){const o=n.length||0,c=i.length||0;n.length=o+c;for(let h=0;h<c;h++)n[o+h]=i[h]}else n.push(i)}}function ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ss.prototype.h=function(){this.defaultPrevented=!0};var ub=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};Zt.addEventListener("test",t,e),Zt.removeEventListener("test",t,e)}catch{}return n}();function _h(n){return/^[\s\xa0]*$/.test(n)}function Zc(){var n=Zt.navigator;return n&&(n=n.userAgent)?n:""}function Ns(n){return-1!=Zc().indexOf(n)}function yh(n){return yh[" "](n),n}yh[" "]=function(){};var G,n,Im=Ns("Opera"),Na=Ns("Trident")||Ns("MSIE"),E=Ns("Edge"),p=E||Na,m=Ns("Gecko")&&!(-1!=Zc().toLowerCase().indexOf("webkit")&&!Ns("Edge"))&&!(Ns("Trident")||Ns("MSIE"))&&!Ns("Edge"),T=-1!=Zc().toLowerCase().indexOf("webkit")&&!Ns("Edge");function N(){var n=Zt.document;return n?n.documentMode:void 0}e:{var ne="",ye=(n=Zc(),m?/rv:([^\);]+)(\)|;)/.exec(n):E?/Edge\/([\d\.]+)/.exec(n):Na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):T?/WebKit\/(\S+)/.exec(n):Im?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ye&&(ne=ye?ye[1]:""),Na){var ze=N();if(null!=ze&&ze>parseFloat(ne)){G=String(ze);break e}}G=ne}var Rn=Zt.document&&Na&&(N()||parseInt(G,10))||void 0;function Ai(n,e){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(m){e:{try{yh(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ka[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ai.$.h.call(this)}}ti(Ai,ss);var ka={2:"touch",3:"pen",4:"mouse"};Ai.prototype.h=function(){Ai.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var La="closure_listenable_"+(1e6*Math.random()|0),ap=0;function lp(n,e,t,i,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=o,this.key=++ap,this.fa=this.ia=!1}function vl(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function la(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function vh(n){const e={};for(const t in n)e[t]=n[t];return e}const Ih="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fa(n,e){let t,i;for(let o=1;o<arguments.length;o++){for(t in i=arguments[o],i)n[t]=i[t];for(let c=0;c<Ih.length;c++)t=Ih[c],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ca(n){this.src=n,this.g={},this.h=0}function hi(n,e){var t=e.type;if(t in n.g){var c,i=n.g[t],o=oc(i,e);(c=0<=o)&&Array.prototype.splice.call(i,o,1),c&&(vl(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Zu(n,e,t,i){for(var o=0;o<n.length;++o){var c=n[o];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return o}return-1}ca.prototype.add=function(n,e,t,i,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=Zu(n,e,i,o);return-1<h?(e=n[h],t||(e.ia=!1)):((e=new lp(e,this.src,c,!!i,o)).ia=t,n.push(e)),e};var Eh="closure_lm_"+(1e6*Math.random()|0),up={};function db(n,e,t,i,o){if(i&&i.once)return hb(n,e,t,i,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)db(n,e[c],t,i,o);return null}return t=Av(t),n&&n[La]?n.O(e,t,sc(i)?!!i.capture:!!i,o):Tv(n,e,t,!1,i,o)}function Tv(n,e,t,i,o,c){if(!e)throw Error("Invalid event type");var h=sc(o)?!!o.capture:!!o,g=Cv(n);if(g||(n[Eh]=g=new ca(n)),(t=g.add(e,t,i,h,c)).proxy)return t;if(i=function Em(){const e=fb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ub||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),i,o);else if(n.attachEvent)n.attachEvent(hp(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function hb(n,e,t,i,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)hb(n,e[c],t,i,o);return null}return t=Av(t),n&&n[La]?n.P(e,t,sc(i)?!!i.capture:!!i,o):Tv(n,e,t,!0,i,o)}function wv(n,e,t,i,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)wv(n,e[c],t,i,o);else i=sc(i)?!!i.capture:!!i,t=Av(t),n&&n[La]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Zu(c=n.g[e],t,i,o))&&(vl(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Cv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Zu(e,t,i,o)),(t=-1<n?e[n]:null)&&dp(t))}function dp(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[La])hi(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(hp(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Cv(e))?(hi(t,n),0==t.h&&(t.src=null,e[Eh]=null)):vl(n)}}}function hp(n){return n in up?up[n]:up[n]="on"+n}function fb(n,e){if(n.fa)n=!0;else{e=new Ai(e,this);var t=n.listener,i=n.la||n.src;n.ia&&dp(n),n=t.call(i,e)}return n}function Cv(n){return(n=n[Eh])instanceof ca?n:null}var Dv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Av(n){return"function"==typeof n?n:(n[Dv]||(n[Dv]=function(e){return n.handleEvent(e)}),n[Dv])}function Gi(){Os.call(this),this.i=new ca(this),this.S=this,this.J=null}function gs(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ss(e,n);else if(e instanceof ss)e.target=e.target||n;else{var o=e;Fa(e=new ss(i,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];o=fp(h,i,!0,e)&&o}if(o=fp(h=e.g=n,i,!0,e)&&o,o=fp(h,i,!1,e)&&o,t)for(c=0;c<t.length;c++)o=fp(h=e.g=t[c],i,!1,e)&&o}function fp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.fa&&h.capture==t){var g=h.listener,v=h.la||h.src;h.ia&&hi(n.i,h),o=!1!==g.call(v,i)&&o}}return o&&!i.defaultPrevented}ti(Gi,Os),Gi.prototype[La]=!0,Gi.prototype.removeEventListener=function(n,e,t,i){wv(this,n,e,t,i)},Gi.prototype.N=function(){if(Gi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)vl(t[i]);delete n.g[e],n.h--}}this.J=null},Gi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Gi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Sv=Zt.JSON.stringify;function cM(){var n=Va;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Rv=new class eA{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Uo,n=>n.reset());class Uo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uM(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function gb(n){Zt.setTimeout(()=>{throw n},0)}let bm,Ju=!1,Va=new class pb{constructor(){this.h=this.g=null}add(e,t){const i=Rv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Pv=()=>{const n=Zt.Promise.resolve(void 0);bm=()=>{n.then(bh)}};var bh=()=>{for(var n;n=cM();){try{n.h.call(n.g)}catch(t){gb(t)}var e=Rv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ju=!1};function Tm(n,e){Gi.call(this),this.h=n||1,this.g=e||Zt,this.j=Di(this.qb,this),this.l=Date.now()}function Mv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function wm(n,e,t){if("function"==typeof n)t&&(n=Di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Di(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zt.setTimeout(n,e||0)}function tA(n){n.g=wm(()=>{n.g=null,n.i&&(n.i=!1,tA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(Tm,Gi),(mt=Tm.prototype).ga=!1,mt.T=null,mt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gs(this,"tick"),this.ga&&(Mv(this),this.start()))}},mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},mt.N=function(){Tm.$.N.call(this),Mv(this),delete this.g};class dM extends Os{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tA(this)}N(){super.N(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cm(n){Os.call(this),this.h=n,this.g={}}ti(Cm,Os);var nA=[];function rA(n,e,t,i){Array.isArray(t)||(t&&(nA[0]=t.toString()),t=nA);for(var o=0;o<t.length;o++){var c=db(e,t[o],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function mb(n){la(n.g,function(e,t){this.g.hasOwnProperty(t)&&dp(e)},n),n.g={}}function ac(){this.g=!0}function Th(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Il(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<o.length;h++)o[h]=""}}}return Sv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Cm.prototype.N=function(){Cm.$.N.call(this),mb(this)},Cm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ac.prototype.Ea=function(){this.g=!1},ac.prototype.info=function(){};var ed={},Dm=null;function Jc(){return Dm=Dm||new Gi}function yb(n){ss.call(this,ed.Ta,n)}function wh(n){const e=Jc();gs(e,new yb(e))}function Ov(n,e){ss.call(this,ed.STAT_EVENT,n),this.stat=e}function os(n){const e=Jc();gs(e,new Ov(e,n))}function gp(n,e){ss.call(this,ed.Ua,n),this.size=e}function td(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},e)}ed.Ta="serverreachability",ti(yb,ss),ed.STAT_EVENT="statevent",ti(Ov,ss),ed.Ua="timingevent",ti(gp,ss);var Am={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nv(){}function Ib(){}Nv.prototype.h=null;var Sm,mp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ks(){ss.call(this,"d")}function _p(){ss.call(this,"c")}function Ch(){}function Fi(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Cm(this),this.P=Eb,this.V=new Tm(n=p?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dh}function Dh(){this.i=null,this.g="",this.h=!1}ti(ks,ss),ti(_p,ss),ti(Ch,Nv),Ch.prototype.g=function(){return new XMLHttpRequest},Ch.prototype.i=function(){return{}},Sm=new Ch;var Eb=45e3,Lv={},Fv={};function Rm(n,e,t){n.L=1,n.A=jv(lc(e)),n.u=t,n.S=!0,bb(n,null)}function bb(n,e){n.G=Date.now(),yp(n),n.B=lc(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),km(t.i,"t",i),n.o=0,t=n.l.J,n.h=new Dh,n.g=tI(n.l,t?e:null,!n.u),0<n.O&&(n.M=new dM(Di(n.Pa,n,n.g),n.O)),rA(n.U,n.g,"readystatechange",n.nb),e=n.I?vh(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),wh(),function pp(n,e,t,i,o,c){n.info(function(){if(n.g)if(c)for(var h="",g=c.split("&"),v=0;v<g.length;v++){var D=g[v].split("=");if(1<D.length){var x=D[0];D=D[1];var L=x.split("_");h=2<=L.length&&"type"==L[1]?h+(x+"=")+D+"&":h+(x+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.v,n.B,n.m,n.W,n.u)}function Vv(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function Tb(n,e,t){let o,i=!0;for(;!n.J&&n.o<t.length;){if(o=wb(n,t),o==Fv){4==e&&(n.s=4,os(14),i=!1),Th(n.j,n.m,null,"[Incomplete Response]");break}if(o==Lv){n.s=4,os(15),Th(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Th(n.j,n.m,o,null),Mm(n,o)}Vv(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,os(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pp(e),e.M=!0,os(11))):(Th(n.j,n.m,t,"[Invalid Chunked Response]"),eu(n),vp(n))}function wb(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?Fv:(t=Number(e.substring(t,i)),isNaN(t)?Lv:(i+=1)+t>e.length?Fv:(e=e.slice(i,i+t),n.o=i+t,e))}function yp(n){n.Y=Date.now()+n.P,Cb(n,n.P)}function Cb(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=td(Di(n.lb,n),e)}function Pm(n){n.C&&(Zt.clearTimeout(n.C),n.C=null)}function vp(n){0==n.l.H||n.J||kb(n.l,n)}function eu(n){Pm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Mv(n.V),mb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Mm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Sh(t.i,n)))if(!n.K&&Sh(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;jm(t),Um(t)}Oh(t),os(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=td(Di(t.ib,t),6e3));if(1>=hA(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else bl(t,11)}else if((n.K||t.g==n)&&jm(t),!_h(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.K=D[1],t.pa=D[2];const x=D[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const L=D[4];null!=L&&(t.Ga=L,t.l.info("SVER="+t.Ga));const Q=D[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.L=i=1.5*Q,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const J=n.g;if(J){const ue=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var c=i.i;c.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(zv(c,c.h),c.h=null))}if(i.F){const fe=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(i.Da=fe,jr(i.I,i.F,fe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var h=n;if((i=t).wa=eI(i,i.J?i.pa:null,i.Y),h.K){Lm(i.i,h);var g=h,v=i.L;v&&g.setTimeout(v),g.C&&(Pm(g),yp(g)),i.g=h}else Jv(i);0<t.j.length&&Mh(t)}else"stop"!=D[0]&&"close"!=D[0]||bl(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?bl(t,7):Sp(t):"noop"!=D[0]&&t.h&&t.h.Aa(D),t.A=0)}wh()}catch{}}function Uv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ps(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function xm(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ps(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Db(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ps(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),o=i.length,c=0;c<o;c++)e.call(void 0,i[c],t&&t[c],n)}(mt=Fi.prototype).setTimeout=function(n){this.P=n},mt.nb=function(n){n=n.target;const e=this.M;e&&3==da(n)?e.l():this.Pa(n)},mt.Pa=function(n){try{if(n==this.g)e:{const x=da(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||p||this.g&&(this.h.h||this.g.ja()||Nb(this.g)))){this.J||4!=x||7==e||wh(),Pm(this);var t=this.g.da();this.ca=t;t:if(Vv(this)){var i=Nb(this.g);n="";var o=i.length,c=4==da(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eu(this),vp(this);var h="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:c&&e==o-1});i.length=0,this.h.g+=n,this.o=0,h=this.h.g}else h=this.g.ja();if(this.i=200==t,function _b(n,e,t,i,o,c,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.v,this.B,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_h(g)){var D=g;break t}}D=null}if(!(t=D)){this.i=!1,this.s=3,os(12),eu(this),vp(this);break e}Th(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mm(this,t)}this.S?(Tb(this,x,h),p&&this.i&&3==x&&(rA(this.U,this.V,"tick",this.mb),this.V.start())):(Th(this.j,this.m,h,null),Mm(this,h)),4==x&&eu(this),this.i&&!this.J&&(4==x?kb(this.l,this):(this.i=!1,yp(this)))}else(function hM(n){const e={};n=(n.g&&2<=da(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(_h(n[i]))continue;var t=uM(n[i]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[o]||[];e[o]=c,c.push(t)}!function cp(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<h.indexOf("Unknown SID")?(this.s=3,os(12)):(this.s=0,os(13)),eu(this),vp(this)}}}catch{}},mt.mb=function(){if(this.g){var n=da(this.g),e=this.g.ja();this.o<e.length&&(Pm(this),Tb(this,n,e),this.i&&4!=n&&yp(this))}},mt.cancel=function(){this.J=!0,eu(this)},mt.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function xv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(wh(),os(17)),eu(this),this.s=2,vp(this)):Cb(this,this.Y-n)};var Bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tu){this.h=n.h,Om(this,n.j),this.s=n.s,this.g=n.g,Nm(this,n.m),this.l=n.l;var e=n.i,t=new ua;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Sb(this,t),this.o=n.o}else n&&(e=String(n).match(Bv))?(this.h=!1,Om(this,e[1]||"",!0),this.s=Ah(e[2]||""),this.g=Ah(e[3]||"",!0),Nm(this,e[4]),this.l=Ah(e[5]||"",!0),Sb(this,e[6]||"",!0),this.o=Ah(e[7]||"")):(this.h=!1,this.i=new ua(null,this.h))}function lc(n){return new tu(n)}function Om(n,e,t){n.j=t?Ah(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Nm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Sb(n,e,t){e instanceof ua?(n.i=e,function lA(n,e){e&&!n.j&&(cc(n),n.i=null,n.g.forEach(function(t,i){var o=i.toLowerCase();i!=o&&(Pb(this,i),km(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ip(e,$v)),n.i=new ua(e,n.h))}function jr(n,e,t){n.i.set(e,t)}function jv(n){return jr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ah(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ip(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,iA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function iA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ip(e,sA,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ip(e,sA,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ip(t,"/"==t.charAt(0)?Rb:oA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ip(t,aA)),n.join("")};var sA=/[#\/\?@]/g,oA=/[#\?:]/g,Rb=/[#\?]/g,$v=/[#\?@]/g,aA=/#/g;function ua(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ab(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),o=null;if(0<=i){var c=n[t].substring(0,i);o=n[t].substring(i+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Pb(n,e){cc(n),e=Ep(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Hv(n,e){return cc(n),e=Ep(n,e),n.g.has(e)}function km(n,e,t){Pb(n,e),0<t.length&&(n.i=null,n.g.set(Ep(n,e),mh(t)),n.h+=t.length)}function Ep(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(mt=ua.prototype).add=function(n,e){cc(this),this.i=null,n=Ep(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},mt.forEach=function(n,e){cc(this),this.g.forEach(function(t,i){t.forEach(function(o){n.call(e,o,i,this)},this)},this)},mt.ta=function(){cc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const o=n[i];for(let c=0;c<o.length;c++)t.push(e[i])}return t},mt.Z=function(n){cc(this);let e=[];if("string"==typeof n)Hv(this,n)&&(e=e.concat(this.g.get(Ep(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},mt.set=function(n,e){return cc(this),this.i=null,Hv(this,n=Ep(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},mt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),h=this.Z(i);for(i=0;i<h.length;i++){var o=c;""!==h[i]&&(o+="="+encodeURIComponent(String(h[i]))),n.push(o)}}return this.i=n.join("&")};var cA=class{constructor(n,e){this.g=n,this.map=e}};function Mb(n){this.l=n||uA,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ka&&Zt.g.Ka()&&Zt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uA=10;function dA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hA(n){return n.h?1:n.g?n.g.size:0}function Sh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function zv(n,e){n.g?n.g.add(e):n.h=e}function Lm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Fm(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return mh(n.i)}Mb.prototype.cancel=function(){if(this.i=Fm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Rh=class{stringify(n){return Zt.JSON.stringify(n,void 0)}parse(n){return Zt.JSON.parse(n,void 0)}};function Gv(){this.g=new Rh}function Wv(n,e,t){const i=t||"";try{Uv(n,function(o,c){let h=o;sc(o)&&(h=Sv(o)),e.push(i+c+"="+encodeURIComponent(h))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function nd(n,e,t,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function El(n){this.l=n.ec||null,this.j=n.ob||!1}function Ph(n,e){Gi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Tp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ti(El,Nv),El.prototype.g=function(){return new Ph(this.l,this.j)},El.prototype.i=function(n){return function(){return n}}({}),ti(Ph,Gi);var Tp=0;function wp(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Vm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rd(n)}function rd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(mt=Ph.prototype).open=function(n,e){if(this.readyState!=Tp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rd(this)},mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vm(this)),this.readyState=Tp},mt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rd(this)),this.g&&(this.readyState=3,rd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wp(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},mt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vm(this):rd(this),3==this.readyState&&wp(this)}},mt.Za=function(n){this.g&&(this.response=this.responseText=n,Vm(this))},mt.Ya=function(n){this.g&&(this.response=n,Vm(this))},mt.ka=function(){this.g&&Vm(this)},mt.setRequestHeader=function(n,e){this.v.append(n,e)},mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ph.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Cp=Zt.JSON.parse;function Ii(n){Gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kv,this.L=this.M=!1}ti(Ii,Gi);var Kv="",fA=/^https?$/i,pA=["POST","PUT"];function Qv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xb(n),nu(n)}function xb(n){n.F||(n.F=!0,gs(n,"complete"),gs(n,"error"))}function Ob(n){if(n.h&&typeof dh<"u"&&(!n.C[1]||4!=da(n)||2!=n.da()))if(n.v&&4==da(n))wm(n.La,0,n);else if(gs(n,"readystatechange"),4==da(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var o=String(n.I).match(Bv)[1]||null;!o&&Zt.self&&Zt.self.location&&(o=Zt.self.location.protocol.slice(0,-1)),i=!fA.test(o?o.toLowerCase():"")}t=i}if(t)gs(n,"complete"),gs(n,"success");else{n.m=6;try{var c=2<da(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",xb(n)}}finally{nu(n)}}}function nu(n,e){if(n.g){Xv(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||gs(n,"ready");try{t.onreadystatechange=i}catch{}}}function Xv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function da(n){return n.g?n.g.readyState:0}function Nb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Kv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gA(n){let e="";return la(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function id(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=gA(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jr(n,e,t))}function Dp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ap(n){this.Ga=0,this.j=[],this.l=new ac,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dp("baseRetryDelayMs",5e3,n),this.hb=Dp("retryDelaySeedMs",1e4,n),this.eb=Dp("forwardChannelMaxRetries",2,n),this.xa=Dp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Mb(n&&n.concurrentRequestLimit),this.Ja=new Gv,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sp(n){if(Yv(n),3==n.H){var e=n.W++,t=lc(n.I);if(jr(t,"SID",n.K),jr(t,"RID",e),jr(t,"TYPE","terminate"),xh(n,t),(e=new Fi(n,n.l,e)).L=2,e.A=jv(lc(t)),t=!1,Zt.navigator&&Zt.navigator.sendBeacon)try{t=Zt.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Zt.Image&&((new Image).src=e.A,t=!0),t||(e.g=tI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),yp(e)}$m(n)}function Um(n){n.g&&(Pp(n),n.g.cancel(),n.g=null)}function Yv(n){Um(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),jm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function Mh(n){if(!dA(n.i)&&!n.m){n.m=!0;var e=n.Na;bm||Pv(),Ju||(bm(),Ju=!0),Va.add(e,n),n.C=0}}function Rp(n,e){var t;t=e?e.m:n.W++;const i=lc(n.I);jr(i,"SID",n.K),jr(i,"RID",t),jr(i,"AID",n.V),xh(n,i),n.o&&n.s&&id(i,n.o,n.s),t=new Fi(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Zv(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),zv(n.i,t),Rm(t,i,e)}function xh(n,e){n.na&&la(n.na,function(t,i){jr(e,i,t)}),n.h&&Uv({},function(t,i){jr(e,i,t)})}function Zv(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Di(n.h.Va,n.h,n):null;e:{var o=n.j;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=o[0].g,h.push("ofs="+c)):c=0:h.push("ofs="+c);let g=!0;for(let v=0;v<t;v++){let D=o[v].g;const x=o[v].map;if(D-=c,0>D)c=Math.max(0,o[v].g-100),g=!1;else try{Wv(x,h,"req"+D+"_")}catch{i&&i(x)}}if(g){i=h.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Jv(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;bm||Pv(),Ju||(bm(),Ju=!0),Va.add(e,n),n.A=0}}function Oh(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=td(Di(n.Ma,n),mA(n,n.A)),n.A++,0))}function Pp(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function sd(n){n.g=new Fi(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=lc(n.wa);jr(e,"RID","rpc"),jr(e,"SID",n.K),jr(e,"AID",n.V),jr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&jr(e,"TO",n.qa),jr(e,"TYPE","xmlhttp"),xh(n,e),n.o&&n.s&&id(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=jv(lc(e)),t.u=null,t.S=!0,bb(t,n)}function jm(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function kb(n,e){var t=null;if(n.g==e){jm(n),Pp(n),n.g=null;var i=2}else{if(!Sh(n.i,e))return;t=e.F,Lm(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var o=n.C;gs(i=Jc(),new gp(i,t)),Mh(n)}else Jv(n);else if(3==(o=e.s)||0==o&&0<e.ca||!(1==i&&function Bm(n,e){return!(hA(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=td(Di(n.Na,n,e),mA(n,n.C)),n.C++,0)))}(n,e)||2==i&&Oh(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:bl(n,5);break;case 4:bl(n,10);break;case 3:bl(n,6);break;default:bl(n,2)}}function mA(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function bl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Di(n.pb,n);t||(t=new tu("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||Om(t,"https"),jv(t)),function bp(n,e){const t=new ac;if(Zt.Image){const i=new Image;i.onload=gh(nd,t,i,"TestLoadImage: loaded",!0,e),i.onerror=gh(nd,t,i,"TestLoadImage: error",!1,e),i.onabort=gh(nd,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=gh(nd,t,i,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else os(2);n.H=0,n.h&&n.h.za(e),$m(n),Yv(n)}function $m(n){if(n.H=0,n.ma=[],n.h){const e=Fm(n.i);(0!=e.length||0!=n.j.length)&&(op(n.ma,e),op(n.ma,n.j),n.i.i.length=0,mh(n.j),n.j.length=0),n.h.ya()}}function eI(n,e,t){var i=t instanceof tu?lc(t):new tu(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Nm(i,i.m);else{var o=Zt.location;i=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new tu(null);i&&Om(c,i),e&&(c.g=e),o&&Nm(c,o),t&&(c.l=t),i=c}return e=n.Da,(t=n.F)&&e&&jr(i,t,e),jr(i,"VER",n.ra),xh(n,i),i}function tI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ii(n.Ha&&!n.va?new El({ob:t}):n.va)).Oa(n.J),e}function nI(){}function Tl(){if(Na&&!(10<=Number(Rn)))throw Error("Environmental error: no available transport.")}function Bo(n,e){Gi.call(this),this.g=new Ap(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!_h(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_h(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nh(this)}function Lb(n){ks.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Fb(){_p.call(this),this.status=1}function Nh(n){this.g=n}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ru(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)i[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)i[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],h=(e=n.g[0])+(c^(t=n.g[1])&((o=n.g[2])^c))+i[0]+3614090360&4294967295;h=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=t+(h<<7&4294967295|h>>>25))+((h=c+(o^e&(t^o))+i[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=o+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^o&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(o^c))+i[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=c+(o^e&(t^o))+i[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=o+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^o&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(o^c))+i[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=c+(o^e&(t^o))+i[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=o+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^o&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^t&(o^c))+i[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=c+(o^e&(t^o))+i[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=o+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^o&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(o^c&(t^o))+i[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^o&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=o+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(o^c))+i[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(o^c&(t^o))+i[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^o&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=o+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(o^c))+i[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(o^c&(t^o))+i[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^o&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=o+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(o^c))+i[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(o^c&(t^o))+i[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=c+(t^o&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=o+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=t+(c^e&(o^c))+i[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(t^o^c)+i[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^o)+i[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=o+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=t+(o^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^o^c)+i[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^o)+i[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=o+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=t+(o^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^o^c)+i[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^o)+i[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=o+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=t+(o^c^e)+i[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^o^c)+i[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^t^o)+i[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=o+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=t+(o^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(o^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~o))+i[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=o+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(o|~e))+i[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(o^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~o))+i[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=o+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(o|~e))+i[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(o^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~o))+i[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=o+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=t+(c^(o|~e))+i[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((c=(e=t+((h=e+(o^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=c+(t^(e|~o))+i[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((o=c+((h=o+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(h<<21&4294967295|h>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+c&4294967295}function yr(n,e){this.h=e;for(var t=[],i=!0,o=n.length-1;0<=o;o--){var c=0|n[o];i&&c==e||(t[o]=c,i=!1)}this.g=t}(mt=Ii.prototype).Oa=function(n){this.M=n},mt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sm.g(),this.C=function kv(n){return n.h||(n.h=n.i())}(this.u?this.u:Sm),this.g.onreadystatechange=Di(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void Qv(this,c)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)t.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),o=Zt.FormData&&n instanceof Zt.FormData,!(0<=oc(pA,e))||i||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,h]of t)this.g.setRequestHeader(c,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xv(this),0<this.B&&((this.L=function qv(n){return Na&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.ua,this)):this.A=wm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Qv(this,c)}},mt.ua=function(){typeof dh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gs(this,"timeout"),this.abort(8))},mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gs(this,"complete"),gs(this,"abort"),nu(this))},mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nu(this,!0)),Ii.$.N.call(this)},mt.La=function(){this.s||(this.G||this.v||this.l?Ob(this):this.kb())},mt.kb=function(){Ob(this)},mt.isActive=function(){return!!this.g},mt.da=function(){try{return 2<da(this)?this.g.status:-1}catch{return-1}},mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},mt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Cp(e)}},mt.Ia=function(){return this.m},mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(mt=Ap.prototype).ra=8,mt.H=1,mt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Fi(this,this.l,n);let c=this.s;if(this.U&&(c?(c=vh(c),Fa(c,this.U)):c=this.U),null!==this.o||this.O||(o.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Zv(this,o,e),jr(t=lc(this.I),"RID",n),jr(t,"CVER",22),this.F&&jr(t,"X-HTTP-Session-Id",this.F),xh(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(gA(c)))+"&"+e:this.o&&id(t,this.o,c)),zv(this.i,o),this.bb&&jr(t,"TYPE","init"),this.P?(jr(t,"$req",e),jr(t,"SID","null"),o.aa=!0,Rm(o,t,null)):Rm(o,t,e),this.H=2}}else 3==this.H&&(n?Rp(this,n):0==this.j.length||dA(this.i)||Rp(this))},mt.Ma=function(){if(this.u=null,sd(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=td(Di(this.jb,this),n)}},mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,os(10),Um(this),sd(this))},mt.ib=function(){null!=this.v&&(this.v=null,Um(this),Oh(this),os(19))},mt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),os(2)):(this.l.info("Failed to ping google.com"),os(1))},mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(mt=nI.prototype).Ba=function(){},mt.Aa=function(){},mt.za=function(){},mt.ya=function(){},mt.isActive=function(){return!0},mt.Va=function(){},Tl.prototype.g=function(n,e){return new Bo(n,e)},ti(Bo,Gi),Bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;os(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=eI(n,null,n.Y),Mh(n)},Bo.prototype.close=function(){Sp(this.g)},Bo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Sv(n),n=t);e.j.push(new cA(e.fb++,n)),3==e.H&&Mh(e)},Bo.prototype.N=function(){this.g.h=null,delete this.j,Sp(this.g),delete this.g,Bo.$.N.call(this)},ti(Lb,ks),ti(Fb,_p),ti(Nh,nI),Nh.prototype.Ba=function(){gs(this.g,"a")},Nh.prototype.Aa=function(n){gs(this.g,new Lb(n))},Nh.prototype.za=function(n){gs(this.g,new Fb)},Nh.prototype.ya=function(){gs(this.g,"b")},ti(Wi,function _A(){this.blockSize=-1}),Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,o=this.h,c=0;c<e;){if(0==o)for(;c<=t;)ru(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(i[o++]=n.charCodeAt(c++),o==this.blockSize){ru(this,i),o=0;break}}else for(;c<e;)if(i[o++]=n[c++],o==this.blockSize){ru(this,i),o=0;break}}this.h=o,this.i+=e},Wi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var yA={};function rI(n){return-128<=n&&128>n?function Yu(n,e){var t=yA;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new yr([0|e],0>e?-1:0)}):new yr([0|n],0>n?-1:0)}function wl(n){if(isNaN(n)||!isFinite(n))return od;if(0>n)return Vi(wl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=iI;return new yr(e,0)}var iI=4294967296,od=rI(0),sI=rI(1),Ub=rI(16777216);function uc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ha(n){return-1==n.h}function Vi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new yr(t,~n.h).add(sI)}function fa(n,e){return n.add(Vi(e))}function iu(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function kh(n,e){this.g=n,this.h=e}function Mp(n,e){if(uc(e))throw Error("division by zero");if(uc(n))return new kh(od,od);if(ha(n))return e=Mp(Vi(n),e),new kh(Vi(e.g),Vi(e.h));if(ha(e))return e=Mp(n,Vi(e)),new kh(Vi(e.g),e.h);if(30<n.g.length){if(ha(n)||ha(e))throw Error("slowDivide_ only works with positive integers.");for(var t=sI,i=e;0>=i.X(n);)t=oI(t),i=oI(i);var o=xp(t,1),c=xp(i,1);for(i=xp(i,2),t=xp(t,2);!uc(i);){var h=c.add(i);0>=h.X(n)&&(o=o.add(t),c=h),i=xp(i,1),t=xp(t,1)}return e=fa(n,o.R(e)),new kh(o,e)}for(o=od;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),h=(c=wl(t)).R(e);ha(h)||0<h.X(n);)h=(c=wl(t-=i)).R(e);uc(c)&&(c=sI),o=o.add(c),n=fa(n,h)}return new kh(o,n)}function oI(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new yr(t,n.h)}function xp(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,o=[],c=0;c<i;c++)o[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new yr(o,n.h)}(mt=yr.prototype).ea=function(){if(ha(this))return-Vi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:iI+i)*e,e*=iI}return n},mt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(uc(this))return"0";if(ha(this))return"-"+Vi(this).toString(n);for(var e=wl(Math.pow(n,6)),t=this,i="";;){var o=Mp(t,e).g,c=((0<(t=fa(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(uc(t=o))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},mt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},mt.X=function(n){return ha(n=fa(this,n))?-1:uc(n)?0:1},mt.abs=function(){return ha(this)?Vi(this):this},mt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,o=0;o<=e;o++){var c=i+(65535&this.D(o))+(65535&n.D(o)),h=(c>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);i=h>>>16,t[o]=(h&=65535)<<16|(c&=65535)}return new yr(t,-2147483648&t[t.length-1]?-1:0)},mt.R=function(n){if(uc(this)||uc(n))return od;if(ha(this))return ha(n)?Vi(this).R(Vi(n)):Vi(Vi(this).R(n));if(ha(n))return Vi(this.R(Vi(n)));if(0>this.X(Ub)&&0>n.X(Ub))return wl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<n.g.length;o++){var c=this.D(i)>>>16,h=65535&this.D(i),g=n.D(o)>>>16,v=65535&n.D(o);t[2*i+2*o]+=h*v,iu(t,2*i+2*o),t[2*i+2*o+1]+=c*v,iu(t,2*i+2*o+1),t[2*i+2*o+1]+=h*g,iu(t,2*i+2*o+1),t[2*i+2*o+2]+=c*g,iu(t,2*i+2*o+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new yr(t,0)},mt.gb=function(n){return Mp(this,n).h},mt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new yr(t,this.h&n.h)},mt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new yr(t,this.h|n.h)},mt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new yr(t,this.h^n.h)},Tl.prototype.createWebChannel=Tl.prototype.g,Bo.prototype.send=Bo.prototype.u,Bo.prototype.open=Bo.prototype.m,Bo.prototype.close=Bo.prototype.close,Am.NO_ERROR=0,Am.TIMEOUT=8,Am.HTTP_ERROR=6,vb.COMPLETE="complete",Ib.EventType=mp,mp.OPEN="a",mp.CLOSE="b",mp.ERROR="c",mp.MESSAGE="d",Gi.prototype.listen=Gi.prototype.O,Ii.prototype.listenOnce=Ii.prototype.P,Ii.prototype.getLastError=Ii.prototype.Sa,Ii.prototype.getLastErrorCode=Ii.prototype.Ia,Ii.prototype.getStatus=Ii.prototype.da,Ii.prototype.getResponseJson=Ii.prototype.Wa,Ii.prototype.getResponseText=Ii.prototype.ja,Ii.prototype.send=Ii.prototype.ha,Ii.prototype.setWithCredentials=Ii.prototype.Oa,Wi.prototype.digest=Wi.prototype.l,Wi.prototype.reset=Wi.prototype.reset,Wi.prototype.update=Wi.prototype.j,yr.prototype.add=yr.prototype.add,yr.prototype.multiply=yr.prototype.R,yr.prototype.modulo=yr.prototype.gb,yr.prototype.compare=yr.prototype.X,yr.prototype.toNumber=yr.prototype.ea,yr.prototype.toString=yr.prototype.toString,yr.prototype.getBits=yr.prototype.D,yr.fromNumber=wl,yr.fromString=function Vb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Vi(Vb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=wl(Math.pow(e,8)),i=od,o=0;o<n.length;o+=8){var c=Math.min(8,n.length-o),h=parseInt(n.substring(o,o+c),e);8>c?(c=wl(Math.pow(e,c)),i=i.R(c).add(wl(h))):i=(i=i.R(t)).add(wl(h))}return i};var fM=Vo.createWebChannelTransport=function(){return new Tl},pM=Vo.getStatEventTarget=function(){return Jc()},Op=Vo.ErrorCode=Am,aI=Vo.EventType=vb,gM=Vo.Event=ed,vA=Vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bb=Vo.FetchXmlHttpFactory=El,Hm=Vo.WebChannel=Ib,IA=Vo.XhrIo=Ii,EA=Vo.Md5=Wi,Lh=Vo.Integer=yr;const jb="@firebase/firestore";class Ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");let ad="10.11.1";const su=new Sr.Vy("@firebase/firestore");function Fh(){return su.logLevel}function Ye(n,...e){if(su.logLevel<=Sr.$b.DEBUG){const t=e.map(lI);su.debug(`Firestore (${ad}): ${n}`,...t)}}function Ei(n,...e){if(su.logLevel<=Sr.$b.ERROR){const t=e.map(lI);su.error(`Firestore (${ad}): ${n}`,...t)}}function Ls(n,...e){if(su.logLevel<=Sr.$b.WARN){const t=e.map(lI);su.warn(`Firestore (${ad}): ${n}`,...t)}}function lI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function wt(n="Unexpected state"){const e=`FIRESTORE (${ad}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function Nt(n,e){n||wt()}function ft(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Qt.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ki.UNAUTHENTICATED))}shutdown(){}}class Hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mM{constructor(e){this.t=e,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let o=this.i;const c=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let h=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new qi,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const D=h;e.enqueueRetryable((0,Ue.A)(function*(){yield D.promise,yield c(i.currentUser)}))},v=D=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new qi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Nt("string"==typeof i.accessToken),new cI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new Ki(e)}}class _M{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Np{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new _M(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=c=>{null!=c.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,Ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.R=t.token,new zb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Wb{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const o=Gb(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return i}}function gn(n,e){return n<e?-1:n>e?1:0}function Vh(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}function Kb(n){return n+"\0"}class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ni(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new ni(0,0))}static max(){return new Ut(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ld{constructor(e,t,i){void 0===t?t=0:t>e.length&&wt(),void 0===i?i=e.length-t:i>e.length-t&&wt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ld.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ld?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=e.get(o),h=t.get(o);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zn extends ld{construct(e,t,i){return new zn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new zn(t)}static emptyPath(){return new zn([])}}const vM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends ld{construct(e,t,i){return new Fr(e,t,i)}static isValidIdentifier(e){return vM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(0===i.length)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Xe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Xe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,o+=2}else"`"===g?(h=!h,o++):"."!==g||h?(i+=g,o++):(c(),o++)}if(c(),h)throw new Xe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(zn.fromString(e))}static fromName(e){return new _t(zn.fromString(e).popFirst(5))}static empty(){return new _t(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new zn(e.slice()))}}class kp{constructor(e,t,i,o){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=o}}function qb(n){return n.fields.find(e=>2===e.kind)}function Uh(n){return n.fields.filter(e=>2!==e.kind)}kp.UNKNOWN_ID=-1;class cd{constructor(e,t){this.fieldPath=e,this.kind=t}}class dc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dc(0,fo.min())}}function Gm(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ut.fromTimestamp(1e9===i?new ni(t+1,0):new ni(t,i));return new fo(o,_t.empty(),e)}function uI(n){return new fo(n.readTime,n.key,-1)}class fo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fo(Ut.min(),_t.empty(),-1)}static max(){return new fo(Ut.max(),_t.empty(),-1)}}function dI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=_t.comparator(n.documentKey,e.documentKey),0!==t?t:gn(n.largestBatchId,e.largestBatchId))}const hI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function jo(n){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,Ue.A)(function*(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==hI)throw n;Ye("LocalStore","Unexpectedly lost primary lease")}),Qs.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let o=0,c=0,h=!1;e.forEach(g=>{++o,g.next(()=>{++c,h&&c===o&&t()},v=>i(v))}),h=!0,c===o&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(o=>o?he.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new he((i,o)=>{const c=e.length,h=new Array(c);let g=0;for(let v=0;v<c;v++){const D=v;t(e[D]).next(x=>{h[D]=x,++g,g===c&&i(h)},x=>o(x))}})}static doWhile(e,t){return new he((i,o)=>{const c=()=>{!0===e()?t().next(()=>{c()},o):i()};c()})}}class Lp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new qi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wm(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const o=Vp(i.target.error);this.V.reject(new Wm(e,o))}}static open(e,t,i,o){try{return new Lp(t,e.transaction(o,i))}catch(c){throw new Wm(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Xb(t)}}class hc{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===hc.S((0,Qt.ZQ)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ye("SimpleDb","Removing database:",e),Bh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Qt.zW)())return!1;if(hc.C())return!0;const e=(0,Qt.ZQ)(),t=hc.S(e),i=0<t&&t<10,o=Qb(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,Ue.A)(function*(){return t.db||(Ye("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{i(h.target.result)},c.onblocked=()=>{o(new Wm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const g=h.target.error;o("VersionError"===g.name?new Xe(Ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Xe(Ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Wm(e,g))},c.onupgradeneeded=h=>{Ye("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.p.O(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Ye("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,o){var c=this;return(0,Ue.A)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.M(e);const v=Lp.open(c.db,e,h?"readonly":"readwrite",i),D=o(v).next(x=>(v.g(),x)).catch(x=>(v.abort(x),he.reject(x))).toPromise();return D.catch(()=>{}),yield v.m,D}catch(v){const D=v,x="FirebaseError"!==D.name&&g<3;if(Ye("SimpleDb","Transaction failed with error:",D.message,"Retrying:",x),c.close(),!x)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Qb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class EM{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Bh(this.B.delete())}}class Wm extends Xe{constructor(e,t){super(Ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fc(n){return"IndexedDbTransactionError"===n.name}class Xb{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ye("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Bh(i)}add(e){return Ye("SimpleDb","ADD",this.store.name,e,e),Bh(this.store.add(e))}get(e){return Bh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ye("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ye("SimpleDb","DELETE",this.store.name,e),Bh(this.store.delete(e))}count(){return Ye("SimpleDb","COUNT",this.store.name),Bh(this.store.count())}U(e,t){const i=this.options(e,t),o=i.index?this.store.index(i.index):this.store;if("function"==typeof o.getAll){const c=o.getAll(i.range);return new he((h,g)=>{c.onerror=v=>{g(v.target.error)},c.onsuccess=v=>{h(v.target.result)}})}{const c=this.cursor(i),h=[];return this.W(c,(g,v)=>{h.push(v)}).next(()=>h)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new he((o,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}j(e,t){Ye("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const o=this.cursor(i);return this.W(o,(c,h,g)=>g.delete())}J(e,t){let i;t?i=e:(i={},t=e);const o=this.cursor(i);return this.W(o,t)}Y(e){const t=this.cursor({});return new he((i,o)=>{t.onerror=c=>{const h=Vp(c.target.error);o(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():i()}):i()}})}W(e,t){const i=[];return new he((o,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void o();const v=new EM(g),D=t(g.primaryKey,g.value,v);if(D instanceof he){const x=D.catch(L=>(v.done(),he.reject(L)));i.push(x)}v.isDone?o():null===v.K?g.continue():g.continue(v.K)}}).next(()=>he.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bh(n){return new he((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const o=Vp(i.target.error);t(o)}})}let Fp=!1;function Vp(n){const e=hc.S((0,Qt.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fp||(Fp=!0,setTimeout(()=>{throw i},0)),i}}return n}class pI{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Ye("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ue.A)(function*(){t.task=null;try{Ye("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){fc(i)?Ye("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield jo(i)}yield t.X(6e4)}))}}class CA{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,Ue.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))})()}te(e,t){const i=new Set;let o=t,c=!0;return he.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!i.has(h))return Ye("IndexBackfiller",`Processing collection: ${h}`),this.ne(e,h,o).next(g=>{o-=g,i.add(h)});c=!1})).next(()=>t-o)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,i).next(c=>{const h=c.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.re(o,c)).next(g=>(Ye("IndexBackfiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>h.size)}))}re(e,t){let i=e;return t.changes.forEach((o,c)=>{const h=uI(c);dI(h,i)>0&&(i=h)}),new fo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let as=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=o=>this.ie(o),this.se=o=>i.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function ud(n){return null==n}function jh(n){return 0===n&&1/n==-1/0}function Km(n){return"number"==typeof n&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Qi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yb(e)),e=DA(n.get(t),e);return Yb(e)}function DA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function Yb(n){return n+"\x01\x01"}function Ua(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),zn.emptyPath();const t=e-2,i=[];let o="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&wt(),n.charAt(h+1)){case"\x01":const g=n.substring(c,h);let v;0===o.length?v=g:(o+=g,v=o,o=""),i.push(v);break;case"\x10":o+=n.substring(c,h),o+="\0";break;case"\x11":o+=n.substring(c,h+1);break;default:wt()}c=h+2}return new zn(i)}const Zb=["userId","batchId"];function qm(n,e){return[n,Qi(e)]}function Jb(n,e,t){return[n,Qi(e),t]}const eT={},Up=["prefixPath","collectionGroup","readTime","documentId"],Qm=["prefixPath","collectionGroup","documentId"],gI=["collectionGroup","readTime","prefixPath","documentId"],AA=["canonicalId","targetId"],SA=["targetId","path"],mI=["path","targetId"],tT=["collectionId","parent"],dd=["indexId","uid"],nT=["uid","sequenceNumber"],rT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RA=["indexId","uid","orderedDocumentKey"],bM=["userId","collectionPath","documentId"],Xm=["userId","collectionPath","largestBatchId"],PA=["userId","collectionGroup","largestBatchId"],_I=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iT=[..._I,"documentOverlays"],yI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ym=yI,vI=[...Ym,"indexConfiguration","indexState","indexEntries"],Zm=vI;class hd extends fI{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Xi(n,e){const t=ft(n);return hc.F(t._e,e)}function Jm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function II(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Rr{constructor(e,t){this.comparator=e,this.root=t||ms.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ms.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ms.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(0===o)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ms{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??ms.RED,this.left=o??ms.EMPTY,this.right=c??ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new ms(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ms.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ms.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}ms.EMPTY=null,ms.RED=!0,ms.BLACK=!1,ms.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,t,i,o,c){return this}insert(e,t,i){return new ms(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $h(n){return n.hasNext()?n.getNext():void 0}class po{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new po([])}unionWith(e){let t=new vr(Fr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new po(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class EI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new EI("Invalid base64 string: "+c):c}}(e);return new kt(t)}static fromUint8Array(e){const t=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const aT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=aT.exec(n);if(Nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dl(n){return"string"==typeof n?kt.fromBase64String(n):kt.fromUint8Array(n)}function Bp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function e_(n){const e=n.mapValue.fields.__previous_value__;return Bp(e)?e_(e):e}function ou(n){const e=Cl(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class Hh{constructor(e,t,i,o,c,h,g,v,D){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=D}}class Al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}const ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jp={nullValue:"NULL_VALUE"};function Sl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bp(n)?4:uT(n)?9007199254740991:10:wt()}function ma(n,e){if(n===e)return!0;const t=Sl(n);if(t!==Sl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ou(n).isEqual(ou(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Cl(o.timestampValue),g=Cl(c.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Dl(n.bytesValue).isEqual(Dl(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,c){return Vr(o.geoPointValue.latitude)===Vr(c.geoPointValue.latitude)&&Vr(o.geoPointValue.longitude)===Vr(c.geoPointValue.longitude)}(n,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Vr(o.integerValue)===Vr(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Vr(o.doubleValue),g=Vr(c.doubleValue);return h===g?jh(h)===jh(g):isNaN(h)&&isNaN(g)}return!1}(n,e);case 9:return Vh(n.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:return function(o,c){const h=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Jm(h)!==Jm(g))return!1;for(const v in h)if(h.hasOwnProperty(v)&&(void 0===g[v]||!ma(h[v],g[v])))return!1;return!0}(n,e);default:return wt()}var c}function pd(n,e){return void 0!==(n.values||[]).find(t=>ma(t,e))}function pc(n,e){if(n===e)return 0;const t=Sl(n),i=Sl(e);if(t!==i)return gn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,e.booleanValue);case 2:return function(c,h){const g=Vr(c.integerValue||c.doubleValue),v=Vr(h.integerValue||h.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(n,e);case 3:return t_(n.timestampValue,e.timestampValue);case 4:return t_(ou(n),ou(e));case 5:return gn(n.stringValue,e.stringValue);case 6:return function(c,h){const g=Dl(c),v=Dl(h);return g.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(c,h){const g=c.split("/"),v=h.split("/");for(let D=0;D<g.length&&D<v.length;D++){const x=gn(g[D],v[D]);if(0!==x)return x}return gn(g.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,h){const g=gn(Vr(c.latitude),Vr(h.latitude));return 0!==g?g:gn(Vr(c.longitude),Vr(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,h){const g=c.values||[],v=h.values||[];for(let D=0;D<g.length&&D<v.length;++D){const x=pc(g[D],v[D]);if(x)return x}return gn(g.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,h){if(c===ga.mapValue&&h===ga.mapValue)return 0;if(c===ga.mapValue)return 1;if(h===ga.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),D=h.fields||{},x=Object.keys(D);v.sort(),x.sort();for(let L=0;L<v.length&&L<x.length;++L){const Q=gn(v[L],x[L]);if(0!==Q)return Q;const J=pc(g[v[L]],D[x[L]]);if(0!==J)return J}return gn(v.length,x.length)}(n.mapValue,e.mapValue);default:throw wt()}}function t_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return gn(n,e);const t=Cl(n),i=Cl(e),o=gn(t.seconds,i.seconds);return 0!==o?o:gn(t.nanos,i.nanos)}function zh(n){return bI(n)}function bI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Cl(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dl(n.bytesValue).toBase64():"referenceValue"in n?_t.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=bI(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${bI(t.fields[h])}`;return o+"}"}(n.mapValue):wt()}function au(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function TI(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function lT(n){return!!n&&"nullValue"in n}function cT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hp(n){return!!n&&"mapValue"in n}function Gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Gh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function MA(n){return"nullValue"in n?jp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?au(Al.empty(),_t.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:wt()}function go(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?au(Al.empty(),_t.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ga:wt()}function dT(n,e){const t=pc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hT(n,e){const t=pc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Fs{constructor(e){this.value=e}static empty(){return new Fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gh(t)}setAll(e){let t=Fr.emptyPath(),i={},o=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,i,o),i={},o=[],t=g.popLast()}h?i[g.lastSegment()]=Gh(h):o.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());Hp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Hp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){pa(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new Fs(Gh(this.value))}}function r_(n){const e=[];return pa(n.fields,(t,i)=>{const o=new Fr([t]);if(Hp(i)){const c=r_(i.mapValue).fields;if(0===c.length)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new po(e)}class $r{constructor(e,t,i,o,c,h,g){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=g}static newInvalidDocument(e){return new $r(e,0,Ut.min(),Ut.min(),Ut.min(),Fs.empty(),0)}static newFoundDocument(e,t,i,o){return new $r(e,1,t,Ut.min(),i,o,0)}static newNoDocument(e,t){return new $r(e,2,t,Ut.min(),Ut.min(),Fs.empty(),0)}static newUnknownDocument(e,t){return new $r(e,3,t,Ut.min(),Ut.min(),Fs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lu{constructor(e,t){this.position=e,this.inclusive=t}}function fT(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(i=c.field.isKeyField()?_t.comparator(_t.fromName(h.referenceValue),t.key):pc(h,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function pT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ma(n.position[t],e.position[t]))return!1;return!0}class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function xA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class gT{}class kn extends gT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new vT(e,t,i):"array-contains"===t?new TM(e,i):"in"===t?new DI(e,i):"not-in"===t?new ET(e,i):"array-contains-any"===t?new bT(e,i):new kn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new IT(e,i):new s_(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pc(t,this.value)):null!==t&&Sl(this.value)===Sl(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends gT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ir(e,t)}matches(e){return Kh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kh(n){return"and"===n.op}function wI(n){return"or"===n.op}function CI(n){return mT(n)&&Kh(n)}function mT(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function _a(n){if(n instanceof kn)return n.field.canonicalString()+n.op.toString()+zh(n.value);if(CI(n))return n.filters.map(e=>_a(e)).join(",");{const e=n.filters.map(t=>_a(t)).join(",");return`${n.op}(${e})`}}function i_(n,e){return n instanceof kn?(i=n,(o=e)instanceof kn&&i.op===o.op&&i.field.isEqual(o.field)&&ma(i.value,o.value)):n instanceof Ir?function(i,o){return o instanceof Ir&&i.op===o.op&&i.filters.length===o.filters.length&&i.filters.reduce((c,h,g)=>c&&i_(h,o.filters[g]),!0)}(n,e):void wt();var i,o}function _T(n,e){const t=n.filters.concat(e);return Ir.create(t,n.op)}function yT(n){return n instanceof kn?`${(t=n).field.canonicalString()} ${t.op} ${zh(t.value)}`:n instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(yT).join(" ,")+"}"}(n):"Filter";var t}class vT extends kn{constructor(e,t,i){super(e,t,i),this.key=_t.fromName(i.referenceValue)}matches(e){const t=_t.comparator(e.key,this.key);return this.matchesComparison(t)}}class IT extends kn{constructor(e,t){super(e,"in",t),this.keys=o_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class s_ extends kn{constructor(e,t){super(e,"not-in",t),this.keys=o_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>_t.fromName(i.referenceValue))}class TM extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&pd(t.arrayValue,this.value)}}class DI extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pd(this.value.arrayValue,t)}}class ET extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pd(this.value.arrayValue,t)}}class bT extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pd(this.value.arrayValue,i))}}class a_{constructor(e,t=null,i=[],o=[],c=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=g,this.ue=null}}function zp(n,e=null,t=[],i=[],o=null,c=null,h=null){return new a_(n,e,t,i,o,c,h)}function Xs(n){const e=ft(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>_a(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zh(i)).join(",")),e.ue=t}return e.ue}function Gp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!i_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pT(n.startAt,e.startAt)&&pT(n.endAt,e.endAt)}function l_(n){return _t.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function qh(n,e){return n.filters.filter(t=>t instanceof kn&&t.field.isEqual(e))}function TT(n,e,t){let i=jp,o=!0;for(const c of qh(n,e)){let h=jp,g=!0;switch(c.op){case"<":case"<=":h=MA(c.value);break;case"==":case"in":case">=":h=c.value;break;case">":h=c.value,g=!1;break;case"!=":case"not-in":h=jp}dT({value:i,inclusive:o},{value:h,inclusive:g})<0&&(i=h,o=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const h=t.position[c];dT({value:i,inclusive:o},{value:h,inclusive:t.inclusive})<0&&(i=h,o=t.inclusive);break}return{value:i,inclusive:o}}function Qh(n,e,t){let i=ga,o=!0;for(const c of qh(n,e)){let h=ga,g=!0;switch(c.op){case">=":case">":h=go(c.value),g=!1;break;case"==":case"in":case"<=":h=c.value;break;case"<":h=c.value,g=!1;break;case"!=":case"not-in":h=ga}hT({value:i,inclusive:o},{value:h,inclusive:g})>0&&(i=h,o=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const h=t.position[c];hT({value:i,inclusive:o},{value:h,inclusive:t.inclusive})>0&&(i=h,o=t.inclusive);break}return{value:i,inclusive:o}}class Rl{constructor(e,t=null,i=[],o=[],c=null,h="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null}}function gd(n,e,t,i,o,c,h,g){return new Rl(n,e,t,i,o,c,h,g)}function Pl(n){return new Rl(n)}function c_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function md(n){return null!==n.collectionGroup}function _d(n){const e=ft(n);if(null===e.ce){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new vr(Fr.comparator);return h.filters.forEach(v=>{v.getFlattenedFilters().forEach(D=>{D.isInequality()&&(g=g.add(D.field))})}),g})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Wh(c,i))}),t.has(Fr.keyField().canonicalString())||e.ce.push(new Wh(Fr.keyField(),i))}return e.ce}function Vs(n){const e=ft(n);return e.le||(e.le=function wT(n,e){if("F"===n.limitType)return zp(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>new Wh(o.field,"desc"===o.dir?"asc":"desc"));const t=n.endAt?new lu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new lu(n.startAt.position,n.startAt.inclusive):null;return zp(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,_d(n))),e.le}function AI(n,e){const t=n.filters.concat([e]);return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function u_(n,e,t){return new Rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wp(n,e){return Gp(Vs(n),Vs(e))&&n.limitType===e.limitType}function SI(n){return`${Xs(Vs(n))}|lt:${n.limitType}`}function gc(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>yT(o)).join(", ")}]`),ud(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>{return`${(h=o).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>zh(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>zh(o)).join(",")),`Target(${i})`}(Vs(n))}; limitType=${n.limitType})`}function Kp(n,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):_t.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,o){for(const c of _d(i))if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(n,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(n,e)&&(o=e,!((i=n).startAt&&!function(h,g,v){const D=fT(h,g,v);return h.inclusive?D<=0:D<0}(i.startAt,_d(i),o)||i.endAt&&!function(h,g,v){const D=fT(h,g,v);return h.inclusive?D>=0:D>0}(i.endAt,_d(i),o)));var i,o}function OA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CT(n){return(e,t)=>{let i=!1;for(const o of _d(n)){const c=NA(o,e,t);if(0!==c)return c;i=i||o.field.isKeyField()}return 0}}function NA(n,e,t){const i=n.field.isKeyField()?_t.comparator(e.key,t.key):function(c,h,g){const v=h.data.field(c),D=g.data.field(c);return null!==v&&null!==D?pc(v,D):wt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}class Ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[o,c]of i)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0===o)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return 1===i.length?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return II(this.inner)}size(){return this.innerSize}}const kA=new Rr(_t.comparator);function mo(){return kA}const RI=new Rr(_t.comparator);function yd(...n){let e=RI;for(const t of n)e=e.insert(t.key,t);return e}function PI(n){let e=RI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _o(){return mc()}function Xh(){return mc()}function mc(){return new Ml(n=>n.toString(),(n,e)=>n.isEqual(e))}const LA=new Rr(_t.comparator),FA=new vr(_t.comparator);function Tn(...n){let e=FA;for(const t of n)e=e.add(t);return e}const d_=new vr(gn);function qp(){return d_}function DT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function VA(n){return{integerValue:""+n}}function UA(n,e){return Km(e)?VA(e):DT(n,e)}class h_{constructor(){this._=void 0}}function BA(n,e,t){return n instanceof Qp?function(o,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bp(c)&&(c=e_(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(t,e):n instanceof vd?ST(n,e):n instanceof Id?f_(n,e):function(o,c){const h=AT(o,c),g=p_(h)+p_(o.Pe);return TI(h)&&TI(o.Pe)?VA(g):DT(o.serializer,g)}(n,e)}function wM(n,e,t){return n instanceof vd?ST(n,e):n instanceof Id?f_(n,e):t}function AT(n,e){return n instanceof xl?TI(i=e)||(c=i)&&"doubleValue"in c?e:{integerValue:0}:null;var i,c}class Qp extends h_{}class vd extends h_{constructor(e){super(),this.elements=e}}function ST(n,e){const t=Xp(e);for(const i of n.elements)t.some(o=>ma(o,i))||t.push(i);return{arrayValue:{values:t}}}class Id extends h_{constructor(e){super(),this.elements=e}}function f_(n,e){let t=Xp(e);for(const i of n.elements)t=t.filter(o=>!ma(o,i));return{arrayValue:{values:t}}}class xl extends h_{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function p_(n){return Vr(n.integerValue||n.doubleValue)}function Xp(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yh{constructor(e,t){this.field=e,this.transform=t}}class RT{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Zp{}function PT(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ol(n.key,ri.none()):new Zh(n.key,n.data,ri.none());{const t=n.data,i=Fs.empty();let o=new vr(Fr.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);null===h&&c.length>1&&(c=c.popLast(),h=t.field(c)),null===h?i.delete(c):i.set(c,h),o=o.add(c)}return new _c(n.key,i,new po(o.toArray()),ri.none())}}function MT(n,e,t){n instanceof Zh?function(o,c,h){const g=o.value.clone(),v=NT(o.fieldTransforms,c,h.transformResults);g.setAll(v),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):n instanceof _c?function(o,c,h){if(!cu(o.precondition,c))return void c.convertToUnknownDocument(h.version);const g=NT(o.fieldTransforms,c,h.transformResults),v=c.data;v.setAll(OT(o)),v.setAll(g),c.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jp(n,e,t,i){return n instanceof Zh?function(c,h,g,v){if(!cu(c.precondition,h))return g;const D=c.value.clone(),x=m_(c.fieldTransforms,v,h);return D.setAll(x),h.convertToFoundDocument(h.version,D).setHasLocalMutations(),null}(n,e,t,i):n instanceof _c?function(c,h,g,v){if(!cu(c.precondition,h))return g;const D=m_(c.fieldTransforms,v,h),x=h.data;return x.setAll(OT(c)),x.setAll(D),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),null===g?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(L=>L.field))}(n,e,t,i):(g=t,cu(n.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function g_(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),c=AT(i.transform,o||null);null!=c&&(null===t&&(t=Fs.empty()),t.set(i.field,c))}return t||null}function xT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===o||i&&o&&Vh(i,o,(c,h)=>function Yp(n,e){return n.field.isEqual(e.field)&&(o=e.transform,(i=n.transform)instanceof vd&&o instanceof vd||i instanceof Id&&o instanceof Id?Vh(i.elements,o.elements,ma):i instanceof xl&&o instanceof xl?ma(i.Pe,o.Pe):i instanceof Qp&&o instanceof Qp);var i,o}(c,h))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,o}class Zh extends Zp{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _c extends Zp{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function NT(n,e,t){const i=new Map;Nt(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,g=e.data.field(c.field);i.set(c.field,wM(h,g,t[o]))}return i}function m_(n,e,t){const i=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);i.set(o.field,BA(c,h,e))}return i}class Ol extends Zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MI extends Zp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jh{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MT(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Jp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Jp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Xh();return this.mutations.forEach(o=>{const c=e.get(o.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=t.has(o.key)?null:g;const v=PT(h,g);null!==v&&i.set(o.key,v),h.isValidDocument()||h.convertToNoDocument(Ut.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tn())}isEqual(e){return this.batchId===e.batchId&&Vh(this.mutations,e.mutations,(t,i)=>xT(t,i))&&Vh(this.baseMutations,e.baseMutations,(t,i)=>xT(t,i))}}class ef{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Nt(e.mutations.length===i.length);let o=function(){return LA}();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new ef(e,t,i,o)}}class kT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $A{constructor(e,t){this.count=e,this.unchangedNames=t}}var bi,Wn;function xI(n){switch(n){default:return wt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function LT(n){if(void 0===n)return Ei("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case bi.OK:return Ae.OK;case bi.CANCELLED:return Ae.CANCELLED;case bi.UNKNOWN:return Ae.UNKNOWN;case bi.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case bi.INTERNAL:return Ae.INTERNAL;case bi.UNAVAILABLE:return Ae.UNAVAILABLE;case bi.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case bi.NOT_FOUND:return Ae.NOT_FOUND;case bi.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case bi.ABORTED:return Ae.ABORTED;case bi.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case bi.DATA_LOSS:return Ae.DATA_LOSS;default:return wt()}}(Wn=bi||(bi={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";function OI(){return new TextEncoder}const HA=new Lh([4294967295,4294967295],0);function FT(n){const e=OI().encode(n),t=new EA;return t.update(e),new Uint8Array(t.digest())}function Ed(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Lh([t,i],0),new Lh([o,c],0)]}class tf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new eg(`Invalid padding: ${t}`);if(i<0)throw new eg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new eg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new eg(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Lh.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(Lh.fromNumber(i)));return 1===o.compare(HA)&&(o=new Lh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=FT(e),[i,o]=Ed(t);for(let c=0;c<this.hashCount;c++){const h=this.Ee(i,o,c);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new tf(c,o,t);return i.forEach(g=>h.insert(g)),h}insert(e){if(0===this.Ie)return;const t=FT(e),[i,o]=Ed(t);for(let c=0;c<this.hashCount;c++){const h=this.Ee(i,o,c);this.Ae(h)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class eg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,tg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new nf(Ut.min(),o,new Rr(gn),mo(),Tn())}}class tg{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new tg(i,t,Tn(),Tn(),Tn())}}class ng{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class zA{constructor(e,t){this.targetId=e,this.me=t}}class VT{constructor(e,t,i=kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class rg{constructor(){this.fe=0,this.ge=jT(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Tn(),t=Tn(),i=Tn();return this.ge.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:wt()}}),new tg(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=jT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UT{constructor(e){this.Le=e,this.Be=new Map,this.ke=mo(),this.qe=BT(),this.Qe=new Rr(gn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const c=o.target;if(l_(c))if(0===i){const h=new _t(c.path);this.Ue(t,h,$r.newNoDocument(h,Ut.min()))}else Nt(1===i);else{const h=this.Ye(t);if(h!==i){const g=this.Ze(e),v=g?this.Xe(g,e,h):1;0!==v&&(this.je(t),this.Qe=this.Qe.insert(t,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let h,g;try{h=Dl(i).toUint8Array()}catch(v){if(v instanceof EI)return Ls("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new tf(h,o,c)}catch(v){return Ls(v instanceof eg?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return 0===g.Ie?null:g}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const h=this.Le.tt(),g=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Ue(t,c,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((c,h)=>{const g=this.Je(h);if(g){if(c.current&&l_(g.target)){const v=new _t(g.target.path);null!==this.ke.get(v)||this.it(h,v)||this.Ue(h,v,$r.newNoDocument(v,e))}c.be&&(t.set(h,c.Ce()),c.ve())}});let i=Tn();this.qe.forEach((c,h)=>{let g=!0;h.forEachWhile(v=>{const D=this.Je(v);return!D||"TargetPurposeLimboResolution"===D.purpose||(g=!1,!1)}),g&&(i=i.add(c))}),this.ke.forEach((c,h)=>h.setReadTime(e));const o=new nf(e,t,this.Qe,this.ke,i);return this.ke=mo(),this.qe=BT(),this.Qe=new Rr(gn),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new rg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new vr(gn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function BT(){return new Rr(_t.comparator)}function jT(){return new Rr(_t.comparator)}const GA={asc:"ASCENDING",desc:"DESCENDING"},NI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CM={and:"AND",or:"OR"};class $T{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $o(n,e){return n.useProto3Json||ud(e)?e:{value:e}}function bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DM(n,e){return bd(n,e.toTimestamp())}function wn(n){return Nt(!!n),Ut.fromTimestamp(function(t){const i=Cl(t);return new ni(i.seconds,i.nanos)}(n))}function kI(n,e){return ig(n,e).canonicalString()}function ig(n,e){const t=(o=n,new zn(["projects",o.projectId,"databases",o.database])).child("documents");var o;return void 0===e?t:t.child(e)}function zT(n){const e=zn.fromString(n);return Nt(rf(e)),e}function sg(n,e){return kI(n.databaseId,e.path)}function ya(n,e){const t=zT(e);if(t.get(1)!==n.databaseId.projectId)throw new Xe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Xe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _t(GT(t))}function LI(n,e){return kI(n.databaseId,e)}function FI(n){const e=zT(n);return 4===e.length?zn.emptyPath():GT(e)}function y_(n){return new zn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GT(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function WT(n,e,t){return{name:sg(n,e),fields:t.value.mapValue.fields}}function uu(n,e,t){const i=ya(n,e.name),o=wn(e.updateTime),c=e.createTime?wn(e.createTime):Ut.min(),h=new Fs({mapValue:{fields:e.fields}}),g=$r.newFoundDocument(i,o,c,h);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function og(n,e){let t;if(e instanceof Zh)t={update:WT(n,e.key,e.value)};else if(e instanceof Ol)t={delete:sg(n,e.key)};else if(e instanceof _c)t={update:WT(n,e.key,e.data),updateMask:pu(e.fieldMask)};else{if(!(e instanceof MI))return wt();t={verify:sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const g=h.transform;if(g instanceof Qp)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vd)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Id)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xl)return{fieldPath:h.field.canonicalString(),increment:g.Pe};throw wt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:DM(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:wt()),t;var c}function v_(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ri.updateTime(wn(c.updateTime)):void 0!==c.exists?ri.exists(c.exists):ri.none():ri.none(),i=e.updateTransforms?e.updateTransforms.map(o=>function(h,g){let v=null;"setToServerValue"in g?(Nt("REQUEST_TIME"===g.setToServerValue),v=new Qp):"appendMissingElements"in g?v=new vd(g.appendMissingElements.values||[]):"removeAllFromArray"in g?v=new Id(g.removeAllFromArray.values||[]):"increment"in g?v=new xl(h,g.increment):wt();const D=Fr.fromServerFormat(g.fieldPath);return new Yh(D,v)}(n,o)):[];var c;if(e.update){const o=ya(n,e.update.name),c=new Fs({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new po((e.updateMask.fieldPaths||[]).map(x=>Fr.fromServerFormat(x)));return new _c(o,c,h,t,i)}return new Zh(o,c,t,i)}if(e.delete){const o=ya(n,e.delete);return new Ol(o,t)}if(e.verify){const o=ya(n,e.verify);return new MI(o,t)}return wt()}function UI(n,e){return{documents:[LI(n,e.path)]}}function Td(n,e){const t={structuredQuery:{}},i=e.path;let o;null!==e.collectionGroup?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=LI(n,o);const c=function(D){if(0!==D.length)return BI(Ir.create(D,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(D){if(0!==D.length)return D.map(x=>{return{field:hu((Q=x).field),direction:QT(Q.dir)};var Q})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=$o(n,e.limit);return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt=function(D){return{before:!D.inclusive,values:D.position}}(e.endAt)),{_t:t,parent:o};var D}function I_(n){let e=FI(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Nt(1===i);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(L){const Q=ag(L);return Q instanceof Ir&&CI(Q)?Q.getFilters():[Q]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(Q=>{return new Wh(fu((ue=Q).field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ue.direction));var ue}));let g=null;t.limit&&(g=function(L){let Q;return Q="object"==typeof L?L.value:L,ud(Q)?null:Q}(t.limit));let v=null;var L;t.startAt&&(v=new lu((L=t.startAt).values||[],!!L.before));let D=null;return t.endAt&&(D=function(L){return new lu(L.values||[],!L.before)}(t.endAt)),gd(e,o,h,c,g,"F",v,D)}function ag(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=fu(t.unaryFilter.field);return kn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=fu(t.unaryFilter.field);return kn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fu(t.unaryFilter.field);return kn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fu(t.unaryFilter.field);return kn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(n):void 0!==n.fieldFilter?kn.create(fu((t=n).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ir.create(t.compositeFilter.filters.map(i=>ag(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt()}}(t.compositeFilter.op))}(n):wt();var t}function QT(n){return GA[n]}function lg(n){return NI[n]}function WA(n){return CM[n]}function hu(n){return{fieldPath:n.canonicalString()}}function fu(n){return Fr.fromServerFormat(n.fieldPath)}function BI(n){return n instanceof kn?function(t){if("=="===t.op){if(cT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NAN"}};if(lT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(cT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NAN"}};if(lT(t.value))return{unaryFilter:{field:hu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(t.field),op:lg(t.op),value:t.value}}}(n):n instanceof Ir?function(t){const i=t.getFilters().map(o=>BI(o));return 1===i.length?i[0]:{compositeFilter:{op:WA(t.op),filters:i}}}(n):wt()}function pu(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class gu{constructor(e,t,i,o,c=Ut.min(),h=Ut.min(),g=kt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cg{constructor(e){this.ut=e}}function jI(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:E_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:sg(c=n.ut,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:bd(c,h.version.toTimestamp()),createTime:bd(c,h.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Nl(e.version)};else{if(!e.isUnknownDocument())return wt();i.unknownDocument={path:t.path.toArray(),version:Nl(e.version)}}var c,h;return i}function E_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ba(n){const e=new ni(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function wd(n,e){const t=(e.baseMutations||[]).map(c=>v_(n.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const i=e.mutations.map(c=>v_(n.ut,c)),o=ni.fromMillis(e.localWriteTimeMs);return new Jh(e.batchId,o,t,i)}function ug(n){const e=Ba(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ba(n.lastLimboFreeSnapshotVersion):Ut.min();let i;return i=void 0!==n.query.documents?(Nt(1===(c=n.query).documents.length),Vs(Pl(FI(c.documents[0])))):function(c){return Vs(I_(c))}(n.query),new gu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,kt.fromBase64String(n.resumeToken));var c}function YT(n,e){const t=Nl(e.snapshotVersion),i=Nl(e.lastLimboFreeSnapshotVersion);let o;o=l_(e.target)?UI(n.ut,e.target):Td(n.ut,e.target)._t;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xs(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function $I(n){const e=I_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?u_(e,e.limit,"L"):e}function HI(n,e){return new kT(e.largestBatchId,v_(n.ut,e.overlayMutation))}function ZT(n,e){const t=e.path.lastSegment();return[n,Qi(e.path.popLast()),t]}function JT(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:Nl(i.readTime),documentKey:Qi(i.documentKey.path),largestBatchId:i.largestBatchId}}class KA{getBundleMetadata(e,t){return dg(e).get(t).next(i=>{if(i)return{id:(c=i).bundleId,createTime:Ba(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return dg(e).put({bundleId:(o=t).id,createTime:Nl(wn(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return ew(e).get(t).next(i=>{if(i)return{name:(c=i).name,query:$I(c.bundledQuery),readTime:Ba(c.readTime)};var c})}saveNamedQuery(e,t){return ew(e).put({name:(o=t).name,readTime:Nl(wn(o.readTime)),bundledQuery:o.bundledQuery});var o}}function dg(n){return Xi(n,"bundles")}function ew(n){return Xi(n,"namedQueries")}class b_{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new b_(e,t.uid||"")}getOverlay(e,t){return sf(e).get(ZT(this.userId,t)).next(i=>i?HI(this.serializer,i):null)}getOverlays(e,t){const i=_o();return he.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){const o=[];return i.forEach((c,h)=>{const g=new kT(t,h);o.push(this.lt(e,g))}),he.waitFor(o)}removeOverlaysForBatchId(e,t,i){const o=new Set;t.forEach(h=>o.add(Qi(h.getCollectionPath())));const c=[];return o.forEach(h=>{const g=IDBKeyRange.bound([this.userId,h,i],[this.userId,h,i+1],!1,!0);c.push(sf(e).j("collectionPathOverlayIndex",g))}),he.waitFor(c)}getOverlaysForCollection(e,t,i){const o=_o(),c=Qi(t),h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return sf(e).U("collectionPathOverlayIndex",h).next(g=>{for(const v of g){const D=HI(this.serializer,v);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,i,o){const c=_o();let h;const g=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sf(e).J({index:"collectionGroupOverlayIndex",range:g},(v,D,x)=>{const L=HI(this.serializer,D);c.size()<o||L.largestBatchId===h?(c.set(L.getKey(),L),h=L.largestBatchId):x.done()}).next(()=>c)}lt(e,t){return sf(e).put(function(o,c,h){const[g,v,D]=ZT(c,h.mutation.key);return{userId:c,collectionPath:v,documentId:D,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:og(o.ut,h.mutation)}}(this.serializer,this.userId,t))}}function sf(n){return Xi(n,"documentOverlays")}class mu{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Vr(e.integerValue));else if("doubleValue"in e){const i=Vr(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),jh(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(t,20),"string"==typeof i&&(i=Cl(i)),t.dt(`${i.seconds||""}`),t.Et(i.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Dl(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?uT(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):wt()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const o of Object.keys(i))this.At(o,t),this.Pt(i[o],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const o of i)this.Pt(o,t)}ft(e,t){this.Tt(t,37),_t.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function zI(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function GI(n){const e=64-function(i){let o=0;for(let c=0;c<8;++c){const h=zI(255&i[c]);if(o+=h,8!==h)break}return o}(n);return Math.ceil(e/8)}mu.St=new mu;class qA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const o=t.codePointAt(0);this.Dt(240|o>>>18),this.Dt(128|63&o>>>12),this.Dt(128|63&o>>>6),this.Dt(128|63&o)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const o=t.codePointAt(0);this.Ft(240|o>>>18),this.Ft(128|63&o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o)}}this.Mt()}Nt(e){const t=this.Lt(e),i=GI(t);this.Bt(1+i),this.buffer[this.position++]=255&i;for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=255&t[o]}kt(e){const t=this.Lt(e),i=GI(t);this.Bt(1+i),this.buffer[this.position++]=~(255&i);for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(c){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,c,!1),new Uint8Array(h.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let o=1;o<t.length;++o)t[o]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class tw{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class WI{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class af{constructor(){this.Wt=new qA,this.Gt=new tw(this.Wt),this.zt=new WI(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class _u{constructor(e,t,i,o){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=o}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new _u(this.indexId,this.documentKey,this.arrayValue,i)}}function yu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nw(n.arrayValue,e.arrayValue),0!==t?t:(t=nw(n.directionalValue,e.directionalValue),0!==t?t:_t.comparator(n.documentKey,e.documentKey)))}function nw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class rw{constructor(e){this.Jt=new vr((t,i)=>Fr.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Nt(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=qb(e);if(void 0!==t&&!this.tn(t))return!1;const i=Uh(e);let o=new Set,c=0,h=0;for(;c<i.length&&this.tn(i[c]);++c)o=o.add(i[c].fieldPath.canonicalString());if(c===i.length)return!0;if(this.Jt.size>0){const g=this.Jt.getIterator().getNext();if(!o.has(g.field.canonicalString())){const v=i[c];if(!this.nn(g,v)||!this.rn(this.Yt[h++],v))return!1}++c}for(;c<i.length;++c)if(h>=this.Yt.length||!this.rn(this.Yt[h++],i[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new vr(Fr.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new cd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new cd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new cd(i.field,"asc"===i.dir?0:1)));return new kp(kp.UNKNOWN_ID,this.collectionId,t,dc.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function T_(n){var e,t;if(Nt(n instanceof kn||n instanceof Ir),n instanceof kn){if(n instanceof DI){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>kn.create(n.field,"==",c)))||[];return Ir.create(o,"or")}return n}const i=n.filters.map(o=>T_(o));return Ir.create(i,n.op)}function KI(n){if(0===n.getFilters().length)return[];const e=qI(T_(n));return Nt(C_(e)),w_(e)||hg(e)?[e]:e.getFilters()}function w_(n){return n instanceof kn}function hg(n){return n instanceof Ir&&CI(n)}function C_(n){return w_(n)||hg(n)||function(t){if(t instanceof Ir&&wI(t)){for(const i of t.getFilters())if(!w_(i)&&!hg(i))return!1;return!0}return!1}(n)}function qI(n){if(Nt(n instanceof kn||n instanceof Ir),n instanceof kn)return n;if(1===n.filters.length)return qI(n.filters[0]);const e=n.filters.map(i=>qI(i));let t=Ir.create(e,n.op);return t=D_(t),C_(t)?t:(Nt(t instanceof Ir),Nt(Kh(t)),Nt(t.filters.length>1),t.filters.reduce((i,o)=>QI(i,o)))}function QI(n,e){let t;return Nt(n instanceof kn||n instanceof Ir),Nt(e instanceof kn||e instanceof Ir),t=n instanceof kn?e instanceof kn?Ir.create([n,e],"and"):iw(n,e):e instanceof kn?iw(e,n):function(o,c){if(Nt(o.filters.length>0&&c.filters.length>0),Kh(o)&&Kh(c))return _T(o,c.getFilters());const h=wI(o)?o:c,g=wI(o)?c:o,v=h.filters.map(D=>QI(D,g));return Ir.create(v,"or")}(n,e),D_(t)}function iw(n,e){if(Kh(e))return _T(e,n.getFilters());{const t=e.filters.map(i=>QI(n,i));return Ir.create(t,"or")}}function D_(n){if(Nt(n instanceof kn||n instanceof Ir),n instanceof kn)return n;const e=n.getFilters();if(1===e.length)return D_(e[0]);if(mT(n))return n;const t=e.map(o=>D_(o)),i=[];return t.forEach(o=>{o instanceof kn?i.push(o):o instanceof Ir&&(o.op===n.op?i.push(...o.filters):i.push(o))}),1===i.length?i[0]:Ir.create(i,n.op)}class sw{constructor(){this.on=new fg}addToCollectionParentIndex(e,t){return this.on.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(fo.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class fg{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new vr(zn.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new vr(zn.comparator)).toArray()}}const lf=new Uint8Array(0);class ow{constructor(e,t){this.databaseId=t,this._n=new fg,this.an=new Ml(i=>Xs(i),(i,o)=>Gp(i,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const c={collectionId:i,parent:Qi(o)};return XI(e).put(c)}return he.resolve()}getCollectionParents(e,t){const i=[],o=IDBKeyRange.bound([t,""],[Kb(t),""],!1,!0);return XI(e).U(o).next(c=>{for(const h of c){if(h.collectionId!==t)break;i.push(Ua(h.parent))}return i})}addFieldIndex(e,t){const i=pg(e),o={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var g;delete o.indexId;const c=i.add(o);if(t.indexState){const h=Dd(e);return c.next(g=>{h.put(JT(g,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const i=pg(e),o=Dd(e),c=Cd(e);return i.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=pg(e),i=Cd(e),o=Dd(e);return t.j().next(()=>i.j()).next(()=>o.j())}createTargetIndexes(e,t){return he.forEach(this.un(t),i=>this.getIndexType(e,i).next(o=>{if(0===o||1===o){const c=new rw(i).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const i=Cd(e);let o=!0;const c=new Map;return he.forEach(this.un(t),h=>this.cn(e,h).next(g=>{o&&(o=!!g),c.set(h,g)})).next(()=>{if(o){let h=Tn();const g=[];return he.forEach(c,(v,D)=>{var qe;Ye("IndexedDbIndexManager",`Using index ${qe=v,`id=${qe.indexId}|cg=${qe.collectionGroup}|f=${qe.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${Xs(t)}`);const x=function(qe,yt){const tn=qb(yt);if(void 0===tn)return null;for(const cn of qh(qe,tn.fieldPath))switch(cn.op){case"array-contains-any":return cn.value.arrayValue.values||[];case"array-contains":return[cn.value]}return null}(D,v),L=function(qe,yt){const tn=new Map;for(const cn of Uh(yt))for(const Pn of qh(qe,cn.fieldPath))switch(Pn.op){case"==":case"in":tn.set(cn.fieldPath.canonicalString(),Pn.value);break;case"not-in":case"!=":return tn.set(cn.fieldPath.canonicalString(),Pn.value),Array.from(tn.values())}return null}(D,v),Q=function(qe,yt){const tn=[];let cn=!0;for(const Pn of Uh(yt)){const Mr=0===Pn.kind?TT(qe,Pn.fieldPath,qe.startAt):Qh(qe,Pn.fieldPath,qe.startAt);tn.push(Mr.value),cn&&(cn=Mr.inclusive)}return new lu(tn,cn)}(D,v),J=function(qe,yt){const tn=[];let cn=!0;for(const Pn of Uh(yt)){const Mr=0===Pn.kind?Qh(qe,Pn.fieldPath,qe.endAt):TT(qe,Pn.fieldPath,qe.endAt);tn.push(Mr.value),cn&&(cn=Mr.inclusive)}return new lu(tn,cn)}(D,v),ue=this.ln(v,D,Q),fe=this.ln(v,D,J),De=this.hn(v,D,L),tt=this.Pn(v.indexId,x,ue,Q.inclusive,fe,J.inclusive,De);return he.forEach(tt,pt=>i.G(pt,t.limit).next(qe=>{qe.forEach(yt=>{const tn=_t.fromSegments(yt.documentKey);h.has(tn)||(h=h.add(tn),g.push(tn))})}))}).next(()=>g)}return he.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:KI(Ir.create(e.filters,"and")).map(i=>zp(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,o,c,h,g){const v=(null!=t?t.length:1)*Math.max(i.length,c.length),D=v/(null!=t?t.length:1),x=[];for(let L=0;L<v;++L){const Q=t?this.In(t[L/D]):lf,J=this.Tn(e,Q,i[L%D],o),ue=this.En(e,Q,c[L%D],h),fe=g.map(De=>this.Tn(e,Q,De,!0));x.push(...this.createRange(J,ue,fe))}return x}Tn(e,t,i,o){const c=new _u(e,_t.empty(),t,i);return o?c:c.Ht()}En(e,t,i,o){const c=new _u(e,_t.empty(),t,i);return o?c.Ht():c}cn(e,t){const i=new rw(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let h=null;for(const g of c)i.en(g)&&(!h||g.fields.length>h.fields.length)&&(h=g);return h})}getIndexType(e,t){let i=2;const o=this.un(t);return he.forEach(o,c=>this.cn(e,c).next(h=>{h?0!==i&&h.fields.length<function(v){let D=new vr(Fr.comparator),x=!1;for(const L of v.filters)for(const Q of L.getFlattenedFilters())Q.field.isKeyField()||("array-contains"===Q.op||"array-contains-any"===Q.op?x=!0:D=D.add(Q.field));for(const L of v.orderBy)L.field.isKeyField()||(D=D.add(L.field));return D.size+(x?1:0)}(c)&&(i=1):i=0})).next(()=>null!==t.limit&&o.length>1&&2===i?1:i)}dn(e,t){const i=new af;for(const o of Uh(e)){const c=t.data.field(o.fieldPath);if(null==c)return null;const h=i.jt(o.kind);mu.St.ht(c,h)}return i.Ut()}In(e){const t=new af;return mu.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new af;return mu.St.ht(au(this.databaseId,t),i.jt(function(c){const h=Uh(c);return 0===h.length?0:h[h.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let o=[];o.push(new af);let c=0;for(const h of Uh(e)){const g=i[c++];for(const v of o)if(this.Rn(t,h.fieldPath)&&$p(g))o=this.Vn(o,h,g);else{const D=v.jt(h.kind);mu.St.ht(g,D)}}return this.mn(o)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const o=[...e],c=[];for(const h of i.arrayValue.values||[])for(const g of o){const v=new af;v.seed(g.Ut()),mu.St.ht(h,v.jt(t.kind)),c.push(v)}return c}Rn(e,t){return!!e.filters.find(i=>i instanceof kn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=pg(e),o=Dd(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(c=>{const h=[];return he.forEach(c,g=>o.get([g.indexId,this.uid]).next(v=>{h.push(function(x,L){const Q=L?new dc(L.sequenceNumber,new fo(Ba(L.readTime),new _t(Ua(L.documentKey)),L.largestBatchId)):dc.empty(),J=x.fields.map(([ue,fe])=>new cd(Fr.fromServerFormat(ue),fe));return new kp(x.indexId,x.collectionGroup,J,Q)}(g,v))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,o)=>{const c=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:gn(i.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const o=pg(e),c=Dd(e);return this.fn(e).next(h=>o.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>he.forEach(g,v=>c.put(JT(v.indexId,this.uid,h,i)))))}updateIndexEntries(e,t){const i=new Map;return he.forEach(t,(o,c)=>{const h=i.get(o.collectionGroup);return(h?he.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(i.set(o.collectionGroup,g),he.forEach(g,v=>this.gn(e,o,v).next(D=>{const x=this.pn(c,v);return D.isEqual(x)?he.resolve():this.yn(e,c,v,D,x)}))))})}wn(e,t,i,o){return Cd(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,o){return Cd(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const o=Cd(e);let c=new vr(yu);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(h,g)=>{c=c.add(new _u(i.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}pn(e,t){let i=new vr(yu);const o=this.dn(t,e);if(null==o)return i;const c=qb(t);if(null!=c){const h=e.data.field(c.fieldPath);if($p(h))for(const g of h.arrayValue.values||[])i=i.add(new _u(t.indexId,e.key,this.In(g),o))}else i=i.add(new _u(t.indexId,e.key,lf,o));return i}yn(e,t,i,o,c){Ye("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(v,D,x,L,Q){const J=v.getIterator(),ue=D.getIterator();let fe=$h(J),De=$h(ue);for(;fe||De;){let tt=!1,pt=!1;if(fe&&De){const qe=x(fe,De);qe<0?pt=!0:qe>0&&(tt=!0)}else null!=fe?pt=!0:tt=!0;tt?(L(De),De=$h(ue)):pt?(Q(fe),fe=$h(J)):(fe=$h(J),De=$h(ue))}}(o,c,yu,g=>{h.push(this.wn(e,t,i,g))},g=>{h.push(this.Sn(e,t,i,g))}),he.waitFor(h)}fn(e){let t=1;return Dd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,c)=>{c.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((h,g)=>yu(h,g)).filter((h,g,v)=>!g||0!==yu(h,v[g-1]));const o=[];o.push(e);for(const h of i){const g=yu(h,e),v=yu(h,t);if(0===g)o[0]=e.Ht();else if(g>0&&v<0)o.push(h),o.push(h.Ht());else if(v>0)break}o.push(t);const c=[];for(let h=0;h<o.length;h+=2){if(this.bn(o[h],o[h+1]))return[];c.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,lf,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,lf,[]]))}return c}bn(e,t){return yu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(aw)}getMinOffset(e,t){return he.mapArray(this.un(t),i=>this.cn(e,i).next(o=>o||wt())).next(aw)}}function XI(n){return Xi(n,"collectionParents")}function Cd(n){return Xi(n,"indexEntries")}function pg(n){return Xi(n,"indexConfiguration")}function Dd(n){return Xi(n,"indexState")}function aw(n){Nt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;dI(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new fo(e.readTime,e.documentKey,t)}const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _s{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YI(n,e,t){const i=n.store("mutations"),o=n.store("documentMutations"),c=[],h=IDBKeyRange.only(t.batchId);let g=0;const v=i.J({range:h},(x,L,Q)=>(g++,Q.delete()));c.push(v.next(()=>{Nt(1===g)}));const D=[];for(const x of t.mutations){const L=Jb(e,x.key.path,t.batchId);c.push(o.delete(L)),D.push(x.key)}return he.waitFor(c).next(()=>D)}function ZI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw wt();e=n.noDocument}return JSON.stringify(e).length}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class JI{constructor(e,t,i,o){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=o,this.Dn={}}static ct(e,t,i,o){Nt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new JI(c,t,i,o)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).J({index:"userMutationsIndex",range:i},(o,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,i,o){const c=Ad(e),h=yc(e);return h.add({}).next(g=>{Nt("number"==typeof g);const v=new Jh(g,t,i,o),D=function(J,ue,fe){const De=fe.baseMutations.map(pt=>og(J.ut,pt)),tt=fe.mutations.map(pt=>og(J.ut,pt));return{userId:ue,batchId:fe.batchId,localWriteTimeMs:fe.localWriteTime.toMillis(),baseMutations:De,mutations:tt}}(this.serializer,this.userId,v),x=[];let L=new vr((Q,J)=>gn(Q.canonicalString(),J.canonicalString()));for(const Q of o){const J=Jb(this.userId,Q.key.path,g);L=L.add(Q.key.path.popLast()),x.push(h.put(D)),x.push(c.put(J,eT))}return L.forEach(Q=>{x.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.Dn[g]=v.keys()}),he.waitFor(x).next(()=>v)})}lookupMutationBatch(e,t){return yc(e).get(t).next(i=>i?(Nt(i.userId===this.userId),wd(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?he.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const o=i.keys();return this.Dn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return yc(e).J({index:"userMutationsIndex",range:o},(h,g,v)=>{g.userId===this.userId&&(Nt(g.batchId>=i),c=wd(this.serializer,g)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return yc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,c,h)=>{i=c.batchId,h.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).U("userMutationsIndex",t).next(i=>i.map(o=>wd(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=qm(this.userId,t.path),o=IDBKeyRange.lowerBound(i),c=[];return Ad(e).J({range:o},(h,g,v)=>{const[D,x,L]=h,Q=Ua(x);if(D===this.userId&&t.path.isEqual(Q))return yc(e).get(L).next(J=>{if(!J)throw wt();Nt(J.userId===this.userId),c.push(wd(this.serializer,J))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vr(gn);const o=[];return t.forEach(c=>{const h=qm(this.userId,c.path),g=IDBKeyRange.lowerBound(h),v=Ad(e).J({range:g},(D,x,L)=>{const[Q,J,ue]=D,fe=Ua(J);Q===this.userId&&c.path.isEqual(fe)?i=i.add(ue):L.done()});o.push(v)}),he.waitFor(o).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1,c=qm(this.userId,i),h=IDBKeyRange.lowerBound(c);let g=new vr(gn);return Ad(e).J({range:h},(v,D,x)=>{const[L,Q,J]=v,ue=Ua(Q);L===this.userId&&i.isPrefixOf(ue)?ue.length===o&&(g=g.add(J)):x.done()}).next(()=>this.vn(e,g))}vn(e,t){const i=[],o=[];return t.forEach(c=>{o.push(yc(e).get(c).next(h=>{if(null===h)throw wt();Nt(h.userId===this.userId),i.push(wd(this.serializer,h))}))}),he.waitFor(o).next(()=>i)}removeMutationBatch(e,t){return YI(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),he.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const i=IDBKeyRange.lowerBound(function(h){return[h]}(this.userId)),o=[];return Ad(e).J({range:i},(c,h,g)=>{if(c[0]===this.userId){const v=Ua(c[1]);o.push(v)}else g.done()}).next(()=>{Nt(0===o.length)})})}containsKey(e,t){return e0(e,this.userId,t)}Mn(e){return S_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function e0(n,e,t){const i=qm(e,t.path),o=i[1],c=IDBKeyRange.lowerBound(i);let h=!1;return Ad(n).J({range:c,H:!0},(g,v,D)=>{const[x,L,Q]=g;x===e&&L===o&&(h=!0),D.done()}).next(()=>h)}function yc(n){return Xi(n,"mutations")}function Ad(n){return Xi(n,"documentMutations")}function S_(n){return Xi(n,"mutationQueues")}class vu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new vu(0)}static Nn(){return new vu(-1)}}class lw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next(t=>{const i=new vu(t.highestTargetId);return t.highestTargetId=i.next(),this.Bn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(t=>Ut.fromTimestamp(new ni(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Ln(e).next(o=>(o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Bn(e,o)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Ln(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Bn(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sd(e).delete(t.targetId)).next(()=>this.Ln(e)).next(i=>(Nt(i.targetCount>0),i.targetCount-=1,this.Bn(e,i)))}removeTargets(e,t,i){let o=0;const c=[];return Sd(e).J((h,g)=>{const v=ug(g);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(o++,c.push(this.removeTargetData(e,v)))}).next(()=>he.waitFor(c)).next(()=>o)}forEachTarget(e,t){return Sd(e).J((i,o)=>{const c=ug(o);t(c)})}Ln(e){return t0(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}Bn(e,t){return t0(e).put("targetGlobalKey",t)}kn(e,t){return Sd(e).put(YT(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Ln(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Xs(t),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return Sd(e).J({range:o,index:"queryTargetsIndex"},(h,g,v)=>{const D=ug(g);Gp(t,D.target)&&(c=D,v.done())}).next(()=>c)}addMatchingKeys(e,t,i){const o=[],c=Iu(e);return t.forEach(h=>{const g=Qi(h.path);o.push(c.put({targetId:i,path:g})),o.push(this.referenceDelegate.addReference(e,i,h))}),he.waitFor(o)}removeMatchingKeys(e,t,i){const o=Iu(e);return he.forEach(t,c=>{const h=Qi(c.path);return he.waitFor([o.delete([i,h]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=Iu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),o=Iu(e);let c=Tn();return o.J({range:i,H:!0},(h,g,v)=>{const D=Ua(h[1]),x=new _t(D);c=c.add(x)}).next(()=>c)}containsKey(e,t){const i=Qi(t.path),o=IDBKeyRange.bound([i],[Kb(i)],!1,!0);let c=0;return Iu(e).J({index:"documentTargetsIndex",H:!0,range:o},([h,g],v,D)=>{0!==h&&(c++,D.done())}).next(()=>c>0)}ot(e,t){return Sd(e).get(t).next(i=>i?ug(i):null)}}function Sd(n){return Xi(n,"targets")}function t0(n){return Xi(n,"targetGlobal")}function Iu(n){return Xi(n,"targetDocuments")}function QA([n,e],[t,i]){const o=gn(n,t);return 0===o?gn(e,i):o}class AM{constructor(e){this.Qn=e,this.buffer=new vr(QA),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();QA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;Ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ue.A)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){fc(i)?Ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield jo(i)}yield t.Gn(3e5)}))}}class SM{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return he.resolve(as.oe);const i=new AM(t);return this.zn.forEachTarget(e,o=>i.Un(o.sequenceNumber)).next(()=>this.zn.Hn(e,o=>i.Un(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(A_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,o,c,h,g,v,D;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),o=this.params.maximumSequenceNumbersToCollect):o=L,h=Date.now(),this.nthSequenceNumber(e,o))).next(L=>(i=L,g=Date.now(),this.removeTargets(e,i,t))).next(L=>(c=L,v=Date.now(),this.removeOrphanedDocuments(e,i))).next(L=>(D=Date.now(),Fh()<=Sr.$b.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-x}ms\n\tDetermined least recently used ${o} in `+(g-h)+`ms\n\tRemoved ${c} targets in `+(v-g)+`ms\n\tRemoved ${L} documents in `+(D-v)+`ms\nTotal Duration: ${D-x}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:L})))}}class RM{constructor(e,t){this.db=e,this.garbageCollector=function YA(n,e){return new SM(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,o)=>t(o))}addReference(e,t,i){return n0(e,i)}removeReference(e,t,i){return n0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return n0(e,t)}Xn(e,t){return function(o,c){let h=!1;return S_(o).Y(g=>e0(o,g,c).next(v=>(v&&(h=!0),he.resolve(!v)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Zn(e,(h,g)=>{if(g<=t){const v=this.Xn(e,h).next(D=>{if(!D)return c++,i.getEntry(e,h).next(()=>(i.removeEntry(h,Ut.min()),Iu(e).delete([0,Qi(h.path)])))});o.push(v)}}).next(()=>he.waitFor(o)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return n0(e,t)}Zn(e,t){const i=Iu(e);let o,c=as.oe;return i.J({index:"documentTargetsIndex"},([h,g],{path:v,sequenceNumber:D})=>{0===h?(c!==as.oe&&t(new _t(Ua(o)),c),c=D,o=v):c=as.oe}).next(()=>{c!==as.oe&&t(new _t(Ua(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function n0(n,e){return Iu(n).put((o=n.currentSequenceNumber,{targetId:0,path:Qi(e.path),sequenceNumber:o}));var o}class ZA{constructor(){this.changes=new Ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return cf(e).put(i)}removeEntry(e,t,i){return cf(e).delete(function(c,h){const g=c.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],E_(h),g[g.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=$r.newInvalidDocument(t);return cf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(R_(t))},(o,c)=>{i=this.tr(t,c)}).next(()=>i)}nr(e,t){let i={size:0,document:$r.newInvalidDocument(t)};return cf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(R_(t))},(o,c)=>{i={document:this.tr(t,c),size:ZI(c)}}).next(()=>i)}getEntries(e,t){let i=mo();return this.rr(e,t,(o,c)=>{const h=this.tr(o,c);i=i.insert(o,h)}).next(()=>i)}ir(e,t){let i=mo(),o=new Rr(_t.comparator);return this.rr(e,t,(c,h)=>{const g=this.tr(c,h);i=i.insert(c,g),o=o.insert(c,ZI(h))}).next(()=>({documents:i,sr:o}))}rr(e,t,i){if(t.isEmpty())return he.resolve();let o=new vr(tS);t.forEach(v=>o=o.add(v));const c=IDBKeyRange.bound(R_(o.first()),R_(o.last())),h=o.getIterator();let g=h.getNext();return cf(e).J({index:"documentKeyIndex",range:c},(v,D,x)=>{const L=_t.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;g&&tS(g,L)<0;)i(g,null),g=h.getNext();g&&g.isEqual(L)&&(i(g,D),g=h.hasNext()?h.getNext():null),g?x.$(R_(g)):x.done()}).next(()=>{for(;g;)i(g,null),g=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,t,i,o,c){const h=t.path,g=[h.popLast().toArray(),h.lastSegment(),E_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],v=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cf(e).U(IDBKeyRange.bound(g,v,!0)).next(D=>{c?.incrementDocumentReadCount(D.length);let x=mo();for(const L of D){const Q=this.tr(_t.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);Q.isFoundDocument()&&(Kp(t,Q)||o.has(Q.key))&&(x=x.insert(Q.key,Q))}return x})}getAllFromCollectionGroup(e,t,i,o){let c=mo();const h=eS(t,i),g=eS(t,fo.max());return cf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,g,!0)},(v,D,x)=>{const L=this.tr(_t.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);c=c.insert(L.key,L),c.size===o&&x.done()}).next(()=>c)}newChangeBuffer(e){return new PM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return JA(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}er(e,t){return JA(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function XT(n,e){let t;if(e.document)t=uu(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=_t.fromSegments(e.noDocument.path),o=Ba(e.noDocument.readTime);t=$r.newNoDocument(i,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt();{const i=_t.fromSegments(e.unknownDocument.path),o=Ba(e.unknownDocument.version);t=$r.newUnknownDocument(i,o)}}return e.readTime&&t.setReadTime(function(o){const c=new ni(o[0],o[1]);return Ut.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Ut.min()))return i}return $r.newInvalidDocument(e)}}function r0(n){return new cw(n)}class PM extends ZA{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Ml(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(e){const t=[];let i=0,o=new vr((c,h)=>gn(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const g=this.ar.get(c);if(t.push(this._r.removeEntry(e,c,g.readTime)),h.isValidDocument()){const v=jI(this._r.serializer,h);o=o.add(c.path.popLast());const D=ZI(v);i+=D-g.size,t.push(this._r.addEntry(e,c,v))}else if(i-=g.size,this.trackRemovals){const v=jI(this._r.serializer,h.convertToNoDocument(Ut.min()));t.push(this._r.addEntry(e,c,v))}}),o.forEach(c=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),t.push(this._r.updateMetadata(e,i)),he.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:o})=>(o.forEach((c,h)=>{this.ar.set(c,{size:h,readTime:i.get(c).readTime})}),i))}}function JA(n){return Xi(n,"remoteDocumentGlobal")}function cf(n){return Xi(n,"remoteDocumentsV14")}function R_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eS(n,e){const t=e.documentKey.path.toArray();return[n,E_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tS(n,e){const t=n.path.toArray(),i=e.path.toArray();let o=0;for(let c=0;c<t.length-2&&c<i.length-2;++c)if(o=gn(t[c],i[c]),o)return o;return o=gn(t.length,i.length),o||(o=gn(t[t.length-2],i[i.length-2]),o||gn(t[t.length-1],i[i.length-1]))}class MM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nS{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==i&&Jp(i.mutation,o,po.empty(),ni.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Tn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Tn()){const o=_o();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let h=yd();return c.forEach((g,v)=>{h=h.insert(g,v.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=_o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Tn()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((h,g)=>{t.set(h,g)})})}computeViews(e,t,i,o){let c=mo();const h=mc(),g=mc();return t.forEach((v,D)=>{const x=i.get(D.key);o.has(D.key)&&(void 0===x||x.mutation instanceof _c)?c=c.insert(D.key,D):void 0!==x?(h.set(D.key,x.mutation.getFieldMask()),Jp(x.mutation,D,x.mutation.getFieldMask(),ni.now())):h.set(D.key,po.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((D,x)=>h.set(D,x)),t.forEach((D,x)=>{var L;return g.set(D,new MM(x,null!==(L=h.get(D))&&void 0!==L?L:null))}),g))}recalculateAndSaveOverlays(e,t){const i=mc();let o=new Rr((h,g)=>h-g),c=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const g of h)g.keys().forEach(v=>{const D=t.get(v);if(null===D)return;let x=i.get(v)||po.empty();x=g.applyToLocalView(D,x),i.set(v,x);const L=(o.get(g.batchId)||Tn()).add(v);o=o.insert(g.batchId,L)})}).next(()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),D=v.key,x=v.value,L=Xh();x.forEach(Q=>{if(!c.has(Q)){const J=PT(t.get(Q),i.get(Q));null!==J&&L.set(Q,J),c=c.add(Q)}}),h.push(this.documentOverlayCache.saveOverlays(e,D,L))}return he.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return _t.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):md(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o);var h}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):he.resolve(_o());let g=-1,v=c;return h.next(D=>he.forEach(D,(x,L)=>(g<L.largestBatchId&&(g=L.largestBatchId),c.get(x)?he.resolve():this.remoteDocumentCache.getEntry(e,x).next(Q=>{v=v.insert(x,Q)}))).next(()=>this.populateOverlays(e,D,c)).next(()=>this.computeViews(e,v,D,Tn())).next(x=>({batchId:g,changes:PI(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _t(t)).next(i=>{let o=yd();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let h=yd();return this.indexManager.getCollectionParents(e,c).next(g=>he.forEach(g,v=>{const D=(L=t,Q=v.child(c),new Rl(Q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,Q;return this.getDocumentsMatchingCollectionQuery(e,D,i,o).next(x=>{x.forEach((L,Q)=>{h=h.insert(L,Q)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(h=>{c.forEach((v,D)=>{const x=D.getKey();null===h.get(x)&&(h=h.insert(x,$r.newInvalidDocument(x)))});let g=yd();return h.forEach((v,D)=>{const x=c.get(v);void 0!==x&&Jp(x.mutation,D,po.empty(),ni.now()),Kp(t,D)&&(g=g.insert(v,D))}),g})}}class xM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return he.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(o=t).id,version:o.version,createTime:wn(o.createTime)}),he.resolve();var o}getNamedQuery(e,t){return he.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(o=t).name,query:$I(o.bundledQuery),readTime:wn(o.readTime)}),he.resolve();var o}}class rS{constructor(){this.overlays=new Rr(_t.comparator),this.lr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_o();return he.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.lt(e,t,c)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.lr.get(i);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const o=_o(),c=t.length+1,h=new _t(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const v=g.getNext().value,D=v.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===c&&v.largestBatchId>i&&o.set(v.getKey(),v)}return he.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new Rr((D,x)=>D-x);const h=this.overlays.getIterator();for(;h.hasNext();){const D=h.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>i){let x=c.get(D.largestBatchId);null===x&&(x=_o(),c=c.insert(D.largestBatchId,x)),x.set(D.getKey(),D)}}const g=_o(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((D,x)=>g.set(D,x)),!(g.size()>=o)););return he.resolve(g)}lt(e,t,i){const o=this.overlays.get(i.key);if(null!==o){const h=this.lr.get(o.largestBatchId).delete(i.key);this.lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new kT(t,i));let c=this.lr.get(t);void 0===c&&(c=Tn(),this.lr.set(t,c)),this.lr.set(t,c.add(i.key))}}class Eu{constructor(){this.hr=new vr(Ti.Pr),this.Ir=new vr(Ti.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Ti(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ti(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new _t(new zn([])),i=new Ti(t,e),o=new Ti(t,e+1),c=[];return this.Ir.forEachInRange([i,o],h=>{this.dr(h),c.push(h.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new _t(new zn([])),i=new Ti(t,e),o=new Ti(t,e+1);let c=Tn();return this.Ir.forEachInRange([i,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Ti(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ti{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return _t.comparator(e.key,t.key)||gn(e.gr,t.gr)}static Tr(e,t){return gn(e.gr,t.gr)||_t.comparator(e.key,t.key)}}class iS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new vr(Ti.Pr)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,o){const c=this.pr;this.pr++;const h=new Jh(c,t,i,o);this.mutationQueue.push(h);for(const g of o)this.yr=this.yr.add(new Ti(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return he.resolve(h)}lookupMutationBatch(e,t){return he.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Sr(t+1),c=o<0?0:o;return he.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ti(t,0),o=new Ti(t,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([i,o],h=>{const g=this.wr(h.gr);c.push(g)}),he.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vr(gn);return t.forEach(o=>{const c=new Ti(o,0),h=new Ti(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,h],g=>{i=i.add(g.gr)})}),he.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;_t.isDocumentKey(c)||(c=c.child(""));const h=new Ti(new _t(c),0);let g=new vr(gn);return this.yr.forEachWhile(v=>{const D=v.key.path;return!!i.isPrefixOf(D)&&(D.length===o&&(g=g.add(v.gr)),!0)},h),he.resolve(this.br(g))}br(e){const t=[];return e.forEach(i=>{const o=this.wr(i);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Nt(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return he.forEach(t.mutations,o=>{const c=new Ti(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Ti(t,0),o=this.yr.firstAfterOrEqual(i);return he.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return he.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OM{constructor(e){this.Cr=e,this.docs=new Rr(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,h=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():$r.newInvalidDocument(t))}getEntries(e,t){let i=mo();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():$r.newInvalidDocument(o))}),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=mo();const h=t.path,g=new _t(h.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:D,value:{document:x}}=v.getNext();if(!h.isPrefixOf(D.path))break;D.path.length>h.length+1||dI(uI(x),i)<=0||(o.has(x.key)||Kp(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return he.resolve(c)}getAllFromCollectionGroup(e,t,i,o){wt()}vr(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new uw(this)}getSize(e){return he.resolve(this.size)}}class uw extends ZA{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this._r.addEntry(e,o)):this._r.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class sS{constructor(e){this.persistence=e,this.Fr=new Ml(t=>Xs(t),Gp),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Eu,this.targetCount=0,this.Nr=vu.On()}forEachTarget(e,t){return this.Fr.forEach((i,o)=>t(o)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),he.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new vu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.kn(t),he.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.Fr.forEach((h,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Fr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),he.waitFor(c).next(()=>o)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),he.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.Or.containsKey(t))}}class dw{constructor(e,t){this.Lr={},this.overlays={},this.Br=new as(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new sS(this),this.indexManager=new sw,this.remoteDocumentCache=new OM(i=>this.referenceDelegate.Qr(i)),this.serializer=new cg(t),this.Kr=new xM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Lr[e.toKey()];return i||(i=new iS(t,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){Ye("MemoryPersistence","Starting transaction:",e);const o=new oS(this.Br.next());return this.referenceDelegate.$r(),i(o).next(c=>this.referenceDelegate.Ur(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Wr(e,t){return he.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,t)))}}class oS extends fI{constructor(e){super(),this.currentSequenceNumber=e}}class P_{constructor(e){this.persistence=e,this.Gr=new Eu,this.zr=null}static jr(e){return new P_(e)}get Hr(){if(this.zr)return this.zr;throw wt()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),he.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(o=>this.Hr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Hr.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Hr,i=>{const o=_t.fromPath(i);return this.Jr(e,o).next(c=>{c||t.removeEntry(o,Ut.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return he.or([()=>he.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class x_{constructor(e){this.serializer=e}O(e,t,i,o){const c=new Lp("createOrUpgrade",t);var v;i<1&&o>=1&&(e.createObjectStore("owner"),(v=e).createObjectStore("mutationQueues",{keyPath:"userId"}),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zb,{unique:!0}),v.createObjectStore("documentMutations"),s0(e),function(v){v.createObjectStore("remoteDocuments")}(e));let h=he.resolve();return i<3&&o>=3&&(0!==i&&(function(v){v.deleteObjectStore("targetDocuments"),v.deleteObjectStore("targets"),v.deleteObjectStore("targetGlobal")}(e),s0(e)),h=h.next(()=>function(v){const D=v.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return D.put("targetGlobalKey",x)}(c))),i<4&&o>=4&&(0!==i&&(h=h.next(()=>function(v,D){return D.store("mutations").U().next(x=>{v.deleteObjectStore("mutations"),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zb,{unique:!0});const L=D.store("mutations"),Q=x.map(J=>L.put(J));return he.waitFor(Q)})}(e,c))),h=h.next(()=>{!function(v){v.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&o>=5&&(h=h.next(()=>this.Zr(c))),i<6&&o>=6&&(h=h.next(()=>(function(v){v.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),i<7&&o>=7&&(h=h.next(()=>this.ei(c))),i<8&&o>=8&&(h=h.next(()=>this.ti(e,c))),i<9&&o>=9&&(h=h.next(()=>{!function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&o>=10&&(h=h.next(()=>this.ni(c))),i<11&&o>=11&&(h=h.next(()=>{(function(v){v.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(v){v.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&o>=12&&(h=h.next(()=>{!function(v){const D=v.createObjectStore("documentOverlays",{keyPath:bM});D.createIndex("collectionPathOverlayIndex",Xm,{unique:!1}),D.createIndex("collectionGroupOverlayIndex",PA,{unique:!1})}(e)})),i<13&&o>=13&&(h=h.next(()=>function(v){const D=v.createObjectStore("remoteDocumentsV14",{keyPath:Up});D.createIndex("documentKeyIndex",Qm),D.createIndex("collectionGroupIndex",gI)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(h=h.next(()=>this.ii(e,c))),i<15&&o>=15&&(h=h.next(()=>function(v){v.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),v.createObjectStore("indexState",{keyPath:dd}).createIndex("sequenceNumberIndex",nT,{unique:!1}),v.createObjectStore("indexEntries",{keyPath:rT}).createIndex("documentKeyIndex",RA,{unique:!1})}(e))),i<16&&o>=16&&(h=h.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),h}Xr(e){let t=0;return e.store("remoteDocuments").J((i,o)=>{t+=ZI(o)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(o=>he.forEach(o,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",h).next(g=>he.forEach(g,v=>{Nt(v.userId===c.userId);const D=wd(this.serializer,v);return YI(e,c.userId,D).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return i.J((h,g)=>{const v=new zn(h),D=[0,Qi(v)];c.push(t.get(D).next(x=>x?he.resolve():t.put({targetId:0,path:Qi(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>he.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:tT});const i=t.store("collectionParents"),o=new fg,c=h=>{if(o.add(h)){const g=h.lastSegment(),v=h.popLast();return i.put({collectionId:g,parent:Qi(v)})}};return t.store("remoteDocuments").J({H:!0},(h,g)=>{const v=new zn(h);return c(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([h,g,v],D)=>{const x=Ua(g);return c(x.popLast())}))}ni(e){const t=e.store("targets");return t.J((i,o)=>{const c=ug(o),h=YT(this.serializer,c);return t.put(h)})}ri(e,t){const i=t.store("remoteDocuments"),o=[];return i.J((c,h)=>{const g=t.store("remoteDocumentsV14"),v=(L=h,L.document?new _t(zn.fromString(L.document.name).popFirst(5)):L.noDocument?_t.fromSegments(L.noDocument.path):L.unknownDocument?_t.fromSegments(L.unknownDocument.path):wt()).path.toArray(),D={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};var L;o.push(g.put(D))}).next(()=>he.waitFor(o))}ii(e,t){const i=t.store("mutations"),o=r0(this.serializer),c=new dw(P_.jr,this.serializer.ut);return i.U().next(h=>{const g=new Map;return h.forEach(v=>{var D;let x=null!==(D=g.get(v.userId))&&void 0!==D?D:Tn();wd(this.serializer,v).keys().forEach(L=>x=x.add(L)),g.set(v.userId,x)}),he.forEach(g,(v,D)=>{const x=new Ki(D),L=b_.ct(this.serializer,x),Q=c.getIndexManager(x),J=JI.ct(x,this.serializer,Q,c.referenceDelegate);return new nS(o,J,L,Q).recalculateAndSaveOverlaysForDocumentKeys(new hd(t,as.oe),v).next()})})}}function s0(n){n.createObjectStore("targetDocuments",{keyPath:SA}).createIndex("documentTargetsIndex",mI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AA,{unique:!0}),n.createObjectStore("targetGlobal")}const o0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class O_{constructor(e,t,i,o,c,h,g,v,D,x,L=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=c,this.window=h,this.document=g,this.oi=D,this._i=x,this.ai=L,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=Q=>Promise.resolve(),!O_.D())throw new Xe(Ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RM(this,o),this.Ii=t+"main",this.serializer=new cg(v),this.Ti=new hc(this.Ii,this.ai,new x_(this.serializer)),this.qr=new lw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=r0(this.serializer),this.Kr=new KA,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===x&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xe(Ae.FAILED_PRECONDITION,o0);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new as(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,Ue.A)(function*(o){if(t.started)return e(o)});return function(o){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Ue.A)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ue.A)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(fc(e))return Ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return N_(e).get("owner").next(t=>he.resolve(this.wi(t)))}Si(e){return gg(e).delete(this.clientId)}bi(){var e=this;return(0,Ue.A)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=Xi(i,"clientMetadata");return o.U().next(c=>{const h=e.Ci(c,18e5),g=c.filter(v=>-1===h.indexOf(v));return he.forEach(g,v=>o.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?he.resolve(!0):N_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Xe(Ae.FAILED_PRECONDITION,o0);return!1}}return!(!this.networkEnabled||!this.inForeground)||gg(e).U().next(i=>void 0===this.Ci(i,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ye("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ue.A)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new hd(t,as.oe);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>gg(e).U().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return JI.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ow(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return b_.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){Ye("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",c=16===(v=this.ai)?Zm:15===v?vI:14===v?Ym:13===v?yI:12===v?iT:11===v?_I:void wt();var v;let h;return this.Ti.runTransaction(e,o,c,g=>(h=new hd(g,this.Br?this.Br.next():as.oe),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.gi(h)).next(v=>{if(!v)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Xe(Ae.FAILED_PRECONDITION,hI);return i(h)}).next(v=>this.yi(h).next(()=>v)):this.Bi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Bi(e){return N_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Xe(Ae.FAILED_PRECONDITION,o0)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return N_(e).put("owner",t)}static D(){return hc.D()}pi(e){const t=N_(e);return t.get("owner").next(i=>this.wi(i)?(Ye("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ei(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,Qt.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ye("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ei("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function N_(n){return Xi(n,"owner")}function gg(n){return Xi(n,"clientMetadata")}function hw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class a0{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=o}static Qi(e,t){let i=Tn(),o=Tn();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new a0(e,t.fromCache,i,o)}}class fw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class k_{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=(0,Qt.nr)()?8:Qb((0,Qt.ZQ)())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.zi(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ji(e,t,o,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new fw;return this.Hi(e,t,h).next(g=>{if(c.result=g,this.$i)return this.Ji(e,t,h,g.size)})}).next(()=>c.result)}Ji(e,t,i,o){return i.documentReadCount<this.Ui?(Fh()<=Sr.$b.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",gc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),he.resolve()):(Fh()<=Sr.$b.DEBUG&&Ye("QueryEngine","Query:",gc(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Wi*o?(Fh()<=Sr.$b.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",gc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(t))):he.resolve())}zi(e,t){if(c_(t))return he.resolve(null);let i=Vs(t);return this.indexManager.getIndexType(e,i).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=u_(t,null,"F"),i=Vs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=Tn(...c);return this.Gi.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,i).next(v=>{const D=this.Yi(t,g);return this.Zi(t,D,h,v.readTime)?this.zi(e,u_(t,null,"F")):this.Xi(e,D,t,v)}))})))}ji(e,t,i,o){return c_(t)||o.isEqual(Ut.min())?he.resolve(null):this.Gi.getDocuments(e,i).next(c=>{const h=this.Yi(t,c);return this.Zi(t,h,i,o)?he.resolve(null):(Fh()<=Sr.$b.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gc(t)),this.Xi(e,h,t,Gm(o,-1)).next(g=>g))})}Yi(e,t){let i=new vr(CT(e));return t.forEach((o,c)=>{Kp(e,c)&&(i=i.add(c))}),i}Zi(e,t,i,o){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Hi(e,t,i){return Fh()<=Sr.$b.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",gc(t)),this.Gi.getDocumentsMatchingQuery(e,t,fo.min(),i)}Xi(e,t,i,o){return this.Gi.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}class aS{constructor(e,t,i,o){this.persistence=e,this.es=t,this.serializer=o,this.ts=new Rr(gn),this.ns=new Ml(c=>Xs(c),Gp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function pw(n,e,t,i){return new aS(n,e,t,i)}function mg(n,e){return l0.apply(this,arguments)}function l0(){return l0=(0,Ue.A)(function*(n,e){const t=ft(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],g=[];let v=Tn();for(const D of o){h.push(D.batchId);for(const x of D.mutations)v=v.add(x.key)}for(const D of c){g.push(D.batchId);for(const x of D.mutations)v=v.add(x.key)}return t.localDocuments.getDocuments(i,v).next(D=>({_s:D,removedBatchIds:h,addedBatchIds:g}))})})}),l0.apply(this,arguments)}function gw(n){const e=ft(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function mw(n,e,t){let i=Tn(),o=Tn();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let h=mo();return t.forEach((g,v)=>{const D=c.get(g);v.isFoundDocument()!==D.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Ut.min())?(e.removeEntry(g,v.readTime),h=h.insert(g,v)):!D.isValidDocument()||v.version.compareTo(D.version)>0||0===v.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(v),h=h.insert(g,v)):Ye("LocalStore","Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",v.version)}),{us:h,cs:o}})}function uS(n,e){const t=ft(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function uf(n,e){const t=ft(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.qr.getTargetData(i,e).next(c=>c?(o=c,he.resolve(o)):t.qr.allocateTargetId(i).next(h=>(o=new gu(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.ts.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Rd(n,e,t){return L_.apply(this,arguments)}function L_(){return L_=(0,Ue.A)(function*(n,e,t){const i=ft(n),o=i.ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!fc(h))throw h;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.ts=i.ts.remove(e),i.ns.delete(o.target)}),L_.apply(this,arguments)}function F_(n,e,t){const i=ft(n);let o=Ut.min(),c=Tn();return i.persistence.runTransaction("Execute query","readwrite",h=>function(v,D,x){const L=ft(v),Q=L.ns.get(x);return void 0!==Q?he.resolve(L.ts.get(Q)):L.qr.getTargetData(D,x)}(i,h,Vs(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(h,g.targetId).next(v=>{c=v})}).next(()=>i.es.getDocumentsMatchingQuery(h,e,t?o:Ut.min(),t?c:Tn())).next(g=>(u0(i,OA(e),g),{documents:g,ls:c})))}function dS(n,e){const t=ft(n),i=ft(t.qr),o=t.ts.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>i.ot(c,e).next(h=>h?h.target:null))}function c0(n,e){const t=ft(n),i=t.rs.get(e)||Ut.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ss.getAllFromCollectionGroup(o,e,Gm(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(u0(t,e,o),o))}function u0(n,e,t){let i=n.rs.get(e)||Ut.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.rs.set(e,i)}function V_(){return V_=(0,Ue.A)(function*(n,e,t,i){const o=ft(n);let c=Tn(),h=mo();for(const D of t){const x=e.hs(D.metadata.name);D.document&&(c=c.add(x));const L=e.Ps(D);L.setReadTime(e.Is(D.metadata.readTime)),h=h.insert(x,L)}const g=o.ss.newChangeBuffer({trackRemovals:!0}),v=yield uf(o,(x=i,Vs(Pl(zn.fromString(`__bundle__/docs/${x}`)))));var x;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>mw(D,g,h).next(x=>(g.apply(D),x)).next(x=>o.qr.removeMatchingKeysForTargetId(D,v.targetId).next(()=>o.qr.addMatchingKeys(D,c,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(D,x.us,x.cs)).next(()=>x.us)))}),V_.apply(this,arguments)}function hS(n,e){return _w.apply(this,arguments)}function _w(){return _w=(0,Ue.A)(function*(n,e,t=Tn()){const i=yield uf(n,Vs($I(e.bundledQuery))),o=ft(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const h=wn(e.readTime);if(i.snapshotVersion.compareTo(h)>=0)return o.Kr.saveNamedQuery(c,e);const g=i.withResumeToken(kt.EMPTY_BYTE_STRING,h);return o.ts=o.ts.insert(g.targetId,g),o.qr.updateTargetData(c,g).next(()=>o.qr.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>o.qr.addMatchingKeys(c,t,i.targetId)).next(()=>o.Kr.saveNamedQuery(c,e))})}),_w.apply(this,arguments)}function U_(n,e){return`firestore_clients_${n}_${e}`}function B_(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function d0(n,e){return`firestore_targets_${n}_${e}`}class _g{constructor(e,t,i,o){this.user=e,this.batchId=t,this.state=i,this.error=o}static Ts(e,t,i){const o=JSON.parse(i);let c,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new Xe(o.error.code,o.error.message))),h?new _g(e,t,o.state,c):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Md{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let o,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new Xe(i.error.code,i.error.message))),c?new Md(e,i.state,o):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let o="object"==typeof i&&i.activeTargetIds instanceof Array,c=qp();for(let h=0;o&&h<i.activeTargetIds.length;++h)o=Km(i.activeTargetIds[h]),c=c.add(i.activeTargetIds[h]);return o?new j_(e,c):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class df{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new df(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yw{constructor(){this.activeTargetIds=qp()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vw{constructor(e,t,i,o,c){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Rr(gn),this.started=!1,this.ps=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=U_(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new yw),this.Ss=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(v){return`firestore_bundle_loaded_v2_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ue.A)(function*(){const t=yield e.syncEngine.Li();for(const o of t){if(o===e.Rs)continue;const c=e.getItem(U_(e.persistenceKey,o));if(c){const h=j_.Ts(o,c);h&&(e.gs=e.gs.insert(h.clientId,h))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const o=e.Ms(i);o&&e.xs(o)}for(const o of e.ps)e.fs(o);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(d0(this.persistenceKey,e));if(i){const o=Md.Ts(e,i);o&&(t=o.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(d0(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(o=>{this.Ls(o)}),this.currentUser=e,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ye("SharedClientState","READ",e,t),t}setItem(e,t){Ye("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ye("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ue.A)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const o=t.Ks(i.key);return t.$s(o,null)}{const o=t.Us(i.key,i.newValue);if(o)return t.$s(o.clientId,o)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const o=t.Ws(i.key,i.newValue);if(o)return t.Gs(o)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const o=t.zs(i.key,i.newValue);if(o)return t.js(o)}}else if(i.key===t.Cs){if(null!==i.newValue){const o=t.Ms(i.newValue);if(o)return t.xs(o)}}else if(i.key===t.ws){const o=function(h){let g=as.oe;if(null!=h)try{const v=JSON.parse(h);Nt("number"==typeof v),g=v}catch(v){Ei("SharedClientState","Failed to read sequence number from WebStorage",v)}return g}(i.newValue);o!==as.oe&&t.sequenceNumberHandler(o)}else if(i.key===t.vs){const o=t.Hs(i.newValue);yield Promise.all(o.map(c=>t.syncEngine.Js(c)))}}else t.ps.push(i)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,i){const o=new _g(this.currentUser,e,t,i),c=B_(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Es())}Ls(e){const t=B_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const o=d0(this.persistenceKey,e),c=new Md(e,t,i);this.setItem(o,c.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return j_.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),o=Number(i[1]);return _g.Ts(new Ki(void 0!==i[2]?i[2]:null),o,t)}zs(e,t){const i=this.Ds.exec(e),o=Number(i[1]);return Md.Ts(o,t)}Ms(e){return df.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Ue.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);Ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),o=this.Os(this.gs),c=this.Os(i),h=[],g=[];return c.forEach(v=>{o.has(v)||h.push(v)}),o.forEach(v=>{c.has(v)||g.push(v)}),this.syncEngine.Xs(h,g).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=qp();return e.forEach((i,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Iw{constructor(){this.eo=new yw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new yw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NM{ro(e){}shutdown(){}}class xd{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let h0=null;function hf(){return null===h0?h0=268435456+Math.round(2147483648*Math.random()):h0++,"0x"+h0.toString(16)}const fS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const ls="WebChannelConnection";class gS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.yo=i+"://"+t.host,this.wo=`projects/${o}/databases/${c}`,this.So="(default)"===this.databaseId.database?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get bo(){return!1}Do(t,i,o,c,h){const g=hf(),v=this.Co(t,i.toUriEncodedString());Ye("RestConnection",`Sending RPC '${t}' ${g}:`,v,o);const D={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(D,c,h),this.Fo(t,v,D,o).then(x=>(Ye("RestConnection",`Received RPC '${t}' ${g}: `,x),x),x=>{throw Ls("RestConnection",`RPC '${t}' ${g} failed with error: `,x,"url: ",v,"request:",o),x})}Mo(t,i,o,c,h,g){return this.Do(t,i,o,c,h)}vo(t,i,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+ad,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,h)=>t[h]=c),o&&o.headers.forEach((c,h)=>t[h]=c)}Co(t,i){return`${this.yo}/v1/${i}:${fS[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,i,o){const c=hf();return new Promise((h,g)=>{const v=new IA;v.setWithCredentials(!0),v.listenOnce(aI.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Op.NO_ERROR:const x=v.getResponseJson();Ye(ls,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case Op.TIMEOUT:Ye(ls,`RPC '${e}' ${c} timed out`),g(new Xe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Op.HTTP_ERROR:const L=v.getStatus();if(Ye(ls,`RPC '${e}' ${c} failed with status:`,L,"response text:",v.getResponseText()),L>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const ue=function(De){const tt=De.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(tt)>=0?tt:Ae.UNKNOWN}(J.status);g(new Xe(ue,J.message))}else g(new Xe(Ae.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Xe(Ae.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Ye(ls,`RPC '${e}' ${c} completed.`)}});const D=JSON.stringify(o);Ye(ls,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",D,i,15)})}xo(e,t,i){const o=hf(),c=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=fM(),g=pM(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(v.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(v.xmlHttpFactory=new Bb({})),this.vo(v.initMessageHeaders,t,i),v.encodeInitMessageHeaders=!0;const x=c.join("");Ye(ls,`Creating RPC '${e}' stream ${o}: ${x}`,v);const L=h.createWebChannel(x,v);let Q=!1,J=!1;const ue=new pS({co:De=>{J?Ye(ls,`Not sending because RPC '${e}' stream ${o} is closed:`,De):(Q||(Ye(ls,`Opening RPC '${e}' stream ${o} transport.`),L.open(),Q=!0),Ye(ls,`RPC '${e}' stream ${o} sending:`,De),L.send(De))},lo:()=>L.close()}),fe=(De,tt,pt)=>{De.listen(tt,qe=>{try{pt(qe)}catch(yt){setTimeout(()=>{throw yt},0)}})};return fe(L,Hm.EventType.OPEN,()=>{J||(Ye(ls,`RPC '${e}' stream ${o} transport opened.`),ue.Vo())}),fe(L,Hm.EventType.CLOSE,()=>{J||(J=!0,Ye(ls,`RPC '${e}' stream ${o} transport closed`),ue.fo())}),fe(L,Hm.EventType.ERROR,De=>{J||(J=!0,Ls(ls,`RPC '${e}' stream ${o} transport errored:`,De),ue.fo(new Xe(Ae.UNAVAILABLE,"The operation could not be completed")))}),fe(L,Hm.EventType.MESSAGE,De=>{var tt;if(!J){const pt=De.data[0];Nt(!!pt);const yt=pt.error||(null===(tt=pt[0])||void 0===tt?void 0:tt.error);if(yt){Ye(ls,`RPC '${e}' stream ${o} received error:`,yt);const tn=yt.status;let cn=function(Qd){const Xd=bi[Qd];if(void 0!==Xd)return LT(Xd)}(tn),Pn=yt.message;void 0===cn&&(cn=Ae.INTERNAL,Pn="Unknown error status: "+tn+" with message "+yt.message),J=!0,ue.fo(new Xe(cn,Pn)),L.close()}else Ye(ls,`RPC '${e}' stream ${o} received:`,pt),ue.po(pt)}}),fe(g,gM.STAT_EVENT,De=>{De.stat===vA.PROXY?Ye(ls,`RPC '${e}' stream ${o} detected buffering proxy`):De.stat===vA.NOPROXY&&Ye(ls,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{ue.mo()},0),ue}}function ja(){return typeof window<"u"?window:null}function bu(){return typeof document<"u"?document:null}function Yr(n){return new $T(n,!0)}class vc{constructor(e,t,i=1e3,o=1.5,c=6e4){this.si=e,this.timerId=t,this.Oo=i,this.No=o,this.Lo=c,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),i=Math.max(0,Date.now()-this.qo),o=Math.max(0,t-i);o>0&&Ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class yg{constructor(e,t,i,o,c,h,g,v){this.si=e,this.Wo=i,this.Go=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new vc(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return(0,Ue.A)(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return(0,Ue.A)(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,t){var i=this;return(0,Ue.A)(function*(){i.i_(),i.s_(),i.Jo.cancel(),i.zo++,4!==e?i.Jo.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),i.Jo.Qo()):t&&t.code===Ae.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.o_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Eo(t)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.zo===t&&this.a_(i,o)},i=>{e(()=>{const o=new Xe(Ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.u_(o)})})}a_(e,t){const i=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho(()=>{i(()=>this.listener.ho())}),this.stream.Io(()=>{i(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(o=>{i(()=>this.u_(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Xo(){var e=this;this.state=5,this.Jo.Ko((0,Ue.A)(function*(){e.state=0,e.start()}))}u_(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget(()=>this.zo===e?t():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class va extends yg{constructor(e,t,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function VI(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(D=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:wt(),o=e.targetChange.targetIds||[],c=function(D,x){return D.useProto3Json?(Nt(void 0===x||"string"==typeof x),kt.fromBase64String(x||"")):(Nt(void 0===x||x instanceof Buffer||x instanceof Uint8Array),kt.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(D){const x=void 0===D.code?Ae.UNKNOWN:LT(D.code);return new Xe(x,D.message||"")}(h);t=new VT(i,o,c,g||null)}else if("documentChange"in e){const i=e.documentChange,o=ya(n,i.document.name),c=wn(i.document.updateTime),h=i.document.createTime?wn(i.document.createTime):Ut.min(),g=new Fs({mapValue:{fields:i.document.fields}}),v=$r.newFoundDocument(o,c,h,g);t=new ng(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const i=e.documentDelete,o=ya(n,i.document),c=i.readTime?wn(i.readTime):Ut.min(),h=$r.newNoDocument(o,c);t=new ng([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,o=ya(n,i.document);t=new ng([],i.removedTargetIds||[],o,null)}else{if(!("filter"in e))return wt();{const i=e.filter,{count:o=0,unchangedNames:c}=i,h=new $A(o,c);t=new zA(i.targetId,h)}}var D;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Ut.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ut.min():h.readTime?wn(h.readTime):Ut.min()}(e);return this.listener.l_(t,i)}h_(e){const t={};t.database=y_(this.serializer),t.addTarget=function(c,h){let g;const v=h.target;if(g=l_(v)?{documents:UI(c,v)}:{query:Td(c,v)._t},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=HT(c,h.resumeToken);const D=$o(c,h.expectedCount);null!==D&&(g.expectedCount=D)}else if(h.snapshotVersion.compareTo(Ut.min())>0){g.readTime=bd(c,h.snapshotVersion.toTimestamp());const D=$o(c,h.expectedCount);null!==D&&(g.expectedCount=D)}return g}(this.serializer,e);const i=function du(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.r_(t)}P_(e){const t={};t.database=y_(this.serializer),t.removeTarget=e,this.r_(t)}}class vg extends yg{constructor(e,t,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function qT(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(o,c){let h=wn(o.updateTime?o.updateTime:c);return h.isEqual(Ut.min())&&(h=wn(c)),new RT(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=wn(e.commitTime);return this.listener.d_(i,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=y_(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>og(this.serializer,i))};this.r_(t)}}class mS extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.V_=!1}m_(){if(this.V_)throw new Xe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Do(e,ig(t,i),o,c,h)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Xe(Ae.UNKNOWN,c.toString())})}Mo(e,t,i,o,c){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Mo(e,ig(t,i),o,h,g,c)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Xe(Ae.UNKNOWN,h.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Ew{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ei(t),this.y_=!1):Ye("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class _S{constructor(e,t,i,o,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.ro(g=>{i.enqueueAndForget((0,Ue.A)(function*(){var v;Ic(h)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ue.A)(function*(x){const L=ft(x);L.M_.add(4),yield Od(L),L.N_.set("Unknown"),L.M_.delete(4),yield Ig(L)}),function D(x){return v.apply(this,arguments)})(h))}))}),this.N_=new Ew(i,o)}}function Ig(n){return fi.apply(this,arguments)}function fi(){return fi=(0,Ue.A)(function*(n){if(Ic(n))for(const e of n.x_)yield e(!0)}),fi.apply(this,arguments)}function Od(n){return f0.apply(this,arguments)}function f0(){return f0=(0,Ue.A)(function*(n){for(const e of n.x_)yield e(!1)}),f0.apply(this,arguments)}function ii(n,e){const t=ft(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),pf(t)?Nd(t):_f(t).Zo()&&Tu(t,e))}function kl(n,e){const t=ft(n),i=_f(t);t.F_.delete(e),i.Zo()&&Eg(t,e),0===t.F_.size&&(i.Zo()?i.t_():Ic(t)&&t.N_.set("Unknown"))}function Tu(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_f(n).h_(e)}function Eg(n,e){n.L_.xe(e),_f(n).P_(e)}function Nd(n){n.L_=new UT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),_f(n).start(),n.N_.w_()}function pf(n){return Ic(n)&&!_f(n).Yo()&&n.F_.size>0}function Ic(n){return 0===ft(n).M_.size}function p0(n){n.L_=void 0}function bw(n){return gf.apply(this,arguments)}function gf(){return gf=(0,Ue.A)(function*(n){n.N_.set("Online")}),gf.apply(this,arguments)}function g0(n){return H_.apply(this,arguments)}function H_(){return H_=(0,Ue.A)(function*(n){n.F_.forEach((e,t)=>{Tu(n,e)})}),H_.apply(this,arguments)}function z_(n,e){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,Ue.A)(function*(n,e){p0(n),pf(n)?(n.N_.D_(e),Nd(n)):n.N_.set("Unknown")}),Ec.apply(this,arguments)}function yS(n,e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,Ue.A)(function*(n,e,t){if(n.N_.set("Online"),e instanceof VT&&2===e.state&&e.cause)try{yield(i=(0,Ue.A)(function*(c,h){const g=h.cause;for(const v of h.targetIds)c.F_.has(v)&&(yield c.remoteSyncer.rejectListen(v,g),c.F_.delete(v),c.L_.removeTarget(v))}),function o(c,h){return i.apply(this,arguments)})(n,e)}catch(i){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield G_(n,i)}else if(e instanceof ng?n.L_.Ke(e):e instanceof zA?n.L_.He(e):n.L_.We(e),!t.isEqual(Ut.min()))try{const i=yield gw(n.localStore);t.compareTo(i)>=0&&(yield function(c,h){const g=c.L_.rt(h);return g.targetChanges.forEach((v,D)=>{if(v.resumeToken.approximateByteSize()>0){const x=c.F_.get(D);x&&c.F_.set(D,x.withResumeToken(v.resumeToken,h))}}),g.targetMismatches.forEach((v,D)=>{const x=c.F_.get(v);if(!x)return;c.F_.set(v,x.withResumeToken(kt.EMPTY_BYTE_STRING,x.snapshotVersion)),Eg(c,v);const L=new gu(x.target,v,D,x.sequenceNumber);Tu(c,L)}),c.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(i){Ye("RemoteStore","Failed to raise snapshot:",i),yield G_(n,i)}var i}),Ys.apply(this,arguments)}function G_(n,e,t){return m0.apply(this,arguments)}function m0(){return m0=(0,Ue.A)(function*(n,e,t){if(!fc(e))throw e;n.M_.add(1),yield Od(n),n.N_.set("Offline"),t||(t=()=>gw(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ue.A)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield Ig(n)}))}),m0.apply(this,arguments)}function W_(n,e){return e().catch(t=>G_(n,t,e))}function kd(n){return K_.apply(this,arguments)}function K_(){return K_=(0,Ue.A)(function*(n){const e=ft(n),t=Ho(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;vS(e);)try{const o=yield uS(e.localStore,i);if(null===o){0===e.v_.length&&t.t_();break}i=o.batchId,kM(e,o)}catch(o){yield G_(e,o)}Tw(e)&&bg(e)}),K_.apply(this,arguments)}function vS(n){return Ic(n)&&n.v_.length<10}function kM(n,e){n.v_.push(e);const t=Ho(n);t.Zo()&&t.T_&&t.E_(e.mutations)}function Tw(n){return Ic(n)&&!Ho(n).Yo()&&n.v_.length>0}function bg(n){Ho(n).start()}function _0(n){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Ue.A)(function*(n){Ho(n).R_()}),Tg.apply(this,arguments)}function mf(n){return q_.apply(this,arguments)}function q_(){return q_=(0,Ue.A)(function*(n){const e=Ho(n);for(const t of n.v_)e.E_(t.mutations)}),q_.apply(this,arguments)}function ww(n,e,t){return wu.apply(this,arguments)}function wu(){return wu=(0,Ue.A)(function*(n,e,t){const i=n.v_.shift(),o=ef.from(i,e,t);yield W_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield kd(n)}),wu.apply(this,arguments)}function y0(n,e){return wg.apply(this,arguments)}function wg(){return wg=(0,Ue.A)(function*(n,e){var t;e&&Ho(n).T_&&(yield(t=(0,Ue.A)(function*(o,c){if(xI(g=c.code)&&g!==Ae.ABORTED){const h=o.v_.shift();Ho(o).e_(),yield W_(o,()=>o.remoteSyncer.rejectFailedWrite(h.batchId,c)),yield kd(o)}var g}),function i(o,c){return t.apply(this,arguments)})(n,e)),Tw(n)&&bg(n)}),wg.apply(this,arguments)}function v0(n,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,Ue.A)(function*(n,e){const t=ft(n);t.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const i=Ic(t);t.M_.add(3),yield Od(t),i&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield Ig(t)}),Q_.apply(this,arguments)}function X_(n,e){return I0.apply(this,arguments)}function I0(){return I0=(0,Ue.A)(function*(n,e){const t=ft(n);e?(t.M_.delete(2),yield Ig(t)):e||(t.M_.add(2),yield Od(t),t.N_.set("Unknown"))}),I0.apply(this,arguments)}function _f(n){return n.B_||(n.B_=function(t,i,o){const c=ft(t);return c.m_(),new va(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{ho:bw.bind(null,n),Io:g0.bind(null,n),Eo:z_.bind(null,n),l_:yS.bind(null,n)}),n.x_.push(function(){var e=(0,Ue.A)(function*(t){t?(n.B_.e_(),pf(n)?Nd(n):n.N_.set("Unknown")):(yield n.B_.stop(),p0(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function Ho(n){return n.k_||(n.k_=function(t,i,o){const c=ft(t);return c.m_(),new vg(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{ho:()=>Promise.resolve(),Io:_0.bind(null,n),Eo:y0.bind(null,n),A_:mf.bind(null,n),d_:ww.bind(null,n)}),n.x_.push(function(){var e=(0,Ue.A)(function*(t){t?(n.k_.e_(),yield kd(n)):(yield n.k_.stop(),n.v_.length>0&&(Ye("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class Y_{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const h=Date.now()+i,g=new Y_(e,t,h,o,c);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yf(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),fc(n))return new Xe(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class vf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||_t.comparator(t.key,i.key):(t,i)=>_t.comparator(t.key,i.key),this.keyedMap=yd(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new vf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new vf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Cw{constructor(){this.q_=new Rr(_t.comparator)}track(e){const t=e.doc.key,i=this.q_.get(t);i?0!==e.type&&3===i.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==i.type?this.q_=this.q_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.q_=this.q_.remove(t):1===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):wt():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ld{constructor(e,t,i,o,c,h,g,v,D){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=D}static fromInitialDocuments(e,t,i,o,c){const h=[];return t.forEach(g=>{h.push({type:0,doc:g})}),new Ld(e,t,vf.emptySet(t),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class Dw{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class IS{constructor(){this.queries=new Ml(e=>SI(e),Wp),this.onlineState="Unknown",this.z_=new Set}}function Aw(n,e){return E0.apply(this,arguments)}function E0(){return E0=(0,Ue.A)(function*(n,e){const t=ft(n);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.W_()&&e.G_()&&(i=2):(c=new Dw,i=e.G_()?0:1);try{switch(i){case 0:c.K_=yield t.onListen(o,!0);break;case 1:c.K_=yield t.onListen(o,!1);break;case 2:yield t.onFirstRemoteStoreListen(o)}}catch(h){const g=yf(h,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(g)}t.queries.set(o,c),c.U_.push(e),e.j_(t.onlineState),c.K_&&e.H_(c.K_)&&b0(t)}),E0.apply(this,arguments)}function Cg(n,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Ue.A)(function*(n,e){const t=ft(n),i=e.query;let o=3;const c=t.queries.get(i);if(c){const h=c.U_.indexOf(e);h>=0&&(c.U_.splice(h,1),0===c.U_.length?o=e.G_()?0:1:!c.W_()&&e.G_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}),Dg.apply(this,arguments)}function Sw(n,e){const t=ft(n);let i=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const g of h.U_)g.H_(o)&&(i=!0);h.K_=o}}i&&b0(t)}function Rw(n,e,t){const i=ft(n),o=i.queries.get(e);if(o)for(const c of o.U_)c.onError(t);i.queries.delete(e)}function b0(n){n.z_.forEach(e=>{e.next()})}var T0,w0;(w0=T0||(T0={})).J_="default",w0.Cache="cache";class C0{constructor(e,t,i){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)3!==o.type&&i.push(o);e=new Ld(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==T0.Cache}}class ES{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class Pw{constructor(e){this.serializer=e}hs(e){return ya(this.serializer,e)}Ps(e){return e.metadata.exists?uu(this.serializer,e.document,!1):$r.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return wn(e)}}class bS{constructor(e,t,i){this.oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mw(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const i=zn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,i=new Pw(this.serializer);for(const o of e)if(o.metadata.queries){const c=i.hs(o.metadata.name);for(const h of o.metadata.queries){const g=(t.get(h)||Tn()).add(c);t.set(h,g)}}return t}complete(){var e=this;return(0,Ue.A)(function*(){const t=yield function Pd(n,e,t,i){return V_.apply(this,arguments)}(e.localStore,new Pw(e.serializer),e.documents,e.oa.id),i=e.aa(e.documents);for(const o of e.queries)yield hS(e.localStore,o,i.get(o.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:t}})()}}function Mw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xw{constructor(e){this.key=e}}class Ow{constructor(e){this.key=e}}class Nw{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Tn(),this.mutatedKeys=Tn(),this.Ia=CT(e),this.Ta=new vf(this.Ia)}get Ea(){return this.la}da(e,t){const i=t?t.Aa:new Cw,o=t?t.Ta:this.Ta;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,g=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,D="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,L)=>{const Q=o.get(x),J=Kp(this.query,L)?L:null,ue=!!Q&&this.mutatedKeys.has(Q.key),fe=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let De=!1;Q&&J?Q.data.isEqual(J.data)?ue!==fe&&(i.track({type:3,doc:J}),De=!0):this.Ra(Q,J)||(i.track({type:2,doc:J}),De=!0,(v&&this.Ia(J,v)>0||D&&this.Ia(J,D)<0)&&(g=!0)):!Q&&J?(i.track({type:0,doc:J}),De=!0):Q&&!J&&(i.track({type:1,doc:Q}),De=!0,(v||D)&&(g=!0)),De&&(J?(h=h.add(J),c=fe?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const x="F"===this.query.limitType?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{Ta:h,Aa:i,Zi:g,mutatedKeys:c}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const h=e.Aa.Q_();h.sort((x,L)=>function(J,ue){const fe=De=>{switch(De){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return fe(J)-fe(ue)}(x.type,L.type)||this.Ia(x.doc,L.doc)),this.Va(i),o=null!=o&&o;const g=t&&!o?this.ma():[],v=0===this.Pa.size&&this.current&&!o?1:0,D=v!==this.ha;return this.ha=v,0!==h.length||D?{snapshot:new Ld(this.query,e.Ta,c,h,e.mutatedKeys,0===v,D,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:g}:{fa:g}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Cw,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Tn(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const t=[];return e.forEach(i=>{this.Pa.has(i)||t.push(new Ow(i))}),this.Pa.forEach(i=>{e.has(i)||t.push(new xw(i))}),t}pa(e){this.la=e.ls,this.Pa=Tn();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Ld.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class TS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wS{constructor(e){this.key=e,this.wa=!1}}class CS{constructor(e,t,i,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Sa={},this.ba=new Ml(g=>SI(g),Wp),this.Da=new Map,this.Ca=new Set,this.va=new Rr(_t.comparator),this.Fa=new Map,this.Ma=new Eu,this.xa={},this.Oa=new Map,this.Na=vu.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function kw(n,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ue.A)(function*(n,e,t=!0){const i=cy(n);let o;const c=i.ba.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.ya()):o=yield Lw(i,e,t,!0),o}),Z_.apply(this,arguments)}function Cu(n,e){return D0.apply(this,arguments)}function D0(){return D0=(0,Ue.A)(function*(n,e){const t=cy(n);yield Lw(t,e,!0,!1)}),D0.apply(this,arguments)}function Lw(n,e,t,i){return J_.apply(this,arguments)}function J_(){return J_=(0,Ue.A)(function*(n,e,t,i){const o=yield uf(n.localStore,Vs(e)),c=o.targetId,h=t?n.sharedClientState.addLocalQueryTarget(c):"not-current";let g;return i&&(g=yield A0(n,e,c,"current"===h,o.resumeToken)),n.isPrimaryClient&&t&&ii(n.remoteStore,o),g}),J_.apply(this,arguments)}function A0(n,e,t,i,o){return ey.apply(this,arguments)}function ey(){return ey=(0,Ue.A)(function*(n,e,t,i,o){n.Ba=(L,Q,J)=>{return(ue=(0,Ue.A)(function*(De,tt,pt,qe){let yt=tt.view.da(pt);yt.Zi&&(yt=yield F_(De.localStore,tt.query,!1).then(({documents:Mr})=>tt.view.da(Mr,yt)));const tn=qe&&qe.targetChanges.get(tt.targetId),cn=qe&&null!=qe.targetMismatches.get(tt.targetId),Pn=tt.view.applyChanges(yt,De.isPrimaryClient,tn,cn);return sy(De,tt.targetId,Pn.fa),Pn.snapshot}),function fe(De,tt,pt,qe){return ue.apply(this,arguments)})(n,L,Q,J);var ue};const c=yield F_(n.localStore,e,!0),h=new Nw(e,c.ls),g=h.da(c.documents),v=tg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,o),D=h.applyChanges(g,n.isPrimaryClient,v);sy(n,t,D.fa);const x=new TS(e,t,h);return n.ba.set(e,x),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),D.snapshot}),ey.apply(this,arguments)}function Fw(n,e,t){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,Ue.A)(function*(n,e,t){const i=ft(n),o=i.ba.get(e),c=i.Da.get(o.targetId);if(c.length>1)return i.Da.set(o.targetId,c.filter(h=>!Wp(h,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Rd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&kl(i.remoteStore,o.targetId),Ud(i,o.targetId)}).catch(jo))):(Ud(i,o.targetId),yield Rd(i.localStore,o.targetId,!0))}),Fd.apply(this,arguments)}function S0(n,e){return Du.apply(this,arguments)}function Du(){return Du=(0,Ue.A)(function*(n,e){const t=ft(n),i=t.ba.get(e),o=t.Da.get(i.targetId);t.isPrimaryClient&&1===o.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),kl(t.remoteStore,i.targetId))}),Du.apply(this,arguments)}function Au(){return Au=(0,Ue.A)(function*(n,e,t){const i=uy(n);try{const o=yield function(h,g){const v=ft(h),D=ni.now(),x=g.reduce((J,ue)=>J.add(ue.key),Tn());let L,Q;return v.persistence.runTransaction("Locally write mutations","readwrite",J=>{let ue=mo(),fe=Tn();return v.ss.getEntries(J,x).next(De=>{ue=De,ue.forEach((tt,pt)=>{pt.isValidDocument()||(fe=fe.add(tt))})}).next(()=>v.localDocuments.getOverlayedDocuments(J,ue)).next(De=>{L=De;const tt=[];for(const pt of g){const qe=g_(pt,L.get(pt.key).overlayedDocument);null!=qe&&tt.push(new _c(pt.key,qe,r_(qe.value.mapValue),ri.exists(!0)))}return v.mutationQueue.addMutationBatch(J,D,tt,g)}).next(De=>{Q=De;const tt=De.applyToLocalDocumentSet(L,fe);return v.documentOverlayCache.saveOverlays(J,De.batchId,tt)})}).then(()=>({batchId:Q.batchId,changes:PI(L)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,g,v){let D=h.xa[h.currentUser.toKey()];D||(D=new Rr(gn)),D=D.insert(g,v),h.xa[h.currentUser.toKey()]=D}(i,o.batchId,t),yield Ll(i,o.changes),yield kd(i.remoteStore)}catch(o){const c=yf(o,"Failed to persist write");t.reject(c)}}),Au.apply(this,arguments)}function ty(n,e){return Su.apply(this,arguments)}function Su(){return Su=(0,Ue.A)(function*(n,e){const t=ft(n);try{const i=yield function cS(n,e){const t=ft(n),i=e.snapshotVersion;let o=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.ss.newChangeBuffer({trackRemovals:!0});o=t.ts;const g=[];e.targetChanges.forEach((x,L)=>{const Q=o.get(L);if(!Q)return;g.push(t.qr.removeMatchingKeys(c,x.removedDocuments,L).next(()=>t.qr.addMatchingKeys(c,x.addedDocuments,L)));let J=Q.withSequenceNumber(c.currentSequenceNumber);var fe,De,tt;null!==e.targetMismatches.get(L)?J=J.withResumeToken(kt.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):x.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(x.resumeToken,i)),o=o.insert(L,J),De=J,tt=x,(0===(fe=Q).resumeToken.approximateByteSize()||De.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0)&&g.push(t.qr.updateTargetData(c,J))});let v=mo(),D=Tn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),g.push(mw(c,h,e.documentUpdates).next(x=>{v=x.us,D=x.cs})),!i.isEqual(Ut.min())){const x=t.qr.getLastRemoteSnapshotVersion(c).next(L=>t.qr.setTargetsMetadata(c,c.currentSequenceNumber,i));g.push(x)}return he.waitFor(g).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,v,D)).next(()=>v)}).then(c=>(t.ts=o,c))}(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Fa.get(c);h&&(Nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.wa=!0:o.modifiedDocuments.size>0?Nt(h.wa):o.removedDocuments.size>0&&(Nt(h.wa),h.wa=!1))}),yield Ll(t,i,e)}catch(i){yield jo(i)}}),Su.apply(this,arguments)}function Vd(n,e,t){const i=ft(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const o=[];i.ba.forEach((c,h)=>{const g=h.view.j_(e);g.snapshot&&o.push(g.snapshot)}),function(h,g){const v=ft(h);v.onlineState=g;let D=!1;v.queries.forEach((x,L)=>{for(const Q of L.U_)Q.j_(g)&&(D=!0)}),D&&b0(v)}(i.eventManager,e),o.length&&i.Sa.l_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function If(n,e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,Ue.A)(function*(n,e,t){const i=ft(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Fa.get(e),c=o&&o.key;if(c){let h=new Rr(_t.comparator);h=h.insert(c,$r.newNoDocument(c,Ut.min()));const g=Tn().add(c),v=new nf(Ut.min(),new Map,new Rr(gn),h,g);yield ty(i,v),i.va=i.va.remove(c),i.Fa.delete(e),oy(i)}else yield Rd(i.localStore,e,!1).then(()=>Ud(i,e,t)).catch(jo)}),Ru.apply(this,arguments)}function Ef(n,e){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,Ue.A)(function*(n,e){const t=ft(n),i=e.batch.batchId;try{const o=yield function lS(n,e){const t=ft(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.ss.newChangeBuffer({trackRemovals:!0});return function(g,v,D,x){const L=D.batch,Q=L.keys();let J=he.resolve();return Q.forEach(ue=>{J=J.next(()=>x.getEntry(v,ue)).next(fe=>{const De=D.docVersions.get(ue);Nt(null!==De),fe.version.compareTo(De)<0&&(L.applyToRemoteDocument(fe,D),fe.isValidDocument()&&(fe.setReadTime(D.commitVersion),x.addEntry(fe)))})}),J.next(()=>g.mutationQueue.removeMutationBatch(v,L))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let v=Tn();for(let D=0;D<g.mutationResults.length;++D)g.mutationResults[D].transformResults.length>0&&(v=v.add(g.batch.mutations[D].key));return v}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}(t.localStore,e);iy(t,i,null),ry(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ll(t,o)}catch(o){yield jo(o)}}),Pu.apply(this,arguments)}function bf(n,e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,Ue.A)(function*(n,e,t){const i=ft(n);try{const o=yield function(h,g){const v=ft(h);return v.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let x;return v.mutationQueue.lookupMutationBatch(D,g).next(L=>(Nt(null!==L),x=L.keys(),v.mutationQueue.removeMutationBatch(D,L))).next(()=>v.mutationQueue.performConsistencyCheck(D)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(D,x,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(D,x)).next(()=>v.localDocuments.getDocuments(D,x))})}(i.localStore,e);iy(i,e,t),ry(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ll(i,o)}catch(o){yield jo(o)}}),Mu.apply(this,arguments)}function ny(){return ny=(0,Ue.A)(function*(n,e){const t=ft(n);Ic(t.remoteStore)||Ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(h){const g=ft(h);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>g.mutationQueue.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===i)return void e.resolve();const o=t.Oa.get(i)||[];o.push(e),t.Oa.set(i,o)}catch(i){const o=yf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),ny.apply(this,arguments)}function ry(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function iy(n,e,t){const i=ft(n);let o=i.xa[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.xa[i.currentUser.toKey()]=o}}function Ud(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Da.get(e))n.ba.delete(i),t&&n.Sa.ka(i,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Rr(e).forEach(i=>{n.Ma.containsKey(i)||R0(n,i)})}function R0(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(kl(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),oy(n))}function sy(n,e,t){for(const i of t)i instanceof xw?(n.Ma.addReference(i.key,e),Uw(n,i)):i instanceof Ow?(Ye("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,e),n.Ma.containsKey(i.key)||R0(n,i.key)):wt()}function Uw(n,e){const t=e.key,i=t.path.canonicalString();n.va.get(t)||n.Ca.has(i)||(Ye("SyncEngine","New document in limbo: "+t),n.Ca.add(i),oy(n))}function oy(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new _t(zn.fromString(e)),i=n.Na.next();n.Fa.set(i,new wS(t)),n.va=n.va.insert(t,i),ii(n.remoteStore,new gu(Vs(Pl(t.path)),i,"TargetPurposeLimboResolution",as.oe))}}function Ll(n,e,t){return wf.apply(this,arguments)}function wf(){return wf=(0,Ue.A)(function*(n,e,t){const i=ft(n),o=[],c=[],h=[];var g;i.ba.isEmpty()||(i.ba.forEach((g,v)=>{h.push(i.Ba(v,e,t).then(D=>{if((D||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,D?.fromCache?"not-current":"current"),D){o.push(D);const x=a0.Qi(v.targetId,D);c.push(x)}}))}),yield Promise.all(h),i.Sa.l_(o),yield(g=(0,Ue.A)(function*(D,x){const L=ft(D);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>he.forEach(x,J=>he.forEach(J.ki,ue=>L.persistence.referenceDelegate.addReference(Q,J.targetId,ue)).next(()=>he.forEach(J.qi,ue=>L.persistence.referenceDelegate.removeReference(Q,J.targetId,ue)))))}catch(Q){if(!fc(Q))throw Q;Ye("LocalStore","Failed to update sequence numbers: "+Q)}for(const Q of x){const J=Q.targetId;if(!Q.fromCache){const ue=L.ts.get(J),De=ue.withLastLimboFreeSnapshotVersion(ue.snapshotVersion);L.ts=L.ts.insert(J,De)}}}),function v(D,x){return g.apply(this,arguments)})(i.localStore,c))}),wf.apply(this,arguments)}function xu(n,e){return P0.apply(this,arguments)}function P0(){return P0=(0,Ue.A)(function*(n,e){const t=ft(n);if(!t.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const i=yield mg(t.localStore,e);t.currentUser=e,(c=t).Oa.forEach(g=>{g.forEach(v=>{v.reject(new Xe(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ll(t,i._s)}var c}),P0.apply(this,arguments)}function DS(n,e){const t=ft(n),i=t.Fa.get(e);if(i&&i.wa)return Tn().add(i.key);{let o=Tn();const c=t.Da.get(e);if(!c)return o;for(const h of c){const g=t.ba.get(h);o=o.unionWith(g.view.Ea)}return o}}function M0(n,e){return bc.apply(this,arguments)}function bc(){return bc=(0,Ue.A)(function*(n,e){const t=ft(n),i=yield F_(t.localStore,e.query,!0),o=e.view.pa(i);return t.isPrimaryClient&&sy(t,e.targetId,o.fa),o}),bc.apply(this,arguments)}function x0(n,e){return O0.apply(this,arguments)}function O0(){return O0=(0,Ue.A)(function*(n,e){const t=ft(n);return c0(t.localStore,e).then(i=>Ll(t,i))}),O0.apply(this,arguments)}function N0(n,e,t,i){return Bw.apply(this,arguments)}function Bw(){return Bw=(0,Ue.A)(function*(n,e,t,i){const o=ft(n),c=yield function(g,v){const D=ft(g),x=ft(D.mutationQueue);return D.persistence.runTransaction("Lookup mutation documents","readonly",L=>x.Cn(L,v).next(Q=>Q?D.localDocuments.getDocuments(L,Q):he.resolve(null)))}(o.localStore,e);var v;null!==c?("pending"===t?yield kd(o.remoteStore):"acknowledged"===t||"rejected"===t?(iy(o,e,i||null),ry(o,e),v=e,ft(ft(o.localStore).mutationQueue).Fn(v)):wt(),yield Ll(o,c)):Ye("SyncEngine","Cannot apply mutation batch with id: "+e)}),Bw.apply(this,arguments)}function k0(){return k0=(0,Ue.A)(function*(n,e){const t=ft(n);if(cy(t),uy(t),!0===e&&!0!==t.La){const i=t.sharedClientState.getAllActiveQueryTargets(),o=yield jw(t,i.toArray());t.La=!0,yield X_(t.remoteStore,!0);for(const c of o)ii(t.remoteStore,c)}else if(!1===e&&!1!==t.La){const i=[];let o=Promise.resolve();t.Da.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?i.push(h):o=o.then(()=>(Ud(t,h),Rd(t.localStore,h,!0))),kl(t.remoteStore,h)}),yield o,yield jw(t,i),function(h){const g=ft(h);g.Fa.forEach((v,D)=>{kl(g.remoteStore,D)}),g.Ma.Vr(),g.Fa=new Map,g.va=new Rr(_t.comparator)}(t),t.La=!1,yield X_(t.remoteStore,!1)}}),k0.apply(this,arguments)}function jw(n,e,t){return ay.apply(this,arguments)}function ay(){return ay=(0,Ue.A)(function*(n,e,t){const i=ft(n),o=[],c=[];for(const h of e){let g;const v=i.Da.get(h);if(v&&0!==v.length){g=yield uf(i.localStore,Vs(v[0]));for(const D of v){const x=i.ba.get(D),L=yield M0(i,x);L.snapshot&&c.push(L.snapshot)}}else{const D=yield dS(i.localStore,h);g=yield uf(i.localStore,D),yield A0(i,$w(D),h,!1,g.resumeToken)}o.push(g)}return i.Sa.l_(c),o}),ay.apply(this,arguments)}function $w(n){return gd(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Yi(n){return t=ft(n).localStore,ft(ft(t).persistence).Li();var t}function Hw(n,e,t,i){return L0.apply(this,arguments)}function L0(){return L0=(0,Ue.A)(function*(n,e,t,i){const o=ft(n);if(o.La)return void Ye("SyncEngine","Ignoring unexpected query state notification.");const c=o.Da.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const h=yield c0(o.localStore,OA(c[0])),g=nf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,kt.EMPTY_BYTE_STRING);yield Ll(o,h,g);break}case"rejected":yield Rd(o.localStore,e,!0),Ud(o,e,i);break;default:wt()}}),L0.apply(this,arguments)}function AS(n,e,t){return ly.apply(this,arguments)}function ly(){return ly=(0,Ue.A)(function*(n,e,t){const i=cy(n);if(i.La){for(const o of e){if(i.Da.has(o)&&i.sharedClientState.isActiveQueryTarget(o)){Ye("SyncEngine","Adding an already active target "+o);continue}const c=yield dS(i.localStore,o),h=yield uf(i.localStore,c);yield A0(i,$w(c),h.targetId,!1,h.resumeToken),ii(i.remoteStore,h)}for(const o of t)i.Da.has(o)&&(yield Rd(i.localStore,o,!1).then(()=>{kl(i.remoteStore,o),Ud(i,o)}).catch(jo))}}),ly.apply(this,arguments)}function cy(n){const e=ft(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ty.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=If.bind(null,e),e.Sa.l_=Sw.bind(null,e.eventManager),e.Sa.ka=Rw.bind(null,e.eventManager),e}function uy(n){const e=ft(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ef.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bf.bind(null,e),e}class $a{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ue.A)(function*(){t.serializer=Yr(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return pw(this.persistence,new k_,e.initialUser,this.serializer)}createPersistence(e){return new dw(P_.jr,this.serializer)}createSharedClientState(e){return new Iw}terminate(){var e=this;return(0,Ue.A)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class F0 extends $a{constructor(e,t,i){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ue.A)(function*(){yield t().call(i,e),yield i.Qa.initialize(i,e),yield uy(i.Qa.syncEngine),yield kd(i.Qa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return pw(this.persistence,new k_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new XA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new CA(t,this.persistence);return new pI(e.asyncQueue,i)}createPersistence(e){const t=hw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new O_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,ja(),bu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Iw}}class V0 extends F0{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ue.A)(function*(){yield t().call(i,e);const o=i.Qa.syncEngine;i.sharedClientState instanceof vw&&(i.sharedClientState.syncEngine={Ys:N0.bind(null,o),Zs:Hw.bind(null,o),Xs:AS.bind(null,o),Li:Yi.bind(null,o),Js:x0.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var c=(0,Ue.A)(function*(h){yield function LM(n,e){return k0.apply(this,arguments)}(i.Qa.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start():h||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(h&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():h||i.indexBackfillerScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ja();if(!vw.D(t))throw new Xe(Ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vw(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Cf{initialize(e,t){var i=this;return(0,Ue.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>Vd(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=xu.bind(null,i.syncEngine),yield X_(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new IS}createDatastore(e){const t=Yr(e.databaseInfo.databaseId),i=new gS(e.databaseInfo);return new mS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,o=this.datastore,c=e.asyncQueue,h=t=>Vd(this.syncEngine,t,0),g=xd.D()?new xd:new NM,new _S(i,o,c,h,g);var i,o,c,h,g}createSyncEngine(e,t){return function(o,c,h,g,v,D,x){const L=new CS(o,c,h,g,v,D);return x&&(L.La=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,Ue.A)(function*(){var t,i;yield(i=(0,Ue.A)(function*(c){const h=ft(c);Ye("RemoteStore","RemoteStore shutting down."),h.M_.add(5),yield Od(h),h.O_.shutdown(),h.N_.set("Unknown")}),function o(c){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function U0(n,e=10240){let t=0;return{read:()=>(0,Ue.A)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ue.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class B0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class j0{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new qi,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,Ue.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,Ue.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,Ue.A)(function*(){const t=yield e.za();if(null===t)return null;const i=e.Wa.decode(t),o=Number(i);isNaN(o)&&e.ja(`length string (${i}) is not valid number`);const c=yield e.Ha(o);return new ES(JSON.parse(c),t.length+o)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,Ue.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const t=e.Ja();t<0&&e.ja("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ha(e){var t=this;return(0,Ue.A)(function*(){for(;t.buffer.length<e;)(yield t.Ya())&&t.ja("Reached the end of bundle when more is expected.");const i=t.Wa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,Ue.A)(function*(){const t=yield e.Ua.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class $0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ue.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new Xe(Ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(o=(0,Ue.A)(function*(h,g){const v=ft(h),D={documents:g.map(J=>sg(v.serializer,J))},x=yield v.Mo("BatchGetDocuments",v.serializer.databaseId,zn.emptyPath(),D,g.length),L=new Map;x.forEach(J=>{const ue=function KT(n,e){return"found"in e?function(i,o){Nt(!!o.found);const c=ya(i,o.found.name),h=wn(o.found.updateTime),g=o.found.createTime?wn(o.found.createTime):Ut.min(),v=new Fs({mapValue:{fields:o.found.fields}});return $r.newFoundDocument(c,h,g,v)}(n,e):"missing"in e?function(i,o){Nt(!!o.missing),Nt(!!o.readTime);const c=ya(i,o.missing),h=wn(o.readTime);return $r.newNoDocument(c,h)}(n,e):wt()}(v.serializer,J);L.set(ue.key.toString(),ue)});const Q=[];return g.forEach(J=>{const ue=L.get(J.toString());Nt(!!ue),Q.push(ue)}),Q}),function c(h,g){return o.apply(this,arguments)})(t.datastore,e);var o;return i.forEach(o=>t.recordVersion(o)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ol(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ue.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,o)=>{const c=_t.fromPath(o);e.mutations.push(new MI(c,e.precondition(c)))}),yield(i=(0,Ue.A)(function*(c,h){const g=ft(c),v={writes:h.map(D=>og(g.serializer,D))};yield g.Do("Commit",g.serializer.databaseId,zn.emptyPath(),v)}),function o(c,h){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wt();t=Ut.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Xe(Ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ut.min())?ri.exists(!1):ri.updateTime(t):ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new Xe(Ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ri.updateTime(t)}return ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class H0{constructor(e,t,i,o,c){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=o,this.deferred=c,this.Za=i.maxAttempts,this.Jo=new vc(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Jo.Ko((0,Ue.A)(function*(){const t=new $0(e.datastore),i=e.tu(t);i&&i.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.nu(c)}))}).catch(o=>{e.nu(o)})}))}tu(e){try{const t=this.updateFunction(e);return!ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xI(t)}return!1}}class z0{constructor(e,t,i,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ki.UNAUTHENTICATED,this.clientId=Wb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,Ue.A)(function*(g){Ye("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,h=>(Ye("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ue.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=yf(i,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function yo(n,e){return G0.apply(this,arguments)}function G0(){return G0=(0,Ue.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ue.A)(function*(c){i.isEqual(c)||(yield mg(e.localStore,c),i=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),G0.apply(this,arguments)}function dy(n,e){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,Ue.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zo(n);Ye("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>v0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>v0(e.remoteStore,o)),n._onlineComponents=e}),Ia.apply(this,arguments)}function Ea(n){return"FirebaseError"===n.name?n.code===Ae.FAILED_PRECONDITION||n.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function zo(n){return hy.apply(this,arguments)}function hy(){return hy=(0,Ue.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yo(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Ea(t))throw t;Ls("Error using user provided cache. Falling back to memory cache: "+t),yield yo(n,new $a)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),yield yo(n,new $a);return n._offlineComponents}),hy.apply(this,arguments)}function Ag(n){return W0.apply(this,arguments)}function W0(){return W0=(0,Ue.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield dy(n,n._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield dy(n,new Cf))),n._onlineComponents}),W0.apply(this,arguments)}function Gw(n){return zo(n).then(e=>e.persistence)}function Df(n){return zo(n).then(e=>e.localStore)}function Ww(n){return Ag(n).then(e=>e.remoteStore)}function Sg(n){return Ag(n).then(e=>e.syncEngine)}function Sf(n){return fy.apply(this,arguments)}function fy(){return fy=(0,Ue.A)(function*(n){const e=yield Ag(n),t=e.eventManager;return t.onListen=kw.bind(null,e.syncEngine),t.onUnlisten=Fw.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Cu.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=S0.bind(null,e.syncEngine),t}),fy.apply(this,arguments)}function K0(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return function(c,h,g,v,D){const x=new B0({next:Q=>{h.enqueueAndForget(()=>Cg(c,L));const J=Q.docs.has(g);!J&&Q.fromCache?D.reject(new Xe(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):J&&Q.fromCache&&v&&"server"===v.source?D.reject(new Xe(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(Q)},error:Q=>D.reject(Q)}),L=new C0(Pl(g.path),x,{includeMetadataChanges:!0,ra:!0});return Aw(c,L)}(yield Sf(n),n.asyncQueue,e,t,i)})),i.promise}function qw(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return function(c,h,g,v,D){const x=new B0({next:Q=>{h.enqueueAndForget(()=>Cg(c,L)),Q.fromCache&&"server"===v.source?D.reject(new Xe(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(Q)},error:Q=>D.reject(Q)}),L=new C0(g,x,{includeMetadataChanges:!0,ra:!0});return Aw(c,L)}(yield Sf(n),n.asyncQueue,e,t,i)})),i.promise}function Xw(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Yw=new Map;function q0(n,e,t){if(!t)throw new Xe(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zw(n,e,t,i){if(!0===e&&!0===i)throw new Xe(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jw(n){if(!_t.isDocumentKey(n))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eC(n){if(_t.isDocumentKey(n))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":wt()}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Xe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rf(n);throw new Xe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gy(n,e){if(e<=0)throw new Xe(Ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Q0{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Xe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xw(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Xe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Xe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Xe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Xe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new TA;switch(i.type){case"firstParty":return new Np(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Xe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Yw.get(t);i&&(Ye("ComponentProvider","Removing Datastore"),Yw.delete(t),i.terminate())}(this),Promise.resolve()}}function X0(n,e,t,i={}){var o;const c=(n=Fn(n,Pf))._getSettings(),h=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==h&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),i.mockUserToken){let g,v;if("string"==typeof i.mockUserToken)g=i.mockUserToken,v=Ki.MOCK_USER;else{g=(0,Qt.Fy)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const D=i.mockUserToken.sub||i.mockUserToken.user_id;if(!D)throw new Xe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ki(D)}n._authCredentials=new Hb(new cI(g,v))}}class cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class Zr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class Fl extends cs{constructor(e,t,i){super(e,t,Pl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new _t(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function my(n,e,...t){if(n=(0,Qt.Ku)(n),q0("collection","path",e),n instanceof Pf){const i=zn.fromString(e,...t);return eC(i),new Fl(n,null,i)}{if(!(n instanceof Zr||n instanceof Fl))throw new Xe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zn.fromString(e,...t));return eC(i),new Fl(n.firestore,null,i)}}function Rg(n,e,...t){if(n=(0,Qt.Ku)(n),1===arguments.length&&(e=Wb.newId()),q0("doc","path",e),n instanceof Pf){const i=zn.fromString(e,...t);return Jw(i),new Zr(n,null,new _t(i))}{if(!(n instanceof Zr||n instanceof Fl))throw new Xe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zn.fromString(e,...t));return Jw(i),new Zr(n.firestore,n instanceof Fl?n.converter:null,new _t(i))}}function tC(n,e){return n=(0,Qt.Ku)(n),e=(0,Qt.Ku)(e),(n instanceof Zr||n instanceof Fl)&&(e instanceof Zr||e instanceof Fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function _y(n,e){return n=(0,Qt.Ku)(n),e=(0,Qt.Ku)(e),n instanceof cs&&e instanceof cs&&n.firestore===e.firestore&&Wp(n._query,e._query)&&n.converter===e.converter}class Y0{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new vc(this,"async_queue_retry"),this.hu=()=>{const t=bu();t&&Ye("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Jo.Uo()};const e=bu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=bu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new qi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,Ue.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(t){if(!fc(t))throw t;Ye("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(i=>{throw this.au=i,this.uu=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(i)),i}).then(i=>(this.uu=!1,i))));return this.iu=t,t}enqueueAfterDelay(e,t,i){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const o=Y_.createAndSchedule(this,e,t,i,c=>this.Eu(c));return this._u.push(o),o}Pu(){this.au&&wt()}verifyOperationInProgress(){}du(){var e=this;return(0,Ue.A)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Z0(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const o=t;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(n)}class FS{constructor(){this._progressObserver={},this._taskCompletionResolver=new qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hr extends Pf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Y0,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tE(this),this._firestoreClient.terminate()}}function si(n){return n._firestoreClient||tE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tE(n){var e,t,i;const o=n._freezeSettings(),c=(v=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hh(n._databaseId,v,n._persistenceKey,(x=o).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Xw(x.experimentalLongPollingOptions),x.useFetchStreams));var v,x;n._firestoreClient=new z0(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=o.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=o.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}function nC(n,e,t){const i=new qi;return n.asyncQueue.enqueue((0,Ue.A)(function*(){try{yield yo(n,t),yield dy(n,e),i.resolve()}catch(o){const c=o;if(!Ea(c))throw c;Ls("Error enabling indexeddb cache. Falling back to memory cache: "+c),i.reject(c)}})).then(()=>i.promise)}function rE(n){if(n._initialized||n._terminated)throw new Xe(Ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vl(kt.fromBase64String(e))}catch(t){throw new Xe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vl(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Xe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xf{constructor(e){this._methodName=e}}class Of{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}const VM=/^__.*__$/;class sC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new _c(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zh(e,this.data,t,this.fieldTransforms)}}class iE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class wc{constructor(e,t,i,o,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.gu({path:i,yu:!1});return o.wu(e),o}Su(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.gu({path:i,yu:!1});return o.mu(),o}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return wy(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(jS(this.fu)&&VM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class $S{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Yr(e)}Fu(e,t,i,o=!1){return new wc({fu:e,methodName:t,vu:i,path:Fr.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(n){const e=n._freezeSettings(),t=Yr(n._databaseId);return new $S(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ey(n,e,t,i,o,c={}){const h=n.Fu(c.merge||c.mergeFields?2:0,e,t,o);cE("Data must be an object, but it was:",h,i);const g=aE(i,h);let v,D;if(c.merge)v=new po(h.fieldMask),D=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const L of c.mergeFields){const Q=Mg(e,L,t);if(!h.contains(Q))throw new Xe(Ae.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);aC(x,Q)||x.push(Q)}v=new po(x),D=h.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,D=h.fieldTransforms;return new sC(new Fs(g),v,D)}class Ul extends xf{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ul}}function oC(n,e,t){return new wc({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Nf extends xf{_toFieldTransform(e){return new Yh(e.path,new Qp)}isEqual(e){return e instanceof Nf}}class kf extends xf{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=oC(this,e,!0),i=this.Mu.map(c=>Ou(c,t)),o=new vd(i);return new Yh(e.path,o)}isEqual(e){return e instanceof kf&&(0,Qt.bD)(this.Mu,e.Mu)}}class Us extends xf{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=oC(this,e,!0),i=this.Mu.map(c=>Ou(c,t)),o=new Id(i);return new Yh(e.path,o)}isEqual(e){return e instanceof Us&&(0,Qt.bD)(this.Mu,e.Mu)}}class by extends xf{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new xl(e.serializer,UA(e.serializer,this.xu));return new Yh(e.path,t)}isEqual(e){return e instanceof by&&this.xu===e.xu}}function Ty(n,e,t,i){const o=n.Fu(1,e,t);cE("Data must be an object, but it was:",o,i);const c=[],h=Fs.empty();pa(i,(v,D)=>{const x=Nu(e,v,t);D=(0,Qt.Ku)(D);const L=o.Su(x);if(D instanceof Ul)c.push(x);else{const Q=Ou(D,L);null!=Q&&(c.push(x),h.set(x,Q))}});const g=new po(c);return new iE(h,g,o.fieldTransforms)}function sE(n,e,t,i,o,c){const h=n.Fu(1,e,t),g=[Mg(e,i,t)],v=[o];if(c.length%2!=0)throw new Xe(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<c.length;Q+=2)g.push(Mg(e,c[Q])),v.push(c[Q+1]);const D=[],x=Fs.empty();for(let Q=g.length-1;Q>=0;--Q)if(!aC(D,g[Q])){const J=g[Q];let ue=v[Q];ue=(0,Qt.Ku)(ue);const fe=h.Su(J);if(ue instanceof Ul)D.push(J);else{const De=Ou(ue,fe);null!=De&&(D.push(J),x.set(J,De))}}const L=new po(D);return new iE(x,L,h.fieldTransforms)}function oE(n,e,t,i=!1){return Ou(t,n.Fu(i?4:3,e))}function Ou(n,e){if(lE(n=(0,Qt.Ku)(n)))return cE("Unsupported field value:",e,n),aE(n,e);if(n instanceof xf)return function(i,o){if(!jS(o.fu))throw o.Du(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Du(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const g of i){let v=Ou(g,o.bu(h));null==v&&(v={nullValue:"NULL_VALUE"}),c.push(v),h++}return{arrayValue:{values:c}}}(n,e)}return function(i,o){if(null===(i=(0,Qt.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return UA(o.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=ni.fromDate(i);return{timestampValue:bd(o.serializer,c)}}if(i instanceof ni){const c=new ni(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bd(o.serializer,c)}}if(i instanceof Of)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vl)return{bytesValue:HT(o.serializer,i._byteString)};if(i instanceof Zr){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Du(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:kI(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Du(`Unsupported field value: ${Rf(i)}`)}(n,e)}function aE(n,e){const t={};return II(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(n,(i,o)=>{const c=Ou(o,e.pu(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function lE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof Of||n instanceof Vl||n instanceof Zr||n instanceof xf)}function cE(n,e,t){if(!lE(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const i=Rf(t);throw e.Du("an object"===i?n+" a custom object":n+" "+i)}var o}function Mg(n,e,t){if((e=(0,Qt.Ku)(e))instanceof Tc)return e._internalPath;if("string"==typeof e)return Nu(n,e);throw wy("Field path arguments must be of type string or ",n,!1,void 0,t)}const HS=new RegExp("[~\\*/\\[\\]]");function Nu(n,e,t){if(e.search(HS)>=0)throw wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tc(...e.split("."))._internalPath}catch{throw wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wy(n,e,t,i,o){const c=i&&!i.isEmpty(),h=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||h)&&(v+=" (found",c&&(v+=` in field ${i}`),h&&(v+=` in document ${o}`),v+=")"),new Xe(Ae.INVALID_ARGUMENT,g+n+v)}function aC(n,e){return n.some(t=>t.isEqual(e))}class xg{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Og("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Cy extends xg{data(){return super.data()}}function Og(n,e){return"string"==typeof e?Nu(n,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function uE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Xe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class Ng extends Dy{}function ba(n,e,...t){let i=[];e instanceof Dy&&i.push(e),i=i.concat(t),function(c){const h=c.filter(v=>v instanceof Lf).length,g=c.filter(v=>v instanceof Cc).length;if(h>1||h>0&&g>0)throw new Xe(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Cc extends Ng{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Cc(e,t,i)}_apply(e){const t=this._parse(e);return hE(e._query,t),new cs(e.firestore,e.converter,AI(e._query,t))}_parse(e){const t=jd(e.firestore);return function(c,h,g,v,D,x,L){let Q;if(D.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){YS(L,x);const J=[];for(const ue of L)J.push(XS(v,c,ue));Q={arrayValue:{values:J}}}else Q=XS(v,c,L)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||YS(L,x),Q=oE(g,"where",L,"in"===x||"not-in"===x);return kn.create(D,x,Q)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Lf extends Dy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,c){let h=o;const g=c.getFlattenedFilters();for(const v of g)hE(h,v),h=AI(h,v)}(e._query,t),new cs(e.firestore,e.converter,AI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dE extends Ng{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dE(e,t)}_apply(e){const t=function(o,c,h){if(null!==o.startAt)throw new Xe(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Xe(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wh(c,h)}(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new Rl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Sy extends Ng{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Sy(e,t,i)}_apply(e){return new cs(e.firestore,e.converter,u_(e._query,this._limit,this._limitType))}}class kg extends Ng{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new kg(e,t,i)}_apply(e){const t=QS(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(c=t,new Rl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class Ry extends Ng{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Ry(e,t,i)}_apply(e){const t=QS(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(c=t,new Rl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function QS(n,e,t,i){if(t[0]=(0,Qt.Ku)(t[0]),t[0]instanceof xg)return function(c,h,g,v,D){if(!v)throw new Xe(Ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const x=[];for(const L of _d(c))if(L.field.isKeyField())x.push(au(h,v.key));else{const Q=v.data.field(L.field);if(Bp(Q))throw new Xe(Ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Q){const J=L.field.canonicalString();throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${J}' (used as the orderBy) does not exist.`)}x.push(Q)}return new lu(x,D)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=jd(n.firestore);return function(h,g,v,D,x,L){const Q=h.explicitOrderBy;if(x.length>Q.length)throw new Xe(Ae.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const J=[];for(let ue=0;ue<x.length;ue++){const fe=x[ue];if(Q[ue].field.isKeyField()){if("string"!=typeof fe)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof fe}`);if(!md(h)&&-1!==fe.indexOf("/"))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${D}() must be a plain document ID, but '${fe}' contains a slash.`);const De=h.path.child(zn.fromString(fe));if(!_t.isDocumentKey(De))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${D}() must result in a valid document path, but '${De}' is not because it contains an odd number of segments.`);const tt=new _t(De);J.push(au(g,tt))}else{const De=oE(v,D,fe);J.push(De)}}return new lu(J,L)}(n._query,n.firestore._databaseId,o,e,t,i)}}function XS(n,e,t){if("string"==typeof(t=(0,Qt.Ku)(t))){if(""===t)throw new Xe(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!md(e)&&-1!==t.indexOf("/"))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(zn.fromString(t));if(!_t.isDocumentKey(i))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return au(n,new _t(i))}if(t instanceof Zr)return au(n,t._key);throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rf(t)}.`)}function YS(n,e){if(!Array.isArray(n)||0===n.length)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hE(n,e){const t=function(o,c){for(const h of o)for(const g of h.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Xe(Ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fE{convertValue(e,t="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return pa(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new Of(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=e_(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const t=Cl(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=zn.fromString(e);Nt(rf(i));const o=new Al(i.get(1),i.get(3)),c=new _t(i.popFirst(5));return o.isEqual(t)||Ei(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Py(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class dC extends fE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}class Ff{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dc extends xg{constructor(e,t,i,o,c,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Og("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vf extends Dc{data(e={}){return super.data(e)}}class ku{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ff(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vf(this._firestore,this._userDataWriter,i.key,i,new Ff(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Vf(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ff(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||3!==g.type).map(g=>{const v=new Vf(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ff(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let D=-1,x=-1;return 0!==g.type&&(D=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),x=h.indexOf(g.doc.key)),{type:JS(g.type),doc:v,oldIndex:D,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function Uf(n,e){return n instanceof Dc&&e instanceof Dc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ku&&e instanceof ku&&n._firestore===e._firestore&&_y(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ac extends fE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}function xy(n,e,t){n=Fn(n,Zr);const i=Fn(n.firestore,Hr),o=Py(n.converter,e,t);return Bf(i,[Ey(jd(i),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,ri.none())])}function pC(n,e,t,...i){n=Fn(n,Zr);const o=Fn(n.firestore,Hr),c=jd(o);let h;return h="string"==typeof(e=(0,Qt.Ku)(e))||e instanceof Tc?sE(c,"updateDoc",n._key,e,t,i):Ty(c,"updateDoc",n._key,e),Bf(o,[h.toMutation(n._key,ri.exists(!0))])}function pE(n,...e){var t,i,o;n=(0,Qt.Ku)(n);let c={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||Z0(e[h])||(c=e[h],h++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Z0(e[h])){const L=e[h];e[h]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[h+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),e[h+2]=null===(o=L.complete)||void 0===o?void 0:o.bind(L)}let v,D,x;if(n instanceof Zr)D=Fn(n.firestore,Hr),x=Pl(n._key.path),v={next:L=>{e[h]&&e[h](Fg(D,n,L))},error:e[h+1],complete:e[h+2]};else{const L=Fn(n,cs);D=Fn(L.firestore,Hr),x=L._query;const Q=new Ac(D);v={next:J=>{e[h]&&e[h](new ku(D,Q,L,J))},error:e[h+1],complete:e[h+2]},uE(n._query)}return function(Q,J,ue,fe){const De=new B0(fe),tt=new C0(J,De,ue);return Q.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return Aw(yield Sf(Q),tt)})),()=>{De.$a(),Q.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return Cg(yield Sf(Q),tt)}))}}(si(D),x,g,v)}function Bf(n,e){return function(i,o){const c=new qi;return i.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return function Vw(n,e,t){return Au.apply(this,arguments)}(yield Sg(i),o,c)})),c.promise}(si(n),e)}function Fg(n,e,t){const i=t.docs.get(e._key),o=new Ac(n);return new Dc(n,o,e._key,i,new Ff(t.hasPendingWrites,t.fromCache),e.converter)}const IC={maxAttempts:5};class EC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jd(e)}set(e,t,i){this._verifyNotCommitted();const o=Lu(e,this._firestore),c=Py(o.converter,t,i),h=Ey(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,i);return this._mutations.push(h.toMutation(o._key,ri.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const c=Lu(e,this._firestore);let h;return h="string"==typeof(t=(0,Qt.Ku)(t))||t instanceof Tc?sE(this._dataReader,"WriteBatch.update",c._key,t,i,o):Ty(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lu(e,this._firestore);return this._mutations=this._mutations.concat(new Ol(t._key,ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lu(n,e){if((n=(0,Qt.Ku)(n)).firestore!==e)throw new Xe(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gE extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=jd(t)}get(t){const i=Lu(t,this._firestore),o=new dC(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return wt();const h=c[0];if(h.isFoundDocument())return new xg(this._firestore,o,h.key,h,i.converter);if(h.isNoDocument())return new xg(this._firestore,o,i._key,null,i.converter);throw wt()})}set(t,i,o){const c=Lu(t,this._firestore),h=Py(c.converter,i,o),g=Ey(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,o);return this._transaction.set(c._key,g),this}update(t,i,o,...c){const h=Lu(t,this._firestore);let g;return g="string"==typeof(i=(0,Qt.Ku)(i))||i instanceof Tc?sE(this._dataReader,"Transaction.update",h._key,i,o,c):Ty(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,g),this}delete(t){const i=Lu(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lu(e,this._firestore),i=new Ac(this._firestore);return super.get(e).then(o=>new Dc(this._firestore,i,t._key,o._document,new Ff(!1,!1),t.converter))}}!function(e,t=!0){ad=ae.SDK_VERSION,(0,ae._registerComponent)(new lm.uA("firestore",(i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),g=new Hr(new mM(i.getProvider("auth-internal")),new wA(i.getProvider("app-check-internal")),function(D,x){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new Xe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(D.options.projectId,x)}(h,o),h);return c=Object.assign({useFetchStreams:t},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(jb,"4.6.1",e),(0,ae.registerVersion)(jb,"4.6.1","esm2017")}();var Ui=H(6354),Ug=function(){return Ug=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var c in t=arguments[i])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},Ug.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var SC={includeMetadataChanges:!1};function NC(n,e){return void 0===e&&(e={}),function I1(n){return function ky(n,e){return void 0===e&&(e=SC),new Qe.c(function(t){return{unsubscribe:pE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,Ui.T)(function(e){return e.docs}))}(n).pipe((0,Ui.T)(function(t){return t.map(function(i){return function RC(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?Ug(Ug({},i),((t={})[e.idField]=n.id,t)):i}(i,e)})}))}class Bg{constructor(e){return e}}const bE="firestore",Ly=new u.nKC("angularfire2.firestore-instances");function VC(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Bg(i)}}const w1={provide:class LC{constructor(){return Xt(bE)}},deps:[[new u.Xx1,Ly]]},C1={provide:Bg,useFactory:function FC(n,e){const t=function Ee(n,e,t){if(e){if(1===e.length)return e[0];const c=e.filter(h=>h.app===t);if(1===c.length)return c[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(bE,n,e);return t&&new Bg(t)},deps:[[new u.Xx1,Ly],hn]};let TE=(()=>{class n{constructor(){(0,ae.registerVersion)("angularfire",lt.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({providers:[C1,w1]})}return n})();const jC=qt(NC,!0),O1=qt(my,!0);let $d=(()=>{class n{constructor(){this.firestore=(0,u.WQX)(Bg),this.tratteCollection=O1(this.firestore,"tratte")}getTratte(){return jC(this.tratteCollection,{idField:"id"})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["loading-tratta"]],standalone:!0,features:[u.aNF],decls:5,vars:0,consts:[[1,"blog-card","spring-fever"],[1,"title-content"]],template:function(i,o){1&i&&(u.j41(0,"article")(1,"div",0)(2,"div",1)(3,"h3"),u.EFF(4,"Caricamento..."),u.k0s()()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";article[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;margin:auto auto 4rem;font-family:Merienda,cursive;width:500px}.blog-card[_ngcontent-%COMP%]{max-width:475px;width:100%;height:450px;position:relative;font-family:"Droid Serif",serif;color:#fff;top:20%;right:0;left:0;margin:0 auto;overflow:hidden;border-radius:0;box-shadow:0 10px 20px -9px #00000080;text-align:center;background-size:100%;background-color:#96939334}.title-content[_ngcontent-%COMP%]{text-align:center;margin:170px 0 0;position:absolute;z-index:20;width:100%;top:0;left:0}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9em;font-weight:400;letter-spacing:1px;font-family:Abril Fatface,serif;margin-bottom:0;display:inline-block}@keyframes _ngcontent-%COMP%_changeLetter{0%{width:10%}to{width:80%}}']})}return n})();const YC=["*"],DE=(n,e,t,i,o,c)=>({"p-sidebar":!0,"p-sidebar-active":n,"p-sidebar-left":e,"p-sidebar-right":t,"p-sidebar-top":i,"p-sidebar-bottom":o,"p-sidebar-full":c}),Dx=(n,e)=>({transform:n,transition:e}),tR=n=>({value:"visible",params:n});function nR(n,e){1&n&&u.eu8(0)}function rR(n,e){if(1&n&&(u.qex(0),u.DNE(1,nR,1,0,"ng-container",5),u.bVm()),2&n){const t=u.XpG(2);u.R7$(),u.Y8G("ngTemplateOutlet",t.headlessTemplate)}}function ZC(n,e){1&n&&u.eu8(0)}function JC(n,e){1&n&&u.nrm(0,"TimesIcon",13),2&n&&(u.Y8G("styleClass","p-sidebar-close-icon"),u.BMQ("data-pc-section","closeicon"))}function iR(n,e){}function eD(n,e){1&n&&u.DNE(0,iR,0,0,"ng-template")}function tD(n,e){if(1&n&&(u.j41(0,"span",14),u.DNE(1,eD,1,0,null,5),u.k0s()),2&n){const t=u.XpG(4);u.BMQ("data-pc-section","closeicon"),u.R7$(),u.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function sR(n,e){if(1&n){const t=u.RV6();u.j41(0,"button",10),u.bIt("click",function(o){u.eBV(t);const c=u.XpG(3);return u.Njj(c.close(o))})("keydown.enter",function(o){u.eBV(t);const c=u.XpG(3);return u.Njj(c.close(o))}),u.DNE(1,JC,1,2,"TimesIcon",11)(2,tD,2,2,"span",12),u.k0s()}if(2&n){const t=u.XpG(3);u.BMQ("aria-label",t.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),u.R7$(),u.Y8G("ngIf",!t.closeIconTemplate),u.R7$(),u.Y8G("ngIf",t.closeIconTemplate)}}function oR(n,e){1&n&&u.eu8(0)}function nD(n,e){1&n&&u.eu8(0)}function aR(n,e){if(1&n&&(u.qex(0),u.j41(1,"div",15),u.DNE(2,nD,1,0,"ng-container",5),u.k0s(),u.bVm()),2&n){const t=u.XpG(3);u.R7$(),u.BMQ("data-pc-section","footer"),u.R7$(),u.Y8G("ngTemplateOutlet",t.footerTemplate)}}function rD(n,e){if(1&n&&(u.j41(0,"div",6),u.DNE(1,ZC,1,0,"ng-container",5)(2,sR,3,5,"button",7),u.k0s(),u.j41(3,"div",8),u.SdG(4),u.DNE(5,oR,1,0,"ng-container",5),u.k0s(),u.DNE(6,aR,3,2,"ng-container",9)),2&n){const t=u.XpG(2);u.BMQ("data-pc-section","header"),u.R7$(),u.Y8G("ngTemplateOutlet",t.headerTemplate),u.R7$(),u.Y8G("ngIf",t.showCloseIcon),u.R7$(),u.BMQ("data-pc-section","content"),u.R7$(2),u.Y8G("ngTemplateOutlet",t.contentTemplate),u.R7$(),u.Y8G("ngIf",t.footerTemplate)}}function iD(n,e){if(1&n){const t=u.RV6();u.j41(0,"div",3,0),u.bIt("@panelState.start",function(o){u.eBV(t);const c=u.XpG();return u.Njj(c.onAnimationStart(o))})("@panelState.done",function(o){u.eBV(t);const c=u.XpG();return u.Njj(c.onAnimationEnd(o))})("keydown",function(o){u.eBV(t);const c=u.XpG();return u.Njj(c.onKeyDown(o))}),u.DNE(2,rR,2,1,"ng-container",4)(3,rD,7,6,"ng-template",null,1,u.C5r),u.k0s()}if(2&n){const t=u.sdS(4),i=u.XpG();u.HbH(i.styleClass),u.Y8G("ngClass",u.l4e(9,DE,i.visible,"left"===i.position&&!i.fullScreen,"right"===i.position&&!i.fullScreen,"top"===i.position&&!i.fullScreen,"bottom"===i.position&&!i.fullScreen,i.fullScreen))("@panelState",u.eq3(19,tR,u.l_i(16,Dx,i.transformOptions,i.transitionOptions)))("ngStyle",i.style),u.BMQ("data-pc-name","sidebar")("data-pc-section","root"),u.R7$(2),u.Y8G("ngIf",i.headlessTemplate)("ngIfElse",t)}}const sD=xt([Mn({transform:"{{transform}}",opacity:0}),lr("{{transition}}")]),oD=xt([lr("{{transition}}",Mn({transform:"{{transform}}",opacity:0}))]);let lR=(()=>{class n{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(t){this._visible=t}get position(){return this._position}set position(t){switch(this._position=t,t){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(t){this._fullScreen=t,t&&(this.transformOptions="none")}templates;onShow=new u.bkB;onHide=new u.bkB;visibleChange=new u.bkB;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(t,i,o,c,h){this.document=t,this.el=i,this.renderer=o,this.cd=c,this.config=h}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template}})}onKeyDown(t){"Escape"===t.code&&this.hide(!1)}show(){this.autoZIndex&&Ci.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(t=!0){t&&this.onHide.emit({}),this.modal&&this.disableModality()}close(t){this.hide(),this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(this.container.style.zIndex)-1)),Ne.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",t=>{this.dismissible&&this.close(t)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&Ne.blockBodyScroll())}disableModality(){this.mask&&(Ne.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&Ne.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(t){"visible"===t.toState&&(this.container=t.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(t){"void"===t.toState&&(this.hide(!1),Ci.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):Ne.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"keydown",i=>{27==i.which&&parseInt(this.container.style.zIndex)===Ci.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&Ci.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(i){return new(i||n)(u.rXU(nt.qQ),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(Xr))};static \u0275cmp=u.VBU({type:n,selectors:[["p-sidebar"]],contentQueries:function(i,o,c){if(1&i&&u.wni(c,ki,4),2&i){let h;u.mGM(h=u.lsd())&&(o.templates=h)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[u.Mj6.HasDecoratorInputTransform,"blockScroll","blockScroll",u.L39],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[u.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",u.L39],baseZIndex:[u.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",u.Udg],modal:[u.Mj6.HasDecoratorInputTransform,"modal","modal",u.L39],dismissible:[u.Mj6.HasDecoratorInputTransform,"dismissible","dismissible",u.L39],showCloseIcon:[u.Mj6.HasDecoratorInputTransform,"showCloseIcon","showCloseIcon",u.L39],closeOnEscape:[u.Mj6.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",u.L39],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[u.GFd],ngContentSelectors:YC,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(i,o){1&i&&(u.NAR(),u.DNE(0,iD,5,21,"div",2)),2&i&&u.Y8G("ngIf",o.visible)},dependencies:()=>[nt.YU,nt.bT,nt.T3,nt.B3,hs,xa],styles:["@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}\n"],encapsulation:2,data:{animation:[Xn("panelState",[hr("void => visible",[Yn(sD)]),hr("visible => void",[Yn(oD)])])]},changeDetection:0})}return n})(),cR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD,Lo,uo,xa,uo]})}return n})(),Ax=(()=>{class n{autofocus=!1;focused=!1;platformId=(0,u.WQX)(u.Agw);document=(0,u.WQX)(nt.qQ);host=(0,u.WQX)(u.aKT);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){(0,nt.UE)(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=Ne.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=u.FsC({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[u.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",u.L39]},standalone:!0,features:[u.GFd]})}return n})(),Sx=(()=>{class n extends Ms{pathId;ngOnInit(){this.pathId="url(#"+di()+")"}static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0)(1,"g"),u.nrm(2,"path",1),u.k0s(),u.j41(3,"defs")(4,"clipPath",2),u.nrm(5,"rect",3),u.k0s()()()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),u.R7$(),u.BMQ("clip-path",o.pathId),u.R7$(3),u.Y8G("id",o.pathId))},encapsulation:2})}return n})();const Rx=["*"],dR=n=>({class:n});function Px(n,e){1&n&&u.eu8(0)}function Mx(n,e){if(1&n&&u.nrm(0,"span",8),2&n){const t=u.XpG(3);u.Y8G("ngClass",t.iconClass()),u.BMQ("aria-hidden",!0)("data-pc-section","loadingicon")}}function xx(n,e){if(1&n&&u.nrm(0,"SpinnerIcon",9),2&n){const t=u.XpG(3);u.Y8G("styleClass",t.spinnerIconClass())("spin",!0),u.BMQ("aria-hidden",!0)("data-pc-section","loadingicon")}}function Ox(n,e){if(1&n&&(u.qex(0),u.DNE(1,Mx,1,3,"span",6)(2,xx,1,4,"SpinnerIcon",7),u.bVm()),2&n){const t=u.XpG(2);u.R7$(),u.Y8G("ngIf",t.loadingIcon),u.R7$(),u.Y8G("ngIf",!t.loadingIcon)}}function Nx(n,e){}function aD(n,e){if(1&n&&u.DNE(0,Nx,0,0,"ng-template",10),2&n){const t=u.XpG(2);u.Y8G("ngIf",t.loadingIconTemplate)}}function hR(n,e){if(1&n&&(u.qex(0),u.DNE(1,Ox,3,2,"ng-container",2)(2,aD,1,1,null,5),u.bVm()),2&n){const t=u.XpG();u.R7$(),u.Y8G("ngIf",!t.loadingIconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",u.eq3(3,dR,t.iconClass()))}}function lD(n,e){if(1&n&&u.nrm(0,"span",8),2&n){const t=u.XpG(2);u.Y8G("ngClass",t.iconClass()),u.BMQ("data-pc-section","icon")}}function fR(n,e){}function $g(n,e){if(1&n&&u.DNE(0,fR,0,0,"ng-template",10),2&n){const t=u.XpG(2);u.Y8G("ngIf",!t.icon&&t.iconTemplate)}}function jy(n,e){if(1&n&&(u.qex(0),u.DNE(1,lD,1,2,"span",6)(2,$g,1,1,null,5),u.bVm()),2&n){const t=u.XpG();u.R7$(),u.Y8G("ngIf",t.icon&&!t.iconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",u.eq3(3,dR,t.iconClass()))}}function pR(n,e){if(1&n&&(u.j41(0,"span",11),u.EFF(1),u.k0s()),2&n){const t=u.XpG();u.BMQ("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),u.R7$(),u.JRh(t.label)}}function gR(n,e){if(1&n&&(u.j41(0,"span",8),u.EFF(1),u.k0s()),2&n){const t=u.XpG();u.HbH(t.badgeClass),u.Y8G("ngClass",t.badgeStyleClass()),u.BMQ("data-pc-section","badge"),u.R7$(),u.JRh(t.badge)}}const Fu={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let mR=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Fu);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){Ne.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const t=[Fu.button,Fu.component];return this.icon&&!this.label&&_r.isEmpty(this.htmlElement.textContent)&&t.push(Fu.iconOnly),this.loading&&(t.push(Fu.disabled,Fu.loading),!this.icon&&this.label&&t.push(Fu.labelOnly),this.icon&&!this.label&&!_r.isEmpty(this.htmlElement.textContent)&&t.push(Fu.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),"small"===this.size&&t.push("p-button-sm"),"large"===this.size&&t.push("p-button-lg"),t}setStyleClass(){const t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!Ne.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!Ne.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let o=this.label?"p-button-icon-"+this.iconPos:null;o&&Ne.addClass(i,o);let c=this.getIconClass();c&&Ne.addMultipleClasses(i,c),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=Ne.findSingle(this.htmlElement,".p-button-label");this.label?t?t.textContent=this.label:this.createLabel():t&&this.htmlElement.removeChild(t)}updateIcon(){let t=Ne.findSingle(this.htmlElement,".p-button-icon"),i=Ne.findSingle(this.htmlElement,".p-button-label");t?t.className=this.iconPos?"p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(nt.qQ))};static \u0275dir=u.FsC({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[u.Mj6.HasDecoratorInputTransform,"raised","raised",u.L39],rounded:[u.Mj6.HasDecoratorInputTransform,"rounded","rounded",u.L39],text:[u.Mj6.HasDecoratorInputTransform,"text","text",u.L39],outlined:[u.Mj6.HasDecoratorInputTransform,"outlined","outlined",u.L39],size:"size",plain:[u.Mj6.HasDecoratorInputTransform,"plain","plain",u.L39]},standalone:!0,features:[u.GFd]})}return n})(),$y=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new u.bkB;onFocus=new u.bkB;onBlur=new u.bkB;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(u.rXU(u.aKT))};static \u0275cmp=u.VBU({type:n,selectors:[["p-button"]],contentQueries:function(i,o,c){if(1&i&&u.wni(c,ki,4),2&i){let h;u.mGM(h=u.lsd())&&(o.templates=h)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,o){2&i&&u.AVh("p-disabled",o.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[u.Mj6.HasDecoratorInputTransform,"disabled","disabled",u.L39],loading:[u.Mj6.HasDecoratorInputTransform,"loading","loading",u.L39],loadingIcon:"loadingIcon",raised:[u.Mj6.HasDecoratorInputTransform,"raised","raised",u.L39],rounded:[u.Mj6.HasDecoratorInputTransform,"rounded","rounded",u.L39],text:[u.Mj6.HasDecoratorInputTransform,"text","text",u.L39],plain:[u.Mj6.HasDecoratorInputTransform,"plain","plain",u.L39],severity:"severity",outlined:[u.Mj6.HasDecoratorInputTransform,"outlined","outlined",u.L39],link:[u.Mj6.HasDecoratorInputTransform,"link","link",u.L39],tabindex:[u.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",u.Udg],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[u.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",u.L39]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[u.GFd,u.aNF],ngContentSelectors:Rx,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,o){1&i&&(u.NAR(),u.j41(0,"button",0),u.bIt("click",function(h){return o.onClick.emit(h)})("focus",function(h){return o.onFocus.emit(h)})("blur",function(h){return o.onBlur.emit(h)}),u.SdG(1),u.DNE(2,Px,1,0,"ng-container",1)(3,hR,3,5,"ng-container",2)(4,jy,3,5,"ng-container",2)(5,pR,2,3,"span",3)(6,gR,2,5,"span",4),u.k0s()),2&i&&(u.Y8G("ngStyle",o.style)("disabled",o.disabled||o.loading)("ngClass",o.buttonClass)("autofocus",o.autofocus),u.BMQ("type",o.type)("aria-label",o.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",o.tabindex),u.R7$(2),u.Y8G("ngTemplateOutlet",o.contentTemplate),u.R7$(),u.Y8G("ngIf",o.loading),u.R7$(),u.Y8G("ngIf",!o.loading),u.R7$(),u.Y8G("ngIf",!o.contentTemplate&&o.label),u.R7$(),u.Y8G("ngIf",!o.contentTemplate&&o.badge))},dependencies:[nt.bT,nt.T3,nt.B3,nt.YU,hs,Ax,Sx],encapsulation:2,changeDetection:0})}return n})(),jf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[$y,uo]})}return n})(),_R=(()=>{class n{pFocusTrapDisabled=!1;platformId=(0,u.WQX)(u.Agw);host=(0,u.WQX)(u.aKT);document=(0,u.WQX)(nt.qQ);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){(0,nt.UE)(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&(0,nt.UE)(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){const i=o=>Ne.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:o?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){const{currentTarget:i,relatedTarget:o}=t,c=o!==this.lastHiddenFocusableElement&&this.host.nativeElement?.contains(o)?this.lastHiddenFocusableElement:Ne.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)");Ne.focus(c)}onLastHiddenElementFocus(t){const{currentTarget:i,relatedTarget:o}=t,c=o!==this.firstHiddenFocusableElement&&this.host.nativeElement?.contains(o)?this.firstHiddenFocusableElement:Ne.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)");Ne.focus(c)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=u.FsC({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[u.Mj6.HasDecoratorInputTransform,"pFocusTrapDisabled","pFocusTrapDisabled",u.L39]},features:[u.GFd,u.OA$]})}return n})(),cD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD]})}return n})(),uD=(()=>{class n extends Ms{pathId;ngOnInit(){this.pathId="url(#"+di()+")"}static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0)(1,"g"),u.nrm(2,"path",1),u.k0s(),u.j41(3,"defs")(4,"clipPath",2),u.nrm(5,"rect",3),u.k0s()()()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),u.R7$(),u.BMQ("clip-path",o.pathId),u.R7$(3),u.Y8G("id",o.pathId))},encapsulation:2})}return n})(),dD=(()=>{class n extends Ms{pathId;ngOnInit(){this.pathId="url(#"+di()+")"}static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0)(1,"g"),u.nrm(2,"path",1),u.k0s(),u.j41(3,"defs")(4,"clipPath",2),u.nrm(5,"rect",3),u.k0s()()()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),u.R7$(),u.BMQ("clip-path",o.pathId),u.R7$(3),u.Y8G("id",o.pathId))},encapsulation:2})}return n})();const yR=["titlebar"],vR=["content"],IR=["footer"],ER=["*",[["p-header"]],[["p-footer"]]],bR=["*","p-header","p-footer"],TR=(n,e,t,i,o,c,h,g,v,D)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":o,"p-dialog-top-left":c,"p-dialog-top-right":h,"p-dialog-bottom":g,"p-dialog-bottom-left":v,"p-dialog-bottom-right":D}),wR=(n,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),CR=(n,e)=>({transform:n,transition:e}),DR=n=>({value:"visible",params:n}),AR=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),SR=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),hD=()=>({"min-width":0});function AE(n,e){1&n&&u.eu8(0)}function RR(n,e){if(1&n&&(u.qex(0),u.DNE(1,AE,1,0,"ng-container",10),u.bVm()),2&n){const t=u.XpG(3);u.R7$(),u.Y8G("ngTemplateOutlet",t.headlessTemplate)}}function PR(n,e){if(1&n){const t=u.RV6();u.j41(0,"div",15),u.bIt("mousedown",function(o){u.eBV(t);const c=u.XpG(4);return u.Njj(c.initResize(o))}),u.k0s()}}function fD(n,e){if(1&n&&(u.j41(0,"span",21),u.EFF(1),u.k0s()),2&n){const t=u.XpG(5);u.Y8G("id",t.ariaLabelledBy),u.R7$(),u.JRh(t.header)}}function MR(n,e){if(1&n&&(u.j41(0,"span",21),u.SdG(1,1),u.k0s()),2&n){const t=u.XpG(5);u.Y8G("id",t.ariaLabelledBy)}}function pD(n,e){1&n&&u.eu8(0)}function kx(n,e){if(1&n&&u.nrm(0,"span",25),2&n){const t=u.XpG(6);u.Y8G("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function xR(n,e){1&n&&u.nrm(0,"WindowMaximizeIcon",27),2&n&&u.Y8G("styleClass","p-dialog-header-maximize-icon")}function gD(n,e){1&n&&u.nrm(0,"WindowMinimizeIcon",27),2&n&&u.Y8G("styleClass","p-dialog-header-maximize-icon")}function mD(n,e){if(1&n&&(u.qex(0),u.DNE(1,xR,1,1,"WindowMaximizeIcon",26)(2,gD,1,1,"WindowMinimizeIcon",26),u.bVm()),2&n){const t=u.XpG(6);u.R7$(),u.Y8G("ngIf",!t.maximized&&!t.maximizeIconTemplate),u.R7$(),u.Y8G("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function OR(n,e){}function _D(n,e){1&n&&u.DNE(0,OR,0,0,"ng-template")}function NR(n,e){if(1&n&&(u.qex(0),u.DNE(1,_D,1,0,null,10),u.bVm()),2&n){const t=u.XpG(6);u.R7$(),u.Y8G("ngTemplateOutlet",t.maximizeIconTemplate)}}function SE(n,e){}function RE(n,e){1&n&&u.DNE(0,SE,0,0,"ng-template")}function yD(n,e){if(1&n&&(u.qex(0),u.DNE(1,RE,1,0,null,10),u.bVm()),2&n){const t=u.XpG(6);u.R7$(),u.Y8G("ngTemplateOutlet",t.minimizeIconTemplate)}}function vD(n,e){if(1&n){const t=u.RV6();u.j41(0,"button",22),u.bIt("click",function(){u.eBV(t);const o=u.XpG(5);return u.Njj(o.maximize())})("keydown.enter",function(){u.eBV(t);const o=u.XpG(5);return u.Njj(o.maximize())}),u.DNE(1,kx,1,1,"span",23)(2,mD,3,2,"ng-container",24)(3,NR,2,1,"ng-container",24)(4,yD,2,1,"ng-container",24),u.k0s()}if(2&n){const t=u.XpG(5);u.Y8G("ngClass",u.lJ4(7,AR)),u.BMQ("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),u.R7$(),u.Y8G("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),u.R7$(),u.Y8G("ngIf",!t.maximizeIcon),u.R7$(),u.Y8G("ngIf",!t.maximized),u.R7$(),u.Y8G("ngIf",t.maximized)}}function PE(n,e){if(1&n&&u.nrm(0,"span",30),2&n){const t=u.XpG(7);u.Y8G("ngClass",t.closeIcon)}}function ME(n,e){1&n&&u.nrm(0,"TimesIcon",27),2&n&&u.Y8G("styleClass","p-dialog-header-close-icon")}function Lx(n,e){if(1&n&&(u.qex(0),u.DNE(1,PE,1,1,"span",29)(2,ME,1,1,"TimesIcon",26),u.bVm()),2&n){const t=u.XpG(6);u.R7$(),u.Y8G("ngIf",t.closeIcon),u.R7$(),u.Y8G("ngIf",!t.closeIcon)}}function ID(n,e){}function kR(n,e){1&n&&u.DNE(0,ID,0,0,"ng-template")}function Fx(n,e){if(1&n&&(u.j41(0,"span"),u.DNE(1,kR,1,0,null,10),u.k0s()),2&n){const t=u.XpG(6);u.R7$(),u.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function ED(n,e){if(1&n){const t=u.RV6();u.j41(0,"button",28),u.bIt("click",function(o){u.eBV(t);const c=u.XpG(5);return u.Njj(c.close(o))})("keydown.enter",function(o){u.eBV(t);const c=u.XpG(5);return u.Njj(c.close(o))}),u.DNE(1,Lx,3,2,"ng-container",24)(2,Fx,2,1,"span",24),u.k0s()}if(2&n){const t=u.XpG(5);u.Y8G("ngClass",u.lJ4(6,SR))("ngStyle",u.lJ4(7,hD)),u.BMQ("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),u.R7$(),u.Y8G("ngIf",!t.closeIconTemplate),u.R7$(),u.Y8G("ngIf",t.closeIconTemplate)}}function bD(n,e){if(1&n){const t=u.RV6();u.j41(0,"div",16,3),u.bIt("mousedown",function(o){u.eBV(t);const c=u.XpG(4);return u.Njj(c.initDrag(o))}),u.DNE(2,fD,2,2,"span",17)(3,MR,2,1,"span",17)(4,pD,1,0,"ng-container",10),u.j41(5,"div",18),u.DNE(6,vD,5,8,"button",19)(7,ED,3,8,"button",20),u.k0s()()}if(2&n){const t=u.XpG(4);u.R7$(2),u.Y8G("ngIf",!t.headerFacet&&!t.headerTemplate),u.R7$(),u.Y8G("ngIf",t.headerFacet),u.R7$(),u.Y8G("ngTemplateOutlet",t.headerTemplate),u.R7$(2),u.Y8G("ngIf",t.maximizable),u.R7$(),u.Y8G("ngIf",t.closable)}}function Vu(n,e){1&n&&u.eu8(0)}function Hy(n,e){1&n&&u.eu8(0)}function zy(n,e){if(1&n&&(u.j41(0,"div",31,4),u.SdG(2,2),u.DNE(3,Hy,1,0,"ng-container",10),u.k0s()),2&n){const t=u.XpG(4);u.R7$(3),u.Y8G("ngTemplateOutlet",t.footerTemplate)}}function LR(n,e){if(1&n&&(u.DNE(0,PR,1,0,"div",11)(1,bD,8,5,"div",12),u.j41(2,"div",13,2),u.SdG(4),u.DNE(5,Vu,1,0,"ng-container",10),u.k0s(),u.DNE(6,zy,4,1,"div",14)),2&n){const t=u.XpG(3);u.Y8G("ngIf",t.resizable),u.R7$(),u.Y8G("ngIf",t.showHeader),u.R7$(),u.HbH(t.contentStyleClass),u.Y8G("ngClass","p-dialog-content")("ngStyle",t.contentStyle),u.R7$(3),u.Y8G("ngTemplateOutlet",t.contentTemplate),u.R7$(),u.Y8G("ngIf",t.footerFacet||t.footerTemplate)}}function FR(n,e){if(1&n){const t=u.RV6();u.j41(0,"div",8,0),u.bIt("@animation.start",function(o){u.eBV(t);const c=u.XpG(2);return u.Njj(c.onAnimationStart(o))})("@animation.done",function(o){u.eBV(t);const c=u.XpG(2);return u.Njj(c.onAnimationEnd(o))}),u.DNE(2,RR,2,1,"ng-container",9)(3,LR,7,8,"ng-template",null,1,u.C5r),u.k0s()}if(2&n){const t=u.sdS(4),i=u.XpG(2);u.HbH(i.styleClass),u.Y8G("ngClass",u.ziG(10,wR,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",!1===i.focusTrap)("@animation",u.eq3(18,DR,u.l_i(15,CR,i.transformOptions,i.transitionOptions))),u.BMQ("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),u.R7$(2),u.Y8G("ngIf",i.headlessTemplate)("ngIfElse",t)}}function xE(n,e){if(1&n&&(u.j41(0,"div",6),u.DNE(1,FR,5,20,"div",7),u.k0s()),2&n){const t=u.XpG();u.HbH(t.maskStyleClass),u.Y8G("ngStyle",t.maskStyle)("ngClass",u.zJS(5,TR,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),u.R7$(),u.Y8G("ngIf",t.visible)}}const VR=xt([Mn({transform:"{{transform}}",opacity:0}),lr("{{transition}}")]),UR=xt([lr("{{transition}}",Mn({transform:"{{transform}}",opacity:0}))]);let OE=(()=>{class n{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}onShow=new u.bkB;onHide=new u.bkB;visibleChange=new u.bkB;onResizeInit=new u.bkB;onResizeEnd=new u.bkB;onDragEnd=new u.bkB;onMaximize=new u.bkB;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=di();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(ko.ARIA).maximizeLabel}constructor(t,i,o,c,h,g,v){this.document=t,this.platformId=i,this.el=o,this.renderer=c,this.zone=h,this.cd=g,this.config=v,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return null!==this.header?di()+"_header":null}parseDurationToMilliseconds(t){const i=/([\d\.]+)(ms|s)\b/g;let c,o=0;for(;null!==(c=i.exec(t));){const h=parseFloat(c[1]),g=c[2];"ms"===g?o+=h:"s"===g&&(o+=1e3*h)}if(0!==o)return o}focus(t=this.contentViewChild?.nativeElement){const i=this.parseDurationToMilliseconds(this.transitionOptions);let o=Ne.getFocusableElement(t,"[autofocus]");if(o)return void this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),i||5)});const c=Ne.getFocusableElement(t);c?this.zone.runOutsideAngular(()=>{setTimeout(()=>c.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&Ne.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();const t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&1==t.length&&Ne.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Ne.blockBodyScroll():Ne.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Ci.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if((0,nt.UE)(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Ne.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                        @media screen and (max-width: ${i}) {\n                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {\n                                width: ${this.breakpoints[i]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){Ne.hasClass(t.target,"p-dialog-header-icon")||Ne.hasClass(t.target,"p-dialog-header-close-icon")||Ne.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",Ne.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){const i=Ne.getOuterWidth(this.container),o=Ne.getOuterHeight(this.container),c=t.pageX-this.lastPageX,h=t.pageY-this.lastPageY,g=this.container.getBoundingClientRect(),v=getComputedStyle(this.container),D=parseFloat(v.marginLeft),x=parseFloat(v.marginTop),L=g.left+c-D,Q=g.top+h-x,J=Ne.getViewport();this.container.style.position="fixed",this.keepInViewport?(L>=this.minX&&L+i<J.width&&(this._style.left=`${L}px`,this.lastPageX=t.pageX,this.container.style.left=`${L}px`),Q>=this.minY&&Q+o<J.height&&(this._style.top=`${Q}px`,this.lastPageY=t.pageY,this.container.style.top=`${Q}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${L}px`,this.lastPageY=t.pageY,this.container.style.top=`${Q}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,Ne.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,Ne.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,c=Ne.getOuterWidth(this.container),h=Ne.getOuterHeight(this.container),g=Ne.getOuterHeight(this.contentViewChild?.nativeElement),v=c+i,D=h+o,x=this.container.style.minWidth,L=this.container.style.minHeight,Q=this.container.getBoundingClientRect(),J=Ne.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(v+=i,D+=o),(!x||v>parseInt(x))&&Q.left+v<J.width&&(this._style.width=v+"px",this.container.style.width=this._style.width),(!L||D>parseInt(L))&&Q.top+D<J.height&&(this.contentViewChild.nativeElement.style.height=g+D-h+"px",this._style.height&&(this._style.height=D+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,Ne.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{"Escape"==i.key&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.wrapper):Ne.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Ne.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&Ne.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Ne.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Ne.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Ci.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(u.rXU(nt.qQ),u.rXU(u.Agw),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.SKi),u.rXU(u.gRc),u.rXU(Xr))};static \u0275cmp=u.VBU({type:n,selectors:[["p-dialog"]],contentQueries:function(i,o,c){if(1&i&&(u.wni(c,fl,5),u.wni(c,No,5),u.wni(c,ki,4)),2&i){let h;u.mGM(h=u.lsd())&&(o.headerFacet=h.first),u.mGM(h=u.lsd())&&(o.footerFacet=h.first),u.mGM(h=u.lsd())&&(o.templates=h)}},viewQuery:function(i,o){if(1&i&&(u.GBs(yR,5),u.GBs(vR,5),u.GBs(IR,5)),2&i){let c;u.mGM(c=u.lsd())&&(o.headerViewChild=c.first),u.mGM(c=u.lsd())&&(o.contentViewChild=c.first),u.mGM(c=u.lsd())&&(o.footerViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[u.Mj6.HasDecoratorInputTransform,"draggable","draggable",u.L39],resizable:[u.Mj6.HasDecoratorInputTransform,"resizable","resizable",u.L39],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[u.Mj6.HasDecoratorInputTransform,"modal","modal",u.L39],closeOnEscape:[u.Mj6.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",u.L39],dismissableMask:[u.Mj6.HasDecoratorInputTransform,"dismissableMask","dismissableMask",u.L39],rtl:[u.Mj6.HasDecoratorInputTransform,"rtl","rtl",u.L39],closable:[u.Mj6.HasDecoratorInputTransform,"closable","closable",u.L39],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[u.Mj6.HasDecoratorInputTransform,"showHeader","showHeader",u.L39],breakpoint:"breakpoint",blockScroll:[u.Mj6.HasDecoratorInputTransform,"blockScroll","blockScroll",u.L39],autoZIndex:[u.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",u.L39],baseZIndex:[u.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",u.Udg],minX:[u.Mj6.HasDecoratorInputTransform,"minX","minX",u.Udg],minY:[u.Mj6.HasDecoratorInputTransform,"minY","minY",u.Udg],focusOnShow:[u.Mj6.HasDecoratorInputTransform,"focusOnShow","focusOnShow",u.L39],maximizable:[u.Mj6.HasDecoratorInputTransform,"maximizable","maximizable",u.L39],keepInViewport:[u.Mj6.HasDecoratorInputTransform,"keepInViewport","keepInViewport",u.L39],focusTrap:[u.Mj6.HasDecoratorInputTransform,"focusTrap","focusTrap",u.L39],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[u.GFd],ngContentSelectors:bR,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,o){1&i&&(u.NAR(ER),u.DNE(0,xE,2,16,"div",5)),2&i&&u.Y8G("ngIf",o.maskVisible)},dependencies:()=>[nt.YU,nt.bT,nt.T3,nt.B3,_R,mR,hs,xa,uD,dD],styles:["@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}\n"],encapsulation:2,data:{animation:[Xn("animation",[hr("void => visible",[Yn(VR)]),hr("visible => void",[Yn(UR)])])]},changeDetection:0})}return n})(),NE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD,cD,jf,Lo,xa,uD,dD,uo]})}return n})(),Vx=(()=>{class n extends Ms{pathId;ngOnInit(){this.pathId="url(#"+di()+")"}static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0)(1,"g"),u.nrm(2,"path",1),u.k0s(),u.j41(3,"defs")(4,"clipPath",2),u.nrm(5,"rect",3),u.k0s()()()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),u.R7$(),u.BMQ("clip-path",o.pathId),u.R7$(3),u.Y8G("id",o.pathId))},encapsulation:2})}return n})(),Gx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD,jf,Lo,Fo,U.iI,Vx,uo,jf,Fo,U.iI]})}return n})();const wD=(n,e)=>e.trattaId,QR=()=>[H.e(250).then(H.bind(H,5869)).then(n=>n.TrattaCardComponent)],FE=()=>({width:"25rem"});function Wx(n,e){if(1&n&&u.nrm(0,"tratta-card",21),2&n){const t=e.$implicit,i=u.XpG(3);u.Y8G("tratta",t)("activeTab",i.activeTab())}}function XR(n,e){if(1&n&&u.Z7z(0,Wx,1,2,"tratta-card",21,wD),2&n){const t=u.XpG(2);u.Dyx(t.tratteService.tratte())}}function CD(n,e){1&n&&u.nrm(0,"loading-tratta")}function YR(n,e){1&n&&(u.j41(0,"p-tabPanel",8)(1,"div",20),u.DNE(2,XR,2,0)(3,CD,1,0),u.nv$(4,2,QR,3,null,null,0,null,u.T$4),u.g25(),u.k0s()()),2&n&&u.FS9("header",e.$implicit)}function Kx(n,e){1&n&&(u.j41(0,"span",22),u.EFF(1,"Legenda"),u.k0s())}let qx=(()=>{class n{constructor(){this.tratteService=(0,u.WQX)(Sn),this.firebaseService=(0,u.WQX)($d),this.activeTab=(0,u.vPA)("treno"),this.sidebarVisible=!1,this.disclaimerVisible=!1,this.tabs=["Treno","Tram","Metro","Tutti"]}ngOnInit(){this.firebaseService.getTratte().subscribe(t=>this.tratteService.tratte.set(t))}onChange(t){this.activeTab.set(this.tabs[t.index].toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-tratte"]],standalone:!0,features:[u.aNF],decls:41,vars:6,consts:[[1e3,null],["id","picture"],[3,"onChange"],[1,"buttons-div"],[2,"background-color","var(--RFI)","width","fit-content","height","fit-content","border-radius","50%"],["type","button","icon","pi pi-info-circle",3,"onClick"],[2,"background-color","white","color","var(--atm)","width","fit-content","height","fit-content","border-radius","50%"],["type","button","icon","pi pi-exclamation-circle",3,"onClick"],[3,"header"],["header","Disclaimer",3,"visibleChange","modal","visible"],["position","bottom",3,"visibleChange","visible"],["pTemplate","header"],[1,"pi","pi-circle-fill",2,"color","var(--RFI)"],["href","https://www.rfi.it/it.html","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--FCE)"],["href","https://www.circumetnea.it/","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--AMAT)"],["href","https://www.amat.pa.it/","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--atm)"],["href","https://www.atmmessinaspa.it/","target","_blank"],[1,"tratte-panel"],[3,"tratta","activeTab"],[1,"font-semibold","text-xl"]],template:function(i,o){1&i&&(u.nrm(0,"div",1),u.j41(1,"p-tabView",2),u.bIt("onChange",function(h){return o.onChange(h)}),u.j41(2,"div",3)(3,"div",4)(4,"p-button",5),u.bIt("onClick",function(){return o.sidebarVisible=!0}),u.k0s()(),u.j41(5,"div",6)(6,"p-button",7),u.bIt("onClick",function(){return o.disclaimerVisible=!0}),u.k0s()()(),u.Z7z(7,YR,6,1,"p-tabPanel",8,u.fX1),u.k0s(),u.j41(9,"p-dialog",9),u.mxI("visibleChange",function(h){return u.DH7(o.disclaimerVisible,h)||(o.disclaimerVisible=h),h}),u.j41(10,"p"),u.EFF(11,"Le canzoni presentate su SpotiRFI sono state scelte esclusivamente sulla base dell'adeguatezza del titolo con il nome delle stazioni ferroviarie. La scelta di una canzone non implica un'approvazione o un'adesione al testo, al significato o a qualsiasi altro aspetto della canzone stessa. Le canzoni sono fornite solo a scopo di intrattenimento e non intendono rappresentare o riflettere le opinioni di SpotiRFI. "),u.k0s()(),u.j41(12,"p-sidebar",10),u.mxI("visibleChange",function(h){return u.DH7(o.sidebarVisible,h)||(o.sidebarVisible=h),h}),u.DNE(13,Kx,2,0,"ng-template",11),u.j41(14,"table")(15,"tr")(16,"td"),u.nrm(17,"span",12),u.k0s(),u.j41(18,"td")(19,"a",13),u.EFF(20,"Rete Ferroviaria Italiana"),u.k0s()()(),u.j41(21,"tr")(22,"td"),u.nrm(23,"span",14),u.k0s(),u.j41(24,"td")(25,"a",15),u.EFF(26,"Ferrovia Circumetnea"),u.k0s()()(),u.j41(27,"tr")(28,"td"),u.nrm(29,"span",16),u.k0s(),u.j41(30,"td")(31,"a",17),u.EFF(32,"Azienda Municipalizzata Auto Trasporti "),u.j41(33,"i"),u.EFF(34,"(Palermo)"),u.k0s()()()(),u.j41(35,"tr")(36,"td"),u.nrm(37,"span",18),u.k0s(),u.j41(38,"td")(39,"a",19),u.EFF(40,"Azienda Trasporti Messina"),u.k0s()()()()()),2&i&&(u.R7$(7),u.Dyx(o.tabs),u.R7$(2),u.Aen(u.lJ4(5,FE)),u.Y8G("modal",!0),u.R50("visible",o.disclaimerVisible),u.R7$(3),u.R50("visible",o.sidebarVisible))},dependencies:[eR,sa,ur,rn,ki,cR,lR,jf,$y,NE,OE,Gx],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";#picture[_ngcontent-%COMP%]{background-image:url(104Agnone-min.b7887179a1f4c43d.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}[_nghost-%COMP%]     .p-tabview .p-tabview-nav, [_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:inherit;color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav{border:none;display:flex;justify-content:center;margin:auto;padding:0;font-size:larger}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:none;background-color:inherit;text-decoration:none;color:inherit;font-family:Merienda,cursive}[_nghost-%COMP%]     .p-highlight{border-bottom:.1em #d62a42 solid;color:#d62a42}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link:hover{background-color:#d62a420a}.tratte-panel[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center}@media screen and (width < 500px){[_nghost-%COMP%]     .p-tabview .p-tabview-nav{justify-content:start}}td[_ngcontent-%COMP%]{font-weight:600}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:currentColor;text-decoration:none}.disclaimer[_ngcontent-%COMP%]{text-decoration:underline;color:#731622;cursor:pointer;font-family:Merienda,cursive;font-weight:700}p[_ngcontent-%COMP%]{font-size:19px;line-height:1.6}.pi-circle-fill[_ngcontent-%COMP%]{font-size:20px;margin:.5em;float:left}[_nghost-%COMP%]     .p-sidebar{height:-moz-fit-content;height:fit-content}[_nghost-%COMP%]     .p-sidebar-header{justify-content:space-between}[_nghost-%COMP%]     .p-button{color:inherit;background-color:inherit;border:none;border-radius:50%}[_ngcontent-%COMP%]:is()   .pi[_ngcontent-%COMP%]{font-size:24px;font-weight:600}[_nghost-%COMP%]     .p-button:focus{box-shadow:none}[_nghost-%COMP%]     .p-dialog-content{text-align:justify}.buttons-div[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:-moz-fit-content;width:fit-content;z-index:1000;display:flex;flex-flow:row nowrap;justify-content:space-between}.buttons-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.buttons-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 1px 2px #000}']})}return n})(),Qx=(()=>{class n{openEasterEgg(){window.open("https://github.com/chiaraferrara","_blank")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-chisiamo"]],standalone:!0,features:[u.aNF],decls:17,vars:0,consts:[["id","picture"],["id","content"],[1,"mb-4"],["href","https://www.instagram.com/explore/tags/ferrosessuale/top/","target","_blank","id","ferrosex"],[3,"click"],["href","https://github.com/gianmarco2307","mat-button","","target","_blank","id","GitHub"],["src","assets/github-mark.png","id","githubLogo"]],template:function(i,o){1&i&&(u.nrm(0,"div",0),u.j41(1,"div",1)(2,"h2"),u.EFF(3,"Chi Sono"),u.k0s(),u.j41(4,"p",2),u.EFF(5," Sono un appassionato di viaggi e di musica, con un "),u.j41(6,"a",3),u.EFF(7,"amore particolare per le ferrovie"),u.k0s(),u.EFF(8," . La passione per l'esplorazione e la scoperta mi ha portato a creare SpotiRFI, un progetto unico che unisce la bellezza del viaggio in treno con il potere evocativo della musica. Ogni stazione ferroviaria sulla mappa diventa una tappa di un viaggio musicale attraverso la Sicilia, offrendo un'esperienza unica che spero possa arricchire i vostri viaggi tanto quanto ha arricchito i miei. "),u.k0s(),u.nrm(9,"br"),u.j41(10,"p"),u.EFF(11," Se vuoi passa dal "),u.j41(12,"span",4),u.bIt("click",function(){return o.openEasterEgg()}),u.EFF(13,"mio "),u.k0s(),u.j41(14,"a",5),u.nrm(15,"img",6),u.EFF(16,"GitHub"),u.k0s()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#picture[_ngcontent-%COMP%]{background-image:url(PMAgnone-min.60f5992de05385e1.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}h2[_ngcontent-%COMP%]{margin-top:2em;font-family:Merienda,cursive;font-weight:bolder}#content[_ngcontent-%COMP%]{max-width:58em;text-align:justify;margin:0 auto;padding:2em;font-size:18px;font-family:Merienda,cursive;line-height:1.7}#ferrosex[_ngcontent-%COMP%]{text-decoration:none;color:#000}#ferrosex[_ngcontent-%COMP%]:hover{color:#393939}#GitHub[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-weight:700}#githubLogo[_ngcontent-%COMP%]{height:24px;margin-right:10px}']})}return n})(),DD=(()=>{class n{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=u.VBU({type:n,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(i,o){1&i&&(u.j41(0,"div",0),u.qSk(),u.j41(1,"svg",1),u.nrm(2,"circle",2),u.k0s()()),2&i&&(u.Y8G("ngStyle",o.style)("ngClass",o.styleClass),u.BMQ("aria-label",o.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),u.R7$(),u.xc7("animation-duration",o.animationDuration),u.BMQ("data-pc-section","root"),u.R7$(),u.BMQ("fill",o.fill)("stroke-width",o.strokeWidth))},dependencies:[nt.YU,nt.B3],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return n})(),AD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD]})}return n})(),ZR=(()=>{class n{constructor(){this.apiUrl="https://iechub.rfi.it/ArriviPartenze/ArrivalsDepartures/Monitor?placeId="}getArrivals(t){window.open(`${this.apiUrl}${t}&arrivals=True`,"_blank")}getDepartures(t){window.open(`${this.apiUrl}${t}&arrivals=False`,"_blank")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const JR=()=>({width:"25rem"});function Xx(n,e){1&n&&(u.j41(0,"div",0),u.nrm(1,"p-progressSpinner",5),u.k0s())}function Yx(n,e){if(1&n){const t=u.RV6();u.j41(0,"li",11),u.bIt("click",function(){const o=u.eBV(t).$implicit,c=u.XpG(3);return u.Njj(c.stationToModal(o,c.tratta().gestore,c.tratta().note))}),u.EFF(1),u.k0s()}if(2&n){const t=e.$implicit;u.R7$(),u.SpI(" ",t.station," ")}}function Zx(n,e){if(1&n&&(u.j41(0,"div",6)(1,"div",7),u.nrm(2,"iframe",8),u.k0s(),u.j41(3,"div",9)(4,"ul"),u.Z7z(5,Yx,2,1,"li",10,u.fX1),u.k0s()()()),2&n){const t=u.XpG(2);u.R7$(2),u.Y8G("src",t.sanitizedSrc,u.f$h),u.R7$(3),u.Dyx(t.tratta().stations)}}function Jx(n,e){if(1&n&&(u.j41(0,"div",1),u.DNE(1,Zx,7,1,"div",6),u.k0s()),2&n){const t=u.XpG();u.R7$(),u.vxM(1,t.tratta().trattaId==t.id()?1:-1)}}function eO(n,e){if(1&n){const t=u.RV6();u.j41(0,"div",3)(1,"p-button",12),u.bIt("onClick",function(){u.eBV(t);const o=u.XpG();return u.Njj(o.openArrivals())}),u.k0s(),u.j41(2,"p-button",13),u.bIt("onClick",function(){u.eBV(t);const o=u.XpG();return u.Njj(o.openDepartures())}),u.k0s()()}}function SD(n,e){if(1&n){const t=u.RV6();u.j41(0,"p-button",14),u.bIt("onClick",function(){u.eBV(t);const o=u.XpG();return u.Njj(o.openMaps())}),u.k0s()}}let Wy=(()=>{class n{constructor(t,i,o,c){this.route=t,this.sanitizer=i,this.router=o,this.monitor=c,this.tratteService=(0,u.WQX)(Sn),this.firebaseService=(0,u.WQX)($d),this.loading=!0,this.id=(0,u.vPA)(""),this.tratta=(0,u.vPA)({}),this.actualStation=(0,u.vPA)({}),this.actualManager=(0,u.vPA)(""),this.actualLine=(0,u.vPA)(""),this.modalHeader=(0,u.EWP)(()=>`Stazione di ${this.actualStation().station}`),this.visible=!1}ngOnInit(){this.id.set(this.route.snapshot.paramMap.get("id")),this.firebaseService.getTratte().subscribe(t=>{this.loading=!0,this.tratta.set(t.find(i=>i.trattaId==this.id())),void 0!==this.tratta()?this.sanitizedSrc=this.sanitizer.bypassSecurityTrustResourceUrl(this.tratta().src):this.router.navigate([`/${this.id()}`]),this.loading=!1})}stationToModal(t,i,o){this.actualStation.set(t),this.actualManager.set(i),this.actualLine.set(o),this.visible=!0}openMaps(){let t,i;i="AMAT"==this.actualManager()?`fermata ${this.actualManager()} tram ${this.actualManager()} di ${this.actualStation().station} Palermo`:"atm"==this.actualManager()?`fermata ${this.actualManager()} tram ${this.actualLine()} di ${this.actualStation().station} Messina`:`stazione ${this.actualManager()} di ${this.actualStation().station}`,t="https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(i),window.open(t,"_blank")}openArrivals(){this.monitor.getArrivals(this.actualStation().stationId)}openDepartures(){this.monitor.getDepartures(this.actualStation().stationId)}static#e=this.\u0275fac=function(i){return new(i||n)(u.rXU(U.nX),u.rXU(R.up),u.rXU(U.Ix),u.rXU(ZR))};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-playlist-page"]],standalone:!0,features:[u.aNF],decls:5,vars:9,consts:[[2,"width","fit-content","margin","7em auto"],[1,"tratta-container"],[3,"visibleChange","header","modal","visible"],[1,"modal-content"],["pTemplate","footer"],["ariaLabel","loading"],[1,"tratta-incontainer"],[1,"iframe"],["width","98%","height","500","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px","position","sticky","top","4em",3,"src"],[1,"line"],["data-bs-toggle","modal","data-bs-target","#exampleModal"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click"],["label","Arrivi","icon","pi pi-external-link",3,"onClick"],["label","Partenze","icon","pi pi-external-link",3,"onClick"],["label","Apri su Maps","icon","pi pi-map-marker",3,"onClick"]],template:function(i,o){1&i&&(u.DNE(0,Xx,2,0,"div",0)(1,Jx,2,1,"div",1),u.j41(2,"p-dialog",2),u.mxI("visibleChange",function(h){return u.DH7(o.visible,h)||(o.visible=h),h}),u.DNE(3,eO,3,0,"div",3)(4,SD,1,0,"ng-template",4),u.k0s()),2&i&&(u.vxM(0,o.loading?0:-1),u.R7$(),u.vxM(1,o.tratta()&&o.sanitizedSrc?1:-1),u.R7$(),u.Aen(u.lJ4(8,JR)),u.Y8G("header",o.modalHeader())("modal",!0),u.R50("visible",o.visible),u.R7$(),u.vxM(3,"RFI"===o.tratta().gestore?3:-1))},dependencies:[AD,DD,jf,$y,ki,NE,OE],styles:['@import"https://fonts.cdnfonts.com/css/futura-std-4";.tratta-container[_ngcontent-%COMP%]{width:100%;margin-bottom:4em;margin-top:6em}.tratta-incontainer[_ngcontent-%COMP%]{font-family:Futura Std,sans-serif;font-weight:700;font-size:x-large;display:flex;flex-flow:row-reverse wrap}.iframe[_ngcontent-%COMP%]{flex:1;text-align:center}.line[_ngcontent-%COMP%]{flex:1}.map[_ngcontent-%COMP%]{display:block;margin:auto;width:75%;height:auto}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:auto;width:max-content}li[_ngcontent-%COMP%]:before{content:"";border-radius:50%;width:.625em;height:.625em;background:red;display:inline-block;margin-right:.625em}li[_ngcontent-%COMP%]{margin:.625em 0;position:relative;cursor:pointer}li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:.125em;height:calc(100% + .625em);background:red;left:.25em;top:.625em}li[_ngcontent-%COMP%]:first-child:after{top:.625em}li[_ngcontent-%COMP%]:last-child:after{height:0}.modal-content[_ngcontent-%COMP%]{width:100%;padding:1em;display:flex;flex-flow:row wrap;justify-content:space-around}[_nghost-%COMP%]     .p-dialog-content .p-button{width:150px}[_nghost-%COMP%]     .p-dialog-content .p-button, [_nghost-%COMP%]     .p-dialog-footer .p-button{background-color:var(--RFI);border-radius:6px;border-color:var(--RFI)}[_nghost-%COMP%]     .p-dialog-content .p-button:focus, [_nghost-%COMP%]     .p-dialog-footer .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--RFI),0 1px 2px #000}@media screen and (280px < width < 768px){.tratta-incontainer[_ngcontent-%COMP%]{flex-direction:column}}@media screen and (width < 415px){.modal-content[_ngcontent-%COMP%]{flex-flow:column nowrap;text-align:center}[_nghost-%COMP%]     .p-dialog-content .p-button, [_nghost-%COMP%]     .p-dialog-footer .p-button{margin:.5em auto}}@media screen and (width < 281px){.tratta-incontainer[_ngcontent-%COMP%]{flex-direction:column}}']})}return n})(),eP=(()=>{class n{constructor(t){this.path="";let i=t.path().split("/");this.path=i[1].toUpperCase()}static#e=this.\u0275fac=function(i){return new(i||n)(u.rXU(nt.aZ))};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-tabellone"]],standalone:!0,features:[u.aNF],decls:50,vars:1,consts:[["href",u.wXG`https://fonts.cdnfonts.com/css/caros`,"rel","stylesheet"],[1,"background"],[1,"riga"],[1,"binario"],[1,"destinazione"],[1,"pdest"],[1,"treno"],[1,"ptreno"],[1,"partenza"],[1,"ppart"],[1,"info"],[1,"pinfo"]],template:function(i,o){1&i&&(u.nrm(0,"link",0),u.j41(1,"div",1),u.nrm(2,"br"),u.j41(3,"div",2)(4,"div",3)(5,"h2")(6,"b"),u.EFF(7,"1"),u.k0s()()(),u.j41(8,"div",4)(9,"p")(10,"b"),u.EFF(11,"destinazione "),u.k0s(),u.j41(12,"i"),u.EFF(13,"destination"),u.k0s()(),u.j41(14,"div",5)(15,"h4"),u.EFF(16),u.k0s()()()(),u.nrm(17,"br"),u.j41(18,"div",2)(19,"div",6)(20,"p")(21,"b"),u.EFF(22,"treno "),u.k0s(),u.j41(23,"i"),u.EFF(24,"train"),u.k0s()(),u.j41(25,"div",7)(26,"h4"),u.EFF(27,"SPOTIRFI"),u.k0s(),u.j41(28,"h5"),u.EFF(29,"REG 21886"),u.k0s()()(),u.j41(30,"div",8)(31,"p")(32,"b"),u.EFF(33,"partenza "),u.k0s(),u.j41(34,"i"),u.EFF(35,"departure"),u.k0s()(),u.j41(36,"div",9)(37,"h4"),u.EFF(38,"CANCELLATO"),u.k0s()()()(),u.nrm(39,"br"),u.j41(40,"div",2)(41,"div",10)(42,"p")(43,"b"),u.EFF(44,"informazioni "),u.k0s(),u.j41(45,"i"),u.EFF(46,"informations"),u.k0s()(),u.j41(47,"div",11)(48,"h4"),u.EFF(49,"E' SEVERAMENTE VIETATO ATTRAVERSARE LA LINEA GIALLA"),u.k0s()()()()()),2&i&&(u.R7$(16),u.JRh(o.path))},styles:['@import"https://fonts.cdnfonts.com/css/caros";.background[_ngcontent-%COMP%]{width:40em;height:20.35em;background-color:#000;margin:auto}.riga[_ngcontent-%COMP%]{border-top:.1em white solid;width:38em;margin:0 1em}.binario[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}h2[_ngcontent-%COMP%]{font-size:5em}.destinazione[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.destinazione[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pdest[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 20s linear infinite}.pdest[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em;overflow:hidden}.treno[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}.treno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ptreno[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:10.99em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ptreno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;margin-left:.2em;margin-bottom:.1em}.ptreno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1em;margin-left:.2em}.partenza[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.partenza[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ppart[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ppart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em}.info[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pinfo[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:38em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite;overflow:hidden}.pinfo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8em;white-space:nowrap;position:relative;animation:_ngcontent-%COMP%_scroll-left 20s linear infinite}@keyframes _ngcontent-%COMP%_lighting{0%{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}to{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(100%)}to{transform:translate(-100%)}}']})}return n})();const RD=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Wc},{path:"tratte",component:qx},{path:"tratte/:id",component:Wy},{path:"chisono",component:Qx},{path:"**",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-notfound"]],standalone:!0,features:[u.aNF],decls:6,vars:0,consts:[["controls","","autoplay",""],["src","assets/404.mp3","type","audio/mpeg"]],template:function(i,o){1&i&&(u.j41(0,"article"),u.nrm(1,"app-tabellone"),u.k0s(),u.j41(2,"article")(3,"audio",0),u.nrm(4,"source",1),u.EFF(5," Il tuo browser non supporta l'elemento audio. "),u.k0s()())},dependencies:[eP],styles:["article[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;margin:6em;font-family:Merienda,cursive}"]})}return n})()}],zd_firebaseConfig={apiKey:"AIzaSyBhT4vrImMOpXLps9RtD_GROoPflfGtM4U",authDomain:"spotirfi-cd7a9.firebaseapp.com",databaseURL:"https://spotirfi-cd7a9-default-rtdb.firebaseio.com",projectId:"spotirfi-cd7a9",storageBucket:"spotirfi-cd7a9.appspot.com",messagingSenderId:"207743558815",appId:"1:207743558815:web:1d28c36da0a303fca7eeaa",measurementId:"G-8Z6DVSWE34"};var Sc=H(7673),Bl=H(8455),VE=H(274),Hg=H(5964),UE=H(980),Ha=H(5558);class Gd{}class BE{}class za{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),c=o.toLowerCase(),h=t.slice(i+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof za?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new za;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof za?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const c=e.value;if(c){let h=this.headers.get(t);if(!h)return;h=h.filter(g=>-1===c.indexOf(g)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(c=>c.toString()),o=e.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PD{encodeKey(e){return MD(e)}encodeValue(e){return MD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nP=/%(\d[a-f0-9])/gi,rP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MD(n){return encodeURIComponent(n).replace(nP,(e,t)=>rP[t]??e)}function zg(n){return`${n}`}class Rc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PD,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tP(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[h,g]=-1==c?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,c)),e.decodeValue(o.slice(c+1))],v=t.get(h)||[];v.push(g),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],o=Array.isArray(i)?i.map(zg):[zg(i)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)?o.forEach(c=>{t.push({param:i,value:c,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(zg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const o=i.indexOf(zg(e.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class sP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function jE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ky(n){return typeof Blob<"u"&&n instanceof Blob}function aP(n){return typeof FormData<"u"&&n instanceof FormData}class Wd{constructor(e,t,i,o){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function oP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,c=o):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new za,this.context??=new sP,this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+h}}else this.params=new Rc,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||jE(this.body)||Ky(this.body)||aP(this.body)||function xD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Rc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aP(this.body)?null:Ky(this.body)?this.body.type||null:jE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,c=e.transferCache??this.transferCache,h=void 0!==e.body?e.body:this.body,g=e.withCredentials??this.withCredentials,v=e.reportProgress??this.reportProgress;let D=e.headers||this.headers,x=e.params||this.params;const L=e.context??this.context;return void 0!==e.setHeaders&&(D=Object.keys(e.setHeaders).reduce((Q,J)=>Q.set(J,e.setHeaders[J]),D)),e.setParams&&(x=Object.keys(e.setParams).reduce((Q,J)=>Q.set(J,e.setParams[J]),x)),new Wd(t,i,h,{params:x,headers:D,context:L,reportProgress:v,responseType:o,withCredentials:g,transferCache:c})}}var Uu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Uu||{});class $E{constructor(e,t=qy.Ok,i="OK"){this.headers=e.headers||new za,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HE extends $E{constructor(e={}){super(e),this.type=Uu.ResponseHeader}clone(e={}){return new HE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $f extends $E{constructor(e={}){super(e),this.type=Uu.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $f({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Gg extends $E{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var qy=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(qy||{});function OD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let Zi=(()=>{class n{constructor(t){this.handler=t}request(t,i,o={}){let c;if(t instanceof Wd)c=t;else{let v,D;v=o.headers instanceof za?o.headers:new za(o.headers),o.params&&(D=o.params instanceof Rc?o.params:new Rc({fromObject:o.params})),c=new Wd(t,i,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const h=(0,Sc.of)(c).pipe((0,VE.H)(v=>this.handler.handle(v)));if(t instanceof Wd||"events"===o.observe)return h;const g=h.pipe((0,Hg.p)(v=>v instanceof $f));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe((0,Ui.T)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,Ui.T)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,Ui.T)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,Ui.T)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Rc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,OD(o,i))}post(t,i,o={}){return this.request("POST",t,OD(o,i))}put(t,i,o={}){return this.request("PUT",t,OD(o,i))}static#e=this.\u0275fac=function(i){return new(i||n)(u.KVO(Gd))};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})();function lP(n,e){return e(n)}const Hf=new u.nKC(""),WE=new u.nKC(""),KE=new u.nKC("");let kD=(()=>{class n extends Gd{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,u.WQX)(u.TgB);const o=(0,u.WQX)(KE,{optional:!0});this.backend=o??t}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Hf),...this.injector.get(WE,[])]));this.chain=o.reduceRight((c,h)=>function cP(n,e,t){return(i,o)=>(0,u.N4e)(t,()=>e(i,c=>n(c,o)))}(c,h,this.injector),lP)}const i=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe((0,UE.j)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(u.KVO(BE),u.KVO(u.uvJ))};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})();const FD=/^\)\]\}',?\n/;let mP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new u.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,Bl.H)(i.\u0275loadImpl()):(0,Sc.of)(null)).pipe((0,Ha.n)(()=>new Qe.c(c=>{const h=i.build();if(h.open(t.method,t.urlWithParams),t.withCredentials&&(h.withCredentials=!0),t.headers.forEach((fe,De)=>h.setRequestHeader(fe,De.join(","))),t.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const fe=t.detectContentTypeHeader();null!==fe&&h.setRequestHeader("Content-Type",fe)}if(t.responseType){const fe=t.responseType.toLowerCase();h.responseType="json"!==fe?fe:"text"}const g=t.serializeBody();let v=null;const D=()=>{if(null!==v)return v;const fe=h.statusText||"OK",De=new za(h.getAllResponseHeaders()),tt=function VD(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(h)||t.url;return v=new HE({headers:De,status:h.status,statusText:fe,url:tt}),v},x=()=>{let{headers:fe,status:De,statusText:tt,url:pt}=D(),qe=null;De!==qy.NoContent&&(qe=typeof h.response>"u"?h.responseText:h.response),0===De&&(De=qe?qy.Ok:0);let yt=De>=200&&De<300;if("json"===t.responseType&&"string"==typeof qe){const tn=qe;qe=qe.replace(FD,"");try{qe=""!==qe?JSON.parse(qe):null}catch(cn){qe=tn,yt&&(yt=!1,qe={error:cn,text:qe})}}yt?(c.next(new $f({body:qe,headers:fe,status:De,statusText:tt,url:pt||void 0})),c.complete()):c.error(new Gg({error:qe,headers:fe,status:De,statusText:tt,url:pt||void 0}))},L=fe=>{const{url:De}=D(),tt=new Gg({error:fe,status:h.status||0,statusText:h.statusText||"Unknown Error",url:De||void 0});c.error(tt)};let Q=!1;const J=fe=>{Q||(c.next(D()),Q=!0);let De={type:Uu.DownloadProgress,loaded:fe.loaded};fe.lengthComputable&&(De.total=fe.total),"text"===t.responseType&&h.responseText&&(De.partialText=h.responseText),c.next(De)},ue=fe=>{let De={type:Uu.UploadProgress,loaded:fe.loaded};fe.lengthComputable&&(De.total=fe.total),c.next(De)};return h.addEventListener("load",x),h.addEventListener("error",L),h.addEventListener("timeout",L),h.addEventListener("abort",L),t.reportProgress&&(h.addEventListener("progress",J),null!==g&&h.upload&&h.upload.addEventListener("progress",ue)),h.send(g),c.next({type:Uu.Sent}),()=>{h.removeEventListener("error",L),h.removeEventListener("abort",L),h.removeEventListener("load",x),h.removeEventListener("timeout",L),t.reportProgress&&(h.removeEventListener("progress",J),null!==g&&h.upload&&h.upload.removeEventListener("progress",ue)),h.readyState!==h.DONE&&h.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(u.KVO(nt.N0))};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})();const Qg=new u.nKC(""),_P=new u.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),UD=new u.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yP{}let vP=(()=>{class n{constructor(t,i,o){this.doc=t,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,nt._b)(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(u.KVO(nt.qQ),u.KVO(u.Agw),u.KVO(_P))};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})();function IP(n,e){const t=n.url.toLowerCase();if(!(0,u.WQX)(Qg)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,u.WQX)(yP).getToken(),o=(0,u.WQX)(UD);return null!=i&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),e(n)}const GD={providers:[(0,U.lh)(RD),function St(){return(0,u.ngT)("NgEagerAnimations"),[...Br]}(),function lO(...n){const e=[Zi,mP,kD,{provide:Gd,useExisting:kD},{provide:BE,useExisting:mP},{provide:Hf,useValue:IP,multi:!0},{provide:Qg,useValue:!0},{provide:yP,useClass:vP}];for(const t of n)e.push(...t.\u0275providers);return(0,u.EmA)(e)}(),(0,u.oKB)([function Ur(n,...e){return{ngModule:Qn,providers:[{provide:vn,useFactory:Or(n),multi:!0,deps:[u.SKi,u.zZn,oi,...e]}]}}(()=>pi(zd_firebaseConfig)),function Fy(n,...e){return{ngModule:TE,providers:[{provide:Ly,useFactory:VC(n),multi:!0,deps:[u.SKi,u.zZn,oi,Ct,[new u.Xx1,is],[new u.Xx1,Lt],...e]}]}}(()=>function yy(n,e){const t="object"==typeof n?n:(0,ae.getApp)(),i="string"==typeof n?n:e||"(default)",o=(0,ae._getProvider)(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=(0,Qt.yU)("firestore");c&&X0(o,...c)}return o}())])]};let MP=(()=>{class n extends Ms{static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0),u.nrm(1,"path",1),u.k0s()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})(),WD=(()=>{class n extends Ms{static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0),u.nrm(1,"path",1),u.k0s()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})(),Xg=(()=>{class n extends Ms{static \u0275fac=(()=>{let t;return function(o){return(t||(t=u.xGo(n)))(o||n)}})();static \u0275cmp=u.VBU({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,o){1&i&&(u.qSk(),u.j41(0,"svg",0),u.nrm(1,"path",1),u.k0s()),2&i&&(u.HbH(o.getClassNames()),u.BMQ("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return n})();var KD=H(9470);var qd=H(9974),NP=H(5343),Jy=H(4360),ev=H(8750);const LP=["menubar"],mO=(n,e)=>({"p-submenu-list":n,"p-menubar-root-list":e}),FP=n=>({"p-menuitem-link":!0,"p-disabled":n}),_O=()=>({exact:!1}),yO=(n,e)=>({$implicit:n,root:e});function VP(n,e){if(1&n&&u.nrm(0,"li",8),2&n){const t=u.XpG().$implicit,i=u.XpG();u.Y8G("ngStyle",i.getItemProp(t,"style"))("ngClass",i.getSeparatorItemClass(t)),u.BMQ("id",i.getItemId(t))("data-pc-section","separator")}}function vO(n,e){if(1&n&&u.nrm(0,"span",19),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.Y8G("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),u.BMQ("data-pc-section","icon")("tabindex",-1)}}function IO(n,e){if(1&n&&(u.j41(0,"span",20),u.EFF(1),u.k0s()),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.Y8G("id",i.getItemLabelId(t)),u.BMQ("data-pc-section","label"),u.R7$(),u.SpI(" ",i.getItemLabel(t)," ")}}function EO(n,e){if(1&n&&u.nrm(0,"span",21),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.Y8G("innerHTML",i.getItemLabel(t),u.npT)("id",i.getItemLabelId(t)),u.BMQ("data-pc-section","label")}}function bO(n,e){if(1&n&&(u.j41(0,"span",22),u.EFF(1),u.k0s()),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.Y8G("ngClass",i.getItemProp(t,"badgeStyleClass")),u.R7$(),u.JRh(i.getItemProp(t,"badge"))}}function UP(n,e){1&n&&u.nrm(0,"AngleDownIcon",25),2&n&&(u.Y8G("styleClass","p-submenu-icon"),u.BMQ("data-pc-section","submenuicon"))}function BP(n,e){1&n&&u.nrm(0,"AngleRightIcon",25),2&n&&(u.Y8G("styleClass","p-submenu-icon"),u.BMQ("data-pc-section","submenuicon"))}function jP(n,e){if(1&n&&(u.qex(0),u.DNE(1,UP,1,2,"AngleDownIcon",24)(2,BP,1,2,"AngleRightIcon",24),u.bVm()),2&n){const t=u.XpG(6);u.R7$(),u.Y8G("ngIf",t.root),u.R7$(),u.Y8G("ngIf",!t.root)}}function $P(n,e){}function HP(n,e){1&n&&u.DNE(0,$P,0,0,"ng-template",26),2&n&&u.Y8G("data-pc-section","submenuicon")}function zP(n,e){if(1&n&&(u.qex(0),u.DNE(1,jP,3,2,"ng-container",11)(2,HP,1,1,null,23),u.bVm()),2&n){const t=u.XpG(5);u.R7$(),u.Y8G("ngIf",!t.submenuIconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.submenuIconTemplate)}}function QD(n,e){if(1&n&&(u.j41(0,"a",15),u.DNE(1,vO,1,4,"span",16)(2,IO,2,3,"span",17)(3,EO,1,3,"ng-template",null,2,u.C5r)(5,bO,2,2,"span",18)(6,zP,3,2,"ng-container",11),u.k0s()),2&n){const t=u.sdS(4),i=u.XpG(3).$implicit,o=u.XpG();u.Y8G("target",o.getItemProp(i,"target"))("ngClass",u.eq3(11,FP,o.getItemProp(i,"disabled"))),u.BMQ("href",o.getItemProp(i,"url"),u.B4B)("data-automationid",o.getItemProp(i,"automationId"))("data-pc-section","action")("tabindex",-1),u.R7$(),u.Y8G("ngIf",o.getItemProp(i,"icon")),u.R7$(),u.Y8G("ngIf",o.getItemProp(i,"escape"))("ngIfElse",t),u.R7$(3),u.Y8G("ngIf",o.getItemProp(i,"badge")),u.R7$(),u.Y8G("ngIf",o.isItemGroup(i))}}function TO(n,e){if(1&n&&u.nrm(0,"span",19),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.Y8G("ngClass",i.getItemProp(t,"icon"))("ngStyle",i.getItemProp(t,"iconStyle")),u.BMQ("data-pc-section","icon")("tabindex",-1)}}function GP(n,e){if(1&n&&(u.j41(0,"span",29),u.EFF(1),u.k0s()),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.R7$(),u.JRh(i.getItemLabel(t))}}function wO(n,e){if(1&n&&u.nrm(0,"span",30),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.Y8G("innerHTML",i.getItemLabel(t),u.npT),u.BMQ("data-pc-section","label")}}function r(n,e){if(1&n&&(u.j41(0,"span",22),u.EFF(1),u.k0s()),2&n){const t=u.XpG(4).$implicit,i=u.XpG();u.Y8G("ngClass",i.getItemProp(t,"badgeStyleClass")),u.R7$(),u.JRh(i.getItemProp(t,"badge"))}}function s(n,e){1&n&&u.nrm(0,"AngleDownIcon",25),2&n&&(u.Y8G("styleClass","p-submenu-icon"),u.BMQ("data-pc-section","submenuicon"))}function a(n,e){1&n&&u.nrm(0,"AngleRightIcon",25),2&n&&(u.Y8G("styleClass","p-submenu-icon"),u.BMQ("data-pc-section","submenuicon"))}function l(n,e){if(1&n&&(u.qex(0),u.DNE(1,s,1,2,"AngleDownIcon",24)(2,a,1,2,"AngleRightIcon",24),u.bVm()),2&n){const t=u.XpG(6);u.R7$(),u.Y8G("ngIf",t.root),u.R7$(),u.Y8G("ngIf",!t.root)}}function d(n,e){}function f(n,e){1&n&&u.DNE(0,d,0,0,"ng-template",26),2&n&&u.Y8G("data-pc-section","submenuicon")}function _(n,e){if(1&n&&(u.qex(0),u.DNE(1,l,3,2,"ng-container",11)(2,f,1,1,null,23),u.bVm()),2&n){u.XpG(5);const t=u.sdS(1);u.R7$(),u.Y8G("ngIf",!t.submenuIconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.submenuIconTemplate)}}function y(n,e){if(1&n&&(u.j41(0,"a",27),u.DNE(1,TO,1,4,"span",16)(2,GP,2,1,"span",28)(3,wO,1,2,"ng-template",null,3,u.C5r)(5,r,2,2,"span",18)(6,_,3,2,"ng-container",11),u.k0s()),2&n){const t=u.sdS(4),i=u.XpG(3).$implicit,o=u.XpG();u.Y8G("routerLink",o.getItemProp(i,"routerLink"))("queryParams",o.getItemProp(i,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",o.getItemProp(i,"routerLinkActiveOptions")||u.lJ4(20,_O))("target",o.getItemProp(i,"target"))("ngClass",u.eq3(21,FP,o.getItemProp(i,"disabled")))("fragment",o.getItemProp(i,"fragment"))("queryParamsHandling",o.getItemProp(i,"queryParamsHandling"))("preserveFragment",o.getItemProp(i,"preserveFragment"))("skipLocationChange",o.getItemProp(i,"skipLocationChange"))("replaceUrl",o.getItemProp(i,"replaceUrl"))("state",o.getItemProp(i,"state")),u.BMQ("data-automationid",o.getItemProp(i,"automationId"))("tabindex",-1)("data-pc-section","action"),u.R7$(),u.Y8G("ngIf",o.getItemProp(i,"icon")),u.R7$(),u.Y8G("ngIf",o.getItemProp(i,"escape"))("ngIfElse",t),u.R7$(3),u.Y8G("ngIf",o.getItemProp(i,"badge")),u.R7$(),u.Y8G("ngIf",o.isItemGroup(i))}}function w(n,e){if(1&n&&(u.qex(0),u.DNE(1,QD,7,13,"a",13)(2,y,7,23,"a",14),u.bVm()),2&n){const t=u.XpG(2).$implicit,i=u.XpG();u.R7$(),u.Y8G("ngIf",!i.getItemProp(t,"routerLink")),u.R7$(),u.Y8G("ngIf",i.getItemProp(t,"routerLink"))}}function M(n,e){}function F(n,e){1&n&&u.DNE(0,M,0,0,"ng-template")}function W(n,e){if(1&n&&(u.qex(0),u.DNE(1,F,1,0,null,31),u.bVm()),2&n){const t=u.XpG(2).$implicit,i=u.XpG();u.R7$(),u.Y8G("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",u.l_i(2,yO,t.item,i.root))}}function te(n,e){if(1&n){const t=u.RV6();u.j41(0,"p-menubarSub",32),u.bIt("itemClick",function(o){u.eBV(t);const c=u.XpG(3);return u.Njj(c.itemClick.emit(o))})("itemMouseEnter",function(o){u.eBV(t);const c=u.XpG(3);return u.Njj(c.onItemMouseEnter(o))}),u.k0s()}if(2&n){const t=u.XpG(2).$implicit,i=u.XpG();u.Y8G("itemTemplate",i.itemTemplate)("items",t.items)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("menuId",i.menuId)("activeItemPath",i.activeItemPath)("focusedItemId",i.focusedItemId)("level",i.level+1)("ariaLabelledBy",i.getItemLabelId(t))}}function oe(n,e){if(1&n){const t=u.RV6();u.j41(0,"li",9,1)(2,"div",10),u.bIt("click",function(o){u.eBV(t);const c=u.XpG().$implicit,h=u.XpG();return u.Njj(h.onItemClick(o,c))})("mouseenter",function(o){u.eBV(t);const c=u.XpG().$implicit,h=u.XpG();return u.Njj(h.onItemMouseEnter({$event:o,processedItem:c}))}),u.DNE(3,w,3,2,"ng-container",11)(4,W,2,5,"ng-container",11),u.k0s(),u.DNE(5,te,1,9,"p-menubarSub",12),u.k0s()}if(2&n){const t=u.XpG(),i=t.$implicit,o=t.index,c=u.XpG();u.HbH(c.getItemProp(i,"styleClass")),u.Y8G("ngStyle",c.getItemProp(i,"style"))("ngClass",c.getItemClass(i))("tooltipOptions",c.getItemProp(i,"tooltipOptions")),u.BMQ("id",c.getItemId(i))("data-pc-section","menuitem")("data-p-highlight",c.isItemActive(i))("data-p-focused",c.isItemFocused(i))("data-p-disabled",c.isItemDisabled(i))("aria-label",c.getItemLabel(i))("aria-disabled",c.isItemDisabled(i)||void 0)("aria-haspopup",c.isItemGroup(i)&&!c.getItemProp(i,"to")?"menu":void 0)("aria-expanded",c.isItemGroup(i)?c.isItemActive(i):void 0)("aria-level",c.level+1)("aria-setsize",c.getAriaSetSize())("aria-posinset",c.getAriaPosInset(o)),u.R7$(2),u.BMQ("data-pc-section","content"),u.R7$(),u.Y8G("ngIf",!c.itemTemplate),u.R7$(),u.Y8G("ngIf",c.itemTemplate),u.R7$(),u.Y8G("ngIf",c.isItemVisible(i)&&c.isItemGroup(i))}}function ge(n,e){if(1&n&&u.DNE(0,VP,1,4,"li",6)(1,oe,6,21,"li",7),2&n){const t=e.$implicit,i=u.XpG();u.Y8G("ngIf",i.isItemVisible(t)&&i.getItemProp(t,"separator")),u.R7$(),u.Y8G("ngIf",i.isItemVisible(t)&&!i.getItemProp(t,"separator"))}}const ke=["menubutton"],it=["rootmenu"],ut=["*"],We=n=>({"p-menubar p-component":!0,"p-menubar-mobile-active":n});function Jt(n,e){1&n&&u.eu8(0)}function Kn(n,e){if(1&n&&(u.j41(0,"div",8),u.DNE(1,Jt,1,0,"ng-container",9),u.k0s()),2&n){const t=u.XpG();u.R7$(),u.Y8G("ngTemplateOutlet",t.startTemplate)}}function Pr(n,e){1&n&&u.nrm(0,"BarsIcon")}function Ji(n,e){}function Io(n,e){1&n&&u.DNE(0,Ji,0,0,"ng-template")}function zf(n,e){if(1&n){const t=u.RV6();u.j41(0,"a",10,2),u.bIt("click",function(o){u.eBV(t);const c=u.XpG();return u.Njj(c.menuButtonClick(o))})("keydown",function(o){u.eBV(t);const c=u.XpG();return u.Njj(c.menuButtonKeydown(o))}),u.DNE(2,Pr,1,0,"BarsIcon",11)(3,Io,1,0,null,9),u.k0s()}if(2&n){const t=u.XpG();u.BMQ("aria-haspopup",!!(t.model.length&&t.model.length>0))("aria-expanded",t.mobileActive)("aria-controls",t.id)("aria-label",t.config.translation.aria.navigation)("data-pc-section","button"),u.R7$(2),u.Y8G("ngIf",!t.menuIconTemplate),u.R7$(),u.Y8G("ngTemplateOutlet",t.menuIconTemplate)}}function XD(n,e){1&n&&u.eu8(0)}function WP(n,e){if(1&n&&(u.j41(0,"div",12),u.DNE(1,XD,1,0,"ng-container",9),u.k0s()),2&n){const t=u.XpG();u.R7$(),u.Y8G("ngTemplateOutlet",t.endTemplate)}}function _N(n,e){1&n&&(u.j41(0,"div",12),u.SdG(1),u.k0s())}let KP=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new Hn.B;mouseLeft$=this.mouseLeaves.pipe(function kP(n){return(0,qd.N)((e,t)=>{let i=!1,o=null,c=null;const h=()=>{if(c?.unsubscribe(),c=null,i){i=!1;const g=o;o=null,t.next(g)}};e.subscribe((0,Jy._)(t,g=>{c?.unsubscribe(),i=!0,o=g,c=(0,Jy._)(t,h,NP.l),(0,ev.Tg)(n(g)).subscribe(c)},()=>{h(),t.complete()},void 0,()=>{o=c=null}))})}(()=>function OP(n=0,e=un){return n<0&&(n=0),function xP(n=0,e,t=En){let i=-1;return null!=e&&((0,KD.m)(e)?t=e:i=e),new Qe.c(o=>{let c=function qD(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let h=0;return t.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},c)})}(n,n,e)}(this.autoHideDelay)),(0,Hg.p)(t=>this.autoHide&&t));static \u0275fac=function(i){return new(i||n)};static \u0275prov=u.jDH({token:n,factory:n.\u0275fac})}return n})(),yN=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;submenuIconTemplate;itemClick=new u.bkB;itemMouseEnter=new u.bkB;menuFocus=new u.bkB;menuBlur=new u.bkB;menuKeydown=new u.bkB;menubarViewChild;mouseLeaveSubscriber;constructor(t,i,o,c){this.el=t,this.renderer=i,this.cd=o,this.menubarService=c}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,i){this.getItemProp(i,"command",{originalEvent:t,item:i.item}),this.itemClick.emit({originalEvent:t,processedItem:i,isFocus:!0})}getItemProp(t,i,o=null){return t&&t.item?_r.getItemValue(t.item[i],o):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemLabelId(t){return`${this.menuId}_${t.key}_label`}getItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)}}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem-separator":!0}}isItemVisible(t){return!1!==this.getItemProp(t,"visible")}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(i=>i.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return _r.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(i=>this.isItemVisible(i)&&this.getItemProp(i,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);const{event:i,processedItem:o}=t;this.itemMouseEnter.emit({originalEvent:i,processedItem:o})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(i){return new(i||n)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(KP))};static \u0275cmp=u.VBU({type:n,selectors:[["p-menubarSub"]],viewQuery:function(i,o){if(1&i&&u.GBs(LP,7),2&i){let c;u.mGM(c=u.lsd())&&(o.menubarViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[u.Mj6.HasDecoratorInputTransform,"root","root",u.L39],autoZIndex:[u.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",u.L39],baseZIndex:[u.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",u.Udg],mobileActive:[u.Mj6.HasDecoratorInputTransform,"mobileActive","mobileActive",u.L39],autoDisplay:[u.Mj6.HasDecoratorInputTransform,"autoDisplay","autoDisplay",u.L39],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[u.Mj6.HasDecoratorInputTransform,"level","level",u.Udg],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",submenuIconTemplate:"submenuIconTemplate"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[u.GFd],decls:3,vars:11,consts:[["menubar",""],["listItem",""],["htmlLabel",""],["htmlRouteLabel",""],["role","menubar",3,"focus","blur","keydown","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",3,"id",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text",3,"id"],[1,"p-menuitem-text",3,"innerHTML","id"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"data-pc-section"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","ariaLabelledBy"]],template:function(i,o){if(1&i){const c=u.RV6();u.j41(0,"ul",4,0),u.bIt("focus",function(g){return u.eBV(c),u.Njj(o.menuFocus.emit(g))})("blur",function(g){return u.eBV(c),u.Njj(o.menuBlur.emit(g))})("keydown",function(g){return u.eBV(c),u.Njj(o.menuKeydown.emit(g))}),u.DNE(2,ge,2,2,"ng-template",5),u.k0s()}2&i&&(u.Y8G("ngClass",u.l_i(8,mO,!o.root,o.root))("tabindex",0),u.BMQ("data-pc-section","menu")("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("id",o.root?o.menuId:null)("aria-activedescendant",o.focusedItemId),u.R7$(2),u.Y8G("ngForOf",o.items))},dependencies:()=>[nt.YU,nt.Sq,nt.bT,nt.T3,nt.B3,U.Wk,U.wQ,hs,vi,MP,WD,n],encapsulation:2})}return n})(),vN=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new u.bkB;onBlur=new u.bkB;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=(0,u.vPA)([]);number=(0,u.vPA)(0);focusedItemInfo=(0,u.vPA)({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){const t=this.activeItemPath().find(i=>i.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const t=this.focusedItemInfo();return t.item&&t.item?.id?t.item.id:-1!==t.index?`${this.id}${_r.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,i,o,c,h,g,v){this.document=t,this.platformId=i,this.el=o,this.renderer=c,this.cd=h,this.config=g,this.menubarService=v,(0,u.QZP)(()=>{const D=this.activeItemPath();_r.isNotEmpty(D)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||di()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;default:this.itemTemplate=t.template}})}createProcessedItems(t,i=0,o={},c=""){const h=[];return t&&t.forEach((g,v)=>{const D=(""!==c?c+"_":"")+v,x={item:g,index:v,level:i,key:D,parent:o,parentKey:c};x.items=this.createProcessedItems(g.items,i+1,x,D),h.push(x)}),h}getItemProp(t,i){return t?_r.getItemValue(t[i]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){("Enter"===t.code||"Space"===t.code)&&this.menuButtonClick(t)}onItemClick(t){const{originalEvent:i,processedItem:o}=t,c=this.isProcessedItemGroup(o),h=_r.isEmpty(o.parent);if(this.isSelected(o)){const{index:v,key:D,level:x,parentKey:L,item:Q}=o;this.activeItemPath.set(this.activeItemPath().filter(J=>D!==J.key&&D.startsWith(J.key))),this.focusedItemInfo.set({index:v,level:x,parentKey:L,item:Q}),this.dirty=!h,Ne.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(c)this.onItemChange(t);else{const v=h?o:this.activeItemPath().find(D=>""===D.parentKey);this.hide(i),this.changeFocusedItemIndex(i,v?v.index:-1),this.mobileActive=!1,Ne.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){Ne.isTouchDevice()||this.mobileActive||this.onItemChange(t)}changeFocusedItemIndex(t,i){const o=this.findVisibleItem(i);if(this.focusedItemInfo().index!==i){const c=this.focusedItemInfo();this.focusedItemInfo.set({...c,item:o.item,index:i}),this.scrollInView()}}scrollInView(t=-1){const o=Ne.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==t?`${this.id}_${t}`:this.focusedItemId}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){const{processedItem:i,isFocus:o}=t;if(_r.isEmpty(i))return;const{index:c,key:h,level:g,parentKey:v,items:D,item:x}=i,L=_r.isNotEmpty(D),Q=this.activeItemPath().filter(J=>J.parentKey!==v&&J.parentKey!==h);L&&Q.push(i),this.focusedItemInfo.set({index:c,level:g,parentKey:v,item:x}),this.activeItemPath.set(Q),L&&(this.dirty=!0),o&&Ne.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,Ci.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,Ci.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,i){this.mobileActive&&setTimeout(()=>{Ne.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),i&&Ne.focus(this.rootmenu?.menubarViewChild.nativeElement),this.dirty=!1}show(){const t=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t?.item}),Ne.focus(this.rootmenu?.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;const i=this.findVisibleItem(this.findFirstFocusedItemIndex()),o=-1!==this.focusedItemInfo().index?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:i?.item};this.focusedItemInfo.set(o),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){const i=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!i&&_r.isPrintableCharacter(t.key)&&this.searchItems(t,t.key)}}findVisibleItem(t){return _r.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findFirstFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&_r.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(i=>i.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&_r.isNotEmpty(t.items)}searchItems(t,i){this.searchValue=(this.searchValue||"")+i;let o=-1,c=!1;return-1!==this.focusedItemInfo().index?(o=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(h=>this.isItemMatched(h)),o=-1===o?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(h=>this.isItemMatched(h)):o+this.focusedItemInfo().index):o=this.visibleItems.findIndex(h=>this.isItemMatched(h)),-1!==o&&(c=!0),-1===o&&-1===this.focusedItemInfo().index&&(o=this.findFirstFocusedItemIndex()),-1!==o&&this.changeFocusedItemIndex(t,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),c}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){const i=this.visibleItems[this.focusedItemInfo().index];if(i&&_r.isEmpty(i.parent))this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowRightKey(t));else{const c=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,c),t.preventDefault()}}onArrowRightKey(t){const i=this.visibleItems[this.focusedItemInfo().index];if(i&&this.activeItemPath().find(c=>c.key===i.parentKey))this.isProccessedItemGroup(i)&&(this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item}),this.onArrowDownKey(t));else{const c=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,c),t.preventDefault()}}onArrowUpKey(t){const i=this.visibleItems[this.focusedItemInfo().index];if(_r.isEmpty(i.parent)){if(this.isProccessedItemGroup(i)){this.onItemChange({originalEvent:t,processedItem:i}),this.focusedItemInfo.set({index:-1,parentKey:i.key,item:i.item});const h=this.findLastItemIndex();this.changeFocusedItemIndex(t,h)}}else{const c=this.activeItemPath().find(h=>h.key===i.parentKey);if(0===this.focusedItemInfo().index){this.focusedItemInfo.set({index:-1,parentKey:c?c.parentKey:"",item:i.item}),this.searchValue="",this.onArrowLeftKey(t);const h=this.activeItemPath().filter(g=>g.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(h)}else{const h=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,h)}}t.preventDefault()}onArrowLeftKey(t){const i=this.visibleItems[this.focusedItemInfo().index],o=i?this.activeItemPath().find(c=>c.key===i.parentKey):null;if(o){this.onItemChange({originalEvent:t,processedItem:o});const c=this.activeItemPath().filter(h=>h.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(c),t.preventDefault()}else{const c=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,c),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(-1!==this.focusedItemInfo().index){const i=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(i)&&this.onItemChange({originalEvent:t,processedItem:i})}this.hide()}onEnterKey(t){if(-1!==this.focusedItemInfo().index){const i=Ne.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),o=i&&Ne.findSingle(i,'a[data-pc-section="action"]');o?o.click():i&&i.click()}t.preventDefault()}findLastFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return _r.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){const i=t>0?_r.findLastIndex(this.visibleItems.slice(0,t),o=>this.isValidItem(o)):-1;return i>-1?i:t}findNextItemIndex(t){const i=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(o=>this.isValidItem(o)):-1;return i>-1?i+t+1:t}bindResizeListener(){(0,nt.UE)(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{Ne.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){(0,nt.UE)(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{const i=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),o=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);i&&(o?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(i){return new(i||n)(u.rXU(nt.qQ),u.rXU(u.Agw),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(Xr),u.rXU(KP))};static \u0275cmp=u.VBU({type:n,selectors:[["p-menubar"]],contentQueries:function(i,o,c){if(1&i&&u.wni(c,ki,4),2&i){let h;u.mGM(h=u.lsd())&&(o.templates=h)}},viewQuery:function(i,o){if(1&i&&(u.GBs(ke,5),u.GBs(it,5)),2&i){let c;u.mGM(c=u.lsd())&&(o.menubutton=c.first),u.mGM(c=u.lsd())&&(o.rootmenu=c.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:[u.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",u.L39],baseZIndex:[u.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",u.Udg],autoDisplay:[u.Mj6.HasDecoratorInputTransform,"autoDisplay","autoDisplay",u.L39],autoHide:[u.Mj6.HasDecoratorInputTransform,"autoHide","autoHide",u.L39],autoHideDelay:[u.Mj6.HasDecoratorInputTransform,"autoHideDelay","autoHideDelay",u.Udg],id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[u.Jv_([KP]),u.GFd],ngContentSelectors:ut,decls:8,vars:25,consts:[["rootmenu",""],["legacy",""],["menubutton",""],[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","submenuIconTemplate","activeItemPath"],["class","p-menubar-end",4,"ngIf","ngIfElse"],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],[4,"ngIf"],[1,"p-menubar-end"]],template:function(i,o){if(1&i){const c=u.RV6();u.NAR(),u.j41(0,"div",3),u.DNE(1,Kn,2,1,"div",4)(2,zf,4,7,"a",5),u.j41(3,"p-menubarSub",6,0),u.bIt("itemClick",function(g){return u.eBV(c),u.Njj(o.onItemClick(g))})("menuFocus",function(g){return u.eBV(c),u.Njj(o.onMenuFocus(g))})("menuBlur",function(g){return u.eBV(c),u.Njj(o.onMenuBlur(g))})("menuKeydown",function(g){return u.eBV(c),u.Njj(o.onKeyDown(g))})("itemMouseEnter",function(g){return u.eBV(c),u.Njj(o.onItemMouseEnter(g))}),u.k0s(),u.DNE(5,WP,2,1,"div",7)(6,_N,2,0,"ng-template",null,1,u.C5r),u.k0s()}if(2&i){const c=u.sdS(7);u.HbH(o.styleClass),u.Y8G("ngClass",u.eq3(23,We,o.mobileActive))("ngStyle",o.style),u.BMQ("data-pc-section","root")("data-pc-name","menubar"),u.R7$(),u.Y8G("ngIf",o.startTemplate),u.R7$(),u.Y8G("ngIf",o.model&&o.model.length>0),u.R7$(),u.Y8G("items",o.processedItems)("itemTemplate",o.itemTemplate)("menuId",o.id)("root",!0)("baseZIndex",o.baseZIndex)("autoZIndex",o.autoZIndex)("mobileActive",o.mobileActive)("autoDisplay",o.autoDisplay)("ariaLabel",o.ariaLabel)("ariaLabelledBy",o.ariaLabelledBy)("focusedItemId",o.focused?o.focusedItemId:void 0)("submenuIconTemplate",o.submenuIconTemplate)("activeItemPath",o.activeItemPath()),u.R7$(2),u.Y8G("ngIf",o.endTemplate)("ngIfElse",c)}},dependencies:()=>[nt.YU,nt.bT,nt.T3,nt.B3,Xg,yN],styles:["@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}\n"],encapsulation:2,changeDetection:0})}return n})(),IN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD,U.iI,Lo,Fo,uo,Xg,MP,WD,U.iI,Fo,uo]})}return n})(),TN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD]})}return n})();const wN=()=>({position:"fixed",zIndex:"1000",width:"100%"});function CN(n,e){1&n&&(u.j41(0,"a",3),u.nrm(1,"img",4),u.k0s())}function DN(n,e){if(1&n&&(u.j41(0,"a",5)(1,"span"),u.EFF(2),u.k0s()()),2&n){const t=u.XpG().$implicit;u.Y8G("routerLink",t.routerLink),u.R7$(2),u.JRh(t.label)}}function AN(n,e){if(1&n&&(u.j41(0,"a",6)(1,"span"),u.EFF(2),u.k0s()()),2&n){const t=u.XpG().$implicit;u.Y8G("href",t.externalLink,u.B4B),u.R7$(2),u.JRh(t.label)}}function SN(n,e){if(1&n&&u.DNE(0,DN,3,2,"a",5)(1,AN,3,2,"a",6),2&n){const t=e.$implicit;u.vxM(0,t.routerLink?0:-1),u.R7$(),u.vxM(1,t.externalLink?1:-1)}}let RN=(()=>{class n{ngOnInit(){this.items=[{label:"Le tratte",routerLink:"tratte"},{label:"Chi sono",routerLink:"chisono"},{label:"RFI",externalLink:"https://www.rfi.it/it.html"},{label:"Spotify",externalLink:"https://open.spotify.com/intl-it"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-navbar"]],standalone:!0,features:[u.aNF],decls:3,vars:4,consts:[[3,"model"],["pTemplate","start"],["pTemplate","item"],["routerLink","home",1,"pr-2"],["src","assets/nuovologocompatto.png","alt","Logo","height","30",1,"d-inline-block","align-text-top"],["pRipple","",1,"flex","align-items-center","p-menuitem-link",3,"routerLink"],["pRipple","","target","_blank",1,"flex","align-items-center","p-menuitem-link",3,"href"]],template:function(i,o){1&i&&(u.j41(0,"p-menubar",0),u.DNE(1,CN,2,0,"ng-template",1)(2,SN,2,2,"ng-template",2),u.k0s()),2&i&&(u.Aen(u.lJ4(3,wN)),u.Y8G("model",o.items))},dependencies:[U.Wk,IN,vN,ki,TN],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";[_nghost-%COMP%]     .p-menubar{background:#2b3035;border-color:#2b3035;border-radius:0;font-family:Merienda,cursive;font-size:16px}[_nghost-%COMP%]     .p-menubar .p-menubar-root-list>.p-menuitem>.p-menuitem-content .p-menuitem-link{color:#ffffff8c;font-weight:500}[_nghost-%COMP%]     .p-menubar .p-menubar-root-list>.p-menuitem:not(.p-highlight):not(.p-disabled)>.p-menuitem-content:hover{background:#ffffff50!important;color:#2b3035!important}[_nghost-%COMP%]     .p-menubar .p-menuitem:not(.p-highlight):not(.p-disabled).p-focus>.p-menuitem-content{background:#ffffff50!important;color:#2b3035!important}[_nghost-%COMP%]     .p-menubar .p-menubar-button:hover{background:#ffffff50!important;color:#2b3035!important}[_nghost-%COMP%]     .p-menubar .p-menubar-button:focus{box-shadow:0 0 0 .2rem #2b3035}[_nghost-%COMP%]     .p-menubar .p-menubar-root-list{background:#2b3035cc;color:#2b3035}']})}return n})(),PN=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({imports:[nt.MD]})}return n})();const MN=()=>({width:"50vw"}),xN=()=>({"1199px":"75vw","575px":"90vw"});let ON=(()=>{class n{constructor(){this.visible=!1}showDialog(){this.visible=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-disclaimer-dialog"]],standalone:!0,features:[u.aNF],decls:4,vars:9,consts:[["icon","pi pi-info-circle",3,"onClick"],["header","Disclaimer",3,"visibleChange","visible","modal","breakpoints","draggable","resizable"]],template:function(i,o){1&i&&(u.j41(0,"p-button",0),u.bIt("onClick",function(){return o.showDialog()}),u.k0s(),u.j41(1,"p-dialog",1),u.mxI("visibleChange",function(h){return u.DH7(o.visible,h)||(o.visible=h),h}),u.j41(2,"p"),u.EFF(3," SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti. "),u.k0s()()),2&i&&(u.R7$(),u.Aen(u.lJ4(7,MN)),u.R50("visible",o.visible),u.Y8G("modal",!0)("breakpoints",u.lJ4(8,xN))("draggable",!1)("resizable",!1))},dependencies:[NE,OE,jf,$y,PN],styles:["[_nghost-%COMP%]     .p-button.p-button-icon-only{background-color:transparent;border-color:transparent}"]})}return n})(),NN=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-footer"]],standalone:!0,features:[u.aNF],decls:64,vars:0,consts:[["rel","stylesheet","href",u.wXG`https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200`],[1,"layout"],[1,"footer-wrapper","clearfix"],[1,"grid-3","footer-logo"],["href","#"],["alt","html layout logo","src","assets/logo.png"],[1,"footer-text"],[1,"grid-3"],[1,"footer-heading"],[1,"footermenu"],["routerLink","tratte"],["routerLink","chisono"],["href","https://www.rfi.it/it.html","target","_blank"],["href","https://open.spotify.com/intl-it","target","_blank"],[1,"footer-contact"],["href","./tratte/PalermoMessina"],["href","./tratte/AnelloPalermo"],["href","./tratte/AgrigentoPalermo"],["href","./tratte/SiracusaCaltanissetta"],["href","./tratte/CataniaGela"],[1,"footerblog"],["href","https://www.fsitaliane.it/content/dam/fsitaliane/Documents/impegno/per-lambiente/progetti/Atlante%20delle%20linee%20ferroviarie%20dismesse.pdf","target","_blank"],["href","http://condivisionext.rfi.it/QuadroRiferimento/Docs/utilities/RCT.pdf","target","_blank"],["href","https://www.rfi.it/it/chi-siamo/Il-rapporto-con-lo-Stato-e-con-gli-stakeholder/il-piano-commerciale.html","target","_blank"]],template:function(i,o){1&i&&(u.nrm(0,"link",0),u.j41(1,"footer")(2,"div",1)(3,"div",2)(4,"div",3)(5,"a",4),u.nrm(6,"img",5),u.k0s(),u.j41(7,"p",6),u.EFF(8," SpotiRFI: Un viaggio musicale unico attraverso le linee ferroviarie della Sicilia. Ogni stazione, una nuova canzone. "),u.k0s(),u.nrm(9,"app-disclaimer-dialog"),u.k0s(),u.j41(10,"div",7)(11,"p",8),u.EFF(12,"pagine"),u.k0s(),u.j41(13,"ul",9)(14,"li")(15,"a",10),u.EFF(16,"Le tratte"),u.k0s()(),u.j41(17,"li")(18,"a",11),u.EFF(19,"Chi sono"),u.k0s()(),u.j41(20,"li")(21,"a",12),u.EFF(22,"RFI"),u.k0s()(),u.j41(23,"li")(24,"a",13),u.EFF(25,"Spotify"),u.k0s()()()(),u.j41(26,"div",7)(27,"p",8),u.EFF(28,"link"),u.k0s(),u.j41(29,"ul",14)(30,"li")(31,"a",15),u.EFF(32,"Palermo - Messina"),u.k0s()(),u.j41(33,"li")(34,"a",16),u.EFF(35,"Anello Ferroviario Palermo"),u.k0s()(),u.j41(36,"li")(37,"a",17),u.EFF(38,"Agrigento - Palermo"),u.k0s()(),u.j41(39,"li")(40,"a",18),u.EFF(41,"Siracusa - Caltanissetta"),u.k0s()(),u.j41(42,"li")(43,"a",19),u.EFF(44,"Catania - Gela"),u.k0s()()()(),u.j41(45,"div",7)(46,"p",8),u.EFF(47,"link utili"),u.k0s(),u.j41(48,"ul",20)(49,"li")(50,"a",21),u.EFF(51,"Linee dismesse"),u.k0s(),u.j41(52,"p"),u.EFF(53,"FS Italiane"),u.k0s()(),u.j41(54,"li")(55,"a",22),u.EFF(56,"Regolamento Circolazione Treni"),u.k0s(),u.j41(57,"p"),u.EFF(58,"RFI"),u.k0s()(),u.j41(59,"li")(60,"a",23),u.EFF(61,"Piano Commerciale"),u.k0s(),u.j41(62,"p"),u.EFF(63,"RFI"),u.k0s()()()()()()())},dependencies:[U.Wk,ON],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%]{list-style:none;text-decoration:none;margin:0}img[_ngcontent-%COMP%]{height:3.7em}html[_ngcontent-%COMP%]{overflow-y:scroll}body[_ngcontent-%COMP%]{background:#b7b7b7 none repeat scroll 0 0;font-family:Open Sans,sans-serif}ul[_ngcontent-%COMP%]{padding:0}.clearfix[_ngcontent-%COMP%]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.clearfix[_ngcontent-%COMP%]{display:inline-block}*[_ngcontent-%COMP%]   html[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{height:1%}.clearfix[_ngcontent-%COMP%]{display:block}.layout[_ngcontent-%COMP%]{margin:0 auto;max-width:1170px;width:100%;padding:0 15px}.grid-3[_ngcontent-%COMP%]{width:25%;float:left;min-height:1px;padding-left:15px;padding-right:15px;position:relative}.footer-wrapper[_ngcontent-%COMP%]{padding:100px 0}.footer-text[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;margin:40px 0 0;text-align:justify}footer[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{color:#e1e1e1;font:18px/19px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]{margin-top:32px}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{line-height:25px}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"-";margin:0 5px 0 0}.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;line-height:34px;text-transform:capitalize}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:0 8px 0 0;color:#fff}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c7c7c7;font:13px/28px Open Sans,sans-serif;letter-spacing:1.2px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b4b4b4;font:13px/18px Open Sans,sans-serif;letter-spacing:1.2px;padding-bottom:10px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c7c7c7;font:italic 12px/18px Open Sans,sans-serif}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#22c489}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 200,"GRAD" 200,"opsz" 24;color:#fff}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin:1em}@media (max-width:980px){.layout[_ngcontent-%COMP%]{width:767px}.grid-3[_ngcontent-%COMP%]{width:50%}.footer-heading[_ngcontent-%COMP%]{margin-top:18px}}@media (max-width:640px){.layout[_ngcontent-%COMP%]{width:300px}.grid-3[_ngcontent-%COMP%]{width:100%}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;float:none;line-height:25px}}footer[_ngcontent-%COMP%]{background:#2b3035}']})}return n})();var XE=H(3345);XE.A.registerVersion("firebase","10.11.1","app-compat");const FN=["ngOnDestroy"];class CO{constructor(e){return e}}const qP=new u.nKC("angularfire2.app.options"),QP=new u.nKC("angularfire2.app.name");function XP(n,e,t){const o="object"==typeof t&&t||{};o.name=o.name||"string"==typeof t&&t||"[DEFAULT]";const h=XE.A.apps.filter(g=>g&&g.name===o.name)[0]||e.runOutsideAngular(()=>XE.A.initializeApp(n,o));try{if(JSON.stringify(n)!==JSON.stringify(h.options)){const g=!!module.hot;BN("error",`${h.name} Firebase App already initialized with different options${g?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new CO(h)}const BN=(n,...e)=>{(0,u.naY)()&&typeof console<"u"&&console[n](...e)};function DO(n,e,t,i,o){const[,c,h]=globalThis.\u0275AngularfireInstanceCache.find(g=>g[0]===n)||[];if(c)return function jN(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(o,h)||(AO("error",`${e} was already initialized on the ${t} Firebase App with different settings.${$N?" You may need to reload as Firebase is not HMR aware.":""}`),AO("warn",{is:o,was:h})),c;{const g=i();return globalThis.\u0275AngularfireInstanceCache.push([n,g,o]),g}}const $N=typeof module<"u"&&!!module.hot,AO=(n,...e)=>{(0,u.naY)()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[],H(2438);var HN=H(6365),zN=H(983),SO=H(9326);class WN extends Hn.B{constructor(e=1/0,t=1/0,i=Ze){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:h}=this;t||(i.push(e),!o&&i.push(c.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:o}=this,c=o.slice();for(let h=0;h<c.length&&!e.closed;h+=i?1:2)e.next(c[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<i.length&&i.splice(0,i.length-c),!o){const h=t.now();let g=0;for(let v=1;v<i.length&&i[v]<=h;v+=2)g=v;g&&i.splice(0,g+1)}}}var RO=H(7707);function YP(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new RO.Ms({next:()=>{i.unsubscribe(),n()}});return(0,ev.Tg)(e(...t)).subscribe(i)}function PO(n,e,t){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):i=n??1/0,function KN(n={}){const{connector:e=(()=>new Hn.B),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=n;return c=>{let h,g,v,D=0,x=!1,L=!1;const Q=()=>{g?.unsubscribe(),g=void 0},J=()=>{Q(),h=v=void 0,x=L=!1},ue=()=>{const fe=h;J(),fe?.unsubscribe()};return(0,qd.N)((fe,De)=>{D++,!L&&!x&&Q();const tt=v=v??e();De.add(()=>{D--,0===D&&!L&&!x&&(g=YP(ue,o))}),tt.subscribe(De),!h&&D>0&&(h=new RO.Ms({next:pt=>tt.next(pt),error:pt=>{L=!0,Q(),g=YP(J,t,pt),tt.error(pt)},complete:()=>{x=!0,Q(),g=YP(J,i),tt.complete()}}),(0,ev.Tg)(fe).subscribe(h))})(c)}}({connector:()=>new WN(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var qN=H(1594),QN=H(8071);function MO(n,e){return(0,QN.T)(e)?(0,Ha.n)(()=>n,e):(0,Ha.n)(()=>n)}const xO=new u.nKC("angularfire2.auth.use-emulator"),OO=new u.nKC("angularfire2.auth.settings"),NO=new u.nKC("angularfire2.auth.tenant-id"),kO=new u.nKC("angularfire2.auth.langugage-code"),LO=new u.nKC("angularfire2.auth.use-device-language"),FO=new u.nKC("angularfire.auth.persistence"),VO=(n,e,t,i,o,c,h,g)=>DO(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=o,c&&v.useDeviceLanguage(),h)for(const[D,x]of Object.entries(h))v.settings[D]=x;return g&&v.setPersistence(g),v},[t,i,o,c,h,g]);let UO=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,o,c,h,g,v,D,x,L,Q,J){const ue=new Hn.B,fe=(0,Sc.of)(void 0).pipe((0,rt.Q)(h.outsideAngular),(0,Ha.n)(()=>c.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,2438)))),(0,Ui.T)(()=>XP(t,c,i)),(0,Ui.T)(De=>VO(De,c,g,D,x,L,v,Q)),PO({bufferSize:1,refCount:!1}));if((0,nt.Vy)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Sc.of)(null);else{fe.pipe((0,qN.$)()).subscribe();const De=fe.pipe((0,Ha.n)(qe=>qe.getRedirectResult().then(yt=>yt,()=>null)),Se,PO({bufferSize:1,refCount:!1})),tt=fe.pipe((0,Ha.n)(qe=>new Qe.c(yt=>({unsubscribe:c.runOutsideAngular(()=>qe.onAuthStateChanged(tn=>yt.next(tn),tn=>yt.error(tn),()=>yt.complete()))})))),pt=fe.pipe((0,Ha.n)(qe=>new Qe.c(yt=>({unsubscribe:c.runOutsideAngular(()=>qe.onIdTokenChanged(tn=>yt.next(tn),tn=>yt.error(tn),()=>yt.complete()))}))));this.authState=De.pipe(MO(tt),(0,Je._)(h.outsideAngular),(0,rt.Q)(h.insideAngular)),this.user=De.pipe(MO(pt),(0,Je._)(h.outsideAngular),(0,rt.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,Ha.n)(qe=>qe?(0,Bl.H)(qe.getIdToken()):(0,Sc.of)(null))),this.idTokenResult=this.user.pipe((0,Ha.n)(qe=>qe?(0,Bl.H)(qe.getIdTokenResult()):(0,Sc.of)(null))),this.credential=function GN(...n){const e=(0,SO.lI)(n),t=(0,SO.R0)(n,1/0),i=n;return i.length?1===i.length?(0,ev.Tg)(i[0]):(0,HN.U)(t)((0,Bl.H)(i,e)):zN.w}(De,ue,this.authState.pipe((0,Hg.p)(qe=>!qe))).pipe((0,Ui.T)(qe=>qe?.user?qe:null),(0,Je._)(h.outsideAngular),(0,rt.Q)(h.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(o,c)=>t.runOutsideAngular(()=>{if(n[c])return i?.spy?.get&&i.spy.get(c,n[c]),n[c];if(FN.indexOf(c)>-1)return()=>{};const h=e.toPromise().then(g=>{const v=g?.[c];return"function"==typeof v?v.bind(g):v?.then?v.then(D=>t.run(()=>D)):t.run(()=>v)});return new Proxy(()=>{},{get:(g,v)=>h[v],apply:(g,v,D)=>h.then(x=>{const L=x?.(...D);return i?.spy?.apply&&i.spy.apply(c,D,L),L})})})}))(this,fe,c,{spy:{apply:(De,tt,pt)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&pt.then(qe=>ue.next(qe))}}})}static \u0275fac=function(i){return new(i||n)(u.KVO(qP),u.KVO(QP,8),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(oi),u.KVO(xO,8),u.KVO(OO,8),u.KVO(NO,8),u.KVO(kO,8),u.KVO(LO,8),u.KVO(FO,8),u.KVO(Lt,8))};static \u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var ZP=H(9172);function JP(){return(0,qd.N)((n,e)=>{let t,i=!1;n.subscribe((0,Jy._)(e,o=>{const c=t;t=o,i&&e.next([c,o]),i=!0}))})}var eM=H(2816),YN=H(3669);function JN(n,e){return n===e}function tM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BO(){if(typeof Uint8Array>"u")throw new Xe("unimplemented","Uint8Arrays are not available in this environment.")}function jO(){if(!function oT(){return typeof atob<"u"}())throw new Xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class YE{constructor(e){this._delegate=e}static fromBase64String(e){return jO(),new YE(Vl.fromBase64String(e))}static fromUint8Array(e){return BO(),new YE(Vl.fromUint8Array(e))}toBase64(){return jO(),this._delegate.toBase64()}toUint8Array(){return BO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nM(n){return function nk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class rk{enableIndexedDbPersistence(e,t){return function VS(n,e){rE(n=Fn(n,Hr));const t=si(n);if(t._uninitializedComponentsProvider)throw new Xe(Ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),o=new Cf;return nC(t,o,new F0(o,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function US(n){rE(n=Fn(n,Hr));const e=si(n);if(e._uninitializedComponentsProvider)throw new Xe(Ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Cf;return nC(e,i,new V0(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function vy(n){if(n._initialized&&!n._terminated)throw new Xe(Ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ue.A)(function*(){try{yield(t=(0,Ue.A)(function*(o){if(!hc.D())return Promise.resolve();const c=o+"main";yield hc.delete(c)}),function i(o){return t.apply(this,arguments)})(hw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $O{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Al||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){X0(this._delegate,e,t,i)}enableNetwork(){return function nE(n){return function RS(n){return n.asyncQueue.enqueue((0,Ue.A)(function*(){const e=yield Gw(n),t=yield Ww(n);return e.setNetworkEnabled(!0),function(o){const c=ft(o);return c.M_.delete(0),Ig(c)}(t)}))}(si(n=Fn(n,Hr)))}(this._delegate)}disableNetwork(){return function rC(n){return function PS(n){return n.asyncQueue.enqueue((0,Ue.A)(function*(){const e=yield Gw(n),t=yield Ww(n);return e.setNetworkEnabled(!1),(i=(0,Ue.A)(function*(c){const h=ft(c);h.M_.add(0),yield Od(h),h.N_.set("Offline")}),function o(c){return i.apply(this,arguments)})(t);var i}))}(si(n=Fn(n,Hr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Zw("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Iy(n){return function(t){const i=new qi;return t.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return function Tf(n,e){return ny.apply(this,arguments)}(yield Sg(t),i)})),i.promise}(si(n=Fn(n,Hr)))}(this._delegate)}onSnapshotsInSync(e){return function s1(n,e){return function Qw(n,e){const t=new B0(e);return n.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return o=yield Sf(n),c=t,ft(o).z_.add(c),void c.next();var o,c})),()=>{t.$a(),n.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return o=yield Sf(n),c=t,void ft(o).z_.delete(c);var o,c}))}}(si(n=Fn(n,Hr)),Z0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tv(this,my(this._delegate,e))}catch(t){throw Go(t,"collection()","Firestore.collection()")}}doc(e){try{return new jl(this,Rg(this._delegate,e))}catch(t){throw Go(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wo(this,function LS(n,e){if(n=Fn(n,Pf),q0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(n,null,(i=e,new Rl(zn.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Go(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function bC(n,e,t){n=Fn(n,Hr);const i=Object.assign(Object.assign({},IC),t);return function(c){if(c.maxAttempts<1)throw new Xe(Ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,h,g){const v=new qi;return c.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){const D=yield function Af(n){return Ag(n).then(e=>e.datastore)}(c);new H0(c.asyncQueue,D,g,h,v).Xa()})),v.promise}(si(n),o=>e(new gE(n,o)),i)}(this._delegate,t=>e(new HO(this,t)))}batch(){return si(this._delegate),new zO(new EC(this._delegate,e=>Bf(this._delegate,e)))}loadBundle(e){return function BS(n,e){const t=si(n=Fn(n,Hr)),i=new FS;return function MS(n,e,t,i){const o=function(h,g){let v;return v="string"==typeof h?OI().encode(h):h,x=function(x,L){if(x instanceof Uint8Array)return U0(x,L);if(x instanceof ArrayBuffer)return U0(new Uint8Array(x),L);if(x instanceof ReadableStream)return x.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new j0(x,g);var x}(t,Yr(e));n.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){!function zw(n,e,t){const i=ft(n);var o;(o=(0,Ue.A)(function*(h,g,v){try{const D=yield g.getMetadata();if(yield function(ue,fe){const De=ft(ue),tt=wn(fe.createTime);return De.persistence.runTransaction("hasNewerBundle","readonly",pt=>De.Kr.getBundleMetadata(pt,fe.id)).then(pt=>!!pt&&pt.createTime.compareTo(tt)>=0)}(h.localStore,D))return yield g.close(),v._completeWith({taskState:"Success",documentsLoaded:(ue=D).totalDocuments,bytesLoaded:ue.totalBytes,totalDocuments:ue.totalDocuments,totalBytes:ue.totalBytes}),Promise.resolve(new Set);v._updateProgress(Mw(D));const x=new bS(D,h.localStore,g.serializer);let L=yield g.qa();for(;L;){const J=yield x._a(L);J&&v._updateProgress(J),L=yield g.qa()}const Q=yield x.complete();return yield Ll(h,Q.ca,void 0),yield function(ue,fe){const De=ft(ue);return De.persistence.runTransaction("Save bundle","readwrite",tt=>De.Kr.saveBundleMetadata(tt,fe))}(h.localStore,D),v._completeWith(Q.progress),Promise.resolve(Q.ua)}catch(D){return Ls("SyncEngine",`Loading bundle failed with ${D}`),v._failWith(D),Promise.resolve(new Set)}var ue}),function c(h,g,v){return o.apply(this,arguments)})(i,e,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield Sg(n),o,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function iC(n,e){return function xS(n,e){return n.asyncQueue.enqueue((0,Ue.A)(function*(){return function(i,o){const c=ft(i);return c.persistence.runTransaction("Get named query","readonly",h=>c.Kr.getNamedQuery(h,o))}(yield Df(n),e)}))}(si(n=Fn(n,Hr)),e).then(t=>t?new cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Wo(this,t):null)}}class YD extends fE{constructor(e){super(),this.firestore=e}convertBytes(e){return new YE(new Vl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return jl.forKey(t,this.firestore,null)}}class HO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new YD(e)}get(e){const t=Zg(e);return this._delegate.get(t).then(i=>new ZE(this._firestore,new Dc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const o=Zg(e);return i?(tM("Transaction.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const c=Zg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...o),this}delete(e){const t=Zg(e);return this._delegate.delete(t),this}}class zO{constructor(e){this._delegate=e}set(e,t,i){const o=Zg(e);return i?(tM("WriteBatch.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const c=Zg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...o),this}delete(e){const t=Zg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Vf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new JE(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Yg.INSTANCES;let o=i.get(e);o||(o=new WeakMap,i.set(e,o));let c=o.get(t);return c||(c=new Yg(e,new YD(e),t),o.set(t,c)),c}}Yg.INSTANCES=new WeakMap;class jl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new jl(t,new Zr(t._delegate,i,new _t(e)))}static forKey(e,t,i){return new jl(t,new Zr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new tv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tv(this.firestore,my(this._delegate,e))}catch(t){throw Go(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qt.Ku)(e))instanceof Zr&&tC(this._delegate,e)}set(e,t){t=tM("DocumentReference.set",t);try{return t?xy(this._delegate,e,t):xy(this._delegate,e)}catch(i){throw Go(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?pC(this._delegate,e):pC(this._delegate,e,t,...i)}catch(o){throw Go(o,"updateDoc()","DocumentReference.update()")}}delete(){return function gC(n){return Bf(Fn(n.firestore,Hr),[new Ol(n._key,ri.none())])}(this._delegate)}onSnapshot(...e){const t=GO(e),i=WO(e,o=>new ZE(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return pE(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function t1(n){n=Fn(n,Zr);const e=Fn(n.firestore,Hr),t=si(e),i=new Ac(e);return function Kw(n,e){const t=new qi;return n.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return(i=(0,Ue.A)(function*(c,h,g){try{const v=yield function(x,L){const Q=ft(x);return Q.persistence.runTransaction("read document","readonly",J=>Q.localDocuments.getDocument(J,L))}(c,h);v.isFoundDocument()?g.resolve(v):v.isNoDocument()?g.resolve(null):g.reject(new Xe(Ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const D=yf(v,`Failed to get document '${h} from cache`);g.reject(D)}}),function o(c,h,g){return i.apply(this,arguments)})(yield Df(n),e,t);var i})),t.promise}(t,n._key).then(o=>new Dc(e,i,n._key,o,new Ff(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function hC(n){n=Fn(n,Zr);const e=Fn(n.firestore,Hr);return K0(si(e),n._key,{source:"server"}).then(t=>Fg(e,n,t))}(this._delegate):function e1(n){n=Fn(n,Zr);const e=Fn(n.firestore,Hr);return K0(si(e),n._key).then(t=>Fg(e,n,t))}(this._delegate),t.then(i=>new ZE(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new jl(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function Go(n,e,t){return n.message=n.message.replace(e,t),n}function GO(n){for(const e of n)if("object"==typeof e&&!nM(e))return e;return{}}function WO(n,e){var t,i;let o;return o=nM(n[0])?n[0]:nM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class ZE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new jl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Uf(this._delegate,e._delegate)}}class JE extends ZE{data(e){const t=this._delegate.data(e);return this._delegate._converter||function bA(n,e){n||wt()}(void 0!==t),t}}class Wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YD(e)}where(e,t,i){try{return new Wo(this.firestore,ba(this._delegate,function zS(n,e,t){const i=e,o=Og("where",n);return Cc._create(o,i,t)}(e,t,i)))}catch(o){throw Go(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wo(this.firestore,ba(this._delegate,function WS(n,e="asc"){const t=e,i=Og("orderBy",n);return dE._create(i,t)}(e,t)))}catch(i){throw Go(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wo(this.firestore,ba(this._delegate,function lC(n){return gy("limit",n),Sy._create("limit",n,"F")}(e)))}catch(t){throw Go(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wo(this.firestore,ba(this._delegate,function cC(n){return gy("limitToLast",n),Sy._create("limitToLast",n,"L")}(e)))}catch(t){throw Go(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wo(this.firestore,ba(this._delegate,function KS(...n){return kg._create("startAt",n,!0)}(...e)))}catch(t){throw Go(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wo(this.firestore,ba(this._delegate,function uC(...n){return kg._create("startAfter",n,!1)}(...e)))}catch(t){throw Go(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wo(this.firestore,ba(this._delegate,function qS(...n){return Ry._create("endBefore",n,!1)}(...e)))}catch(t){throw Go(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wo(this.firestore,ba(this._delegate,function UM(...n){return Ry._create("endAt",n,!0)}(...e)))}catch(t){throw Go(t,"endAt()","Query.endAt()")}}isEqual(e){return _y(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fC(n){n=Fn(n,cs);const e=Fn(n.firestore,Hr),t=si(e),i=new Ac(e);return function py(n,e){const t=new qi;return n.asyncQueue.enqueueAndForget((0,Ue.A)(function*(){return(i=(0,Ue.A)(function*(c,h,g){try{const v=yield F_(c,h,!0),D=new Nw(h,v.ls),x=D.da(v.documents),L=D.applyChanges(x,!1);g.resolve(L.snapshot)}catch(v){const D=yf(v,`Failed to execute query '${h} against cache`);g.reject(D)}}),function o(c,h,g){return i.apply(this,arguments)})(yield Df(n),e,t);var i})),t.promise}(t,n._query).then(o=>new ku(e,i,n,o))}(this._delegate):"server"===e?.source?function r1(n){n=Fn(n,cs);const e=Fn(n.firestore,Hr),t=si(e),i=new Ac(e);return qw(t,n._query,{source:"server"}).then(o=>new ku(e,i,n,o))}(this._delegate):function n1(n){n=Fn(n,cs);const e=Fn(n.firestore,Hr),t=si(e),i=new Ac(e);return uE(n._query),qw(t,n._query).then(o=>new ku(e,i,n,o))}(this._delegate),t.then(i=>new rM(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=GO(e),i=WO(e,o=>new rM(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return pE(this._delegate,t,i)}withConverter(e){return new Wo(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}class sk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new JE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new JE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sk(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new JE(this._firestore,i))})}isEqual(e){return Uf(this._delegate,e._delegate)}}class tv extends Wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new jl(this.firestore,e):null}doc(e){try{return new jl(this.firestore,void 0===e?Rg(this._delegate):Rg(this._delegate,e))}catch(t){throw Go(t,"doc()","CollectionReference.doc()")}}add(e){return function mC(n,e){const t=Fn(n.firestore,Hr),i=Rg(n),o=Py(n.converter,e);return Bf(t,[Ey(jd(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new jl(this.firestore,t))}isEqual(e){return tC(this._delegate,e._delegate)}withConverter(e){return new tv(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function Zg(n){return Fn(n,Zr)}class iM{constructor(...e){this._delegate=new Tc(...e)}static documentId(){return new iM(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,Qt.Ku)(e))instanceof Tc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function mE(){return new Nf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jg(e)}static delete(){const e=function d1(){return new Ul("deleteField")}();return e._methodName="FieldValue.delete",new Jg(e)}static arrayUnion(...e){const t=function TC(...n){return new kf("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jg(t)}static arrayRemove(...e){const t=function wC(...n){return new Us("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jg(t)}static increment(e){const t=function QM(n){return new by("increment",n)}(e);return t._methodName="FieldValue.increment",new Jg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ok={Firestore:$O,GeoPoint:Of,Timestamp:ni,Blob:YE,Transaction:HO,WriteBatch:zO,DocumentReference:jl,DocumentSnapshot:ZE,Query:Wo,QueryDocumentSnapshot:JE,QuerySnapshot:rM,CollectionReference:tv,FieldPath:iM,FieldValue:Jg,setLogLevel:function ik(n){!function $b(n){su.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function KO(n,e){return function ck(n,e=un){return new Qe.c(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function sM(n,e){return KO(n,e).pipe((0,Ui.T)(t=>({payload:t,type:"query"})))}!function lk(n){(function ak(n,e){n.INTERNAL.registerComponent(new lm.uA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(i,o)},"PUBLIC").setServiceProps(Object.assign({},ok)))})(n,(e,t)=>new $O(e,t,new rk)),n.registerVersion("@firebase/firestore-compat","0.3.30")}(XE.A);class qO{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:o,query:c}=eN(i,t);return new YO(o,c,this.afs)}snapshotChanges(){return function uk(n,e){return KO(n,e).pipe((0,ZP.Z)(void 0),JP(),(0,Ui.T)(t=>{const[i,o]=t;return o.exists?i?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Se)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ui.T)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,Bl.H)(this.ref.get(e)).pipe(Se)}}function ZD(n,e){return sM(n,e).pipe((0,ZP.Z)(void 0),JP(),(0,Ui.T)(t=>{const[i,o]=t,c=o.payload.docChanges(),h=c.map(g=>({type:g.type,payload:g}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,v)=>{const D=c.find(L=>L.doc.ref.isEqual(g.ref)),x=i?.payload.docs.find(L=>L.ref.isEqual(g.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(g.metadata)||!D&&x&&JSON.stringify(x.metadata)===JSON.stringify(g.metadata)||h.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:g}})}),h}))}function QO(n,e,t){return ZD(n,t).pipe((0,eM.S)((i,o)=>function dk(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function hk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return oM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return oM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return oM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,o.map(c=>c.payload),e),[]),function ZN(n,e=YN.D){return n=n??JN,(0,qd.N)((t,i)=>{let o,c=!0;t.subscribe((0,Jy._)(i,h=>{const g=e(h);(c||!n(o,g))&&(c=!1,o=g,i.next(h))}))})}(),(0,Ui.T)(i=>i.map(o=>({type:o.type,payload:o}))))}function oM(n,e,t,...i){const o=n.slice();return o.splice(e,t,...i),o}function XO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class YO{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=ZD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ui.T)(i=>i.filter(o=>e.indexOf(o.type)>-1)))),t.pipe((0,ZP.Z)(void 0),JP(),(0,Hg.p)(([i,o])=>o.length>0||!i),(0,Ui.T)(([,i])=>i),Se)}auditTrail(e){return this.stateChanges(e).pipe((0,eM.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XO(e);return QO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Se)}valueChanges(e={}){return sM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ui.T)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Se)}get(e){return(0,Bl.H)(this.query.get(e)).pipe(Se)}add(e){return this.ref.add(e)}doc(e){return new qO(this.ref.doc(e),this.afs)}}class fk{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ZD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ui.T)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Hg.p)(t=>t.length>0),Se):ZD(this.query,this.afs.schedulers.outsideAngular).pipe(Se)}auditTrail(e){return this.stateChanges(e).pipe((0,eM.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XO(e);return QO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Se)}valueChanges(e={}){return sM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ui.T)(i=>i.payload.docs.map(o=>e.idField?{[e.idField]:o.id,...o.data()}:o.data())),Se)}get(e){return(0,Bl.H)(this.query.get(e)).pipe(Se)}}const ZO=new u.nKC("angularfire2.enableFirestorePersistence"),JO=new u.nKC("angularfire2.firestore.persistenceSettings"),pk=new u.nKC("angularfire2.firestore.settings"),gk=new u.nKC("angularfire2.firestore.use-emulator");function eN(n,e=(t=>t)){return{query:e(n),ref:n}}let tN=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,o,c,h,g,v,D,x,L,Q,J,ue,fe,De,tt,pt){this.schedulers=v;const qe=XP(t,g,i),yt=x;L&&VO(qe,g,Q,ue,fe,De,J,tt),[this.firestore,this.persistenceEnabled$]=DO(`${qe.name}.firestore`,"AngularFirestore",qe.name,()=>{const tn=g.runOutsideAngular(()=>qe.firestore());if(c&&tn.settings(c),yt&&tn.useEmulator(...yt),o&&!(0,nt.Vy)(h)){const cn=()=>{try{return(0,Bl.H)(tn.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Pn){return typeof console<"u"&&console.warn(Pn),(0,Sc.of)(!1)}};return[tn,g.runOutsideAngular(cn)]}return[tn,(0,Sc.of)(!1)]},[c,yt,o])}collection(t,i){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=eN(o,i),g=this.schedulers.ngZone.run(()=>c);return new YO(g,h,this)}collectionGroup(t,i){const o=i||(h=>h),c=this.firestore.collectionGroup(t);return new fk(o(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>i);return new qO(o,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(u.KVO(qP),u.KVO(QP,8),u.KVO(ZO,8),u.KVO(pk,8),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(oi),u.KVO(JO,8),u.KVO(gk,8),u.KVO(UO,8),u.KVO(xO,8),u.KVO(OO,8),u.KVO(NO,8),u.KVO(kO,8),u.KVO(LO,8),u.KVO(FO,8),u.KVO(Lt,8))};static \u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),mk=(()=>{class n{constructor(){XE.A.registerVersion("angularfire",lt.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ZO,useValue:!0},{provide:JO,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=u.$C({type:n});static \u0275inj=u.G2t({providers:[tN]})}return n})(),_k=(()=>{class n{constructor(t){this.router=t,this.title="SpotiRFI",this.router.events.subscribe(i=>{i instanceof U.wF&&window.scrollTo(0,0)})}static#e=this.\u0275fac=function(i){return new(i||n)(u.rXU(U.Ix))};static#t=this.\u0275cmp=u.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[u.Jv_([tN]),u.aNF],decls:3,vars:0,template:function(i,o){1&i&&u.nrm(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[U.n3,RN,NN,mk]})}return n})();(0,R.B8)(_k,GD).catch(n=>console.error(n))},4412:(Rt,Fe,H)=>{H.d(Fe,{t:()=>u});var R=H(1413);class u extends R.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const be=super._subscribe(ae);return!be.closed&&ae.next(this._value),be}getValue(){const{hasError:ae,thrownError:be,_value:Me}=this;if(ae)throw be;return this._throwIfClosed(),Me}next(ae){super.next(this._value=ae)}}},1985:(Rt,Fe,H)=>{H.d(Fe,{c:()=>Ke});var R=H(7707),u=H(8359),U=H(3494),ae=H(1203),be=H(1026),Me=H(8071),ce=H(9786);let Ke=(()=>{class Te{constructor($e){$e&&(this._subscribe=$e)}lift($e){const dt=new Te;return dt.source=this,dt.operator=$e,dt}subscribe($e,dt,ot){const Et=function ee(Te){return Te&&Te instanceof R.vU||function re(Te){return Te&&(0,Me.T)(Te.next)&&(0,Me.T)(Te.error)&&(0,Me.T)(Te.complete)}(Te)&&(0,u.Uv)(Te)}($e)?$e:new R.Ms($e,dt,ot);return(0,ce.Y)(()=>{const{operator:bt,source:un}=this;Et.add(bt?bt.call(Et,un):un?this._subscribe(Et):this._trySubscribe(Et))}),Et}_trySubscribe($e){try{return this._subscribe($e)}catch(dt){$e.error(dt)}}forEach($e,dt){return new(dt=je(dt))((ot,Et)=>{const bt=new R.Ms({next:un=>{try{$e(un)}catch(En){Et(En),bt.unsubscribe()}},error:Et,complete:ot});this.subscribe(bt)})}_subscribe($e){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe($e)}[U.s](){return this}pipe(...$e){return(0,ae.m)($e)(this)}toPromise($e){return new($e=je($e))((dt,ot)=>{let Et;this.subscribe(bt=>Et=bt,bt=>ot(bt),()=>dt(Et))})}}return Te.create=Ze=>new Te(Ze),Te})();function je(Te){var Ze;return null!==(Ze=Te??be.$.Promise)&&void 0!==Ze?Ze:Promise}},1413:(Rt,Fe,H)=>{H.d(Fe,{B:()=>ce});var R=H(1985),u=H(8359);const ae=(0,H(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=H(7908),Me=H(9786);let ce=(()=>{class je extends R.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const Te=new Ke(this,this);return Te.operator=ee,Te}_throwIfClosed(){if(this.closed)throw new ae}next(ee){(0,Me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(ee)}})}error(ee){(0,Me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:Te}=this;for(;Te.length;)Te.shift().error(ee)}})}complete(){(0,Me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:Te,isStopped:Ze,observers:$e}=this;return Te||Ze?u.Kn:(this.currentObservers=null,$e.push(ee),new u.yU(()=>{this.currentObservers=null,(0,be.o)($e,ee)}))}_checkFinalizedStatuses(ee){const{hasError:Te,thrownError:Ze,isStopped:$e}=this;Te?ee.error(Ze):$e&&ee.complete()}asObservable(){const ee=new R.c;return ee.source=this,ee}}return je.create=(re,ee)=>new Ke(re,ee),je})();class Ke extends ce{constructor(re,ee){super(),this.destination=re,this.source=ee}next(re){var ee,Te;null===(Te=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===Te||Te.call(ee,re)}error(re){var ee,Te;null===(Te=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===Te||Te.call(ee,re)}complete(){var re,ee;null===(ee=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ee||ee.call(re)}_subscribe(re){var ee,Te;return null!==(Te=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(re))&&void 0!==Te?Te:u.Kn}}},7707:(Rt,Fe,H)=>{H.d(Fe,{Ms:()=>ot,vU:()=>Te});var R=H(8071),u=H(8359),U=H(1026),ae=H(5334),be=H(5343);const Me=je("C",void 0,void 0);function je(Qe,He,Je){return{kind:Qe,value:He,error:Je}}var re=H(9270),ee=H(9786);class Te extends u.yU{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,u.Uv)(He)&&He.add(this)):this.destination=En}static create(He,Je,rt){return new ot(He,Je,rt)}next(He){this.isStopped?un(function Ke(Qe){return je("N",Qe,void 0)}(He),this):this._next(He)}error(He){this.isStopped?un(function ce(Qe){return je("E",void 0,Qe)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?un(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function $e(Qe,He){return Ze.call(Qe,He)}class dt{constructor(He){this.partialObserver=He}next(He){const{partialObserver:Je}=this;if(Je.next)try{Je.next(He)}catch(rt){Et(rt)}}error(He){const{partialObserver:Je}=this;if(Je.error)try{Je.error(He)}catch(rt){Et(rt)}else Et(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(Je){Et(Je)}}}class ot extends Te{constructor(He,Je,rt){let lt;if(super(),(0,R.T)(He)||!He)lt={next:He??void 0,error:Je??void 0,complete:rt??void 0};else{let vt;this&&U.$.useDeprecatedNextContext?(vt=Object.create(He),vt.unsubscribe=()=>this.unsubscribe(),lt={next:He.next&&$e(He.next,vt),error:He.error&&$e(He.error,vt),complete:He.complete&&$e(He.complete,vt)}):lt=He}this.destination=new dt(lt)}}function Et(Qe){U.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(Qe):(0,ae.m)(Qe)}function un(Qe,He){const{onStoppedNotification:Je}=U.$;Je&&re.f.setTimeout(()=>Je(Qe,He))}const En={closed:!0,next:be.l,error:function bt(Qe){throw Qe},complete:be.l}},8359:(Rt,Fe,H)=>{H.d(Fe,{Kn:()=>Me,yU:()=>be,Uv:()=>ce});var R=H(8071);const U=(0,H(1853).L)(je=>function(ee){je(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((Te,Ze)=>`${Ze+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ae=H(7908);class be{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const $e of ee)$e.remove(this);else ee.remove(this);const{initialTeardown:Te}=this;if((0,R.T)(Te))try{Te()}catch($e){re=$e instanceof U?$e.errors:[$e]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const $e of Ze)try{Ke($e)}catch(dt){re=re??[],dt instanceof U?re=[...re,...dt.errors]:re.push(dt)}}if(re)throw new U(re)}}add(re){var ee;if(re&&re!==this)if(this.closed)Ke(re);else{if(re instanceof be){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(re)}}_hasParent(re){const{_parentage:ee}=this;return ee===re||Array.isArray(ee)&&ee.includes(re)}_addParent(re){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(re),ee):ee?[ee,re]:re}_removeParent(re){const{_parentage:ee}=this;ee===re?this._parentage=null:Array.isArray(ee)&&(0,ae.o)(ee,re)}remove(re){const{_finalizers:ee}=this;ee&&(0,ae.o)(ee,re),re instanceof be&&re._removeParent(this)}}be.EMPTY=(()=>{const je=new be;return je.closed=!0,je})();const Me=be.EMPTY;function ce(je){return je instanceof be||je&&"closed"in je&&(0,R.T)(je.remove)&&(0,R.T)(je.add)&&(0,R.T)(je.unsubscribe)}function Ke(je){(0,R.T)(je)?je():je.unsubscribe()}},1026:(Rt,Fe,H)=>{H.d(Fe,{$:()=>R});const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Rt,Fe,H)=>{H.d(Fe,{x:()=>be});var R=H(6365),U=H(9326),ae=H(8455);function be(...Me){return function u(){return(0,R.U)(1)}()((0,ae.H)(Me,(0,U.lI)(Me)))}},983:(Rt,Fe,H)=>{H.d(Fe,{w:()=>u});const u=new(H(1985).c)(be=>be.complete())},8455:(Rt,Fe,H)=>{H.d(Fe,{H:()=>He});var R=H(8750),u=H(941),U=H(6745),Me=H(1985),Ke=H(4761),je=H(8071),re=H(5225);function Te(Je,rt){if(!Je)throw new Error("Iterable cannot be null");return new Me.c(lt=>{(0,re.N)(lt,rt,()=>{const vt=Je[Symbol.asyncIterator]();(0,re.N)(lt,rt,()=>{vt.next().then(Ee=>{Ee.done?lt.complete():lt.next(Ee.value)})},0,!0)})})}var Ze=H(5055),$e=H(9858),dt=H(7441),ot=H(5397),Et=H(7953),bt=H(591),un=H(5196);function He(Je,rt){return rt?function Qe(Je,rt){if(null!=Je){if((0,Ze.l)(Je))return function ae(Je,rt){return(0,R.Tg)(Je).pipe((0,U._)(rt),(0,u.Q)(rt))}(Je,rt);if((0,dt.X)(Je))return function ce(Je,rt){return new Me.c(lt=>{let vt=0;return rt.schedule(function(){vt===Je.length?lt.complete():(lt.next(Je[vt++]),lt.closed||this.schedule())})})}(Je,rt);if((0,$e.y)(Je))return function be(Je,rt){return(0,R.Tg)(Je).pipe((0,U._)(rt),(0,u.Q)(rt))}(Je,rt);if((0,Et.T)(Je))return Te(Je,rt);if((0,ot.x)(Je))return function ee(Je,rt){return new Me.c(lt=>{let vt;return(0,re.N)(lt,rt,()=>{vt=Je[Ke.l](),(0,re.N)(lt,rt,()=>{let Ee,Xt;try{({value:Ee,done:Xt}=vt.next())}catch(Lt){return void lt.error(Lt)}Xt?lt.complete():lt.next(Ee)},0,!0)}),()=>(0,je.T)(vt?.return)&&vt.return()})}(Je,rt);if((0,un.U)(Je))return function En(Je,rt){return Te((0,un.C)(Je),rt)}(Je,rt)}throw(0,bt.L)(Je)}(Je,rt):(0,R.Tg)(Je)}},8750:(Rt,Fe,H)=>{H.d(Fe,{Tg:()=>Ze});var R=H(1635),u=H(7441),U=H(9858),ae=H(1985),be=H(5055),Me=H(7953),ce=H(591),Ke=H(5397),je=H(5196),re=H(8071),ee=H(5334),Te=H(3494);function Ze(Qe){if(Qe instanceof ae.c)return Qe;if(null!=Qe){if((0,be.l)(Qe))return function $e(Qe){return new ae.c(He=>{const Je=Qe[Te.s]();if((0,re.T)(Je.subscribe))return Je.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,u.X)(Qe))return function dt(Qe){return new ae.c(He=>{for(let Je=0;Je<Qe.length&&!He.closed;Je++)He.next(Qe[Je]);He.complete()})}(Qe);if((0,U.y)(Qe))return function ot(Qe){return new ae.c(He=>{Qe.then(Je=>{He.closed||(He.next(Je),He.complete())},Je=>He.error(Je)).then(null,ee.m)})}(Qe);if((0,Me.T)(Qe))return bt(Qe);if((0,Ke.x)(Qe))return function Et(Qe){return new ae.c(He=>{for(const Je of Qe)if(He.next(Je),He.closed)return;He.complete()})}(Qe);if((0,je.U)(Qe))return function un(Qe){return bt((0,je.C)(Qe))}(Qe)}throw(0,ce.L)(Qe)}function bt(Qe){return new ae.c(He=>{(function En(Qe,He){var Je,rt,lt,vt;return(0,R.sH)(this,void 0,void 0,function*(){try{for(Je=(0,R.xN)(Qe);!(rt=yield Je.next()).done;)if(He.next(rt.value),He.closed)return}catch(Ee){lt={error:Ee}}finally{try{rt&&!rt.done&&(vt=Je.return)&&(yield vt.call(Je))}finally{if(lt)throw lt.error}}He.complete()})})(Qe,He).catch(Je=>He.error(Je))})}},7673:(Rt,Fe,H)=>{H.d(Fe,{of:()=>U});var R=H(9326),u=H(8455);function U(...ae){const be=(0,R.lI)(ae);return(0,u.H)(ae,be)}},4360:(Rt,Fe,H)=>{H.d(Fe,{_:()=>u});var R=H(7707);function u(ae,be,Me,ce,Ke){return new U(ae,be,Me,ce,Ke)}class U extends R.vU{constructor(be,Me,ce,Ke,je,re){super(be),this.onFinalize=je,this.shouldUnsubscribe=re,this._next=Me?function(ee){try{Me(ee)}catch(Te){be.error(Te)}}:super._next,this._error=Ke?function(ee){try{Ke(ee)}catch(Te){be.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(ee){be.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},274:(Rt,Fe,H)=>{H.d(Fe,{H:()=>U});var R=H(1397),u=H(8071);function U(ae,be){return(0,u.T)(be)?(0,R.Z)(ae,be,1):(0,R.Z)(ae,1)}},9901:(Rt,Fe,H)=>{H.d(Fe,{U:()=>U});var R=H(9974),u=H(4360);function U(ae){return(0,R.N)((be,Me)=>{let ce=!1;be.subscribe((0,u._)(Me,Ke=>{ce=!0,Me.next(Ke)},()=>{ce||Me.next(ae),Me.complete()}))})}},5964:(Rt,Fe,H)=>{H.d(Fe,{p:()=>U});var R=H(9974),u=H(4360);function U(ae,be){return(0,R.N)((Me,ce)=>{let Ke=0;Me.subscribe((0,u._)(ce,je=>ae.call(be,je,Ke++)&&ce.next(je)))})}},980:(Rt,Fe,H)=>{H.d(Fe,{j:()=>u});var R=H(9974);function u(U){return(0,R.N)((ae,be)=>{try{ae.subscribe(be)}finally{be.add(U)}})}},1594:(Rt,Fe,H)=>{H.d(Fe,{$:()=>ce});var R=H(9350),u=H(5964),U=H(6697),ae=H(9901),be=H(3774),Me=H(3669);function ce(Ke,je){const re=arguments.length>=2;return ee=>ee.pipe(Ke?(0,u.p)((Te,Ze)=>Ke(Te,Ze,ee)):Me.D,(0,U.s)(1),re?(0,ae.U)(je):(0,be.v)(()=>new R.G))}},6354:(Rt,Fe,H)=>{H.d(Fe,{T:()=>U});var R=H(9974),u=H(4360);function U(ae,be){return(0,R.N)((Me,ce)=>{let Ke=0;Me.subscribe((0,u._)(ce,je=>{ce.next(ae.call(be,je,Ke++))}))})}},6365:(Rt,Fe,H)=>{H.d(Fe,{U:()=>U});var R=H(1397),u=H(3669);function U(ae=1/0){return(0,R.Z)(u.D,ae)}},1397:(Rt,Fe,H)=>{H.d(Fe,{Z:()=>Ke});var R=H(6354),u=H(8750),U=H(9974),ae=H(5225),be=H(4360),ce=H(8071);function Ke(je,re,ee=1/0){return(0,ce.T)(re)?Ke((Te,Ze)=>(0,R.T)(($e,dt)=>re(Te,$e,Ze,dt))((0,u.Tg)(je(Te,Ze))),ee):("number"==typeof re&&(ee=re),(0,U.N)((Te,Ze)=>function Me(je,re,ee,Te,Ze,$e,dt,ot){const Et=[];let bt=0,un=0,En=!1;const Qe=()=>{En&&!Et.length&&!bt&&re.complete()},He=rt=>bt<Te?Je(rt):Et.push(rt),Je=rt=>{$e&&re.next(rt),bt++;let lt=!1;(0,u.Tg)(ee(rt,un++)).subscribe((0,be._)(re,vt=>{Ze?.(vt),$e?He(vt):re.next(vt)},()=>{lt=!0},void 0,()=>{if(lt)try{for(bt--;Et.length&&bt<Te;){const vt=Et.shift();dt?(0,ae.N)(re,dt,()=>Je(vt)):Je(vt)}Qe()}catch(vt){re.error(vt)}}))};return je.subscribe((0,be._)(re,He,()=>{En=!0,Qe()})),()=>{ot?.()}}(Te,Ze,je,ee)))}},941:(Rt,Fe,H)=>{H.d(Fe,{Q:()=>ae});var R=H(5225),u=H(9974),U=H(4360);function ae(be,Me=0){return(0,u.N)((ce,Ke)=>{ce.subscribe((0,U._)(Ke,je=>(0,R.N)(Ke,be,()=>Ke.next(je),Me),()=>(0,R.N)(Ke,be,()=>Ke.complete(),Me),je=>(0,R.N)(Ke,be,()=>Ke.error(je),Me)))})}},2816:(Rt,Fe,H)=>{H.d(Fe,{S:()=>ae});var R=H(9974),u=H(4360);function ae(be,Me){return(0,R.N)(function U(be,Me,ce,Ke,je){return(re,ee)=>{let Te=ce,Ze=Me,$e=0;re.subscribe((0,u._)(ee,dt=>{const ot=$e++;Ze=Te?be(Ze,dt,ot):(Te=!0,dt),Ke&&ee.next(Ze)},je&&(()=>{Te&&ee.next(Ze),ee.complete()})))}}(be,Me,arguments.length>=2,!0))}},9172:(Rt,Fe,H)=>{H.d(Fe,{Z:()=>ae});var R=H(8793),u=H(9326),U=H(9974);function ae(...be){const Me=(0,u.lI)(be);return(0,U.N)((ce,Ke)=>{(Me?(0,R.x)(be,ce,Me):(0,R.x)(be,ce)).subscribe(Ke)})}},6745:(Rt,Fe,H)=>{H.d(Fe,{_:()=>u});var R=H(9974);function u(U,ae=0){return(0,R.N)((be,Me)=>{Me.add(U.schedule(()=>be.subscribe(Me),ae))})}},5558:(Rt,Fe,H)=>{H.d(Fe,{n:()=>ae});var R=H(8750),u=H(9974),U=H(4360);function ae(be,Me){return(0,u.N)((ce,Ke)=>{let je=null,re=0,ee=!1;const Te=()=>ee&&!je&&Ke.complete();ce.subscribe((0,U._)(Ke,Ze=>{je?.unsubscribe();let $e=0;const dt=re++;(0,R.Tg)(be(Ze,dt)).subscribe(je=(0,U._)(Ke,ot=>Ke.next(Me?Me(Ze,ot,dt,$e++):ot),()=>{je=null,Te()}))},()=>{ee=!0,Te()}))})}},6697:(Rt,Fe,H)=>{H.d(Fe,{s:()=>ae});var R=H(983),u=H(9974),U=H(4360);function ae(be){return be<=0?()=>R.w:(0,u.N)((Me,ce)=>{let Ke=0;Me.subscribe((0,U._)(ce,je=>{++Ke<=be&&(ce.next(je),be<=Ke&&ce.complete())}))})}},8141:(Rt,Fe,H)=>{H.d(Fe,{M:()=>be});var R=H(8071),u=H(9974),U=H(4360),ae=H(3669);function be(Me,ce,Ke){const je=(0,R.T)(Me)||ce||Ke?{next:Me,error:ce,complete:Ke}:Me;return je?(0,u.N)((re,ee)=>{var Te;null===(Te=je.subscribe)||void 0===Te||Te.call(je);let Ze=!0;re.subscribe((0,U._)(ee,$e=>{var dt;null===(dt=je.next)||void 0===dt||dt.call(je,$e),ee.next($e)},()=>{var $e;Ze=!1,null===($e=je.complete)||void 0===$e||$e.call(je),ee.complete()},$e=>{var dt;Ze=!1,null===(dt=je.error)||void 0===dt||dt.call(je,$e),ee.error($e)},()=>{var $e,dt;Ze&&(null===($e=je.unsubscribe)||void 0===$e||$e.call(je)),null===(dt=je.finalize)||void 0===dt||dt.call(je)}))}):ae.D}},3774:(Rt,Fe,H)=>{H.d(Fe,{v:()=>ae});var R=H(9350),u=H(9974),U=H(4360);function ae(Me=be){return(0,u.N)((ce,Ke)=>{let je=!1;ce.subscribe((0,U._)(Ke,re=>{je=!0,Ke.next(re)},()=>je?Ke.complete():Ke.error(Me())))})}function be(){return new R.G}},9270:(Rt,Fe,H)=>{H.d(Fe,{f:()=>R});const R={setTimeout(u,U,...ae){const{delegate:be}=R;return be?.setTimeout?be.setTimeout(u,U,...ae):setTimeout(u,U,...ae)},clearTimeout(u){const{delegate:U}=R;return(U?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4761:(Rt,Fe,H)=>{H.d(Fe,{l:()=>u});const u=function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Rt,Fe,H)=>{H.d(Fe,{s:()=>R});const R="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Rt,Fe,H)=>{H.d(Fe,{G:()=>u});const u=(0,H(1853).L)(U=>function(){U(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Rt,Fe,H)=>{H.d(Fe,{R0:()=>Me,lI:()=>be,ms:()=>ae});var R=H(8071),u=H(9470);function U(ce){return ce[ce.length-1]}function ae(ce){return(0,R.T)(U(ce))?ce.pop():void 0}function be(ce){return(0,u.m)(U(ce))?ce.pop():void 0}function Me(ce,Ke){return"number"==typeof U(ce)?ce.pop():Ke}},7908:(Rt,Fe,H)=>{function R(u,U){if(u){const ae=u.indexOf(U);0<=ae&&u.splice(ae,1)}}H.d(Fe,{o:()=>R})},1853:(Rt,Fe,H)=>{function R(u){const ae=u(be=>{Error.call(be),be.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}H.d(Fe,{L:()=>R})},9786:(Rt,Fe,H)=>{H.d(Fe,{Y:()=>U,l:()=>ae});var R=H(1026);let u=null;function U(be){if(R.$.useDeprecatedSynchronousErrorHandling){const Me=!u;if(Me&&(u={errorThrown:!1,error:null}),be(),Me){const{errorThrown:ce,error:Ke}=u;if(u=null,ce)throw Ke}}else be()}function ae(be){R.$.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=be)}},5225:(Rt,Fe,H)=>{function R(u,U,ae,be=0,Me=!1){const ce=U.schedule(function(){ae(),Me?u.add(this.schedule(null,be)):this.unsubscribe()},be);if(u.add(ce),!Me)return ce}H.d(Fe,{N:()=>R})},3669:(Rt,Fe,H)=>{function R(u){return u}H.d(Fe,{D:()=>R})},7441:(Rt,Fe,H)=>{H.d(Fe,{X:()=>R});const R=u=>u&&"number"==typeof u.length&&"function"!=typeof u},7953:(Rt,Fe,H)=>{H.d(Fe,{T:()=>u});var R=H(8071);function u(U){return Symbol.asyncIterator&&(0,R.T)(U?.[Symbol.asyncIterator])}},8071:(Rt,Fe,H)=>{function R(u){return"function"==typeof u}H.d(Fe,{T:()=>R})},5055:(Rt,Fe,H)=>{H.d(Fe,{l:()=>U});var R=H(3494),u=H(8071);function U(ae){return(0,u.T)(ae[R.s])}},5397:(Rt,Fe,H)=>{H.d(Fe,{x:()=>U});var R=H(4761),u=H(8071);function U(ae){return(0,u.T)(ae?.[R.l])}},9858:(Rt,Fe,H)=>{H.d(Fe,{y:()=>u});var R=H(8071);function u(U){return(0,R.T)(U?.then)}},5196:(Rt,Fe,H)=>{H.d(Fe,{C:()=>U,U:()=>ae});var R=H(1635),u=H(8071);function U(be){return(0,R.AQ)(this,arguments,function*(){const ce=be.getReader();try{for(;;){const{value:Ke,done:je}=yield(0,R.N3)(ce.read());if(je)return yield(0,R.N3)(void 0);yield yield(0,R.N3)(Ke)}}finally{ce.releaseLock()}})}function ae(be){return(0,u.T)(be?.getReader)}},9470:(Rt,Fe,H)=>{H.d(Fe,{m:()=>u});var R=H(8071);function u(U){return U&&(0,R.T)(U.schedule)}},9974:(Rt,Fe,H)=>{H.d(Fe,{N:()=>U,S:()=>u});var R=H(8071);function u(ae){return(0,R.T)(ae?.lift)}function U(ae){return be=>{if(u(be))return be.lift(function(Me){try{return ae(Me,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Rt,Fe,H)=>{function R(){}H.d(Fe,{l:()=>R})},1203:(Rt,Fe,H)=>{H.d(Fe,{F:()=>u,m:()=>U});var R=H(3669);function u(...ae){return U(ae)}function U(ae){return 0===ae.length?R.D:1===ae.length?ae[0]:function(Me){return ae.reduce((ce,Ke)=>Ke(ce),Me)}}},5334:(Rt,Fe,H)=>{H.d(Fe,{m:()=>U});var R=H(1026),u=H(9270);function U(ae){u.f.setTimeout(()=>{const{onUnhandledError:be}=R.$;if(!be)throw ae;be(ae)})}},591:(Rt,Fe,H)=>{function R(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Fe,{L:()=>R})},177:(Rt,Fe,H)=>{H.d(Fe,{AJ:()=>us,B3:()=>Wt,MD:()=>pr,N0:()=>Ao,QT:()=>U,Sm:()=>ot,Sq:()=>js,T3:()=>pn,UE:()=>ai,VF:()=>be,Vy:()=>Kl,Xr:()=>Mc,YU:()=>$t,ZD:()=>ae,_b:()=>sn,aZ:()=>bt,bT:()=>qa,fw:()=>Et,hb:()=>$e,hj:()=>je,qQ:()=>ce});var R=H(4438);let u=null;function U(){return u}function ae(C){u??=C}class be{}const ce=new R.nKC("");let Ke=(()=>{class C{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275prov=R.jDH({token:C,factory:()=>(0,R.WQX)(re),providedIn:"platform"})}return C})();const je=new R.nKC("");let re=(()=>{class C extends Ke{constructor(){super(),this._doc=(0,R.WQX)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(P){const k=U().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",P,!1),()=>k.removeEventListener("popstate",P)}onHashChange(P){const k=U().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",P,!1),()=>k.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,k,Y){this._history.pushState(P,k,Y)}replaceState(P,k,Y){this._history.replaceState(P,k,Y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275prov=R.jDH({token:C,factory:()=>new C,providedIn:"platform"})}return C})();function ee(C,V){if(0==C.length)return V;if(0==V.length)return C;let P=0;return C.endsWith("/")&&P++,V.startsWith("/")&&P++,2==P?C+V.substring(1):1==P?C+V:C+"/"+V}function Te(C){const V=C.match(/#|\?|$/),P=V&&V.index||C.length;return C.slice(0,P-("/"===C[P-1]?1:0))+C.slice(P)}function Ze(C){return C&&"?"!==C[0]?"?"+C:C}let $e=(()=>{class C{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275prov=R.jDH({token:C,factory:()=>(0,R.WQX)(ot),providedIn:"root"})}return C})();const dt=new R.nKC("");let ot=(()=>{class C extends $e{constructor(P,k){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,R.WQX)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ee(this._baseHref,P)}path(P=!1){const k=this._platformLocation.pathname+Ze(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&P?`${k}${Y}`:k}pushState(P,k,Y,Ie){const Be=this.prepareExternalUrl(Y+Ze(Ie));this._platformLocation.pushState(P,k,Be)}replaceState(P,k,Y,Ie){const Be=this.prepareExternalUrl(Y+Ze(Ie));this._platformLocation.replaceState(P,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(k){return new(k||C)(R.KVO(Ke),R.KVO(dt,8))};static#t=this.\u0275prov=R.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Et=(()=>{class C extends $e{constructor(P,k){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){const k=this._platformLocation.hash??"#";return k.length>0?k.substring(1):k}prepareExternalUrl(P){const k=ee(this._baseHref,P);return k.length>0?"#"+k:k}pushState(P,k,Y,Ie){let Be=this.prepareExternalUrl(Y+Ze(Ie));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(P,k,Be)}replaceState(P,k,Y,Ie){let Be=this.prepareExternalUrl(Y+Ze(Ie));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(P,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(k){return new(k||C)(R.KVO(Ke),R.KVO(dt,8))};static#t=this.\u0275prov=R.jDH({token:C,factory:C.\u0275fac})}return C})(),bt=(()=>{class C{constructor(P){this._subject=new R.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const k=this._locationStrategy.getBaseHref();this._basePath=function He(C){if(new RegExp("^(https?:)?//").test(C)){const[,P]=C.split(/\/\/[^\/]+/);return P}return C}(Te(Qe(k))),this._locationStrategy.onPopState(Y=>{this._subject.emit({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,k=""){return this.path()==this.normalize(P+Ze(k))}normalize(P){return C.stripTrailingSlash(function En(C,V){if(!C||!V.startsWith(C))return V;const P=V.substring(C.length);return""===P||["/",";","?","#"].includes(P[0])?P:V}(this._basePath,Qe(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,k="",Y=null){this._locationStrategy.pushState(Y,"",P,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ze(k)),Y)}replaceState(P,k="",Y=null){this._locationStrategy.replaceState(Y,"",P,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ze(k)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription??=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)}),()=>{const k=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",k){this._urlChangeListeners.forEach(Y=>Y(P,k))}subscribe(P,k,Y){return this._subject.subscribe({next:P,error:k,complete:Y})}static#e=this.normalizeQueryParams=Ze;static#t=this.joinWithSlash=ee;static#n=this.stripTrailingSlash=Te;static#r=this.\u0275fac=function(k){return new(k||C)(R.KVO($e))};static#i=this.\u0275prov=R.jDH({token:C,factory:()=>function un(){return new bt((0,R.KVO)($e))}(),providedIn:"root"})}return C})();function Qe(C){return C.replace(/\/index.html$/,"")}function sn(C,V){V=encodeURIComponent(V);for(const P of C.split(";")){const k=P.indexOf("="),[Y,Ie]=-1==k?[P,""]:[P.slice(0,k),P.slice(k+1)];if(Y.trim()===V)return decodeURIComponent(Ie)}return null}const Zn=/\s+/,xn=[];let $t=(()=>{class C{constructor(P,k){this._ngEl=P,this._renderer=k,this.initialClasses=xn,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(Zn):xn}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(Zn):P}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const k of P)this._updateState(k,!0);else if(null!=P)for(const k of Object.keys(P))this._updateState(k,!!P[k]);this._applyStateDiff()}_updateState(P,k){const Y=this.stateMap.get(P);void 0!==Y?(Y.enabled!==k&&(Y.changed=!0,Y.enabled=k),Y.touched=!0):this.stateMap.set(P,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const k=P[0],Y=P[1];Y.changed?(this._toggleClass(k,Y.enabled),Y.changed=!1):Y.touched||(Y.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),Y.touched=!1}}_toggleClass(P,k){(P=P.trim()).length>0&&P.split(Zn).forEach(Y=>{k?this._renderer.addClass(this._ngEl.nativeElement,Y):this._renderer.removeClass(this._ngEl.nativeElement,Y)})}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.aKT),R.rXU(R.sFG))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngClass",""]],inputs:{klass:[R.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return C})();class Jn{constructor(V,P,k,Y){this.$implicit=V,this.ngForOf=P,this.index=k,this.count=Y}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let js=(()=>{class C{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,k,Y){this._viewContainer=P,this._template=k,this._differs=Y,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const k=this._viewContainer;P.forEachOperation((Y,Ie,Be)=>{if(null==Y.previousIndex)k.createEmbeddedView(this._template,new Jn(Y.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)k.remove(null===Ie?void 0:Ie);else if(null!==Ie){const It=k.get(Ie);k.move(It,Be),Zs(It,Y)}});for(let Y=0,Ie=k.length;Y<Ie;Y++){const It=k.get(Y).context;It.index=Y,It.count=Ie,It.ngForOf=this._ngForOf}P.forEachIdentityChange(Y=>{Zs(k.get(Y.currentIndex),Y)})}static ngTemplateContextGuard(P,k){return!0}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.c1b),R.rXU(R.C4Q),R.rXU(R._q3))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return C})();function Zs(C,V){C.context.$implicit=V.item}let qa=(()=>{class C{constructor(P,k){this._viewContainer=P,this._context=new Yd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Gl("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Gl("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,k){return!0}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.c1b),R.rXU(R.C4Q))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return C})();class Yd{constructor(){this.$implicit=null,this.ngIf=null}}function Gl(C,V){if(V&&!V.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,R.Tbb)(V)}'.`)}let Wt=(()=>{class C{constructor(P,k,Y){this._ngEl=P,this._differs=k,this._renderer=Y,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,k){const[Y,Ie]=P.split("."),Be=-1===Y.indexOf("-")?void 0:R.czy.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,Y,Ie?`${k}${Ie}`:k,Be):this._renderer.removeStyle(this._ngEl.nativeElement,Y,Be)}_applyChanges(P){P.forEachRemovedItem(k=>this._setStyle(k.key,null)),P.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),P.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.aKT),R.rXU(R.MKu),R.rXU(R.sFG))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return C})(),pn=(()=>{class C{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(this._shouldRecreateView(P)){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Y=this._createContextForwardProxy();this._viewRef=k.createEmbeddedView(this.ngTemplateOutlet,Y,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(P){return!!P.ngTemplateOutlet||!!P.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(P,k,Y)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,k,Y),get:(P,k,Y)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,k,Y)}})}static#e=this.\u0275fac=function(k){return new(k||C)(R.rXU(R.c1b))};static#t=this.\u0275dir=R.FsC({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[R.OA$]})}return C})(),pr=(()=>{class C{static#e=this.\u0275fac=function(k){return new(k||C)};static#t=this.\u0275mod=R.$C({type:C});static#n=this.\u0275inj=R.G2t({})}return C})();const us="browser",el="server";function ai(C){return C===us}function Kl(C){return C===el}let Mc=(()=>{class C{static#e=this.\u0275prov=(0,R.jDH)({token:C,providedIn:"root",factory:()=>ai((0,R.WQX)(R.Agw))?new Vn((0,R.WQX)(ce),window):new Ca})}return C})();class Vn{constructor(V,P){this.document=V,this.window=P,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(V){this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){const P=function Cs(C,V){const P=C.getElementById(V)||C.getElementsByName(V)[0];if(P)return P;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const k=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let Y=k.currentNode;for(;Y;){const Ie=Y.shadowRoot;if(Ie){const Be=Ie.getElementById(V)||Ie.querySelector(`[name="${V}"]`);if(Be)return Be}Y=k.nextNode()}}return null}(this.document,V);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(V){this.window.history.scrollRestoration=V}scrollToElement(V){const P=V.getBoundingClientRect(),k=P.left+this.window.pageXOffset,Y=P.top+this.window.pageYOffset,Ie=this.offset();this.window.scrollTo(k-Ie[0],Y-Ie[1])}}class Ca{setOffset(V){}getScrollPosition(){return[0,0]}scrollToPosition(V){}scrollToAnchor(V){}setHistoryScrollRestoration(V){}}class Ao{}},4438:(Rt,Fe,H)=>{function u(r,s){return Object.is(r,s)}H.d(Fe,{bc$:()=>lA,iLQ:()=>ME,sZ2:()=>cc,hnV:()=>vD,o8S:()=>Vu,BIS:()=>cA,gRc:()=>AD,Ql9:()=>OE,Ocv:()=>WR,Z63:()=>io,aKT:()=>pp,uvJ:()=>Dr,zcH:()=>Va,bkB:()=>Il,$GK:()=>on,nKC:()=>$t,zZn:()=>Uo,_q3:()=>Ky,MKu:()=>Wd,xe9:()=>Gy,Co$:()=>V_,Vns:()=>Pd,SKi:()=>wn,Xx1:()=>ai,Agw:()=>km,PLl:()=>Hv,sFG:()=>BT,_9s:()=>UT,czy:()=>Fp,WPN:()=>wt,kdw:()=>gi,C4Q:()=>mc,NYb:()=>OR,giA:()=>_D,xvI:()=>hR,RxE:()=>aD,c1b:()=>dg,gXe:()=>Hs,mal:()=>v_,L39:()=>kP,EWP:()=>UP,Ol2:()=>Md,w6W:()=>hS,QZP:()=>QD,Rfq:()=>Mi,oKB:()=>Mo,WQX:()=>Kt,naY:()=>YR,QuC:()=>wi,EmA:()=>cl,Udg:()=>LP,HJs:()=>GP,N4e:()=>lo,vPA:()=>e0,O8t:()=>BP,An2:()=>tf,H3F:()=>lD,H8p:()=>ao,KH2:()=>wc,TgB:()=>xd,wOt:()=>ct,WHO:()=>gD,e01:()=>mD,lNU:()=>Ur,h9k:()=>Ei,$MX:()=>Vi,ZF7:()=>ru,Kcf:()=>yA,e5t:()=>iI,UyX:()=>wl,cWb:()=>rI,osQ:()=>Vb,H5H:()=>Of,Zy3:()=>Gr,mq5:()=>sC,JZv:()=>Ft,TL3:()=>hO,LfX:()=>de,plB:()=>du,jNT:()=>RE,zjR:()=>yD,ngT:()=>$o,TL$:()=>aA,Tbb:()=>ir,rcV:()=>Wi,Vt3:()=>k_,Mj6:()=>Ro,GFd:()=>u0,OA$:()=>I,Jv_:()=>N1,aNF:()=>k1,R7$:()=>aT,BMQ:()=>ty,HbH:()=>dy,AVh:()=>z0,vxM:()=>cs,wni:()=>Ug,nv$:()=>Rw,T$4:()=>Sw,g25:()=>w0,VBU:()=>Sa,FsC:()=>al,jDH:()=>Dn,G2t:()=>ys,$C:()=>Vc,EJ8:()=>Ss,rXU:()=>Vr,nrm:()=>si,eu8:()=>nE,bVm:()=>Iy,qex:()=>vy,k0s:()=>yy,j41:()=>eE,RV6:()=>iC,xGo:()=>Eh,KVO:()=>Kr,kS0:()=>Em,QTQ:()=>Dl,bIt:()=>gE,lsd:()=>ky,qSk:()=>Ev,XpG:()=>h1,SdG:()=>CC,NAR:()=>_E,Y8G:()=>j0,FS9:()=>DC,lJ4:()=>F1,eq3:()=>V1,l_i:()=>U1,sMw:()=>B1,ziG:()=>j1,l4e:()=>$1,zJS:()=>H1,mGM:()=>SC,sdS:()=>MC,Dyx:()=>_y,Z7z:()=>Rg,fX1:()=>my,Njj:()=>pv,EBC:()=>hI,eBV:()=>Jf,npT:()=>Nt,f$h:()=>Ae,B4B:()=>ft,n$t:()=>Hb,Aen:()=>yo,xc7:()=>H0,DNE:()=>ff,C5r:()=>Q1,EFF:()=>FC,JRh:()=>TE,SpI:()=>Fy,Lme:()=>UC,E5c:()=>BC,wXG:()=>cI,DH7:()=>M1,mxI:()=>HC,R50:()=>$C,GBs:()=>Ny}),H(467);let U=null,ae=!1,be=1;const Me=Symbol("SIGNAL");function ce(r){const s=U;return U=r,s}const ee={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Te(r){if(ae)throw new Error("");if(null===U)return;U.consumerOnSignalRead(r);const s=U.nextProducerIndex++;lt(U),s<U.producerNode.length&&U.producerNode[s]!==r&&rt(U)&&Je(U.producerNode[s],U.producerIndexOfThis[s]),U.producerNode[s]!==r&&(U.producerNode[s]=r,U.producerIndexOfThis[s]=rt(U)?He(r,U,s):0),U.producerLastReadVersion[s]=r.version}function $e(r){if((!rt(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==be)){if(!r.producerMustRecompute(r)&&!En(r))return r.dirty=!1,void(r.lastCleanEpoch=be);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=be}}function dt(r){if(void 0===r.liveConsumerNode)return;const s=ae;ae=!0;try{for(const a of r.liveConsumerNode)a.dirty||Et(a)}finally{ae=s}}function ot(){return!1!==U?.consumerAllowSignalWrites}function Et(r){r.dirty=!0,dt(r),r.consumerMarkedDirty?.(r)}function bt(r){return r&&(r.nextProducerIndex=0),ce(r)}function un(r,s){if(ce(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(rt(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Je(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function En(r){lt(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],l=r.producerLastReadVersion[s];if(l!==a.version||($e(a),l!==a.version))return!0}return!1}function Qe(r){if(lt(r),rt(r))for(let s=0;s<r.producerNode.length;s++)Je(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function He(r,s,a){if(vt(r),lt(r),0===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)r.producerIndexOfThis[l]=He(r.producerNode[l],r,l);return r.liveConsumerIndexOfThis.push(a),r.liveConsumerNode.push(s)-1}function Je(r,s){if(vt(r),lt(r),1===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)Je(r.producerNode[l],r.producerIndexOfThis[l]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const l=r.liveConsumerIndexOfThis[s],d=r.liveConsumerNode[s];lt(d),d.producerIndexOfThis[l]=s}}function rt(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function lt(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function vt(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}const Xt=Symbol("UNSET"),Lt=Symbol("COMPUTING"),Er=Symbol("ERRORED"),br={...ee,value:Xt,dirty:!0,error:null,equal:u,producerMustRecompute:r=>r.value===Xt||r.value===Lt,producerRecomputeValue(r){if(r.value===Lt)throw new Error("Detected cycle in computations.");const s=r.value;r.value=Lt;const a=bt(r);let l;try{l=r.computation()}catch(d){l=Er,r.error=d}finally{un(r,a)}s!==Xt&&s!==Er&&l!==Er&&r.equal(s,l)?r.value=s:(r.value=l,r.version++)}};let qn=function zr(){throw new Error};function oi(){qn()}let ve=null;function Se(r,s){ot()||oi(),r.equal(r.value,s)||(r.value=s,function qt(r){r.version++,function Ze(){be++}(),dt(r),ve?.()}(r))}const At={...ee,equal:u,value:void 0};const Ct=()=>{},_n={...ee,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{null!==r.schedule&&r.schedule(r.ref)},hasRun:!1,cleanupFn:Ct};var vn=H(1413),xr=H(8359),ar=H(4412),Or=H(6354);const Ur="https://g.co/ng/security#xss";class ct extends Error{constructor(s,a){super(Gr(s,a)),this.code=s}}function Gr(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}function Ge(r){return{toString:r}.toString()}const Xn="__parameters__";function Mn(r,s,a){return Ge(()=>{const l=function Gn(r){return function(...a){if(r){const l=r(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const _=new d(...f);return y.annotation=_,y;function y(w,M,F){const W=w.hasOwnProperty(Xn)?w[Xn]:Object.defineProperty(w,Xn,{value:[]})[Xn];for(;W.length<=F;)W.push(null);return(W[F]=W[F]||[]).push(_),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}const Ft=globalThis;function mn(r){for(let s in r)if(r[s]===mn)return s;throw Error("Could not find renamed property on target object.")}function Yn(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function ir(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ir).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fr(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Pi=mn({__forward_ref__:mn});function Mi(r){return r.__forward_ref__=Mi,r.toString=function(){return ir(this())},r}function le(r){return pe(r)?r():r}function pe(r){return"function"==typeof r&&r.hasOwnProperty(Pi)&&r.__forward_ref__===Mi}function ht(r,s,a,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function Dn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ys(r){return{providers:r.providers||[],imports:r.imports||[]}}function Ce(r){return Ve(r,Gt)||Ve(r,Zn)}function de(r){return null!==Ce(r)}function Ve(r,s){return r.hasOwnProperty(s)?r[s]:null}function zt(r){return r&&(r.hasOwnProperty(sn)||r.hasOwnProperty(xn))?r[sn]:null}const Gt=mn({\u0275prov:mn}),sn=mn({\u0275inj:mn}),Zn=mn({ngInjectableDef:mn}),xn=mn({ngInjectorDef:mn});class $t{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Dn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qo(r){return r&&!!r.\u0275providers}const xi=mn({\u0275cmp:mn}),Ta=mn({\u0275dir:mn}),Is=mn({\u0275pipe:mn}),Qa=mn({\u0275mod:mn}),Oi=mn({\u0275fac:mn}),wr=mn({__NG_ELEMENT_ID__:mn}),Qo=mn({__NG_ENV_ID__:mn});function Wt(r){return"string"==typeof r?r:null==r?"":String(r)}function To(r,s){throw new ct(-201,!1)}var on=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(on||{});let Ni;function wa(){return Ni}function Wr(r){const s=Ni;return Ni=r,s}function Xa(r,s,a){const l=Ce(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&on.Optional?null:void 0!==s?s:void To()}const wo={},Za="__NG_DI_FLAG__",Yo="ngTempTokenPath",Zo=/\n/gm,Do="__source";let Js;function ei(r){const s=Js;return Js=r,s}function Ja(r,s=on.Default){if(void 0===Js)throw new ct(-203,!1);return null===Js?Xa(r,void 0,s):Js.get(r,s&on.Optional?null:void 0,s)}function Kr(r,s=on.Default){return(wa()||Ja)(le(r),s)}function Kt(r,s=on.Default){return Kr(r,to(s))}function to(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function $i(r){const s=[];for(let a=0;a<r.length;a++){const l=le(r[a]);if(Array.isArray(l)){if(0===l.length)throw new ct(900,!1);let d,f=on.Default;for(let _=0;_<l.length;_++){const y=l[_],w=us(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}s.push(Kr(d,f))}else s.push(Kr(l))}return s}function pr(r,s){return r[Za]=s,r.prototype[Za]=s,r}function us(r){return r[Za]}const ai=pr(Mn("Optional"),8),gi=pr(Mn("SkipSelf"),4);function ws(r,s){return r.hasOwnProperty(Oi)?r[Oi]:null}function Cs(r,s){r.forEach(a=>Array.isArray(a)?Cs(a,s):s(a))}function Ca(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Ao(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Jo(r,s,a){const l=r.length-a;for(;s<l;)r[s]=r[s+a],s++;for(;a--;)r.pop()}function th(r,s,a,l){let d=r.length;if(d==s)r.push(a,l);else if(1===d)r.push(l,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=l}}function mi(r,s,a){let l=Hi(r,s);return l>=0?r[1|l]=a:(l=~l,th(r,l,s,a)),l}function Da(r,s){const a=Hi(r,s);if(a>=0)return r[1|a]}function Hi(r,s){return function So(r,s,a){let l=0,d=r.length>>a;for(;d!==l;){const f=l+(d-l>>1),_=r[f<<a];if(s===_)return f<<a;_>s?d=f:l=f+1}return~(d<<a)}(r,s,1)}const li={},bn=[],io=new $t(""),xc=new $t("",-1),Oc=new $t("");class As{get(s,a=wo){if(a===wo){const l=new Error(`NullInjectorError: No provider for ${ir(s)}!`);throw l.name="NullInjectorError",l}return a}}var nl=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(nl||{}),Hs=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Hs||{}),Ro=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(Ro||{});function ju(r,s,a){let l=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||r.charCodeAt(d+f)<=32)return d}a=d+1}}function Aa(r,s,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const f=a[l++],_=a[l++],y=a[l++];r.setAttribute(s,_,y,f)}else{const f=d,_=a[++l];rl(f)?r.setProperty(s,f,_):r.setAttribute(s,f,_),l++}}return l}function zi(r){return 3===r||4===r||6===r}function rl(r){return 64===r.charCodeAt(0)}function qr(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||ea(r,a,d,null,-1===a||2===a?s[++l]:null)}}return r}function ea(r,s,a,l,d){let f=0,_=r.length;if(-1===s)_=-1;else for(;f<r.length;){const y=r[f++];if("number"==typeof y){if(y===s){_=-1;break}if(y>s){_=f-1;break}}}for(;f<r.length;){const y=r[f];if("number"==typeof y)break;if(y===a){if(null===l)return void(null!==d&&(r[f+1]=d));if(l===r[f+1])return void(r[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==_&&(r.splice(_,0,s),f=_+1),r.splice(f++,0,a),null!==l&&r.splice(f++,0,l),null!==d&&r.splice(f++,0,d)}const ds="ng-template";function il(r,s,a,l){let d=0;if(l){for(;d<s.length&&"string"==typeof s[d];d+=2)if("class"===s[d]&&-1!==ju(s[d+1].toLowerCase(),a,0))return!0}else if(ql(r))return!1;if(d=s.indexOf(1,d),d>-1){let f;for(;++d<s.length&&"string"==typeof(f=s[d]);)if(f.toLowerCase()===a)return!0}return!1}function ql(r){return 4===r.type&&r.value!==ds}function nh(r,s,a){return s===(4!==r.type||a?r.value:ds)}function sl(r,s,a){let l=4;const d=r.attrs,f=null!==d?function Gs(r){for(let s=0;s<r.length;s++)if(zi(r[s]))return s;return r.length}(d):0;let _=!1;for(let y=0;y<s.length;y++){const w=s[y];if("number"!=typeof w){if(!_)if(4&l){if(l=2|1&l,""!==w&&!nh(r,w,a)||""===w&&1===s.length){if(_i(l))return!1;_=!0}}else if(8&l){if(null===d||!il(r,d,w,a)){if(_i(l))return!1;_=!0}}else{const M=s[++y],F=Ql(w,d,ql(r),a);if(-1===F){if(_i(l))return!1;_=!0;continue}if(""!==M){let W;if(W=F>f?"":d[F+1].toLowerCase(),2&l&&M!==W){if(_i(l))return!1;_=!0}}}}else{if(!_&&!_i(l)&&!_i(w))return!1;if(_&&_i(w))continue;_=!1,l=w|1&l}}return _i(l)||_}function _i(r){return!(1&r)}function Ql(r,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let f=!1;for(;d<s.length;){const _=s[d];if(_===r)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function Un(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const l=r[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,r)}function ta(r,s,a=!1){for(let l=0;l<s.length;l++)if(sl(r,s[l],a))return!0;return!1}function ol(r,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(r.length===l.length){for(let d=0;d<r.length;d++)if(r[d]!==l[d])continue e;return!0}}return!1}function Po(r,s){return r?":not("+s.trim()+")":s}function so(r){let s=r[0],a=1,l=2,d="",f=!1;for(;a<r.length;){let _=r[a];if("string"==typeof _)if(2&l){const y=r[++a];d+="["+_+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!_i(_)&&(s+=Po(f,d),d=""),l=_,f=f||!_i(l);a++}return""!==d&&(s+=Po(f,d)),s}function Sa(r){return Ge(()=>{const s=ll(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===nl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Hs.Emulated,styles:r.styles||bn,_:null,schemas:r.schemas||null,tView:null,id:""};Xl(a);const l=r.dependencies;return a.directiveDefs=Ws(l,!1),a.pipeDefs=Ws(l,!0),a.id=function Yl(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function Lc(r){return nn(r)||Nr(r)}function Fc(r){return null!==r}function Vc(r){return Ge(()=>({type:r.type,bootstrap:r.bootstrap||bn,declarations:r.declarations||bn,imports:r.imports||bn,exports:r.exports||bn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ra(r,s){if(null==r)return li;const a={};for(const l in r)if(r.hasOwnProperty(l)){const d=r[l];let f,_,y=Ro.None;Array.isArray(d)?(y=d[0],f=d[1],_=d[2]??f):(f=d,_=d),s?(a[f]=y!==Ro.None?[l,y]:l,s[f]=_):a[f]=l}return a}function al(r){return Ge(()=>{const s=ll(r);return Xl(s),s})}function Ss(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function nn(r){return r[xi]||null}function Nr(r){return r[Ta]||null}function Cr(r){return r[Is]||null}function wi(r){const s=nn(r)||Nr(r)||Cr(r);return null!==s&&s.standalone}function ci(r,s){const a=r[Qa]||null;if(!a&&!0===s)throw new Error(`Type ${ir(r)} does not have '\u0275mod' property.`);return a}function ll(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||li,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||bn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ra(r.inputs,s),outputs:Ra(r.outputs),debugInfo:null}}function Xl(r){r.features?.forEach(s=>s(r))}function Ws(r,s){if(!r)return null;const a=s?Cr:Lc;return()=>("function"==typeof r?r():r).map(l=>a(l)).filter(Fc)}function cl(r){return{\u0275providers:r}}function Mo(...r){return{\u0275providers:oo(0,r),\u0275fromNgModule:!0}}function oo(r,...s){const a=[],l=new Set;let d;const f=_=>{a.push(_)};return Cs(s,_=>{const y=_;ns(y,f,[],l)&&(d||=[],d.push(y))}),void 0!==d&&Ks(d,f),a}function Ks(r,s){for(let a=0;a<r.length;a++){const{ngModule:l,providers:d}=r[a];na(d,f=>{s(f,l)})}}function ns(r,s,a,l){if(!(r=le(r)))return!1;let d=null,f=zt(r);const _=!f&&nn(r);if(f||_){if(_&&!_.standalone)return!1;d=r}else{const w=r.ngModule;if(f=zt(w),!f)return!1;d=w}const y=l.has(d);if(_){if(y)return!1;if(l.add(d),_.dependencies){const w="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const M of w)ns(M,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!y){let M;l.add(d);try{Cs(f.imports,F=>{ns(F,s,a,l)&&(M||=[],M.push(F))})}finally{}void 0!==M&&Ks(M,s)}if(!y){const M=ws(d)||(()=>new d);s({provide:d,useFactory:M,deps:bn},d),s({provide:Oc,useValue:d,multi:!0},d),s({provide:io,useValue:()=>Kr(d),multi:!0},d)}const w=f.providers;if(null!=w&&!y){const M=r;na(w,F=>{s(F,M)})}}}return d!==r&&void 0!==r.providers}function na(r,s){for(let a of r)qo(a)&&(a=a.\u0275providers),Array.isArray(a)?na(a,s):s(a)}const ul=mn({provide:String,useValue:mn});function dl(r){return null!==r&&"object"==typeof r&&ul in r}function Oo(r){return"function"==typeof r}const ao=new $t(""),Jl={},hl={};let ec;function Rs(){return void 0===ec&&(ec=new As),ec}class Dr{}class rs extends Dr{get destroyed(){return this._destroyed}constructor(s,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pa(s,_=>this.processProvider(_)),this.records.set(xc,ra(void 0,this)),d.has("environment")&&this.records.set(Dr,ra(void 0,this));const f=this.records.get(ao);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Oc,bn,on.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=ce(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of a)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=ei(this),l=Wr(void 0);try{return s()}finally{ei(a),Wr(l)}}get(s,a=wo,l=on.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Qo))return s[Qo](this);l=to(l);const f=ei(this),_=Wr(void 0);try{if(!(l&on.SkipSelf)){let w=this.records.get(s);if(void 0===w){const M=function nc(r){return"function"==typeof r||"object"==typeof r&&r instanceof $t}(s)&&Ce(s);w=M&&this.injectableDefInScope(M)?ra(Bc(s),Jl):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&on.Self?Rs():this.parent).get(s,a=l&on.Optional&&a===wo?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Yo]=y[Yo]||[]).unshift(ir(s)),f)throw y;return function el(r,s,a,l){const d=r[Yo];throw s[Do]&&d.unshift(s[Do]),r.message=function no(r,s,a,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=ir(s);if(Array.isArray(s))d=s.map(ir).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let y=s[_];f.push(_+":"+("string"==typeof y?JSON.stringify(y):ir(y)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${r.replace(Zo,"\n  ")}`}("\n"+r.message,d,a,l),r.ngTokenPath=d,r[Yo]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{Wr(_),ei(f)}}resolveInjectorInitializers(){const s=ce(null),a=ei(this),l=Wr(void 0);try{const f=this.get(io,bn,on.Self);for(const _ of f)_()}finally{ei(a),Wr(l),ce(s)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(ir(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(s){let a=Oo(s=le(s))?s:le(s&&s.provide);const l=function Hu(r){return dl(r)?ra(void 0,r.useValue):ra(tc(r),Jl)}(s);if(!Oo(s)&&!0===s.multi){let d=this.records.get(a);d||(d=ra(void 0,Jl,!0),d.factory=()=>$i(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,l)}hydrate(s,a){const l=ce(null);try{return a.value===Jl&&(a.value=hl,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zu(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{ce(l)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=le(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Bc(r){const s=Ce(r),a=null!==s?s.factory:ws(r);if(null!==a)return a;if(r instanceof $t)throw new ct(204,!1);if(r instanceof Function)return function jc(r){if(r.length>0)throw new ct(204,!1);const a=function gt(r){return r&&(r[Gt]||r[Zn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new ct(204,!1)}function tc(r,s,a){let l;if(Oo(r)){const d=le(r);return ws(d)||Bc(d)}if(dl(r))l=()=>le(r.useValue);else if(function xo(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...$i(r.deps||[]));else if(function $u(r){return!(!r||!r.useExisting)}(r))l=()=>Kr(le(r.useExisting));else{const d=le(r&&(r.useClass||r.provide));if(!function ia(r){return!!r.deps}(r))return ws(d)||Bc(d);l=()=>new d(...$i(r.deps))}return l}function ra(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Pa(r,s){for(const a of r)Array.isArray(a)?Pa(a,s):a&&qo(a)?Pa(a.\u0275providers,s):s(a)}function lo(r,s){r instanceof rs&&r.assertNotDestroyed();const l=ei(r),d=Wr(void 0);try{return s()}finally{ei(l),Wr(d)}}function $c(){return void 0!==wa()||null!=function eo(){return Js}()}function qs(r){if(!$c())throw new ct(-203,!1)}const Ln=0,et=1,St=2,$n=3,sr=4,Hn=5,Qr=6,co=7,gr=8,ui=9,cr=10,Ht=11,Ma=12,Gu=13,rc=14,mr=15,Xr=16,fl=17,No=18,ki=19,uo=20,ko=21,Wu=22,Ne=23,an=25,_r=1,di=7,Ci=9,Bn=10;var Ms=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(Ms||{});function yi(r){return Array.isArray(r)&&"object"==typeof r[_r]}function Li(r){return Array.isArray(r)&&!0===r[_r]}function xa(r){return!!(4&r.flags)}function hs(r){return r.componentOffset>-1}function Lo(r){return!(1&~r.flags)}function vi(r){return!!r.template}function Fo(r){return!!(512&r[St])}class am{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Yf(r,s,a,l){null!==s?s.applyValueToInputSignal(s,l):r[a]=l}function I(){return A}function A(r){return r.type.prototype.ngOnChanges&&(r.setInput=S),b}function b(){const r=j(this),s=r?.current;if(s){const a=r.previous;if(a===li)r.previous=s;else for(let l in s)a[l]=s[l];r.current=null,this.ngOnChanges(s)}}function S(r,s,a,l,d){const f=this.declaredInputs[l],_=j(r)||function Z(r,s){return r[O]=s}(r,{previous:li,current:null}),y=_.current||(_.current={}),w=_.previous,M=w[f];y[f]=new am(M&&M.currentValue,a,w===li),Yf(r,s,d,a)}I.ngInherit=!0;const O="__ngSimpleChanges__";function j(r){return r[O]||null}const at=function(r,s,a){},ln="svg";let ur=!1;function Sn(r){for(;Array.isArray(r);)r=r[Ln];return r}function Qt(r,s){return Sn(s[r])}function Sr(r,s){return Sn(s[r.index])}function qc(r,s){return r.data[s]}function is(r,s){const a=s[r];return yi(a)?a:a[Ln]}function qu(r){return!(128&~r[St])}function ho(r,s){return null==s?null:r[s]}function uv(r){r[fl]=0}function cm(r){1024&r[St]||(r[St]|=1024,qu(r)&&lh(r))}function oh(r){return!!(9216&r[St]||r[Ne]?.dirty)}function ah(r){r[cr].changeDetectionScheduler?.notify(1),oh(r)?lh(r):64&r[St]&&(function sa(){return ur}()?(r[St]|=1024,lh(r)):r[cr].changeDetectionScheduler?.notify())}function lh(r){r[cr].changeDetectionScheduler?.notify();let s=Qc(r);for(;null!==s&&!(8192&s[St])&&(s[St]|=8192,qu(s));)s=Qc(s)}function ic(r,s){if(!(256&~r[St]))throw new ct(911,!1);null===r[ko]&&(r[ko]=[]),r[ko].push(s)}function dm(r,s){if(null===r[ko])return;const a=r[ko].indexOf(s);-1!==a&&r[ko].splice(a,1)}function Qc(r){const s=r[$n];return Li(s)?s[$n]:s}const Yt={lFrame:yv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hm(){return Yt.bindingsEnabled}function Qu(){return null!==Yt.skipHydrationRootTNode}function Le(){return Yt.lFrame.lView}function Nn(){return Yt.lFrame.tView}function Jf(r){return Yt.lFrame.contextLView=r,r[gr]}function pv(r){return Yt.lFrame.contextLView=null,r}function nr(){let r=ep();for(;null!==r&&64===r.type;)r=r.parent;return r}function ep(){return Yt.lFrame.currentTNode}function oa(r,s){const a=Yt.lFrame;a.currentTNode=r,a.isParent=s}function ch(){return Yt.lFrame.isParent}function gm(){Yt.lFrame.isParent=!1}function xs(){const r=Yt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Oa(){return Yt.lFrame.bindingIndex}function aa(){return Yt.lFrame.bindingIndex++}function _l(r){const s=Yt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function ob(r,s){const a=Yt.lFrame;a.bindingIndex=a.bindingRootIndex=r,rp(s)}function rp(r){Yt.lFrame.currentDirectiveIndex=r}function Xu(){return Yt.lFrame.currentQueryIndex}function ip(r){Yt.lFrame.currentQueryIndex=r}function lb(r){const s=r[et];return 2===s.type?s.declTNode:1===s.type?r[Hn]:null}function mv(r,s,a){if(a&on.SkipSelf){let d=s,f=r;for(;!(d=d.parent,null!==d||a&on.Host||(d=lb(f),null===d||(f=f[rc],10&d.type))););if(null===d)return!1;s=d,r=f}const l=Yt.lFrame=_v();return l.currentTNode=s,l.lView=r,!0}function ym(r){const s=_v(),a=r[et];Yt.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function _v(){const r=Yt.lFrame,s=null===r?null:r.child;return null===s?yv(r):s}function yv(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function vv(){const r=Yt.lFrame;return Yt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Iv=vv;function uh(){const r=vv();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function fs(){return Yt.lFrame.selectedIndex}function Yc(r){Yt.lFrame.selectedIndex=r}function Lr(){const r=Yt.lFrame;return qc(r.tView,r.selectedIndex)}function Ev(){Yt.lFrame.currentNamespace=ln}let dh=!0;function Zt(){return dh}function ps(r){dh=r}function hh(r,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=r.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:M,ngOnDestroy:F}=f;_&&(r.contentHooks??=[]).push(-a,_),y&&((r.contentHooks??=[]).push(a,y),(r.contentCheckHooks??=[]).push(a,y)),w&&(r.viewHooks??=[]).push(-a,w),M&&((r.viewHooks??=[]).push(a,M),(r.viewCheckHooks??=[]).push(a,M)),null!=F&&(r.destroyHooks??=[]).push(a,F)}}function yl(r,s,a){sp(r,s,3,a)}function fh(r,s,a,l){(3&r[St])===a&&sp(r,s,a,l)}function ph(r,s){let a=r[St];(3&a)===s&&(a&=16383,a+=1,r[St]=a)}function sp(r,s,a,l){const f=l??-1,_=s.length-1;let y=0;for(let w=void 0!==l?65535&r[fl]:0;w<_;w++)if("number"==typeof s[w+1]){if(y=s[w],null!=l&&y>=l)break}else s[w]<0&&(r[fl]+=65536),(y<f||-1==f)&&(gh(r,a,s,w),r[fl]=(4294901760&r[fl])+w+2),w++}function Di(r,s){at(4,r,s);const a=ce(null);try{s.call(r)}finally{ce(a),at(5,r,s)}}function gh(r,s,a,l){const d=a[l]<0,f=a[l+1],y=r[d?-a[l]:a[l]];d?r[St]>>14<r[fl]>>16&&(3&r[St])===s&&(r[St]+=16384,Di(y,f)):Di(y,f)}const ti=-1;class Os{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Zc(r){return r!==ti}function Ns(r){return 32767&r}function Yu(r,s){let a=function yh(r){return r>>16}(r),l=s;for(;a>0;)l=l[rc],a--;return l}let Im=!0;function Na(r){const s=Im;return Im=r,s}const p=255,m=5;let T=0;const N={};function ne(r,s){const a=ze(r,s);if(-1!==a)return a;const l=s[et];l.firstCreatePass&&(r.injectorIndex=s.length,ye(l.data,r),ye(s,null),ye(l.blueprint,null));const d=Tt(r,s),f=r.injectorIndex;if(Zc(d)){const _=Ns(d),y=Yu(d,s),w=y[et].data;for(let M=0;M<8;M++)s[f+M]=y[_+M]|w[_+M]}return s[f+8]=d,f}function ye(r,s){r.push(0,0,0,0,0,0,0,0,s)}function ze(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Tt(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){if(l=Tv(d),null===l)return ti;if(a++,d=d[rc],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return ti}function Ot(r,s,a){!function G(r,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(wr)&&(l=a[wr]),null==l&&(l=a[wr]=T++);const d=l&p;s.data[r+(d>>m)]|=1<<d}(r,s,a)}function Ai(r,s,a){if(a&on.Optional||void 0!==r)return r;To()}function ka(r,s,a,l){if(a&on.Optional&&void 0===l&&(l=null),!(a&(on.Self|on.Host))){const d=r[ui],f=Wr(void 0);try{return d?d.get(s,l,a&on.Optional):Xa(s,l,a&on.Optional)}finally{Wr(f)}}return Ai(l,0,a)}function La(r,s,a,l=on.Default,d){if(null!==r){if(2048&s[St]&&!(l&on.Self)){const _=function db(r,s,a,l,d){let f=r,_=s;for(;null!==f&&null!==_&&2048&_[St]&&!(512&_[St]);){const y=ap(f,_,a,l|on.Self,N);if(y!==N)return y;let w=f.parent;if(!w){const M=_[uo];if(M){const F=M.get(a,N,l);if(F!==N)return F}w=Tv(_),_=_[rc]}f=w}return d}(r,s,a,l,N);if(_!==N)return _}const f=ap(r,s,a,l,N);if(f!==N)return f}return ka(s,a,l,d)}function ap(r,s,a,l,d){const f=function cp(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(wr)?r[wr]:void 0;return"number"==typeof s?s>=0?s&p:Zu:s}(a);if("function"==typeof f){if(!mv(s,r,l))return l&on.Host?Ai(d,0,l):ka(s,a,l,d);try{let _;if(_=f(l),null!=_||l&on.Optional)return _;To()}finally{Iv()}}else if("number"==typeof f){let _=null,y=ze(r,s),w=ti,M=l&on.Host?s[mr][Hn]:null;for((-1===y||l&on.SkipSelf)&&(w=-1===y?Tt(r,s):s[y+8],w!==ti&&Ih(l,!1)?(_=s[et],y=Ns(w),s=Yu(w,s)):y=-1);-1!==y;){const F=s[et];if(vh(f,y,F.data)){const W=lp(y,s,a,_,l,M);if(W!==N)return W}w=s[y+8],w!==ti&&Ih(l,s[et].data[y+8]===M)&&vh(f,y,s)?(_=F,y=Ns(w),s=Yu(w,s)):y=-1}}return d}function lp(r,s,a,l,d,f){const _=s[et],y=_.data[r+8],F=vl(y,_,a,null==l?hs(y)&&Im:l!=_&&!!(3&y.type),d&on.Host&&f===y);return null!==F?la(s,_,F,y):N}function vl(r,s,a,l,d){const f=r.providerIndexes,_=s.data,y=1048575&f,w=r.directiveStart,F=f>>20,te=d?y+F:r.directiveEnd;for(let oe=l?y:y+F;oe<te;oe++){const ge=_[oe];if(oe<w&&a===ge||oe>=w&&ge.type===a)return oe}if(d){const oe=_[w];if(oe&&vi(oe)&&oe.type===a)return w}return null}function la(r,s,a,l){let d=r[a];const f=s.data;if(function vm(r){return r instanceof Os}(d)){const _=d;_.resolving&&function Xo(r,s){throw s&&s.join(" > "),new ct(-200,r)}(function pn(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Wt(r)}(f[a]));const y=Na(_.canSeeViewProviders);_.resolving=!0;const M=_.injectImpl?Wr(_.injectImpl):null;mv(r,l,on.Default);try{d=r[a]=_.factory(void 0,f,r,l),s.firstCreatePass&&a>=l.directiveStart&&function sc(r,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const _=A(s);(a.preOrderHooks??=[]).push(r,_),(a.preOrderCheckHooks??=[]).push(r,_)}d&&(a.preOrderHooks??=[]).push(0-r,d),f&&((a.preOrderHooks??=[]).push(r,f),(a.preOrderCheckHooks??=[]).push(r,f))}(a,f[a],s)}finally{null!==M&&Wr(M),Na(y),_.resolving=!1,Iv()}}return d}function vh(r,s,a){return!!(a[s+(r>>m)]&1<<r)}function Ih(r,s){return!(r&on.Self||r&on.Host&&s)}class hi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return La(this._tNode,this._lView,s,to(l),a)}}function Zu(){return new hi(nr(),Le())}function Eh(r){return Ge(()=>{const s=r.prototype.constructor,a=s[Oi]||up(s),l=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==l;){const f=d[Oi]||up(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function up(r){return pe(r)?()=>{const s=up(le(r));return s&&s()}:ws(r)}function Tv(r){const s=r[et],a=s.type;return 2===a?s.declTNode:1===a?r[Hn]:null}function Em(r){return function Rn(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(zi(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(nr(),r)}function pb(r,s=null,a=null,l){const d=Rv(r,s,a,l);return d.resolveInjectorInitializers(),d}function Rv(r,s=null,a=null,l,d=new Set){const f=[a||bn,Mo(r)];return l=l||("object"==typeof r?void 0:ir(r)),new rs(f,s||Rs(),l||null,d)}let Uo=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=wo;static#t=this.NULL=new As;static create(a,l){if(Array.isArray(a))return pb({name:""},l,a,"");{const d=a.name??"";return pb({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=Dn({token:r,providedIn:"any",factory:()=>Kr(xc)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function Ju(r){return r.ngOriginalError}class Va{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Ju(s);for(;a&&Ju(a);)a=Ju(a);return a||null}}const Pv=new $t("",{providedIn:"root",factory:()=>Kt(Va).handleError.bind(void 0)});let bh=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Mv;static#t=this.__NG_ENV_ID__=a=>a}return r})();class Tm extends bh{constructor(s){super(),this._lView=s}onDestroy(s){return ic(this._lView,s),()=>dm(this._lView,s)}}function Mv(){return new Tm(Le())}function mb(){return ac(nr(),Le())}function ac(r,s){return new pp(Sr(r,s))}let pp=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=mb}return r})();function _b(r){return r instanceof pp?r.nativeElement:r}function xv(r){return s=>{setTimeout(r,void 0,s)}}const Il=class Th extends vn.B{constructor(s=!1){super(),this.destroyRef=void 0,this.__isAsync=s,$c()&&(this.destroyRef=Kt(bh,{optional:!0})??void 0)}emit(s){const a=ce(null);try{super.next(s)}finally{ce(a)}}subscribe(s,a,l){let d=s,f=a||(()=>null),_=l;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),f=w.error?.bind(w),_=w.complete?.bind(w)}this.__isAsync&&(f=xv(f),d&&(d=xv(d)),_&&(_=xv(_)));const y=super.subscribe({next:d,error:f,complete:_});return s instanceof xr.yU&&s.add(y),y}};function ed(){return this._results[Symbol.iterator]()}class Dm{static#e=Symbol.iterator;get changes(){return this._changes??=new Il}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=Dm.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=ed)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const l=function Vn(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Mc(r,s,a){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let d=r[l],f=s[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(this._results,l,a))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function os(r){return!(128&~r.flags)}const td=new Map;let Am=0;const Ch="__ngContext__";function Fi(r,s){yi(s)?(r[Ch]=s[ki],function Nv(r){td.set(r[ki],r)}(s)):r[Ch]=s}function eu(r){return Db(r[Ma])}function Mm(r){return Db(r[sr])}function Db(r){for(;null!==r&&!Li(r);)r=r[sr];return r}let $v;function aA(r){$v=r}function ua(){if(void 0!==$v)return $v;if(typeof document<"u")return document;throw new ct(210,!1)}const cc=new $t("",{providedIn:"root",factory:()=>Pb}),Pb="ng",Hv=new $t(""),km=new $t("",{providedIn:"platform",factory:()=>"unknown"}),lA=new $t(""),cA=new $t("",{providedIn:"root",factory:()=>ua().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kv=()=>null;function qv(r,s,a=!1){return Kv(r,s,a)}const Zv=new $t("",{providedIn:"root",factory:()=>!1});let Oh,bl;function Pp(){if(void 0===Oh&&(Oh=null,Ft.trustedTypes))try{Oh=Ft.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Oh}function sd(r){return Pp()?.createHTML(r)||r}function $m(){if(void 0===bl&&(bl=null,Ft.trustedTypes))try{bl=Ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return bl}function eI(r){return $m()?.createHTML(r)||r}function nI(r){return $m()?.createScriptURL(r)||r}class Tl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ur})`}}class Bo extends Tl{getTypeName(){return"HTML"}}class Lb extends Tl{getTypeName(){return"Style"}}class Fb extends Tl{getTypeName(){return"Script"}}class Nh extends Tl{getTypeName(){return"URL"}}class _A extends Tl{getTypeName(){return"ResourceURL"}}function Wi(r){return r instanceof Tl?r.changingThisBreaksApplicationSecurity:r}function ru(r,s){const a=function yr(r){return r instanceof Tl&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Ur})`)}return a===s}function yA(r){return new Bo(r)}function rI(r){return new Lb(r)}function wl(r){return new Fb(r)}function Vb(r){return new Nh(r)}function iI(r){return new _A(r)}class sI{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(sd(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Ub{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=sd(s),a}}const ha=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vi(r){return(r=String(r)).match(ha)?r:"unsafe:"+r}function fa(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function iu(...r){const s={};for(const a of r)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const kh=fa("area,br,col,hr,img,wbr"),Mp=fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oI=fa("rp,rt"),Op=iu(kh,iu(Mp,fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),iu(oI,fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iu(oI,Mp)),aI=fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bb=iu(aI,fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hm=fa("script,style,template");class IA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0,d=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)d.push(a),a=jb(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let f=Lh(a);if(f){a=f;break}a=d.pop()}return this.buf.join("")}startElement(s){const a=Ki(s).toLowerCase();if(!Op.hasOwnProperty(a))return this.sanitizedSomething=!0,!Hm.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),_=f.name,y=_.toLowerCase();if(!Bb.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;aI[y]&&(w=Vi(w)),this.buf.push(" ",_,'="',$b(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=Ki(s).toLowerCase();Op.hasOwnProperty(a)&&!kh.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push($b(s))}}function Lh(r){const s=r.nextSibling;if(s&&r!==s.previousSibling)throw ad(s);return s}function jb(r){const s=r.firstChild;if(s&&function EA(r,s){return(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,s))throw ad(s);return s}function Ki(r){const s=r.nodeName;return"string"==typeof s?s:"FORM"}function ad(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const su=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fh=/([^\#-~ |!])/g;function $b(r){return r.replace(/&/g,"&amp;").replace(su,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Fh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ye;function Ei(r,s){let a=null;try{Ye=Ye||function od(r){const s=new Ub(r);return function uc(){try{return!!(new window.DOMParser).parseFromString(sd(""),"text/html")}catch{return!1}}()?new sI(s):s}(r);let l=s?String(s):"";a=Ye.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=Ye.getInertBodyElement(l)}while(l!==f);return sd((new IA).sanitizeChildren(Ls(a)||a))}finally{if(a){const l=Ls(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Ls(r){return"content"in r&&function lI(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var wt=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(wt||{});function Nt(r){const s=Np();return s?eI(s.sanitize(wt.HTML,r)||""):ru(r,"HTML")?eI(Wi(r)):Ei(ua(),Wt(r))}function ft(r){const s=Np();return s?s.sanitize(wt.URL,r)||"":ru(r,"URL")?Wi(r):Vi(Wt(r))}function Ae(r){const s=Np();if(s)return nI(s.sanitize(wt.RESOURCE_URL,r)||"");if(ru(r,"ResourceURL"))return nI(Wi(r));throw new ct(904,!1)}function cI(r){return function kb(r){return Pp()?.createScriptURL(r)||r}(r[0])}function Hb(r,s,a){return function TA(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Ae:ft}(s,a)(r)}function Np(){const r=Le();return r&&r[cr].sanitizer}const zb=/^>|^->|<!--|-->|--!>|<!-$/g,wA=/(<|>)/g,yM="\u200b$1\u200b";function Gm(r){ht("Must never be called in production mode");const a=function zm(r){ht("Must never be called in production mode");const a=r[mr][gr];return a&&a.constructor?nn(a.constructor):null}(r)?.type?.name;return a?` (used in the '${a}' component template)`:""}function hI(r){return r.ownerDocument}function Qs(r){return r instanceof Function?r():r}function he(r){return"browser"===(r??Kt(Uo)).get(km)}var Fp=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Fp||{});let Vp;function pI(r,s){return Vp(r,s)}function as(r,s,a,l,d){if(null!=l){let f,_=!1;Li(l)?f=l:yi(l)&&(_=!0,l=l[Ln]);const y=Sn(l);0===r&&null!==a?null==d?nT(s,a,y):dd(s,a,y,d||null,!0):1===r&&null!==a?dd(s,a,y,d||null,!0):2===r?function pa(r,s,a){const l=Xm(r,s);l&&function RA(r,s,a,l){r.removeChild(s,a,l)}(r,l,s,a)}(s,y,_):3===r&&s.destroyNode(y),null!=f&&function sT(r,s,a,l,d){const f=a[di];f!==Sn(a)&&as(s,r,l,f,d);for(let y=Bn;y<a.length;y++){const w=a[y];fd(w[et],w,r,s,l,f)}}(s,r,f,a,d)}}function Km(r,s){return r.createComment(function Gb(r){return r.replace(zb,s=>s.replace(wA,yM))}(s))}function Qi(r,s,a){return r.createElement(s,a)}function Ua(r,s){s[cr].changeDetectionScheduler?.notify(1),fd(r,s,s[Ht],2,null,null)}function eT(r,s){const a=r[Ci],l=a.indexOf(s);a.splice(l,1)}function Up(r,s){if(r.length<=Bn)return;const a=Bn+s,l=r[a];if(l){const d=l[Xr];null!==d&&d!==r&&eT(d,l),s>0&&(r[a-1][sr]=l[sr]);const f=Ao(r,Bn+s);!function DA(r,s){Ua(r,s),s[Ln]=null,s[Hn]=null}(l[et],l);const _=f[No];null!==_&&_.detachView(f[et]),l[$n]=null,l[sr]=null,l[St]&=-129}return l}function Qm(r,s){if(!(256&s[St])){const a=s[Ht];a.destroyNode&&fd(r,s,a,3,null,null),function Zb(r){let s=r[Ma];if(!s)return gI(r[et],r);for(;s;){let a=null;if(yi(s))a=s[Ma];else{const l=s[Bn];l&&(a=l)}if(!a){for(;s&&!s[sr]&&s!==r;)yi(s)&&gI(s[et],s),s=s[$n];null===s&&(s=r),yi(s)&&gI(s[et],s),a=s&&s[sr]}s=a}}(s)}}function gI(r,s){if(256&s[St])return;const a=ce(null);try{s[St]&=-129,s[St]|=256,s[Ne]&&Qe(s[Ne]),function SA(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof Os)){const f=a[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const y=d[f[_]],w=f[_+1];at(4,y,w);try{w.call(y)}finally{at(5,y,w)}}else{at(4,d,f);try{f.call(d)}finally{at(5,d,f)}}}}}(r,s),function AA(r,s){const a=r.cleanup,l=s[co];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+3];_>=0?l[_]():l[-_].unsubscribe(),f+=2}else a[f].call(l[a[f+1]]);null!==l&&(s[co]=null);const d=s[ko];if(null!==d){s[ko]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(r,s),1===s[et].type&&s[Ht].destroy();const l=s[Xr];if(null!==l&&Li(s[$n])){l!==s[$n]&&eT(l,s);const d=s[No];null!==d&&d.detachView(r)}!function Ib(r){td.delete(r[ki])}(s)}finally{ce(a)}}function mI(r,s,a){return function tT(r,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[Ln];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:f}=r.data[l.directiveStart+d];if(f===Hs.None||f===Hs.Emulated)return null}return Sr(l,a)}}(r,s.parent,a)}function dd(r,s,a,l,d){r.insertBefore(s,a,l,d)}function nT(r,s,a){r.appendChild(s,a)}function rT(r,s,a,l,d){null!==l?dd(r,s,a,l,d):nT(r,s,a)}function Xm(r,s){return r.parentNode(s)}function _I(r,s,a){return yI(r,s,a)}let Ym,yI=function iT(r,s,a){return 40&r.type?Sr(r,a):null};function Zm(r,s,a,l){const d=mI(r,l,s),f=s[Ht],y=_I(l.parent||s[Hn],l,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)rT(f,d,a[w],y,!1);else rT(f,d,a,y,!1);void 0!==Ym&&Ym(f,l,s,a,d)}function hd(r,s){if(null!==s){const a=s.type;if(3&a)return Sr(s,r);if(4&a)return Jm(-1,r[s.index]);if(8&a){const l=s.child;if(null!==l)return hd(r,l);{const d=r[s.index];return Li(d)?Jm(-1,d):Sn(d)}}if(32&a)return pI(s,r)()||Sn(r[s.index]);{const l=Xi(r,s);return null!==l?Array.isArray(l)?l[0]:hd(Qc(r[mr]),l):hd(r,s.next)}}return null}function Xi(r,s){return null!==s?r[mr][Hn].projection[s.projection]:null}function Jm(r,s){const a=Bn+r+1;if(a<s.length){const l=s[a],d=l[et].firstChild;if(null!==d)return hd(l,d)}return s[di]}function Rr(r,s,a,l,d,f,_){for(;null!=a;){const y=l[a.index],w=a.type;if(_&&0===s&&(y&&Fi(Sn(y),l),a.flags|=2),32&~a.flags)if(8&w)Rr(r,s,a.child,l,d,f,!1),as(s,r,d,y,f);else if(32&w){const M=pI(a,l);let F;for(;F=M();)as(s,r,d,F,f);as(s,r,d,y,f)}else 16&w?vr(r,s,l,a,d,f):as(s,r,d,y,f);a=_?a.projectionNext:a.next}}function fd(r,s,a,l,d,f){Rr(a,l,r.firstChild,s,d,f,!1)}function vr(r,s,a,l,d,f){const _=a[mr],w=_[Hn].projection[l.projection];if(Array.isArray(w))for(let M=0;M<w.length;M++)as(s,r,d,w[M],f);else{let M=w;const F=_[$n];os(l)&&(M.flags|=128),Rr(r,s,M,F,d,f,!0)}}function EI(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function oT(r,s,a){const{mergedAttrs:l,classes:d,styles:f}=a;null!==l&&Aa(r,s,l),null!==d&&EI(r,s,d),null!==f&&function po(r,s,a){r.setAttribute(s,"style",a)}(r,s,f)}const kt={};function aT(r=1){Cl(Nn(),Le(),fs()+r,!1)}function Cl(r,s,a,l){if(!l)if(3&~s[St]){const f=r.preOrderHooks;null!==f&&fh(s,f,0,a)}else{const f=r.preOrderCheckHooks;null!==f&&yl(s,f,a)}Yc(a)}function Vr(r,s=on.Default){const a=Le();return null===a?Kr(r,s):La(nr(),a,le(r),s)}function Dl(){throw new Error("invalid")}function Bp(r,s,a,l,d,f){const _=ce(null);try{let y=null;d&Ro.SignalBased&&(y=s[l][Me]),null!==y&&void 0!==y.transformFn&&(f=y.transformFn(f)),d&Ro.HasDecoratorInputTransform&&(f=r.inputTransforms[l].call(s,f)),null!==r.setInput?r.setInput(s,y,f,a,l):Yf(s,y,l,f)}finally{ce(_)}}function ou(r,s,a,l,d,f,_,y,w,M,F){const W=s.blueprint.slice();return W[Ln]=d,W[St]=204|l,(null!==M||r&&2048&r[St])&&(W[St]|=2048),uv(W),W[$n]=W[rc]=r,W[gr]=a,W[cr]=_||r&&r[cr],W[Ht]=y||r&&r[Ht],W[ui]=w||r&&r[ui]||null,W[Hn]=f,W[ki]=function vb(){return Am++}(),W[Qr]=F,W[uo]=M,W[mr]=2==s.type?r[mr]:W,W}function Hh(r,s,a,l,d){let f=r.data[s];if(null===f)f=function Al(r,s,a,l,d){const f=ep(),_=ch(),w=r.data[s]=function cT(r,s,a,l,d,f){let _=s?s.injectorIndex:-1,y=0;return Qu()&&(y|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,l,d);return null===r.firstChild&&(r.firstChild=w),null!==f&&(_?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w,w.prev=f)),w}(r,s,a,l,d),function sb(){return Yt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const _=function Xc(){const r=Yt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return oa(f,!0),f}function ga(r,s,a,l){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(l),r.blueprint.push(l),r.data.push(null);return d}function jp(r,s,a,l,d){const f=fs(),_=2&l;try{Yc(-1),_&&s.length>an&&Cl(r,s,an,!1),at(_?2:0,d),a(l,d)}finally{Yc(f),at(_?3:1,d)}}function Sl(r,s,a){if(xa(s)){const l=ce(null);try{const f=s.directiveEnd;for(let _=s.directiveStart;_<f;_++){const y=r.data[_];y.contentQueries&&y.contentQueries(1,a[_],_)}}finally{ce(l)}}}function ma(r,s,a){hm()&&(function pT(r,s,a,l){const d=a.directiveStart,f=a.directiveEnd;hs(a)&&function mT(r,s,a){const l=Sr(s,r),d=pc(a);let _=16;a.signals?_=4096:a.onPush&&(_=64);const y=s_(r,ou(r,d,null,_,l,s,null,r[cr].rendererFactory.createRenderer(l,a),null,null,null));r[s.index]=y}(s,a,r.data[d+a.componentOffset]),r.firstCreatePass||ne(a,s),Fi(l,s);const _=a.initialInputs;for(let y=d;y<f;y++){const w=r.data[y],M=la(s,r,y,a);Fi(M,s),null!==_&&_T(0,y-d,M,w,0,_),vi(w)&&(is(a.index,s)[gr]=la(s,r,y,a))}}(r,s,a,Sr(a,s)),!(64&~a.flags)&&Wh(r,s,a))}function pd(r,s,a=Sr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],y=-1===_?a(s,r):r[_];r[d++]=y}}}function pc(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=t_(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function t_(r,s,a,l,d,f,_,y,w,M,F){const W=an+l,te=W+d,oe=function zh(r,s){const a=[];for(let l=0;l<s;l++)a.push(l<r?null:kt);return a}(W,te),ge="function"==typeof M?M():M;return oe[et]={type:r,blueprint:oe,template:a,queries:null,viewQuery:y,declTNode:s,data:oe.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:ge,incompleteFirstPass:!1,ssrId:F}}let au=()=>null;function Hp(r,s,a,l,d){for(let f in s){if(!s.hasOwnProperty(f))continue;const _=s[f];if(void 0===_)continue;l??={};let y,w=Ro.None;Array.isArray(_)?(y=_[0],w=_[1]):y=_;let M=f;if(null!==d){if(!d.hasOwnProperty(f))continue;M=d[f]}0===r?Gh(l,a,M,y,w):Gh(l,a,M,y)}return l}function Gh(r,s,a,l,d){let f;r.hasOwnProperty(a)?(f=r[a]).push(s,l):f=r[a]=[s,l],void 0!==d&&f.push(d)}function go(r,s,a,l,d,f,_,y){const w=Sr(s,a);let F,M=s.inputs;!y&&null!=M&&(F=M[l])?(zp(r,a,F,l,d),hs(s)&&function dT(r,s){const a=is(s,r);16&a[St]||(a[St]|=64)}(a,s.index)):3&s.type&&(l=function MA(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),d=null!=_?_(d,s.value||"",l):d,f.setProperty(w,l,d))}function r_(r,s,a,l){if(hm()){const d=null===l?null:{"":-1},f=function gT(r,s){const a=r.directiveRegistry;let l=null,d=null;if(a)for(let f=0;f<a.length;f++){const _=a[f];if(ta(s,_.selectors,!1))if(l||(l=[]),vi(_))if(null!==_.findHostDirectiveDefs){const y=[];d=d||new Map,_.findHostDirectiveDefs(_,y,d),l.unshift(...y,_),kn(r,s,y.length)}else l.unshift(_),kn(r,s,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,l,d),l.push(_)}return null===l?null:[l,d]}(r,a);let _,y;null===f?_=y=null:[_,y]=f,null!==_&&$r(r,s,a,_,d,y),d&&function Ir(r,s,a){if(s){const l=r.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new ct(-301,!1);l.push(s[d],f)}}}(a,l,d)}a.mergedAttrs=qr(a.mergedAttrs,a.attrs)}function $r(r,s,a,l,d,f){for(let M=0;M<l.length;M++)Ot(ne(a,s),r,l[M].type);!function wI(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,l.length);for(let M=0;M<l.length;M++){const F=l[M];F.providersResolver&&F.providersResolver(F)}let _=!1,y=!1,w=ga(r,s,l.length,null);for(let M=0;M<l.length;M++){const F=l[M];a.mergedAttrs=qr(a.mergedAttrs,F.hostAttrs),CI(r,a,s,w,F),Kh(w,F,d),null!==F.contentQueries&&(a.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=64);const W=F.type.prototype;!_&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),_=!0),!y&&(W.ngOnChanges||W.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),y=!0),w++}!function uT(r,s,a){const d=s.directiveEnd,f=r.data,_=s.attrs,y=[];let w=null,M=null;for(let F=s.directiveStart;F<d;F++){const W=f[F],te=a?a.get(W):null,ge=te?te.outputs:null;w=Hp(0,W.inputs,F,w,te?te.inputs:null),M=Hp(1,W.outputs,F,M,ge);const ke=null===w||null===_||ql(s)?null:yT(w,F,_);y.push(ke)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=y,s.inputs=w,s.outputs=M}(r,a,f)}function Wh(r,s,a){const l=a.directiveStart,d=a.directiveEnd,f=a.index,_=function ab(){return Yt.lFrame.currentDirectiveIndex}();try{Yc(f);for(let y=l;y<d;y++){const w=r.data[y],M=s[y];rp(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&xA(w,M)}}finally{Yc(-1),rp(_)}}function xA(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function kn(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function Kh(r,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=r;vi(s)&&(a[""]=r)}}function CI(r,s,a,l,d){r.data[l]=d;const f=d.factory||(d.factory=ws(d.type)),_=new Os(f,vi(d),Vr);r.blueprint[l]=_,a[l]=_,function lu(r,s,a,l,d){const f=d.hostBindings;if(f){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const y=~s.index;(function fT(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(_)!=y&&_.push(y),_.push(a,l,f)}}(r,s,l,ga(r,a,d.hostVars,kt),d)}function _a(r,s,a,l,d,f){const _=Sr(r,s);!function i_(r,s,a,l,d,f,_){if(null==f)r.removeAttribute(s,d,a);else{const y=null==_?Wt(f):_(f,l||"",d);r.setAttribute(s,d,y,a)}}(s[Ht],_,f,r.value,a,l,d)}function _T(r,s,a,l,d,f){const _=f[s];if(null!==_)for(let y=0;y<_.length;)Bp(l,a,_[y++],_[y++],_[y++],_[y++])}function yT(r,s,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===l&&(l=[]);const _=r[f];for(let y=0;y<_.length;y+=3)if(_[y]===s){l.push(f,_[y+1],_[y+2],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function vT(r,s,a,l){return[r,!0,0,s,null,l,null,a,null,null]}function IT(r,s){const a=r.contentQueries;if(null!==a){const l=ce(null);try{for(let d=0;d<a.length;d+=2){const _=a[d+1];if(-1!==_){const y=r.data[_];ip(a[d]),y.contentQueries(2,s[_],_)}}}finally{ce(l)}}}function s_(r,s){return r[Ma]?r[Gu][sr]=s:r[Ma]=s,r[Gu]=s,s}function o_(r,s,a){ip(0);const l=ce(null);try{s(r,a)}finally{ce(l)}}function DI(r){return r[co]||(r[co]=[])}function ET(r){return r.cleanup||(r.cleanup=[])}function a_(r,s){const a=r[ui],l=a?a.get(Va,null):null;l&&l.handleError(s)}function zp(r,s,a,l,d){for(let f=0;f<a.length;){const _=a[f++],y=a[f++],w=a[f++];Bp(r.data[_],s[_],l,y,w,d)}}function Xs(r,s,a){const l=Qt(s,r);!function jh(r,s,a){r.setValue(s,a)}(r[Ht],l,a)}function Gp(r,s){const a=is(s,r),l=a[et];!function l_(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(l,a);const d=a[Ln];null!==d&&null===a[Qr]&&(a[Qr]=qv(d,a[ui])),qh(l,a,a[gr])}function qh(r,s,a){ym(s);try{const l=r.viewQuery;null!==l&&o_(1,l,a);const d=r.template;null!==d&&jp(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),s[No]?.finishViewCreation(r),r.staticContentQueries&&IT(r,s),r.staticViewQueries&&o_(2,r.viewQuery,a);const f=r.components;null!==f&&function TT(r,s){for(let a=0;a<s.length;a++)Gp(r,s[a])}(s,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[St]&=-5,uh()}}function Qh(r,s,a,l){const d=ce(null);try{const f=s.tView,w=ou(r,f,a,4096&r[St]?4096:16,null,s,null,null,l?.injector??null,l?.embeddedViewInjector??null,l?.dehydratedView??null);w[Xr]=r[s.index];const F=r[No];return null!==F&&(w[No]=F.createEmbeddedView(f)),qh(f,w,a),w}finally{ce(d)}}function Rl(r,s){const a=Bn+s;if(a<r.length)return r[a]}function gd(r,s){return!s||null===s.firstChild||os(r)}function Pl(r,s,a,l=!0){const d=s[et];if(function qm(r,s,a,l){const d=Bn+l,f=a.length;l>0&&(a[d-1][sr]=s),l<f-Bn?(s[sr]=a[d],Ca(a,Bn+l,s)):(a.push(s),s[sr]=null),s[$n]=a;const _=s[Xr];null!==_&&a!==_&&function Jb(r,s){const a=r[Ci];s[mr]!==s[$n][$n][mr]&&(r[St]|=Ms.HasTransplantedViews),null===a?r[Ci]=[s]:a.push(s)}(_,s);const y=s[No];null!==y&&y.insertView(r),ah(s),s[St]|=128}(d,s,r,a),l){const _=Jm(a,r),y=s[Ht],w=Xm(y,r[di]);null!==w&&function Yb(r,s,a,l,d,f){l[Ln]=d,l[Hn]=s,fd(r,l,a,1,d,f)}(d,r[Hn],y,s,w,_)}const f=s[Qr];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function c_(r,s){const a=Up(r,s);return void 0!==a&&Qm(a[et],a),a}function md(r,s,a,l,d=!1){for(;null!==a;){const f=s[a.index];null!==f&&l.push(Sn(f)),Li(f)&&_d(f,l);const _=a.type;if(8&_)md(r,s,a.child,l);else if(32&_){const y=pI(a,s);let w;for(;w=y();)l.push(w)}else if(16&_){const y=Xi(s,a);if(Array.isArray(y))l.push(...y);else{const w=Qc(s[mr]);md(w[et],w,y,l,!0)}}a=d?a.projectionNext:a.next}return l}function _d(r,s){for(let a=Bn;a<r.length;a++){const l=r[a],d=l[et].firstChild;null!==d&&md(l[et],l,d,s)}r[di]!==r[Ln]&&s.push(r[di])}let Vs=[];const Wp={...ee,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{lh(r.lView)},consumerOnSignalRead(){this.lView[Ne]=this}},SI=100;function gc(r,s=!0,a=0){const l=r[cr],d=l.rendererFactory;d.begin?.();try{!function Kp(r,s){yd(r,s);let a=0;for(;oh(r);){if(a===SI)throw new ct(103,!1);a++,yd(r,1)}}(r,a)}catch(_){throw s&&a_(r,_),_}finally{d.end?.(),l.inlineEffectRunner?.flush()}}function CT(r,s,a,l){const d=s[St];if(!(256&~d))return;s[cr].inlineEffectRunner?.flush(),ym(s);let _=null,y=null;(function NA(r){return 2!==r.type})(r)&&(y=function wT(r){return r[Ne]??function AI(r){const s=Vs.pop()??Object.create(Wp);return s.lView=r,s}(r)}(s),_=bt(y));try{uv(s),function tp(r){return Yt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&jp(r,s,a,2,l);const w=!(3&~d);if(w){const W=r.preOrderCheckHooks;null!==W&&yl(s,W,null)}else{const W=r.preOrderHooks;null!==W&&fh(s,W,0,null),ph(s,0)}if(function kA(r){for(let s=eu(r);null!==s;s=Mm(s)){if(!(s[St]&Ms.HasTransplantedViews))continue;const a=s[Ci];for(let l=0;l<a.length;l++){cm(a[l])}}}(s),Ml(s,0),null!==r.contentQueries&&IT(r,s),w){const W=r.contentCheckHooks;null!==W&&yl(s,W)}else{const W=r.contentHooks;null!==W&&fh(s,W,1),ph(s,1)}!function e_(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Yc(~d);else{const f=d,_=a[++l],y=a[++l];ob(_,f),y(2,s[f])}}}finally{Yc(-1)}}(r,s);const M=r.components;null!==M&&PI(s,M,0);const F=r.viewQuery;if(null!==F&&o_(2,F,l),w){const W=r.viewCheckHooks;null!==W&&yl(s,W)}else{const W=r.viewHooks;null!==W&&fh(s,W,2),ph(s,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Wu]){for(const W of s[Wu])W();s[Wu]=null}s[St]&=-73}catch(w){throw lh(s),w}finally{null!==y&&(un(y,_),function u_(r){r.lView[Ne]!==r&&(r.lView=null,Vs.push(r))}(y)),uh()}}function Ml(r,s){for(let a=eu(r);null!==a;a=Mm(a))for(let l=Bn;l<a.length;l++)RI(a[l],s)}function mo(r,s,a){RI(is(s,r),a)}function RI(r,s){qu(r)&&yd(r,s)}function yd(r,s){const l=r[et],d=r[St],f=r[Ne];let _=!!(0===s&&16&d);if(_||=!!(64&d&&0===s),_||=!!(1024&d),_||=!(!f?.dirty||!En(f)),f&&(f.dirty=!1),r[St]&=-9217,_)CT(l,r,l.template,r[gr]);else if(8192&d){Ml(r,1);const y=l.components;null!==y&&PI(r,y,1)}}function PI(r,s,a){for(let l=0;l<s.length;l++)mo(r,s[l],a)}function _o(r){for(r[cr].changeDetectionScheduler?.notify();r;){r[St]|=64;const s=Qc(r);if(Fo(r)&&!s)return r;r=s}return null}class Xh{get rootNodes(){const s=this._lView,a=s[et];return md(a,s,a.firstChild,[])}constructor(s,a,l=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gr]}set context(s){this._lView[gr]=s}get destroyed(){return!(256&~this._lView[St])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[$n];if(Li(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Up(s,l),Ao(a,l))}this._attachedToViewContainer=!1}Qm(this._lView[et],this._lView)}onDestroy(s){ic(this._lView,s)}markForCheck(){_o(this._cdRefInjectingView||this._lView)}detach(){this._lView[St]&=-129}reattach(){ah(this._lView),this._lView[St]|=128}detectChanges(){this._lView[St]|=1024,gc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ua(this._lView[et],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=s,ah(this._lView)}}let mc=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Tn}return r})();const LA=mc,FA=class extends LA{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,l){const d=Qh(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:l});return new Xh(d)}};function Tn(){return d_(nr(),Le())}function d_(r,s){return 4&r.type?new FA(s,r,ac(r,s)):null}let OI=()=>null;function Ed(r,s){return OI(r,s)}class tf{}class eg{}class nf{}class VT{resolveComponentFactory(s){throw function tg(r){const s=Error(`No component factory found for ${ir(r)}.`);return s.ngComponent=r,s}(s)}}let rg=(()=>{class r{static#e=this.NULL=new VT}return r})();class UT{}let BT=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function jT(){const r=Le(),a=is(nr().index,r);return(yi(a)?a:r)[Ht]}()}return r})(),GA=(()=>{class r{static#e=this.\u0275prov=Dn({token:r,providedIn:"root",factory:()=>null})}return r})();const NI={},$T=new Set;function $o(r){$T.has(r)||($T.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function bd(...r){}class wn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function HT(){const r="function"==typeof Ft.requestAnimationFrame;let s=Ft[r?"requestAnimationFrame":"setTimeout"],a=Ft[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function sg(r){const s=()=>{!function zT(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ft,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,ya(r),r.isCheckStableRunning=!0,ig(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),ya(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,_,y)=>{if(function GT(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(y))return a.invokeTask(d,f,_,y);try{return LI(r),a.invokeTask(d,f,_,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),FI(r)}},onInvoke:(a,l,d,f,_,y,w)=>{try{return LI(r),a.invoke(d,f,_,y,w)}finally{r.shouldCoalesceRunChangeDetection&&s(),FI(r)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,ya(r),ig(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wn.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(wn.isInAngularZone())throw new ct(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,kI,bd,bd);try{return f.runTask(_,a,l)}finally{f.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const kI={};function ig(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function ya(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function LI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function FI(r){r._nesting--,ig(r)}var uu=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(uu||{});const KT={destroy(){}};function v_(r,s){!s&&qs();const a=s?.injector??Kt(Uo);if(!he(a))return KT;$o("NgAfterNextRender");const l=a.get(Td),d=l.handler??=new UI,f=s?.phase??uu.MixedReadWrite,_=()=>{d.unregister(w),y()},y=a.get(bh).onDestroy(_),w=lo(a,()=>new qT(f,()=>{_(),r()}));return d.register(w),{destroy:_}}class qT{constructor(s,a){this.phase=s,this.callbackFn=a,this.zone=Kt(wn),this.errorHandler=Kt(Va,{optional:!0}),Kt(tf,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){this.errorHandler?.handleError(s)}}}class UI{constructor(){this.executingCallbacks=!1,this.buckets={[uu.EarlyRead]:new Set,[uu.Write]:new Set,[uu.MixedReadWrite]:new Set,[uu.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const a of s)a.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let Td=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of a)l()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Dn({token:r,providedIn:"root",factory:()=>new r})}return r})();function du(r){return!!ci(r)}function cg(r,s,a){let l=a?r.styles:null,d=a?r.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const y=s[_];"number"==typeof y?f=y:1==f?d=fr(d,y):2==f&&(l=fr(l,y+": "+s[++_]+";"))}a?r.styles=l:r.stylesWithoutHost=l,a?r.classes=d:r.classesWithoutHost=d}class XT extends rg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=nn(s);return new Ba(a,this.ngModule)}}function jI(r){const s=[];for(const a in r){if(!r.hasOwnProperty(a))continue;const l=r[a];void 0!==l&&s.push({propName:Array.isArray(l)?l[0]:l,templateName:a})}return s}class Nl{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=to(l);const d=this.injector.get(s,NI,l);return d!==NI||a===NI?d:this.parentInjector.get(s,a,l)}}class Ba extends nf{get inputs(){const s=this.componentDef,a=s.inputTransforms,l=jI(s.inputs);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return jI(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Nc(r){return r.map(so).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,d){const f=ce(null);try{let _=(d=d||this.ngModule)instanceof Dr?d:d?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const y=_?new Nl(s,_):s,w=y.get(UT,null);if(null===w)throw new ct(407,!1);const M=y.get(GA,null),te={rendererFactory:w,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:y.get(Td,null),changeDetectionScheduler:y.get(tf,null)},oe=w.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",ke=l?function bI(r,s,a,l){const f=l.get(Zv,!1)||a===Hs.ShadowDom,_=r.selectRootElement(s,f);return function n_(r){au(r)}(_),_}(oe,l,this.componentDef.encapsulation,y):Qi(oe,ge,function E_(r){const s=r.toLowerCase();return"svg"===s?ln:"math"===s?"math":null}(ge));let it=512;this.componentDef.signals?it|=4096:this.componentDef.onPush||(it|=16);let ut=null;null!==ke&&(ut=qv(ke,y,!0));const We=t_(0,null,null,1,0,null,null,null,null,null,null),Jt=ou(null,We,null,it,null,null,te,oe,y,null,ut);let Kn,Pr;ym(Jt);try{const Ji=this.componentDef;let Io,zf=null;Ji.findHostDirectiveDefs?(Io=[],zf=new Map,Ji.findHostDirectiveDefs(Ji,Io,zf),Io.push(Ji)):Io=[Ji];const XD=function ug(r,s){const a=r[et],l=an;return r[l]=s,Hh(a,l,2,"#host",null)}(Jt,ke),WP=function YT(r,s,a,l,d,f,_){const y=d[et];!function $I(r,s,a,l){for(const d of r)s.mergedAttrs=qr(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(cg(s,s.mergedAttrs,!0),null!==a&&oT(l,a,s))}(l,r,s,_);let w=null;null!==s&&(w=qv(s,d[ui]));const M=f.rendererFactory.createRenderer(s,a);let F=16;a.signals?F=4096:a.onPush&&(F=64);const W=ou(d,pc(a),null,F,d[r.index],r,f,M,null,null,w);return y.firstCreatePass&&kn(y,r,l.length-1),s_(d,W),d[r.index]=W}(XD,ke,Ji,Io,Jt,te,oe);Pr=qc(We,an),ke&&function ZT(r,s,a,l){if(l)Aa(r,a,["ng-version","17.3.8"]);else{const{attrs:d,classes:f}=function kc(r){const s=[],a=[];let l=1,d=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===d?""!==f&&s.push(f,r[++l]):8===d&&a.push(f);else{if(!_i(d))break;d=f}l++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Aa(r,a,d),f&&f.length>0&&EI(r,a,f.join(" "))}}(oe,Ji,ke,l),void 0!==a&&function JT(r,s,a){const l=r.projection=[];for(let d=0;d<s.length;d++){const f=a[d];l.push(null!=f?Array.from(f):null)}}(Pr,this.ngContentSelectors,a),Kn=function HI(r,s,a,l,d,f){const _=nr(),y=d[et],w=Sr(_,d);$r(y,d,_,a,null,l);for(let F=0;F<a.length;F++)Fi(la(d,y,_.directiveStart+F,_),d);Wh(y,d,_),w&&Fi(w,d);const M=la(d,y,_.directiveStart+_.componentOffset,_);if(r[gr]=d[gr]=M,null!==f)for(const F of f)F(M,s);return Sl(y,_,d),M}(WP,Ji,Io,zf,Jt,[KA]),qh(We,Jt,null)}finally{uh()}return new wd(this.componentType,Kn,ac(Pr,Jt),Jt,Pr)}finally{ce(f)}}}class wd extends eg{constructor(s,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Xh(d,void 0,!1),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;zp(f[et],f,d,s,a),this.previousInputValues.set(s,a),_o(is(this._tNode.index,f))}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function KA(){const r=nr();hh(Le()[et],r)}let dg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ew}return r})();function ew(){return GI(nr(),Le())}const b_=dg,sf=class extends b_{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Tt(this._hostTNode,this._hostLView);if(Zc(s)){const a=Yu(s,this._hostLView),l=Ns(s);return new hi(a[et].data[l+8],a)}return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=mu(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Bn}createEmbeddedView(s,a,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const _=Ed(this._lContainer,s.ssrId),y=s.createEmbeddedViewImpl(a||{},f,_);return this.insertImpl(y,d,gd(this._hostTNode,_)),y}createComponent(s,a,l,d,f){const _=s&&!function Be(r){return"function"==typeof r}(s);let y;if(_)y=a;else{const ge=a||{};y=ge.index,l=ge.injector,d=ge.projectableNodes,f=ge.environmentInjector||ge.ngModuleRef}const w=_?s:new Ba(nn(s)),M=l||this.parentInjector;if(!f&&null==w.ngModule){const ke=(_?M:this.parentInjector).get(Dr,null);ke&&(f=ke)}const F=nn(w.componentType??{}),W=Ed(this._lContainer,F?.id??null),oe=w.create(M,d,W?.firstChild??null,f);return this.insertImpl(oe.hostView,y,gd(this._hostTNode,W)),oe}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,l){const d=s._lView;if(function cv(r){return Li(r[$n])}(d)){const y=this.indexOf(s);if(-1!==y)this.detach(y);else{const w=d[$n],M=new sf(w,w[Hn],w[$n]);M.detach(M.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;return Pl(_,d,f,l),s.attachToViewContainerRef(),Ca(zI(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=mu(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Up(this._lContainer,a);l&&(Ao(zI(this._lContainer),a),Qm(l[et],l))}detach(s){const a=this._adjustIndex(s,-1),l=Up(this._lContainer,a);return l&&null!=Ao(zI(this._lContainer),a)?new Xh(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function mu(r){return r[8]}function zI(r){return r[8]||(r[8]=[])}function GI(r,s){let a;const l=s[r.index];return Li(l)?a=l:(a=vT(l,s,null,r),s[r.index]=a,s_(s,a)),tw(a,s,r,l),new sf(a,r,s)}let tw=function _u(r,s,a,l){if(r[di])return;let d;d=8&a.type?Sn(l):function qA(r,s){const a=r[Ht],l=a.createComment(""),d=Sr(s,r);return dd(a,Xm(a,d),l,function PA(r,s){return r.nextSibling(s)}(a,d),!1),l}(s,a),r[di]=d},WI=()=>!1;function af(r,s,a){return WI(r,s,a)}class T_{constructor(s){this.queryList=s,this.matches=null}clone(){return new T_(this.queryList)}setDirty(){this.queryList.setDirty()}}class KI{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new KI(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==A_(s,a).matches&&this.queries[a].setDirty()}}class w_{constructor(s,a,l=null){this.flags=a,this.read=l,this.predicate="string"==typeof s?function pg(r){return r.split(",").map(s=>s.trim())}(s):s}}class hg{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new hg(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class C_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new C_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,a,qI(a,f)),this.matchTNodeWithReadOption(s,a,vl(a,s,f,!1,!1))}else l===mc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,vl(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===pp||d===dg||d===mc&&4&a.type)this.addMatch(a.index,-2);else{const f=vl(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function qI(r,s){const a=r.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function iw(r,s,a,l){return-1===a?function QI(r,s){return 11&r.type?ac(r,s):4&r.type?d_(r,s):null}(s,r):-2===a?function D_(r,s,a){return a===pp?ac(s,r):a===mc?d_(s,r):a===dg?GI(s,r):void 0}(r,s,l):la(r,r[et],a,s)}function sw(r,s,a,l){const d=s[No].queries[l];if(null===d.matches){const f=r.data,_=a.matches,y=[];for(let w=0;null!==_&&w<_.length;w+=2){const M=_[w];y.push(M<0?null:iw(s,f[M],_[w+1],a.metadata.read))}d.matches=y}return d.matches}function fg(r,s,a,l){const d=r.queries.getByIndex(a),f=d.matches;if(null!==f){const _=sw(r,s,d,a);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)l.push(_[y/2]);else{const M=f[y+1],F=s[-w];for(let W=Bn;W<F.length;W++){const te=F[W];te[Xr]===te[$n]&&fg(te[et],te,M,l)}if(null!==F[Ci]){const W=F[Ci];for(let te=0;te<W.length;te++){const oe=W[te];fg(oe[et],oe,M,l)}}}}}return l}function ow(r,s,a){const l=new Dm(!(4&~a));return function lT(r,s,a,l){const d=DI(s);d.push(a),r.firstCreatePass&&ET(r).push(l,d.length-1)}(r,s,l,l.destroy),(s[No]??=new KI).queries.push(new T_(l))-1}function Dd(r,s,a){null===r.queries&&(r.queries=new hg),r.queries.track(new C_(s,a))}function A_(r,s){return r.queries.getByIndex(s)}function _s(r,s){const a=r[et],l=A_(a,s);return l.crossesNgTemplate?fg(a,r,s,[]):sw(a,r,l,s)}function e0(r,s){$o("NgSignals");const a=function we(r){const s=Object.create(At);s.value=r;const a=()=>(Te(s),s.value);return a[Me]=s,a}(r),l=a[Me];return s?.equal&&(l.equal=s.equal),a.set=d=>Se(l,d),a.update=d=>function Pe(r,s){ot()||oi(),Se(r,s(r.value))}(l,d),a.asReadonly=yc.bind(a),a}function yc(){const r=this[Me];if(void 0===r.readonlyFn){const s=()=>this();s[Me]=r,r.readonlyFn=s}return r.readonlyFn}function Ad(r){return function YI(r){return"function"==typeof r&&void 0!==r[Me]}(r)&&"function"==typeof r.set}function k_(r){let s=function fw(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const l=[r];for(;s;){let d;if(vi(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ct(903,!1);d=s.\u0275dir}if(d){if(a){l.push(d);const _=r;_.inputs=mg(r.inputs),_.inputTransforms=mg(r.inputTransforms),_.declaredInputs=mg(r.declaredInputs),_.outputs=mg(r.outputs);const y=d.hostBindings;y&&gw(r,y);const w=d.viewQuery,M=d.contentQueries;if(w&&l0(r,w),M&&lS(r,M),aS(r,d),Yn(r.outputs,d.outputs),vi(d)&&d.data.animation){const F=r.data;F.animation=(F.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const y=f[_];y&&y.ngInherit&&y(r),y===k_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function pw(r){let s=0,a=null;for(let l=r.length-1;l>=0;l--){const d=r[l];d.hostVars=s+=d.hostVars,d.hostAttrs=qr(d.hostAttrs,a=qr(a,d.hostAttrs))}}(l)}function aS(r,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||r.inputs.hasOwnProperty(a))continue;const l=s.inputs[a];if(void 0!==l&&(r.inputs[a]=l,r.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const d=Array.isArray(l)?l[0]:l;if(!s.inputTransforms.hasOwnProperty(d))continue;r.inputTransforms??={},r.inputTransforms[d]=s.inputTransforms[d]}}}function mg(r){return r===li?{}:r===bn?[]:r}function l0(r,s){const a=r.viewQuery;r.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function lS(r,s){const a=r.contentQueries;r.contentQueries=a?(l,d,f)=>{s(l,d,f),a(l,d,f)}:s}function gw(r,s){const a=r.hostBindings;r.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}function u0(r){const s=r.inputConfig,a={};for(const l in s)if(s.hasOwnProperty(l)){const d=s[l];Array.isArray(d)&&d[3]&&(a[l]=d[3])}r.inputTransforms=a}class Pd{}class V_{}function hS(r,s){return new U_(r,s??null,[])}class U_ extends Pd{constructor(s,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XT(this);const d=ci(s);this._bootstrapComponents=Qs(d.bootstrap),this._r3Injector=Rv(s,a,[{provide:Pd,useValue:this},{provide:rg,useValue:this.componentFactoryResolver},...l],ir(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class B_ extends V_{constructor(s){super(),this.moduleType=s}create(s){return new U_(this.moduleType,s,[])}}class _g extends Pd{constructor(s){super(),this.componentFactoryResolver=new XT(this),this.instance=null;const a=new rs([...s.providers,{provide:Pd,useValue:this},{provide:rg,useValue:this.componentFactoryResolver}],s.parent||Rs(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Md(r,s,a=null){return new _g({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let j_=(()=>{class r{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(a,l,d,f){if(!this.cachedInjectors.has(a)){const _=d.length>0?Md(d,l,f):null;this.cachedInjectors.set(a,_)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dn({token:r,providedIn:"environment",factory:()=>new r})}return r})(),xd=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ar.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function hf(r){return!!ls(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function ls(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function ja(r,s,a){return r[s]=a}function bu(r,s){return r[s]}function Yr(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function vc(r,s,a,l){const d=Yr(r,s,a);return Yr(r,s+1,l)||d}function yg(r,s,a,l,d){const f=vc(r,s,a,l);return Yr(r,s+2,d)||f}function va(r,s,a,l,d,f){const _=vc(r,s,a,l);return vc(r,s+2,d,f)||_}function ff(r,s,a,l,d,f,_,y){const w=Le(),M=Nn(),F=r+an,W=M.firstCreatePass?function mS(r,s,a,l,d,f,_,y,w){const M=s.consts,F=Hh(s,r,4,_||null,ho(M,y));r_(s,a,F,ho(M,w)),hh(s,F);const W=F.tView=t_(2,F,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M,null);return null!==s.queries&&(s.queries.template(s,F),W.queries=s.queries.embeddedTView(F)),F}(F,M,w,s,a,l,d,f,_):M.data[F];oa(W,!1);const te=$_(M,w,W,r);Zt()&&Zm(M,w,te,W),Fi(te,w);const oe=vT(te,w,te,W);return w[F]=oe,s_(w,oe),af(oe,W,w),Lo(W)&&ma(M,w,W),null!=_&&pd(w,W,y),ff}let $_=function Ew(r,s,a,l){return ps(!0),s[Ht].createComment("")};var fi=function(r){return r[r.NOT_STARTED=0]="NOT_STARTED",r[r.IN_PROGRESS=1]="IN_PROGRESS",r[r.COMPLETE=2]="COMPLETE",r[r.FAILED=3]="FAILED",r}(fi||{});const Od=0,f0=1;var ii=function(r){return r[r.Placeholder=0]="Placeholder",r[r.Loading=1]="Loading",r[r.Complete=2]="Complete",r[r.Error=3]="Error",r}(ii||{}),kl=function(r){return r[r.Initial=-1]="Initial",r}(kl||{});const Tu=0,Eg=1,Nd=2,pf=3,Ic=4,p0=5;var bw=function(r){return r[r.Manual=0]="Manual",r[r.Playthrough=1]="Playthrough",r}(bw||{});function gf(r,s,a){const l=1===r?p0:Ic;null===s[l]&&(s[l]=[]),s[l].push(a)}function g0(r,s){const a=1===r?p0:Ic,l=s[a];if(null!==l){for(const d of l)d();s[a]=null}}function H_(r){g0(1,r),g0(0,r)}function z_(r){return r+1}function Ec(r,s){return r[z_(s.index)]}function Ys(r,s){const a=z_(s.index);return r.data[a]}function W_(r,s){return s===ii.Placeholder?r.placeholderBlockConfig?.[Od]??null:s===ii.Loading?r.loadingBlockConfig?.[Od]??null:null}function kd(r){return r.loadingBlockConfig?.[f0]??null}function K_(r,s){if(!r||0===r.length)return s;const a=new Set(r);for(const l of s)a.add(l);return r.length===a.size?r:Array.from(a)}function Y_(r,s){const l=s[ui].get(Cw);return l.add(r),()=>l.remove(r)}let Cw=(()=>{class r{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=Kt(wn),this.requestIdleCallbackFn=(typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout).bind(globalThis),this.cancelIdleCallbackFn=(typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout).bind(globalThis)}add(a){(this.executingCallbacks?this.deferred:this.current).add(a),null===this.idleId&&this.scheduleIdleCallback()}remove(a){const{current:l,deferred:d}=this;l.delete(a),d.delete(a),0===l.size&&0===d.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const a=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const l of this.current)l();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const l of this.deferred)this.current.add(l);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(a))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static#e=this.\u0275prov=Dn({token:r,providedIn:"root",factory:()=>new r})}return r})();let IS=(()=>{class r{constructor(){this.executingCallbacks=!1,this.timeoutId=null,this.invokeTimerAt=null,this.current=[],this.deferred=[]}add(a,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+a,l),this.scheduleTimer()}remove(a){const{current:l,deferred:d}=this;-1===this.removeFromQueue(l,a)&&this.removeFromQueue(d,a),0===l.length&&0===d.length&&this.clearTimeout()}addToQueue(a,l,d){let f=a.length;for(let _=0;_<a.length;_+=2)if(a[_]>l){f=_;break}th(a,f,l,d)}removeFromQueue(a,l){let d=-1;for(let f=0;f<a.length;f+=2)if(a[f+1]===l){d=f;break}return d>-1&&Jo(a,d,2),d}scheduleTimer(){const a=()=>{this.clearTimeout(),this.executingCallbacks=!0;const d=[...this.current],f=Date.now();for(let y=0;y<d.length;y+=2){const M=d[y+1];if(!(d[y]<=f))break;M()}let _=-1;for(let y=0;y<this.current.length&&this.current[y]<=f;y+=2)_=y+1;if(_>=0&&Jo(this.current,0,_+1),this.executingCallbacks=!1,this.deferred.length>0){for(let y=0;y<this.deferred.length;y+=2)this.addToQueue(this.current,this.deferred[y],this.deferred[y+1]);this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const d=Date.now(),f=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-f>16){this.clearTimeout();const _=Math.max(f-d,16);this.invokeTimerAt=f,this.timeoutId=setTimeout(a,_)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static#e=this.\u0275prov=Dn({token:r,providedIn:"root",factory:()=>new r})}return r})();const E0=new $t("");let Dg=null;function Sw(r,s,a,l){const d=r.consts;null!=a&&(s.placeholderBlockConfig=ho(d,a)),null!=l&&(s.loadingBlockConfig=ho(d,l)),null===Dg&&(Dg=A0)}function Rw(r,s,a,l,d,f,_,y,w){const M=Le(),F=Nn(),W=r+an;if(ff(r,null,0,0),F.firstCreatePass){$o("NgDefer");const it={primaryTmplIndex:s,loadingTmplIndex:l??null,placeholderTmplIndex:d??null,errorTmplIndex:f??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:a??null,loadingState:fi.NOT_STARTED,loadingPromise:null,providers:null};w?.(F,it,y,_),function G_(r,s,a){const l=z_(s);r.data[l]=a}(F,W,it)}const te=nr();af(M[W],te,M);const ge=[null,kl.Initial,null,null,null,null];!function yS(r,s,a){r[z_(s)]=a}(M,W,ge);const ke=()=>H_(ge);gf(0,ge,()=>dm(M,ke)),ic(M,ke)}function w0(){!function kw(r){const s=Le(),a=nr();if(function Du(r,s){Cu(ii.Placeholder,s,r[s.index])}(s,a),he(s[ui])){const l=r(()=>function Au(r,s){const a=r[et],l=r[s.index];if(!function Cg(r){return r.get(E0,null,{optional:!0})?.behavior!==bw.Manual&&he(r)}(r[ui]))return;const f=Ec(r,s),_=Ys(a,s);switch(H_(f),_.loadingState){case fi.NOT_STARTED:Cu(ii.Loading,s,l),function S0(r,s,a){const l=s[ui],d=s[et];if(r.loadingState!==fi.NOT_STARTED)return r.loadingPromise??Promise.resolve();const f=Ec(s,a),_=function vS(r,s){return qc(r,s.primaryTmplIndex+an)}(d,r);r.loadingState=fi.IN_PROGRESS,g0(1,f);let y=r.dependencyResolverFn;const w=l.get(xd),M=w.add();return y?(r.loadingPromise=Promise.allSettled(y()).then(F=>{let W=!1;const te=[],oe=[];for(const ge of F){if("fulfilled"!==ge.status){W=!0;break}{const ke=ge.value,it=nn(ke)||Nr(ke);if(it)te.push(it);else{const ut=Cr(ke);ut&&oe.push(ut)}}}if(r.loadingPromise=null,w.remove(M),W){if(r.loadingState=fi.FAILED,null===r.errorTmplIndex){Gm(s);const ke=new ct(750,!1);a_(s,ke)}}else{r.loadingState=fi.COMPLETE;const ge=_.tView;if(te.length>0){ge.directiveRegistry=K_(ge.directiveRegistry,te);const it=oo(!1,...te.map(ut=>ut.type));r.providers=it}oe.length>0&&(ge.pipeRegistry=K_(ge.pipeRegistry,oe))}}),r.loadingPromise):(r.loadingPromise=Promise.resolve().then(()=>{r.loadingPromise=null,r.loadingState=fi.COMPLETE,w.remove(M)}),r.loadingPromise)}(_,r,s),_.loadingState===fi.IN_PROGRESS&&Vw(_,s,l);break;case fi.IN_PROGRESS:Cu(ii.Loading,s,l),Vw(_,s,l);break;case fi.COMPLETE:Cu(ii.Complete,s,l);break;case fi.FAILED:Cu(ii.Error,s,l)}}(s,a),s);gf(0,Ec(s,a),l)}}(Y_)}function Cu(r,s,a,l=!1){const d=a[$n],f=d[et];if(function Hc(r){return!(256&~r[St])}(d))return;const _=Ec(d,s);if(Fw(_[Eg],r)&&Fw(_[Tu]??-1,r)){const w=d[ui],M=Ys(f,s),W=l||!he(w)||null===kd(M)&&null===W_(M,ii.Loading)&&!W_(M,ii.Placeholder)?J_:Dg;try{W(r,_,a,s,d)}catch(te){a_(d,te)}}}function J_(r,s,a,l,d){const f=function m0(r,s,a){const d=Ys(s[et],a);switch(r){case ii.Complete:return d.primaryTmplIndex;case ii.Loading:return d.loadingTmplIndex;case ii.Error:return d.errorTmplIndex;case ii.Placeholder:return d.placeholderTmplIndex;default:return null}}(r,d,l);if(null!==f){s[Eg]=r;const _=d[et],w=qc(_,f+an),M=0;let F;if(c_(a,M),r===ii.Complete){const oe=Ys(_,l),ge=oe.providers;if(ge&&ge.length>0){const ke=d[ui],it=function D0(r){return r instanceof Nl&&"function"==typeof r.injector.__ngOutletInjector}(ke),ut=it?ke:ke.get(Dr);F=ut.get(j_).getOrCreateInjector(oe,ut,ge,""),it&&(F=function Lw(r,s){return r.injector.__ngOutletInjector(s)}(ke,F))}}const W=Ed(a,w.tView.ssrId),te=Qh(d,w,null,{dehydratedView:W,injector:F});Pl(a,te,M,gd(w,W)),_o(te)}}function A0(r,s,a,l,d){const f=Date.now(),y=Ys(d[et],l);if(null===s[Nd]||s[Nd]<=f){s[Nd]=null;const w=kd(y),M=null!==s[pf];if(r!==ii.Loading||null===w||M){r>ii.Loading&&M&&(s[pf](),s[pf]=null,s[Tu]=null),J_(r,s,a,l,d);const F=W_(y,r);null!==F&&(s[Nd]=f+F,ey(F,s,l,a,d))}else{s[Tu]=r;const F=ey(w,s,l,a,d);s[pf]=F}}else s[Tu]=r}function ey(r,s,a,l,d){return function Dw(r,s,a){const d=a[ui].get(IS);return d.add(r,s),()=>d.remove(s)}(r,()=>{const _=s[Tu];s[Nd]=null,s[Tu]=null,null!==_&&Cu(_,a,l)},d)}function Fw(r,s){return r<s}function Vw(r,s,a){r.loadingPromise.then(()=>{r.loadingState===fi.COMPLETE?Cu(ii.Complete,s,a):r.loadingState===fi.FAILED&&Cu(ii.Error,s,a)})}function ty(r,s,a,l){const d=Le();return Yr(d,aa(),s)&&(Nn(),_a(Lr(),d,r,s,a,l)),ty}function Vd(r,s,a,l){return Yr(r,aa(),a)?s+Wt(a)+l:kt}function wf(r,s){return r<<17|s<<2}function xu(r){return r>>17&32767}function M0(r){return 2|r}function bc(r){return(131068&r)>>2}function x0(r,s){return-131069&r|s<<2}function N0(r){return 1|r}function ay(r,s,a,l){const d=r[a+1],f=null===s;let _=l?xu(d):bc(d),y=!1;for(;0!==_&&(!1===y||f);){const M=r[_+1];$w(r[_],s)&&(y=!0,r[_+1]=l?N0(M):M0(M)),_=l?xu(M):bc(M)}y&&(r[a+1]=l?M0(d):N0(d))}function $w(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Hi(r,s)>=0}const Yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hw(r){return r.substring(Yi.key,Yi.keyEnd)}function L0(r){return r.substring(Yi.value,Yi.valueEnd)}function ly(r,s){const a=Yi.textEnd;return a===s?-1:(s=Yi.keyEnd=function SS(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Yi.key=s,a),$a(r,s,a))}function uy(r,s){const a=Yi.textEnd;let l=Yi.key=$a(r,s,a);return a===l?-1:(l=Yi.keyEnd=function F0(r,s,a){let l;for(;s<a&&(45===(l=r.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(r,l,a),l=V0(r,l,a),l=Yi.value=$a(r,l,a),l=Yi.valueEnd=function Cf(r,s,a){let l=-1,d=-1,f=-1,_=s,y=_;for(;_<a;){const w=r.charCodeAt(_++);if(59===w)return y;34===w||39===w?y=_=U0(r,w,_,a):s===_-4&&85===f&&82===d&&76===l&&40===w?y=_=U0(r,41,_,a):w>32&&(y=_),f=d,d=l,l=-33&w}return y}(r,l,a),V0(r,l,a))}function zw(r){Yi.key=0,Yi.keyEnd=0,Yi.value=0,Yi.valueEnd=0,Yi.textEnd=r.length}function $a(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function V0(r,s,a,l){return(s=$a(r,s,a))<a&&s++,s}function U0(r,s,a,l){let d=-1,f=a;for(;f<l;){const _=r.charCodeAt(f++);if(_==s&&92!==d)return f;d=92==_&&92===d?0:_}throw new Error}function j0(r,s,a){const l=Le();return Yr(l,aa(),s)&&go(Nn(),Lr(),l,r,s,l[Ht],a,!1),j0}function $0(r,s,a,l,d){const _=d?"class":"style";zp(r,a,s.inputs[_],_,l)}function H0(r,s,a){return Ea(r,s,a,!1),H0}function z0(r,s){return Ea(r,s,null,!0),z0}function yo(r){zo(fy,G0,r,!1)}function G0(r,s){for(let a=function cy(r){return zw(r),uy(r,$a(r,0,Yi.textEnd))}(s);a>=0;a=uy(s,a))fy(r,Hw(s),L0(s))}function dy(r){zo(RS,Ia,r,!0)}function Ia(r,s){for(let a=function AS(r){return zw(r),ly(r,$a(r,0,Yi.textEnd))}(s);a>=0;a=ly(s,a))mi(r,Hw(s),!0)}function Ea(r,s,a,l){const d=Le(),f=Nn(),_=_l(2);f.firstUpdatePass&&Ag(f,r,_,l),s!==kt&&Yr(d,_,s)&&Kw(f,f.data[fs()],d,d[Ht],r,d[_+1]=function qw(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ir(Wi(r)))),r}(s,a),l,_)}function zo(r,s,a,l){const d=Nn(),f=_l(2);d.firstUpdatePass&&Ag(d,null,f,l);const _=Le();if(a!==kt&&Yr(_,f,a)){const y=d.data[fs()];if(Qw(y,l)&&!hy(d,f)){let w=l?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(a=fr(w,a||"")),$0(d,y,_,a,l)}else!function PS(r,s,a,l,d,f,_,y){d===kt&&(d=bn);let w=0,M=0,F=0<d.length?d[0]:null,W=0<f.length?f[0]:null;for(;null!==F||null!==W;){const te=w<d.length?d[w+1]:void 0,oe=M<f.length?f[M+1]:void 0;let ke,ge=null;F===W?(w+=2,M+=2,te!==oe&&(ge=W,ke=oe)):null===W||null!==F&&F<W?(w+=2,ge=F):(M+=2,ge=W,ke=oe),null!==ge&&Kw(r,s,a,l,ge,ke,_,y),F=w<d.length?d[w]:null,W=M<f.length?f[M]:null}}(d,y,_,_[Ht],_[f+1],_[f+1]=function Sf(r,s,a){if(null==a||""===a)return bn;const l=[],d=Wi(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)r(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&r(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(r,s,a),l,f)}}function hy(r,s){return s>=r.expandoStartIndex}function Ag(r,s,a,l){const d=r.data;if(null===d[a+1]){const f=d[fs()],_=hy(r,a);Qw(f,l)&&null===s&&!_&&(s=!1),s=function W0(r,s,a,l){const d=function _m(r){const s=Yt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Af(a=Sg(null,r,s,a,l),s.attrs,l),f=null);else{const _=s.directiveStylingLast;if(-1===_||r[_]!==d)if(a=Sg(d,r,s,a,l),null===f){let w=function Gw(r,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==bc(l))return r[xu(l)]}(r,s,l);void 0!==w&&Array.isArray(w)&&(w=Sg(null,r,s,w[1],l),w=Af(w,s.attrs,l),function Df(r,s,a,l){r[xu(a?s.classBindings:s.styleBindings)]=l}(r,s,l,w))}else f=function Ww(r,s,a){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=Af(l,r[f].hostAttrs,a);return Af(l,s.attrs,a)}(r,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,l),function k0(r,s,a,l,d,f){let _=f?s.classBindings:s.styleBindings,y=xu(_),w=bc(_);r[l]=a;let F,M=!1;if(Array.isArray(a)?(F=a[1],(null===F||Hi(a,F)>0)&&(M=!0)):F=a,d)if(0!==w){const te=xu(r[y+1]);r[l+1]=wf(te,y),0!==te&&(r[te+1]=x0(r[te+1],l)),r[y+1]=function DS(r,s){return 131071&r|s<<17}(r[y+1],l)}else r[l+1]=wf(y,0),0!==y&&(r[y+1]=x0(r[y+1],l)),y=l;else r[l+1]=wf(w,0),0===y?y=l:r[w+1]=x0(r[w+1],l),w=l;M&&(r[l+1]=M0(r[l+1])),ay(r,F,l,!0),ay(r,F,l,!1),function jw(r,s,a,l,d){const f=d?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&Hi(f,s)>=0&&(a[l+1]=N0(a[l+1]))}(s,F,r,l,f),_=wf(y,w),f?s.classBindings=_:s.styleBindings=_}(d,f,s,a,_,l)}}function Sg(r,s,a,l,d){let f=null;const _=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<_&&(f=s[y],l=Af(l,f.hostAttrs,d),f!==r);)y++;return null!==r&&(a.directiveStylingLast=y),l}function Af(r,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),mi(r,_,!!a||s[++f]))}return void 0===r?null:r}function fy(r,s,a){mi(r,s,Wi(a))}function RS(r,s,a){const l=String(s);""!==l&&!l.includes(" ")&&mi(r,l,a)}function Kw(r,s,a,l,d,f,_,y){if(!(3&s.type))return;const w=r.data,M=w[y+1],F=function O0(r){return!(1&~r)}(M)?K0(w,s,a,d,bc(M),_):void 0;py(F)||(py(f)||function P0(r){return!(2&~r)}(M)&&(f=K0(w,null,a,d,y,_)),function $h(r,s,a,l,d){if(s)d?r.addClass(a,l):r.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:Fp.DashCase;null==d?r.removeStyle(a,l,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Fp.Important),r.setStyle(a,l,d,f))}}(l,_,Qt(fs(),a),d,f))}function K0(r,s,a,l,d,f){const _=null===s;let y;for(;d>0;){const w=r[d],M=Array.isArray(w),F=M?w[1]:w,W=null===F;let te=a[d+1];te===kt&&(te=W?bn:void 0);let oe=W?Da(te,l):F===l?te:void 0;if(M&&!py(oe)&&(oe=Da(w,l)),py(oe)&&(y=oe,_))return y;const ge=r[d+1];d=_?xu(ge):bc(ge)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(y=Da(w,l))}return y}function py(r){return void 0!==r}function Qw(r,s){return!!(r.flags&(s?8:16))}class eC{destroy(s){}updateValue(s,a){}swap(s,a){const l=Math.min(s,a),d=Math.max(s,a),f=this.detach(d);if(d-l>1){const _=this.detach(l);this.attach(l,f),this.attach(d,_)}else this.attach(l,f)}move(s,a){this.attach(a,this.detach(s))}}function Rf(r,s,a,l,d){return r===a&&Object.is(s,l)?1:Object.is(d(r,s),d(a,l))?-1:0}function gy(r,s,a,l){return!(void 0===s||!s.has(l)||(r.attach(a,s.get(l)),s.delete(l),0))}function Q0(r,s,a,l,d){if(gy(r,s,l,a(l,d)))r.updateValue(l,d);else{const f=r.create(l,d);r.attach(l,f)}}function Pf(r,s,a,l){const d=new Set;for(let f=s;f<=a;f++)d.add(l(f,r.at(f)));return d}class X0{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let l=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const d=this._vMap;for(;d.has(l);)l=d.get(l);d.set(l,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,l]of this.kvMap)if(s(l,a),void 0!==this._vMap){const d=this._vMap;for(;d.has(l);)l=d.get(l),s(l,a)}}}function cs(r,s,a){$o("NgControlFlow");const l=Le(),d=aa(),f=Y0(l,an+r);if(Yr(l,d,s)){const y=ce(null);try{if(c_(f,0),-1!==s){const w=J0(l[et],an+s),M=Ed(f,w.tView.ssrId);Pl(f,Qh(l,w,a,{dehydratedView:M}),0,gd(w,M))}}finally{ce(y)}}else{const y=Rl(f,0);void 0!==y&&(y[gr]=a)}}class Zr{constructor(s,a,l){this.lContainer=s,this.$implicit=a,this.$index=l}get $count(){return this.lContainer.length-Bn}}function my(r,s){return s}class LS{constructor(s,a,l){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=l}}function Rg(r,s,a,l,d,f,_,y,w,M,F,W,te){$o("NgControlFlow");const oe=void 0!==w,ge=Le(),ke=y?_.bind(ge[mr][gr]):_,it=new LS(oe,ke);ge[an+r]=it,ff(r+1,s,a,l,d,f),oe&&ff(r+2,w,M,F,W,te)}class tC extends eC{constructor(s,a,l){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=l,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Bn}at(s){return this.getLView(s)[gr].$implicit}attach(s,a){const l=a[Qr];this.needsIndexUpdate||=s!==this.length,Pl(this.lContainer,a,s,gd(this.templateTNode,l))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function Z0(r,s){return Up(r,s)}(this.lContainer,s)}create(s,a){const l=Ed(this.lContainer,this.templateTNode.tView.ssrId);return Qh(this.hostLView,this.templateTNode,new Zr(this.lContainer,a,s),{dehydratedView:l})}destroy(s){Qm(s[et],s)}updateValue(s,a){this.getLView(s)[gr].$implicit=a}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[gr].$index=s}getLView(s){return function FS(r,s){return Rl(r,s)}(this.lContainer,s)}}function _y(r){const s=ce(null),a=fs();try{const l=Le(),d=l[et],f=l[a];if(void 0===f.liveCollection){const y=a+1,w=Y0(l,y),M=J0(d,y);f.liveCollection=new tC(w,l,M)}else f.liveCollection.reset();const _=f.liveCollection;if(function Fn(r,s,a){let l,d,f=0,_=r.length-1;if(Array.isArray(s)){let y=s.length-1;for(;f<=_&&f<=y;){const w=r.at(f),M=s[f],F=Rf(f,w,f,M,a);if(0!==F){F<0&&r.updateValue(f,M),f++;continue}const W=r.at(_),te=s[y],oe=Rf(_,W,y,te,a);if(0!==oe){oe<0&&r.updateValue(_,te),_--,y--;continue}const ge=a(f,w),ke=a(_,W),it=a(f,M);if(Object.is(it,ke)){const ut=a(y,te);Object.is(ut,ge)?(r.swap(f,_),r.updateValue(_,te),y--,_--):r.move(_,f),r.updateValue(f,M),f++}else if(l??=new X0,d??=Pf(r,f,_,a),gy(r,l,f,it))r.updateValue(f,M),f++,_++;else if(d.has(it))l.set(ge,r.detach(f)),_--;else{const ut=r.create(f,s[f]);r.attach(f,ut),f++,_++}}for(;f<=y;)Q0(r,l,a,f,s[f]),f++}else if(null!=s){const y=s[Symbol.iterator]();let w=y.next();for(;!w.done&&f<=_;){const M=r.at(f),F=w.value,W=Rf(f,M,f,F,a);if(0!==W)W<0&&r.updateValue(f,F),f++,w=y.next();else{l??=new X0,d??=Pf(r,f,_,a);const te=a(f,F);if(gy(r,l,f,te))r.updateValue(f,F),f++,_++,w=y.next();else if(d.has(te)){const oe=a(f,M);l.set(oe,r.detach(f)),_--}else r.attach(f,r.create(f,F)),f++,_++,w=y.next()}}for(;!w.done;)Q0(r,l,a,r.length,w.value),w=y.next()}for(;f<=_;)r.destroy(r.detach(_--));l?.forEach(y=>{r.destroy(y)})}(_,r,f.trackByFn),_.updateIndexes(),f.hasEmptyBlock){const y=aa(),w=0===_.length;if(Yr(l,y,w)){const M=a+2,F=Y0(l,M);if(w){const W=J0(d,M),te=Ed(F,W.tView.ssrId);Pl(F,Qh(l,W,void 0,{dehydratedView:te}),0,gd(W,te))}else c_(F,0)}}}finally{ce(s)}}function Y0(r,s){return r[s]}function J0(r,s){return qc(r,s)}function eE(r,s,a,l){const d=Le(),f=Nn(),_=an+r,y=d[Ht],w=f.firstCreatePass?function Hr(r,s,a,l,d,f){const _=s.consts,w=Hh(s,r,2,l,ho(_,d));return r_(s,a,w,ho(_,f)),null!==w.attrs&&cg(w,w.attrs,!1),null!==w.mergedAttrs&&cg(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(_,f,d,s,a,l):f.data[_],M=tE(f,d,w,y,s,r);d[_]=M;const F=Lo(w);return oa(w,!0),oT(y,M,w),!function vg(r){return!(32&~r.flags)}(w)&&Zt()&&Zm(f,d,M,w),0===function eb(){return Yt.lFrame.elementDepthCount}()&&Fi(M,d),function hv(){Yt.lFrame.elementDepthCount++}(),F&&(ma(f,d,w),Sl(f,w,d)),null!==l&&pd(d,w),eE}function yy(){let r=nr();ch()?gm():(r=r.parent,oa(r,!1));const s=r;(function tb(r){return Yt.skipHydrationRootTNode===r})(s)&&function pm(){Yt.skipHydrationRootTNode=null}(),function fv(){Yt.lFrame.elementDepthCount--}();const a=Nn();return a.firstCreatePass&&(hh(a,r),xa(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function op(r){return!!(8&r.flags)}(s)&&$0(a,s,Le(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ss(r){return!!(16&r.flags)}(s)&&$0(a,s,Le(),s.stylesWithoutHost,!1),yy}function si(r,s,a,l){return eE(r,s,a,l),yy(),si}let tE=(r,s,a,l,d,f)=>(ps(!0),Qi(l,d,function mt(){return Yt.lFrame.currentNamespace}()));function vy(r,s,a){const l=Le(),d=Nn(),f=r+an,_=d.firstCreatePass?function nC(r,s,a,l,d){const f=s.consts,_=ho(f,l),y=Hh(s,r,8,"ng-container",_);return null!==_&&cg(y,_,!0),r_(s,a,y,ho(f,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,d,l,s,a):d.data[f];oa(_,!0);const y=rC(d,l,_,r);return l[f]=y,Zt()&&Zm(d,l,y,_),Fi(y,l),Lo(_)&&(ma(d,l,_),Sl(d,_,l)),null!=a&&pd(l,_),vy}function Iy(){let r=nr();const s=Nn();return ch()?gm():(r=r.parent,oa(r,!1)),s.firstCreatePass&&(hh(s,r),xa(r)&&s.queries.elementEnd(r)),Iy}function nE(r,s,a){return vy(r,s,a),Iy(),nE}let rC=(r,s,a,l)=>(ps(!0),Km(s[Ht],""));function iC(){return Le()}const Bd=void 0;var Tc=["en",[["a","p"],["AM","PM"],Bd],[["AM","PM"],Bd,Bd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bd,"{1} 'at' {0}",Bd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vl(r){const a=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Pg={};function Of(r){const s=function $S(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=iE(s);if(a)return a;const l=s.split("-")[0];if(a=iE(l),a)return a;if("en"===l)return Tc;throw new ct(701,!1)}function sC(r){return Of(r)[wc.PluralCase]}function iE(r){return r in Pg||(Pg[r]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[r]),Pg[r]}var wc=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(wc||{});const Ul="en-US";let by=Ul;function gE(r,s,a,l){const d=Le(),f=Nn(),_=nr();return mE(f,d,d[Ht],_,r,s,l),gE}function mE(r,s,a,l,d,f,_){const y=Lo(l),M=r.firstCreatePass&&ET(r),F=s[gr],W=DI(s);let te=!0;if(3&l.type||_){const ke=Sr(l,s),it=_?_(ke):ke,ut=W.length,We=_?Kn=>_(Sn(Kn[l.index])):l.index;let Jt=null;if(!_&&y&&(Jt=function d1(r,s,a,l){const d=r.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===l){const y=s[co],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof _&&(f+=2)}return null}(r,s,d,l.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=f,Jt.__ngLastListenerFn__=f,te=!1;else{f=wC(l,s,F,f,!1);const Kn=a.listen(it,d,f);W.push(f,Kn),M&&M.push(d,We,ut,ut+1)}}else f=wC(l,s,F,f,!1);const oe=l.outputs;let ge;if(te&&null!==oe&&(ge=oe[d])){const ke=ge.length;if(ke)for(let it=0;it<ke;it+=2){const Pr=s[ge[it]][ge[it+1]].subscribe(f),Ji=W.length;W.push(f,Pr),M&&M.push(d,l.index,Ji,-(Ji+1))}}}function TC(r,s,a,l){const d=ce(null);try{return at(6,s,a),!1!==a(l)}catch(f){return a_(r,f),!1}finally{at(7,s,a),ce(d)}}function wC(r,s,a,l,d){return function f(_){if(_===Function)return l;_o(r.componentOffset>-1?is(r.index,s):s);let w=TC(s,a,l,_),M=f.__ngNextListenerFn__;for(;M;)w=TC(s,a,M,_)&&w,M=M.__ngNextListenerFn__;return d&&!1===w&&_.preventDefault(),w}}function h1(r=1){return function cb(r){return(Yt.lFrame.contextLView=function um(r,s){for(;r>0;)s=s[rc],r--;return s}(r,Yt.lFrame.contextLView))[gr]}(r)}function XM(r,s){let a=null;const l=function zs(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===l?ta(r,f,!0):ol(l,f))return d}else a=d}return a}function _E(r){const s=Le()[mr][Hn];if(!s.projection){const l=s.projection=function ro(r,s){const a=[];for(let l=0;l<r;l++)a.push(s);return a}(r?r.length:1,null),d=l.slice();let f=s.child;for(;null!==f;){const _=r?XM(f,r):0;null!==_&&(d[_]?d[_].projectionNext=f:l[_]=f,d[_]=f),f=f.next}}}function CC(r,s=0,a){const l=Le(),d=Nn(),f=Hh(d,an+r,16,null,a||null);null===f.projection&&(f.projection=s),gm(),(!l[Qr]||Qu())&&32&~f.flags&&function ms(r,s,a){vr(s[Ht],0,s,a,mI(r,a,s),_I(a.parent||s[Hn],a,s))}(d,l,f)}function DC(r,s,a){return AC(r,"",s,"",a),DC}function AC(r,s,a,l,d){const f=Le(),_=Vd(f,s,a,l);return _!==kt&&go(Nn(),Lr(),f,r,_,f[Ht],d,!1),AC}function Ug(r,s,a,l){!function Cd(r,s,a,l){const d=Nn();if(d.firstCreatePass){const f=nr();Dd(d,new w_(s,a,l),f.index),function aw(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),!(2&~a)&&(d.staticContentQueries=!0)}return ow(d,Le(),a)}(r,s,a,l)}function Ny(r,s,a){!function XI(r,s,a){const l=Nn();return l.firstCreatePass&&(Dd(l,new w_(r,s,a),-1),!(2&~s)&&(l.staticViewQueries=!0)),ow(l,Le(),s)}(r,s,a)}function SC(r){const s=Le(),a=Nn(),l=Xu();ip(l+1);const d=A_(a,l);if(r.dirty&&function lv(r){return!(4&~r[St])}(s)===!(2&~d.metadata.flags)){if(null===d.matches)r.reset([]);else{const f=_s(s,l);r.reset(f,_b),r.notifyOnChanges()}return!0}return!1}function ky(){return function lf(r,s){return r[No].queries[s].queryList}(Le(),Xu())}function MC(r){return function ml(r,s){return r[s]}(function gv(){return Yt.lFrame.contextLView}(),an+r)}function FC(r,s=""){const a=Le(),l=Nn(),d=r+an,f=l.firstCreatePass?Hh(l,d,1,s,null):l.data[d],_=VC(l,a,f,s,r);a[d]=_,Zt()&&Zm(l,a,_,f),oa(f,!1)}let VC=(r,s,a,l,d)=>(ps(!0),function ud(r,s){return r.createText(s)}(s[Ht],l));function TE(r){return Fy("",r,""),TE}function Fy(r,s,a){const l=Le(),d=Vd(l,r,s,a);return d!==kt&&Xs(l,fs(),d),Fy}function UC(r,s,a,l,d){const f=Le(),_=function If(r,s,a,l,d,f){const y=vc(r,Oa(),a,d);return _l(2),y?s+Wt(a)+l+Wt(d)+f:kt}(f,r,s,a,l,d);return _!==kt&&Xs(f,fs(),_),UC}function BC(r,s,a,l,d,f,_){const y=Le(),w=function Ru(r,s,a,l,d,f,_,y){const M=yg(r,Oa(),a,d,_);return _l(3),M?s+Wt(a)+l+Wt(d)+f+Wt(_)+y:kt}(y,r,s,a,l,d,f,_);return w!==kt&&Xs(y,fs(),w),BC}function $C(r,s,a){Ad(s)&&(s=s());const l=Le();return Yr(l,aa(),s)&&go(Nn(),Lr(),l,r,s,l[Ht],a,!1),$C}function M1(r,s){const a=Ad(r);return a&&r.set(s),a}function HC(r,s){const a=Le(),l=Nn(),d=nr();return mE(l,a,a[Ht],d,r,s),HC}function zC(r,s,a,l,d){if(r=le(r),Array.isArray(r))for(let f=0;f<r.length;f++)zC(r[f],s,a,l,d);else{const f=Nn(),_=Le(),y=nr();let w=Oo(r)?r:le(r.provide);const M=tc(r),F=1048575&y.providerIndexes,W=y.directiveStart,te=y.providerIndexes>>20;if(Oo(r)||!r.multi){const oe=new Os(M,d,Vr),ge=WC(w,s,d?F:F+te,W);-1===ge?(Ot(ne(y,_),f,w),GC(f,r,s.length),s.push(w),y.directiveStart++,y.directiveEnd++,d&&(y.providerIndexes+=1048576),a.push(oe),_.push(oe)):(a[ge]=oe,_[ge]=oe)}else{const oe=WC(w,s,F+te,W),ge=WC(w,s,F,F+te),it=ge>=0&&a[ge];if(d&&!it||!d&&!(oe>=0&&a[oe])){Ot(ne(y,_),f,w);const ut=function O1(r,s,a,l,d){const f=new Os(r,a,Vr);return f.multi=[],f.index=s,f.componentProviders=0,x1(f,d,l&&!a),f}(d?tx:ex,a.length,d,l,M);!d&&it&&(a[ge].providerFactory=ut),GC(f,r,s.length,0),s.push(w),y.directiveStart++,y.directiveEnd++,d&&(y.providerIndexes+=1048576),a.push(ut),_.push(ut)}else GC(f,r,oe>-1?oe:ge,x1(a[d?ge:oe],M,!d&&l));!d&&l&&it&&a[ge].componentProviders++}}}function GC(r,s,a,l){const d=Oo(s),f=function Uc(r){return!!r.useClass}(s);if(d||f){const w=(f?le(s.useClass):s).prototype.ngOnDestroy;if(w){const M=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const F=M.indexOf(a);-1===F?M.push(a,[l,w]):M[F+1].push(l,w)}else M.push(a,w)}}}function x1(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function WC(r,s,a,l){for(let d=a;d<l;d++)if(s[d]===r)return d;return-1}function ex(r,s,a,l){return KC(this.multi,[])}function tx(r,s,a,l){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,y=la(a,a[et],this.providerFactory.index,l);f=y.slice(0,_),KC(d,f);for(let w=_;w<y.length;w++)f.push(y[w])}else f=[],KC(d,f);return f}function KC(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function N1(r,s=[]){return a=>{a.providersResolver=(l,d)=>function JM(r,s,a){const l=Nn();if(l.firstCreatePass){const d=vi(r);zC(a,l.data,l.blueprint,d,!0),zC(s,l.data,l.blueprint,d,!1)}}(l,d?d(r):r,s)}}let nx=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=oo(0,a.type),d=l.length>0?Md([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dn({token:r,providedIn:"environment",factory:()=>new r(Kr(Dr))})}return r})();function k1(r){$o("NgStandalone"),r.getStandaloneInjector=s=>s.get(nx).getOrCreateStandaloneInjector(r)}function F1(r,s,a){const l=xs()+r,d=Le();return d[l]===kt?ja(d,l,a?s.call(a):s()):bu(d,l)}function V1(r,s,a,l){return function z1(r,s,a,l,d,f){const _=s+a;return Yr(r,_,d)?ja(r,_+1,f?l.call(f,d):l(d)):Vy(r,_+1)}(Le(),xs(),r,s,a,l)}function U1(r,s,a,l,d){return function G1(r,s,a,l,d,f,_){const y=s+a;return vc(r,y,d,f)?ja(r,y+2,_?l.call(_,d,f):l(d,f)):Vy(r,y+2)}(Le(),xs(),r,s,a,l,d)}function B1(r,s,a,l,d,f){return function W1(r,s,a,l,d,f,_,y){const w=s+a;return yg(r,w,d,f,_)?ja(r,w+3,y?l.call(y,d,f,_):l(d,f,_)):Vy(r,w+3)}(Le(),xs(),r,s,a,l,d,f)}function j1(r,s,a,l,d,f,_){return function K1(r,s,a,l,d,f,_,y,w){const M=s+a;return va(r,M,d,f,_,y)?ja(r,M+4,w?l.call(w,d,f,_,y):l(d,f,_,y)):Vy(r,M+4)}(Le(),xs(),r,s,a,l,d,f,_)}function $1(r,s,a,l,d,f,_,y,w){const M=xs()+r,F=Le(),W=va(F,M,a,l,d,f);return vc(F,M+4,_,y)||W?ja(F,M+6,w?s.call(w,a,l,d,f,_,y):s(a,l,d,f,_,y)):bu(F,M+6)}function H1(r,s,a,l){return function q1(r,s,a,l,d,f){let _=s+a,y=!1;for(let w=0;w<d.length;w++)Yr(r,_++,d[w])&&(y=!0);return y?ja(r,_,l.apply(f,d)):Vy(r,_)}(Le(),xs(),r,s,a,l)}function Vy(r,s){const a=r[s];return a===kt?void 0:a}function Q1(r,s){return d_(r,s)}class aD{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}const hR=new aD("17.3.8");let lD=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const gD=new $t(""),mD=new $t("");let SE,OR=(()=>{class r{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,SE||(function NR(r){SE=r}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a()},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}static#e=this.\u0275fac=function(l){return new(l||r)(Kr(wn),Kr(_D),Kr(mD))};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac})}return r})(),_D=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return SE?.findTestabilityInTree(this,a,l)??null}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function RE(r){return!!r&&"function"==typeof r.then}function yD(r){return!!r&&"function"==typeof r.subscribe}const vD=new $t("");let PE=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=Kt(vD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(RE(f))a.push(f);else if(yD(f)){const _=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});a.push(_)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const ME=new $t("");let Vu=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(Pv),this.afterRenderEffectManager=Kt(Td),this.externalTestViews=new Set,this.beforeRender=new vn.B,this.afterTick=new vn.B,this.componentTypes=[],this.components=[],this.isStable=Kt(xd).hasPendingTasks.pipe((0,Or.T)(a=>!a)),this._injector=Kt(Dr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof nf;if(!this._injector.get(PE).done)throw!d&&wi(a),new ct(405,!1);let _;_=d?a:this._injector.get(rg).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const y=function kR(r){return r.isBoundToModule}(_)?void 0:this._injector.get(Pd),M=_.create(Uo.NULL,[],l||_.selector,y),F=M.location.nativeElement,W=M.injector.get(gD,null);return W?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),Hy(this.components,M),W?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new ct(101,!1);const l=ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(d){this.internalErrorHandler(d)}finally{this.afterTick.next(),this._runningTick=!1,ce(l)}}detectChangesInAttachedViews(a){let l=0;const d=this.afterRenderEffectManager;for(;;){if(l===SI)throw new ct(103,!1);if(a){const f=0===l;this.beforeRender.next(f);for(let{_lView:_,notifyErrorHandler:y}of this._views)FR(_,f,y)}if(l++,d.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:f})=>xE(f))&&(d.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:f})=>xE(f))))break}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Hy(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(ME,[]);[...this._bootstrapListeners,...l].forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Hy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ct(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Hy(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}function FR(r,s,a){!s&&!xE(r)||function VR(r,s,a){let l;a?(l=0,r[St]|=1024):l=64&r[St]?0:1,gc(r,s,l)}(r,a,s)}function xE(r){return oh(r)}class UR{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let OE=(()=>{class r{compileModuleSync(a){return new B_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=Qs(ci(a).declarations).reduce((_,y)=>{const w=nn(y);return w&&_.push(new Ba(w)),_},[]);return new UR(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),jR=(()=>{class r{constructor(){this.zone=Kt(wn),this.applicationRef=Kt(Vu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function kE(r){return[{provide:wn,useFactory:r},{provide:io,multi:!0,useFactory:()=>{const s=Kt(jR,{optional:!0});return()=>s.initialize()}},{provide:io,multi:!0,useFactory:()=>{const s=Kt(GR);return()=>{s.initialize()}}},{provide:Pv,useFactory:$R}]}function $R(){const r=Kt(wn),s=Kt(Va);return a=>r.runOutsideAngular(()=>s.handleError(a))}function HR(r){return cl([[],kE(()=>new wn(function zR(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}(r)))])}let GR=(()=>{class r{constructor(){this.subscription=new xr.yU,this.initialized=!1,this.zone=Kt(wn),this.pendingTasks=Kt(xd)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{wn.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{wn.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||r)};static#t=this.\u0275prov=Dn({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Gy=new $t("",{providedIn:"root",factory:()=>Kt(Gy,on.Optional|on.SkipSelf)||function jx(){return typeof $localize<"u"&&$localize.locale||Ul}()}),WR=new $t("",{providedIn:"root",factory:()=>"USD"}),LE=new $t("");let Hd=null;function YR(){return!1}let AD=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=ZR}return r})();function ZR(r){return function JR(r,s,a){if(hs(r)&&!a){const l=is(r.index,s);return new Xh(l,l)}return 47&r.type?new Xh(s[mr],s):null}(nr(),Le(),!(16&~r))}class PD{constructor(){}supports(s){return hf(s)}create(s){return new nP(s)}}const tP=(r,s)=>s;class nP{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||tP}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const _=!l||a&&a.currentIndex<Rc(l,d,f)?a:l,y=Rc(_,d,f),w=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const M=y-d,F=w-d;if(M!=F){for(let te=0;te<M;te++){const oe=te<f.length?f[te]:f[te]=0,ge=oe+te;F<=ge&&ge<M&&(f[te]=oe+1)}f[_.previousIndex]=F-M}}y!==w&&s(_,y,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!hf(s))throw new ct(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],_=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,f,_,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,y),l=!0),a=a._next}else d=0,function pS(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,y=>{_=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,y,_,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new rP(a,l),f,d),s}_verifyReinsertion(s,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new zg),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zg),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class rP{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class zg{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new MD,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rc(r,s,a){const l=r.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class iP{constructor(){}supports(s){return s instanceof Map||ls(s)}create(){return new sP}}class sP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ls(s)))throw new ct(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const l=new oP(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class oP{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jE(){return new Ky([new PD])}let Ky=(()=>{class r{static#e=this.\u0275prov=Dn({token:r,providedIn:"root",factory:jE});constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||jE()),deps:[[r,new gi,new ai]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new ct(901,!1)}}return r})();function xD(){return new Wd([new iP])}let Wd=(()=>{class r{static#e=this.\u0275prov=Dn({token:r,providedIn:"root",factory:xD});constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:l=>r.create(a,l||xD()),deps:[[r,new gi,new ai]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new ct(901,!1)}}return r})();function hO(r){try{const{rootComponent:s,appProviders:a,platformProviders:l}=r,d=function XR(r=[]){if(Hd)return Hd;const s=function wD(r=[],s){return Uo.create({name:s,providers:[{provide:ao,useValue:"platform"},{provide:LE,useValue:new Set([()=>Hd=null])},...r]})}(r);return Hd=s,function ID(){!function dr(r){qn=r}(()=>{throw new ct(600,!1)})}(),function CD(r){r.get(Hv,null)?.forEach(a=>a())}(s),s}(l),f=[HR(),...a||[]],y=new _g({providers:f,parent:d,debugName:"",runEnvironmentInitializers:!1}).injector,w=y.get(wn);return w.run(()=>{y.resolveInjectorInitializers();const M=y.get(Va,null);let F;w.runOutsideAngular(()=>{F=w.onError.subscribe({next:oe=>{M.handleError(oe)}})});const W=()=>y.destroy(),te=d.get(LE);return te.add(W),y.onDestroy(()=>{F.unsubscribe(),te.delete(W)}),function ED(r,s,a){try{const l=a();return RE(l)?l.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(M,w,()=>{const oe=y.get(PE);return oe.runInitializers(),oe.donePromise.then(()=>{!function Ty(r){"string"==typeof r&&(by=r.toLowerCase().replace(/_/g,"-"))}(y.get(Gy,Ul)||Ul);const ke=y.get(Vu);return void 0!==s&&ke.bootstrap(s),ke})})})}catch(s){return Promise.reject(s)}}function kP(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function LP(r,s=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?s:Number(r)}function UP(r,s){$o("NgSignals");const a=function Ee(r){const s=Object.create(br);s.computation=r;const a=()=>{if($e(s),Te(s),s.value===Er)throw s.error;return s.value};return a[Me]=s,a}(r);return s?.equal&&(a[Me].equal=s.equal),a}function BP(r){const s=ce(null);try{return r()}finally{ce(s)}}const jP=new $t("",{providedIn:"root",factory:()=>Kt($P)});let $P=(()=>{class r{static#e=this.\u0275prov=Dn({token:r,providedIn:"root",factory:()=>new HP})}return r})();class HP{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Kt(xd),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const a=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(a),this.taskId=null})}}enqueue(s){const a=s.creationZone;this.queues.has(a)||this.queues.set(a,new Set);const l=this.queues.get(a);l.has(s)||(this.queuedEffectCount++,l.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,a]of this.queues)null===s?this.flushQueue(a):s.run(()=>this.flushQueue(a))}flushQueue(s){for(const a of s)s.delete(a),this.queuedEffectCount--,a.run()}}class zP{constructor(s,a,l,d,f,_){this.scheduler=s,this.effectFn=a,this.creationZone=l,this.injector=f,this.watcher=function hn(r,s,a){const l=Object.create(_n);a&&(l.consumerAllowSignalWrites=!0),l.fn=r,l.schedule=s;const d=w=>{l.cleanupFn=w};return l.ref={notify:()=>Et(l),run:()=>{if(null===l.fn)return;if(function je(){return ae}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(l.dirty=!1,l.hasRun&&!En(l))return;l.hasRun=!0;const w=bt(l);try{l.cleanupFn(),l.cleanupFn=Ct,l.fn(d)}finally{un(l,w)}},cleanup:()=>l.cleanupFn(),destroy:()=>function _(w){(function f(w){return null===w.fn&&null===w.schedule})(w)||(Qe(w),w.cleanupFn(),w.fn=null,w.schedule=null,w.cleanupFn=Ct)}(l),[Me]:l},l.ref}(y=>this.runEffect(y),()=>this.schedule(),_),this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(a){this.injector.get(Va,null,{optional:!0})?.handleError(a)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function QD(r,s){$o("NgSignals"),!s?.injector&&qs();const a=s?.injector??Kt(Uo),l=!0!==s?.manualCleanup?a.get(bh):null,d=new zP(a.get(jP),r,typeof Zone>"u"?null:Zone.current,l,a,s?.allowSignalWrites??!1),f=a.get(AD,null,{optional:!0});return f&&8&f._lView[St]?(f._lView[Wu]??=[]).push(d.watcher.notify):d.watcher.notify(),d}function GP(r){const s=nn(r);if(!s)return null;const a=new Ba(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},345:(Rt,Fe,H)=>{H.d(Fe,{B7:()=>lt,B8:()=>xe,hE:()=>Ur,up:()=>ji});var R=H(4438),u=H(177);class U extends u.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends U{static makeCurrent(){(0,u.ZD)(new ae)}onAndCancel(pe,X,ie){return pe.addEventListener(X,ie),()=>{pe.removeEventListener(X,ie)}}dispatchEvent(pe,X){pe.dispatchEvent(X)}remove(pe){pe.parentNode&&pe.parentNode.removeChild(pe)}createElement(pe,X){return(X=X||this.getDefaultDocument()).createElement(pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(pe){return pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(pe){return pe instanceof DocumentFragment}getGlobalEventTarget(pe,X){return"window"===X?window:"document"===X?pe:"body"===X?pe.body:null}getBaseHref(pe){const X=function Me(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==X?null:function ce(le){return new URL(le,document.baseURI).pathname}(X)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(pe){return(0,u._b)(document.cookie,pe)}}let be=null,je=(()=>{class le{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ie){return new(ie||le)};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac})}return le})();const re=new R.nKC("");let ee=(()=>{class le{constructor(X,ie){this._zone=ie,this._eventNameToPlugin=new Map,X.forEach(K=>{K.manager=this}),this._plugins=X.slice().reverse()}addEventListener(X,ie,K){return this._findPluginFor(ie).addEventListener(X,ie,K)}getZone(){return this._zone}_findPluginFor(X){let ie=this._eventNameToPlugin.get(X);if(ie)return ie;if(ie=this._plugins.find(q=>q.supports(X)),!ie)throw new R.wOt(5101,!1);return this._eventNameToPlugin.set(X,ie),ie}static#e=this.\u0275fac=function(ie){return new(ie||le)(R.KVO(re),R.KVO(R.SKi))};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac})}return le})();class Te{constructor(pe){this._doc=pe}}const Ze="ng-app-id";let $e=(()=>{class le{constructor(X,ie,K,q={}){this.doc=X,this.appId=ie,this.nonce=K,this.platformId=q,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.Vy)(q),this.resetHostNodes()}addStyles(X){for(const ie of X)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(X){for(const ie of X)this.changeUsageCount(ie,-1)<=0&&this.onStyleRemoved(ie)}ngOnDestroy(){const X=this.styleNodesInDOM;X&&(X.forEach(ie=>ie.remove()),X.clear());for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.resetHostNodes()}addHost(X){this.hostNodes.add(X);for(const ie of this.getAllStyles())this.addStyleToHost(X,ie)}removeHost(X){this.hostNodes.delete(X)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(X){for(const ie of this.hostNodes)this.addStyleToHost(ie,X)}onStyleRemoved(X){const ie=this.styleRef;ie.get(X)?.elements?.forEach(K=>K.remove()),ie.delete(X)}collectServerRenderedStyles(){const X=this.doc.head?.querySelectorAll(`style[${Ze}="${this.appId}"]`);if(X?.length){const ie=new Map;return X.forEach(K=>{null!=K.textContent&&ie.set(K.textContent,K)}),ie}return null}changeUsageCount(X,ie){const K=this.styleRef;if(K.has(X)){const q=K.get(X);return q.usage+=ie,q.usage}return K.set(X,{usage:ie,elements:[]}),ie}getStyleElement(X,ie){const K=this.styleNodesInDOM,q=K?.get(ie);if(q?.parentNode===X)return K.delete(ie),q.removeAttribute(Ze),q;{const $=this.doc.createElement("style");return this.nonce&&$.setAttribute("nonce",this.nonce),$.textContent=ie,this.platformIsServer&&$.setAttribute(Ze,this.appId),X.appendChild($),$}}addStyleToHost(X,ie){const K=this.getStyleElement(X,ie),q=this.styleRef,$=q.get(ie)?.elements;$?$.push(K):q.set(ie,{elements:[K],usage:1})}resetHostNodes(){const X=this.hostNodes;X.clear(),X.add(this.doc.head)}static#e=this.\u0275fac=function(ie){return new(ie||le)(R.KVO(u.qQ),R.KVO(R.sZ2),R.KVO(R.BIS,8),R.KVO(R.Agw))};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac})}return le})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g,Qe=new R.nKC("",{providedIn:"root",factory:()=>!0});function rt(le,pe){return pe.map(X=>X.replace(ot,le))}let lt=(()=>{class le{constructor(X,ie,K,q,$,z,B,se=null){this.eventManager=X,this.sharedStylesHost=ie,this.appId=K,this.removeStylesOnCompDestroy=q,this.doc=$,this.platformId=z,this.ngZone=B,this.nonce=se,this.rendererByCompId=new Map,this.platformIsServer=(0,u.Vy)(z),this.defaultRenderer=new vt(X,$,B,this.platformIsServer)}createRenderer(X,ie){if(!X||!ie)return this.defaultRenderer;this.platformIsServer&&ie.encapsulation===R.gXe.ShadowDom&&(ie={...ie,encapsulation:R.gXe.Emulated});const K=this.getOrCreateRenderer(X,ie);return K instanceof zr?K.applyToHost(X):K instanceof br&&K.applyStyles(),K}getOrCreateRenderer(X,ie){const K=this.rendererByCompId;let q=K.get(ie.id);if(!q){const $=this.doc,z=this.ngZone,B=this.eventManager,se=this.sharedStylesHost,Oe=this.removeStylesOnCompDestroy,st=this.platformIsServer;switch(ie.encapsulation){case R.gXe.Emulated:q=new zr(B,se,ie,this.appId,Oe,$,z,st);break;case R.gXe.ShadowDom:return new Er(B,se,X,ie,$,z,this.nonce,st);default:q=new br(B,se,ie,Oe,$,z,st)}K.set(ie.id,q)}return q}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ie){return new(ie||le)(R.KVO(ee),R.KVO($e),R.KVO(R.sZ2),R.KVO(Qe),R.KVO(u.qQ),R.KVO(R.Agw),R.KVO(R.SKi),R.KVO(R.BIS))};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac})}return le})();class vt{constructor(pe,X,ie,K){this.eventManager=pe,this.doc=X,this.ngZone=ie,this.platformIsServer=K,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(pe,X){return X?this.doc.createElementNS(dt[X]||X,pe):this.doc.createElement(pe)}createComment(pe){return this.doc.createComment(pe)}createText(pe){return this.doc.createTextNode(pe)}appendChild(pe,X){(Lt(pe)?pe.content:pe).appendChild(X)}insertBefore(pe,X,ie){pe&&(Lt(pe)?pe.content:pe).insertBefore(X,ie)}removeChild(pe,X){pe&&pe.removeChild(X)}selectRootElement(pe,X){let ie="string"==typeof pe?this.doc.querySelector(pe):pe;if(!ie)throw new R.wOt(-5104,!1);return X||(ie.textContent=""),ie}parentNode(pe){return pe.parentNode}nextSibling(pe){return pe.nextSibling}setAttribute(pe,X,ie,K){if(K){X=K+":"+X;const q=dt[K];q?pe.setAttributeNS(q,X,ie):pe.setAttribute(X,ie)}else pe.setAttribute(X,ie)}removeAttribute(pe,X,ie){if(ie){const K=dt[ie];K?pe.removeAttributeNS(K,X):pe.removeAttribute(`${ie}:${X}`)}else pe.removeAttribute(X)}addClass(pe,X){pe.classList.add(X)}removeClass(pe,X){pe.classList.remove(X)}setStyle(pe,X,ie,K){K&(R.czy.DashCase|R.czy.Important)?pe.style.setProperty(X,ie,K&R.czy.Important?"important":""):pe.style[X]=ie}removeStyle(pe,X,ie){ie&R.czy.DashCase?pe.style.removeProperty(X):pe.style[X]=""}setProperty(pe,X,ie){null!=pe&&(pe[X]=ie)}setValue(pe,X){pe.nodeValue=X}listen(pe,X,ie){if("string"==typeof pe&&!(pe=(0,u.QT)().getGlobalEventTarget(this.doc,pe)))throw new Error(`Unsupported event target ${pe} for event ${X}`);return this.eventManager.addEventListener(pe,X,this.decoratePreventDefault(ie))}decoratePreventDefault(pe){return X=>{if("__ngUnwrap__"===X)return pe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>pe(X)):pe(X))&&X.preventDefault()}}}function Lt(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class Er extends vt{constructor(pe,X,ie,K,q,$,z,B){super(pe,q,$,B),this.sharedStylesHost=X,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const se=rt(K.id,K.styles);for(const Oe of se){const st=document.createElement("style");z&&st.setAttribute("nonce",z),st.textContent=Oe,this.shadowRoot.appendChild(st)}}nodeOrShadowRoot(pe){return pe===this.hostEl?this.shadowRoot:pe}appendChild(pe,X){return super.appendChild(this.nodeOrShadowRoot(pe),X)}insertBefore(pe,X,ie){return super.insertBefore(this.nodeOrShadowRoot(pe),X,ie)}removeChild(pe,X){return super.removeChild(this.nodeOrShadowRoot(pe),X)}parentNode(pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(pe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class br extends vt{constructor(pe,X,ie,K,q,$,z,B){super(pe,q,$,z),this.sharedStylesHost=X,this.removeStylesOnCompDestroy=K,this.styles=B?rt(B,ie.styles):ie.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zr extends br{constructor(pe,X,ie,K,q,$,z,B){const se=K+"-"+ie.id;super(pe,X,ie,q,$,z,B,se),this.contentAttr=function He(le){return"_ngcontent-%COMP%".replace(ot,le)}(se),this.hostAttr=function Je(le){return"_nghost-%COMP%".replace(ot,le)}(se)}applyToHost(pe){this.applyStyles(),this.setAttribute(pe,this.hostAttr,"")}createElement(pe,X){const ie=super.createElement(pe,X);return super.setAttribute(ie,this.contentAttr,""),ie}}let qn=(()=>{class le extends Te{constructor(X){super(X)}supports(X){return!0}addEventListener(X,ie,K){return X.addEventListener(ie,K,!1),()=>this.removeEventListener(X,ie,K)}removeEventListener(X,ie,K){return X.removeEventListener(ie,K)}static#e=this.\u0275fac=function(ie){return new(ie||le)(R.KVO(u.qQ))};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac})}return le})();const oi=["alt","control","meta","shift"],dr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ve={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let we=(()=>{class le extends Te{constructor(X){super(X)}supports(X){return null!=le.parseEventName(X)}addEventListener(X,ie,K){const q=le.parseEventName(ie),$=le.eventCallback(q.fullKey,K,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.QT)().onAndCancel(X,q.domEventName,$))}static parseEventName(X){const ie=X.toLowerCase().split("."),K=ie.shift();if(0===ie.length||"keydown"!==K&&"keyup"!==K)return null;const q=le._normalizeKey(ie.pop());let $="",z=ie.indexOf("code");if(z>-1&&(ie.splice(z,1),$="code."),oi.forEach(se=>{const Oe=ie.indexOf(se);Oe>-1&&(ie.splice(Oe,1),$+=se+".")}),$+=q,0!=ie.length||0===q.length)return null;const B={};return B.domEventName=K,B.fullKey=$,B}static matchEventFullKeyCode(X,ie){let K=dr[X.key]||X.key,q="";return ie.indexOf("code.")>-1&&(K=X.code,q="code."),!(null==K||!K)&&(K=K.toLowerCase()," "===K?K="space":"."===K&&(K="dot"),oi.forEach($=>{$!==K&&(0,ve[$])(X)&&(q+=$+".")}),q+=K,q===ie)}static eventCallback(X,ie,K){return q=>{le.matchEventFullKeyCode(q,X)&&K.runGuarded(()=>ie(q))}}static _normalizeKey(X){return"esc"===X?"escape":X}static#e=this.\u0275fac=function(ie){return new(ie||le)(R.KVO(u.qQ))};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac})}return le})();function xe(le,pe){return(0,R.TL3)({rootComponent:le,...Se(pe)})}function Se(le){return{appProviders:[...xr,...le?.providers??[]],platformProviders:Ct}}const Ct=[{provide:R.Agw,useValue:u.AJ},{provide:R.PLl,useValue:function At(){ae.makeCurrent()},multi:!0},{provide:u.qQ,useFactory:function hn(){return(0,R.TL$)(document),document},deps:[]}],xr=[{provide:R.H8p,useValue:"root"},{provide:R.zcH,useFactory:function qt(){return new R.zcH},deps:[]},{provide:re,useClass:qn,multi:!0,deps:[u.qQ,R.SKi,R.Agw]},{provide:re,useClass:we,multi:!0,deps:[u.qQ]},lt,$e,ee,{provide:R._9s,useExisting:lt},{provide:u.N0,useClass:je,deps:[]},[]];let Ur=(()=>{class le{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}static#e=this.\u0275fac=function(ie){return new(ie||le)(R.KVO(u.qQ))};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),ji=(()=>{class le{static#e=this.\u0275fac=function(ie){return new(ie||le)};static#t=this.\u0275prov=R.jDH({token:le,factory:function(ie){let K=null;return K=ie?new(ie||le):R.KVO(Ft),K},providedIn:"root"})}return le})(),Ft=(()=>{class le extends ji{constructor(X){super(),this._doc=X}sanitize(X,ie){if(null==ie)return null;switch(X){case R.WPN.NONE:return ie;case R.WPN.HTML:return(0,R.ZF7)(ie,"HTML")?(0,R.rcV)(ie):(0,R.h9k)(this._doc,String(ie)).toString();case R.WPN.STYLE:return(0,R.ZF7)(ie,"Style")?(0,R.rcV)(ie):ie;case R.WPN.SCRIPT:if((0,R.ZF7)(ie,"Script"))return(0,R.rcV)(ie);throw new R.wOt(5200,!1);case R.WPN.URL:return(0,R.ZF7)(ie,"URL")?(0,R.rcV)(ie):(0,R.$MX)(String(ie));case R.WPN.RESOURCE_URL:if((0,R.ZF7)(ie,"ResourceURL"))return(0,R.rcV)(ie);throw new R.wOt(5201,!1);default:throw new R.wOt(5202,!1)}}bypassSecurityTrustHtml(X){return(0,R.Kcf)(X)}bypassSecurityTrustStyle(X){return(0,R.cWb)(X)}bypassSecurityTrustScript(X){return(0,R.UyX)(X)}bypassSecurityTrustUrl(X){return(0,R.osQ)(X)}bypassSecurityTrustResourceUrl(X){return(0,R.e5t)(X)}static#e=this.\u0275fac=function(ie){return new(ie||le)(R.KVO(u.qQ))};static#t=this.\u0275prov=R.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},6315:(Rt,Fe,H)=>{H.d(Fe,{nX:()=>ai,wF:()=>Es,Ix:()=>Xr,Wk:()=>ki,wQ:()=>uo,iI:()=>Qf,n3:()=>Ao,lh:()=>kr});var R=H(467),u=H(4438),U=H(1985),ae=H(8071),Me=H(8455),ce=H(7673),Ke=H(4412);const{isArray:je}=Array,{getPrototypeOf:re,prototype:ee,keys:Te}=Object;var dt=H(3669),ot=H(6354);const{isArray:Et}=Array;var En=H(9326),He=H(4360),Je=H(5225);function rt(...I){const A=(0,En.lI)(I),b=(0,En.ms)(I),{args:S,keys:O}=function Ze(I){if(1===I.length){const A=I[0];if(je(A))return{args:A,keys:null};if(function $e(I){return I&&"object"==typeof I&&re(I)===ee}(A)){const b=Te(A);return{args:b.map(S=>A[S]),keys:b}}}return{args:I,keys:null}}(I);if(0===S.length)return(0,Me.H)([],A);const j=new U.c(function lt(I,A,b=dt.D){return S=>{vt(A,()=>{const{length:O}=I,j=new Array(O);let Z=O,_e=O;for(let me=0;me<O;me++)vt(A,()=>{const at=(0,Me.H)(I[me],A);let ln=!1;at.subscribe((0,He._)(S,rn=>{j[me]=rn,ln||(ln=!0,_e--),_e||S.next(b(j.slice()))},()=>{--Z||S.complete()}))},S)},S)}}(S,A,O?Z=>function Qe(I,A){return I.reduce((b,S,O)=>(b[S]=A[O],b),{})}(O,Z):dt.D));return b?j.pipe(function un(I){return(0,ot.T)(A=>function bt(I,A){return Et(A)?I(...A):I(A)}(I,A))}(b)):j}function vt(I,A,b){I?(0,Je.N)(b,I,A):A()}var Ee=H(9350),Xt=H(8793),Lt=H(8750);function Er(I){return new U.c(A=>{(0,Lt.Tg)(I()).subscribe(A)})}var br=H(1203);function zr(I,A){const b=(0,ae.T)(I)?I:()=>I,S=O=>O.error(b());return new U.c(A?O=>A.schedule(S,0,O):S)}var qn=H(983),oi=H(8359),dr=H(9974);function ve(){return(0,dr.N)((I,A)=>{let b=null;I._refCount++;const S=(0,He._)(A,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(b=null);const O=I._connection,j=b;b=null,O&&(!j||O===j)&&O.unsubscribe(),A.unsubscribe()});I.subscribe(S),S.closed||(b=I.connect())})}class we extends U.c{constructor(A,b){super(),this.source=A,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,dr.S)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new oi.yU;const b=this.getSubject();A.add(this.source.subscribe((0,He._)(b,void 0,()=>{this._teardown(),b.complete()},S=>{this._teardown(),b.error(S)},()=>this._teardown()))),A.closed&&(this._connection=null,A=oi.yU.EMPTY)}return A}refCount(){return ve()(this)}}var xe=H(1413),Re=H(177),Se=H(5558),Pe=H(6697),At=H(9172),qt=H(5964),hn=H(1397),Ct=H(1594),_n=H(274),yn=H(8141);function vn(I){return(0,dr.N)((A,b)=>{let j,S=null,O=!1;S=A.subscribe((0,He._)(b,void 0,void 0,Z=>{j=(0,Lt.Tg)(I(Z,vn(I)(A))),S?(S.unsubscribe(),S=null,j.subscribe(b)):O=!0})),O&&(S.unsubscribe(),S=null,j.subscribe(b))})}var xr=H(2816),ar=H(9901);function Or(I){return I<=0?()=>qn.w:(0,dr.N)((A,b)=>{let S=[];A.subscribe((0,He._)(b,O=>{S.push(O),I<S.length&&S.shift()},()=>{for(const O of S)b.next(O);b.complete()},void 0,()=>{S=null}))})}var Qn=H(3774),Gr=H(980),rr=H(5343),Bi=H(6365),es=H(345);const Pt="primary",Ge=Symbol("RouteTitle");class Mt{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const b=this.params[A];return Array.isArray(b)?b[0]:b}return null}getAll(A){if(this.has(A)){const b=this.params[A];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Xn(I){return new Mt(I)}function lr(I,A,b){const S=b.path.split("/");if(S.length>I.length||"full"===b.pathMatch&&(A.hasChildren()||S.length<I.length))return null;const O={};for(let j=0;j<S.length;j++){const Z=S[j],_e=I[j];if(Z.startsWith(":"))O[Z.substring(1)]=_e;else if(Z!==_e.path)return null}return{consumed:I.slice(0,S.length),posParams:O}}function Gn(I,A){const b=I?Mn(I):void 0,S=A?Mn(A):void 0;if(!b||!S||b.length!=S.length)return!1;let O;for(let j=0;j<b.length;j++)if(O=b[j],!ji(I[O],A[O]))return!1;return!0}function Mn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function ji(I,A){if(Array.isArray(I)&&Array.isArray(A)){if(I.length!==A.length)return!1;const b=[...I].sort(),S=[...A].sort();return b.every((O,j)=>S[j]===O)}return I===A}function Ft(I){return I.length>0?I[I.length-1]:null}function hr(I){return function be(I){return!!I&&(I instanceof U.c||(0,ae.T)(I.lift)&&(0,ae.T)(I.subscribe))}(I)?I:(0,u.jNT)(I)?(0,Me.H)(Promise.resolve(I)):(0,ce.of)(I)}const xt={exact:function fr(I,A,b){if(!q(I.segments,A.segments)||!le(I.segments,A.segments,b)||I.numberOfChildren!==A.numberOfChildren)return!1;for(const S in A.children)if(!I.children[S]||!fr(I.children[S],A.children[S],b))return!1;return!0},subset:Pi},mn={exact:function ir(I,A){return Gn(I,A)},subset:function Ri(I,A){return Object.keys(A).length<=Object.keys(I).length&&Object.keys(A).every(b=>ji(I[b],A[b]))},ignored:()=>!0};function Yn(I,A,b){return xt[b.paths](I.root,A.root,b.matrixParams)&&mn[b.queryParams](I.queryParams,A.queryParams)&&!("exact"===b.fragment&&I.fragment!==A.fragment)}function Pi(I,A,b){return Mi(I,A,A.segments,b)}function Mi(I,A,b,S){if(I.segments.length>b.length){const O=I.segments.slice(0,b.length);return!(!q(O,b)||A.hasChildren()||!le(O,b,S))}if(I.segments.length===b.length){if(!q(I.segments,b)||!le(I.segments,b,S))return!1;for(const O in A.children)if(!I.children[O]||!Pi(I.children[O],A.children[O],S))return!1;return!0}{const O=b.slice(0,I.segments.length),j=b.slice(I.segments.length);return!!(q(I.segments,O)&&le(I.segments,O,S)&&I.children[Pt])&&Mi(I.children[Pt],A,j,S)}}function le(I,A,b){return A.every((S,O)=>mn[b](I[O].parameters,S.parameters))}class pe{constructor(A=new X([],{}),b={},S=null){this.root=A,this.queryParams=b,this.fragment=S}get queryParamMap(){return this._queryParamMap??=Xn(this.queryParams),this._queryParamMap}toString(){return se.serialize(this)}}class X{constructor(A,b){this.segments=A,this.children=b,this.parent=null,Object.values(b).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oe(this)}}class ie{constructor(A,b){this.path=A,this.parameters=b}get parameterMap(){return this._parameterMap??=Xn(this.parameters),this._parameterMap}toString(){return Jr(this)}}function q(I,A){return I.length===A.length&&I.every((b,S)=>b.path===A[S].path)}let z=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:()=>new B,providedIn:"root"})}return I})();class B{parse(A){const b=new zt(A);return new pe(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(A){const b=`/${st(A.root,!0)}`,S=function Hl(I){const A=Object.entries(I).map(([b,S])=>Array.isArray(S)?S.map(O=>`${Bt(b)}=${Bt(O)}`).join("&"):`${Bt(b)}=${Bt(S)}`).filter(b=>b);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${b}${S}${"string"==typeof A.fragment?`#${function Cn(I){return encodeURI(I)}(A.fragment)}`:""}`}}const se=new B;function Oe(I){return I.segments.map(A=>Jr(A)).join("/")}function st(I,A){if(!I.hasChildren())return Oe(I);if(A){const b=I.children[Pt]?st(I.children[Pt],!1):"",S=[];return Object.entries(I.children).forEach(([O,j])=>{O!==Pt&&S.push(`${O}:${st(j,!1)}`)}),S.length>0?`${b}(${S.join("//")})`:b}{const b=function $(I,A){let b=[];return Object.entries(I.children).forEach(([S,O])=>{S===Pt&&(b=b.concat(A(O,S)))}),Object.entries(I.children).forEach(([S,O])=>{S!==Pt&&(b=b.concat(A(O,S)))}),b}(I,(S,O)=>O===Pt?[st(I.children[Pt],!1)]:[`${O}:${st(S,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Pt]?`${Oe(I)}/${b[0]}`:`${Oe(I)}/(${b.join("//")})`}}function jt(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bt(I){return jt(I).replace(/%3B/gi,";")}function Dt(I){return jt(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ht(I){return decodeURIComponent(I)}function fn(I){return ht(I.replace(/\+/g,"%20"))}function Jr(I){return`${Dt(I.path)}${function Ko(I){return Object.entries(I).map(([A,b])=>`;${Dt(A)}=${Dt(b)}`).join("")}(I.parameters)}`}const Wa=/^[^\/()?;#]+/;function Dn(I){const A=I.match(Wa);return A?A[0]:""}const Ka=/^[^\/()?;=#]+/,Ce=/^[^=?&#]+/,Ve=/^[^&#]+/;class zt{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(A.length>0||Object.keys(b).length>0)&&(S[Pt]=new X(A,b)),S}parseSegment(){const A=Dn(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(A),new ie(ht(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const b=function ys(I){const A=I.match(Ka);return A?A[0]:""}(this.remaining);if(!b)return;this.capture(b);let S="";if(this.consumeOptional("=")){const O=Dn(this.remaining);O&&(S=O,this.capture(S))}A[ht(b)]=ht(S)}parseQueryParam(A){const b=function de(I){const A=I.match(Ce);return A?A[0]:""}(this.remaining);if(!b)return;this.capture(b);let S="";if(this.consumeOptional("=")){const Z=function gt(I){const A=I.match(Ve);return A?A[0]:""}(this.remaining);Z&&(S=Z,this.capture(S))}const O=fn(b),j=fn(S);if(A.hasOwnProperty(O)){let Z=A[O];Array.isArray(Z)||(Z=[Z],A[O]=Z),Z.push(j)}else A[O]=j}parseParens(A){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Dn(this.remaining),O=this.remaining[S.length];if("/"!==O&&")"!==O&&";"!==O)throw new u.wOt(4010,!1);let j;S.indexOf(":")>-1?(j=S.slice(0,S.indexOf(":")),this.capture(j),this.capture(":")):A&&(j=Pt);const Z=this.parseChildren();b[j]=1===Object.keys(Z).length?Z[Pt]:new X([],Z),this.consumeOptional("//")}return b}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new u.wOt(4011,!1)}}function Gt(I){return I.segments.length>0?new X([],{[Pt]:I}):I}function sn(I){const A={};for(const[S,O]of Object.entries(I.children)){const j=sn(O);if(S===Pt&&0===j.segments.length&&j.hasChildren())for(const[Z,_e]of Object.entries(j.children))A[Z]=_e;else(j.segments.length>0||j.hasChildren())&&(A[S]=j)}return function Zn(I){if(1===I.numberOfChildren&&I.children[Pt]){const A=I.children[Pt];return new X(I.segments.concat(A.segments),A.children)}return I}(new X(I.segments,A))}function xn(I){return I instanceof pe}function vs(I){let A;const O=Gt(function b(j){const Z={};for(const me of j.children){const at=b(me);Z[me.outlet]=at}const _e=new X(j.url,Z);return j===I&&(A=_e),_e}(I.root));return A??O}function bo(I,A,b,S){let O=I;for(;O.parent;)O=O.parent;if(0===A.length)return Zs(O,O,O,b,S);const j=function Yd(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new qa(!0,0,I);let A=0,b=!1;const S=I.reduce((O,j,Z)=>{if("object"==typeof j&&null!=j){if(j.outlets){const _e={};return Object.entries(j.outlets).forEach(([me,at])=>{_e[me]="string"==typeof at?at.split("/"):at}),[...O,{outlets:_e}]}if(j.segmentPath)return[...O,j.segmentPath]}return"string"!=typeof j?[...O,j]:0===Z?(j.split("/").forEach((_e,me)=>{0==me&&"."===_e||(0==me&&""===_e?b=!0:".."===_e?A++:""!=_e&&O.push(_e))}),O):[...O,j]},[]);return new qa(b,A,S)}(A);if(j.toRoot())return Zs(O,O,new X([],{}),b,S);const Z=function Zd(I,A,b){if(I.isAbsolute)return new Gl(A,!0,0);if(!b)return new Gl(A,!1,NaN);if(null===b.parent)return new Gl(b,!0,0);const S=Jn(I.commands[0])?0:1;return function qo(I,A,b){let S=I,O=A,j=b;for(;j>O;){if(j-=O,S=S.parent,!S)throw new u.wOt(4005,!1);O=S.segments.length}return new Gl(S,!1,O-j)}(b,b.segments.length-1+S,I.numberOfDoubleDots)}(j,O,I),_e=Z.processChildren?Is(Z.segmentGroup,Z.index,j.commands):Ta(Z.segmentGroup,Z.index,j.commands);return Zs(O,Z.segmentGroup,_e,b,S)}function Jn(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function js(I){return"object"==typeof I&&null!=I&&I.outlets}function Zs(I,A,b,S,O){let Z,j={};S&&Object.entries(S).forEach(([me,at])=>{j[me]=Array.isArray(at)?at.map(ln=>`${ln}`):`${at}`}),Z=I===A?b:zl(I,A,b);const _e=Gt(sn(Z));return new pe(_e,j,O)}function zl(I,A,b){const S={};return Object.entries(I.children).forEach(([O,j])=>{S[O]=j===A?b:zl(j,A,b)}),new X(I.segments,S)}class qa{constructor(A,b,S){if(this.isAbsolute=A,this.numberOfDoubleDots=b,this.commands=S,A&&S.length>0&&Jn(S[0]))throw new u.wOt(4003,!1);const O=S.find(js);if(O&&O!==Ft(S))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gl{constructor(A,b,S){this.segmentGroup=A,this.processChildren=b,this.index=S}}function Ta(I,A,b){if(I??=new X([],{}),0===I.segments.length&&I.hasChildren())return Is(I,A,b);const S=function Qa(I,A,b){let S=0,O=A;const j={match:!1,pathIndex:0,commandIndex:0};for(;O<I.segments.length;){if(S>=b.length)return j;const Z=I.segments[O],_e=b[S];if(js(_e))break;const me=`${_e}`,at=S<b.length-1?b[S+1]:null;if(O>0&&void 0===me)break;if(me&&at&&"object"==typeof at&&void 0===at.outlets){if(!Wt(me,at,Z))return j;S+=2}else{if(!Wt(me,{},Z))return j;S++}O++}return{match:!0,pathIndex:O,commandIndex:S}}(I,A,b),O=b.slice(S.commandIndex);if(S.match&&S.pathIndex<I.segments.length){const j=new X(I.segments.slice(0,S.pathIndex),{});return j.children[Pt]=new X(I.segments.slice(S.pathIndex),I.children),Is(j,0,O)}return S.match&&0===O.length?new X(I.segments,{}):S.match&&!I.hasChildren()?Oi(I,A,b):S.match?Is(I,0,O):Oi(I,A,b)}function Is(I,A,b){if(0===b.length)return new X(I.segments,{});{const S=function xi(I){return js(I[0])?I[0].outlets:{[Pt]:I}}(b),O={};if(Object.keys(S).some(j=>j!==Pt)&&I.children[Pt]&&1===I.numberOfChildren&&0===I.children[Pt].segments.length){const j=Is(I.children[Pt],A,b);return new X(I.segments,j.children)}return Object.entries(S).forEach(([j,Z])=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(O[j]=Ta(I.children[j],A,Z))}),Object.entries(I.children).forEach(([j,Z])=>{void 0===S[j]&&(O[j]=Z)}),new X(I.segments,O)}}function Oi(I,A,b){const S=I.segments.slice(0,A);let O=0;for(;O<b.length;){const j=b[O];if(js(j)){const me=wr(j.outlets);return new X(S,me)}if(0===O&&Jn(b[0])){S.push(new ie(I.segments[A].path,Qo(b[0]))),O++;continue}const Z=js(j)?j.outlets[Pt]:`${j}`,_e=O<b.length-1?b[O+1]:null;Z&&_e&&Jn(_e)?(S.push(new ie(Z,Qo(_e))),O+=2):(S.push(new ie(Z,{})),O++)}return new X(S,{})}function wr(I){const A={};return Object.entries(I).forEach(([b,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(A[b]=Oi(new X([],{}),0,S))}),A}function Qo(I){const A={};return Object.entries(I).forEach(([b,S])=>A[b]=`${S}`),A}function Wt(I,A,b){return I==b.path&&Gn(A,b.parameters)}const pn="imperative";var An=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(An||{});class tr{constructor(A,b){this.id=A,this.url=b}}class Xo extends tr{constructor(A,b,S="imperative",O=null){super(A,b),this.type=An.NavigationStart,this.navigationTrigger=S,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Es extends tr{constructor(A,b,S){super(A,b),this.urlAfterRedirects=S,this.type=An.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ts=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(ts||{}),To=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(To||{});class on extends tr{constructor(A,b,S,O){super(A,b),this.reason=S,this.code=O,this.type=An.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ni extends tr{constructor(A,b,S,O){super(A,b),this.reason=S,this.code=O,this.type=An.NavigationSkipped}}class wa extends tr{constructor(A,b,S,O){super(A,b),this.error=S,this.target=O,this.type=An.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wr extends tr{constructor(A,b,S,O){super(A,b),this.urlAfterRedirects=S,this.state=O,this.type=An.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xa extends tr{constructor(A,b,S,O){super(A,b),this.urlAfterRedirects=S,this.state=O,this.type=An.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ya extends tr{constructor(A,b,S,O,j){super(A,b),this.urlAfterRedirects=S,this.state=O,this.shouldActivate=j,this.type=An.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jd extends tr{constructor(A,b,S,O){super(A,b),this.urlAfterRedirects=S,this.state=O,this.type=An.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends tr{constructor(A,b,S,O){super(A,b),this.urlAfterRedirects=S,this.state=O,this.type=An.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Za{constructor(A){this.route=A,this.type=An.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yo{constructor(A){this.route=A,this.type=An.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wl{constructor(A){this.snapshot=A,this.type=An.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(A){this.snapshot=A,this.type=An.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(A){this.snapshot=A,this.type=An.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(A){this.snapshot=A,this.type=An.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(A,b,S){this.routerEvent=A,this.position=b,this.anchor=S,this.type=An.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class eo{}class ei{constructor(A){this.url=A}}class Kr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bs,this.attachRef=null}}let bs=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(b,S){const O=this.getOrCreateContext(b);O.outlet=S,this.contexts.set(b,O)}onChildOutletDestroyed(b){const S=this.getContext(b);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let S=this.getContext(b);return S||(S=new Kr,this.contexts.set(b,S)),S}getContext(b){return this.contexts.get(b)||null}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();class Kt{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const b=this.pathFromRoot(A);return b.length>1?b[b.length-2]:null}children(A){const b=to(A,this._root);return b?b.children.map(S=>S.value):[]}firstChild(A){const b=to(A,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(A){const b=$i(A,this._root);return b.length<2?[]:b[b.length-2].children.map(O=>O.value).filter(O=>O!==A)}pathFromRoot(A){return $i(A,this._root).map(b=>b.value)}}function to(I,A){if(I===A.value)return A;for(const b of A.children){const S=to(I,b);if(S)return S}return null}function $i(I,A){if(I===A.value)return[A];for(const b of A.children){const S=$i(I,b);if(S.length)return S.unshift(A),S}return[]}class pr{constructor(A,b){this.value=A,this.children=b}toString(){return`TreeNode(${this.value})`}}function us(I){const A={};return I&&I.children.forEach(b=>A[b.value.outlet]=b),A}class el extends Kt{constructor(A,b){super(A),this.snapshot=b,ws(this,A)}toString(){return this.snapshot.toString()}}function no(I){const A=function Ts(I){const j=new gi([],{},{},"",{},Pt,I,null,{});return new eh("",new pr(j,[]))}(I),b=new Ke.t([new ie("",{})]),S=new Ke.t({}),O=new Ke.t({}),j=new Ke.t({}),Z=new Ke.t(""),_e=new ai(b,S,j,Z,O,Pt,I,A.root);return _e.snapshot=A.root,new el(new pr(_e,[]),A)}class ai{constructor(A,b,S,O,j,Z,_e,me){this.urlSubject=A,this.paramsSubject=b,this.queryParamsSubject=S,this.fragmentSubject=O,this.dataSubject=j,this.outlet=Z,this.component=_e,this._futureSnapshot=me,this.title=this.dataSubject?.pipe((0,ot.T)(at=>at[Ge]))??(0,ce.of)(void 0),this.url=A,this.params=b,this.queryParams=S,this.fragment=O,this.data=j}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ot.T)(A=>Xn(A))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ot.T)(A=>Xn(A))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kl(I,A,b="emptyOnly"){let S;const{routeConfig:O}=I;return S=null===A||"always"!==b&&""!==O?.path&&(A.component||A.routeConfig?.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...I._resolvedData??{}}}:{params:{...A.params,...I.params},data:{...A.data,...I.data},resolve:{...I.data,...A.data,...O?.data,...I._resolvedData}},O&&Ca(O)&&(S.resolve[Ge]=O.title),S}class gi{get title(){return this.data?.[Ge]}constructor(A,b,S,O,j,Z,_e,me,at){this.url=A,this.params=b,this.queryParams=S,this.fragment=O,this.data=j,this.outlet=Z,this.component=_e,this.routeConfig=me,this._resolve=at}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eh extends Kt{constructor(A,b){super(b),this.url=A,ws(this,b)}toString(){return Mc(this._root)}}function ws(I,A){A.value._routerState=I,A.children.forEach(b=>ws(I,b))}function Mc(I){const A=I.children.length>0?` { ${I.children.map(Mc).join(", ")} } `:"";return`${I.value}${A}`}function Vn(I){if(I.snapshot){const A=I.snapshot,b=I._futureSnapshot;I.snapshot=b,Gn(A.queryParams,b.queryParams)||I.queryParamsSubject.next(b.queryParams),A.fragment!==b.fragment&&I.fragmentSubject.next(b.fragment),Gn(A.params,b.params)||I.paramsSubject.next(b.params),function Tr(I,A){if(I.length!==A.length)return!1;for(let b=0;b<I.length;++b)if(!Gn(I[b],A[b]))return!1;return!0}(A.url,b.url)||I.urlSubject.next(b.url),Gn(A.data,b.data)||I.dataSubject.next(b.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function Cs(I,A){const b=Gn(I.params,A.params)&&function K(I,A){return q(I,A)&&I.every((b,S)=>Gn(b.parameters,A[S].parameters))}(I.url,A.url);return b&&!(!I.parent!=!A.parent)&&(!I.parent||Cs(I.parent,A.parent))}function Ca(I){return"string"==typeof I.title||null===I.title}let Ao=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pt,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(bs),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(Jo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:S,previousValue:O}=b.name;if(S)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,S){this.activated=b,this._activatedRoute=S,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,S){if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=b;const O=this.location,Z=b.snapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,me=new ro(b,_e,O.injector);this.activated=O.createComponent(Z,{index:O.length,injector:me,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275dir=u.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]})}return I})();class ro{__ngOutletInjector(A){return new ro(this.route,this.childContexts,A)}constructor(A,b,S){this.route=A,this.childContexts=b,this.parent=S}get(A,b){return A===ai?this.route:A===bs?this.childContexts:this.parent.get(A,b)}}const Jo=new u.nKC("");let $s=(()=>{class I{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:S}=b,O=rt([S.queryParams,S.params,S.data]).pipe((0,Se.n)(([j,Z,_e],me)=>(_e={...j,...Z,..._e},0===me?(0,ce.of)(_e):Promise.resolve(_e)))).subscribe(j=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(b);const Z=(0,u.HJs)(S.component);if(Z)for(const{templateName:_e}of Z.inputs)b.activatedComponentRef.setInput(_e,j[_e]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,O)}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac})}return I})();function tl(I,A,b){if(b&&I.shouldReuseRoute(A.value,b.value.snapshot)){const S=b.value;S._futureSnapshot=A.value;const O=function mi(I,A,b){return A.children.map(S=>{for(const O of b.children)if(I.shouldReuseRoute(S.value,O.value.snapshot))return tl(I,S,O);return tl(I,S)})}(I,A,b);return new pr(S,O)}{if(I.shouldAttach(A.value)){const j=I.retrieve(A.value);if(null!==j){const Z=j.route;return Z.value._futureSnapshot=A.value,Z.children=A.children.map(_e=>tl(I,_e)),Z}}const S=function Da(I){return new ai(new Ke.t(I.url),new Ke.t(I.params),new Ke.t(I.queryParams),new Ke.t(I.fragment),new Ke.t(I.data),I.outlet,I.component,I)}(A.value),O=A.children.map(j=>tl(I,j));return new pr(S,O)}}const Hi="ngNavigationCancelingError";function Ds(I,A){const{redirectTo:b,navigationBehaviorOptions:S}=xn(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,O=So(!1,ts.Redirect);return O.url=b,O.navigationBehaviorOptions=S,O}function So(I,A){const b=new Error(`NavigationCancelingError: ${I||""}`);return b[Hi]=!0,b.cancellationCode=A,b}function bn(I){return!!I&&I[Hi]}let io=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275cmp=u.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(S,O){1&S&&u.nrm(0,"router-outlet")},dependencies:[Ao],encapsulation:2})}return I})();function rl(I){const A=I.children&&I.children.map(rl),b=A?{...I,children:A}:{...I};return!b.component&&!b.loadComponent&&(A||b.loadChildren)&&b.outlet&&b.outlet!==Pt&&(b.component=io),b}function qr(I){return I.outlet||Pt}function ds(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let A=I.parent;A;A=A.parent){const b=A.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class nh{constructor(A,b,S,O,j){this.routeReuseStrategy=A,this.futureState=b,this.currState=S,this.forwardEvent=O,this.inputBindingEnabled=j}activate(A){const b=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,S,A),Vn(this.futureState.root),this.activateChildRoutes(b,S,A)}deactivateChildRoutes(A,b,S){const O=us(b);A.children.forEach(j=>{const Z=j.value.outlet;this.deactivateRoutes(j,O[Z],S),delete O[Z]}),Object.values(O).forEach(j=>{this.deactivateRouteAndItsChildren(j,S)})}deactivateRoutes(A,b,S){const O=A.value,j=b?b.value:null;if(O===j)if(O.component){const Z=S.getContext(O.outlet);Z&&this.deactivateChildRoutes(A,b,Z.children)}else this.deactivateChildRoutes(A,b,S);else j&&this.deactivateRouteAndItsChildren(b,S)}deactivateRouteAndItsChildren(A,b){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,b):this.deactivateRouteAndOutlet(A,b)}detachAndStoreRouteSubtree(A,b){const S=b.getContext(A.value.outlet),O=S&&A.value.component?S.children:b,j=us(A);for(const Z of Object.values(j))this.deactivateRouteAndItsChildren(Z,O);if(S&&S.outlet){const Z=S.outlet.detach(),_e=S.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Z,route:A,contexts:_e})}}deactivateRouteAndOutlet(A,b){const S=b.getContext(A.value.outlet),O=S&&A.value.component?S.children:b,j=us(A);for(const Z of Object.values(j))this.deactivateRouteAndItsChildren(Z,O);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(A,b,S){const O=us(b);A.children.forEach(j=>{this.activateRoutes(j,O[j.value.outlet],S),this.forwardEvent(new Do(j.value.snapshot))}),A.children.length&&this.forwardEvent(new Zo(A.value.snapshot))}activateRoutes(A,b,S){const O=A.value,j=b?b.value:null;if(Vn(O),O===j)if(O.component){const Z=S.getOrCreateContext(O.outlet);this.activateChildRoutes(A,b,Z.children)}else this.activateChildRoutes(A,b,S);else if(O.component){const Z=S.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const _e=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),Z.children.onOutletReAttached(_e.contexts),Z.attachRef=_e.componentRef,Z.route=_e.route.value,Z.outlet&&Z.outlet.attach(_e.componentRef,_e.route.value),Vn(_e.route.value),this.activateChildRoutes(A,null,Z.children)}else{const _e=ds(O.snapshot);Z.attachRef=null,Z.route=O,Z.injector=_e,Z.outlet&&Z.outlet.activateWith(O,Z.injector),this.activateChildRoutes(A,null,Z.children)}}else this.activateChildRoutes(A,null,S)}}class sl{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class _i{constructor(A,b){this.component=A,this.route=b}}function Ql(I,A,b){const S=I._root;return Gs(S,A?A._root:null,b,[S.value])}function zs(I,A){const b=Symbol(),S=A.get(I,b);return S===b?"function"!=typeof I||(0,u.LfX)(I)?A.get(I):I:S}function Gs(I,A,b,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=us(A);return I.children.forEach(Z=>{(function Un(I,A,b,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=I.value,Z=A?A.value:null,_e=b?b.getContext(I.value.outlet):null;if(Z&&j.routeConfig===Z.routeConfig){const me=function ol(I,A,b){if("function"==typeof b)return b(I,A);switch(b){case"pathParamsChange":return!q(I.url,A.url);case"pathParamsOrQueryParamsChange":return!q(I.url,A.url)||!Gn(I.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cs(I,A)||!Gn(I.queryParams,A.queryParams);default:return!Cs(I,A)}}(Z,j,j.routeConfig.runGuardsAndResolvers);me?O.canActivateChecks.push(new sl(S)):(j.data=Z.data,j._resolvedData=Z._resolvedData),Gs(I,A,j.component?_e?_e.children:null:b,S,O),me&&_e&&_e.outlet&&_e.outlet.isActivated&&O.canDeactivateChecks.push(new _i(_e.outlet.component,Z))}else Z&&Po(A,_e,O),O.canActivateChecks.push(new sl(S)),Gs(I,null,j.component?_e?_e.children:null:b,S,O)})(Z,j[Z.value.outlet],b,S.concat([Z.value]),O),delete j[Z.value.outlet]}),Object.entries(j).forEach(([Z,_e])=>Po(_e,b.getContext(Z),O)),O}function Po(I,A,b){const S=us(I),O=I.value;Object.entries(S).forEach(([j,Z])=>{Po(Z,O.component?A?A.children.getContext(j):null:A,b)}),b.canDeactivateChecks.push(new _i(O.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,O))}function so(I){return"function"==typeof I}function Ra(I){return I instanceof Ee.G||"EmptyError"===I?.name}const al=Symbol("INITIAL_VALUE");function Ss(){return(0,Se.n)(I=>rt(I.map(A=>A.pipe((0,Pe.s)(1),(0,At.Z)(al)))).pipe((0,ot.T)(A=>{for(const b of A)if(!0!==b){if(b===al)return al;if(!1===b||b instanceof pe)return b}return!0}),(0,qt.p)(A=>A!==al),(0,Pe.s)(1)))}function Yl(I){return(0,br.F)((0,yn.M)(A=>{if(xn(A))throw Ds(0,A)}),(0,ot.T)(A=>!0===A))}class Mo{constructor(A){this.segmentGroup=A||null}}class oo extends Error{constructor(A){super(),this.urlTree=A}}function Ks(I){return zr(new Mo(I))}class ul{constructor(A,b){this.urlSerializer=A,this.urlTree=b}lineralizeSegments(A,b){let S=[],O=b.root;for(;;){if(S=S.concat(O.segments),0===O.numberOfChildren)return(0,ce.of)(S);if(O.numberOfChildren>1||!O.children[Pt])return zr(new u.wOt(4e3,!1));O=O.children[Pt]}}applyRedirectCommands(A,b,S){const O=this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),A,S);if(b.startsWith("/"))throw new oo(O);return O}applyRedirectCreateUrlTree(A,b,S,O){const j=this.createSegmentGroup(A,b.root,S,O);return new pe(j,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(A,b){const S={};return Object.entries(A).forEach(([O,j])=>{if("string"==typeof j&&j.startsWith(":")){const _e=j.substring(1);S[O]=b[_e]}else S[O]=j}),S}createSegmentGroup(A,b,S,O){const j=this.createSegments(A,b.segments,S,O);let Z={};return Object.entries(b.children).forEach(([_e,me])=>{Z[_e]=this.createSegmentGroup(A,me,S,O)}),new X(j,Z)}createSegments(A,b,S,O){return b.map(j=>j.path.startsWith(":")?this.findPosParam(A,j,O):this.findOrReturn(j,S))}findPosParam(A,b,S){const O=S[b.path.substring(1)];if(!O)throw new u.wOt(4001,!1);return O}findOrReturn(A,b){let S=0;for(const O of b){if(O.path===A.path)return b.splice(S),O;S++}return A}}const dl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $u(I,A,b,S,O){const j=xo(I,A,b);return j.matched?(S=function xc(I,A){return I.providers&&!I._injector&&(I._injector=(0,u.Ol2)(I.providers,A,`Route: ${I.path}`)),I._injector??A}(A,S),function cl(I,A,b,S){const O=A.canMatch;if(!O||0===O.length)return(0,ce.of)(!0);const j=O.map(Z=>{const _e=zs(Z,I);return hr(function Vc(I){return I&&so(I.canMatch)}(_e)?_e.canMatch(A,b):(0,u.N4e)(I,()=>_e(A,b)))});return(0,ce.of)(j).pipe(Ss(),Yl())}(S,A,b).pipe((0,ot.T)(Z=>!0===Z?j:{...dl}))):(0,ce.of)(j)}function xo(I,A,b){if("**"===A.path)return function Oo(I){return{matched:!0,parameters:I.length>0?Ft(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(b);if(""===A.path)return"full"===A.pathMatch&&(I.hasChildren()||b.length>0)?{...dl}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const O=(A.matcher||lr)(b,I,A);if(!O)return{...dl};const j={};Object.entries(O.posParams??{}).forEach(([_e,me])=>{j[_e]=me.path});const Z=O.consumed.length>0?{...j,...O.consumed[O.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:O.consumed,remainingSegments:b.slice(O.consumed.length),parameters:Z,positionalParamSegments:O.posParams??{}}}function Uc(I,A,b,S){return b.length>0&&function hl(I,A,b){return b.some(S=>Rs(I,A,S)&&qr(S)!==Pt)}(I,b,S)?{segmentGroup:new X(A,Jl(S,new X(b,I.children))),slicedSegments:[]}:0===b.length&&function ec(I,A,b){return b.some(S=>Rs(I,A,S))}(I,b,S)?{segmentGroup:new X(I.segments,ao(I,b,S,I.children)),slicedSegments:b}:{segmentGroup:new X(I.segments,I.children),slicedSegments:b}}function ao(I,A,b,S){const O={};for(const j of b)if(Rs(I,A,j)&&!S[qr(j)]){const Z=new X([],{});O[qr(j)]=Z}return{...S,...O}}function Jl(I,A){const b={};b[Pt]=A;for(const S of I)if(""===S.path&&qr(S)!==Pt){const O=new X([],{});b[qr(S)]=O}return b}function Rs(I,A,b){return(!(I.hasChildren()||A.length>0)||"full"!==b.pathMatch)&&""===b.path}class Bc{}class tc{constructor(A,b,S,O,j,Z,_e){this.injector=A,this.configLoader=b,this.rootComponentType=S,this.config=O,this.urlTree=j,this.paramsInheritanceStrategy=Z,this.urlSerializer=_e,this.applyRedirects=new ul(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(A){return new u.wOt(4002,`'${A.segmentGroup}'`)}recognize(){const A=Uc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(A).pipe((0,ot.T)(b=>{const S=new gi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,{}),O=new pr(S,b),j=new eh("",O),Z=function $t(I,A,b=null,S=null){return bo(vs(I),A,b,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return Z.queryParams=this.urlTree.queryParams,j.url=this.urlSerializer.serialize(Z),this.inheritParamsAndData(j._root,null),{state:j,tree:Z}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A,Pt).pipe(vn(S=>{if(S instanceof oo)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof Mo?this.noMatchError(S):S}))}inheritParamsAndData(A,b){const S=A.value,O=Kl(S,b,this.paramsInheritanceStrategy);S.params=Object.freeze(O.params),S.data=Object.freeze(O.data),A.children.forEach(j=>this.inheritParamsAndData(j,S))}processSegmentGroup(A,b,S,O){return 0===S.segments.length&&S.hasChildren()?this.processChildren(A,b,S):this.processSegment(A,b,S,S.segments,O,!0).pipe((0,ot.T)(j=>j instanceof pr?[j]:[]))}processChildren(A,b,S){const O=[];for(const j of Object.keys(S.children))"primary"===j?O.unshift(j):O.push(j);return(0,Me.H)(O).pipe((0,_n.H)(j=>{const Z=S.children[j],_e=function ea(I,A){const b=I.filter(S=>qr(S)===A);return b.push(...I.filter(S=>qr(S)!==A)),b}(b,j);return this.processSegmentGroup(A,_e,Z,j)}),(0,xr.S)((j,Z)=>(j.push(...Z),j)),(0,ar.U)(null),function Ur(I,A){const b=arguments.length>=2;return S=>S.pipe(I?(0,qt.p)((O,j)=>I(O,j,S)):dt.D,Or(1),b?(0,ar.U)(A):(0,Qn.v)(()=>new Ee.G))}(),(0,hn.Z)(j=>{if(null===j)return Ks(S);const Z=zu(j);return function ra(I){I.sort((A,b)=>A.value.outlet===Pt?-1:b.value.outlet===Pt?1:A.value.outlet.localeCompare(b.value.outlet))}(Z),(0,ce.of)(Z)}))}processSegment(A,b,S,O,j,Z){return(0,Me.H)(b).pipe((0,_n.H)(_e=>this.processSegmentAgainstRoute(_e._injector??A,b,_e,S,O,j,Z).pipe(vn(me=>{if(me instanceof Mo)return(0,ce.of)(null);throw me}))),(0,Ct.$)(_e=>!!_e),vn(_e=>{if(Ra(_e))return function rs(I,A,b){return 0===A.length&&!I.children[b]}(S,O,j)?(0,ce.of)(new Bc):Ks(S);throw _e}))}processSegmentAgainstRoute(A,b,S,O,j,Z,_e){return function Dr(I,A,b,S){return!!(qr(I)===S||S!==Pt&&Rs(A,b,I))&&xo(A,I,b).matched}(S,O,j,Z)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(A,O,S,j,Z):this.allowRedirects&&_e?this.expandSegmentAgainstRouteUsingRedirect(A,O,b,S,j,Z):Ks(O):Ks(O)}expandSegmentAgainstRouteUsingRedirect(A,b,S,O,j,Z){const{matched:_e,consumedSegments:me,positionalParamSegments:at,remainingSegments:ln}=xo(b,O,j);if(!_e)return Ks(b);O.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const rn=this.applyRedirects.applyRedirectCommands(me,O.redirectTo,at);return this.applyRedirects.lineralizeSegments(O,rn).pipe((0,hn.Z)(ur=>this.processSegment(A,S,b,ur.concat(ln),Z,!1)))}matchSegmentAgainstRoute(A,b,S,O,j){const Z=$u(b,S,O,A);return"**"===S.path&&(b.children={}),Z.pipe((0,Se.n)(_e=>_e.matched?this.getChildConfig(A=S._injector??A,S,O).pipe((0,Se.n)(({routes:me})=>{const at=S._loadedInjector??A,{consumedSegments:ln,remainingSegments:rn,parameters:ur}=_e,sa=new gi(ln,ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Pa(I){return I.data||{}}(S),qr(S),S.component??S._loadedComponent??null,S,function lo(I){return I.resolve||{}}(S)),{segmentGroup:Wc,slicedSegments:Sn}=Uc(b,ln,rn,me);if(0===Sn.length&&Wc.hasChildren())return this.processChildren(at,me,Wc).pipe((0,ot.T)(Qt=>null===Qt?null:new pr(sa,Qt)));if(0===me.length&&0===Sn.length)return(0,ce.of)(new pr(sa,[]));const Kc=qr(S)===j;return this.processSegment(at,me,Wc,Sn,Kc?Pt:j,!0).pipe((0,ot.T)(Qt=>new pr(sa,Qt instanceof pr?[Qt]:[])))})):Ks(b)))}getChildConfig(A,b,S){return b.children?(0,ce.of)({routes:b.children,injector:A}):b.loadChildren?void 0!==b._loadedRoutes?(0,ce.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function rh(I,A,b,S){const O=A.canLoad;if(void 0===O||0===O.length)return(0,ce.of)(!0);const j=O.map(Z=>{const _e=zs(Z,I);return hr(function kc(I){return I&&so(I.canLoad)}(_e)?_e.canLoad(A,b):(0,u.N4e)(I,()=>_e(A,b)))});return(0,ce.of)(j).pipe(Ss(),Yl())}(A,b,S).pipe((0,hn.Z)(O=>O?this.configLoader.loadChildren(A,b).pipe((0,yn.M)(j=>{b._loadedRoutes=j.routes,b._loadedInjector=j.injector})):function na(I){return zr(So(!1,ts.GuardRejected))}())):(0,ce.of)({routes:[],injector:A})}}function ia(I){const A=I.value.routeConfig;return A&&""===A.path}function zu(I){const A=[],b=new Set;for(const S of I){if(!ia(S)){A.push(S);continue}const O=A.find(j=>S.value.routeConfig===j.value.routeConfig);void 0!==O?(O.children.push(...S.children),b.add(O)):A.push(S)}for(const S of b){const O=zu(S.children);A.push(new pr(S.value,O))}return A.filter(S=>!b.has(S))}function C(I){const A=I.children.map(b=>C(b)).flat();return[I,...A]}function Y(I){return(0,Se.n)(A=>{const b=I(A);return b?(0,Me.H)(b).pipe((0,ot.T)(()=>A)):(0,ce.of)(A)})}let Ie=(()=>{class I{buildTitle(b){let S,O=b.root;for(;void 0!==O;)S=this.getResolvedTitleForRoute(O)??S,O=O.children.find(j=>j.outlet===Pt);return S}getResolvedTitleForRoute(b){return b.data[Ge]}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)(Be),providedIn:"root"})}return I})(),Be=(()=>{class I extends Ie{constructor(b){super(),this.title=b}updateTitle(b){const S=this.buildTitle(b);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||I)(u.KVO(es.hE))};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();const It=new u.nKC("",{providedIn:"root",factory:()=>({})}),jn=new u.nKC("");let nt=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,ce.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const S=hr(b.loadComponent()).pipe((0,ot.T)(Ar),(0,yn.M)(j=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=j}),(0,Gr.j)(()=>{this.componentLoaders.delete(b)})),O=new we(S,()=>new xe.B).pipe(ve());return this.componentLoaders.set(b,O),O}loadChildren(b,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,ce.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const j=function er(I,A,b,S){return hr(I.loadChildren()).pipe((0,ot.T)(Ar),(0,hn.Z)(O=>O instanceof u.Co$||Array.isArray(O)?(0,ce.of)(O):(0,Me.H)(A.compileModuleAsync(O))),(0,ot.T)(O=>{S&&S(I);let j,Z,_e=!1;return Array.isArray(O)?(Z=O,!0):(j=O.create(b).injector,Z=j.get(jn,[],{optional:!0,self:!0}).flat()),{routes:Z.map(rl),injector:j}}))}(S,this.compiler,b,this.onLoadEndListener).pipe((0,Gr.j)(()=>{this.childrenLoaders.delete(S)})),Z=new we(j,()=>new xe.B).pipe(ve());return this.childrenLoaders.set(S,Z),Z}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();function Ar(I){return function In(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let On=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)(Br),providedIn:"root"})}return I})(),Br=(()=>{class I{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,S){return b}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();const Ln=new u.nKC(""),et=new u.nKC("");function St(I,A,b){const S=I.get(et),O=I.get(Re.qQ);return I.get(u.SKi).runOutsideAngular(()=>{if(!O.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(at=>setTimeout(at));let j;const Z=new Promise(at=>{j=at}),_e=O.startViewTransition(()=>(j(),function $n(I){return new Promise(A=>{(0,u.mal)(A,{injector:I})})}(I))),{onViewTransitionCreated:me}=S;return me&&(0,u.N4e)(I,()=>me({transition:_e,from:A,to:b})),Z})}let sr=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe.B,this.transitionAbortSubject=new xe.B,this.configLoader=(0,u.WQX)(nt),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(z),this.rootContexts=(0,u.WQX)(bs),this.location=(0,u.WQX)(Re.aZ),this.inputBindingEnabled=null!==(0,u.WQX)(Jo,{optional:!0}),this.titleStrategy=(0,u.WQX)(Ie),this.options=(0,u.WQX)(It,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.WQX)(On),this.createViewTransition=(0,u.WQX)(Ln,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new Yo(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new Za(O))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:S})}setupNavigations(b,S,O){return this.transitions=new Ke.t({id:0,currentUrlTree:S,currentRawUrl:S,extractedUrl:this.urlHandlingStrategy.extract(S),urlAfterRedirects:this.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pn,restoredState:null,currentSnapshot:O.snapshot,targetSnapshot:null,currentRouterState:O,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,qt.p)(j=>0!==j.id),(0,ot.T)(j=>({...j,extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,Se.n)(j=>{let Z=!1,_e=!1;return(0,ce.of)(j).pipe((0,Se.n)(me=>{if(this.navigationId>j.id)return this.cancelNavigationTransition(j,"",ts.SupersededByNewNavigation),qn.w;this.currentTransition=j,this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const at=!b.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!at&&"reload"!==(me.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const rn="";return this.events.next(new Ni(me.id,this.urlSerializer.serialize(me.rawUrl),rn,To.IgnoredSameUrlNavigation)),me.resolve(null),qn.w}if(this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return(0,ce.of)(me).pipe((0,Se.n)(rn=>{const ur=this.transitions?.getValue();return this.events.next(new Xo(rn.id,this.urlSerializer.serialize(rn.extractedUrl),rn.source,rn.restoredState)),ur!==this.transitions?.getValue()?qn.w:Promise.resolve(rn)}),function $c(I,A,b,S,O,j){return(0,hn.Z)(Z=>function jc(I,A,b,S,O,j,Z="emptyOnly"){return new tc(I,A,b,S,O,Z,j).recognize()}(I,A,b,S,Z.extractedUrl,O,j).pipe((0,ot.T)(({state:_e,tree:me})=>({...Z,targetSnapshot:_e,urlAfterRedirects:me}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,yn.M)(rn=>{j.targetSnapshot=rn.targetSnapshot,j.urlAfterRedirects=rn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:rn.urlAfterRedirects};const ur=new Wr(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(ur)}));if(at&&this.urlHandlingStrategy.shouldProcessUrl(me.currentRawUrl)){const{id:rn,extractedUrl:ur,source:sa,restoredState:Wc,extras:Sn}=me,Kc=new Xo(rn,this.urlSerializer.serialize(ur),sa,Wc);this.events.next(Kc);const Qt=no(this.rootComponentType).snapshot;return this.currentTransition=j={...me,targetSnapshot:Qt,urlAfterRedirects:ur,extras:{...Sn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ur,(0,ce.of)(j)}{const rn="";return this.events.next(new Ni(me.id,this.urlSerializer.serialize(me.extractedUrl),rn,To.IgnoredByUrlHandlingStrategy)),me.resolve(null),qn.w}}),(0,yn.M)(me=>{const at=new Xa(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot);this.events.next(at)}),(0,ot.T)(me=>(this.currentTransition=j={...me,guards:Ql(me.targetSnapshot,me.currentSnapshot,this.rootContexts)},j)),function nn(I,A){return(0,hn.Z)(b=>{const{targetSnapshot:S,currentSnapshot:O,guards:{canActivateChecks:j,canDeactivateChecks:Z}}=b;return 0===Z.length&&0===j.length?(0,ce.of)({...b,guardsResult:!0}):function Nr(I,A,b,S){return(0,Me.H)(I).pipe((0,hn.Z)(O=>function Ws(I,A,b,S,O){const j=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,ce.of)(!0);const Z=j.map(_e=>{const me=ds(A)??O,at=zs(_e,me);return hr(function Fc(I){return I&&so(I.canDeactivate)}(at)?at.canDeactivate(I,A,b,S):(0,u.N4e)(me,()=>at(I,A,b,S))).pipe((0,Ct.$)())});return(0,ce.of)(Z).pipe(Ss())}(O.component,O.route,b,A,S)),(0,Ct.$)(O=>!0!==O,!0))}(Z,S,O,I).pipe((0,hn.Z)(_e=>_e&&function Nc(I){return"boolean"==typeof I}(_e)?function Cr(I,A,b,S){return(0,Me.H)(A).pipe((0,_n.H)(O=>(0,Xt.x)(function ci(I,A){return null!==I&&A&&A(new Wl(I)),(0,ce.of)(!0)}(O.route.parent,S),function wi(I,A){return null!==I&&A&&A(new Co(I)),(0,ce.of)(!0)}(O.route,S),function Xl(I,A,b){const S=A[A.length-1],j=A.slice(0,A.length-1).reverse().map(Z=>function ta(I){const A=I.routeConfig?I.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:I,guards:A}:null}(Z)).filter(Z=>null!==Z).map(Z=>Er(()=>{const _e=Z.guards.map(me=>{const at=ds(Z.node)??b,ln=zs(me,at);return hr(function Lc(I){return I&&so(I.canActivateChild)}(ln)?ln.canActivateChild(S,I):(0,u.N4e)(at,()=>ln(S,I))).pipe((0,Ct.$)())});return(0,ce.of)(_e).pipe(Ss())}));return(0,ce.of)(j).pipe(Ss())}(I,O.path,b),function ll(I,A,b){const S=A.routeConfig?A.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ce.of)(!0);const O=S.map(j=>Er(()=>{const Z=ds(A)??b,_e=zs(j,Z);return hr(function Sa(I){return I&&so(I.canActivate)}(_e)?_e.canActivate(A,I):(0,u.N4e)(Z,()=>_e(A,I))).pipe((0,Ct.$)())}));return(0,ce.of)(O).pipe(Ss())}(I,O.route,b))),(0,Ct.$)(O=>!0!==O,!0))}(S,j,I,A):(0,ce.of)(_e)),(0,ot.T)(_e=>({...b,guardsResult:_e})))})}(this.environmentInjector,me=>this.events.next(me)),(0,yn.M)(me=>{if(j.guardsResult=me.guardsResult,xn(me.guardsResult))throw Ds(0,me.guardsResult);const at=new Ya(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.events.next(at)}),(0,qt.p)(me=>!!me.guardsResult||(this.cancelNavigationTransition(me,"",ts.GuardRejected),!1)),Y(me=>{if(me.guards.canActivateChecks.length)return(0,ce.of)(me).pipe((0,yn.M)(at=>{const ln=new Jd(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(ln)}),(0,Se.n)(at=>{let ln=!1;return(0,ce.of)(at).pipe(function qs(I,A){return(0,hn.Z)(b=>{const{targetSnapshot:S,guards:{canActivateChecks:O}}=b;if(!O.length)return(0,ce.of)(b);const j=new Set(O.map(me=>me.route)),Z=new Set;for(const me of j)if(!Z.has(me))for(const at of C(me))Z.add(at);let _e=0;return(0,Me.H)(Z).pipe((0,_n.H)(me=>j.has(me)?function V(I,A,b,S){const O=I.routeConfig,j=I._resolve;return void 0!==O?.title&&!Ca(O)&&(j[Ge]=O.title),function P(I,A,b,S){const O=Mn(I);if(0===O.length)return(0,ce.of)({});const j={};return(0,Me.H)(O).pipe((0,hn.Z)(Z=>function k(I,A,b,S){const O=ds(A)??S,j=zs(I,O);return hr(j.resolve?j.resolve(A,b):(0,u.N4e)(O,()=>j(A,b)))}(I[Z],A,b,S).pipe((0,Ct.$)(),(0,yn.M)(_e=>{j[Z]=_e}))),Or(1),function ct(I){return(0,ot.T)(()=>I)}(j),vn(Z=>Ra(Z)?qn.w:zr(Z)))}(j,I,A,S).pipe((0,ot.T)(Z=>(I._resolvedData=Z,I.data=Kl(I,I.parent,b).resolve,null)))}(me,S,I,A):(me.data=Kl(me,me.parent,I).resolve,(0,ce.of)(void 0))),(0,yn.M)(()=>_e++),Or(1),(0,hn.Z)(me=>_e===Z.size?(0,ce.of)(b):qn.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,yn.M)({next:()=>ln=!0,complete:()=>{ln||this.cancelNavigationTransition(at,"",ts.NoDataFromResolver)}}))}),(0,yn.M)(at=>{const ln=new wo(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(ln)}))}),Y(me=>{const at=ln=>{const rn=[];ln.routeConfig?.loadComponent&&!ln.routeConfig._loadedComponent&&rn.push(this.configLoader.loadComponent(ln.routeConfig).pipe((0,yn.M)(ur=>{ln.component=ur}),(0,ot.T)(()=>{})));for(const ur of ln.children)rn.push(...at(ur));return rn};return rt(at(me.targetSnapshot.root)).pipe((0,ar.U)(null),(0,Pe.s)(1))}),Y(()=>this.afterPreactivation()),(0,Se.n)(()=>{const{currentSnapshot:me,targetSnapshot:at}=j,ln=this.createViewTransition?.(this.environmentInjector,me.root,at.root);return ln?(0,Me.H)(ln).pipe((0,ot.T)(()=>j)):(0,ce.of)(j)}),(0,ot.T)(me=>{const at=function th(I,A,b){const S=tl(I,A._root,b?b._root:void 0);return new el(S,A)}(b.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return this.currentTransition=j={...me,targetRouterState:at},this.currentNavigation.targetRouterState=at,j}),(0,yn.M)(()=>{this.events.next(new eo)}),((I,A,b,S)=>(0,ot.T)(O=>(new nh(A,O.targetRouterState,O.currentRouterState,b,S).activate(I),O)))(this.rootContexts,b.routeReuseStrategy,me=>this.events.next(me),this.inputBindingEnabled),(0,Pe.s)(1),(0,yn.M)({next:me=>{Z=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Es(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects))),this.titleStrategy?.updateTitle(me.targetRouterState.snapshot),me.resolve(!0)},complete:()=>{Z=!0}}),function pi(I){return(0,dr.N)((A,b)=>{(0,Lt.Tg)(I).subscribe((0,He._)(b,()=>b.complete(),rr.l)),!b.closed&&A.subscribe(b)})}(this.transitionAbortSubject.pipe((0,yn.M)(me=>{throw me}))),(0,Gr.j)(()=>{!Z&&!_e&&this.cancelNavigationTransition(j,"",ts.SupersededByNewNavigation),this.currentTransition?.id===j.id&&(this.currentNavigation=null,this.currentTransition=null)}),vn(me=>{if(_e=!0,bn(me))this.events.next(new on(j.id,this.urlSerializer.serialize(j.extractedUrl),me.message,me.cancellationCode)),function li(I){return bn(I)&&xn(I.url)}(me)?this.events.next(new ei(me.url)):j.resolve(!1);else{this.events.next(new wa(j.id,this.urlSerializer.serialize(j.extractedUrl),me,j.targetSnapshot??void 0));try{j.resolve(b.errorHandler(me))}catch(at){this.options.resolveNavigationPromiseOnError?j.resolve(!1):j.reject(at)}}return qn.w}))}))}cancelNavigationTransition(b,S,O){const j=new on(b.id,this.urlSerializer.serialize(b.extractedUrl),S,O);this.events.next(j),b.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();function Hn(I){return I!==pn}let Qr=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)(gr),providedIn:"root"})}return I})();class co{shouldDetach(A){return!1}store(A,b){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,b){return A.routeConfig===b.routeConfig}}let gr=(()=>{class I extends co{static#e=this.\u0275fac=(()=>{let b;return function(O){return(b||(b=u.xGo(I)))(O||I)}})();static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),ui=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:()=>(0,u.WQX)(cr),providedIn:"root"})}return I})(),cr=(()=>{class I extends ui{constructor(){super(...arguments),this.location=(0,u.WQX)(Re.aZ),this.urlSerializer=(0,u.WQX)(z),this.options=(0,u.WQX)(It,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.WQX)(On),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pe,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=no(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(b){return this.location.subscribe(S=>{"popstate"===S.type&&b(S.url,S.state)})}handleRouterEvent(b,S){if(b instanceof Xo)this.stateMemento=this.createStateMemento();else if(b instanceof Ni)this.rawUrlTree=S.initialUrl;else if(b instanceof Wr){if("eager"===this.urlUpdateStrategy&&!S.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(S.finalUrl,S.initialUrl);this.setBrowserUrl(O,S)}}else b instanceof eo?(this.currentUrlTree=S.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(S.finalUrl,S.initialUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S))):b instanceof on&&(b.code===ts.GuardRejected||b.code===ts.NoDataFromResolver)?this.restoreHistory(S):b instanceof wa?this.restoreHistory(S,!0):b instanceof Es&&(this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId)}setBrowserUrl(b,S){const O=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(O)||S.extras.replaceUrl){const Z={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(O,"",Z)}else{const j={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(O,"",j)}}restoreHistory(b,S=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-this.browserPageId;0!==j?this.location.historyGo(j):this.currentUrlTree===b.finalUrl&&0===j&&(this.resetState(b),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,S){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:S}:{navigationId:b}}static#e=this.\u0275fac=(()=>{let b;return function(O){return(b||(b=u.xGo(I)))(O||I)}})();static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();var Ht=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(Ht||{});function Ma(I,A){I.events.pipe((0,qt.p)(b=>b instanceof Es||b instanceof on||b instanceof wa||b instanceof Ni),(0,ot.T)(b=>b instanceof Es||b instanceof Ni?Ht.COMPLETE:b instanceof on&&(b.code===ts.Redirect||b.code===ts.SupersededByNewNavigation)?Ht.REDIRECTING:Ht.FAILED),(0,qt.p)(b=>b!==Ht.REDIRECTING),(0,Pe.s)(1)).subscribe(()=>{A()})}function Gu(I){throw I}const rc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xr=(()=>{class I{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.WQX)(u.H3F),this.stateManager=(0,u.WQX)(ui),this.options=(0,u.WQX)(It,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.WQX)(sr),this.urlSerializer=(0,u.WQX)(z),this.location=(0,u.WQX)(Re.aZ),this.urlHandlingStrategy=(0,u.WQX)(On),this._events=new xe.B,this.errorHandler=this.options.errorHandler||Gu,this.navigated=!1,this.routeReuseStrategy=(0,u.WQX)(Qr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,u.WQX)(jn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,u.WQX)(Jo,{optional:!0}),this.eventsSubscription=new oi.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:b=>{this.console.warn(b)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(S=>{try{const O=this.navigationTransitions.currentTransition,j=this.navigationTransitions.currentNavigation;if(null!==O&&null!==j)if(this.stateManager.handleRouterEvent(S,j),S instanceof on&&S.code!==ts.Redirect&&S.code!==ts.SupersededByNewNavigation)this.navigated=!0;else if(S instanceof Es)this.navigated=!0;else if(S instanceof ei){const Z=this.urlHandlingStrategy.merge(S.url,O.currentRawUrl),_e={info:O.extras.info,skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hn(O.source)};this.scheduleNavigation(Z,pn,null,_e,{resolve:O.resolve,reject:O.reject,promise:O.promise})}(function No(I){return!(I instanceof eo||I instanceof ei)})(S)&&this._events.next(S)}catch(O){this.navigationTransitions.transitionAbortSubject.next(O)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((b,S)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(b,"popstate",S)},0)})}navigateToSyncWithBrowser(b,S,O){const j={replaceUrl:!0},Z=O?.navigationId?O:null;if(O){const me={...O};delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(j.state=me)}const _e=this.parseUrl(b);this.scheduleNavigation(_e,S,Z,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(rl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,S={}){const{relativeTo:O,queryParams:j,fragment:Z,queryParamsHandling:_e,preserveFragment:me}=S,at=me?this.currentUrlTree.fragment:Z;let rn,ln=null;switch(_e){case"merge":ln={...this.currentUrlTree.queryParams,...j};break;case"preserve":ln=this.currentUrlTree.queryParams;break;default:ln=j||null}null!==ln&&(ln=this.removeEmptyProps(ln));try{rn=vs(O?O.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),rn=this.currentUrlTree.root}return bo(rn,b,ln,at??null)}navigateByUrl(b,S={skipLocationChange:!1}){const O=xn(b)?b:this.parseUrl(b),j=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(j,pn,null,S)}navigate(b,S={skipLocationChange:!1}){return function fl(I){for(let A=0;A<I.length;A++)if(null==I[A])throw new u.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,S),S)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){try{return this.urlSerializer.parse(b)}catch{return this.urlSerializer.parse("/")}}isActive(b,S){let O;if(O=!0===S?{...rc}:!1===S?{...mr}:S,xn(b))return Yn(this.currentUrlTree,b,O);const j=this.parseUrl(b);return Yn(this.currentUrlTree,j,O)}removeEmptyProps(b){return Object.entries(b).reduce((S,[O,j])=>(null!=j&&(S[O]=j),S),{})}scheduleNavigation(b,S,O,j,Z){if(this.disposed)return Promise.resolve(!1);let _e,me,at;Z?(_e=Z.resolve,me=Z.reject,at=Z.promise):at=new Promise((rn,ur)=>{_e=rn,me=ur});const ln=this.pendingTasks.add();return Ma(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ln))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:j,resolve:_e,reject:me,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(rn=>Promise.reject(rn))}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),ki=(()=>{class I{constructor(b,S,O,j,Z,_e){this.router=b,this.route=S,this.tabIndexAttribute=O,this.renderer=j,this.el=Z,this.locationStrategy=_e,this.href=null,this.commands=null,this.onChanges=new xe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const me=Z.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===me||"area"===me,this.isAnchorElement?this.subscription=b.events.subscribe(at=>{at instanceof Es&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,S,O,j,Z){const _e=this.urlTree;return!!(null===_e||this.isAnchorElement&&(0!==b||S||O||j||Z||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_e,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const b=this.urlTree;this.href=null!==b&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(b)):null;const S=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(b,S){const O=this.renderer,j=this.el.nativeElement;null!==S?O.setAttribute(j,b,S):O.removeAttribute(j,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||I)(u.rXU(Xr),u.rXU(ai),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Re.hb))};static#t=this.\u0275dir=u.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,O){1&S&&u.bIt("click",function(Z){return O.onClick(Z.button,Z.ctrlKey,Z.shiftKey,Z.altKey,Z.metaKey)}),2&S&&u.BMQ("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[u.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",u.L39],skipLocationChange:[u.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",u.L39],replaceUrl:[u.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]})}return I})(),uo=(()=>{class I{get isActive(){return this._isActive}constructor(b,S,O,j,Z){this.router=b,this.element=S,this.renderer=O,this.cdr=j,this.link=Z,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.bkB,this.routerEventsSubscription=b.events.subscribe(_e=>{_e instanceof Es&&this.update()})}ngAfterContentInit(){(0,ce.of)(this.links.changes,(0,ce.of)(null)).pipe((0,Bi.U)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const b=[...this.links.toArray(),this.link].filter(S=>!!S).map(S=>S.onChanges);this.linkInputChangesSubscription=(0,Me.H)(b).pipe((0,Bi.U)()).subscribe(S=>{this._isActive!==this.isLinkActive(this.router)(S)&&this.update()})}set routerLinkActive(b){const S=Array.isArray(b)?b:b.split(" ");this.classes=S.filter(O=>!!O)}ngOnChanges(b){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const b=this.hasActiveLinks();this.classes.forEach(S=>{b?this.renderer.addClass(this.element.nativeElement,S):this.renderer.removeClass(this.element.nativeElement,S)}),b&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==b&&(this._isActive=b,this.cdr.markForCheck(),this.isActiveChange.emit(b))})}isLinkActive(b){const S=function ko(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>{const j=O.urlTree;return!!j&&b.isActive(j,S)}}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.links.some(b)}static#e=this.\u0275fac=function(S){return new(S||I)(u.rXU(Xr),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(ki,8))};static#t=this.\u0275dir=u.FsC({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(S,O,j){if(1&S&&u.wni(j,ki,5),2&S){let Z;u.mGM(Z=u.lsd())&&(O.links=Z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.OA$]})}return I})();class Wu{}let _r=(()=>{class I{constructor(b,S,O,j,Z){this.router=b,this.injector=O,this.preloadingStrategy=j,this.loader=Z}setUpPreloading(){this.subscription=this.router.events.pipe((0,qt.p)(b=>b instanceof Es),(0,_n.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,S){const O=[];for(const j of S){j.providers&&!j._injector&&(j._injector=(0,u.Ol2)(j.providers,b,`Route: ${j.path}`));const Z=j._injector??b,_e=j._loadedInjector??Z;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&O.push(this.preloadConfig(Z,j)),(j.children||j._loadedRoutes)&&O.push(this.processRoutes(_e,j.children??j._loadedRoutes))}return(0,Me.H)(O).pipe((0,Bi.U)())}preloadConfig(b,S){return this.preloadingStrategy.preload(S,()=>{let O;O=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(b,S):(0,ce.of)(null);const j=O.pipe((0,hn.Z)(Z=>null===Z?(0,ce.of)(void 0):(S._loadedRoutes=Z.routes,S._loadedInjector=Z.injector,this.processRoutes(Z.injector??b,Z.routes))));if(S.loadComponent&&!S._loadedComponent){const Z=this.loader.loadComponent(S);return(0,Me.H)([j,Z]).pipe((0,Bi.U)())}return j})}static#e=this.\u0275fac=function(S){return new(S||I)(u.KVO(Xr),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(Wu),u.KVO(nt))};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();const Ps=new u.nKC("");let di=(()=>{class I{constructor(b,S,O,j,Z={}){this.urlSerializer=b,this.transitions=S,this.viewportScroller=O,this.zone=j,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,u.WQX)(u.uvJ),Z.scrollPositionRestoration||="disabled",Z.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Es?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Ni&&b.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Js&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,S){var O=this;this.zone.runOutsideAngular((0,R.A)(function*(){yield new Promise(j=>{setTimeout(()=>{j()}),(0,u.mal)(()=>{j()},{injector:O.environmentInjector})}),O.zone.run(()=>{O.transitions.events.next(new Js(b,"popstate"===O.lastSource?O.store[O.restoredId]:null,S))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){u.QTQ()};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac})}return I})();function kr(I,...A){return(0,u.EmA)([{provide:jn,multi:!0,useValue:I},[],{provide:ai,useFactory:Ci,deps:[Xr]},{provide:u.iLQ,multi:!0,useFactory:hs},A.map(b=>b.\u0275providers)])}function Ci(I){return I.routerState.root}function Bn(I,A){return{\u0275kind:I,\u0275providers:A}}function hs(){const I=(0,u.WQX)(u.zZn);return A=>{const b=I.get(u.o8S);if(A!==b.components[0])return;const S=I.get(Xr),O=I.get(Lo);1===I.get(vi)&&S.initialNavigation(),I.get(Hc,null,u.$GK.Optional)?.setUpPreloading(),I.get(Ps,null,u.$GK.Optional)?.init(),S.resetRootComponentType(b.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const Lo=new u.nKC("",{factory:()=>new xe.B}),vi=new u.nKC("",{providedIn:"root",factory:()=>1}),Hc=new u.nKC("");function zc(I){return Bn(0,[{provide:Hc,useExisting:_r},{provide:Wu,useExisting:I}])}function Kf(I){return Bn(9,[{provide:Ln,useValue:St},{provide:et,useValue:{skipNextTransition:!!I?.skipInitialTransition,...I}}])}const qf=new u.nKC("ROUTER_FORROOT_GUARD"),iv=[Re.aZ,{provide:z,useClass:B},Xr,bs,{provide:ai,useFactory:Ci,deps:[Xr]},nt,[]];let Qf=(()=>{class I{constructor(b){}static forRoot(b,S){return{ngModule:I,providers:[iv,[],{provide:jn,multi:!0,useValue:b},{provide:qf,useFactory:sm,deps:[[Xr,new u.Xx1,new u.kdw]]},{provide:It,useValue:S||{}},S?.useHash?{provide:Re.hb,useClass:Re.fw}:{provide:Re.hb,useClass:Re.Sm},{provide:Ps,useFactory:()=>{const I=(0,u.WQX)(Re.Xr),A=(0,u.WQX)(u.SKi),b=(0,u.WQX)(It),S=(0,u.WQX)(sr),O=(0,u.WQX)(z);return b.scrollOffset&&I.setOffset(b.scrollOffset),new di(O,S,I,A,b)}},S?.preloadingStrategy?zc(S.preloadingStrategy).\u0275providers:[],S?.initialNavigation?om(S):[],S?.bindToComponentInputs?Bn(8,[$s,{provide:Jo,useExisting:$s}]).\u0275providers:[],S?.enableViewTransitions?Kf().\u0275providers:[],[{provide:gl,useFactory:hs},{provide:u.iLQ,multi:!0,useExisting:gl}]]}}static forChild(b){return{ngModule:I,providers:[{provide:jn,multi:!0,useValue:b}]}}static#e=this.\u0275fac=function(S){return new(S||I)(u.KVO(qf,8))};static#t=this.\u0275mod=u.$C({type:I});static#n=this.\u0275inj=u.G2t({})}return I})();function sm(I){return"guarded"}function om(I){return["disabled"===I.initialNavigation?Bn(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const A=(0,u.WQX)(Xr);return()=>{A.setUpLocationChangeListener()}}},{provide:vi,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Bn(2,[{provide:vi,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:A=>{const b=A.get(Re.hj,Promise.resolve());return()=>b.then(()=>new Promise(S=>{const O=A.get(Xr),j=A.get(Lo);Ma(O,()=>{S(!0)}),A.get(sr).afterPreactivation=()=>(S(!0),j.closed?(0,ce.of)(void 0):j),O.initialNavigation()}))}}]).\u0275providers:[]]}const gl=new u.nKC("")},3345:(Rt,Fe,H)=>{H.d(Fe,{A:()=>dt});var R=H(1076),u=H(1362),U=H(7852),ae=H(8041);class be{constructor(Et,bt){this._delegate=Et,this.firebase=bt,(0,U._addComponent)(Et,new u.uA("app-compat",()=>this,"PUBLIC")),this.container=Et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this._delegate.automaticDataCollectionEnabled=Et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Et=>{this._delegate.checkDestroyed(),Et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Et,bt=U._DEFAULT_ENTRY_NAME){var un;this._delegate.checkDestroyed();const En=this._delegate.container.getProvider(Et);return!En.isInitialized()&&"EXPLICIT"===(null===(un=En.getComponent())||void 0===un?void 0:un.instantiationMode)&&En.initialize(),En.getImmediate({identifier:bt})}_removeServiceInstance(Et,bt=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Et).clearInstance(bt)}_addComponent(Et){(0,U._addComponent)(this._delegate,Et)}_addOrOverwriteComponent(Et){(0,U._addOrOverwriteComponent)(this._delegate,Et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new R.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function je(){const ot=function Ke(ot){const Et={},bt={__esModule:!0,initializeApp:function Qe(lt,vt={}){const Ee=U.initializeApp(lt,vt);if((0,R.gR)(Et,Ee.name))return Et[Ee.name];const Xt=new ot(Ee,bt);return Et[Ee.name]=Xt,Xt},app:En,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Je(lt){const vt=lt.name,Ee=vt.replace("-compat","");if(U._registerComponent(lt)&&"PUBLIC"===lt.type){const Xt=(Lt=En())=>{if("function"!=typeof Lt[Ee])throw ce.create("invalid-app-argument",{appName:vt});return Lt[Ee]()};void 0!==lt.serviceProps&&(0,R.zw)(Xt,lt.serviceProps),bt[Ee]=Xt,ot.prototype[Ee]=function(...Lt){return this._getService.bind(this,vt).apply(this,lt.multipleInstances?Lt:[])}}return"PUBLIC"===lt.type?bt[Ee]:null},removeApp:function un(lt){delete Et[lt]},useAsService:function rt(lt,vt){return"serverAuth"===vt?null:vt},modularAPIs:U}};function En(lt){if(!(0,R.gR)(Et,lt=lt||U._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:lt});return Et[lt]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function He(){return Object.keys(Et).map(lt=>Et[lt])}}),En.App=ot,bt}(be);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function Et(bt){(0,R.zw)(ot,bt)},createSubscribe:R.tD,ErrorFactory:R.FA,deepExtend:R.zw}),ot}(),ee=new ae.Vy("@firebase/app-compat");if((0,R.Bd)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=re;!function $e(ot){(0,U.registerVersion)("@firebase/app-compat","0.2.32",ot)}()},7852:(Rt,Fe,H)=>{H.r(Fe),H.d(Fe,{FirebaseError:()=>ae.g,SDK_VERSION:()=>Ri,_DEFAULT_ENTRY_NAME:()=>es,_addComponent:()=>lr,_addOrOverwriteComponent:()=>Tr,_apps:()=>Ge,_clearComponents:()=>xt,_components:()=>Xn,_getProvider:()=>Mn,_isFirebaseApp:()=>Ft,_isFirebaseServerApp:()=>hr,_registerComponent:()=>Gn,_removeServiceInstance:()=>ji,_serverApps:()=>Mt,deleteApp:()=>X,getApp:()=>le,getApps:()=>pe,initializeApp:()=>Pi,initializeServerApp:()=>Mi,onLog:()=>q,registerVersion:()=>K,setLogLevel:()=>$});var R=H(467),u=H(1362),U=H(8041),ae=H(1076);const be=(Ce,de)=>de.some(Ve=>Ce instanceof Ve);let Me,ce;const re=new WeakMap,ee=new WeakMap,Te=new WeakMap,Ze=new WeakMap,$e=new WeakMap;let Et={get(Ce,de,Ve){if(Ce instanceof IDBTransaction){if("done"===de)return ee.get(Ce);if("objectStoreNames"===de)return Ce.objectStoreNames||Te.get(Ce);if("store"===de)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Qe(Ce[de])},set:(Ce,de,Ve)=>(Ce[de]=Ve,!0),has:(Ce,de)=>Ce instanceof IDBTransaction&&("done"===de||"store"===de)||de in Ce};function En(Ce){return"function"==typeof Ce?function un(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...de){return Ce.apply(He(this),de),Qe(re.get(this))}:function(...de){return Qe(Ce.apply(He(this),de))}:function(de,...Ve){const gt=Ce.call(He(this),de,...Ve);return Te.set(gt,de.sort?de.sort():[de]),Qe(gt)}}(Ce):(Ce instanceof IDBTransaction&&function ot(Ce){if(ee.has(Ce))return;const de=new Promise((Ve,gt)=>{const zt=()=>{Ce.removeEventListener("complete",Gt),Ce.removeEventListener("error",sn),Ce.removeEventListener("abort",sn)},Gt=()=>{Ve(),zt()},sn=()=>{gt(Ce.error||new DOMException("AbortError","AbortError")),zt()};Ce.addEventListener("complete",Gt),Ce.addEventListener("error",sn),Ce.addEventListener("abort",sn)});ee.set(Ce,de)}(Ce),be(Ce,function Ke(){return Me||(Me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,Et):Ce)}function Qe(Ce){if(Ce instanceof IDBRequest)return function dt(Ce){const de=new Promise((Ve,gt)=>{const zt=()=>{Ce.removeEventListener("success",Gt),Ce.removeEventListener("error",sn)},Gt=()=>{Ve(Qe(Ce.result)),zt()},sn=()=>{gt(Ce.error),zt()};Ce.addEventListener("success",Gt),Ce.addEventListener("error",sn)});return de.then(Ve=>{Ve instanceof IDBCursor&&re.set(Ve,Ce)}).catch(()=>{}),$e.set(de,Ce),de}(Ce);if(Ze.has(Ce))return Ze.get(Ce);const de=En(Ce);return de!==Ce&&(Ze.set(Ce,de),$e.set(de,Ce)),de}const He=Ce=>$e.get(Ce),lt=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],Ee=new Map;function Xt(Ce,de){if(!(Ce instanceof IDBDatabase)||de in Ce||"string"!=typeof de)return;if(Ee.get(de))return Ee.get(de);const Ve=de.replace(/FromIndex$/,""),gt=de!==Ve,zt=vt.includes(Ve);if(!(Ve in(gt?IDBIndex:IDBObjectStore).prototype)||!zt&&!lt.includes(Ve))return;const Gt=function(){var sn=(0,R.A)(function*(Zn,...xn){const $t=this.transaction(Zn,zt?"readwrite":"readonly");let vs=$t.store;return gt&&(vs=vs.index(xn.shift())),(yield Promise.all([vs[Ve](...xn),zt&&$t.done]))[0]});return function(xn){return sn.apply(this,arguments)}}();return Ee.set(de,Gt),Gt}!function bt(Ce){Et=Ce(Et)}(Ce=>({...Ce,get:(de,Ve,gt)=>Xt(de,Ve)||Ce.get(de,Ve,gt),has:(de,Ve)=>!!Xt(de,Ve)||Ce.has(de,Ve)}));class Lt{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Er(Ce){const de=Ce.getComponent();return"VERSION"===de?.type}(Ve)){const gt=Ve.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const br="@firebase/app",zr="0.10.2",qn=new U.Vy("@firebase/app"),es="[DEFAULT]",Pt={[br]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ge=new Map,Mt=new Map,Xn=new Map;function lr(Ce,de){try{Ce.container.addComponent(de)}catch(Ve){qn.debug(`Component ${de.name} failed to register with FirebaseApp ${Ce.name}`,Ve)}}function Tr(Ce,de){Ce.container.addOrOverwriteComponent(de)}function Gn(Ce){const de=Ce.name;if(Xn.has(de))return qn.debug(`There were multiple attempts to register component ${de}.`),!1;Xn.set(de,Ce);for(const Ve of Ge.values())lr(Ve,Ce);for(const Ve of Mt.values())lr(Ve,Ce);return!0}function Mn(Ce,de){const Ve=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),Ce.container.getProvider(de)}function ji(Ce,de,Ve=es){Mn(Ce,de).clearInstance(Ve)}function Ft(Ce){return void 0!==Ce.options}function hr(Ce){return void 0!==Ce.settings}function xt(){Xn.clear()}const Yn=new ae.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ir{constructor(de,Ve,gt){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new u.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}class fr extends ir{constructor(de,Ve,gt,zt){const Gt=void 0!==Ve.automaticDataCollectionEnabled&&Ve.automaticDataCollectionEnabled,sn={name:gt,automaticDataCollectionEnabled:Gt};super(void 0!==de.apiKey?de:de.options,sn,zt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Gt},Ve),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ve.releaseOnDeref=void 0,K(br,zr,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(de){this.isDeleted||(this._refCount++,void 0!==de&&this._finalizationRegistry.register(de,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){X(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yn.create("server-app-deleted")}}const Ri="10.11.1";function Pi(Ce,de={}){let Ve=Ce;"object"!=typeof de&&(de={name:de});const gt=Object.assign({name:es,automaticDataCollectionEnabled:!1},de),zt=gt.name;if("string"!=typeof zt||!zt)throw Yn.create("bad-app-name",{appName:String(zt)});if(Ve||(Ve=(0,ae.T9)()),!Ve)throw Yn.create("no-options");const Gt=Ge.get(zt);if(Gt){if((0,ae.bD)(Ve,Gt.options)&&(0,ae.bD)(gt,Gt.config))return Gt;throw Yn.create("duplicate-app",{appName:zt})}const sn=new u.h1(zt);for(const xn of Xn.values())sn.addComponent(xn);const Zn=new ir(Ve,gt,sn);return Ge.set(zt,Zn),Zn}function Mi(Ce,de){if((0,ae.Bd)())throw Yn.create("invalid-server-app-environment");let Ve;void 0===de.automaticDataCollectionEnabled&&(de.automaticDataCollectionEnabled=!1),Ve=Ft(Ce)?Ce.options:Ce;const gt=Object.assign(Object.assign({},de),Ve);if(void 0!==gt.releaseOnDeref&&delete gt.releaseOnDeref,void 0!==de.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Yn.create("finalization-registry-not-supported",{});const Gt=""+($t=JSON.stringify(gt),[...$t].reduce((vs,bo)=>Math.imul(31,vs)+bo.charCodeAt(0)|0,0)),sn=Mt.get(Gt);var $t;if(sn)return sn.incRefCount(de.releaseOnDeref),sn;const Zn=new u.h1(Gt);for(const $t of Xn.values())Zn.addComponent($t);const xn=new fr(Ve,de,Gt,Zn);return Mt.set(Gt,xn),xn}function le(Ce=es){const de=Ge.get(Ce);if(!de&&Ce===es&&(0,ae.T9)())return Pi();if(!de)throw Yn.create("no-app",{appName:Ce});return de}function pe(){return Array.from(Ge.values())}function X(Ce){return ie.apply(this,arguments)}function ie(){return(ie=(0,R.A)(function*(Ce){let de=!1;const Ve=Ce.name;Ge.has(Ve)?(de=!0,Ge.delete(Ve)):Mt.has(Ve)&&Ce.decRefCount()<=0&&(Mt.delete(Ve),de=!0),de&&(yield Promise.all(Ce.container.getProviders().map(gt=>gt.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function K(Ce,de,Ve){var gt;let zt=null!==(gt=Pt[Ce])&&void 0!==gt?gt:Ce;Ve&&(zt+=`-${Ve}`);const Gt=zt.match(/\s|\//),sn=de.match(/\s|\//);if(Gt||sn){const Zn=[`Unable to register library "${zt}" with version "${de}":`];return Gt&&Zn.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Gt&&sn&&Zn.push("and"),sn&&Zn.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void qn.warn(Zn.join(" "))}Gn(new u.uA(`${zt}-version`,()=>({library:zt,version:de}),"VERSION"))}function q(Ce,de){if(null!==Ce&&"function"!=typeof Ce)throw Yn.create("invalid-log-argument");(0,U.Ey)(Ce,de)}function $(Ce){(0,U.He)(Ce)}const z="firebase-heartbeat-database",B=1,se="firebase-heartbeat-store";let Oe=null;function st(){return Oe||(Oe=function Je(Ce,de,{blocked:Ve,upgrade:gt,blocking:zt,terminated:Gt}={}){const sn=indexedDB.open(Ce,de),Zn=Qe(sn);return gt&&sn.addEventListener("upgradeneeded",xn=>{gt(Qe(sn.result),xn.oldVersion,xn.newVersion,Qe(sn.transaction),xn)}),Ve&&sn.addEventListener("blocked",xn=>Ve(xn.oldVersion,xn.newVersion,xn)),Zn.then(xn=>{Gt&&xn.addEventListener("close",()=>Gt()),zt&&xn.addEventListener("versionchange",$t=>zt($t.oldVersion,$t.newVersion,$t))}).catch(()=>{}),Zn}(z,B,{upgrade:(Ce,de)=>{if(0===de)try{Ce.createObjectStore(se)}catch(Ve){console.warn(Ve)}}}).catch(Ce=>{throw Yn.create("idb-open",{originalErrorMessage:Ce.message})})),Oe}function Bt(){return(Bt=(0,R.A)(function*(Ce){try{const Ve=(yield st()).transaction(se),gt=yield Ve.objectStore(se).get(ht(Ce));return yield Ve.done,gt}catch(de){if(de instanceof ae.g)qn.warn(de.message);else{const Ve=Yn.create("idb-get",{originalErrorMessage:de?.message});qn.warn(Ve.message)}}})).apply(this,arguments)}function Cn(Ce,de){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,R.A)(function*(Ce,de){try{const gt=(yield st()).transaction(se,"readwrite");yield gt.objectStore(se).put(de,ht(Ce)),yield gt.done}catch(Ve){if(Ve instanceof ae.g)qn.warn(Ve.message);else{const gt=Yn.create("idb-set",{originalErrorMessage:Ve?.message});qn.warn(gt.message)}}})).apply(this,arguments)}function ht(Ce){return`${Ce.name}!${Ce.options.appId}`}class Ko{constructor(de){this.container=de,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Dn(Ve),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var de=this;return(0,R.A)(function*(){var Ve,gt;const Gt=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=Hl();if((null!=(null===(Ve=de._heartbeatsCache)||void 0===Ve?void 0:Ve.heartbeats)||(de._heartbeatsCache=yield de._heartbeatsCachePromise,null!=(null===(gt=de._heartbeatsCache)||void 0===gt?void 0:gt.heartbeats)))&&de._heartbeatsCache.lastSentHeartbeatDate!==sn&&!de._heartbeatsCache.heartbeats.some(Zn=>Zn.date===sn))return de._heartbeatsCache.heartbeats.push({date:sn,agent:Gt}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(Zn=>{const xn=new Date(Zn.date).valueOf();return Date.now()-xn<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,R.A)(function*(){var Ve;if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null==(null===(Ve=de._heartbeatsCache)||void 0===Ve?void 0:Ve.heartbeats)||0===de._heartbeatsCache.heartbeats.length)return"";const gt=Hl(),{heartbeatsToSend:zt,unsentEntries:Gt}=function Wa(Ce,de=1024){const Ve=[];let gt=Ce.slice();for(const zt of Ce){const Gt=Ve.find(sn=>sn.agent===zt.agent);if(Gt){if(Gt.dates.push(zt.date),Ka(Ve)>de){Gt.dates.pop();break}}else if(Ve.push({agent:zt.agent,dates:[zt.date]}),Ka(Ve)>de){Ve.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:gt}}(de._heartbeatsCache.heartbeats),sn=(0,ae.Uj)(JSON.stringify({version:2,heartbeats:zt}));return de._heartbeatsCache.lastSentHeartbeatDate=gt,Gt.length>0?(de._heartbeatsCache.heartbeats=Gt,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),sn})()}}function Hl(){return(new Date).toISOString().substring(0,10)}class Dn{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,R.A)(function*(){return!!(0,ae.zW)()&&(0,ae.eX)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,R.A)(function*(){if(yield de._canUseIndexedDBPromise){const gt=yield function jt(Ce){return Bt.apply(this,arguments)}(de.app);return gt?.heartbeats?gt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(de){var Ve=this;return(0,R.A)(function*(){var gt;if(yield Ve._canUseIndexedDBPromise){const Gt=yield Ve.read();return Cn(Ve.app,{lastSentHeartbeatDate:null!==(gt=de.lastSentHeartbeatDate)&&void 0!==gt?gt:Gt.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var Ve=this;return(0,R.A)(function*(){var gt;if(yield Ve._canUseIndexedDBPromise){const Gt=yield Ve.read();return Cn(Ve.app,{lastSentHeartbeatDate:null!==(gt=de.lastSentHeartbeatDate)&&void 0!==gt?gt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...de.heartbeats]})}})()}}function Ka(Ce){return(0,ae.Uj)(JSON.stringify({version:2,heartbeats:Ce})).length}!function ys(Ce){Gn(new u.uA("platform-logger",de=>new Lt(de),"PRIVATE")),Gn(new u.uA("heartbeat",de=>new Ko(de),"PRIVATE")),K(br,zr,Ce),K(br,zr,"esm2017"),K("fire-js","")}("")},1362:(Rt,Fe,H)=>{H.d(Fe,{h1:()=>Ke,uA:()=>U});var R=H(467),u=H(1076);class U{constructor(re,ee,Te){this.name=re,this.instanceFactory=ee,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ae="[DEFAULT]";class be{constructor(re,ee){this.name=re,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ee=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ee)){const Te=new u.cY;if(this.instancesDeferred.set(ee,Te),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:ee});Ze&&Te.resolve(Ze)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(re){var ee;const Te=this.normalizeInstanceIdentifier(re?.identifier),Ze=null!==(ee=re?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch($e){if(Ze)return null;throw $e}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function ce(je){return"EAGER"===je.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[ee,Te]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(ee);try{const $e=this.getOrInitializeService({instanceIdentifier:Ze});Te.resolve($e)}catch{}}}}clearInstance(re=ae){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,R.A)(function*(){const ee=Array.from(re.instances.values());yield Promise.all([...ee.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ee.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ae){return this.instances.has(re)}getOptions(re=ae){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ee={}}=re,Te=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Te,options:ee});for(const[$e,dt]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier($e)&&dt.resolve(Ze);return Ze}onInit(re,ee){var Te;const Ze=this.normalizeInstanceIdentifier(ee),$e=null!==(Te=this.onInitCallbacks.get(Ze))&&void 0!==Te?Te:new Set;$e.add(re),this.onInitCallbacks.set(Ze,$e);const dt=this.instances.get(Ze);return dt&&re(dt,Ze),()=>{$e.delete(re)}}invokeOnInitCallbacks(re,ee){const Te=this.onInitCallbacks.get(ee);if(Te)for(const Ze of Te)try{Ze(re,ee)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ee={}}){let Te=this.instances.get(re);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(je=re,je===ae?void 0:je),options:ee}),this.instances.set(re,Te),this.instancesOptions.set(re,ee),this.invokeOnInitCallbacks(Te,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Te)}catch{}var je;return Te||null}normalizeInstanceIdentifier(re=ae){return this.component?this.component.multipleInstances?re:ae:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ke{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ee=this.getProvider(re.name);if(ee.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ee.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ee=new be(re,this);return this.providers.set(re,ee),ee}getProviders(){return Array.from(this.providers.values())}}},8041:(Rt,Fe,H)=>{H.d(Fe,{$b:()=>u,Ey:()=>je,He:()=>Ke,Vy:()=>ce});const R=[];var u=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(u||{});const U={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},ae=u.INFO,be={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Me=(re,ee,...Te)=>{if(ee<re.logLevel)return;const Ze=(new Date).toISOString(),$e=be[ee];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[$e](`[${Ze}]  ${re.name}:`,...Te)};class ce{constructor(ee){this.name=ee,this._logLevel=ae,this._logHandler=Me,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in u))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?U[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...ee),this._logHandler(this,u.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...ee),this._logHandler(this,u.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,u.INFO,...ee),this._logHandler(this,u.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,u.WARN,...ee),this._logHandler(this,u.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...ee),this._logHandler(this,u.ERROR,...ee)}}function Ke(re){R.forEach(ee=>{ee.setLogLevel(re)})}function je(re,ee){for(const Te of R){let Ze=null;ee&&ee.level&&(Ze=U[ee.level]),Te.userLogHandler=null===re?null:($e,dt,...ot)=>{const Et=ot.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");dt>=(Ze??$e.logLevel)&&re({level:u[dt].toLowerCase(),message:Et,args:ot,type:$e.name})}}}},2438:(Rt,Fe,H)=>{H.r(Fe);var R=H(467),u=H(3345),U=H(8407),ae=H(1076),ce=(H(7852),H(8041),H(1362));function Ke(){return window}function ee(){return ee=(0,R.A)(function*($,z,B){var se;const{BuildInfo:Oe}=Ke();(0,U.au)(z.sessionId,"AuthEvent did not contain a session ID");const st=yield function bt($){return un.apply(this,arguments)}(z.sessionId),jt={};return(0,U.av)()?jt.ibi=Oe.packageName:(0,U.aw)()?jt.apn=Oe.packageName:(0,U.ax)($,"operation-not-supported-in-this-environment"),Oe.displayName&&(jt.appDisplayName=Oe.displayName),jt.sessionId=st,(0,U.ay)($,B,z.type,void 0,null!==(se=z.eventId)&&void 0!==se?se:void 0,jt)}),ee.apply(this,arguments)}function Ze(){return(Ze=(0,R.A)(function*($){const{BuildInfo:z}=Ke(),B={};(0,U.av)()?B.iosBundleId=z.packageName:(0,U.aw)()?B.androidPackageName=z.packageName:(0,U.ax)($,"operation-not-supported-in-this-environment"),yield(0,U.az)($,B)})).apply(this,arguments)}function ot(){return(ot=(0,R.A)(function*($,z,B){const{cordova:se}=Ke();let Oe=()=>{};try{yield new Promise((st,jt)=>{let Bt=null;function Cn(){var fn;st();const Jr=null===(fn=se.plugins.browsertab)||void 0===fn?void 0:fn.close;"function"==typeof Jr&&Jr(),"function"==typeof B?.close&&B.close()}function Dt(){Bt||(Bt=window.setTimeout(()=>{jt((0,U.aB)($,"redirect-cancelled-by-user"))},2e3))}function ht(){"visible"===document?.visibilityState&&Dt()}z.addPassiveListener(Cn),document.addEventListener("resume",Dt,!1),(0,U.aw)()&&document.addEventListener("visibilitychange",ht,!1),Oe=()=>{z.removePassiveListener(Cn),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",ht,!1),Bt&&window.clearTimeout(Bt)}})}finally{Oe()}})).apply(this,arguments)}function un(){return(un=(0,R.A)(function*($){const z=function En($){if((0,U.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const z=new ArrayBuffer($.length),B=new Uint8Array(z);for(let se=0;se<$.length;se++)B[se]=$.charCodeAt(se);return B}($),B=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(B)).map(Oe=>Oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class He extends U.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(z)),super.onEvent(z)}initialized(){var z=this;return(0,R.A)(function*(){yield z.initPromise})()}}function lt($){return vt.apply(this,arguments)}function vt(){return(vt=(0,R.A)(function*($){const z=yield Lt()._get(Er($));return z&&(yield Lt()._remove(Er($))),z})).apply(this,arguments)}function Xt(){const $=[];for(let B=0;B<20;B++){const se=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(se))}return $.join("")}function Lt(){return(0,U.aE)(U.b)}function Er($){return(0,U.aF)("authEvent",$.config.apiKey,$.name)}function qn($){if(!$?.includes("?"))return{};const[z,...B]=$.split("?");return(0,ae.I9)(B.join("?"))}const ve=class dr{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(z){var B=this;return(0,R.A)(function*(){const se=z._key();let Oe=B.eventManagers.get(se);return Oe||(Oe=new He(z),B.eventManagers.set(se,Oe),B.attachCallbackListeners(z,Oe)),Oe})()}_openPopup(z){(0,U.ax)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,B,se,Oe){var st=this;return(0,R.A)(function*(){!function Et($){var z,B,se,Oe,st,jt,Bt,Cn,Dt,ht;const fn=Ke();(0,U.aC)("function"==typeof(null===(z=fn?.universalLinks)||void 0===z?void 0:z.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aC)(typeof(null===(B=fn?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aC)("function"==typeof(null===(st=null===(Oe=null===(se=fn?.cordova)||void 0===se?void 0:se.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===st?void 0:st.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(Cn=null===(Bt=null===(jt=fn?.cordova)||void 0===jt?void 0:jt.plugins)||void 0===Bt?void 0:Bt.browsertab)||void 0===Cn?void 0:Cn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aC)("function"==typeof(null===(ht=null===(Dt=fn?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===ht?void 0:ht.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const jt=yield st._initialize(z);yield jt.initialized(),jt.resetRedirect(),(0,U.aI)(),yield st._originValidation(z);const Bt=function Je($,z,B=null){return{type:z,eventId:B,urlResponse:null,sessionId:Xt(),postBody:null,tenantId:$.tenantId,error:(0,U.aB)($,"no-auth-event")}}(z,se,Oe);yield function rt($,z){return Lt()._set(Er($),z)}(z,Bt);const Cn=yield function re($,z,B){return ee.apply(this,arguments)}(z,Bt,B),Dt=yield function $e($){const{cordova:z}=Ke();return new Promise(B=>{z.plugins.browsertab.isAvailable(se=>{let Oe=null;se?z.plugins.browsertab.openUrl($):Oe=z.InAppBrowser.open($,(0,U.aA)()?"_blank":"_system","location=yes"),B(Oe)})})}(Cn);return function dt($,z,B){return ot.apply(this,arguments)}(z,jt,Dt)})()}_isIframeWebStorageSupported(z,B){throw new Error("Method not implemented.")}_originValidation(z){const B=z._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function Te($){return Ze.apply(this,arguments)}(z)),this.originValidationPromises[B]}attachCallbackListeners(z,B){const{universalLinks:se,handleOpenURL:Oe,BuildInfo:st}=Ke(),jt=setTimeout((0,R.A)(function*(){yield lt(z),B.onEvent(we())}),500),Bt=function(){var ht=(0,R.A)(function*(fn){clearTimeout(jt);const Jr=yield lt(z);let Ko=null;Jr&&fn?.url&&(Ko=function Ee($,z){var B,se;const Oe=function zr($){const z=qn($),B=z.link?decodeURIComponent(z.link):void 0,se=qn(B).link,Oe=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return qn(Oe).link||Oe||se||B||$}(z);if(Oe.includes("/__/auth/callback")){const st=qn(Oe),jt=st.firebaseError?function br($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,Bt=null===(se=null===(B=jt?.code)||void 0===B?void 0:B.split("auth/"))||void 0===se?void 0:se[1],Cn=Bt?(0,U.aB)(Bt):null;return Cn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:Cn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Oe,postBody:null}}return null}(Jr,fn.url)),B.onEvent(Ko||we())});return function(Jr){return ht.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,Bt);const Cn=Oe,Dt=`${st.packageName.toLowerCase()}://`;Ke().handleOpenURL=function(){var ht=(0,R.A)(function*(fn){if(fn.toLowerCase().startsWith(Dt)&&Bt({url:fn}),"function"==typeof Cn)try{Cn(fn)}catch(Jr){console.error(Jr)}});return function(fn){return ht.apply(this,arguments)}}()}};function we(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aB)("no-auth-event")}}function At(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function hn($=(0,ae.ZQ)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){try{const $=self.localStorage,z=U.aN();if($)return $.setItem(z,"1"),$.removeItem(z),!function vn($=(0,ae.ZQ)()){return function _n(){return(0,ae.lT)()&&11===document?.documentMode}()||function yn($=(0,ae.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,ae.zW)()}catch{return ar()&&(0,ae.zW)()}return!1}function ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Or(){return(function qt(){return"http:"===At()||"https:"===At()}()||(0,ae.sr)()||hn())&&!function Ct(){return(0,ae.lV)()||(0,ae.Ll)()}()&&xr()&&!ar()}function Qn(){return hn()&&typeof document<"u"}function ct(){return(ct=(0,R.A)(function*(){return!!Qn()&&new Promise($=>{const z=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),$(!0)})})})).apply(this,arguments)}const rr={LOCAL:"local",NONE:"none",SESSION:"session"},pi=U.aC,Bi="persistence";function Pt($){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,R.A)(function*($){yield $._initializationPromise;const z=Xn(),B=U.aF(Bi,$.config.apiKey,$.name);z&&z.setItem(B,$._getPersistence())})).apply(this,arguments)}function Xn(){var $;try{return(null===($=function Gr(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const lr=U.aC;class Tr{constructor(){this.browserResolver=U.aE(U.k),this.cordovaResolver=U.aE(ve),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aG,this._overrideRedirectResult=U.aH}_initialize(z){var B=this;return(0,R.A)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,B,se,Oe){var st=this;return(0,R.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(z,B,se,Oe)})()}_openRedirect(z,B,se,Oe){var st=this;return(0,R.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(z,B,se,Oe)})()}_isIframeWebStorageSupported(z,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,B)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return Qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,R.A)(function*(){if(z.underlyingResolver)return;const B=yield function Ur(){return ct.apply(this,arguments)}();z.underlyingResolver=B?z.cordovaResolver:z.browserResolver})()}}function Gn($){return $.unwrap()}function ji($){return hr($)}function hr($){const{_tokenResponse:z}=$ instanceof ae.g?$.customData:$;if(!z)return null;if(!($ instanceof ae.g)&&"temporaryProof"in z&&"phoneNumber"in z)return U.P.credentialFromResult($);const B=z.providerId;if(!B||B===U.p.PASSWORD)return null;let se;switch(B){case U.p.GOOGLE:se=U.X;break;case U.p.FACEBOOK:se=U.W;break;case U.p.GITHUB:se=U.Y;break;case U.p.TWITTER:se=U.$;break;default:const{oauthIdToken:Oe,oauthAccessToken:st,oauthTokenSecret:jt,pendingToken:Bt,nonce:Cn}=z;return st||jt||Oe||Bt?Bt?B.startsWith("saml.")?U.aQ._create(B,Bt):U.N._fromParams({providerId:B,signInMethod:B,pendingToken:Bt,idToken:Oe,accessToken:st}):new U.Z(B).credential({idToken:Oe,accessToken:st,rawNonce:Cn}):null}return $ instanceof ae.g?se.credentialFromError($):se.credentialFromResult($)}function xt($,z){return z.catch(B=>{throw B instanceof ae.g&&function Ft($,z){var B;const se=null===(B=z.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===z?.code)z.resolver=new ir($,U.as($,z));else if(se){const Oe=hr(z),st=z;Oe&&(st.credential=Oe,st.tenantId=se.tenantId||void 0,st.email=se.email||void 0,st.phoneNumber=se.phoneNumber||void 0)}}($,B),B}).then(B=>{const Oe=B.user;return{operationType:B.operationType,credential:ji(B),additionalUserInfo:U.aq(B),user:fr.getOrCreate(Oe)}})}function mn($,z){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,R.A)(function*($,z){const B=yield z;return{verificationId:B.verificationId,confirm:se=>xt($,B.confirm(se))}})).apply(this,arguments)}class ir{constructor(z,B){this.resolver=B,this.auth=function Mn($){return $.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return xt(Gn(this.auth),this.resolver.resolveSignIn(z))}}class fr{constructor(z){this._delegate=z,this.multiFactor=U.at(z)}static getOrCreate(z){return fr.USER_MAP.has(z)||fr.USER_MAP.set(z,new fr(z)),fr.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var B=this;return(0,R.A)(function*(){return xt(B.auth,U.a2(B._delegate,z))})()}linkWithPhoneNumber(z,B){var se=this;return(0,R.A)(function*(){return mn(se.auth,U.l(se._delegate,z,B))})()}linkWithPopup(z){var B=this;return(0,R.A)(function*(){return xt(B.auth,U.d(B._delegate,z,Tr))})()}linkWithRedirect(z){var B=this;return(0,R.A)(function*(){return yield Pt(U.aJ(B.auth)),U.g(B._delegate,z,Tr)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var B=this;return(0,R.A)(function*(){return xt(B.auth,U.a3(B._delegate,z))})()}reauthenticateWithPhoneNumber(z,B){return mn(this.auth,U.r(this._delegate,z,B))}reauthenticateWithPopup(z){return xt(this.auth,U.e(this._delegate,z,Tr))}reauthenticateWithRedirect(z){var B=this;return(0,R.A)(function*(){return yield Pt(U.aJ(B.auth)),U.h(B._delegate,z,Tr)})()}sendEmailVerification(z){return U.ag(this._delegate,z)}unlink(z){var B=this;return(0,R.A)(function*(){return yield U.ap(B._delegate,z),B})()}updateEmail(z){return U.al(this._delegate,z)}updatePassword(z){return U.am(this._delegate,z)}updatePhoneNumber(z){return U.u(this._delegate,z)}updateProfile(z){return U.ak(this._delegate,z)}verifyBeforeUpdateEmail(z,B){return U.ah(this._delegate,z,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fr.USER_MAP=new WeakMap;const Ri=U.aC;let Pi=(()=>{class ${constructor(B,se){if(this.app=B,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=B.options;Ri(Oe,"invalid-api-key",{appName:B.name}),Ri(Oe,"invalid-api-key",{appName:B.name});const st=typeof window<"u"?Tr:void 0;this._delegate=se.initialize({options:{persistence:le(Oe,B.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(U.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,se){U.K(this._delegate,B,se)}applyActionCode(B){return U.a7(this._delegate,B)}checkActionCode(B){return U.a8(this._delegate,B)}confirmPasswordReset(B,se){return U.a6(this._delegate,B,se)}createUserWithEmailAndPassword(B,se){var Oe=this;return(0,R.A)(function*(){return xt(Oe._delegate,U.aa(Oe._delegate,B,se))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return U.af(this._delegate,B)}isSignInWithEmailLink(B){return U.ad(this._delegate,B)}getRedirectResult(){var B=this;return(0,R.A)(function*(){Ri(Or(),B._delegate,"operation-not-supported-in-this-environment");const se=yield U.j(B._delegate,Tr);return se?xt(B._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function xe($,z){(0,U.aJ)($)._logFramework(z)}(this._delegate,B)}onAuthStateChanged(B,se,Oe){const{next:st,error:jt,complete:Bt}=Mi(B,se,Oe);return this._delegate.onAuthStateChanged(st,jt,Bt)}onIdTokenChanged(B,se,Oe){const{next:st,error:jt,complete:Bt}=Mi(B,se,Oe);return this._delegate.onIdTokenChanged(st,jt,Bt)}sendSignInLinkToEmail(B,se){return U.ac(this._delegate,B,se)}sendPasswordResetEmail(B,se){return U.a5(this._delegate,B,se||void 0)}setPersistence(B){var se=this;return(0,R.A)(function*(){let Oe;switch(function es($,z){pi(Object.values(rr).includes(z),$,"invalid-persistence-type"),(0,ae.lV)()?pi(z!==rr.SESSION,$,"unsupported-persistence-type"):(0,ae.Ll)()?pi(z===rr.NONE,$,"unsupported-persistence-type"):ar()?pi(z===rr.NONE||z===rr.LOCAL&&(0,ae.zW)(),$,"unsupported-persistence-type"):pi(z===rr.NONE||xr(),$,"unsupported-persistence-type")}(se._delegate,B),B){case rr.SESSION:Oe=U.a;break;case rr.LOCAL:Oe=(yield U.aE(U.i)._isAvailable())?U.i:U.b;break;case rr.NONE:Oe=U.U;break;default:return U.ax("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return xt(this._delegate,U.a0(this._delegate))}signInWithCredential(B){return xt(this._delegate,U.a1(this._delegate,B))}signInWithCustomToken(B){return xt(this._delegate,U.a4(this._delegate,B))}signInWithEmailAndPassword(B,se){return xt(this._delegate,U.ab(this._delegate,B,se))}signInWithEmailLink(B,se){return xt(this._delegate,U.ae(this._delegate,B,se))}signInWithPhoneNumber(B,se){return mn(this._delegate,U.s(this._delegate,B,se))}signInWithPopup(B){var se=this;return(0,R.A)(function*(){return Ri(Or(),se._delegate,"operation-not-supported-in-this-environment"),xt(se._delegate,U.c(se._delegate,B,Tr))})()}signInWithRedirect(B){var se=this;return(0,R.A)(function*(){return Ri(Or(),se._delegate,"operation-not-supported-in-this-environment"),yield Pt(se._delegate),U.f(se._delegate,B,Tr)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return U.a9(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=rr,$})();function Mi($,z,B){let se=$;"function"!=typeof $&&({next:se,error:z,complete:B}=$);const Oe=se;return{next:jt=>Oe(jt&&fr.getOrCreate(jt)),error:z,complete:B}}function le($,z){const B=function Mt($,z){const B=Xn();if(!B)return[];const se=U.aF(Bi,$,z);switch(B.getItem(se)){case rr.NONE:return[U.U];case rr.LOCAL:return[U.i,U.a];case rr.SESSION:return[U.a];default:return[]}}($,z);if(typeof self<"u"&&!B.includes(U.i)&&B.push(U.i),typeof window<"u")for(const se of[U.b,U.a])B.includes(se)||B.push(se);return B.includes(U.U)||B.push(U.U),B}class pe{constructor(){this.providerId="phone",this._delegate=new U.P(Gn(u.A.auth()))}static credential(z,B){return U.P.credential(z,B)}verifyPhoneNumber(z,B){return this._delegate.verifyPhoneNumber(z,B)}unwrap(){return this._delegate}}pe.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,pe.PROVIDER_ID=U.P.PROVIDER_ID;const X=U.aC;class ie{constructor(z,B,se=u.A.app()){var Oe;X(null===(Oe=se.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new U.R(se.auth(),z,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function q($){$.INTERNAL.registerComponent(new ce.uA("auth-compat",z=>{const B=z.getProvider("app-compat").getImmediate(),se=z.getProvider("auth");return new Pi(B,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.V,FacebookAuthProvider:U.W,GithubAuthProvider:U.Y,GoogleAuthProvider:U.X,OAuthProvider:U.Z,SAMLAuthProvider:U._,PhoneAuthProvider:pe,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:ie,TwitterAuthProvider:U.$,Auth:Pi,AuthCredential:U.L,Error:ae.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.7")}(u.A)},467:(Rt,Fe,H)=>{function R(U,ae,be,Me,ce,Ke,je){try{var re=U[Ke](je),ee=re.value}catch(Te){return void be(Te)}re.done?ae(ee):Promise.resolve(ee).then(Me,ce)}function u(U){return function(){var ae=this,be=arguments;return new Promise(function(Me,ce){var Ke=U.apply(ae,be);function je(ee){R(Ke,Me,ce,je,re,"next",ee)}function re(ee){R(Ke,Me,ce,je,re,"throw",ee)}je(void 0)})}}H.d(Fe,{A:()=>u})},1635:(Rt,Fe,H)=>{function ae(ve,we){var xe={};for(var Re in ve)Object.prototype.hasOwnProperty.call(ve,Re)&&we.indexOf(Re)<0&&(xe[Re]=ve[Re]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(Re=Object.getOwnPropertySymbols(ve);Se<Re.length;Se++)we.indexOf(Re[Se])<0&&Object.prototype.propertyIsEnumerable.call(ve,Re[Se])&&(xe[Re[Se]]=ve[Re[Se]])}return xe}function Te(ve,we,xe,Re){return new(xe||(xe=Promise))(function(Pe,At){function qt(_n){try{Ct(Re.next(_n))}catch(yn){At(yn)}}function hn(_n){try{Ct(Re.throw(_n))}catch(yn){At(yn)}}function Ct(_n){_n.done?Pe(_n.value):function Se(Pe){return Pe instanceof xe?Pe:new xe(function(At){At(Pe)})}(_n.value).then(qt,hn)}Ct((Re=Re.apply(ve,we||[])).next())})}function Qe(ve){return this instanceof Qe?(this.v=ve,this):new Qe(ve)}function He(ve,we,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Re=xe.apply(ve,we||[]),Pe=[];return Se={},At("next"),At("throw"),At("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function At(vn){Re[vn]&&(Se[vn]=function(xr){return new Promise(function(ar,Or){Pe.push([vn,xr,ar,Or])>1||qt(vn,xr)})})}function qt(vn,xr){try{!function hn(vn){vn.value instanceof Qe?Promise.resolve(vn.value.v).then(Ct,_n):yn(Pe[0][2],vn)}(Re[vn](xr))}catch(ar){yn(Pe[0][3],ar)}}function Ct(vn){qt("next",vn)}function _n(vn){qt("throw",vn)}function yn(vn,xr){vn(xr),Pe.shift(),Pe.length&&qt(Pe[0][0],Pe[0][1])}}function rt(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,we=ve[Symbol.asyncIterator];return we?we.call(ve):(ve=function ot(ve){var we="function"==typeof Symbol&&Symbol.iterator,xe=we&&ve[we],Re=0;if(xe)return xe.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&Re>=ve.length&&(ve=void 0),{value:ve&&ve[Re++],done:!ve}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),xe={},Re("next"),Re("throw"),Re("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Re(Pe){xe[Pe]=ve[Pe]&&function(At){return new Promise(function(qt,hn){!function Se(Pe,At,qt,hn){Promise.resolve(hn).then(function(Ct){Pe({value:Ct,done:qt})},At)}(qt,hn,(At=ve[Pe](At)).done,At.value)})}}}H.d(Fe,{AQ:()=>He,N3:()=>Qe,Tt:()=>ae,sH:()=>Te,xN:()=>rt}),"function"==typeof SuppressedError&&SuppressedError}},Rt=>{Rt(Rt.s=1678)}]);