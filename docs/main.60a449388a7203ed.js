"use strict";(self.webpackChunkSpotyRFI=self.webpackChunkSpotyRFI||[]).push([[792],{8407:(Nt,Be,G)=>{G.d(Be,{$:()=>Jo,A:()=>ne,G:()=>We,K:()=>ys,L:()=>Xi,N:()=>Mi,P:()=>ua,R:()=>N,U:()=>Qt,V:()=>Ui,W:()=>vn,X:()=>Co,Y:()=>Hu,Z:()=>Jr,_:()=>Is,a:()=>$e,a0:()=>Ts,a1:()=>sl,a2:()=>Nc,a3:()=>xc,a4:()=>na,a5:()=>ql,a6:()=>Wu,a7:()=>ra,a8:()=>cs,a9:()=>ji,aA:()=>Ae,aB:()=>ze,aC:()=>we,aD:()=>lv,aE:()=>at,aF:()=>Tn,aG:()=>Qf,aH:()=>sv,aI:()=>Z0,aJ:()=>Wn,aN:()=>Ws,aQ:()=>Es,aa:()=>ia,ab:()=>Fc,ac:()=>Xl,ad:()=>ro,ae:()=>Gu,af:()=>oa,ag:()=>wr,ah:()=>Vc,ak:()=>aa,al:()=>Bf,am:()=>ll,ap:()=>zu,aq:()=>Ce,as:()=>Kr,at:()=>Jl,au:()=>Vt,av:()=>ms,aw:()=>Ho,ax:()=>Xe,ay:()=>ds,az:()=>Va,b:()=>Oo,c:()=>nv,d:()=>Yg,e:()=>rv,f:()=>Yu,g:()=>Le,h:()=>eT,i:()=>qg,j:()=>av,k:()=>lh,l:()=>mt,m:()=>ch,p:()=>tt,r:()=>_n,s:()=>De,u:()=>zc});var w=G(467),h=G(7852),j=G(1076),le=G(8041),_e=G(1635),ye=G(1362);const tt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ut=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new j.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),It=new le.Vy("@firebase/auth");function En(I,...p){It.logLevel<=le.$b.ERROR&&It.error(`Auth (${h.SDK_VERSION}): ${I}`,...p)}function Xe(I,...p){throw Et(I,...p)}function ze(I,...p){return Et(I,...p)}function Je(I,p,g){const b=Object.assign(Object.assign({},ut()),{[p]:g});return new j.FA("auth","Firebase",b).create(p,{appName:I.name})}function it(I){return Je(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lt(I,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Xe(I,"argument-error"),Je(I,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Et(I,...p){if("string"!=typeof I){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=I.name),I._errorFactory.create(g,...b)}return ot.create(I,...p)}function we(I,p,...g){if(!I)throw Et(p,...g)}function Zt(I){const p="INTERNAL ASSERTION FAILED: "+I;throw En(p),new Error(p)}function Vt(I,p){I||Zt(p)}function Pr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function nr(){return"http:"===cr()||"https:"===cr()}function cr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Mr{constructor(p,g){this.shortDelay=p,this.longDelay=g,Vt(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.jZ)()||(0,j.lV)()}get(){return function yr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nr()||(0,j.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(I,p){Vt(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ee{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Me=new Mr(3e4,6e4);function Pe(I,p){return I.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:I.tenantId}):p}function Ne(I,p,g,b){return St.apply(this,arguments)}function St(){return(St=(0,w.A)(function*(I,p,g,b,x={}){return zt(I,x,(0,w.A)(function*(){let z={},re={};b&&("GET"===p?re=b:z={body:JSON.stringify(b)});const ve=(0,j.Am)(Object.assign({key:I.config.apiKey},re)).slice(1),Ge=yield I._getAdditionalHeaders();return Ge["Content-Type"]="application/json",I.languageCode&&(Ge["X-Firebase-Locale"]=I.languageCode),Ee.fetch()(jn(I,I.config.apiHost,g,ve),Object.assign({method:p,headers:Ge,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function zt(I,p,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,w.A)(function*(I,p,g){I._canInitEmulator=!1;const b=Object.assign(Object.assign({},xe),p);try{const x=new ur(I),z=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const re=yield z.json();if("needConfirmation"in re)throw or(I,"account-exists-with-different-credential",re);if(z.ok&&!("errorMessage"in re))return re;{const ve=z.ok?re.errorMessage:re.error.message,[Ge,Ct]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw or(I,"credential-already-in-use",re);if("EMAIL_EXISTS"===Ge)throw or(I,"email-already-in-use",re);if("USER_DISABLED"===Ge)throw or(I,"user-disabled",re);const kt=b[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw Je(I,kt,Ct);Xe(I,kt)}}catch(x){if(x instanceof j.g)throw x;Xe(I,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function Rt(I,p,g,b){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,w.A)(function*(I,p,g,b,x={}){const z=yield Ne(I,p,g,b,x);return"mfaPendingCredential"in z&&Xe(I,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function jn(I,p,g,b){const x=`${p}${g}?${b}`;return I.config.emulator?Ie(I.config,x):`${I.config.apiScheme}://${x}`}function Cn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ur{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ze(this.auth,"network-request-failed")),Me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(I,p,g){const b={appName:I.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const x=ze(I,p,b);return x.customData._tokenResponse=g,x}function Gr(I){return void 0!==I&&void 0!==I.getResponse}function Qn(I){return void 0!==I&&void 0!==I.enterprise}class jr{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===p)return Cn(g.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function si(){return(si=(0,w.A)(function*(I){return(yield Ne(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rr(I,p){return oi.apply(this,arguments)}function oi(){return(oi=(0,w.A)(function*(I,p){return Ne(I,"GET","/v2/recaptchaConfig",Pe(I,p))})).apply(this,arguments)}function jt(){return(jt=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ke(){return(Ke=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pt(I,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ar(I){if(I)try{const p=new Date(Number(I));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function xn(){return(xn=(0,w.A)(function*(I,p=!1){const g=(0,j.Ku)(I),b=yield g.getIdToken(p),x=Mt(b);we(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const z="object"==typeof x.firebase?x.firebase:void 0,re=z?.sign_in_provider;return{claims:x,token:b,authTime:ar(Fi(x.auth_time)),issuedAtTime:ar(Fi(x.iat)),expirationTime:ar(Fi(x.exp)),signInProvider:re||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function Fi(I){return 1e3*Number(I)}function Mt(I){const[p,g,b]=I.split(".");if(void 0===p||void 0===g||void 0===b)return En("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,j.u)(g);return x?JSON.parse(x):(En("Failed to decode base64 JWT payload"),null)}catch(x){return En("Caught error parsing JWT payload as JSON",x?.toString()),null}}function hi(I){const p=Mt(I);return we(p,"internal-error"),we(typeof p.exp<"u","internal-error"),we(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function xt(I,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,w.A)(function*(I,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof j.g&&function Zn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(b)&&I.auth.currentUser===I&&(yield I.auth.signOut()),b}})).apply(this,arguments)}class Jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,w.A)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,w.A)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Ir{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ti(I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,w.A)(function*(I){var p;const g=I.auth,b=yield I.getIdToken(),x=yield xt(I,Pt(g,{idToken:b}));we(x?.users.length,g,"internal-error");const z=x.users[0];I._notifyReloadListener(z);const re=null!==(p=z.providerUserInfo)&&void 0!==p&&p.length?Y(z.providerUserInfo):[],ve=function ue(I,p){return[...I.filter(b=>!p.some(x=>x.providerId===b.providerId)),...p]}(I.providerData,re),kt=!!I.isAnonymous&&!(I.email&&z.passwordHash||ve?.length),An={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:ve,metadata:new Ir(z.createdAt,z.lastLoginAt),isAnonymous:kt};Object.assign(I,An)})).apply(this,arguments)}function ce(){return(ce=(0,w.A)(function*(I){const p=(0,j.Ku)(I);yield Ti(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Y(I){return I.map(p=>{var{providerId:g}=p,b=(0,_e.Tt)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function q(){return(q=(0,w.A)(function*(I,p){const g=yield zt(I,{},(0,w.A)(function*(){const b=(0,j.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:z}=I.config,re=jn(I,x,"/v1/token",`key=${z}`),ve=yield I._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(re,{method:"POST",headers:ve,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function U(){return(U=(0,w.A)(function*(I,p){return Ne(I,"POST","/v2/accounts:revokeToken",Pe(I,p))})).apply(this,arguments)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){we(p.idToken,"internal-error"),we(typeof p.idToken<"u","internal-error"),we(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):hi(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}updateFromIdToken(p){we(0!==p.length,"internal-error");const g=hi(p);this.updateTokensAndExpiration(p,null,g)}getToken(p,g=!1){var b=this;return(0,w.A)(function*(){return g||!b.accessToken||b.isExpired?(we(b.refreshToken,p,"user-token-expired"),b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null):b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,w.A)(function*(){const{accessToken:x,refreshToken:z,expiresIn:re}=yield function oe(I,p){return q.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(x,z,Number(re))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:x,expirationTime:z}=g,re=new W;return b&&(we("string"==typeof b,"internal-error",{appName:p}),re.refreshToken=b),x&&(we("string"==typeof x,"internal-error",{appName:p}),re.accessToken=x),z&&(we("number"==typeof z,"internal-error",{appName:p}),re.expirationTime=z),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function B(I,p){we("string"==typeof I||typeof I>"u","internal-error",{appName:p})}class se{constructor(p){var{uid:g,auth:b,stsTokenManager:x}=p,z=(0,_e.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Ir(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,w.A)(function*(){const b=yield xt(g,g.stsTokenManager.getToken(g.auth,p));return we(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function Or(I){return xn.apply(this,arguments)}(this,p)}reload(){return function fi(I){return ce.apply(this,arguments)}(this)}_assign(p){this!==p&&(we(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new se(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,w.A)(function*(){let x=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),x=!0),g&&(yield Ti(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,w.A)(function*(){if((0,h._isFirebaseServerApp)(p.auth.app))return Promise.reject(it(p.auth));const g=yield p.getIdToken();return yield xt(p,function gs(I,p){return jt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,x,z,re,ve,Ge,Ct,kt;const An=null!==(b=g.displayName)&&void 0!==b?b:void 0,Si=null!==(x=g.email)&&void 0!==x?x:void 0,Ba=null!==(z=g.phoneNumber)&&void 0!==z?z:void 0,ja=null!==(re=g.photoURL)&&void 0!==re?re:void 0,np=null!==(ve=g.tenantId)&&void 0!==ve?ve:void 0,rp=null!==(Ge=g._redirectEventId)&&void 0!==Ge?Ge:void 0,gl=null!==(Ct=g.createdAt)&&void 0!==Ct?Ct:void 0,fa=null!==(kt=g.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:ip,emailVerified:fh,isAnonymous:ph,providerData:$a,stsTokenManager:pa}=g;we(ip&&pa,p,"internal-error");const ci=W.fromJSON(this.name,pa);we("string"==typeof ip,p,"internal-error"),B(An,p.name),B(Si,p.name),we("boolean"==typeof fh,p,"internal-error"),we("boolean"==typeof ph,p,"internal-error"),B(Ba,p.name),B(ja,p.name),B(np,p.name),B(rp,p.name),B(gl,p.name),B(fa,p.name);const ed=new se({uid:ip,auth:p,email:Si,emailVerified:fh,displayName:An,isAnonymous:ph,photoURL:ja,phoneNumber:Ba,tenantId:np,stsTokenManager:ci,createdAt:gl,lastLoginAt:fa});return $a&&Array.isArray($a)&&(ed.providerData=$a.map(gh=>Object.assign({},gh))),rp&&(ed._redirectEventId=rp),ed}static _fromIdTokenResponse(p,g,b=!1){return(0,w.A)(function*(){const x=new W;x.updateFromServerResponse(g);const z=new se({uid:g.localId,auth:p,stsTokenManager:x,isAnonymous:b});return yield Ti(z),z})()}static _fromGetAccountInfoResponse(p,g,b){return(0,w.A)(function*(){const x=g.users[0];we(void 0!==x.localId,"internal-error");const z=void 0!==x.providerUserInfo?Y(x.providerUserInfo):[],re=!(x.email&&x.passwordHash||z?.length),ve=new W;ve.updateFromIdToken(b);const Ge=new se({uid:x.localId,auth:p,stsTokenManager:ve,isAnonymous:re}),Ct={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:z,metadata:new Ir(x.createdAt,x.lastLoginAt),isAnonymous:!(x.email&&x.passwordHash||z?.length)};return Object.assign(Ge,Ct),Ge})()}}const Oe=new Map;function at(I){Vt(I instanceof Function,"Expected a class definition");let p=Oe.get(I);return p?(Vt(p instanceof I,"Instance stored in cache mismatched with class"),p):(p=new I,Oe.set(I,p),p)}const Qt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.A)(function*(){return!0})()}_set(g,b){var x=this;return(0,w.A)(function*(){x.storage[g]=b})()}_get(g){var b=this;return(0,w.A)(function*(){const x=b.storage[g];return void 0===x?null:x})()}_remove(g){var b=this;return(0,w.A)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return I.type="NONE",I})();function Tn(I,p,g){return`firebase:${I}:${p}:${g}`}class Dt{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:x,name:z}=this.auth;this.fullUserKey=Tn(this.userKey,x.apiKey,z),this.fullPersistenceKey=Tn("persistence",x.apiKey,z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,w.A)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?se._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,w.A)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,w.A)(function*(){if(!g.length)return new Dt(at(Qt),p,b);const x=(yield Promise.all(g.map(function(){var Ct=(0,w.A)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let z=x[0]||at(Qt);const re=Tn(b,p.config.apiKey,p.name);let ve=null;for(const Ct of g)try{const kt=yield Ct._get(re);if(kt){const An=se._fromJSON(p,kt);Ct!==z&&(ve=An),z=Ct;break}}catch{}const Ge=x.filter(Ct=>Ct._shouldAllowMigration);return z._shouldAllowMigration&&Ge.length?(z=Ge[0],ve&&(yield z._set(re,ve.toJSON())),yield Promise.all(g.map(function(){var Ct=(0,w.A)(function*(kt){if(kt!==z)try{yield kt._remove(re)}catch{}});return function(kt){return Ct.apply(this,arguments)}}())),new Dt(z,p,b)):new Dt(z,p,b)})()}}function ht(I){const p=I.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Fl(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(hn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(kn(p))return"Blackberry";if(Ya(p))return"Webos";if(ai(p))return"Safari";if((p.includes("chrome/")||$o(p))&&!p.includes("edge/"))return"Chrome";if(Ho(p))return"Android";{const b=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function hn(I=(0,j.ZQ)()){return/firefox\//i.test(I)}function ai(I=(0,j.ZQ)()){const p=I.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $o(I=(0,j.ZQ)()){return/crios\//i.test(I)}function Fl(I=(0,j.ZQ)()){return/iemobile/i.test(I)}function Ho(I=(0,j.ZQ)()){return/android/i.test(I)}function kn(I=(0,j.ZQ)()){return/blackberry/i.test(I)}function Ya(I=(0,j.ZQ)()){return/webos/i.test(I)}function ms(I=(0,j.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ae(I=(0,j.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function pt(I=(0,j.ZQ)()){return ms(I)||Ho(I)||Ya(I)||kn(I)||/windows phone/i.test(I)||Fl(I)}function Xt(I,p=[]){let g;switch(I){case"Browser":g=ht((0,j.ZQ)());break;case"Worker":g=`${ht((0,j.ZQ)())}-${I}`;break;default:g=I}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${h.SDK_VERSION}/${b}`}class cn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=z=>new Promise((re,ve)=>{try{re(p(z))}catch(Ge){ve(Ge)}});b.onAbort=g,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,w.A)(function*(){if(g.auth.currentUser===p)return;const b=[];try{for(const x of g.queue)yield x(p),x.onAbort&&b.push(x.onAbort)}catch(x){b.reverse();for(const z of b)try{z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}function Xn(){return(Xn=(0,w.A)(function*(I,p={}){return Ne(I,"GET","/v2/passwordPolicy",Pe(I,p))})).apply(this,arguments)}class _s{constructor(p){var g,b,x,z;const re=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=re.minPasswordLength)&&void 0!==g?g:6,re.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=re.maxPasswordLength),void 0!==re.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=re.containsLowercaseCharacter),void 0!==re.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=re.containsUppercaseCharacter),void 0!==re.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=re.containsNumericCharacter),void 0!==re.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=re.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(x=null===(b=p.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==x?x:"",this.forceUpgradeOnSignin=null!==(z=p.forceUpgradeOnSignin)&&void 0!==z&&z,this.schemaVersion=p.schemaVersion}validatePassword(p){var g,b,x,z,re,ve;const Ge={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Ge),this.validatePasswordCharacterOptions(p,Ge),Ge.isValid&&(Ge.isValid=null===(g=Ge.meetsMinPasswordLength)||void 0===g||g),Ge.isValid&&(Ge.isValid=null===(b=Ge.meetsMaxPasswordLength)||void 0===b||b),Ge.isValid&&(Ge.isValid=null===(x=Ge.containsLowercaseLetter)||void 0===x||x),Ge.isValid&&(Ge.isValid=null===(z=Ge.containsUppercaseLetter)||void 0===z||z),Ge.isValid&&(Ge.isValid=null===(re=Ge.containsNumericCharacter)||void 0===re||re),Ge.isValid&&(Ge.isValid=null===(ve=Ge.containsNonAlphanumericCharacter)||void 0===ve||ve),Ge}validatePasswordLengthOptions(p,g){const b=this.customStrengthOptions.minPasswordLength,x=this.customStrengthOptions.maxPasswordLength;b&&(g.meetsMinPasswordLength=p.length>=b),x&&(g.meetsMaxPasswordLength=p.length<=x)}validatePasswordCharacterOptions(p,g){let b;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let x=0;x<p.length;x++)b=p.charAt(x),this.updatePasswordCharacterOptionsStatuses(g,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(p,g,b,x,z){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=x)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=z))}}class Ls{constructor(p,g,b,x){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=b,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _o(this),this.idTokenSubscription=new _o(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=at(g)),this._initializationPromise=this.queue((0,w.A)(function*(){var x,z;if(!b._deleted&&(b.persistenceManager=yield Dt.create(b,p),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(z=b.currentUser)||void 0===z?void 0:z.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,w.A)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(p){var g=this;return(0,w.A)(function*(){try{const b=yield Pt(g,{idToken:p}),x=yield se._fromGetAccountInfoResponse(g,b,p);yield g.directlySetCurrentUser(x)}catch(b){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",b),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var g=this;return(0,w.A)(function*(){var b;if((0,h._isFirebaseServerApp)(g.app)){const ve=g.app.settings.authIdToken;return ve?new Promise(Ge=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(ve).then(Ge,Ge))}):g.directlySetCurrentUser(null)}const x=yield g.assertedPersistence.getCurrentUser();let z=x,re=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ve=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Ge=z?._redirectEventId,Ct=yield g.tryRedirectSignIn(p);(!ve||ve===Ge)&&Ct?.user&&(z=Ct.user,re=!0)}if(!z)return g.directlySetCurrentUser(null);if(!z._redirectEventId){if(re)try{yield g.beforeStateQueue.runMiddleware(z)}catch(ve){z=x,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ve))}return z?g.reloadAndSetCurrentUserOrClear(z):g.directlySetCurrentUser(null)}return we(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===z._redirectEventId?g.directlySetCurrentUser(z):g.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(p){var g=this;return(0,w.A)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,w.A)(function*(){try{yield Ti(p)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Wr(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var p=this;return(0,w.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,w.A)(function*(){if((0,h._isFirebaseServerApp)(g.app))return Promise.reject(it(g));const b=p?(0,j.Ku)(p):null;return b&&we(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,w.A)(function*(){if(!b._deleted)return p&&we(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,w.A)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,w.A)(function*(){return(0,h._isFirebaseServerApp)(p.app)?Promise.reject(it(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var g=this;return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,w.A)(function*(){yield g.assertedPersistence.setPersistence(at(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var g=this;return(0,w.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const b=g._getPasswordPolicyInternal();return b.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,w.A)(function*(){const g=yield function Sn(I){return Xn.apply(this,arguments)}(p),b=new _s(g);null===p.tenantId?p._projectPasswordPolicy=b:p._tenantPasswordPolicies[p.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.FA("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}authStateReady(){return new Promise((p,g)=>{if(this.currentUser)p();else{const b=this.onAuthStateChanged(()=>{b(),p()},g)}})}revokeAccessToken(p){var g=this;return(0,w.A)(function*(){if(g.currentUser){const b=yield g.currentUser.getIdToken(),x={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:b};null!=g.tenantId&&(x.tenantId=g.tenantId),yield function Q(I,p){return U.apply(this,arguments)}(g,x)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,w.A)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(g);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,w.A)(function*(){if(!g.redirectPersistenceManager){const b=p&&at(p)||g._popupRedirectResolver;we(b,g,"argument-error"),g.redirectPersistenceManager=yield Dt.create(g,[at(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,w.A)(function*(){var b,x;return g._isInitialized&&(yield g.queue((0,w.A)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,w.A)(function*(){if(p===g.currentUser)return g.queue((0,w.A)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,x){if(this._deleted)return()=>{};const z="function"==typeof g?g:g.next.bind(g);let re=!1;const ve=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(ve,this,"internal-error"),ve.then(()=>{re||z(this.currentUser)}),"function"==typeof g){const Ge=p.addObserver(g,b,x);return()=>{re=!0,Ge()}}{const Ge=p.addObserver(g);return()=>{re=!0,Ge()}}}directlySetCurrentUser(p){var g=this;return(0,w.A)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Xt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,w.A)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();x&&(b["X-Firebase-Client"]=x);const z=yield p._getAppCheckToken();return z&&(b["X-Firebase-AppCheck"]=z),b})()}_getAppCheckToken(){var p=this;return(0,w.A)(function*(){var g;const b=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return b?.error&&function pn(I,...p){It.logLevel<=le.$b.WARN&&It.warn(`Auth (${h.SDK_VERSION}): ${I}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Wn(I){return(0,j.Ku)(I)}class _o{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.tD)(g=>this.observer=g)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yo={loadJS:()=>(0,w.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ul(I){return yo.loadJS(I)}function zo(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Wo{constructor(p){this.type="recaptcha-enterprise",this.auth=Wn(p)}verify(p="verify",g=!1){var b=this;return(0,w.A)(function*(){function z(){return z=(0,w.A)(function*(ve){if(!g){if(null==ve.tenantId&&null!=ve._agentRecaptchaConfig)return ve._agentRecaptchaConfig.siteKey;if(null!=ve.tenantId&&void 0!==ve._tenantRecaptchaConfigs[ve.tenantId])return ve._tenantRecaptchaConfigs[ve.tenantId].siteKey}return new Promise(function(){var Ge=(0,w.A)(function*(Ct,kt){rr(ve,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(An=>{if(void 0!==An.recaptchaKey){const Si=new jr(An);return null==ve.tenantId?ve._agentRecaptchaConfig=Si:ve._tenantRecaptchaConfigs[ve.tenantId]=Si,Ct(Si.siteKey)}kt(new Error("recaptcha Enterprise site key undefined"))}).catch(An=>{kt(An)})});return function(Ct,kt){return Ge.apply(this,arguments)}}())}),z.apply(this,arguments)}function re(ve,Ge,Ct){const kt=window.grecaptcha;Qn(kt)?kt.enterprise.ready(()=>{kt.enterprise.execute(ve,{action:p}).then(An=>{Ge(An)}).catch(()=>{Ge("NO_RECAPTCHA")})}):Ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ve,Ge)=>{(function x(ve){return z.apply(this,arguments)})(b.auth).then(Ct=>{if(!g&&Qn(window.grecaptcha))re(Ct,ve,Ge);else{if(typeof window>"u")return void Ge(new Error("RecaptchaVerifier is only supported in browser"));let kt=function Qd(){return yo.recaptchaEnterpriseScript}();0!==kt.length&&(kt+=Ct),Ul(kt).then(()=>{re(Ct,ve,Ge)}).catch(An=>{Ge(An)})}}).catch(Ct=>{Ge(Ct)})})})()}}function Go(I,p,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,w.A)(function*(I,p,g,b=!1){const x=new Wo(I);let z;try{z=yield x.verify(g)}catch{z=yield x.verify(g,!0)}const re=Object.assign({},p);return Object.assign(re,b?{captchaResp:z}:{captchaResponse:z}),Object.assign(re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),re})).apply(this,arguments)}function dr(I,p,g,b){return qo.apply(this,arguments)}function qo(){return qo=(0,w.A)(function*(I,p,g,b){var x;if(null!==(x=I._getRecaptchaConfig())&&void 0!==x&&x.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const z=yield Go(I,p,g,"getOobCode"===g);return b(I,z)}return b(I,p).catch(function(){var z=(0,w.A)(function*(re){if("auth/missing-recaptcha-token"===re.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ve=yield Go(I,p,g,"getOobCode"===g);return b(I,ve)}return Promise.reject(re)});return function(re){return z.apply(this,arguments)}}())}),qo.apply(this,arguments)}function ys(I,p,g){const b=Wn(I);we(b._canInitEmulator,b,"emulator-config-failed"),we(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const x=!!g?.disableWarnings,z=Vi(p),{host:re,port:ve}=function Sc(I){const p=Vi(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const z=x[1];return{host:z,port:Fs(b.substr(z.length+1))}}{const[z,re]=b.split(":");return{host:z,port:Fs(re)}}}(p);b.config.emulator={url:`${z}//${re}${null===ve?"":`:${ve}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:re,port:ve,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function un(){function I(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Vi(I){const p=I.indexOf(":");return p<0?"":I.substr(0,p+1)}function Fs(I){if(!I)return null;const p=Number(I);return isNaN(p)?null:p}class Xi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Zt("not implemented")}_getIdTokenResponse(p){return Zt("not implemented")}_linkToIdToken(p,g){return Zt("not implemented")}_getReauthenticationResolver(p){return Zt("not implemented")}}function jl(I,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:resetPassword",Pe(I,p))})).apply(this,arguments)}function Ja(){return(Ja=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yd(I,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Ko(){return(Ko=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:update",Pe(I,p))})).apply(this,arguments)}function $l(I,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signInWithPassword",Pe(I,p))})).apply(this,arguments)}function Eo(I,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:sendOobCode",Pe(I,p))})).apply(this,arguments)}function Zs(){return(Zs=(0,w.A)(function*(I,p){return Eo(I,p)})).apply(this,arguments)}function bi(I,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,w.A)(function*(I,p){return Eo(I,p)})).apply(this,arguments)}function hr(I,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,w.A)(function*(I,p){return Eo(I,p)})).apply(this,arguments)}function Js(){return(Js=(0,w.A)(function*(I,p){return Eo(I,p)})).apply(this,arguments)}function Zr(){return(Zr=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signInWithEmailLink",Pe(I,p))})).apply(this,arguments)}function tl(){return(tl=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signInWithEmailLink",Pe(I,p))})).apply(this,arguments)}class wo extends Xi{constructor(p,g,b,x=null){super("password",b),this._email=p,this._password=g,this._tenantId=x}static _fromEmailAndPassword(p,g){return new wo(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new wo(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,w.A)(function*(){switch(g.signInMethod){case"password":return dr(p,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$l);case"emailLink":return function Nr(I,p){return Zr.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Xe(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,w.A)(function*(){switch(b.signInMethod){case"password":return dr(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yd);case"emailLink":return function To(I,p){return tl.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Xe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function pi(I,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signInWithIdp",Pe(I,p))})).apply(this,arguments)}class Mi extends Xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Mi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Xe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x}=g,z=(0,_e.Tt)(g,["providerId","signInMethod"]);if(!b||!x)return null;const re=new Mi(b,x);return re.idToken=z.idToken||void 0,re.accessToken=z.accessToken||void 0,re.secret=z.secret,re.nonce=z.nonce,re.pendingToken=z.pendingToken||null,re}_getIdTokenResponse(p){return pi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,pi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,pi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,j.Am)(g)}return p}}function Us(){return(Us=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:sendVerificationCode",Pe(I,p))})).apply(this,arguments)}function $n(){return($n=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signInWithPhoneNumber",Pe(I,p))})).apply(this,arguments)}function Ra(){return(Ra=(0,w.A)(function*(I,p){const g=yield Rt(I,"POST","/v1/accounts:signInWithPhoneNumber",Pe(I,p));if(g.temporaryProof)throw or(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const bo={USER_NOT_FOUND:"user-not-found"};function nl(){return(nl=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signInWithPhoneNumber",Pe(I,Object.assign(Object.assign({},p),{operation:"REAUTH"})),bo)})).apply(this,arguments)}class eo extends Xi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new eo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new eo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Rc(I,p){return $n.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Bs(I,p){return Ra.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function js(I,p){return nl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:x}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:z}=p;return b||g||x||z?new eo({verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:z}):null}}class gi{constructor(p){var g,b,x,z,re,ve;const Ge=(0,j.I9)((0,j.hp)(p)),Ct=null!==(g=Ge.apiKey)&&void 0!==g?g:null,kt=null!==(b=Ge.oobCode)&&void 0!==b?b:null,An=function rl(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ge.mode)&&void 0!==x?x:null);we(Ct&&kt&&An,"argument-error"),this.apiKey=Ct,this.operation=An,this.code=kt,this.continueUrl=null!==(z=Ge.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(re=Ge.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(ve=Ge.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const g=function Zd(I){const p=(0,j.I9)((0,j.hp)(I)).link,g=p?(0,j.I9)((0,j.hp)(p)).deep_link_id:null,b=(0,j.I9)((0,j.hp)(I)).deep_link_id;return(b?(0,j.I9)((0,j.hp)(b)).link:null)||b||g||p||I}(p);try{return new gi(g)}catch{return null}}}let Ui=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,b){return wo._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const x=gi.parseLink(b);return we(x,"argument-error"),wo._fromEmailAndCode(g,x.code,x.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class vs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Zo extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Jr extends Zo{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return we("providerId"in g&&"signInMethod"in g,"argument-error"),Mi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return we(p.idToken||p.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Jr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Jr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:z,nonce:re,providerId:ve}=p;if(!b&&!x&&!g&&!z||!ve)return null;try{return new Jr(ve)._credential({idToken:g,accessToken:b,nonce:re,pendingToken:z})}catch{return null}}}let vn=(()=>{class I extends Zo{constructor(){super("facebook.com")}static credential(g){return Mi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Co=(()=>{class I extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Mi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:x}=g;if(!b&&!x)return null;try{return I.credential(b,x)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Hu=(()=>{class I extends Zo{constructor(){super("github.com")}static credential(g){return Mi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Es extends Xi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return pi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,pi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,pi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x,pendingToken:z}=g;return b&&x&&z&&b===x?new Es(b,z):null}static _create(p,g){return new Es(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Is extends vs{constructor(p){we(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Is.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Is.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Es.fromJSON(p);return we(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Es._create(b,g)}catch{return null}}}let Jo=(()=>{class I extends Zo{constructor(){super("twitter.com")}static credential(g,b){return Mi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=g;if(!b||!x)return null;try{return I.credential(b,x)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Mc(I,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signUp",Pe(I,p))})).apply(this,arguments)}class Ci{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,x=!1){return(0,w.A)(function*(){const z=yield se._fromIdTokenResponse(p,b,x),re=as(b);return new Ci({user:z,providerId:re,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,w.A)(function*(){yield p._updateTokensIfNecessary(b,!0);const x=as(b);return new Ci({user:p,providerId:x,_tokenResponse:b,operationType:g})})()}}function as(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ts(I){return ws.apply(this,arguments)}function ws(){return(ws=(0,w.A)(function*(I){var p;if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const g=Wn(I);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Ci({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Mc(g,{returnSecureToken:!0}),x=yield Ci._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class ea extends j.g{constructor(p,g,b,x){var z;super(g.code,g.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,ea.prototype),this.customData={appName:p.name,tenantId:null!==(z=p.tenantId)&&void 0!==z?z:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,x){return new ea(p,g,b,x)}}function Ma(I,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?ea._fromErrorAndOperation(I,z,p,b):z})}function zl(I){return new Set(I.map(({providerId:p})=>p).filter(p=>!!p))}function zu(I,p){return ta.apply(this,arguments)}function ta(){return ta=(0,w.A)(function*(I,p){const g=(0,j.Ku)(I);yield ls(!0,g,p);const{providerUserInfo:b}=yield function vr(I,p){return Ke.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),x=zl(b||[]);return g.providerData=g.providerData.filter(z=>x.has(z.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ta.apply(this,arguments)}function Bi(I,p){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,w.A)(function*(I,p,g=!1){const b=yield xt(I,p._linkToIdToken(I.auth,yield I.getIdToken()),g);return Ci._forOperation(I,"link",b)})).apply(this,arguments)}function ls(I,p,g){return to.apply(this,arguments)}function to(){return(to=(0,w.A)(function*(I,p,g){yield Ti(p);const x=!1===I?"provider-already-linked":"no-such-provider";we(zl(p.providerData).has(g)===I,p.auth,x)})).apply(this,arguments)}function Oa(I,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,w.A)(function*(I,p,g=!1){const{auth:b}=I;if((0,h._isFirebaseServerApp)(b.app))return Promise.reject(it(b));const x="reauthenticate";try{const z=yield xt(I,Ma(b,x,p,I),g);we(z.idToken,b,"internal-error");const re=Mt(z.idToken);we(re,b,"internal-error");const{sub:ve}=re;return we(I.uid===ve,b,"user-mismatch"),Ci._forOperation(I,x,z)}catch(z){throw"auth/user-not-found"===z?.code&&Xe(b,"user-mismatch"),z}})).apply(this,arguments)}function no(I,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,w.A)(function*(I,p,g=!1){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const b="signIn",x=yield Ma(I,b,p),z=yield Ci._fromIdTokenResponse(I,b,x);return g||(yield I._updateCurrentUser(z.user)),z})).apply(this,arguments)}function sl(I,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,w.A)(function*(I,p){return no(Wn(I),p)})).apply(this,arguments)}function Nc(I,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,w.A)(function*(I,p){const g=(0,j.Ku)(I);return yield ls(!1,g,p.providerId),Bi(g,p)})).apply(this,arguments)}function xc(I,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,w.A)(function*(I,p){return Oa((0,j.Ku)(I),p)})).apply(this,arguments)}function Do(){return(Do=(0,w.A)(function*(I,p){return Rt(I,"POST","/v1/accounts:signInWithCustomToken",Pe(I,p))})).apply(this,arguments)}function na(I,p){return xa.apply(this,arguments)}function xa(){return xa=(0,w.A)(function*(I,p){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const g=Wn(I),b=yield function Gl(I,p){return Do.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),x=yield Ci._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(x.user),x}),xa.apply(this,arguments)}class on{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?xr._fromServerResponse(p,g):"totpInfo"in g?Tr._fromServerResponse(p,g):Xe(p,"internal-error")}}class xr extends on{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new xr(g)}}class Tr extends on{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Tr(g)}}function Ai(I,p,g){var b;we((null===(b=g.url)||void 0===b?void 0:b.length)>0,I,"invalid-continue-uri"),we(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(we(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(we(g.android.packageName.length>0,I,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function li(I){return ol.apply(this,arguments)}function ol(){return(ol=(0,w.A)(function*(I){const p=Wn(I);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function ql(I,p,g){return $s.apply(this,arguments)}function $s(){return($s=(0,w.A)(function*(I,p,g){const b=Wn(I),x={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};g&&Ai(b,x,g),yield dr(b,x,"getOobCode",bi)})).apply(this,arguments)}function Wu(I,p,g){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,w.A)(function*(I,p,g){yield jl((0,j.Ku)(I),{oobCode:p,newPassword:g}).catch(function(){var b=(0,w.A)(function*(x){throw"auth/password-does-not-meet-requirements"===x.code&&li(I),x});return function(x){return b.apply(this,arguments)}}())}),Lc.apply(this,arguments)}function ra(I,p){return So.apply(this,arguments)}function So(){return So=(0,w.A)(function*(I,p){yield function el(I,p){return Ko.apply(this,arguments)}((0,j.Ku)(I),{oobCode:p})}),So.apply(this,arguments)}function cs(I,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,w.A)(function*(I,p){const g=(0,j.Ku)(I),b=yield jl(g,{oobCode:p}),x=b.requestType;switch(we(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(b.mfaInfo,g,"internal-error");default:we(b.email,g,"internal-error")}let z=null;return b.mfaInfo&&(z=on._fromServerResponse(Wn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:z},operation:x}})).apply(this,arguments)}function ji(I,p){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,w.A)(function*(I,p){const{data:g}=yield cs((0,j.Ku)(I),p);return g.email})).apply(this,arguments)}function ia(I,p,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,w.A)(function*(I,p,g){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const b=Wn(I),re=yield dr(b,{returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mc).catch(Ge=>{throw"auth/password-does-not-meet-requirements"===Ge.code&&li(I),Ge}),ve=yield Ci._fromIdTokenResponse(b,"signIn",re);return yield b._updateCurrentUser(ve.user),ve})).apply(this,arguments)}function Fc(I,p,g){return(0,h._isFirebaseServerApp)(I.app)?Promise.reject(it(I)):sl((0,j.Ku)(I),Ui.credential(p,g)).catch(function(){var b=(0,w.A)(function*(x){throw"auth/password-does-not-meet-requirements"===x.code&&li(I),x});return function(x){return b.apply(this,arguments)}}())}function Xl(I,p,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,w.A)(function*(I,p,g){const b=Wn(I),x={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function z(re,ve){we(ve.handleCodeInApp,b,"argument-error"),ve&&Ai(b,re,ve)})(x,g),yield dr(b,x,"getOobCode",hr)})).apply(this,arguments)}function ro(I,p){const g=gi.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}function Gu(I,p,g){return io.apply(this,arguments)}function io(){return(io=(0,w.A)(function*(I,p,g){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const b=(0,j.Ku)(I),x=Ui.credentialWithLink(p,g||Pr());return we(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),sl(b,x)})).apply(this,arguments)}function al(){return(al=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:createAuthUri",Pe(I,p))})).apply(this,arguments)}function oa(I,p){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,w.A)(function*(I,p){const b={identifier:p,continueUri:nr()?Pr():"http://localhost"},{signinMethods:x}=yield function Yl(I,p){return al.apply(this,arguments)}((0,j.Ku)(I),b);return x||[]}),Ro.apply(this,arguments)}function wr(I,p){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,w.A)(function*(I,p){const g=(0,j.Ku)(I),x={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};p&&Ai(g.auth,x,p);const{email:z}=yield function Vs(I,p){return Zs.apply(this,arguments)}(g.auth,x);z!==I.email&&(yield I.reload())}),Zi.apply(this,arguments)}function Vc(I,p,g){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,w.A)(function*(I,p,g){const b=(0,j.Ku)(I),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:p};g&&Ai(b.auth,z,g);const{email:re}=yield function Yt(I,p){return Js.apply(this,arguments)}(b.auth,z);re!==I.email&&(yield I.reload())}),Uc.apply(this,arguments)}function Zl(){return(Zl=(0,w.A)(function*(I,p){return Ne(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function aa(I,p){return Po.apply(this,arguments)}function Po(){return Po=(0,w.A)(function*(I,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,j.Ku)(I),z={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},re=yield xt(b,function qu(I,p){return Zl.apply(this,arguments)}(b.auth,z));b.displayName=re.displayName||null,b.photoURL=re.photoUrl||null;const ve=b.providerData.find(({providerId:Ge})=>"password"===Ge);ve&&(ve.displayName=b.displayName,ve.photoURL=b.photoURL),yield b._updateTokensIfNecessary(re)}),Po.apply(this,arguments)}function Bf(I,p){const g=(0,j.Ku)(I);return(0,h._isFirebaseServerApp)(g.auth.app)?Promise.reject(it(g.auth)):La(g,p,null)}function ll(I,p){return La((0,j.Ku)(I),null,p)}function La(I,p,g){return so.apply(this,arguments)}function so(){return so=(0,w.A)(function*(I,p,g){const{auth:b}=I,z={idToken:yield I.getIdToken(),returnSecureToken:!0};p&&(z.email=p),g&&(z.password=g);const re=yield xt(I,function Za(I,p){return Ja.apply(this,arguments)}(b,z));yield I._updateTokensIfNecessary(re,!0)}),so.apply(this,arguments)}class bs{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class A extends bs{constructor(p,g,b,x){super(p,g,b),this.username=x}}class V extends bs{constructor(p,g){super(p,"facebook.com",g)}}class P extends A{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class k extends bs{constructor(p,g){super(p,"google.com",g)}}class Z extends A{constructor(p,g,b){super(p,"twitter.com",g,b)}}function Ce(I){const{user:p,_tokenResponse:g}=I;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Bc(I){var p,g;if(!I)return null;const{providerId:b}=I,x=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},z=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!b&&I?.idToken){const re=null===(g=null===(p=Mt(I.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(re)return new bs(z,"anonymous"!==re&&"custom"!==re?re:null)}if(!b)return null;switch(b){case"facebook.com":return new V(z,x);case"github.com":return new P(z,x);case"google.com":return new k(z,x);case"twitter.com":return new Z(z,x,I.screenName||null);case"custom":case"anonymous":return new bs(z,null);default:return new bs(z,b,x)}}(g)}class br{constructor(p,g,b){this.type=p,this.credential=g,this.user=b}static _fromIdtoken(p,g){return new br("enroll",p,g)}static _fromMfaPendingCredential(p){return new br("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return br._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return br._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Gn{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Wn(p),x=g.customData._serverResponse,z=(x.mfaInfo||[]).map(ve=>on._fromServerResponse(b,ve));we(x.mfaPendingCredential,b,"internal-error");const re=br._fromMfaPendingCredential(x.mfaPendingCredential);return new Gn(re,z,function(){var ve=(0,w.A)(function*(Ge){const Ct=yield Ge._process(b,re);delete x.mfaInfo,delete x.mfaPendingCredential;const kt=Object.assign(Object.assign({},x),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(g.operationType){case"signIn":const An=yield Ci._fromIdTokenResponse(b,g.operationType,kt);return yield b._updateCurrentUser(An.user),An;case"reauthenticate":return we(g.user,b,"internal-error"),Ci._forOperation(g.user,g.operationType,kt);default:Xe(b,"internal-error")}});return function(Ge){return ve.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,w.A)(function*(){return g.signInResolver(p)})()}}function Kr(I,p){var g;const b=(0,j.Ku)(I),x=p;return we(p.customData.operationType,b,"argument-error"),we(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Gn._fromError(b,x)}class cl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>on._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new cl(p)}getSession(){var p=this;return(0,w.A)(function*(){return br._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,g){var b=this;return(0,w.A)(function*(){const x=p,z=yield b.getSession(),re=yield xt(b.user,x._process(b.user.auth,z,g));return yield b.user._updateTokensIfNecessary(re),b.user.reload()})()}unenroll(p){var g=this;return(0,w.A)(function*(){const b="string"==typeof p?p:p.uid,x=yield g.user.getIdToken();try{const z=yield xt(g.user,function Jt(I,p){return Ne(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Pe(I,p))}(g.user.auth,{idToken:x,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:re})=>re!==b),yield g.user._updateTokensIfNecessary(z),yield g.user.reload()}catch(z){throw z}})()}}const Ku=new WeakMap;function Jl(I){const p=(0,j.Ku)(I);return Ku.has(p)||Ku.set(p,cl._fromUser(p)),Ku.get(p)}const Pn="__sak";class Mo{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Pn,"1"),this.storage.removeItem(Pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oo=(()=>{class I extends Mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ul(){const I=(0,j.ZQ)();return ai(I)||ms(I)}()&&function qt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),z=this.localCache[b];x!==z&&g(b,z,x)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ve,Ge,Ct)=>{this.notifyListeners(ve,Ct)});const x=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(x);if(g.newValue!==ve)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!b)return}const z=()=>{const ve=this.storage.getItem(x);!b&&this.localCache[x]===ve||this.notifyListeners(x,ve)},re=this.storage.getItem(x);!function Fe(){return(0,j.lT)()&&10===document.documentMode}()||re===g.newValue||g.newValue===g.oldValue?z():setTimeout(z,10)}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const z of Array.from(x))z(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var x=()=>super._set,z=this;return(0,w.A)(function*(){yield x().call(z,g,b),z.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,x=this;return(0,w.A)(function*(){const z=yield b().call(x,g);return x.localCache[g]=JSON.stringify(z),z})()}_remove(g){var b=()=>super._remove,x=this;return(0,w.A)(function*(){yield b().call(x,g),delete x.localCache[g]})()}}return I.type="LOCAL",I})(),$e=(()=>{class I extends Mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return I.type="SESSION",I})();let zs=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(z=>z.isListeningto(g));if(b)return b;const x=new I(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,w.A)(function*(){const x=g,{eventId:z,eventType:re,data:ve}=x.data,Ge=b.handlersMap[re];if(!Ge?.size)return;x.ports[0].postMessage({status:"ack",eventId:z,eventType:re});const Ct=Array.from(Ge).map(function(){var An=(0,w.A)(function*(Si){return Si(x.origin,ve)});return function(Si){return An.apply(this,arguments)}}()),kt=yield function an(I){return Promise.all(I.map(function(){var p=(0,w.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Ct);x.ports[0].postMessage({status:"done",eventId:z,eventType:re,response:kt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ws(I="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return I+g}class Oi{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var x=this;return(0,w.A)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let re,ve;return new Promise((Ge,Ct)=>{const kt=Ws("",20);z.port1.start();const An=setTimeout(()=>{Ct(new Error("unsupported_event"))},b);ve={messageChannel:z,onMessage(Si){const Ba=Si;if(Ba.data.eventId===kt)switch(Ba.data.status){case"ack":clearTimeout(An),re=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),Ge(Ba.data.response);break;default:clearTimeout(An),clearTimeout(re),Ct(new Error("invalid_response"))}}},x.handlers.add(ve),z.port1.addEventListener("message",ve.onMessage),x.target.postMessage({eventType:p,eventId:kt,data:g},[z.port2])}).finally(()=>{ve&&x.removeMessageHandler(ve)})})()}}function Cr(){return window}function Fr(){return typeof Cr().WorkerGlobalScope<"u"&&"function"==typeof Cr().importScripts}function _i(){return(_i=(0,w.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const As="firebaseLocalStorageDb",Ji="firebaseLocalStorage",jc="fbase_key";class ec{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function tc(I,p){return I.transaction([Ji],p?"readwrite":"readonly").objectStore(Ji)}function Qu(){const I=indexedDB.open(As,1);return new Promise((p,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const b=I.result;try{b.createObjectStore(Ji,{keyPath:jc})}catch(x){g(x)}}),I.addEventListener("success",(0,w.A)(function*(){const b=I.result;b.objectStoreNames.contains(Ji)?p(b):(b.close(),yield function Jd(){const I=indexedDB.deleteDatabase(As);return new ec(I).toPromise()}(),p(yield Qu()))}))})}function $f(I,p,g){return $c.apply(this,arguments)}function $c(){return($c=(0,w.A)(function*(I,p,g){const b=tc(I,!0).put({[jc]:p,value:g});return new ec(b).toPromise()})).apply(this,arguments)}function Hf(){return(Hf=(0,w.A)(function*(I,p){const g=tc(I,!1).get(p),b=yield new ec(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Gg(I,p){const g=tc(I,!0).delete(p);return new ec(g).toPromise()}const qg=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,w.A)(function*(){return g.db||(g.db=yield Qu()),g.db})()}_withRetries(g){var b=this;return(0,w.A)(function*(){let x=0;for(;;)try{const z=yield b._openDb();return yield g(z)}catch(z){if(x++>3)throw z;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,w.A)(function*(){return Fr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,w.A)(function*(){g.receiver=zs._getInstance(function No(){return Fr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,w.A)(function*(x,z){return{keyProcessed:(yield g._poll()).includes(z.key)}});return function(x,z){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,w.A)(function*(x,z){return["keyChanged"]});return function(x,z){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,w.A)(function*(){var b,x;if(g.activeServiceWorker=yield function Fa(){return _i.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Oi(g.activeServiceWorker);const z=yield g.sender._send("ping",{},800);z&&null!==(b=z[0])&&void 0!==b&&b.fulfilled&&null!==(x=z[0])&&void 0!==x&&x.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,w.A)(function*(){if(b.sender&&b.activeServiceWorker&&function Ni(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.A)(function*(){try{if(!indexedDB)return!1;const g=yield Qu();return yield $f(g,Pn,"1"),yield Gg(g,Pn),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,w.A)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var x=this;return(0,w.A)(function*(){return x._withPendingWrite((0,w.A)(function*(){return yield x._withRetries(z=>$f(z,g,b)),x.localCache[g]=b,x.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,w.A)(function*(){const x=yield b._withRetries(z=>function Wy(I,p){return Hf.apply(this,arguments)}(z,g));return b.localCache[g]=x,x})()}_remove(g){var b=this;return(0,w.A)(function*(){return b._withPendingWrite((0,w.A)(function*(){return yield b._withRetries(x=>Gg(x,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,w.A)(function*(){const b=yield g._withRetries(re=>{const ve=tc(re,!1).getAll();return new ec(ve).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const x=[],z=new Set;if(0!==b.length)for(const{fbase_key:re,value:ve}of b)z.add(re),JSON.stringify(g.localCache[re])!==JSON.stringify(ve)&&(g.notifyListeners(re,ve),x.push(re));for(const re of Object.keys(g.localCache))g.localCache[re]&&!z.has(re)&&(g.notifyListeners(re,null),x.push(re));return x})()}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const z of Array.from(x))z(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,w.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Hc=1e12;class Wf{constructor(p){this.auth=p,this.counter=Hc,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new Zy(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||Hc;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Hc))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,w.A)(function*(){var b;return null===(b=g._widgets.get(p||Hc))||void 0===b||b.execute(),""})()}}class Zy{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;we(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jy(I){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<I;b++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gf=zo("rcb"),ev=new Mr(3e4,6e4);class Kg{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Cr().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return we(function E(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Gr(Cr().grecaptcha)?Promise.resolve(Cr().grecaptcha):new Promise((b,x)=>{const z=Cr().setTimeout(()=>{x(ze(p,"network-request-failed"))},ev.get());Cr()[Gf]=()=>{Cr().clearTimeout(z),delete Cr()[Gf];const ve=Cr().grecaptcha;if(!ve||!Gr(ve))return void x(ze(p,"internal-error"));const Ge=ve.render;ve.render=(Ct,kt)=>{const An=Ge(Ct,kt);return this.counter++,An},this.hostLanguage=g,b(ve)},Ul(`${function Bl(){return yo.recaptchaV2Script}()}?${(0,j.Am)({onload:Gf,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(z),x(ze(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Cr().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class D{load(p){return(0,w.A)(function*(){return new Wf(p)})()}clearedOneInstance(){}}const T="recaptcha",R={theme:"light",type:"image"};class N{constructor(p,g,b=Object.assign({},R)){this.parameters=b,this.type=T,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(p),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;we(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new D:new Kg,this.validateStartingState()}verify(){var p=this;return(0,w.A)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(z=>{const re=ve=>{ve&&(p.tokenChangeListeners.delete(re),z(ve))};p.tokenChangeListeners.add(re),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=Cr()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,w.A)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,w.A)(function*(){we(nr()&&!Fr(),p.auth,"internal-error"),yield function H(){let I=null;return new Promise(p=>{"complete"!==document.readyState?(I=()=>p(),window.addEventListener("load",I)):p()}).catch(p=>{throw I&&window.removeEventListener("load",I),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ct(I){return si.apply(this,arguments)}(p.auth);we(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class J{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=eo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function De(I,p,g){return me.apply(this,arguments)}function me(){return(me=(0,w.A)(function*(I,p,g){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const b=Wn(I),x=yield Gs(b,p,(0,j.Ku)(g));return new J(x,z=>sl(b,z))})).apply(this,arguments)}function mt(I,p,g){return $t.apply(this,arguments)}function $t(){return($t=(0,w.A)(function*(I,p,g){const b=(0,j.Ku)(I);yield ls(!1,b,"phone");const x=yield Gs(b.auth,p,(0,j.Ku)(g));return new J(x,z=>Nc(b,z))})).apply(this,arguments)}function _n(I,p,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,w.A)(function*(I,p,g){const b=(0,j.Ku)(I);if((0,h._isFirebaseServerApp)(b.auth.app))return Promise.reject(it(b.auth));const x=yield Gs(b.auth,p,(0,j.Ku)(g));return new J(x,z=>xc(b,z))})).apply(this,arguments)}function Gs(I,p,g){return ca.apply(this,arguments)}function ca(){return ca=(0,w.A)(function*(I,p,g){var b;const x=yield g.verify();try{let z;if(we("string"==typeof x,I,"argument-error"),we(g.type===T,I,"argument-error"),z="string"==typeof p?{phoneNumber:p}:p,"session"in z){const re=z.session;if("phoneNumber"in z)return we("enroll"===re.type,I,"internal-error"),(yield function oo(I,p){return Ne(I,"POST","/v2/accounts/mfaEnrollment:start",Pe(I,p))}(I,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{we("signin"===re.type,I,"internal-error");const ve=(null===(b=z.multiFactorHint)||void 0===b?void 0:b.uid)||z.multiFactorUid;return we(ve,I,"missing-multi-factor-info"),(yield function Ky(I,p){return Ne(I,"POST","/v2/accounts/mfaSignIn:start",Pe(I,p))}(I,{mfaPendingCredential:re.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield function $u(I,p){return Us.apply(this,arguments)}(I,{phoneNumber:z.phoneNumber,recaptchaToken:x});return re}}finally{g._reset()}}),ca.apply(this,arguments)}function zc(I,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,w.A)(function*(I,p){const g=(0,j.Ku)(I);if((0,h._isFirebaseServerApp)(g.auth.app))return Promise.reject(it(g.auth));yield Bi(g,p)})).apply(this,arguments)}let ua=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=Wn(g)}verifyPhoneNumber(g,b){return Gs(this.auth,g,(0,j.Ku)(b))}static credential(g,b){return eo._fromVerification(g,b)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:x}=g;return b&&x?eo._fromTokenResponse(b,x):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function yn(I,p){return p?at(p):(we(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ar extends Xi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return pi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return pi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return pi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Qg(I){return no(I.auth,new Ar(I),I.bypassAuthState)}function Wc(I){const{auth:p,user:g}=I;return we(g,p,"internal-error"),Oa(g,new Ar(I),I.bypassAuthState)}function hl(I){return es.apply(this,arguments)}function es(){return(es=(0,w.A)(function*(I){const{auth:p,user:g}=I;return we(g,p,"internal-error"),Bi(g,new Ar(I),I.bypassAuthState)})).apply(this,arguments)}class tv{constructor(p,g,b,x,z=!1){this.auth=p,this.resolver=b,this.user=x,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,w.A)(function*(b,x){p.pendingPromise={resolve:b,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(z){p.reject(z)}});return function(b,x){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,w.A)(function*(){const{urlResponse:b,sessionId:x,postBody:z,tenantId:re,error:ve,type:Ge}=p;if(ve)return void g.reject(ve);const Ct={auth:g.auth,requestUri:b,sessionId:x,tenantId:re||void 0,postBody:z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ge)(Ct))}catch(kt){g.reject(kt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qg;case"linkViaPopup":case"linkViaRedirect":return hl;case"reauthViaPopup":case"reauthViaRedirect":return Wc;default:Xe(this.auth,"internal-error")}}resolve(p){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xu=new Mr(2e3,1e4);function nv(I,p,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,w.A)(function*(I,p,g){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(ze(I,"operation-not-supported-in-this-environment"));const b=Wn(I);lt(I,p,vs);const x=yn(b,g);return new th(b,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function rv(I,p,g){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,w.A)(function*(I,p,g){const b=(0,j.Ku)(I);if((0,h._isFirebaseServerApp)(b.auth.app))return Promise.reject(ze(b.auth,"operation-not-supported-in-this-environment"));lt(b.auth,p,vs);const x=yn(b.auth,g);return new th(b.auth,"reauthViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}function Yg(I,p,g){return eh.apply(this,arguments)}function eh(){return(eh=(0,w.A)(function*(I,p,g){const b=(0,j.Ku)(I);lt(b.auth,p,vs);const x=yn(b.auth,g);return new th(b.auth,"linkViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}let th=(()=>{class I extends tv{constructor(g,b,x,z,re){super(g,b,z,re),this.provider=x,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,w.A)(function*(){const b=yield g.execute();return we(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,w.A)(function*(){Vt(1===g.filter.length,"Popup operations only handle one event");const b=Ws();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(ze(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Xu.get())};g()}}return I.currentPopupAction=null,I})();const nh="pendingRedirect",nc=new Map;class Zg extends tv{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,w.A)(function*(){let b=nc.get(g.auth._key());if(!b){try{const z=(yield function Gc(I,p){return tn.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(z)}catch(x){b=()=>Promise.reject(x)}nc.set(g.auth._key(),b)}return g.bypassAuthState||nc.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,w.A)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const x=yield b.auth._redirectUserForId(p.eventId);if(x)return b.user=x,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,w.A)(function*(){})()}cleanUp(){}}function tn(){return(tn=(0,w.A)(function*(I,p){const g=Jg(p),b=ov(I);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(g));return yield b._remove(g),x})).apply(this,arguments)}function qf(I,p){return iv.apply(this,arguments)}function iv(){return(iv=(0,w.A)(function*(I,p){return ov(I)._set(Jg(p),"true")})).apply(this,arguments)}function Z0(){nc.clear()}function sv(I,p){nc.set(I._key(),p)}function ov(I){return at(I._redirectPersistence)}function Jg(I){return Tn(nh,I.config.apiKey,I.name)}function Yu(I,p,g){return function J0(I,p,g){return em.apply(this,arguments)}(I,p,g)}function em(){return(em=(0,w.A)(function*(I,p,g){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const b=Wn(I);lt(I,p,vs),yield b._initializationPromise;const x=yn(b,g);return yield qf(x,b),x._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function eT(I,p,g){return function tT(I,p,g){return tm.apply(this,arguments)}(I,p,g)}function tm(){return(tm=(0,w.A)(function*(I,p,g){const b=(0,j.Ku)(I);if(lt(b.auth,p,vs),(0,h._isFirebaseServerApp)(b.auth.app))return Promise.reject(it(b.auth));yield b.auth._initializationPromise;const x=yn(b.auth,g);yield qf(x,b.auth);const z=yield da(b);return x._openRedirect(b.auth,p,"reauthViaRedirect",z)})).apply(this,arguments)}function Le(I,p,g){return function Mn(I,p,g){return Kf.apply(this,arguments)}(I,p,g)}function Kf(){return(Kf=(0,w.A)(function*(I,p,g){const b=(0,j.Ku)(I);lt(b.auth,p,vs),yield b.auth._initializationPromise;const x=yn(b.auth,g);yield ls(!1,b,p.providerId),yield qf(x,b.auth);const z=yield da(b);return x._openRedirect(b.auth,p,"linkViaRedirect",z)})).apply(this,arguments)}function av(I,p){return er.apply(this,arguments)}function er(){return(er=(0,w.A)(function*(I,p){return yield Wn(I)._initializationPromise,Qf(I,p,!1)})).apply(this,arguments)}function Qf(I,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,w.A)(function*(I,p,g=!1){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const b=Wn(I),x=yn(b,p),re=yield new Zg(b,x,g).execute();return re&&!g&&(delete re.user._redirectEventId,yield b._persistUserIfCurrent(re.user),yield b._setRedirectUser(null,p)),re})).apply(this,arguments)}function da(I){return rh.apply(this,arguments)}function rh(){return(rh=(0,w.A)(function*(I){const p=Ws(`${I.uid}:::`);return I._redirectEventId=p,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),p})).apply(this,arguments)}class lv{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ds(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rm(I);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!rm(p)){const x=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ze(this.auth,x))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nT(p))}saveEventToCache(p){this.cachedEventUids.add(nT(p)),this.lastProcessedEventTime=Date.now()}}function nT(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(p=>p).join("-")}function rm({type:I,error:p}){return"unknown"===I&&"auth/no-auth-event"===p?.code}function Va(I){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,w.A)(function*(I,p={}){return Ne(I,"GET","/v1/projects",p)})).apply(this,arguments)}const ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fl=/^https?/;function Yf(){return(Yf=(0,w.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:p}=yield Va(I);for(const g of p)try{if(iT(g))return}catch{}Xe(I,"unauthorized-domain")})).apply(this,arguments)}function iT(I){const p=Pr(),{protocol:g,hostname:b}=new URL(p);if(I.startsWith("chrome-extension://")){const re=new URL(I);return""===re.hostname&&""===b?"chrome-extension:"===g&&I.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&re.hostname===b}if(!fl.test(g))return!1;if(ha.test(I))return b===I;const x=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const sT=new Mr(3e4,6e4);function Zf(){const I=Cr().___jsl;if(I?.H)for(const p of Object.keys(I.H))if(I.H[p].r=I.H[p].r||[],I.H[p].L=I.H[p].L||[],I.H[p].r=[...I.H[p].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let Zu=null;const oT=new Mr(5e3,15e3),cv="__/auth/iframe",sm="emulator/auth/iframe",uv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hv(I){const p=I.config;we(p.authDomain,I,"auth-domain-config-required");const g=p.emulator?Ie(p,sm):`https://${I.config.authDomain}/${cv}`,b={apiKey:p.apiKey,appName:I.name,v:h.SDK_VERSION},x=dv.get(I.config.apiHost);x&&(b.eid=x);const z=I._getFrameworks();return z.length&&(b.fw=z.join(",")),`${g}?${(0,j.Am)(b).slice(1)}`}function ih(){return ih=(0,w.A)(function*(I){const p=yield function Jf(I){return Zu=Zu||function im(I){return new Promise((p,g)=>{var b,x,z;function re(){Zf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Zf(),g(ze(I,"network-request-failed"))},timeout:sT.get()})}if(null!==(x=null===(b=Cr().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(z=Cr().gapi)||void 0===z||!z.load){const ve=zo("iframefcb");return Cr()[ve]=()=>{gapi.load?re():g(ze(I,"network-request-failed"))},Ul(`${function Xd(){return yo.gapiScript}()}?onload=${ve}`).catch(Ge=>g(Ge))}re()}}).catch(p=>{throw Zu=null,p})}(I),Zu}(I),g=Cr().gapi;return we(g,I,"internal-error"),p.open({where:document.body,url:hv(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uv,dontclear:!0},b=>new Promise(function(){var x=(0,w.A)(function*(z,re){yield b.restyle({setHideOnLeave:!1});const ve=ze(I,"network-request-failed"),Ge=Cr().setTimeout(()=>{re(ve)},oT.get());function Ct(){Cr().clearTimeout(Ge),z(b)}b.ping(Ct).then(Ct,()=>{re(ve)})});return function(z,re){return x.apply(this,arguments)}}()))}),ih.apply(this,arguments)}const aT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ve{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _t="__/auth/handler",sh="emulator/auth/handler",nn=encodeURIComponent("fac");function ds(I,p,g,b,x,z){return rc.apply(this,arguments)}function rc(){return(rc=(0,w.A)(function*(I,p,g,b,x,z){we(I.config.authDomain,I,"auth-domain-config-required"),we(I.config.apiKey,I,"invalid-api-key");const re={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:b,v:h.SDK_VERSION,eventId:x};if(p instanceof vs){p.setDefaultLanguage(I.languageCode),re.providerId=p.providerId||"",(0,j.Im)(p.getCustomParameters())||(re.customParameters=JSON.stringify(p.getCustomParameters()));for(const[kt,An]of Object.entries(z||{}))re[kt]=An}if(p instanceof Zo){const kt=p.getScopes().filter(An=>""!==An);kt.length>0&&(re.scopes=kt.join(","))}I.tenantId&&(re.tid=I.tenantId);const ve=re;for(const kt of Object.keys(ve))void 0===ve[kt]&&delete ve[kt];const Ge=yield I._getAppCheckToken(),Ct=Ge?`#${nn}=${encodeURIComponent(Ge)}`:"";return`${function oh({config:I}){return I.emulator?Ie(I,sh):`https://${I.authDomain}/${_t}`}(I)}?${(0,j.Am)(ve).slice(1)}${Ct}`})).apply(this,arguments)}const pl="webStorageSupport",lh=class ah{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$e,this._completeRedirectFn=Qf,this._overrideRedirectResult=sv}_openPopup(p,g,b,x){var z=this;return(0,w.A)(function*(){var re;Vt(null===(re=z.eventManagers[p._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const ve=yield ds(p,g,b,Pr(),x);return function gv(I,p,g,b=500,x=600){const z=Math.max((window.screen.availHeight-x)/2,0).toString(),re=Math.max((window.screen.availWidth-b)/2,0).toString();let ve="";const Ge=Object.assign(Object.assign({},aT),{width:b.toString(),height:x.toString(),top:z,left:re}),Ct=(0,j.ZQ)().toLowerCase();g&&(ve=$o(Ct)?"_blank":g),hn(Ct)&&(p=p||"http://localhost",Ge.scrollbars="yes");const kt=Object.entries(Ge).reduce((Si,[Ba,ja])=>`${Si}${Ba}=${ja},`,"");if(function he(I=(0,j.ZQ)()){var p;return ms(I)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ct)&&"_self"!==ve)return function xo(I,p){const g=document.createElement("a");g.href=I,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ve),new Ve(null);const An=window.open(p||"",ve,kt);we(An,I,"popup-blocked");try{An.focus()}catch{}return new Ve(An)}(p,ve,Ws())})()}_openRedirect(p,g,b,x){var z=this;return(0,w.A)(function*(){return yield z._originValidation(p),function Lr(I){Cr().location.href=I}(yield ds(p,g,b,Pr(),x)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:x,promise:z}=this.eventManagers[g];return x?Promise.resolve(x):(Vt(z,"If manager is not set, promise should be"),z)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,w.A)(function*(){const b=yield function fv(I){return ih.apply(this,arguments)}(p),x=new lv(p);return b.register("authEvent",z=>(we(z?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:x},g.iframes[p._key()]=b,x})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(pl,{type:pl},x=>{var z;const re=null===(z=x?.[0])||void 0===z?void 0:z[pl];void 0!==re&&g(!!re),Xe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rT(I){return Yf.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return pt()||ai()||ms()}};class ep{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return Zt("unexpected MultiFactorSessionType")}}}class Di extends ep{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Di(p)}_finalizeEnroll(p,g,b){return function lr(I,p){return Ne(I,"POST","/v2/accounts/mfaEnrollment:finalize",Pe(I,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Qy(I,p){return Ne(I,"POST","/v2/accounts/mfaSignIn:finalize",Pe(I,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ch=(()=>{class I{constructor(){}static assertion(g){return Di._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var uh="@firebase/auth";class ts{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,w.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.XA)("authIdTokenMaxAge"),function Vl(I){yo=I}({loadJS:I=>new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",I),b.onload=p,b.onerror=x=>{const z=ze("internal-error");z.customData=x,g(z)},b.type="text/javascript",b.charset="UTF-8",function Ua(){var I,p;return null!==(p=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==p?p:document}().appendChild(b)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function dh(I){(0,h._registerComponent)(new ye.uA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),z=p.getProvider("app-check-internal"),{apiKey:re,authDomain:ve}=b.options;we(re&&!re.includes(":"),"invalid-api-key",{appName:b.name});const Ge={apiKey:re,authDomain:ve,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xt(I)},Ct=new Ls(b,x,z,Ge);return function qr(I,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(at);p?.errorMap&&I._updateErrorMap(p.errorMap),I._initializeWithPersistence(b,p?.popupRedirectResolver)}(Ct,g),Ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new ye.uA("auth-internal",p=>{const g=Wn(p.getProvider("auth").getImmediate());return new ts(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(uh,"1.7.2",function lT(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,h.registerVersion)(uh,"1.7.2","esm2017")}("Browser")},1076:(Nt,Be,G)=>{G.d(Be,{Am:()=>gs,Bd:()=>Zt,FA:()=>Ne,Fy:()=>it,I9:()=>jt,Im:()=>jr,Ku:()=>oe,Ll:()=>we,T9:()=>Xe,Uj:()=>He,XA:()=>ze,ZQ:()=>lt,bD:()=>si,cY:()=>Je,eX:()=>Ee,g:()=>Pe,gR:()=>Gr,hp:()=>vr,jZ:()=>Et,lT:()=>cr,lV:()=>Pr,nr:()=>Mr,sr:()=>Vt,tD:()=>Pt,u:()=>ie,yU:()=>En,zW:()=>Ie,zw:()=>be});const le=function(q){const Q=[];let U=0;for(let W=0;W<q.length;W++){let B=q.charCodeAt(W);B<128?Q[U++]=B:B<2048?(Q[U++]=B>>6|192,Q[U++]=63&B|128):55296==(64512&B)&&W+1<q.length&&56320==(64512&q.charCodeAt(W+1))?(B=65536+((1023&B)<<10)+(1023&q.charCodeAt(++W)),Q[U++]=B>>18|240,Q[U++]=B>>12&63|128,Q[U++]=B>>6&63|128,Q[U++]=63&B|128):(Q[U++]=B>>12|224,Q[U++]=B>>6&63|128,Q[U++]=63&B|128)}return Q},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,Q){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let B=0;B<q.length;B+=3){const se=q[B],Oe=B+1<q.length,at=Oe?q[B+1]:0,Ht=B+2<q.length,Qt=Ht?q[B+2]:0;let ht=(15&at)<<2|Qt>>6,hn=63&Qt;Ht||(hn=64,Oe||(ht=64)),W.push(U[se>>2],U[(3&se)<<4|at>>4],U[ht],U[hn])}return W.join("")},encodeString(q,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(q):this.encodeByteArray(le(q),Q)},decodeString(q,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(q):function(q){const Q=[];let U=0,W=0;for(;U<q.length;){const B=q[U++];if(B<128)Q[W++]=String.fromCharCode(B);else if(B>191&&B<224){const se=q[U++];Q[W++]=String.fromCharCode((31&B)<<6|63&se)}else if(B>239&&B<365){const Ht=((7&B)<<18|(63&q[U++])<<12|(63&q[U++])<<6|63&q[U++])-65536;Q[W++]=String.fromCharCode(55296+(Ht>>10)),Q[W++]=String.fromCharCode(56320+(1023&Ht))}else{const se=q[U++],Oe=q[U++];Q[W++]=String.fromCharCode((15&B)<<12|(63&se)<<6|63&Oe)}}return Q.join("")}(this.decodeStringToByteArray(q,Q))},decodeStringToByteArray(q,Q){this.init_();const U=Q?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let B=0;B<q.length;){const se=U[q.charAt(B++)],at=B<q.length?U[q.charAt(B)]:0;++B;const Qt=B<q.length?U[q.charAt(B)]:64;++B;const Dt=B<q.length?U[q.charAt(B)]:64;if(++B,null==se||null==at||null==Qt||null==Dt)throw new Te;W.push(se<<2|at>>4),64!==Qt&&(W.push(at<<4&240|Qt>>2),64!==Dt&&W.push(Qt<<6&192|Dt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(q){return function(q){const Q=le(q);return ye.encodeByteArray(Q,!0)}(q).replace(/\./g,"")},ie=function(q){try{return ye.decodeString(q,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function be(q,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return Q}for(const U in Q)!Q.hasOwnProperty(U)||!Ze(U)||(q[U]=be(q[U],Q[U]));return q}function Ze(q){return"__proto__"!==q}const It=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=q&&ie(q[1]);return Q&&JSON.parse(Q)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},En=q=>{const Q=(q=>{var Q,U;return null===(U=null===(Q=It())||void 0===Q?void 0:Q.emulatorHosts)||void 0===U?void 0:U[q]})(q);if(!Q)return;const U=Q.lastIndexOf(":");if(U<=0||U+1===Q.length)throw new Error(`Invalid host ${Q} with no separate hostname and port!`);const W=parseInt(Q.substring(U+1),10);return"["===Q[0]?[Q.substring(1,U-1),W]:[Q.substring(0,U),W]},Xe=()=>{var q;return null===(q=It())||void 0===q?void 0:q.config},ze=q=>{var Q;return null===(Q=It())||void 0===Q?void 0:Q[`_${q}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,U)=>{this.resolve=Q,this.reject=U})}wrapCallback(Q){return(U,W)=>{U?this.reject(U):this.resolve(W),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(U):Q(U,W))}}}function it(q,Q){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=Q||"demo-project",B=q.iat||0,se=q.sub||q.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:B,exp:B+3600,auth_time:B,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},q);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(Oe)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function we(){var q;const Q=null===(q=It())||void 0===q?void 0:q.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return"object"==typeof self&&self.self===self}function Vt(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Pr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function cr(){const q=lt();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Mr(){return!we()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}function Ee(){return new Promise((q,Q)=>{try{let U=!0;const W="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(W);B.onsuccess=()=>{B.result.close(),U||self.indexedDB.deleteDatabase(W),q(!0)},B.onupgradeneeded=()=>{U=!1},B.onerror=()=>{var se;Q((null===(se=B.error)||void 0===se?void 0:se.message)||"")}}catch(U){Q(U)}})}class Pe extends Error{constructor(Q,U,W){super(U),this.code=Q,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(Q,U,W){this.service=Q,this.serviceName=U,this.errors=W}create(Q,...U){const W=U[0]||{},B=`${this.service}/${Q}`,se=this.errors[Q],Oe=se?function St(q,Q){return q.replace(zt,(U,W)=>{const B=Q[W];return null!=B?String(B):`<${W}?>`})}(se,W):"Error";return new Pe(B,`${this.serviceName}: ${Oe} (${B}).`,W)}}const zt=/\{\$([^}]+)}/g;function Gr(q,Q){return Object.prototype.hasOwnProperty.call(q,Q)}function jr(q){for(const Q in q)if(Object.prototype.hasOwnProperty.call(q,Q))return!1;return!0}function si(q,Q){if(q===Q)return!0;const U=Object.keys(q),W=Object.keys(Q);for(const B of U){if(!W.includes(B))return!1;const se=q[B],Oe=Q[B];if(rr(se)&&rr(Oe)){if(!si(se,Oe))return!1}else if(se!==Oe)return!1}for(const B of W)if(!U.includes(B))return!1;return!0}function rr(q){return null!==q&&"object"==typeof q}function gs(q){const Q=[];for(const[U,W]of Object.entries(q))Array.isArray(W)?W.forEach(B=>{Q.push(encodeURIComponent(U)+"="+encodeURIComponent(B))}):Q.push(encodeURIComponent(U)+"="+encodeURIComponent(W));return Q.length?"&"+Q.join("&"):""}function jt(q){const Q={};return q.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[B,se]=W.split("=");Q[decodeURIComponent(B)]=decodeURIComponent(se)}}),Q}function vr(q){const Q=q.indexOf("?");if(!Q)return"";const U=q.indexOf("#",Q);return q.substring(Q,U>0?U:void 0)}function Pt(q,Q){const U=new Er(q,Q);return U.subscribe.bind(U)}class Er{constructor(Q,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{Q(this)}).catch(W=>{this.error(W)})}next(Q){this.forEachObserver(U=>{U.next(Q)})}error(Q){this.forEachObserver(U=>{U.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,U,W){let B;if(void 0===Q&&void 0===U&&void 0===W)throw new Error("Missing Observer.");B=function Nn(q,Q){if("object"!=typeof q||null===q)return!1;for(const U of Q)if(U in q&&"function"==typeof q[U])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:U,complete:W},void 0===B.next&&(B.next=Or),void 0===B.error&&(B.error=Or),void 0===B.complete&&(B.complete=Or);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),se}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,Q)}sendOne(Q,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{U(this.observers[Q])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Or(){}function oe(q){return q&&q._delegate?q._delegate:q}},7363:(Nt,Be,G)=>{var w=G(345),h=G(4438),j=G(6315),le=G(7852);(0,le.registerVersion)("firebase","10.11.1","app");var Te=G(8359);class tt extends Te.yU{constructor(e,t){super()}schedule(e,t=0){return this}}const He={setInterval(r,e,...t){const{delegate:i}=He;return i?.setInterval?i.setInterval(r,e,...t):setInterval(r,e,...t)},clearInterval(r){const{delegate:e}=He;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var ie=G(7908);class ne extends tt{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const a=this.id,c=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(c,a,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,i=0){return He.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&He.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let a,i=!1;try{this.work(e)}catch(c){i=!0,a=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.o)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ze={now:()=>(Ze.delegate||Date).now(),delegate:void 0};class We{constructor(e,t=We.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}We.now=Ze.now;class ut extends We{constructor(e,t=We.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const wt=new class ot extends ut{}(class be extends ne{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),pn=new ut(ne);var Xe=G(1985),ze=G(8141),Je=G(6745),it=G(941);const lt=new h.RxE("ANGULARFIRE2_VERSION");const Zt=(r,e)=>{const t=e?[e]:(0,le.getApps)(),i=[];return t.forEach(a=>{a.container.getProvider(r).instances.forEach(d=>{i.includes(d)||i.push(d)})}),i};class Vt{constructor(){return Zt(Pr)}}const Pr="app-check";function nr(){}class cr{zone;delegate;constructor(e,t=wt){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const a=this.zone;return this.delegate.schedule(function(d){a.runGuarded(()=>{e.apply(this,[d])})},t,i)}}class yr{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nr,{},nr,nr)),t.pipe((0,ze.M)({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wr=(()=>{class r{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new cr(Zone.current)),this.insideAngular=t.run(()=>new cr(Zone.current,pn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||r)(h.KVO(h.SKi))};static \u0275prov=h.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Mr(){const r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return r}function Ee(r){return Mr().ngZone.run(()=>r())}function Pe(r){return function Ne(r){return function(t){return(t=t.lift(new yr(r.ngZone))).pipe((0,Je._)(r.outsideAngular),(0,it.Q)(r.insideAngular))}}(Mr())(r)}const St=(r,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ee(()=>r.apply(void 0,i))},zt=(r,e)=>function(){let t;const i=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof i[c]&&(e&&(t||=Ee(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nr,{},nr,nr))),i[c]=St(i[c],t));const a=function Ie(r){return Mr().ngZone.runOutsideAngular(()=>r())}(()=>r.apply(this,i));if(!e){if(a instanceof Xe.c){const c=Mr();return a.pipe((0,Je._)(c.outsideAngular),(0,it.Q)(c.insideAngular))}return Ee(()=>a)}return a instanceof Xe.c?a.pipe(Pe):a instanceof Promise?Ee(()=>new Promise((c,d)=>a.then(_=>Ee(()=>c(_)),_=>Ee(()=>d(_))))):"function"==typeof a&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),a.apply(this,arguments)}:Ee(()=>a)};class wn{constructor(e){return e}}class Rt{constructor(){return(0,le.getApps)()}}const Cn=new h.nKC("angularfire2._apps"),ur={provide:wn,useFactory:function jn(r){return r&&1===r.length?r[0]:new wn((0,le.getApp)())},deps:[[new h.Xx1,Cn]]},or={provide:Rt,deps:[[new h.Xx1,Cn]]};function Gr(r){return(e,t)=>{const i=e.runOutsideAngular(()=>r(t));return new wn(i)}}let Qn=(()=>{class r{constructor(t){(0,le.registerVersion)("angularfire",lt.full,"core"),(0,le.registerVersion)("angularfire",lt.full,"app"),(0,le.registerVersion)("angular",h.xvI.full,t.toString())}static \u0275fac=function(i){return new(i||r)(h.KVO(h.Agw))};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({providers:[ur,or]})}return r})();const oi=zt(le.initializeApp,!0);var Ke=function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r}(Ke||{});const Pt="*";function Er(r,e){return{type:Ke.Trigger,name:r,definitions:e,options:{}}}function ar(r,e=null){return{type:Ke.Animate,styles:e,timings:r}}function xn(r){return{type:Ke.Style,styles:r,offset:null}}function hi(r,e,t=null){return{type:Ke.Transition,expr:r,animation:e,options:t}}function xt(r,e=null){return{type:Ke.Reference,animation:r,options:e}}function Zn(r,e=null){return{type:Ke.AnimateRef,animation:r,options:e}}class Q{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class U{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,a=0;const c=this.players.length;0==c?queueMicrotask(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==c&&this._onFinish()}),d.onDestroy(()=>{++i==c&&this._onDestroy()}),d.onStart(()=>{++a==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,_)=>Math.max(d,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(a)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function se(r){return new h.wOt(3e3,!1)}function wi(r){switch(r.length){case 0:return new Q;case 1:return r[0];default:return new U(r)}}function Xs(r,e,t=new Map,i=new Map){const a=[],c=[];let d=-1,_=null;if(e.forEach(v=>{const S=v.get("offset"),O=S==d,L=O&&_||new Map;v.forEach((X,ee)=>{let de=ee,pe=X;if("offset"!==ee)switch(de=r.normalizePropertyName(de,a),pe){case"!":pe=t.get(ee);break;case Pt:pe=i.get(ee);break;default:pe=r.normalizeStyleValue(ee,de,pe,a)}L.set(de,pe)}),O||c.push(L),_=L,d=S}),a.length)throw function Xn(r){return new h.wOt(3502,!1)}();return c}function Wo(r,e,t,i){switch(e){case"start":r.onStart(()=>i(t&&Go(t,"start",r)));break;case"done":r.onDone(()=>i(t&&Go(t,"done",r)));break;case"destroy":r.onDestroy(()=>i(t&&Go(t,"destroy",r)))}}function Go(r,e,t){const c=Qi(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,t.totalTime??r.totalTime,!!t.disabled),d=r._data;return null!=d&&(c._data=d),c}function Qi(r,e,t,i,a="",c=0,d){return{element:r,triggerName:e,fromState:t,toState:i,phaseName:a,totalTime:c,disabled:!!d}}function dr(r,e,t){let i=r.get(e);return i||r.set(e,i=t),i}function qo(r){const e=r.indexOf(":");return[r.substring(1,e),r.slice(e+1)]}const Gt=typeof document>"u"?null:document.documentElement;function Tt(r){const e=r.parentNode||r.host||null;return e===Gt?null:e}let qr=null,ys=!1;function un(r,e){for(;e;){if(e===r)return!0;e=Tt(e)}return!1}function Xi(r,e,t){if(t)return Array.from(r.querySelectorAll(e));const i=r.querySelector(e);return i?[i]:[]}let Yr=(()=>{class r{validateStyleProperty(t){return function Vi(r){qr||(qr=function Fs(){return typeof document<"u"?document.body:null}()||{},ys=!!qr.style&&"WebkitAppearance"in qr.style);let e=!0;return qr.style&&!function Ys(r){return"ebkit"==r.substring(1,6)}(r)&&(e=r in qr.style,!e&&ys&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in qr.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return un(t,i)}getParentElement(t){return Tt(t)}query(t,i,a){return Xi(t,i,a)}computeStyle(t,i,a){return a||""}animate(t,i,a,c,d,_=[],v){return new Q(a,c)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac})}return r})();class Za{static#e=this.NOOP=new Yr}class Ja{}const vo=1e3,$l="ng-enter",Qo="ng-leave",Eo="ng-trigger",Xo=".ng-trigger",Vs="ng-animating",Zs=".ng-animating";function bi(r){if("number"==typeof r)return r;const e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sa(parseFloat(e[1]),e[2])}function Sa(r,e){return"s"===e?r*vo:r}function hr(r,e,t){return r.hasOwnProperty("duration")?r:function Io(r,e,t){let a,c=0,d="";if("string"==typeof r){const _=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return e.push(se()),{duration:0,delay:0,easing:""};a=Sa(parseFloat(_[1]),_[2]);const v=_[3];null!=v&&(c=Sa(parseFloat(v),_[4]));const S=_[5];S&&(d=S)}else a=r;if(!t){let _=!1,v=e.length;a<0&&(e.push(function Oe(){return new h.wOt(3100,!1)}()),_=!0),c<0&&(e.push(function at(){return new h.wOt(3101,!1)}()),_=!0),_&&e.splice(v,0,se())}return{duration:a,delay:c,easing:d}}(r,e,t)}function Nr(r,e,t){e.forEach((i,a)=>{const c=Mi(a);t&&!t.has(a)&&t.set(a,r.style[c]),r.style[c]=i})}function Zr(r,e){e.forEach((t,i)=>{const a=Mi(i);r.style[a]=""})}function To(r){return Array.isArray(r)?1==r.length?r[0]:function Or(r,e=null){return{type:Ke.Sequence,steps:r,options:e}}(r):r}const wo=new RegExp("{{\\s*(.+?)\\s*}}","g");function pi(r){let e=[];if("string"==typeof r){let t;for(;t=wo.exec(r);)e.push(t[1]);wo.lastIndex=0}return e}function Yi(r,e,t){const i=`${r}`,a=i.replace(wo,(c,d)=>{let _=e[d];return null==_&&(t.push(function Qt(r){return new h.wOt(3003,!1)}()),_=""),_.toString()});return a==i?r:a}const Hl=/-+([a-z0-9])/g;function Mi(r){return r.replace(Hl,(...e)=>e[1].toUpperCase())}function $n(r,e,t){switch(e.type){case Ke.Trigger:return r.visitTrigger(e,t);case Ke.State:return r.visitState(e,t);case Ke.Transition:return r.visitTransition(e,t);case Ke.Sequence:return r.visitSequence(e,t);case Ke.Group:return r.visitGroup(e,t);case Ke.Animate:return r.visitAnimate(e,t);case Ke.Keyframes:return r.visitKeyframes(e,t);case Ke.Style:return r.visitStyle(e,t);case Ke.Reference:return r.visitReference(e,t);case Ke.AnimateChild:return r.visitAnimateChild(e,t);case Ke.AnimateRef:return r.visitAnimateRef(e,t);case Ke.Query:return r.visitQuery(e,t);case Ke.Stagger:return r.visitStagger(e,t);default:throw function Tn(r){return new h.wOt(3004,!1)}()}}function Bs(r,e){return window.getComputedStyle(r)[e]}const Ra=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bo extends Ja{normalizePropertyName(e,t){return Mi(e)}normalizeStyleValue(e,t,i,a){let c="";const d=i.toString().trim();if(Ra.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const _=i.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&a.push(function Dt(r,e){return new h.wOt(3005,!1)}())}return d+c}}const Yo="*";const Jr=new Set(["true","1"]),vn=new Set(["false","0"]);function Co(r,e){const t=Jr.has(r)||vn.has(r),i=Jr.has(e)||vn.has(e);return(a,c)=>{let d=r==Yo||r==a,_=e==Yo||e==c;return!d&&t&&"boolean"==typeof a&&(d=a?Jr.has(r):vn.has(r)),!_&&i&&"boolean"==typeof c&&(_=c?Jr.has(e):vn.has(e)),d&&_}}const Pc=new RegExp("s*:selfs*,?","g");function Es(r,e,t,i){return new Is(r).build(e,t,i)}class Is{constructor(e){this._driver=e}build(e,t,i){const a=new Pa(t);return this._resetContextStyleTimingState(a),$n(this,To(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,a=t.depCount=0;const c=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function ht(){return new h.wOt(3006,!1)}()),e.definitions.forEach(_=>{if(this._resetContextStyleTimingState(t),_.type==Ke.State){const v=_,S=v.name;S.toString().split(/\s*,\s*/).forEach(O=>{v.name=O,c.push(this.visitState(v,t))}),v.name=S}else if(_.type==Ke.Transition){const v=this.visitTransition(_,t);i+=v.queryCount,a+=v.depCount,d.push(v)}else t.errors.push(function hn(){return new h.wOt(3007,!1)}())}),{type:Ke.Trigger,name:e.name,states:c,transitions:d,queryCount:i,depCount:a,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){const c=new Set,d=a||{};i.styles.forEach(_=>{_ instanceof Map&&_.forEach(v=>{pi(v).forEach(S=>{d.hasOwnProperty(S)||c.add(S)})})}),c.size&&t.errors.push(function ai(r,e){return new h.wOt(3008,!1)}(0,c.values()))}return{type:Ke.State,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=$n(this,To(e.animation),t),a=function Ui(r,e){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function vs(r,e,t){if(":"==r[0]){const v=function Zo(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function qt(r){return new h.wOt(3016,!1)}()),"* => *"}}(r,t);if("function"==typeof v)return void e.push(v);r=v}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function pt(r){return new h.wOt(3015,!1)}()),e;const a=i[1],c=i[2],d=i[3];e.push(Co(a,d)),"<"==c[0]&&(a!=Yo||d!=Yo)&&e.push(Co(d,a))}(i,t,e)):t.push(r),t}(e.expr,t.errors);return{type:Ke.Transition,matchers:a,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ts(e.options)}}visitSequence(e,t){return{type:Ke.Sequence,steps:e.steps.map(i=>$n(this,i,t)),options:Ts(e.options)}}visitGroup(e,t){const i=t.currentTime;let a=0;const c=e.steps.map(d=>{t.currentTime=i;const _=$n(this,d,t);return a=Math.max(a,t.currentTime),_});return t.currentTime=a,{type:Ke.Group,steps:c,options:Ts(e.options)}}visitAnimate(e,t){const i=function as(r,e){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return ws(hr(r,e).duration,0,"");const t=r;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=ws(0,0,"");return c.dynamic=!0,c.strValue=t,c}const a=hr(t,e);return ws(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let a,c=e.styles?e.styles:xn({});if(c.type==Ke.Keyframes)a=this.visitKeyframes(c,t);else{let d=e.styles,_=!1;if(!d){_=!0;const S={};i.easing&&(S.easing=i.easing),d=xn(S)}t.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,t);v.isEmptyStep=_,a=v}return t.currentAnimateTimings=null,{type:Ke.Animate,timings:i,style:a,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let _ of a)"string"==typeof _?_===Pt?i.push(_):t.errors.push(new h.wOt(3002,!1)):i.push(new Map(Object.entries(_)));let c=!1,d=null;return i.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(d=_.get("easing"),_.delete("easing")),!c))for(let v of _.values())if(v.toString().indexOf("{{")>=0){c=!0;break}}),{type:Ke.Style,styles:i,easing:d,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let a=t.currentTime,c=t.currentTime;i&&c>0&&(c-=i.duration+i.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((_,v)=>{const S=t.collectedStyles.get(t.currentQuerySelector),O=S.get(v);let L=!0;O&&(c!=a&&c>=O.startTime&&a<=O.endTime&&(t.errors.push(function Ho(r,e,t,i,a){return new h.wOt(3010,!1)}()),L=!1),c=O.startTime),L&&S.set(v,{startTime:c,endTime:a}),t.options&&function tl(r,e,t){const i=e.params||{},a=pi(r);a.length&&a.forEach(c=>{i.hasOwnProperty(c)||t.push(function Ht(r){return new h.wOt(3001,!1)}())})}(_,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Ke.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kn(){return new h.wOt(3011,!1)}()),i;let c=0;const d=[];let _=!1,v=!1,S=0;const O=e.steps.map(rt=>{const ft=this._makeStyleAst(rt,t);let qe=null!=ft.offset?ft.offset:function Ci(r){if("string"==typeof r)return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ft.styles),vt=0;return null!=qe&&(c++,vt=ft.offset=qe),v=v||vt<0||vt>1,_=_||vt<S,S=vt,d.push(vt),ft});v&&t.errors.push(function Ya(){return new h.wOt(3012,!1)}()),_&&t.errors.push(function ms(){return new h.wOt(3200,!1)}());const L=e.steps.length;let X=0;c>0&&c<L?t.errors.push(function Ae(){return new h.wOt(3202,!1)}()):0==c&&(X=1/(L-1));const ee=L-1,de=t.currentTime,pe=t.currentAnimateTimings,Se=pe.duration;return O.forEach((rt,ft)=>{const qe=X>0?ft==ee?1:X*ft:d[ft],vt=qe*Se;t.currentTime=de+pe.delay+vt,pe.duration=vt,this._validateStyleAst(rt,t),rt.offset=qe,i.styles.push(rt)}),i}visitReference(e,t){return{type:Ke.Reference,animation:$n(this,To(e.animation),t),options:Ts(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Ke.AnimateChild,options:Ts(e.options)}}visitAnimateRef(e,t){return{type:Ke.AnimateRef,animation:this.visitReference(e.animation,t),options:Ts(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[c,d]=function Jo(r){const e=!!r.split(/\s*,\s*/).find(t=>":self"==t);return e&&(r=r.replace(Pc,"")),r=r.replace(/@\*/g,Xo).replace(/@\w+/g,t=>Xo+"-"+t.slice(1)).replace(/:animating/g,Zs),[r,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+c:c,dr(t.collectedStyles,t.currentQuerySelector,new Map);const _=$n(this,To(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Ke.Query,selector:c,limit:a.limit||0,optional:!!a.optional,includeSelf:d,animation:_,originalSelector:e.selector,options:Ts(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function he(){return new h.wOt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:hr(e.timings,t.errors,!0);return{type:Ke.Stagger,animation:$n(this,To(e.animation),t),timings:i,options:null}}}class Pa{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ts(r){return r?(r={...r}).params&&(r.params=function Mc(r){return r?{...r}:null}(r.params)):r={},r}function ws(r,e,t){return{duration:r,delay:e,easing:t}}function ea(r,e,t,i,a,c,d=null,_=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:i,duration:a,delay:c,totalTime:a+c,easing:d,subTimeline:_}}class Ma{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ta=new RegExp(":enter","g"),Wl=new RegExp(":leave","g");function ls(r,e,t,i,a,c=new Map,d=new Map,_,v,S=[]){return(new to).buildKeyframes(r,e,t,i,a,c,d,_,v,S)}class to{buildKeyframes(e,t,i,a,c,d,_,v,S,O=[]){S=S||new Ma;const L=new Un(e,t,S,a,c,O,[]);L.options=v;const X=v.delay?bi(v.delay):0;L.currentTimeline.delayNextStep(X),L.currentTimeline.setStyles([d],null,L.errors,v),$n(this,i,L);const ee=L.timelines.filter(de=>de.containsAnimation());if(ee.length&&_.size){let de;for(let pe=ee.length-1;pe>=0;pe--){const Se=ee[pe];if(Se.element===t){de=Se;break}}de&&!de.allowOnlyTimelineStyles()&&de.setStyles([_],null,L.errors,v)}return ee.length?ee.map(de=>de.buildKeyframes()):[ea(t,[],[],[],0,X,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const a=t.createSubContext(e.options),c=t.currentTimeline.currentTime,d=this._visitSubInstructions(i,a,a.options);c!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const a of e){const c=a?.delay;if(c){const d="number"==typeof c?c:bi(Yi(c,a?.params??{},t.errors));i.delayNextStep(d)}}}_visitSubInstructions(e,t,i){let c=t.currentTimeline.currentTime;const d=null!=i.duration?bi(i.duration):null,_=null!=i.delay?bi(i.delay):null;return 0!==d&&e.forEach(v=>{const S=t.appendInstructionToTimeline(v,d,_);c=Math.max(c,S.duration+S.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),$n(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let a=t;const c=e.options;if(c&&(c.params||c.delay)&&(a=t.createSubContext(c),a.transformIntoNewTimeline(),null!=c.delay)){a.previousNode.type==Ke.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Oa);const d=bi(c.delay);a.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>$n(this,d,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let a=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?bi(e.options.delay):0;e.steps.forEach(d=>{const _=t.createSubContext(e.options);c&&_.delayNextStep(c),$n(this,d,_),a=Math.max(a,_.currentTimeline.currentTime),i.push(_.currentTimeline)}),i.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return hr(t.params?Yi(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());const c=e.style;c.type==Ke.Keyframes?this.visitKeyframes(c,t):(t.incrementTime(i.duration),this.visitStyle(c,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();const c=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(c):i.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,a=t.currentTimeline.duration,c=i.duration,_=t.createSubContext().currentTimeline;_.easing=i.easing,e.styles.forEach(v=>{_.forwardTime((v.offset||0)*c),_.setStyles(v.styles,v.easing,t.errors,t.options),_.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(_),t.transformIntoNewTimeline(a+c),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,a=e.options||{},c=a.delay?bi(a.delay):0;c&&(t.previousNode.type===Ke.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Oa);let d=i;const _=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=_.length;let v=null;_.forEach((S,O)=>{t.currentQueryIndex=O;const L=t.createSubContext(e.options,S);c&&L.delayNextStep(c),S===t.element&&(v=L.currentTimeline),$n(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,a=t.currentTimeline,c=e.timings,d=Math.abs(c.duration),_=d*(t.currentQueryTotal-1);let v=d*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=_-v;break;case"full":v=i.currentStaggerTime}const O=t.currentTimeline;v&&O.delayNextStep(v);const L=O.currentTime;$n(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-L+(a.startTime-i.currentTimeline.startTime)}}const Oa={};class Un{constructor(e,t,i,a,c,d,_,v){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=c,this.errors=d,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Oa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new no(this._driver,t,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let a=this.options;null!=i.duration&&(a.duration=bi(i.duration)),null!=i.delay&&(a.delay=bi(i.delay));const c=i.params;if(c){let d=a.params;d||(d=this.options.params={}),Object.keys(c).forEach(_=>{(!t||!d.hasOwnProperty(_))&&(d[_]=Yi(c[_],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(a=>{i[a]=t[a]})}}return e}createSubContext(e=null,t,i){const a=t||this.element,c=new Un(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Oa,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},c=new Ao(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(c),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,a,c,d){let _=[];if(a&&_.push(this.element),e.length>0){e=(e=e.replace(ta,"."+this._enterClassName)).replace(Wl,"."+this._leaveClassName);let S=this._driver.query(this.element,e,1!=i);0!==i&&(S=i<0?S.slice(S.length+i,S.length):S.slice(0,i)),_.push(...S)}return!c&&0==_.length&&d.push(function Fe(r){return new h.wOt(3014,!1)}()),_}}class no{constructor(e,t,i,a){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new no(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Pt),this._currentKeyframe.set(t,Pt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,a){t&&this._previousKeyframe.set("easing",t);const c=a&&a.params||{},d=function Oc(r,e){const t=new Map;let i;return r.forEach(a=>{if("*"===a){i??=e.keys();for(let c of i)t.set(c,Pt)}else for(let[c,d]of a)t.set(c,d)}),t}(e,this._globalTimelineStyles);for(let[_,v]of d){const S=Yi(v,c,i);this._pendingStyles.set(_,S),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??Pt),this._updateStyle(_,S)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const a=this._styleSummary.get(i);(!a||t.time>a.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((_,v)=>{const S=new Map([...this._backFill,..._]);S.forEach((O,L)=>{"!"===O?e.add(L):O===Pt&&t.add(L)}),i||S.set("offset",v/this.duration),a.push(S)});const c=[...e.values()],d=[...t.values()];if(i){const _=a[0],v=new Map(_);_.set("offset",0),v.set("offset",1),a=[_,v]}return ea(this.element,a,c,d,this.duration,this.startTime,this.easing,!1)}}class Ao extends no{constructor(e,t,i,a,c,d,_=!1){super(e,t,d.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=c,this._stretchStartingKeyframe=_,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],d=i+t,_=t/d,v=new Map(e[0]);v.set("offset",0),c.push(v);const S=new Map(e[0]);S.set("offset",sl(_)),c.push(S);const O=e.length-1;for(let L=1;L<=O;L++){let X=new Map(e[L]);const ee=X.get("offset");X.set("offset",sl((t+ee*i)/d)),c.push(X)}i=d,t=0,a="",e=c}return ea(this.element,e,this.preStyleProps,this.postStyleProps,i,t,a,!0)}}function sl(r,e=3){const t=Math.pow(10,e-1);return Math.round(r*t)/t}function Nc(r,e,t,i,a,c,d,_,v,S,O,L,X){return{type:0,element:r,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:c,toState:i,toStyles:d,timelines:_,queriedElements:v,preStyleProps:S,postStyleProps:O,totalTime:L,errors:X}}const Na={};class xc{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,a){return function Gl(r,e,t,i,a){return r.some(c=>c(e,t,i,a))}(this.ast.matchers,e,t,i,a)}buildStyles(e,t,i){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,i):new Map}build(e,t,i,a,c,d,_,v,S,O){const L=[],X=this.ast.options&&this.ast.options.params||Na,de=this.buildStyles(i,_&&_.params||Na,L),pe=v&&v.params||Na,Se=this.buildStyles(a,pe,L),rt=new Set,ft=new Map,qe=new Map,vt="void"===a,sn={params:Do(pe,X),delay:this.ast.options?.delay},ln=O?[]:ls(e,t,this.ast.animation,c,d,de,Se,sn,S,L);let Dn=0;return ln.forEach(Rr=>{Dn=Math.max(Rr.duration+Rr.delay,Dn)}),L.length?Nc(t,this._triggerName,i,a,vt,de,Se,[],[],ft,qe,Dn,L):(ln.forEach(Rr=>{const qd=Rr.element,Kd=dr(ft,qd,new Set);Rr.preStyleProps.forEach(zg=>Kd.add(zg));const uN=dr(qe,qd,new Set);Rr.postStyleProps.forEach(zg=>uN.add(zg)),qd!==t&&rt.add(qd)}),Nc(t,this._triggerName,i,a,vt,de,Se,ln,[...rt.values()],ft,qe,Dn))}}function Do(r,e){const t={...e};return Object.entries(r).forEach(([i,a])=>{null!=a&&(t[i]=a)}),t}class na{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,a=Do(e,this.defaultParams);return this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,_)=>{d&&(d=Yi(d,a,t));const v=this.normalizer.normalizePropertyName(_,t);d=this.normalizer.normalizeStyleValue(_,v,d,t),i.set(_,d)})}),i}}class on{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new na(a.style,a.options&&a.options.params||{},i))}),Tr(this.states,"true","1"),Tr(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new xc(e,a,this.states))}),this.fallbackTransition=function xr(r,e,t){return new xc(r,{type:Ke.Transition,animation:{type:Ke.Sequence,steps:[],options:null},matchers:[(d,_)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,a){return this.transitionFactories.find(d=>d.match(e,t,i,a))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Tr(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}const Ai=new Ma;class li{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],c=Es(this._driver,t,i,[]);if(i.length)throw function Wt(r){return new h.wOt(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,i){const a=e.element,c=Xs(this._normalizer,e.keyframes,t,i);return this._driver.animate(a,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const a=[],c=this._animations.get(e);let d;const _=new Map;if(c?(d=ls(this._driver,t,c,$l,Qo,new Map,new Map,i,Ai,a),d.forEach(O=>{const L=dr(_,O.element,new Map);O.postStyleProps.forEach(X=>L.set(X,null))})):(a.push(function _s(){return new h.wOt(3300,!1)}()),d=[]),a.length)throw function Ls(r){return new h.wOt(3504,!1)}();_.forEach((O,L)=>{O.forEach((X,ee)=>{O.set(ee,this._driver.computeStyle(L,ee,Pt))})});const S=wi(d.map(O=>{const L=_.get(O.element);return this._buildPlayer(O,new Map,L)}));return this._playersById.set(e,S),S.onDestroy(()=>this.destroy(e)),this.players.push(S),S}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Wn(r){return new h.wOt(3301,!1)}();return t}listen(e,t,i,a){const c=Qi(t,"","","");return Wo(this._getPlayer(e),i,c,a),()=>{}}command(e,t,i,a){if("register"==i)return void this.register(e,a[0]);if("create"==i)return void this.create(e,t,a[0]||{});const c=this._getPlayer(e);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const ol="ng-animate-queued",$s="ng-animate-disabled",So=[],cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ji="__ng_removed";class Ql{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Gu(r){return r??null}(i?e.value:e),i){const{value:c,...d}=e;this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(a=>{null==i[a]&&(i[a]=t[a])})}}}const ia="void",sa=new Ql(ia);class Fc{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wr(t,this._hostClassName)}listen(e,t,i,a){if(!this._triggers.has(t))throw function _o(r,e){return new h.wOt(3302,!1)}();if(null==i||0==i.length)throw function yo(r){return new h.wOt(3303,!1)}();if(!function Yl(r){return"start"==r||"done"==r}(i))throw function Vl(r,e){return new h.wOt(3400,!1)}();const c=dr(this._elementListeners,e,[]),d={name:t,phase:i,callback:a};c.push(d);const _=dr(this._engine.statesByElement,e,new Map);return _.has(t)||(wr(e,Eo),wr(e,Eo+"-"+t),_.set(t,sa)),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(d);v>=0&&c.splice(v,1),this._triggers.has(t)||_.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ul(r){return new h.wOt(3401,!1)}();return t}trigger(e,t,i,a=!0){const c=this._getTrigger(t),d=new ka(this.id,t,e);let _=this._engine.statesByElement.get(e);_||(wr(e,Eo),wr(e,Eo+"-"+t),this._engine.statesByElement.set(e,_=new Map));let v=_.get(t);const S=new Ql(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&S.absorbOptions(v.options),_.set(t,S),v||(v=sa),S.value!==ia&&v.value===S.value){if(!function Zl(r,e){const t=Object.keys(r),i=Object.keys(e);if(t.length!=i.length)return!1;for(let a=0;a<t.length;a++){const c=t[a];if(!e.hasOwnProperty(c)||r[c]!==e[c])return!1}return!0}(v.params,S.params)){const pe=[],Se=c.matchStyles(v.value,v.params,pe),rt=c.matchStyles(S.value,S.params,pe);pe.length?this._engine.reportError(pe):this._engine.afterFlush(()=>{Zr(e,Se),Nr(e,rt)})}return}const X=dr(this._engine.playersByElement,e,[]);X.forEach(pe=>{pe.namespaceId==this.id&&pe.triggerName==t&&pe.queued&&pe.destroy()});let ee=c.matchTransition(v.value,S.value,e,S.params),de=!1;if(!ee){if(!a)return;ee=c.fallbackTransition,de=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ee,fromState:v,toState:S,player:d,isFallbackTransition:de}),de||(wr(e,ol),d.onStart(()=>{Zi(e,ol)})),d.onDone(()=>{let pe=this.players.indexOf(d);pe>=0&&this.players.splice(pe,1);const Se=this._engine.playersByElement.get(e);if(Se){let rt=Se.indexOf(d);rt>=0&&Se.splice(rt,1)}}),this.players.push(d),X.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Xo,!0);i.forEach(a=>{if(a[ji])return;const c=this._engine.fetchNamespacesByElement(a);c.size?c.forEach(d=>d.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,i,a){const c=this._engine.statesByElement.get(e),d=new Map;if(c){const _=[];if(c.forEach((v,S)=>{if(d.set(S,v.value),this._triggers.has(S)){const O=this.trigger(e,S,ia,a);O&&_.push(O)}}),_.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&wi(_).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const a=new Set;t.forEach(c=>{const d=c.name;if(a.has(d))return;a.add(d);const v=this._triggers.get(d).fallbackTransition,S=i.get(d)||sa,O=new Ql(ia),L=new ka(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:v,fromState:S,toState:O,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(e):[];if(c&&c.length)a=!0;else{let d=e;for(;d=d.parentNode;)if(i.statesByElement.get(d)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{const c=e[ji];(!c||c===cs)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const c=i.element,d=this._elementListeners.get(c);d&&d.forEach(_=>{if(_.name==i.triggerName){const v=Qi(c,i.triggerName,i.fromState.value,i.toState.value);v._data=e,Wo(i.player,_.phase,v,_.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(i)}),this._queue=[],t.sort((i,a)=>{const c=i.transition.ast.depCount,d=a.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Xl{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,a){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=a,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,d)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Fc(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,_=this.driver.getParentElement(t);for(;_;){const v=a.get(_);if(v){const S=i.indexOf(v);i.splice(S+1,0,e),d=!0;break}_=this.driver.getParentElement(_)}d||i.unshift(e)}else i.push(e);return a.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let a of i.values())if(a.namespaceId){const c=this._fetchNamespace(a.namespaceId);c&&t.add(c)}return t}trigger(e,t,i,a){if(io(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,i,a),!0}return!1}insertNode(e,t,i,a){if(!io(t))return;const c=t[ji];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,i)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wr(e,$s)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Zi(e,$s))}removeNode(e,t,i){if(io(t)){this.scheduler?.notify();const a=e?this._fetchNamespace(e):null;a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,a,c){this.collectedLeaveElements.push(t),t[ji]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,i,a,c){return io(t)?this._fetchNamespace(e).listen(t,i,a,c):()=>{}}_buildInstruction(e,t,i,a,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,Xo,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Zs,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ji];if(t&&t.setForRemoval){if(e[ji]=cs,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($s)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?wi(t).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw function Bl(r){return new h.wOt(3402,!1)}()}_flushAnimations(e,t){const i=new Ma,a=[],c=new Map,d=[],_=new Map,v=new Map,S=new Map,O=new Set;this.disabledNodes.forEach(Ut=>{O.add(Ut);const rn=this.driver.query(Ut,".ng-animate-queued",!0);for(let dn=0;dn<rn.length;dn++)O.add(rn[dn])});const L=this.bodyNode,X=Array.from(this.statesByElement.keys()),ee=Ro(X,this.collectedEnterElements),de=new Map;let pe=0;ee.forEach((Ut,rn)=>{const dn=$l+pe++;de.set(rn,dn),Ut.forEach(sr=>wr(sr,dn))});const Se=[],rt=new Set,ft=new Set;for(let Ut=0;Ut<this.collectedLeaveElements.length;Ut++){const rn=this.collectedLeaveElements[Ut],dn=rn[ji];dn&&dn.setForRemoval&&(Se.push(rn),rt.add(rn),dn.hasAnimation?this.driver.query(rn,".ng-star-inserted",!0).forEach(sr=>rt.add(sr)):ft.add(rn))}const qe=new Map,vt=Ro(X,Array.from(rt));vt.forEach((Ut,rn)=>{const dn=Qo+pe++;qe.set(rn,dn),Ut.forEach(sr=>wr(sr,dn))}),e.push(()=>{ee.forEach((Ut,rn)=>{const dn=de.get(rn);Ut.forEach(sr=>Zi(sr,dn))}),vt.forEach((Ut,rn)=>{const dn=qe.get(rn);Ut.forEach(sr=>Zi(sr,dn))}),Se.forEach(Ut=>{this.processLeaveNode(Ut)})});const sn=[],ln=[];for(let Ut=this._namespaceList.length-1;Ut>=0;Ut--)this._namespaceList[Ut].drainQueuedTransitions(t).forEach(dn=>{const sr=dn.player,ks=dn.element;if(sn.push(sr),this.collectedEnterElements.length){const mo=ks[ji];if(mo&&mo.setForMove){if(mo.previousTriggersValues&&mo.previousTriggersValues.has(dn.triggerName)){const Wg=mo.previousTriggersValues.get(dn.triggerName),Ll=this.statesByElement.get(dn.element);if(Ll&&Ll.has(dn.triggerName)){const lD=Ll.get(dn.triggerName);lD.value=Wg,Ll.set(dn.triggerName,lD)}}return void sr.destroy()}}const ju=!L||!this.driver.containsElement(L,ks),Xa=qe.get(ks),Uf=de.get(ks),Ri=this._buildInstruction(dn,i,Uf,Xa,ju);if(Ri.errors&&Ri.errors.length)return void ln.push(Ri);if(ju)return sr.onStart(()=>Zr(ks,Ri.fromStyles)),sr.onDestroy(()=>Nr(ks,Ri.toStyles)),void a.push(sr);if(dn.isFallbackTransition)return sr.onStart(()=>Zr(ks,Ri.fromStyles)),sr.onDestroy(()=>Nr(ks,Ri.toStyles)),void a.push(sr);const fN=[];Ri.timelines.forEach(mo=>{mo.stretchStartingKeyframe=!0,this.disabledNodes.has(mo.element)||fN.push(mo)}),Ri.timelines=fN,i.append(ks,Ri.timelines),d.push({instruction:Ri,player:sr,element:ks}),Ri.queriedElements.forEach(mo=>dr(_,mo,[]).push(sr)),Ri.preStyleProps.forEach((mo,Wg)=>{if(mo.size){let Ll=v.get(Wg);Ll||v.set(Wg,Ll=new Set),mo.forEach((lD,ZP)=>Ll.add(ZP))}}),Ri.postStyleProps.forEach((mo,Wg)=>{let Ll=S.get(Wg);Ll||S.set(Wg,Ll=new Set),mo.forEach((lD,ZP)=>Ll.add(ZP))})});if(ln.length){const Ut=[];ln.forEach(rn=>{Ut.push(function Xd(r,e){return new h.wOt(3505,!1)}())}),sn.forEach(rn=>rn.destroy()),this.reportError(Ut)}const Dn=new Map,Rr=new Map;d.forEach(Ut=>{const rn=Ut.element;i.has(rn)&&(Rr.set(rn,rn),this._beforeAnimationBuild(Ut.player.namespaceId,Ut.instruction,Dn))}),a.forEach(Ut=>{const rn=Ut.element;this._getPreviousPlayers(rn,!1,Ut.namespaceId,Ut.triggerName,null).forEach(sr=>{dr(Dn,rn,[]).push(sr),sr.destroy()})});const qd=Se.filter(Ut=>aa(Ut,v,S)),Kd=new Map;oa(Kd,this.driver,ft,S,Pt).forEach(Ut=>{aa(Ut,v,S)&&qd.push(Ut)});const zg=new Map;ee.forEach((Ut,rn)=>{oa(zg,this.driver,new Set(Ut),v,"!")}),qd.forEach(Ut=>{const rn=Kd.get(Ut),dn=zg.get(Ut);Kd.set(Ut,new Map([...rn?.entries()??[],...dn?.entries()??[]]))});const YP=[],dN=[],hN={};d.forEach(Ut=>{const{element:rn,player:dn,instruction:sr}=Ut;if(i.has(rn)){if(O.has(rn))return dn.onDestroy(()=>Nr(rn,sr.toStyles)),dn.disabled=!0,dn.overrideTotalTime(sr.totalTime),void a.push(dn);let ks=hN;if(Rr.size>1){let Xa=rn;const Uf=[];for(;Xa=Xa.parentNode;){const Ri=Rr.get(Xa);if(Ri){ks=Ri;break}Uf.push(Xa)}Uf.forEach(Ri=>Rr.set(Ri,ks))}const ju=this._buildAnimation(dn.namespaceId,sr,Dn,c,zg,Kd);if(dn.setRealPlayer(ju),ks===hN)YP.push(dn);else{const Xa=this.playersByElement.get(ks);Xa&&Xa.length&&(dn.parentPlayer=wi(Xa)),a.push(dn)}}else Zr(rn,sr.fromStyles),dn.onDestroy(()=>Nr(rn,sr.toStyles)),dN.push(dn),O.has(rn)&&a.push(dn)}),dN.forEach(Ut=>{const rn=c.get(Ut.element);if(rn&&rn.length){const dn=wi(rn);Ut.setRealPlayer(dn)}}),a.forEach(Ut=>{Ut.parentPlayer?Ut.syncPlayerEvents(Ut.parentPlayer):Ut.destroy()});for(let Ut=0;Ut<Se.length;Ut++){const rn=Se[Ut],dn=rn[ji];if(Zi(rn,Qo),dn&&dn.hasAnimation)continue;let sr=[];if(_.size){let ju=_.get(rn);ju&&ju.length&&sr.push(...ju);let Xa=this.driver.query(rn,Zs,!0);for(let Uf=0;Uf<Xa.length;Uf++){let Ri=_.get(Xa[Uf]);Ri&&Ri.length&&sr.push(...Ri)}}const ks=sr.filter(ju=>!ju.destroyed);ks.length?Vc(this,rn,ks):this.processLeaveNode(rn)}return Se.length=0,YP.forEach(Ut=>{this.players.push(Ut),Ut.onDone(()=>{Ut.destroy();const rn=this.players.indexOf(Ut);this.players.splice(rn,1)}),Ut.play()}),YP}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,a,c){let d=[];if(t){const _=this.playersByQueriedElement.get(e);_&&(d=_)}else{const _=this.playersByElement.get(e);if(_){const v=!c||c==ia;_.forEach(S=>{S.queued||!v&&S.triggerName!=a||d.push(S)})}}return(i||a)&&(d=d.filter(_=>!(i&&i!=_.namespaceId||a&&a!=_.triggerName))),d}_beforeAnimationBuild(e,t,i){const c=t.element,d=t.isRemovalTransition?void 0:e,_=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const S=v.element,O=S!==c,L=dr(i,S,[]);this._getPreviousPlayers(S,O,d,_,t.toState).forEach(ee=>{const de=ee.getRealPlayer();de.beforeDestroy&&de.beforeDestroy(),ee.destroy(),L.push(ee)})}Zr(c,t.fromStyles)}_buildAnimation(e,t,i,a,c,d){const _=t.triggerName,v=t.element,S=[],O=new Set,L=new Set,X=t.timelines.map(de=>{const pe=de.element;O.add(pe);const Se=pe[ji];if(Se&&Se.removedBeforeQueried)return new Q(de.duration,de.delay);const rt=pe!==v,ft=function Uc(r){const e=[];return qu(r,e),e}((i.get(pe)||So).map(Dn=>Dn.getRealPlayer())).filter(Dn=>!!Dn.element&&Dn.element===pe),qe=c.get(pe),vt=d.get(pe),sn=Xs(this._normalizer,de.keyframes,qe,vt),ln=this._buildPlayer(de,sn,ft);if(de.subTimeline&&a&&L.add(pe),rt){const Dn=new ka(e,_,pe);Dn.setRealPlayer(ln),S.push(Dn)}return ln});S.forEach(de=>{dr(this.playersByQueriedElement,de.element,[]).push(de),de.onDone(()=>function ro(r,e,t){let i=r.get(e);if(i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&r.delete(e)}return i}(this.playersByQueriedElement,de.element,de))}),O.forEach(de=>wr(de,Vs));const ee=wi(X);return ee.onDestroy(()=>{O.forEach(de=>Zi(de,Vs)),Nr(v,t.toStyles)}),L.forEach(de=>{dr(a,de,[]).push(ee)}),ee}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Q(e.duration,e.delay)}}class ka{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Q,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(a=>Wo(e,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){dr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function io(r){return r&&1===r.nodeType}function al(r,e){const t=r.style.display;return r.style.display=e??"none",t}function oa(r,e,t,i,a){const c=[];t.forEach(v=>c.push(al(v)));const d=[];i.forEach((v,S)=>{const O=new Map;v.forEach(L=>{const X=e.computeStyle(S,L,a);O.set(L,X),(!X||0==X.length)&&(S[ji]=Kl,d.push(S))}),r.set(S,O)});let _=0;return t.forEach(v=>al(v,c[_++])),d}function Ro(r,e){const t=new Map;if(r.forEach(_=>t.set(_,[])),0==e.length)return t;const a=new Set(e),c=new Map;function d(_){if(!_)return 1;let v=c.get(_);if(v)return v;const S=_.parentNode;return v=t.has(S)?S:a.has(S)?1:d(S),c.set(_,v),v}return e.forEach(_=>{const v=d(_);1!==v&&t.get(v).push(_)}),t}function wr(r,e){r.classList?.add(e)}function Zi(r,e){r.classList?.remove(e)}function Vc(r,e,t){wi(t).onDone(()=>r.processLeaveNode(e))}function qu(r,e){for(let t=0;t<r.length;t++){const i=r[t];i instanceof U?qu(i.players,e):e.push(i)}}function aa(r,e,t){const i=t.get(r);if(!i)return!1;let a=e.get(r);return a?i.forEach(c=>a.add(c)):e.set(r,i),t.delete(r),!0}class Po{constructor(e,t,i,a){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(c,d)=>{},this._transitionEngine=new Xl(e.body,t,i,a),this._timelineEngine=new li(e.body,t,i),this._transitionEngine.onRemovalComplete=(c,d)=>this.onRemovalComplete(c,d)}registerTrigger(e,t,i,a,c){const d=e+"-"+a;let _=this._triggerCache[d];if(!_){const v=[],O=Es(this._driver,c,v,[]);if(v.length)throw function Sn(r,e){return new h.wOt(3404,!1)}();_=function xa(r,e,t){return new on(r,e,t)}(a,O,this._normalizer),this._triggerCache[d]=_}this._transitionEngine.registerTrigger(t,a,_)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,a){if("@"==i.charAt(0)){const[c,d]=qo(i);this._timelineEngine.command(c,t,d,a)}else this._transitionEngine.trigger(e,t,i,a)}listen(e,t,i,a,c){if("@"==i.charAt(0)){const[d,_]=qo(i);return this._timelineEngine.listen(d,t,_,c)}return this._transitionEngine.listen(e,t,i,a,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class ll{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let a=ll.initialStylesByElement.get(e);a||ll.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nr(this._element,this._initialStyles),this._endStyles&&(Nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ll.initialStylesByElement.delete(this._element),this._startStyles&&(Zr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zr(this._element,this._endStyles),this._endStyles=null),Nr(this._element,this._initialStyles),this._state=3)}}function La(r){let e=null;return r.forEach((t,i)=>{(function so(r){return"display"===r||"position"===r})(i)&&(e=e||new Map,e.set(i,t))}),e}class Bc{constructor(e,t,i,a){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{"offset"!==a&&e.set(a,this._finished?i:Bs(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class bs{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return un(e,t)}getParentElement(e){return Tt(e)}query(e,t,i){return Xi(e,t,i)}computeStyle(e,t,i){return Bs(e,t)}animate(e,t,i,a,c,d=[]){const v={duration:i,delay:a,fill:0==a?"both":"forwards"};c&&(v.easing=c);const S=new Map,O=d.filter(ee=>ee instanceof Bc);(function Us(r,e){return 0===r||0===e})(i,a)&&O.forEach(ee=>{ee.currentSnapshot.forEach((de,pe)=>S.set(pe,de))});let L=function Yt(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}(t).map(ee=>new Map(ee));L=function Rc(r,e,t){if(t.size&&e.length){let i=e[0],a=[];if(t.forEach((c,d)=>{i.has(d)||a.push(d),i.set(d,c)}),a.length)for(let c=1;c<e.length;c++){let d=e[c];a.forEach(_=>d.set(_,Bs(r,_)))}}return e}(e,L,S);const X=function Bf(r,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=La(e[0]),e.length>1&&(i=La(e[e.length-1]))):e instanceof Map&&(t=La(e)),t||i?new ll(r,t,i):null}(e,L);return new Bc(e,L,v,X)}}const P="@",k="@.disabled";class Z{constructor(e,t,i,a){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=a,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,a=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==P&&t==k?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ce extends Z{constructor(e,t,i,a,c){super(t,i,a,c),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==P?"."==t.charAt(1)&&t==k?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==P){const a=function je(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(e);let c=t.slice(1),d="";return c.charAt(0)!=P&&([c,d]=function bt(r){const e=r.indexOf(".");return[r.substring(0,e),r.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,a,c,d,_=>{this.factory.scheduleListenerCallback(_._data||-1,i,_)})}return this.delegate.listen(e,t,i)}}class ir{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(a,c)=>{const d=c?.parentNode(a);d&&c.removeChild(d,a)}}createRenderer(e,t){const a=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const S=this._rendererCache;let O=S.get(a);return O||(O=new Z("",a,this.engine,()=>S.delete(a)),S.set(a,O)),O}const c=t.id,d=t.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,d,e,S.name,S)};return t.data.animation.forEach(_),new Ce(this,d,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const a=this._animationCallbacksBuffer;0==a.length&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(c=>{const[d,_]=c;d(_)}),this._animationCallbacksBuffer=[]})}),a.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var dt=G(177);let Yn=(()=>{class r extends Po{constructor(t,i,a){super(t,i,a,(0,h.WQX)(h.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||r)(h.KVO(dt.qQ),h.KVO(Za),h.KVO(Ja))};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac})}return r})();const Bn=[{provide:Ja,useFactory:function mn(){return new bo}},{provide:Po,useClass:Yn},{provide:h._9s,useFactory:function fr(r,e,t){return new ir(r,e,t)},deps:[w.B7,Po,h.SKi]}],kr=[{provide:Za,useFactory:()=>new bs},{provide:h.bc$,useValue:"BrowserAnimations"},...Bn];var Gn=G(1413);const Kr=["*"];let qn=(()=>class r{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Mo=(()=>{class r{ripple=!1;inputStyle=(0,h.vPA)("outlined");overlayOptions={};csp=(0,h.vPA)({nonce:void 0});filterMatchModeOptions={text:[qn.STARTS_WITH,qn.CONTAINS,qn.NOT_CONTAINS,qn.ENDS_WITH,qn.EQUALS,qn.NOT_EQUALS],numeric:[qn.EQUALS,qn.NOT_EQUALS,qn.LESS_THAN,qn.LESS_THAN_OR_EQUAL_TO,qn.GREATER_THAN,qn.GREATER_THAN_OR_EQUAL_TO],date:[qn.DATE_IS,qn.DATE_IS_NOT,qn.DATE_BEFORE,qn.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Gn.B;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=h.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ul=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h.VBU({type:r,selectors:[["p-header"]],standalone:!0,features:[h.aNF],ngContentSelectors:Kr,decls:1,vars:0,template:function(i,a){1&i&&(h.NAR(),h.SdG(0))},encapsulation:2})}return r})(),Cs=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h.VBU({type:r,selectors:[["p-footer"]],standalone:!0,features:[h.aNF],ngContentSelectors:Kr,decls:1,vars:0,template:function(i,a){1&i&&(h.NAR(),h.SdG(0))},encapsulation:2})}return r})(),Hs=(()=>{class r{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||r)(h.rXU(h.C4Q))};static \u0275dir=h.FsC({type:r,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[h.Mj6.None,"pTemplate","name"]},standalone:!0})}return r})(),dl=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({})}return r})(),Oo=(()=>class r{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"})(),$e=(()=>{class r{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let a=i.trim().split(" ");for(let c=0;c<a.length;c++)t.classList.add(a[c])}else{let a=i.split(" ");for(let c=0;c<a.length;c++)t.className+=" "+a[c]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(a=>a.split(" ").forEach(c=>this.removeClass(t,c)))}static hasClass(t,i){return!(!t||!i)&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,a=0;for(var c=0;c<i.length;c++){if(i[c]==t)return a;1==i[c].nodeType&&a++}return-1}static indexWithinGroup(t,i){let a=t.parentNode?t.parentNode.childNodes:[],c=0;for(var d=0;d<a.length;d++){if(a[d]==t)return c;a[d].attributes&&a[d].attributes[i]&&1==a[d].nodeType&&c++}return-1}static appendOverlay(t,i,a="self"){"self"!==a&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,a="self",c=!0){t&&i&&(c&&(t.style.minWidth=`${r.getOuterWidth(i)}px`),"self"===a?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,a=!0){const c=ft=>{if(ft)return"relative"===getComputedStyle(ft).getPropertyValue("position")?ft:c(ft.parentElement)},d=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),_=i.offsetHeight??i.getBoundingClientRect().height,v=i.getBoundingClientRect(),S=this.getWindowScrollTop(),O=this.getWindowScrollLeft(),L=this.getViewport(),ee=c(t)?.getBoundingClientRect()||{top:-1*S,left:-1*O};let de,pe;v.top+_+d.height>L.height?(de=v.top-ee.top-d.height,t.style.transformOrigin="bottom",v.top+de<0&&(de=-1*v.top)):(de=_+v.top-ee.top,t.style.transformOrigin="top");const Se=v.left+d.width-L.width;pe=d.width>L.width?-1*(v.left-ee.left):Se>0?v.left-ee.left-Se:v.left-ee.left,t.style.top=de+"px",t.style.left=pe+"px",a&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,a=!0){const c=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),d=c.height,_=c.width,v=i.offsetHeight??i.getBoundingClientRect().height,S=i.offsetWidth??i.getBoundingClientRect().width,O=i.getBoundingClientRect(),L=this.getWindowScrollTop(),X=this.getWindowScrollLeft(),ee=this.getViewport();let de,pe;O.top+v+d>ee.height?(de=O.top+L-d,t.style.transformOrigin="bottom",de<0&&(de=L)):(de=v+O.top+L,t.style.transformOrigin="top"),pe=O.left+_>ee.width?Math.max(0,O.left+X+S-_):O.left+X,t.style.top=de+"px",t.style.left=pe+"px",a&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let a=this.getParents(t);const c=/(auto|scroll)/,d=_=>{let v=window.getComputedStyle(_,null);return c.test(v.getPropertyValue("overflow"))||c.test(v.getPropertyValue("overflowX"))||c.test(v.getPropertyValue("overflowY"))};for(let _ of a){let v=1===_.nodeType&&_.dataset.scrollselectors;if(v){let S=v.split(",");for(let O of S){let L=this.findSingle(_,O);L&&d(L)&&i.push(L)}}9!==_.nodeType&&d(_)&&i.push(_)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let a=getComputedStyle(t).getPropertyValue("borderTopWidth"),c=a?parseFloat(a):0,d=getComputedStyle(t).getPropertyValue("paddingTop"),_=d?parseFloat(d):0,v=t.getBoundingClientRect(),O=i.getBoundingClientRect().top+document.body.scrollTop-(v.top+document.body.scrollTop)-c-_,L=t.scrollTop,X=t.clientHeight,ee=this.getOuterHeight(i);O<0?t.scrollTop=L+O:O+ee>X&&(t.scrollTop=L+O-X+ee)}static fadeIn(t,i){t.style.opacity=0;let a=+new Date,c=0,d=function(){c=+t.style.opacity.replace(",",".")+((new Date).getTime()-a)/i,t.style.opacity=c,a=+new Date,+c<1&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}static fadeOut(t,i){var a=1,_=50/i;let v=setInterval(()=>{(a-=_)<=0&&(a=0,clearInterval(v)),t.style.opacity=a},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(d){return-1!==[].indexOf.call(document.querySelectorAll(d),this)}).call(t,i)}static getOuterWidth(t,i){let a=t.offsetWidth;if(i){let c=getComputedStyle(t);a+=parseFloat(c.marginLeft)+parseFloat(c.marginRight)}return a}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,a=getComputedStyle(t);return i+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),i}static width(t){let i=t.offsetWidth,a=getComputedStyle(t);return i-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,a=getComputedStyle(t);return i+=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),i}static getOuterHeight(t,i){let a=t.offsetHeight;if(i){let c=getComputedStyle(t);a+=parseFloat(c.marginTop)+parseFloat(c.marginBottom)}return a}static getHeight(t){let i=t.offsetHeight,a=getComputedStyle(t);return i-=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,a=getComputedStyle(t);return i-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth),i}static getViewport(){let t=window,i=document,a=i.documentElement,c=i.getElementsByTagName("body")[0];return{width:t.innerWidth||a.clientWidth||c.clientWidth,height:t.innerHeight||a.clientHeight||c.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let a=t.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let a=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=a,a}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,a){t[i].apply(t,a)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let a=this.find(t,this.getFocusableSelectorString(i)),c=[];for(let d of a){const _=getComputedStyle(d);this.isVisible(d)&&"none"!=_.display&&"hidden"!=_.visibility&&c.push(d)}return c}static getFocusableElement(t,i=""){let a=this.findSingle(t,this.getFocusableSelectorString(i));if(a){const c=getComputedStyle(a);if(this.isVisible(a)&&"none"!=c.display&&"hidden"!=c.visibility)return a}return null}static getFirstFocusableElement(t,i=""){const a=this.getFocusableElements(t,i);return a.length>0?a[0]:null}static getLastFocusableElement(t,i){const a=this.getFocusableElements(t,i);return a.length>0?a[a.length-1]:null}static getNextFocusableElement(t,i=!1){const a=r.getFocusableElements(t);let c=0;if(a&&a.length>0){const d=a.indexOf(a[0].ownerDocument.activeElement);i?c=-1==d||0===d?a.length-1:d-1:-1!=d&&d!==a.length-1&&(c=d+1)}return a[c]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const a=typeof t;if("string"===a)return document.querySelector(t);if("object"===a&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const d=(_=t)&&_.constructor&&_.call&&_.apply?t():t;return d&&9===d.nodeType||this.isExist(d)?d:null}var _}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){const a=t.getAttribute(i);return isNaN(a)?"true"===a||"false"===a?"true"===a:a:+a}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...a){if(t){const c=document.createElement(t);return this.setAttributes(c,i),c.append(...a),c}}static setAttribute(t,i="",a){this.isElement(t)&&null!=a&&t.setAttribute(i,a)}static setAttributes(t,i={}){if(this.isElement(t)){const a=(c,d)=>{const _=t?.$attrs?.[c]?[t?.$attrs?.[c]]:[];return[d].flat().reduce((v,S)=>{if(null!=S){const O=typeof S;if("string"===O||"number"===O)v.push(S);else if("object"===O){const L=Array.isArray(S)?a(c,S):Object.entries(S).map(([X,ee])=>"style"!==c||!ee&&0!==ee?ee?X:void 0:`${X.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${ee}`);v=L.length?v.concat(L.filter(X=>!!X)):v}}return v},_)};Object.entries(i).forEach(([c,d])=>{if(null!=d){const _=c.match(/^on(.+)/);_?t.addEventListener(_[1].toLowerCase(),d):"pBind"===c?this.setAttributes(t,d):(d="class"===c?[...new Set(a("class",d))].join(" ").trim():"style"===c?a("style",d).join(";").trim():d,(t.$attrs=t.$attrs||{})&&(t.$attrs[c]=d),t.setAttribute(c,d))}})}}static isFocusableElement(t,i=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`)}}return r})();class an{element;listener;scrollableParents;constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=$e.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class zs{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var c,d,_,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((d=e.length)!=t.length)return!1;for(c=d;0!=c--;)if(!this.equalsByValue(e[c],t[c]))return!1;return!0}if(i!=a)return!1;var v=this.isDate(e),S=this.isDate(t);if(v!=S)return!1;if(v&&S)return e.getTime()==t.getTime();var O=e instanceof RegExp,L=t instanceof RegExp;if(O!=L)return!1;if(O&&L)return e.toString()==t.toString();var X=Object.keys(e);if((d=X.length)!==Object.keys(t).length)return!1;for(c=d;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,X[c]))return!1;for(c=d;0!=c--;)if(!this.equalsByValue(e[_=X[c]],t[_]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),a=e;for(let c=0,d=i.length;c<d;++c){if(null==a)return null;a=a[i[c]]}return a}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,a){if(i.length>0){let c=!1;for(let d=0;d<i.length;d++)if(this.findIndexInList(i[d],a)>t){i.splice(d,0,e),c=!0;break}c||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let a=0;a<t.length;a++)if(t[a]==e){i=a;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,a=1){let c=-1;const d=this.isEmpty(e),_=this.isEmpty(t);return c=d&&_?0:d?a:_?-a:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,i,{numeric:!0}):e<t?-1:e>t?1:0,c}static sort(e,t,i=1,a,c=1){const d=zs.compare(e,t,a,i);let _=i;return(zs.isEmpty(e)||zs.isEmpty(t))&&(_=1===c?i:c),_*d}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var c,d,_,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((d=e.length)!=t.length)return!1;for(c=d;0!=c--;)if(!this.deepEquals(e[c],t[c]))return!1;return!0}if(i!=a)return!1;var v=e instanceof Date,S=t instanceof Date;if(v!=S)return!1;if(v&&S)return e.getTime()==t.getTime();var O=e instanceof RegExp,L=t instanceof RegExp;if(O!=L)return!1;if(O&&L)return e.toString()==t.toString();var X=Object.keys(e);if((d=X.length)!==Object.keys(t).length)return!1;for(c=d;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,X[c]))return!1;for(c=d;0!=c--;)if(!this.deepEquals(e[_=X[c]],t[_]))return!1;return!0}return e!=e&&t!=t}}var Ws=0;function Oi(r="pn_id_"){return`${r}${++Ws}`}var Lr=function Cr(){let r=[];const a=c=>c&&parseInt(c.style.zIndex,10)||0;return{get:a,set:(c,d,_)=>{d&&(d.style.zIndex=String(((c,d)=>{let _=r.length>0?r[r.length-1]:{key:c,value:d},v=_.value+(_.key===c?0:d)+2;return r.push({key:c,value:v}),v})(c,_)))},clear:c=>{c&&((c=>{r=r.filter(d=>d.value!==c)})(a(c)),c.style.zIndex="")},getCurrent:()=>r.length>0?r[r.length-1].value:0}}();const Fr=["*"];let Fa=(()=>{class r{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=zs.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h.VBU({type:r,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[h.Mj6.HasDecoratorInputTransform,"spin","spin",h.L39],styleClass:"styleClass"},standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:Fr,decls:1,vars:0,template:function(i,a){1&i&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})}return r})(),_i=(()=>{class r extends Fa{static \u0275fac=(()=>{let t;return function(a){return(t||(t=h.xGo(r)))(a||r)}})();static \u0275cmp=h.VBU({type:r,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,a){1&i&&(h.qSk(),h.j41(0,"svg",0),h.nrm(1,"path",1),h.k0s()),2&i&&(h.HbH(a.getClassNames()),h.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return r})(),Ni=(()=>{class r extends Fa{static \u0275fac=(()=>{let t;return function(a){return(t||(t=h.xGo(r)))(a||r)}})();static \u0275cmp=h.VBU({type:r,selectors:[["ChevronRightIcon"]],standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,a){1&i&&(h.qSk(),h.j41(0,"svg",0),h.nrm(1,"path",1),h.k0s()),2&i&&(h.HbH(a.getClassNames()),h.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return r})(),No=(()=>{class r extends Fa{static \u0275fac=(()=>{let t;return function(a){return(t||(t=h.xGo(r)))(a||r)}})();static \u0275cmp=h.VBU({type:r,selectors:[["TimesIcon"]],standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,a){1&i&&(h.qSk(),h.j41(0,"svg",0),h.nrm(1,"path",1),h.k0s()),2&i&&(h.HbH(a.getClassNames()),h.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return r})(),As=(()=>{class r{document;platformId;renderer;el;zone;config;constructor(t,i,a,c,d,_){this.document=t,this.platformId=i,this.renderer=a,this.el=c,this.zone=d,this.config=_}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,dt.UE)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if($e.removeClass(i,"p-ink-active"),!$e.getHeight(i)&&!$e.getWidth(i)){let _=Math.max($e.getOuterWidth(this.el.nativeElement),$e.getOuterHeight(this.el.nativeElement));i.style.height=_+"px",i.style.width=_+"px"}let a=$e.getOffset(this.el.nativeElement),c=t.pageX-a.left+this.document.body.scrollTop-$e.getWidth(i)/2,d=t.pageY-a.top+this.document.body.scrollLeft-$e.getHeight(i)/2;this.renderer.setStyle(i,"top",d+"px"),this.renderer.setStyle(i,"left",c+"px"),$e.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let _=this.getInk();_&&$e.removeClass(_,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if("string"==typeof t[i].className&&-1!==t[i].className.indexOf("p-ink"))return t[i];return null}resetInk(){let t=this.getInk();t&&$e.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),$e.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,$e.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||r)(h.rXU(dt.qQ),h.rXU(h.Agw),h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(Mo,8))};static \u0275dir=h.FsC({type:r,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return r})(),la=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({})}return r})(),Ji=(()=>{class r{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Oi()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,a,c,d,_){this.platformId=t,this.el=i,this.zone=a,this.config=c,this.renderer=d,this.viewContainer=_}ngAfterViewInit(){(0,dt.UE)(this.platformId)&&this.zone.runOutsideAngular(()=>{const t=this.getOption("tooltipEvent");if(("hover"===t||"both"===t)&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),"focus"===t||"both"===t){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){(this.isAutoHide()||!($e.hasClass(t.relatedTarget,"p-tooltip")||$e.hasClass(t.relatedTarget,"p-tooltip-text")||$e.hasClass(t.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?$e.appendChild(this.container,this.el.nativeElement):$e.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){this.getOption("tooltipLabel")&&!this.getOption("disabled")&&(this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),$e.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Lr.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Lr.clear(this.container),this.remove()}updateText(){const t=this.getOption("tooltipLabel");if(t instanceof h.C4Q){const i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(a=>this.tooltipText.appendChild(a))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+$e.getWindowScrollLeft(),top:t.top+$e.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");const t=this.activeElement,i=this.getHostOffset(),a=i.left+$e.getOuterWidth(t),c=i.top+($e.getOuterHeight(t)-$e.getOuterHeight(this.container))/2;this.container.style.left=a+this.getOption("positionLeft")+"px",this.container.style.top=c+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")&&$e.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-$e.getOuterWidth(this.container),a=t.top+($e.getOuterHeight(this.el.nativeElement)-$e.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+($e.getOuterWidth(this.el.nativeElement)-$e.getOuterWidth(this.container))/2,a=t.top-$e.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+($e.getOuterWidth(this.el.nativeElement)-$e.getOuterWidth(this.container))/2,a=t.top+$e.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return $e.hasClass(t,"p-inputwrapper")?$e.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,a=t.left,c=$e.getOuterWidth(this.container),d=$e.getOuterHeight(this.container),_=$e.getViewport();return a+c>_.width||a<0||i<0||i+d>_.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new an(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){const t=this.getOption("tooltipEvent");if(("hover"===t||"both"===t)&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),"focus"===t||"both"===t){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):$e.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Lr.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||r)(h.rXU(h.Agw),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(Mo),h.rXU(h.sFG),h.rXU(h.c1b))};static \u0275dir=h.FsC({type:r,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,a){1&i&&h.bIt("keydown.escape",function(d){return a.onPressEscape(d)},!1,h.EBC)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[h.Mj6.HasDecoratorInputTransform,"escape","escape",h.L39],showDelay:[h.Mj6.HasDecoratorInputTransform,"showDelay","showDelay",h.Udg],hideDelay:[h.Mj6.HasDecoratorInputTransform,"hideDelay","hideDelay",h.Udg],life:[h.Mj6.HasDecoratorInputTransform,"life","life",h.Udg],positionTop:[h.Mj6.HasDecoratorInputTransform,"positionTop","positionTop",h.Udg],positionLeft:[h.Mj6.HasDecoratorInputTransform,"positionLeft","positionLeft",h.Udg],autoHide:[h.Mj6.HasDecoratorInputTransform,"autoHide","autoHide",h.L39],fitContent:[h.Mj6.HasDecoratorInputTransform,"fitContent","fitContent",h.L39],hideOnEscape:[h.Mj6.HasDecoratorInputTransform,"hideOnEscape","hideOnEscape",h.L39],content:[h.Mj6.None,"pTooltip","content"],disabled:[h.Mj6.None,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[h.GFd,h.OA$]})}return r})(),jc=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[dt.MD]})}return r})();const ec=["*"];function tc(r,e){1&r&&h.eu8(0)}function Jd(r,e){if(1&r&&(h.qex(0),h.DNE(1,tc,1,0,"ng-container",3),h.bVm()),2&r){const t=h.XpG(2);h.R7$(),h.Y8G("ngTemplateOutlet",t.contentTemplate)}}function Qu(r,e){if(1&r&&(h.j41(0,"div",1),h.SdG(1),h.DNE(2,Jd,2,1,"ng-container",2),h.k0s()),2&r){const t=h.XpG();h.Y8G("hidden",!t.selected),h.BMQ("id",t.tabView.getTabContentId(t.id))("aria-hidden",!t.selected)("aria-labelledby",t.tabView.getTabHeaderActionId(t.id))("data-pc-name","tabpanel"),h.R7$(2),h.Y8G("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const $f=["content"],$c=["navbar"],Wy=["prevBtn"],Hf=["nextBtn"],Gg=["inkbar"],Gy=["elementToObserve"],qy=r=>({"p-tabview p-component":!0,"p-tabview-scrollable":r}),Y0=(r,e)=>({"p-highlight":r,"p-disabled":e});function qg(r,e){1&r&&h.nrm(0,"ChevronLeftIcon"),2&r&&h.BMQ("aria-hidden",!0)}function Ky(r,e){}function Qy(r,e){1&r&&h.DNE(0,Ky,0,0,"ng-template")}function Xy(r,e){if(1&r){const t=h.RV6();h.j41(0,"button",15,4),h.bIt("click",function(){h.eBV(t);const a=h.XpG();return h.Njj(a.navBackward())}),h.DNE(2,qg,1,1,"ChevronLeftIcon",16)(3,Qy,1,0,null,17),h.k0s()}if(2&r){const t=h.XpG();h.BMQ("tabindex",t.tabindex)("aria-label",t.prevButtonAriaLabel),h.R7$(2),h.Y8G("ngIf",!t.previousIconTemplate),h.R7$(),h.Y8G("ngTemplateOutlet",t.previousIconTemplate)}}function Yy(r,e){if(1&r&&h.nrm(0,"span",26),2&r){const t=h.XpG(3).$implicit;h.Y8G("ngClass",t.leftIcon)}}function zf(r,e){}function Hc(r,e){1&r&&h.DNE(0,zf,0,0,"ng-template")}function Wf(r,e){if(1&r&&(h.j41(0,"span",27),h.DNE(1,Hc,1,0,null,17),h.k0s()),2&r){const t=h.XpG(3).$implicit;h.R7$(),h.Y8G("ngTemplateOutlet",t.leftIconTemplate)}}function Zy(r,e){if(1&r&&h.nrm(0,"span",28),2&r){const t=h.XpG(3).$implicit;h.Y8G("ngClass",t.rightIcon)}}function Jy(r,e){}function Gf(r,e){1&r&&h.DNE(0,Jy,0,0,"ng-template")}function ev(r,e){if(1&r&&(h.j41(0,"span",29),h.DNE(1,Gf,1,0,null,17),h.k0s()),2&r){const t=h.XpG(3).$implicit;h.R7$(),h.Y8G("ngTemplateOutlet",t.rightIconTemplate)}}function Kg(r,e){if(1&r&&(h.qex(0),h.DNE(1,Yy,1,1,"span",21)(2,Wf,2,1,"span",22),h.j41(3,"span",23),h.EFF(4),h.k0s(),h.DNE(5,Zy,1,1,"span",24)(6,ev,2,1,"span",25),h.bVm()),2&r){const t=h.XpG(2).$implicit;h.R7$(),h.Y8G("ngIf",t.leftIcon&&!t.leftIconTemplate),h.R7$(),h.Y8G("ngIf",t.leftIconTemplate),h.R7$(2),h.JRh(t.header),h.R7$(),h.Y8G("ngIf",t.rightIcon&&!t.rightIconTemplate),h.R7$(),h.Y8G("ngIf",t.rightIconTemplate)}}function E(r,e){1&r&&h.eu8(0)}function D(r,e){if(1&r){const t=h.RV6();h.j41(0,"TimesIcon",32),h.bIt("click",function(a){h.eBV(t);const c=h.XpG(3).$implicit,d=h.XpG();return h.Njj(d.close(a,c))}),h.k0s()}2&r&&h.Y8G("styleClass","p-tabview-close")}function T(r,e){1&r&&h.nrm(0,"span",33)}function R(r,e){}function N(r,e){1&r&&h.DNE(0,R,0,0,"ng-template")}function H(r,e){if(1&r&&(h.qex(0),h.DNE(1,D,1,1,"TimesIcon",30)(2,T,1,0,"span",31)(3,N,1,0,null,17),h.bVm()),2&r){const t=h.XpG(2).$implicit;h.R7$(),h.Y8G("ngIf",!t.closeIconTemplate),h.R7$(),h.Y8G("ngIf",t.closeIconTemplate),h.R7$(),h.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function J(r,e){if(1&r){const t=h.RV6();h.j41(0,"li",19)(1,"a",20),h.bIt("click",function(a){h.eBV(t);const c=h.XpG().$implicit,d=h.XpG();return h.Njj(d.open(a,c))})("keydown",function(a){h.eBV(t);const c=h.XpG().$implicit,d=h.XpG();return h.Njj(d.onTabKeyDown(a,c))}),h.DNE(2,Kg,7,5,"ng-container",16)(3,E,1,0,"ng-container",17)(4,H,4,3,"ng-container",16),h.k0s()()}if(2&r){const t=h.XpG(),i=t.$implicit,a=t.index,c=h.XpG();h.HbH(i.headerStyleClass),h.Y8G("ngClass",h.l_i(19,Y0,i.selected,i.disabled))("ngStyle",i.headerStyle),h.BMQ("data-p-disabled",i.disabled),h.R7$(),h.Y8G("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),h.BMQ("id",c.getTabHeaderActionId(i.id))("aria-controls",c.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":c.tabindex)("aria-disabled",i.disabled)("data-pc-index",a)("data-pc-section","headeraction"),h.R7$(),h.Y8G("ngIf",!i.headerTemplate),h.R7$(),h.Y8G("ngTemplateOutlet",i.headerTemplate),h.R7$(),h.Y8G("ngIf",i.closable)}}function De(r,e){1&r&&h.DNE(0,J,5,22,"li",18),2&r&&h.Y8G("ngIf",!e.$implicit.closed)}function me(r,e){1&r&&h.nrm(0,"ChevronRightIcon"),2&r&&h.BMQ("aria-hidden",!0)}function mt(r,e){}function $t(r,e){1&r&&h.DNE(0,mt,0,0,"ng-template")}function _n(r,e){if(1&r){const t=h.RV6();h.j41(0,"button",34,5),h.bIt("click",function(){h.eBV(t);const a=h.XpG();return h.Njj(a.navForward())}),h.DNE(2,me,1,1,"ChevronRightIcon",16)(3,$t,1,0,null,17),h.k0s()}if(2&r){const t=h.XpG();h.BMQ("tabindex",t.tabindex)("aria-label",t.nextButtonAriaLabel),h.R7$(2),h.Y8G("ngIf",!t.nextIconTemplate),h.R7$(),h.Y8G("ngTemplateOutlet",t.nextIconTemplate)}}let pr=(()=>{class r{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(t){this._headerStyle=t,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(t){this._headerStyleClass=t,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(t){this._selected=t,this.loaded||this.cd.detectChanges(),t&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=t,this.tabView.cd.markForCheck()}get header(){return this._header}set header(t){this._header=t,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(t){this._leftIcon=t,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(t){this._rightIcon=t,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(t,i,a,c){this.el=i,this.viewContainer=a,this.cd=c,this.tabView=t,this.id=Oi()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"righticon":this.rightIconTemplate=t.template;break;case"lefticon":this.leftIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||r)(h.rXU((0,h.Rfq)(()=>Gs)),h.rXU(h.aKT),h.rXU(h.c1b),h.rXU(h.gRc))};static \u0275cmp=h.VBU({type:r,selectors:[["p-tabPanel"]],contentQueries:function(i,a,c){if(1&i&&h.wni(c,Hs,4),2&i){let d;h.mGM(d=h.lsd())&&(a.templates=d)}},hostAttrs:[1,"p-element"],inputs:{closable:[h.Mj6.HasDecoratorInputTransform,"closable","closable",h.L39],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[h.Mj6.HasDecoratorInputTransform,"cache","cache",h.L39],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[h.GFd],ngContentSelectors:ec,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,a){1&i&&(h.NAR(),h.DNE(0,Qu,3,6,"div",0)),2&i&&h.Y8G("ngIf",!a.closed)},dependencies:[dt.bT,dt.T3],encapsulation:2})}return r})(),Gs=(()=>{class r{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(t))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new h.bkB;onClose=new h.bkB;activeIndexChange=new h.bkB;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(t,i,a,c){this.platformId=t,this.el=i,this.cd=a,this.renderer=c}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(t=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(t=>{switch(t.getType()){case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template}})}callResizeObserver(){(0,dt.UE)(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=$e.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=$e.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){(0,dt.UE)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(t,i){switch(t.code){case"ArrowLeft":this.onTabArrowLeftKey(t);break;case"ArrowRight":this.onTabArrowRightKey(t);break;case"Home":case"PageUp":this.onTabHomeKey(t);break;case"End":case"PageDown":this.onTabEndKey(t);break;case"Enter":case"Space":this.open(t,i)}}onTabArrowLeftKey(t){const i=this.findPrevHeaderAction(t.target.parentElement),a=$e.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(t,i,a):this.onTabEndKey(t),t.preventDefault()}onTabArrowRightKey(t){const i=this.findNextHeaderAction(t.target.parentElement),a=$e.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(t,i,a):this.onTabHomeKey(t),t.preventDefault()}onTabHomeKey(t){const i=this.findFirstHeaderAction(),a=$e.getAttribute(i,"data-pc-index");this.changeFocusedTab(t,i,a),t.preventDefault()}onTabEndKey(t){const i=this.findLastHeaderAction(),a=$e.getAttribute(i,"data-pc-index");this.changeFocusedTab(t,i,a),t.preventDefault()}changeFocusedTab(t,i,a){i&&($e.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(t,this.tabs[a])}findNextHeaderAction(t,i=!1){const a=i?t:t.nextElementSibling;return a?$e.getAttribute(a,"data-p-disabled")||"inkbar"===$e.getAttribute(a,"data-pc-section")?this.findNextHeaderAction(a):$e.findSingle(a,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,i=!1){const a=i?t:t.previousElementSibling;return a?$e.getAttribute(a,"data-p-disabled")||"inkbar"===$e.getAttribute(a,"data-pc-section")?this.findPrevHeaderAction(a):$e.findSingle(a,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const t=this.navbar.nativeElement.lastElementChild,i="inkbar"===$e.getAttribute(t,"data-pc-section")?t.previousElementSibling:t;return this.findPrevHeaderAction(i,!0)}open(t,i){if(i.disabled)t&&t.preventDefault();else{if(!i.selected){let a=this.findSelectedTab();a&&(a.selected=!1),this.tabChanged=!0,i.selected=!0;let c=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(c),this.onChange.emit({originalEvent:t,index:c}),this.updateScrollBar(c)}t&&t.preventDefault()}}close(t,i){this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:t,index:this.findTabIndex(i)}))}closeTab(t){if(!t.disabled){if(t.selected){this.tabChanged=!0,t.selected=!1;for(let i=0;i<this.tabs.length;i++){let a=this.tabs[i];if(!a.closed&&!t.disabled){a.selected=!0;break}}}t.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null}findTabIndex(t){let i=-1;for(let a=0;a<this.tabs.length;a++)if(this.tabs[a]==t){i=a;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if((0,dt.UE)(this.platformId)&&this.navbar){const t=$e.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!t)return;this.inkbar.nativeElement.style.width=$e.getWidth(t)+"px",this.inkbar.nativeElement.style.left=$e.getOffset(t).left-$e.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(t){let i=this.navbar.nativeElement.children[t];i&&i.scrollIntoView({block:"nearest"})}updateButtonState(){const t=this.content.nativeElement,{scrollLeft:i,scrollWidth:a}=t,c=$e.getWidth(t);this.backwardIsDisabled=0===i,this.forwardIsDisabled=Math.round(i)===a-c}refreshButtonState(){this.container=$e.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=$e.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.markForCheck())}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,i)=>i?t+$e.getWidth(i):t,0)}navBackward(){const t=this.content.nativeElement,i=$e.getWidth(t)-this.getVisibleButtonWidths(),a=t.scrollLeft-i;t.scrollLeft=a<=0?0:a}navForward(){const t=this.content.nativeElement,i=$e.getWidth(t)-this.getVisibleButtonWidths(),a=t.scrollLeft+i,c=t.scrollWidth-i;t.scrollLeft=a>=c?c:a}static \u0275fac=function(i){return new(i||r)(h.rXU(h.Agw),h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(h.sFG))};static \u0275cmp=h.VBU({type:r,selectors:[["p-tabView"]],contentQueries:function(i,a,c){if(1&i&&(h.wni(c,pr,4),h.wni(c,Hs,4)),2&i){let d;h.mGM(d=h.lsd())&&(a.tabPanels=d),h.mGM(d=h.lsd())&&(a.templates=d)}},viewQuery:function(i,a){if(1&i&&(h.GBs($f,5),h.GBs($c,5),h.GBs(Wy,5),h.GBs(Hf,5),h.GBs(Gg,5),h.GBs(Gy,5)),2&i){let c;h.mGM(c=h.lsd())&&(a.content=c.first),h.mGM(c=h.lsd())&&(a.navbar=c.first),h.mGM(c=h.lsd())&&(a.prevBtn=c.first),h.mGM(c=h.lsd())&&(a.nextBtn=c.first),h.mGM(c=h.lsd())&&(a.inkbar=c.first),h.mGM(c=h.lsd())&&(a.elementToObserve=c.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[h.Mj6.HasDecoratorInputTransform,"controlClose","controlClose",h.L39],scrollable:[h.Mj6.HasDecoratorInputTransform,"scrollable","scrollable",h.L39],activeIndex:"activeIndex",selectOnFocus:[h.Mj6.HasDecoratorInputTransform,"selectOnFocus","selectOnFocus",h.L39],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[h.Mj6.HasDecoratorInputTransform,"autoHideButtons","autoHideButtons",h.L39],tabindex:[h.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",h.Udg]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[h.GFd],ngContentSelectors:ec,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(i,a){if(1&i){const c=h.RV6();h.NAR(),h.j41(0,"div",6)(1,"div",7,0),h.DNE(3,Xy,4,4,"button",8),h.j41(4,"div",9,1),h.bIt("scroll",function(_){return h.eBV(c),h.Njj(a.onScroll(_))}),h.j41(6,"ul",10,2),h.DNE(8,De,1,1,"ng-template",11),h.nrm(9,"li",12,3),h.k0s()(),h.DNE(11,_n,4,4,"button",13),h.k0s(),h.j41(12,"div",14),h.SdG(13),h.k0s()()}2&i&&(h.HbH(a.styleClass),h.Y8G("ngClass",h.eq3(11,qy,a.scrollable))("ngStyle",a.style),h.BMQ("data-pc-name","tabview"),h.R7$(3),h.Y8G("ngIf",a.scrollable&&!a.backwardIsDisabled&&a.autoHideButtons),h.R7$(),h.BMQ("data-pc-section","navcontent"),h.R7$(2),h.BMQ("data-pc-section","nav"),h.R7$(2),h.Y8G("ngForOf",a.tabs),h.R7$(),h.BMQ("data-pc-section","inkbar"),h.R7$(2),h.Y8G("ngIf",a.scrollable&&!a.forwardIsDisabled&&a.buttonVisible))},dependencies:()=>[dt.YU,dt.Sq,dt.bT,dt.T3,dt.B3,Ji,As,No,_i,Ni],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return r})(),ca=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[dt.MD,dl,jc,la,No,_i,Ni,dl]})}return r})(),zc=(()=>{class r{constructor(){this.activeTab=(0,h.vPA)("benvenuto")}ngAfterViewInit(){$(function(){$('[data-toggle="popover"]').popover()})}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-home"]],standalone:!0,features:[h.aNF],decls:39,vars:0,consts:[["id","picture"],[1,"card"],["header","Benvenuto"],[1,"text"],["id","popover","data-bs-container","body","data-toggle","popover","data-bs-placement","bottom","data-bs-content","Non sono attualmente previsti i posti di movimento, solo STAZIONI e FERMATE. Non sono considerate le linee dismesse. Sono considerate le linee non attive IN FASE DI RIPRISTINO",1,"btn"],["href","https://normativaesercizio.rfi.it/NormativaEsercizio/detail.xhtml?doctype=FCL&compartimento=PA","target","_blank",1,"btn","btn-about"],[1,"pi","pi-external-link"],["src","assets/lineesiciliane.png","alt","Mappa linee ferroviarie siciliane di RFI"],["header","Come funziona?"],["src","https://www.palermomania.it/public/news/image/images/metro.jpg","alt","Cartello passante ferroviario di Palermo"],["href","https://www.palermomania.it/","target","_blank",1,"btn","btn-about"],["header","Perch\xe9 SpotiRFI?"],[1,"mb-4"],["href","https://www.stagniweb.it/foto6.asp?File=orizzf&Inizio=68&Righe=10&InizioI=1&RigheI=150&Col=5&Titolo=0","target","_blank",1,"btn","btn-about"],["src","https://www.stagniweb.it/altro/orizzf/636gioi0.jpg","alt","Locomotiva E636.010 in transito a Gioiosa Marea(ME)"]],template:function(i,a){1&i&&(h.nrm(0,"div",0),h.j41(1,"div",1)(2,"p-tabView")(3,"p-tabPanel",2)(4,"article")(5,"section",3)(6,"h2"),h.EFF(7,"Benvenuto su SpotiRFI! \u{1f684}\u{1f3b5}"),h.k0s(),h.j41(8,"p"),h.EFF(9," SpotiRFI \xe8 un viaggio unico attraverso la musica e le linee ferroviarie della Sicilia. Ogni stazione ferroviaria sulla mappa \xe8 associata a una canzone che porta il suo nome"),h.j41(10,"span",4),h.EFF(11," * "),h.k0s(),h.EFF(12,", creando un'esperienza musicale che riflette il viaggio attraverso la nostra bellissima regione. "),h.k0s(),h.j41(13,"a",5),h.nrm(14,"span",6),h.k0s()(),h.j41(15,"section"),h.nrm(16,"img",7),h.k0s()()(),h.j41(17,"p-tabPanel",8)(18,"article")(19,"section"),h.nrm(20,"img",9),h.k0s(),h.j41(21,"section",3)(22,"h2"),h.EFF(23,"Come funziona? \u{1f9d0}"),h.k0s(),h.j41(24,"p"),h.EFF(25," Scegli una linea ferroviaria sulla mappa e inizia il tuo viaggio musicale. Ad ogni fermata, ti verr\xe0 presentata una canzone che porta il nome della stazione. Puoi ascoltare la canzone mentre leggi informazioni sulla stazione e sulla sua storia. "),h.k0s(),h.j41(26,"a",10),h.nrm(27,"span",6),h.k0s()()()(),h.j41(28,"p-tabPanel",11)(29,"article")(30,"section",3)(31,"h2"),h.EFF(32,"Perch\xe9 SpotiRFI? \u{1f914}"),h.k0s(),h.j41(33,"p",12),h.EFF(34," La musica e i viaggi sono due esperienze che possono portarci in luoghi che non abbiamo mai visitato. SpotiRFI combina queste due esperienze in un unico viaggio, permettendoti di esplorare la Sicilia attraverso le sue linee ferroviarie e la sua musica. "),h.k0s(),h.j41(35,"a",13),h.nrm(36,"span",6),h.k0s()(),h.j41(37,"section"),h.nrm(38,"img",14),h.k0s()()()()())},dependencies:[ca,Gs,pr],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";.card[_ngcontent-%COMP%]{background-color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav, [_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:inherit;color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav{border:none;display:flex;justify-content:center;margin:auto;padding:0}@media screen and (width < 460px){[_nghost-%COMP%]     .p-tabview .p-tabview-nav{justify-content:start}}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:none;background-color:inherit;text-decoration:none;color:inherit;font-family:Merienda,cursive}[_nghost-%COMP%]     .p-highlight{border-bottom:.1em #d62a42 solid;color:#d62a42}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link:hover{background-color:#d62a420a}ul[_ngcontent-%COMP%]{padding-left:0}#popover[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;padding:0 0 0 5px}article[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px;font-weight:500;width:90%;margin:2em auto 1em;display:flex;flex-flow:row wrap}h2[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:20px;font-weight:600}section[_ngcontent-%COMP%]{width:50%;text-align:justify}.text[_ngcontent-%COMP%]{padding:1em}section[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%}#picture[_ngcontent-%COMP%]{background-image:url(464Torrenova-min.58a22e042c69a55e.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}@media screen and (min-width: 768px) and (max-width: 1024px){article[_ngcontent-%COMP%]{width:95%}}@media screen and (min-width: 281px) and (max-width: 767px){article[_ngcontent-%COMP%]{width:95%;flex-flow:column wrap}section[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 280px){article[_ngcontent-%COMP%]{width:97%;flex-flow:column wrap}section[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{overflow:scroll}}']})}return r})(),Fn=(()=>{class r{constructor(){this.tratte=(0,h.vPA)([])}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();G(8407);var yn=G(1076),Ar=G(8041),Qg=G(1362);class es{constructor(){return Zt("auth")}}var _t,Ve=G(467),gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xo={},sh=sh||{},nn=gv||self;function ds(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function rc(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var pl="closure_uid_"+(1e9*Math.random()>>>0),ah=0;function lh(r,e,t){return r.call.apply(r.bind,arguments)}function ep(r,e,t){if(!r)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Di(r,e,t){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lh:ep).apply(null,arguments)}function ch(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),r.apply(this,i)}}function ei(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(i,a,c){for(var d=Array(arguments.length-2),_=2;_<arguments.length;_++)d[_-2]=arguments[_];return e.prototype[a].apply(i,d)}}function Ss(){this.s=this.s,this.o=this.o}Ss.prototype.s=!1,Ss.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function oh(r){Object.prototype.hasOwnProperty.call(r,pl)&&r[pl]||(r[pl]=++ah)}(this)},Ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ic=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function uh(r){const e=r.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=r[i];return t}return[]}function tp(r,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(ds(i)){const a=r.length||0,c=i.length||0;r.length=a+c;for(let d=0;d<c;d++)r[a+d]=i[d]}else r.push(i)}}function ts(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ts.prototype.h=function(){this.defaultPrevented=!0};var lT=function(){if(!nn.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{const t=()=>{};nn.addEventListener("test",t,e),nn.removeEventListener("test",t,e)}catch{}return r}();function dh(r){return/^[\s\xa0]*$/.test(r)}function Qc(){var r=nn.navigator;return r&&(r=r.userAgent)?r:""}function Rs(r){return-1!=Qc().indexOf(r)}function hh(r){return hh[" "](r),r}hh[" "]=function(){};var z,r,am=Rs("Opera"),Ua=Rs("Trident")||Rs("MSIE"),I=Rs("Edge"),p=I||Ua,g=Rs("Gecko")&&!(-1!=Qc().toLowerCase().indexOf("webkit")&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),b=-1!=Qc().toLowerCase().indexOf("webkit")&&!Rs("Edge");function x(){var r=nn.document;return r?r.documentMode:void 0}e:{var re="",ve=(r=Qc(),g?/rv:([^\);]+)(\)|;)/.exec(r):I?/Edge\/([\d\.]+)/.exec(r):Ua?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):b?/WebKit\/(\S+)/.exec(r):am?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(ve&&(re=ve?ve[1]:""),Ua){var Ge=x();if(null!=Ge&&Ge>parseFloat(re)){z=String(Ge);break e}}z=re}var An=nn.document&&Ua&&(x()||parseInt(z,10))||void 0;function Si(r,e){if(ts.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,i=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(g){e:{try{hh(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ba[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Si.$.h.call(this)}}ei(Si,ts);var Ba={2:"touch",3:"pen",4:"mouse"};Si.prototype.h=function(){Si.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var ja="closure_listenable_"+(1e6*Math.random()|0),np=0;function rp(r,e,t,i,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=a,this.key=++np,this.fa=this.ia=!1}function gl(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function fa(r,e,t){for(const i in r)e.call(t,r[i],i,r)}function fh(r){const e={};for(const t in r)e[t]=r[t];return e}const ph="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $a(r,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)r[t]=i[t];for(let c=0;c<ph.length;c++)t=ph[c],Object.prototype.hasOwnProperty.call(i,t)&&(r[t]=i[t])}}function pa(r){this.src=r,this.g={},this.h=0}function ci(r,e){var t=e.type;if(t in r.g){var c,i=r.g[t],a=ic(i,e);(c=0<=a)&&Array.prototype.splice.call(i,a,1),c&&(gl(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function ed(r,e,t,i){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return a}return-1}pa.prototype.add=function(r,e,t,i,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var d=ed(r,e,i,a);return-1<d?(e=r[d],t||(e.ia=!1)):((e=new rp(e,this.src,c,!!i,a)).ia=t,r.push(e)),e};var gh="closure_lm_"+(1e6*Math.random()|0),sp={};function cT(r,e,t,i,a){if(i&&i.once)return uT(r,e,t,i,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)cT(r,e[c],t,i,a);return null}return t=Ev(t),r&&r[ja]?r.O(e,t,rc(i)?!!i.capture:!!i,a):mv(r,e,t,!1,i,a)}function mv(r,e,t,i,a,c){if(!e)throw Error("Invalid event type");var d=rc(a)?!!a.capture:!!a,_=yv(r);if(_||(r[gh]=_=new pa(r)),(t=_.add(e,t,i,d,c)).proxy)return t;if(i=function lm(){const e=dT;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=i,i.src=r,i.listener=t,r.addEventListener)lT||(a=d),void 0===a&&(a=!1),r.addEventListener(e.toString(),i,a);else if(r.attachEvent)r.attachEvent(ap(e.toString()),i);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(i)}return t}function uT(r,e,t,i,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)uT(r,e[c],t,i,a);return null}return t=Ev(t),r&&r[ja]?r.P(e,t,rc(i)?!!i.capture:!!i,a):mv(r,e,t,!0,i,a)}function _v(r,e,t,i,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)_v(r,e[c],t,i,a);else i=rc(i)?!!i.capture:!!i,t=Ev(t),r&&r[ja]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=ed(c=r.g[e],t,i,a))&&(gl(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=yv(r))&&(e=r.g[e.toString()],r=-1,e&&(r=ed(e,t,i,a)),(t=-1<r?e[r]:null)&&op(t))}function op(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[ja])ci(e.i,r);else{var t=r.type,i=r.proxy;e.removeEventListener?e.removeEventListener(t,i,r.capture):e.detachEvent?e.detachEvent(ap(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=yv(e))?(ci(t,r),0==t.h&&(t.src=null,e[gh]=null)):gl(r)}}}function ap(r){return r in sp?sp[r]:sp[r]="on"+r}function dT(r,e){if(r.fa)r=!0;else{e=new Si(e,this);var t=r.listener,i=r.la||r.src;r.ia&&op(r),r=t.call(i,e)}return r}function yv(r){return(r=r[gh])instanceof pa?r:null}var vv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ev(r){return"function"==typeof r?r:(r[vv]||(r[vv]=function(e){return r.handleEvent(e)}),r[vv])}function $i(){Ss.call(this),this.i=new pa(this),this.S=this,this.J=null}function hs(r,e){var t,i=r.J;if(i)for(t=[];i;i=i.J)t.push(i);if(r=r.S,i=e.type||e,"string"==typeof e)e=new ts(e,r);else if(e instanceof ts)e.target=e.target||r;else{var a=e;$a(e=new ts(i,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];a=lp(d,i,!0,e)&&a}if(a=lp(d=e.g=r,i,!0,e)&&a,a=lp(d,i,!1,e)&&a,t)for(c=0;c<t.length;c++)a=lp(d=e.g=t[c],i,!1,e)&&a}function lp(r,e,t,i){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.fa&&d.capture==t){var _=d.listener,v=d.la||d.src;d.ia&&ci(r.i,d),a=!1!==_.call(v,i)&&a}}return a&&!i.defaultPrevented}ei($i,Ss),$i.prototype[ja]=!0,$i.prototype.removeEventListener=function(r,e,t,i){_v(this,r,e,t,i)},$i.prototype.N=function(){if($i.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],i=0;i<t.length;i++)gl(t[i]);delete r.g[e],r.h--}}this.J=null},$i.prototype.O=function(r,e,t,i){return this.i.add(String(r),e,!1,t,i)},$i.prototype.P=function(r,e,t,i){return this.i.add(String(r),e,!0,t,i)};var Iv=nn.JSON.stringify;function JP(){var r=Ha;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Tv=new class cD{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ko,r=>r.reset());class ko{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function eM(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function fT(r){nn.setTimeout(()=>{throw r},0)}let cm,td=!1,Ha=new class hT{constructor(){this.h=this.g=null}add(e,t){const i=Tv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},wv=()=>{const r=nn.Promise.resolve(void 0);cm=()=>{r.then(mh)}};var mh=()=>{for(var r;r=JP();){try{r.h.call(r.g)}catch(t){fT(t)}var e=Tv;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}td=!1};function um(r,e){$i.call(this),this.h=r||1,this.g=e||nn,this.j=Di(this.qb,this),this.l=Date.now()}function bv(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function dm(r,e,t){if("function"==typeof r)t&&(r=Di(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Di(r.handleEvent,r)}return 2147483647<Number(e)?-1:nn.setTimeout(r,e||0)}function uD(r){r.g=dm(()=>{r.g=null,r.i&&(r.i=!1,uD(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ei(um,$i),(_t=um.prototype).ga=!1,_t.T=null,_t.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),hs(this,"tick"),this.ga&&(bv(this),this.start()))}},_t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.N=function(){um.$.N.call(this),bv(this),delete this.g};class tM extends Ss{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uD(this)}N(){super.N(),this.g&&(nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hm(r){Ss.call(this),this.h=r,this.g={}}ei(hm,Ss);var dD=[];function hD(r,e,t,i){Array.isArray(t)||(t&&(dD[0]=t.toString()),t=dD);for(var a=0;a<t.length;a++){var c=cT(e,t[a],i||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function pT(r){fa(r.g,function(e,t){this.g.hasOwnProperty(t)&&op(e)},r),r.g={}}function sc(){this.g=!0}function _h(r,e,t,i){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ml(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var i=t[r];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<a.length;d++)a[d]=""}}}return Iv(t)}catch{return e}}(r,t)+(i?" "+i:"")})}hm.prototype.N=function(){hm.$.N.call(this),pT(this)},hm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sc.prototype.Ea=function(){this.g=!1},sc.prototype.info=function(){};var nd={},fm=null;function Xc(){return fm=fm||new $i}function mT(r){ts.call(this,nd.Ta,r)}function yh(r){const e=Xc();hs(e,new mT(e))}function Av(r,e){ts.call(this,nd.STAT_EVENT,r),this.stat=e}function ns(r){const e=Xc();hs(e,new Av(e,r))}function up(r,e){ts.call(this,nd.Ua,r),this.size=e}function rd(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return nn.setTimeout(function(){r()},e)}nd.Ta="serverreachability",ei(mT,ts),nd.STAT_EVENT="statevent",ei(Av,ts),nd.Ua="timingevent",ei(up,ts);var pm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_T={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dv(){}function yT(){}Dv.prototype.h=null;var gm,dp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ps(){ts.call(this,"d")}function hp(){ts.call(this,"c")}function vh(){}function xi(r,e,t,i){this.l=r,this.j=e,this.m=t,this.W=i||1,this.U=new hm(this),this.P=vT,this.V=new um(r=p?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Eh}function Eh(){this.i=null,this.g="",this.h=!1}ei(Ps,ts),ei(hp,ts),ei(vh,Dv),vh.prototype.g=function(){return new XMLHttpRequest},vh.prototype.i=function(){return{}},gm=new vh;var vT=45e3,Rv={},Pv={};function mm(r,e,t){r.L=1,r.A=xv(oc(e)),r.u=t,r.S=!0,ET(r,null)}function ET(r,e){r.G=Date.now(),fp(r),r.B=oc(r.A);var t=r.B,i=r.W;Array.isArray(i)||(i=[String(i)]),Tm(t.i,"t",i),r.o=0,t=r.l.J,r.h=new Eh,r.g=Kv(r.l,t?e:null,!r.u),0<r.O&&(r.M=new tM(Di(r.Pa,r,r.g),r.O)),hD(r.U,r.g,"readystatechange",r.nb),e=r.I?fh(r.I):{},r.u?(r.v||(r.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.B,r.v,r.u,e)):(r.v="GET",r.g.ha(r.B,r.v,null,e)),yh(),function cp(r,e,t,i,a,c){r.info(function(){if(r.g)if(c)for(var d="",_=c.split("&"),v=0;v<_.length;v++){var S=_[v].split("=");if(1<S.length){var O=S[0];S=S[1];var L=O.split("_");d=2<=L.length&&"type"==L[1]?d+(O+"=")+S+"&":d+(O+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+d})}(r.j,r.v,r.B,r.m,r.W,r.u)}function Mv(r){return!!r.g&&"GET"==r.v&&2!=r.L&&r.l.Ha}function IT(r,e,t){let a,i=!0;for(;!r.J&&r.o<t.length;){if(a=TT(r,t),a==Pv){4==e&&(r.s=4,ns(14),i=!1),_h(r.j,r.m,null,"[Incomplete Response]");break}if(a==Rv){r.s=4,ns(15),_h(r.j,r.m,t,"[Invalid Chunk]"),i=!1;break}_h(r.j,r.m,a,null),ym(r,a)}Mv(r)&&0!=r.o&&(r.h.g=r.h.g.slice(r.o),r.o=0),4!=e||0!=t.length||r.h.h||(r.s=1,ns(16),i=!1),r.i=r.i&&i,i?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Cp(e),e.M=!0,ns(11))):(_h(r.j,r.m,t,"[Invalid Chunked Response]"),Yc(r),pp(r))}function TT(r,e){var t=r.o,i=e.indexOf("\n",t);return-1==i?Pv:(t=Number(e.substring(t,i)),isNaN(t)?Rv:(i+=1)+t>e.length?Pv:(e=e.slice(i,i+t),r.o=i+t,e))}function fp(r){r.Y=Date.now()+r.P,wT(r,r.P)}function wT(r,e){if(null!=r.C)throw Error("WatchDog timer not null");r.C=rd(Di(r.lb,r),e)}function _m(r){r.C&&(nn.clearTimeout(r.C),r.C=null)}function pp(r){0==r.l.H||r.J||NT(r.l,r)}function Yc(r){_m(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,bv(r.V),pT(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function ym(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Th(t.i,r)))if(!r.K&&Th(t.i,r)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Sm(t),Am(t)}Dh(t),ns(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=rd(Di(t.ib,t),6e3));if(1>=ID(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else yl(t,11)}else if((r.K||t.g==r)&&Sm(t),!dh(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.V=S[0],S=S[1],2==t.H)if("c"==S[0]){t.K=S[1],t.pa=S[2];const O=S[3];null!=O&&(t.ra=O,t.l.info("VER="+t.ra));const L=S[4];null!=L&&(t.Ga=L,t.l.info("SVER="+t.Ga));const X=S[5];null!=X&&"number"==typeof X&&0<X&&(t.L=i=1.5*X,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ee=r.g;if(ee){const de=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var c=i.i;c.g||-1==de.indexOf("spdy")&&-1==de.indexOf("quic")&&-1==de.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Fv(c,c.h),c.h=null))}if(i.F){const pe=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;pe&&(i.Da=pe,$r(i.I,i.F,pe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=r;if((i=t).wa=qv(i,i.J?i.pa:null,i.Y),d.K){wm(i.i,d);var _=d,v=i.L;v&&_.setTimeout(v),_.C&&(_m(_),fp(_)),i.g=d}else Gv(i);0<t.j.length&&Ch(t)}else"stop"!=S[0]&&"close"!=S[0]||yl(t,7);else 3==t.H&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?yl(t,7):wp(t):"noop"!=S[0]&&t.h&&t.h.Aa(S),t.A=0)}yh()}catch{}}function Ov(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ds(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function vm(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ds(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const i in r)e[t++]=i;return e}}}(r),i=function bT(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ds(r)){for(var e=[],t=r.length,i=0;i<t;i++)e.push(r[i]);return e}for(i in e=[],t=0,r)e[t++]=r[i];return e}(r),a=i.length,c=0;c<a;c++)e.call(void 0,i[c],t&&t[c],r)}(_t=xi.prototype).setTimeout=function(r){this.P=r},_t.nb=function(r){r=r.target;const e=this.M;e&&3==ma(r)?e.l():this.Pa(r)},_t.Pa=function(r){try{if(r==this.g)e:{const O=ma(this.g);var e=this.g.Ia();if(this.g.da(),!(3>O)&&(3!=O||p||this.g&&(this.h.h||this.g.ja()||OT(this.g)))){this.J||4!=O||7==e||yh(),_m(this);var t=this.g.da();this.ca=t;t:if(Mv(this)){var i=OT(this.g);r="";var a=i.length,c=4==ma(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yc(this),pp(this);var d="";break t}this.h.i=new nn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(i[e],{stream:c&&e==a-1});i.length=0,this.h.g+=r,this.o=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function gT(r,e,t,i,a,c,d){r.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.v,this.B,this.m,this.W,O,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,v=this.g;if((_=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dh(_)){var S=_;break t}}S=null}if(!(t=S)){this.i=!1,this.s=3,ns(12),Yc(this),pp(this);break e}_h(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ym(this,t)}this.S?(IT(this,O,d),p&&this.i&&3==O&&(hD(this.U,this.V,"tick",this.mb),this.V.start())):(_h(this.j,this.m,d,null),ym(this,d)),4==O&&Yc(this),this.i&&!this.J&&(4==O?NT(this.l,this):(this.i=!1,fp(this)))}else(function nM(r){const e={};r=(r.g&&2<=ma(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<r.length;i++){if(dh(r[i]))continue;var t=eM(r[i]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function ip(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.s=3,ns(12)):(this.s=0,ns(13)),Yc(this),pp(this)}}}catch{}},_t.mb=function(){if(this.g){var r=ma(this.g),e=this.g.ja();this.o<e.length&&(_m(this),IT(this,r,e),this.i&&4!=r&&fp(this))}},_t.cancel=function(){this.J=!0,Yc(this)},_t.lb=function(){this.C=null;const r=Date.now();0<=r-this.Y?(function Cv(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(yh(),ns(17)),Yc(this),this.s=2,pp(this)):wT(this,this.Y-r)};var Nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Zc){this.h=r.h,Em(this,r.j),this.s=r.s,this.g=r.g,Im(this,r.m),this.l=r.l;var e=r.i,t=new ga;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),AT(this,t),this.o=r.o}else r&&(e=String(r).match(Nv))?(this.h=!1,Em(this,e[1]||"",!0),this.s=Ih(e[2]||""),this.g=Ih(e[3]||"",!0),Im(this,e[4]),this.l=Ih(e[5]||"",!0),AT(this,e[6]||"",!0),this.o=Ih(e[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}function oc(r){return new Zc(r)}function Em(r,e,t){r.j=t?Ih(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Im(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function AT(r,e,t){e instanceof ga?(r.i=e,function _D(r,e){e&&!r.j&&(ac(r),r.i=null,r.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(ST(this,i),Tm(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=gp(e,kv)),r.i=new ga(e,r.h))}function $r(r,e,t){r.i.set(e,t)}function xv(r){return $r(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Ih(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function gp(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,fD),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function fD(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Zc.prototype.toString=function(){var r=[],e=this.j;e&&r.push(gp(e,pD,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(gp(e,pD,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(gp(t,"/"==t.charAt(0)?DT:gD,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",gp(t,mD)),r.join("")};var pD=/[#\/\?@]/g,gD=/[#\?:]/g,DT=/[#\?]/g,kv=/[#\?@]/g,mD=/#/g;function ga(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ac(r){r.g||(r.g=new Map,r.h=0,r.i&&function CT(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var i=r[t].indexOf("="),a=null;if(0<=i){var c=r[t].substring(0,i);a=r[t].substring(i+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ST(r,e){ac(r),e=mp(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Lv(r,e){return ac(r),e=mp(r,e),r.g.has(e)}function Tm(r,e,t){ST(r,e),0<t.length&&(r.i=null,r.g.set(mp(r,e),uh(t)),r.h+=t.length)}function mp(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}(_t=ga.prototype).add=function(r,e){ac(this),this.i=null,r=mp(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},_t.forEach=function(r,e){ac(this),this.g.forEach(function(t,i){t.forEach(function(a){r.call(e,a,i,this)},this)},this)},_t.ta=function(){ac(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=r[i];for(let c=0;c<a.length;c++)t.push(e[i])}return t},_t.Z=function(r){ac(this);let e=[];if("string"==typeof r)Lv(this,r)&&(e=e.concat(this.g.get(mp(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},_t.set=function(r,e){return ac(this),this.i=null,Lv(this,r=mp(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},_t.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),d=this.Z(i);for(i=0;i<d.length;i++){var a=c;""!==d[i]&&(a+="="+encodeURIComponent(String(d[i]))),r.push(a)}}return this.i=r.join("&")};var yD=class{constructor(r,e){this.g=r,this.map=e}};function RT(r){this.l=r||vD,r=nn.PerformanceNavigationTiming?0<(r=nn.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(nn.g&&nn.g.Ka&&nn.g.Ka()&&nn.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vD=10;function ED(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ID(r){return r.h?1:r.g?r.g.size:0}function Th(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Fv(r,e){r.g?r.g.add(e):r.h=e}function wm(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function bm(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return uh(r.i)}RT.prototype.cancel=function(){if(this.i=bm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var wh=class{stringify(r){return nn.JSON.stringify(r,void 0)}parse(r){return nn.JSON.parse(r,void 0)}};function Vv(){this.g=new wh}function Uv(r,e,t){const i=t||"";try{Ov(r,function(a,c){let d=a;rc(a)&&(d=Iv(a)),e.push(i+c+"="+encodeURIComponent(d))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function id(r,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function _l(r){this.l=r.ec||null,this.j=r.ob||!1}function bh(r,e){$i.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=yp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ei(_l,Dv),_l.prototype.g=function(){return new bh(this.l,this.j)},_l.prototype.i=function(r){return function(){return r}}({}),ei(bh,$i);var yp=0;function vp(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Cm(r){r.readyState=4,r.l=null,r.j=null,r.A=null,sd(r)}function sd(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(_t=bh.prototype).open=function(r,e){if(this.readyState!=yp)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,sd(this)},_t.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||nn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cm(this)),this.readyState=yp},_t.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nn.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vp(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},_t.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Cm(this):sd(this),3==this.readyState&&vp(this)}},_t.Za=function(r){this.g&&(this.response=this.responseText=r,Cm(this))},_t.Ya=function(r){this.g&&(this.response=r,Cm(this))},_t.ka=function(){this.g&&Cm(this)},_t.setRequestHeader=function(r,e){this.v.append(r,e)},_t.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(bh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Ep=nn.JSON.parse;function yi(r){$i.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Bv,this.L=this.M=!1}ei(yi,$i);var Bv="",TD=/^https?$/i,wD=["POST","PUT"];function $v(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,PT(r),Jc(r)}function PT(r){r.F||(r.F=!0,hs(r,"complete"),hs(r,"error"))}function MT(r){if(r.h&&typeof sh<"u"&&(!r.C[1]||4!=ma(r)||2!=r.da()))if(r.v&&4==ma(r))dm(r.La,0,r);else if(hs(r,"readystatechange"),4==ma(r)){r.h=!1;try{const d=r.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var a=String(r.I).match(Nv)[1]||null;!a&&nn.self&&nn.self.location&&(a=nn.self.location.protocol.slice(0,-1)),i=!TD.test(a?a.toLowerCase():"")}t=i}if(t)hs(r,"complete"),hs(r,"success");else{r.m=6;try{var c=2<ma(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",PT(r)}}finally{Jc(r)}}}function Jc(r,e){if(r.g){Hv(r);const t=r.g,i=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||hs(r,"ready");try{t.onreadystatechange=i}catch{}}}function Hv(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(nn.clearTimeout(r.A),r.A=null)}function ma(r){return r.g?r.g.readyState:0}function OT(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Bv:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function bD(r){let e="";return fa(r,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function od(r,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=bD(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):$r(r,e,t))}function Ip(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Tp(r){this.Ga=0,this.j=[],this.l=new sc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ip("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ip("baseRetryDelayMs",5e3,r),this.hb=Ip("retryDelaySeedMs",1e4,r),this.eb=Ip("forwardChannelMaxRetries",2,r),this.xa=Ip("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new RT(r&&r.concurrentRequestLimit),this.Ja=new Vv,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wp(r){if(zv(r),3==r.H){var e=r.W++,t=oc(r.I);if($r(t,"SID",r.K),$r(t,"RID",e),$r(t,"TYPE","terminate"),Ah(r,t),(e=new xi(r,r.l,e)).L=2,e.A=xv(oc(t)),t=!1,nn.navigator&&nn.navigator.sendBeacon)try{t=nn.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&nn.Image&&((new Image).src=e.A,t=!0),t||(e.g=Kv(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fp(e)}Rm(r)}function Am(r){r.g&&(Cp(r),r.g.cancel(),r.g=null)}function zv(r){Am(r),r.u&&(nn.clearTimeout(r.u),r.u=null),Sm(r),r.i.cancel(),r.m&&("number"==typeof r.m&&nn.clearTimeout(r.m),r.m=null)}function Ch(r){if(!ED(r.i)&&!r.m){r.m=!0;var e=r.Na;cm||wv(),td||(cm(),td=!0),Ha.add(e,r),r.C=0}}function bp(r,e){var t;t=e?e.m:r.W++;const i=oc(r.I);$r(i,"SID",r.K),$r(i,"RID",t),$r(i,"AID",r.V),Ah(r,i),r.o&&r.s&&od(i,r.o,r.s),t=new xi(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Wv(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Fv(r.i,t),mm(t,i,e)}function Ah(r,e){r.na&&fa(r.na,function(t,i){$r(e,i,t)}),r.h&&Ov({},function(t,i){$r(e,i,t)})}function Wv(r,e,t){t=Math.min(r.j.length,t);var i=r.h?Di(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=a[0].g,d.push("ofs="+c)):c=0:d.push("ofs="+c);let _=!0;for(let v=0;v<t;v++){let S=a[v].g;const O=a[v].map;if(S-=c,0>S)c=Math.max(0,a[v].g-100),_=!1;else try{Uv(O,d,"req"+S+"_")}catch{i&&i(O)}}if(_){i=d.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,i}function Gv(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;cm||wv(),td||(cm(),td=!0),Ha.add(e,r),r.A=0}}function Dh(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=rd(Di(r.Ma,r),CD(r,r.A)),r.A++,0))}function Cp(r){null!=r.B&&(nn.clearTimeout(r.B),r.B=null)}function ad(r){r.g=new xi(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=oc(r.wa);$r(e,"RID","rpc"),$r(e,"SID",r.K),$r(e,"AID",r.V),$r(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&$r(e,"TO",r.qa),$r(e,"TYPE","xmlhttp"),Ah(r,e),r.o&&r.s&&od(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.A=xv(oc(e)),t.u=null,t.S=!0,ET(t,r)}function Sm(r){null!=r.v&&(nn.clearTimeout(r.v),r.v=null)}function NT(r,e){var t=null;if(r.g==e){Sm(r),Cp(r),r.g=null;var i=2}else{if(!Th(r.i,e))return;t=e.F,wm(r.i,e),i=1}if(0!=r.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var a=r.C;hs(i=Xc(),new up(i,t)),Ch(r)}else Gv(r);else if(3==(a=e.s)||0==a&&0<e.ca||!(1==i&&function Dm(r,e){return!(ID(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=rd(Di(r.Na,r,e),CD(r,r.C)),r.C++,0)))}(r,e)||2==i&&Dh(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:yl(r,5);break;case 4:yl(r,10);break;case 3:yl(r,6);break;default:yl(r,2)}}function CD(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function yl(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var i=Di(r.pb,r);t||(t=new Zc("//www.google.com/images/cleardot.gif"),nn.location&&"http"==nn.location.protocol||Em(t,"https"),xv(t)),function _p(r,e){const t=new sc;if(nn.Image){const i=new Image;i.onload=ch(id,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ch(id,t,i,"TestLoadImage: error",!1,e),i.onabort=ch(id,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ch(id,t,i,"TestLoadImage: timeout",!1,e),nn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=r}else e(!1)}(t.toString(),i)}else ns(2);r.H=0,r.h&&r.h.za(e),Rm(r),zv(r)}function Rm(r){if(r.H=0,r.ma=[],r.h){const e=bm(r.i);(0!=e.length||0!=r.j.length)&&(tp(r.ma,e),tp(r.ma,r.j),r.i.i.length=0,uh(r.j),r.j.length=0),r.h.ya()}}function qv(r,e,t){var i=t instanceof Zc?oc(t):new Zc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Im(i,i.m);else{var a=nn.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Zc(null);i&&Em(c,i),e&&(c.g=e),a&&Im(c,a),t&&(c.l=t),i=c}return e=r.Da,(t=r.F)&&e&&$r(i,t,e),$r(i,"VER",r.ra),Ah(r,i),i}function Kv(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yi(r.Ha&&!r.va?new _l({ob:t}):r.va)).Oa(r.J),e}function Qv(){}function vl(){if(Ua&&!(10<=Number(An)))throw Error("Environmental error: no available transport.")}function Lo(r,e){$i.call(this),this.g=new Tp(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!dh(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dh(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Sh(this)}function xT(r){Ps.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function kT(){hp.call(this),this.status=1}function Sh(r){this.g=r}function Hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eu(r,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)i[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)i[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],d=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+i[0]+3614090360&4294967295;d=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(d<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+i[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+i[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+i[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^c&(t^a))+i[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+i[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+i[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+i[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^a^c)+i[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+i[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+i[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+i[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(a^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+i[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+i[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+i[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((c=(e=t+((d=e+(a^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((a=c+((d=a+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+i[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(d<<21&4294967295|d>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function gr(r,e){this.h=e;for(var t=[],i=!0,a=r.length-1;0<=a;a--){var c=0|r[a];i&&c==e||(t[a]=c,i=!1)}this.g=t}(_t=yi.prototype).Oa=function(r){this.M=r},_t.ha=function(r,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gm.g(),this.C=function Sv(r){return r.h||(r.h=r.i())}(this.u?this.u:gm),this.g.onreadystatechange=Di(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void $v(this,c)}if(r=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=nn.FormData&&r instanceof nn.FormData,!(0<=ic(wD,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hv(this),0<this.B&&((this.L=function jv(r){return Ua&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.ua,this)):this.A=dm(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){$v(this,c)}},_t.ua=function(){typeof sh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hs(this,"timeout"),this.abort(8))},_t.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,hs(this,"complete"),hs(this,"abort"),Jc(this))},_t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jc(this,!0)),yi.$.N.call(this)},_t.La=function(){this.s||(this.G||this.v||this.l?MT(this):this.kb())},_t.kb=function(){MT(this)},_t.isActive=function(){return!!this.g},_t.da=function(){try{return 2<ma(this)?this.g.status:-1}catch{return-1}},_t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Ep(e)}},_t.Ia=function(){return this.m},_t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=Tp.prototype).ra=8,_t.H=1,_t.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new xi(this,this.l,r);let c=this.s;if(this.U&&(c?(c=fh(c),$a(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Wv(this,a,e),$r(t=oc(this.I),"RID",r),$r(t,"CVER",22),this.F&&$r(t,"X-HTTP-Session-Id",this.F),Ah(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(bD(c)))+"&"+e:this.o&&od(t,this.o,c)),Fv(this.i,a),this.bb&&$r(t,"TYPE","init"),this.P?($r(t,"$req",e),$r(t,"SID","null"),a.aa=!0,mm(a,t,null)):mm(a,t,e),this.H=2}}else 3==this.H&&(r?bp(this,r):0==this.j.length||ED(this.i)||bp(this))},_t.Ma=function(){if(this.u=null,ad(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=rd(Di(this.jb,this),r)}},_t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ns(10),Am(this),ad(this))},_t.ib=function(){null!=this.v&&(this.v=null,Am(this),Dh(this),ns(19))},_t.pb=function(r){r?(this.l.info("Successfully pinged google.com"),ns(2)):(this.l.info("Failed to ping google.com"),ns(1))},_t.isActive=function(){return!!this.h&&this.h.isActive(this)},(_t=Qv.prototype).Ba=function(){},_t.Aa=function(){},_t.za=function(){},_t.ya=function(){},_t.isActive=function(){return!0},_t.Va=function(){},vl.prototype.g=function(r,e){return new Lo(r,e)},ei(Lo,$i),Lo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;ns(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=qv(r,null,r.Y),Ch(r)},Lo.prototype.close=function(){wp(this.g)},Lo.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Iv(r),r=t);e.j.push(new yD(e.fb++,r)),3==e.H&&Ch(e)},Lo.prototype.N=function(){this.g.h=null,delete this.j,wp(this.g),delete this.g,Lo.$.N.call(this)},ei(xT,Ps),ei(kT,hp),ei(Sh,Qv),Sh.prototype.Ba=function(){hs(this.g,"a")},Sh.prototype.Aa=function(r){hs(this.g,new xT(r))},Sh.prototype.za=function(r){hs(this.g,new kT)},Sh.prototype.ya=function(){hs(this.g,"b")},ei(Hi,function AD(){this.blockSize=-1}),Hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hi.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,i=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)eu(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(i[a++]=r.charCodeAt(c++),a==this.blockSize){eu(this,i),a=0;break}}else for(;c<e;)if(i[a++]=r[c++],a==this.blockSize){eu(this,i),a=0;break}}this.h=a,this.i+=e},Hi.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)r[t++]=this.g[e]>>>i&255;return r};var DD={};function Xv(r){return-128<=r&&128>r?function Ju(r,e){var t=DD;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new gr([0|e],0>e?-1:0)}):new gr([0|r],0>r?-1:0)}function El(r){if(isNaN(r)||!isFinite(r))return ld;if(0>r)return ki(El(-r));for(var e=[],t=1,i=0;r>=t;i++)e[i]=r/t|0,t*=Yv;return new gr(e,0)}var Yv=4294967296,ld=Xv(0),Zv=Xv(1),FT=Xv(16777216);function lc(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function _a(r){return-1==r.h}function ki(r){for(var e=r.g.length,t=[],i=0;i<e;i++)t[i]=~r.g[i];return new gr(t,~r.h).add(Zv)}function ya(r,e){return r.add(ki(e))}function tu(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Rh(r,e){this.g=r,this.h=e}function Ap(r,e){if(lc(e))throw Error("division by zero");if(lc(r))return new Rh(ld,ld);if(_a(r))return e=Ap(ki(r),e),new Rh(ki(e.g),ki(e.h));if(_a(e))return e=Ap(r,ki(e)),new Rh(ki(e.g),e.h);if(30<r.g.length){if(_a(r)||_a(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Zv,i=e;0>=i.X(r);)t=Jv(t),i=Jv(i);var a=Dp(t,1),c=Dp(i,1);for(i=Dp(i,2),t=Dp(t,2);!lc(i);){var d=c.add(i);0>=d.X(r)&&(a=a.add(t),c=d),i=Dp(i,1),t=Dp(t,1)}return e=ya(r,a.R(e)),new Rh(a,e)}for(a=ld;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),d=(c=El(t)).R(e);_a(d)||0<d.X(r);)d=(c=El(t-=i)).R(e);lc(c)&&(c=Zv),a=a.add(c),r=ya(r,d)}return new Rh(a,r)}function Jv(r){for(var e=r.g.length+1,t=[],i=0;i<e;i++)t[i]=r.D(i)<<1|r.D(i-1)>>>31;return new gr(t,r.h)}function Dp(r,e){var t=e>>5;e%=32;for(var i=r.g.length-t,a=[],c=0;c<i;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new gr(a,r.h)}(_t=gr.prototype).ea=function(){if(_a(this))return-ki(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);r+=(0<=i?i:Yv+i)*e,e*=Yv}return r},_t.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(lc(this))return"0";if(_a(this))return"-"+ki(this).toString(r);for(var e=El(Math.pow(r,6)),t=this,i="";;){var a=Ap(t,e).g,c=((0<(t=ya(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(lc(t=a))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},_t.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},_t.X=function(r){return _a(r=ya(this,r))?-1:lc(r)?0:1},_t.abs=function(){return _a(this)?ki(this):this},_t.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0,a=0;a<=e;a++){var c=i+(65535&this.D(a))+(65535&r.D(a)),d=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);i=d>>>16,t[a]=(d&=65535)<<16|(c&=65535)}return new gr(t,-2147483648&t[t.length-1]?-1:0)},_t.R=function(r){if(lc(this)||lc(r))return ld;if(_a(this))return _a(r)?ki(this).R(ki(r)):ki(ki(this).R(r));if(_a(r))return ki(this.R(ki(r)));if(0>this.X(FT)&&0>r.X(FT))return El(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<r.g.length;a++){var c=this.D(i)>>>16,d=65535&this.D(i),_=r.D(a)>>>16,v=65535&r.D(a);t[2*i+2*a]+=d*v,tu(t,2*i+2*a),t[2*i+2*a+1]+=c*v,tu(t,2*i+2*a+1),t[2*i+2*a+1]+=d*_,tu(t,2*i+2*a+1),t[2*i+2*a+2]+=c*_,tu(t,2*i+2*a+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new gr(t,0)},_t.gb=function(r){return Ap(this,r).h},_t.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&r.D(i);return new gr(t,this.h&r.h)},_t.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|r.D(i);return new gr(t,this.h|r.h)},_t.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^r.D(i);return new gr(t,this.h^r.h)},vl.prototype.createWebChannel=vl.prototype.g,Lo.prototype.send=Lo.prototype.u,Lo.prototype.open=Lo.prototype.m,Lo.prototype.close=Lo.prototype.close,pm.NO_ERROR=0,pm.TIMEOUT=8,pm.HTTP_ERROR=6,_T.COMPLETE="complete",yT.EventType=dp,dp.OPEN="a",dp.CLOSE="b",dp.ERROR="c",dp.MESSAGE="d",$i.prototype.listen=$i.prototype.O,yi.prototype.listenOnce=yi.prototype.P,yi.prototype.getLastError=yi.prototype.Sa,yi.prototype.getLastErrorCode=yi.prototype.Ia,yi.prototype.getStatus=yi.prototype.da,yi.prototype.getResponseJson=yi.prototype.Wa,yi.prototype.getResponseText=yi.prototype.ja,yi.prototype.send=yi.prototype.ha,yi.prototype.setWithCredentials=yi.prototype.Oa,Hi.prototype.digest=Hi.prototype.l,Hi.prototype.reset=Hi.prototype.reset,Hi.prototype.update=Hi.prototype.j,gr.prototype.add=gr.prototype.add,gr.prototype.multiply=gr.prototype.R,gr.prototype.modulo=gr.prototype.gb,gr.prototype.compare=gr.prototype.X,gr.prototype.toNumber=gr.prototype.ea,gr.prototype.toString=gr.prototype.toString,gr.prototype.getBits=gr.prototype.D,gr.fromNumber=El,gr.fromString=function LT(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ki(LT(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=El(Math.pow(e,8)),i=ld,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),d=parseInt(r.substring(a,a+c),e);8>c?(c=El(Math.pow(e,c)),i=i.R(c).add(El(d))):i=(i=i.R(t)).add(El(d))}return i};var rM=xo.createWebChannelTransport=function(){return new vl},iM=xo.getStatEventTarget=function(){return Xc()},Sp=xo.ErrorCode=pm,eE=xo.EventType=_T,sM=xo.Event=nd,SD=xo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},VT=xo.FetchXmlHttpFactory=_l,Pm=xo.WebChannel=yT,RD=xo.XhrIo=yi,PD=xo.Md5=Hi,Ph=xo.Integer=gr;const UT="@firebase/firestore";class zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let cd="10.11.1";const nu=new Ar.Vy("@firebase/firestore");function Mh(){return nu.logLevel}function Ye(r,...e){if(nu.logLevel<=Ar.$b.DEBUG){const t=e.map(tE);nu.debug(`Firestore (${cd}): ${r}`,...t)}}function vi(r,...e){if(nu.logLevel<=Ar.$b.ERROR){const t=e.map(tE);nu.error(`Firestore (${cd}): ${r}`,...t)}}function Ms(r,...e){if(nu.logLevel<=Ar.$b.WARN){const t=e.map(tE);nu.warn(`Firestore (${cd}): ${r}`,...t)}}function tE(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function At(r="Unexpected state"){const e=`FIRESTORE (${cd}) INTERNAL ASSERTION FAILED: `+r;throw vi(e),new Error(e)}function Ft(r,e){r||At()}function gt(r,e){return r}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends yn.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class jT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oM{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const c=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let d=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Wi,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const S=d;e.enqueueRetryable((0,Ve.A)(function*(){yield S.promise,yield c(i.currentUser)}))},v=S=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(S=>v(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?v(S):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Wi)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new nE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new zi(e)}}class aM{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rp{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new aM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ND{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=c=>{null!=c.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,Ye("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.R=t.token,new $T(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function HT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class zT{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=HT(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return i}}function fn(r,e){return r<e?-1:r>e?1:0}function Oh(r,e,t){return r.length===e.length&&r.every((i,a)=>t(i,e[a]))}function WT(r){return r+"\0"}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ti(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new ti(0,0))}static max(){return new Bt(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ud{constructor(e,t,i){void 0===t?t=0:t>e.length&&At(),void 0===i?i=e.length-t:i>e.length-t&&At(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ud.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ud?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=e.get(a),d=t.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends ud{construct(e,t,i){return new Hn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Qe(Re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const cM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ur extends ud{construct(e,t,i){return new Ur(e,t,i)}static isValidIdentifier(e){return cM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ur(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(0===i.length)throw new Qe(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Qe(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Qe(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,a+=2}else"`"===_?(d=!d,a++):"."!==_||d?(i+=_,a++):(c(),a++)}if(c(),d)throw new Qe(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ur(t)}static emptyPath(){return new Ur([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Hn.fromString(e))}static fromName(e){return new yt(Hn.fromString(e).popFirst(5))}static empty(){return new yt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Hn(e.slice()))}}class Pp{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function GT(r){return r.fields.find(e=>2===e.kind)}function Nh(r){return r.fields.filter(e=>2!==e.kind)}Pp.UNKNOWN_ID=-1;class dd{constructor(e,t){this.fieldPath=e,this.kind=t}}class cc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cc(0,lo.min())}}function Om(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Bt.fromTimestamp(1e9===i?new ti(t+1,0):new ti(t,i));return new lo(a,yt.empty(),e)}function rE(r){return new lo(r.readTime,r.key,-1)}class lo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new lo(Bt.min(),yt.empty(),-1)}static max(){return new lo(Bt.max(),yt.empty(),-1)}}function iE(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=yt.comparator(r.documentKey,e.documentKey),0!==t?t:fn(r.largestBatchId,e.largestBatchId))}const sE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fo(r){return qs.apply(this,arguments)}function qs(){return qs=(0,Ve.A)(function*(r){if(r.code!==Re.FAILED_PRECONDITION||r.message!==sE)throw r;Ye("LocalStore","Unexpectedly lost primary lease")}),qs.apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,c=0,d=!1;e.forEach(_=>{++a,_.next(()=>{++c,d&&c===a&&t()},v=>i(v))}),d=!0,c===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const c=e.length,d=new Array(c);let _=0;for(let v=0;v<c;v++){const S=v;t(e[S]).next(O=>{d[S]=O,++_,_===c&&i(d)},O=>a(O))}})}static doWhile(e,t){return new fe((i,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):i()};c()})}}class Mp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Nm(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const a=Np(i.target.error);this.V.reject(new Nm(e,a))}}static open(e,t,i,a){try{return new Mp(t,e.transaction(a,i))}catch(c){throw new Nm(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KT(t)}}class uc{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===uc.S((0,yn.ZQ)())&&vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ye("SimpleDb","Removing database:",e),xh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,yn.zW)())return!1;if(uc.C())return!0;const e=(0,yn.ZQ)(),t=uc.S(e),i=0<t&&t<10,a=qT(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,Ve.A)(function*(){return t.db||(Ye("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{i(d.target.result)},c.onblocked=()=>{a(new Nm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const _=d.target.error;a("VersionError"===_.name?new Qe(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Qe(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Nm(e,_))},c.onupgradeneeded=d=>{Ye("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.p.O(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{Ye("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var c=this;return(0,Ve.A)(function*(){const d="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.M(e);const v=Mp.open(c.db,e,d?"readonly":"readwrite",i),S=a(v).next(O=>(v.g(),O)).catch(O=>(v.abort(O),fe.reject(O))).toPromise();return S.catch(()=>{}),yield v.m,S}catch(v){const S=v,O="FirebaseError"!==S.name&&_<3;if(Ye("SimpleDb","Transaction failed with error:",S.message,"Retrying:",O),c.close(),!O)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function qT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class dM{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return xh(this.B.delete())}}class Nm extends Qe{constructor(e,t){super(Re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function dc(r){return"IndexedDbTransactionError"===r.name}class KT{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ye("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),xh(i)}add(e){return Ye("SimpleDb","ADD",this.store.name,e,e),xh(this.store.add(e))}get(e){return xh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ye("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ye("SimpleDb","DELETE",this.store.name,e),xh(this.store.delete(e))}count(){return Ye("SimpleDb","COUNT",this.store.name),xh(this.store.count())}U(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if("function"==typeof a.getAll){const c=a.getAll(i.range);return new fe((d,_)=>{c.onerror=v=>{_(v.target.error)},c.onsuccess=v=>{d(v.target.result)}})}{const c=this.cursor(i),d=[];return this.W(c,(_,v)=>{d.push(v)}).next(()=>d)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new fe((a,c)=>{i.onerror=d=>{c(d.target.error)},i.onsuccess=d=>{a(d.target.result)}})}j(e,t){Ye("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const a=this.cursor(i);return this.W(a,(c,d,_)=>_.delete())}J(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.W(a,t)}Y(e){const t=this.cursor({});return new fe((i,a)=>{t.onerror=c=>{const d=Np(c.target.error);a(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(_=>{_?d.continue():i()}):i()}})}W(e,t){const i=[];return new fe((a,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const _=d.target.result;if(!_)return void a();const v=new dM(_),S=t(_.primaryKey,_.value,v);if(S instanceof fe){const O=S.catch(L=>(v.done(),fe.reject(L)));i.push(O)}v.isDone?a():null===v.K?_.continue():_.continue(v.K)}}).next(()=>fe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xh(r){return new fe((e,t)=>{r.onsuccess=i=>{e(i.target.result)},r.onerror=i=>{const a=Np(i.target.error);t(a)}})}let Op=!1;function Np(r){const e=uc.S((0,yn.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new Qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Op||(Op=!0,setTimeout(()=>{throw i},0)),i}}return r}class aE{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Ye("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ve.A)(function*(){t.task=null;try{Ye("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){dc(i)?Ye("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Fo(i)}yield t.X(6e4)}))}}class xD{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,Ve.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))})()}te(e,t){const i=new Set;let a=t,c=!0;return fe.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!i.has(d))return Ye("IndexBackfiller",`Processing collection: ${d}`),this.ne(e,d,a).next(_=>{a-=_,i.add(d)});c=!1})).next(()=>t-a)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.re(a,c)).next(_=>(Ye("IndexBackfiller",`Updating offset: ${_}`),this.localStore.indexManager.updateCollectionGroup(e,t,_))).next(()=>d.size)}))}re(e,t){let i=e;return t.changes.forEach((a,c)=>{const d=rE(c);iE(d,i)>0&&(i=d)}),new lo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let rs=(()=>{class r{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return r.oe=-1,r})();function hd(r){return null==r}function kh(r){return 0===r&&1/r==-1/0}function xm(r){return"number"==typeof r&&Number.isInteger(r)&&!kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Gi(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=QT(e)),e=kD(r.get(t),e);return QT(e)}function kD(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const c=r.charAt(a);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function QT(r){return r+"\x01\x01"}function za(r){const e=r.length;if(Ft(e>=2),2===e)return Ft("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Hn.emptyPath();const t=e-2,i=[];let a="";for(let c=0;c<e;){const d=r.indexOf("\x01",c);switch((d<0||d>t)&&At(),r.charAt(d+1)){case"\x01":const _=r.substring(c,d);let v;0===a.length?v=_:(a+=_,v=a,a=""),i.push(v);break;case"\x10":a+=r.substring(c,d),a+="\0";break;case"\x11":a+=r.substring(c,d+1);break;default:At()}c=d+2}return new Hn(i)}const XT=["userId","batchId"];function km(r,e){return[r,Gi(e)]}function YT(r,e,t){return[r,Gi(e),t]}const ZT={},xp=["prefixPath","collectionGroup","readTime","documentId"],Lm=["prefixPath","collectionGroup","documentId"],lE=["collectionGroup","readTime","prefixPath","documentId"],LD=["canonicalId","targetId"],FD=["targetId","path"],cE=["path","targetId"],JT=["collectionId","parent"],fd=["indexId","uid"],ew=["uid","sequenceNumber"],tw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VD=["indexId","uid","orderedDocumentKey"],hM=["userId","collectionPath","documentId"],Fm=["userId","collectionPath","largestBatchId"],UD=["userId","collectionGroup","largestBatchId"],uE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nw=[...uE,"documentOverlays"],dE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vm=dE,hE=[...Vm,"indexConfiguration","indexState","indexEntries"],Um=hE;class pd extends oE{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function qi(r,e){const t=gt(r);return uc.F(t._e,e)}function Bm(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function va(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function fE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Dr{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??fs.RED,this.left=a??fs.EMPTY,this.right=c??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new fs(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return fs.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(e,t,i,a,c){return this}insert(e,t,i){return new fs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mr{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rw(this.data.getIterator())}getIteratorFrom(e){return new rw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mr(this.comparator);return t.data=e,t}}class rw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lh(r){return r.hasNext()?r.getNext():void 0}class co{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new co([])}unionWith(e){let t=new mr(Ur.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(r){if(Ft(!!r),"string"==typeof r){let e=0;const t=sw.exec(r);if(Ft(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Br(r.seconds),nanos:Br(r.nanos)}}function Br(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function hc(r){return"string"==typeof r?Lt.fromBase64String(r):Lt.fromUint8Array(r)}function kp(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jm(r){const e=r.mapValue.fields.__previous_value__;return kp(e)?jm(e):e}function ru(r){const e=Il(r.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class Fh{constructor(e,t,i,a,c,d,_,v,S){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=S}}class Tl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}const Ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lp={nullValue:"NULL_VALUE"};function wl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kp(r)?4:lw(r)?9007199254740991:10:At()}function Ia(r,e){if(r===e)return!0;const t=wl(r);if(t!==wl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=Il(a.timestampValue),_=Il(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,hc(r.bytesValue).isEqual(hc(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,c){return Br(a.geoPointValue.latitude)===Br(c.geoPointValue.latitude)&&Br(a.geoPointValue.longitude)===Br(c.geoPointValue.longitude)}(r,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Br(a.integerValue)===Br(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=Br(a.doubleValue),_=Br(c.doubleValue);return d===_?kh(d)===kh(_):isNaN(d)&&isNaN(_)}return!1}(r,e);case 9:return Oh(r.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:return function(a,c){const d=a.mapValue.fields||{},_=c.mapValue.fields||{};if(Bm(d)!==Bm(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(void 0===_[v]||!Ia(d[v],_[v])))return!1;return!0}(r,e);default:return At()}var c}function md(r,e){return void 0!==(r.values||[]).find(t=>Ia(t,e))}function fc(r,e){if(r===e)return 0;const t=wl(r),i=wl(e);if(t!==i)return fn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return fn(r.booleanValue,e.booleanValue);case 2:return function(c,d){const _=Br(c.integerValue||c.doubleValue),v=Br(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1}(r,e);case 3:return $m(r.timestampValue,e.timestampValue);case 4:return $m(ru(r),ru(e));case 5:return fn(r.stringValue,e.stringValue);case 6:return function(c,d){const _=hc(c),v=hc(d);return _.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const _=c.split("/"),v=d.split("/");for(let S=0;S<_.length&&S<v.length;S++){const O=fn(_[S],v[S]);if(0!==O)return O}return fn(_.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const _=fn(Br(c.latitude),Br(d.latitude));return 0!==_?_:fn(Br(c.longitude),Br(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,d){const _=c.values||[],v=d.values||[];for(let S=0;S<_.length&&S<v.length;++S){const O=fc(_[S],v[S]);if(O)return O}return fn(_.length,v.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,d){if(c===Ea.mapValue&&d===Ea.mapValue)return 0;if(c===Ea.mapValue)return 1;if(d===Ea.mapValue)return-1;const _=c.fields||{},v=Object.keys(_),S=d.fields||{},O=Object.keys(S);v.sort(),O.sort();for(let L=0;L<v.length&&L<O.length;++L){const X=fn(v[L],O[L]);if(0!==X)return X;const ee=fc(_[v[L]],S[O[L]]);if(0!==ee)return ee}return fn(v.length,O.length)}(r.mapValue,e.mapValue);default:throw At()}}function $m(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return fn(r,e);const t=Il(r),i=Il(e),a=fn(t.seconds,i.seconds);return 0!==a?a:fn(t.nanos,i.nanos)}function Vh(r){return gE(r)}function gE(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Il(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?hc(r.bytesValue).toBase64():"referenceValue"in r?yt.fromName(r.referenceValue).toString():"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",a=!0;for(const c of t.values||[])a?a=!1:i+=",",i+=gE(c);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const d of i)c?c=!1:a+=",",a+=`${d}:${gE(t.fields[d])}`;return a+"}"}(r.mapValue):At()}function iu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function mE(r){return!!r&&"integerValue"in r}function Fp(r){return!!r&&"arrayValue"in r}function ow(r){return!!r&&"nullValue"in r}function aw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vp(r){return!!r&&"mapValue"in r}function Uh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return va(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Uh(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uh(r.arrayValue.values[t]);return e}return Object.assign({},r)}function lw(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function BD(r){return"nullValue"in r?Lp:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?iu(Tl.empty(),yt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:At()}function uo(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?iu(Tl.empty(),yt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Ea:At()}function cw(r,e){const t=fc(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function uw(r,e){const t=fc(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Os{constructor(e){this.value=e}static empty(){return new Os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uh(t)}setAll(e){let t=Ur.emptyPath(),i={},a=[];e.forEach((d,_)=>{if(!t.isImmediateParentOf(_)){const v=this.getFieldsMap(t);this.applyChanges(v,i,a),i={},a=[],t=_.popLast()}d?i[_.lastSegment()]=Uh(d):a.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());Vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Vp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){va(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new Os(Uh(this.value))}}function zm(r){const e=[];return va(r.fields,(t,i)=>{const a=new Ur([t]);if(Vp(i)){const c=zm(i.mapValue).fields;if(0===c.length)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new co(e)}class Hr{constructor(e,t,i,a,c,d,_){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Hr(e,0,Bt.min(),Bt.min(),Bt.min(),Os.empty(),0)}static newFoundDocument(e,t,i,a){return new Hr(e,1,t,Bt.min(),i,a,0)}static newNoDocument(e,t){return new Hr(e,2,t,Bt.min(),Bt.min(),Os.empty(),0)}static newUnknownDocument(e,t){return new Hr(e,3,t,Bt.min(),Bt.min(),Os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class su{constructor(e,t){this.position=e,this.inclusive=t}}function dw(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const c=e[a],d=r.position[a];if(i=c.field.isKeyField()?yt.comparator(yt.fromName(d.referenceValue),t.key):fc(d,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function hw(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ia(r.position[t],e.position[t]))return!1;return!0}class Bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function jD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class fw{}class On extends fw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new _w(e,t,i):"array-contains"===t?new fM(e,i):"in"===t?new vE(e,i):"not-in"===t?new vw(e,i):"array-contains-any"===t?new Ew(e,i):new On(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new yw(e,i):new Gm(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fc(t,this.value)):null!==t&&wl(this.value)===wl(t)&&this.matchesComparison(fc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends fw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return jh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jh(r){return"and"===r.op}function _E(r){return"or"===r.op}function yE(r){return pw(r)&&jh(r)}function pw(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function Ta(r){if(r instanceof On)return r.field.canonicalString()+r.op.toString()+Vh(r.value);if(yE(r))return r.filters.map(e=>Ta(e)).join(",");{const e=r.filters.map(t=>Ta(t)).join(",");return`${r.op}(${e})`}}function Wm(r,e){return r instanceof On?(i=r,(a=e)instanceof On&&i.op===a.op&&i.field.isEqual(a.field)&&Ia(i.value,a.value)):r instanceof _r?function(i,a){return a instanceof _r&&i.op===a.op&&i.filters.length===a.filters.length&&i.filters.reduce((c,d,_)=>c&&Wm(d,a.filters[_]),!0)}(r,e):void At();var i,a}function gw(r,e){const t=r.filters.concat(e);return _r.create(t,r.op)}function mw(r){return r instanceof On?`${(t=r).field.canonicalString()} ${t.op} ${Vh(t.value)}`:r instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"}(r):"Filter";var t}class _w extends On{constructor(e,t,i){super(e,t,i),this.key=yt.fromName(i.referenceValue)}matches(e){const t=yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class yw extends On{constructor(e,t){super(e,"in",t),this.keys=qm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gm extends On{constructor(e,t){super(e,"not-in",t),this.keys=qm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>yt.fromName(i.referenceValue))}class fM extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&md(t.arrayValue,this.value)}}class vE extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&md(this.value.arrayValue,t)}}class vw extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!md(this.value.arrayValue,t)}}class Ew extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>md(this.value.arrayValue,i))}}class Km{constructor(e,t=null,i=[],a=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=d,this.endAt=_,this.ue=null}}function Up(r,e=null,t=[],i=[],a=null,c=null,d=null){return new Km(r,e,t,i,a,c,d)}function Ks(r){const e=gt(r);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ta(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vh(i)).join(",")),e.ue=t}return e.ue}function Bp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!jD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Wm(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!hw(r.startAt,e.startAt)&&hw(r.endAt,e.endAt)}function Qm(r){return yt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function $h(r,e){return r.filters.filter(t=>t instanceof On&&t.field.isEqual(e))}function Iw(r,e,t){let i=Lp,a=!0;for(const c of $h(r,e)){let d=Lp,_=!0;switch(c.op){case"<":case"<=":d=BD(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,_=!1;break;case"!=":case"not-in":d=Lp}cw({value:i,inclusive:a},{value:d,inclusive:_})<0&&(i=d,a=_)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const d=t.position[c];cw({value:i,inclusive:a},{value:d,inclusive:t.inclusive})<0&&(i=d,a=t.inclusive);break}return{value:i,inclusive:a}}function Hh(r,e,t){let i=Ea,a=!0;for(const c of $h(r,e)){let d=Ea,_=!0;switch(c.op){case">=":case">":d=uo(c.value),_=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,_=!1;break;case"!=":case"not-in":d=Ea}uw({value:i,inclusive:a},{value:d,inclusive:_})>0&&(i=d,a=_)}if(null!==t)for(let c=0;c<r.orderBy.length;++c)if(r.orderBy[c].field.isEqual(e)){const d=t.position[c];uw({value:i,inclusive:a},{value:d,inclusive:t.inclusive})>0&&(i=d,a=t.inclusive);break}return{value:i,inclusive:a}}class bl{constructor(e,t=null,i=[],a=[],c=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=v,this.ce=null,this.le=null,this.he=null}}function _d(r,e,t,i,a,c,d,_){return new bl(r,e,t,i,a,c,d,_)}function Cl(r){return new bl(r)}function Xm(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function yd(r){return null!==r.collectionGroup}function vd(r){const e=gt(r);if(null===e.ce){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new mr(Ur.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(S=>{S.isInequality()&&(_=_.add(S.field))})}),_})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Bh(c,i))}),t.has(Ur.keyField().canonicalString())||e.ce.push(new Bh(Ur.keyField(),i))}return e.ce}function Ns(r){const e=gt(r);return e.le||(e.le=function Tw(r,e){if("F"===r.limitType)return Up(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>new Bh(a.field,"desc"===a.dir?"asc":"desc"));const t=r.endAt?new su(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new su(r.startAt.position,r.startAt.inclusive):null;return Up(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}(e,vd(r))),e.le}function EE(r,e){const t=r.filters.concat([e]);return new bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ym(r,e,t){return new bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function jp(r,e){return Bp(Ns(r),Ns(e))&&r.limitType===e.limitType}function IE(r){return`${Ks(Ns(r))}|lt:${r.limitType}`}function pc(r){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>mw(a)).join(", ")}]`),hd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>{return`${(d=a).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Vh(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Vh(a)).join(",")),`Target(${i})`}(Ns(r))}; limitType=${r.limitType})`}function $p(r,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):yt.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(r,e)&&function(i,a){for(const c of vd(i))if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(r,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(r,e)&&(a=e,!((i=r).startAt&&!function(d,_,v){const S=dw(d,_,v);return d.inclusive?S<=0:S<0}(i.startAt,vd(i),a)||i.endAt&&!function(d,_,v){const S=dw(d,_,v);return d.inclusive?S>=0:S>0}(i.endAt,vd(i),a)));var i,a}function $D(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ww(r){return(e,t)=>{let i=!1;for(const a of vd(r)){const c=HD(a,e,t);if(0!==c)return c;i=i||a.field.isKeyField()}return 0}}function HD(r,e,t){const i=r.field.isKeyField()?yt.comparator(e.key,t.key):function(c,d,_){const v=d.data.field(c),S=_.data.field(c);return null!==v&&null!==S?fc(v,S):At()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return At()}}class Al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,c]of i)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const zD=new Dr(yt.comparator);function ho(){return zD}const TE=new Dr(yt.comparator);function Ed(...r){let e=TE;for(const t of r)e=e.insert(t.key,t);return e}function wE(r){let e=TE;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fo(){return gc()}function zh(){return gc()}function gc(){return new Al(r=>r.toString(),(r,e)=>r.isEqual(e))}const WD=new Dr(yt.comparator),GD=new mr(yt.comparator);function In(...r){let e=GD;for(const t of r)e=e.add(t);return e}const Zm=new mr(fn);function Hp(){return Zm}function bw(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function qD(r){return{integerValue:""+r}}function KD(r,e){return xm(e)?qD(e):bw(r,e)}class Jm{constructor(){this._=void 0}}function QD(r,e,t){return r instanceof zp?function(a,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&kp(c)&&(c=jm(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(t,e):r instanceof Id?Aw(r,e):r instanceof Td?e_(r,e):function(a,c){const d=Cw(a,c),_=t_(d)+t_(a.Pe);return mE(d)&&mE(a.Pe)?qD(_):bw(a.serializer,_)}(r,e)}function pM(r,e,t){return r instanceof Id?Aw(r,e):r instanceof Td?e_(r,e):t}function Cw(r,e){return r instanceof Dl?mE(i=e)||(c=i)&&"doubleValue"in c?e:{integerValue:0}:null;var i,c}class zp extends Jm{}class Id extends Jm{constructor(e){super(),this.elements=e}}function Aw(r,e){const t=Wp(e);for(const i of r.elements)t.some(a=>Ia(a,i))||t.push(i);return{arrayValue:{values:t}}}class Td extends Jm{constructor(e){super(),this.elements=e}}function e_(r,e){let t=Wp(e);for(const i of r.elements)t=t.filter(a=>!Ia(a,i));return{arrayValue:{values:t}}}class Dl extends Jm{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function t_(r){return Br(r.integerValue||r.doubleValue)}function Wp(r){return Fp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Wh{constructor(e,t){this.field=e,this.transform=t}}class Dw{constructor(e,t){this.version=e,this.transformResults=t}}class ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class qp{}function Sw(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Sl(r.key,ni.none()):new Gh(r.key,r.data,ni.none());{const t=r.data,i=Os.empty();let a=new mr(Ur.comparator);for(let c of e.fields)if(!a.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?i.delete(c):i.set(c,d),a=a.add(c)}return new mc(r.key,i,new co(a.toArray()),ni.none())}}function Rw(r,e,t){r instanceof Gh?function(a,c,d){const _=a.value.clone(),v=Ow(a.fieldTransforms,c,d.transformResults);_.setAll(v),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,t):r instanceof mc?function(a,c,d){if(!ou(a.precondition,c))return void c.convertToUnknownDocument(d.version);const _=Ow(a.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Mw(a)),v.setAll(_),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kp(r,e,t,i){return r instanceof Gh?function(c,d,_,v){if(!ou(c.precondition,d))return _;const S=c.value.clone(),O=r_(c.fieldTransforms,v,d);return S.setAll(O),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),null}(r,e,t,i):r instanceof mc?function(c,d,_,v){if(!ou(c.precondition,d))return _;const S=r_(c.fieldTransforms,v,d),O=d.data;return O.setAll(Mw(c)),O.setAll(S),d.convertToFoundDocument(d.version,O).setHasLocalMutations(),null===_?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(L=>L.field))}(r,e,t,i):(_=t,ou(r.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_);var d,_}function n_(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),c=Cw(i.transform,a||null);null!=c&&(null===t&&(t=Os.empty()),t.set(i.field,c))}return t||null}function Pw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=r.fieldTransforms)&&void 0===a||i&&a&&Oh(i,a,(c,d)=>function Gp(r,e){return r.field.isEqual(e.field)&&(a=e.transform,(i=r.transform)instanceof Id&&a instanceof Id||i instanceof Td&&a instanceof Td?Oh(i.elements,a.elements,Ia):i instanceof Dl&&a instanceof Dl?Ia(i.Pe,a.Pe):i instanceof zp&&a instanceof zp);var i,a}(c,d))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var i,a}class Gh extends qp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class mc extends qp{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function Ow(r,e,t){const i=new Map;Ft(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],d=c.transform,_=e.data.field(c.field);i.set(c.field,pM(d,_,t[a]))}return i}function r_(r,e,t){const i=new Map;for(const a of r){const c=a.transform,d=t.data.field(a.field);i.set(a.field,QD(c,d,e))}return i}class Sl extends qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bE extends qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qh{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Rw(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Kp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Kp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=zh();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=t.has(a.key)?null:_;const v=Sw(d,_);null!==v&&i.set(a.key,v),d.isValidDocument()||d.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),In())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,(t,i)=>Pw(t,i))&&Oh(this.baseMutations,e.baseMutations,(t,i)=>Pw(t,i))}}class Kh{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ft(e.mutations.length===i.length);let a=function(){return WD}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,i[d].version);return new Kh(e,t,i,a)}}class Nw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class YD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ei,Kn;function CE(r){switch(r){default:return At();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function xw(r){if(void 0===r)return vi("GRPC error has no .code"),Re.UNKNOWN;switch(r){case Ei.OK:return Re.OK;case Ei.CANCELLED:return Re.CANCELLED;case Ei.UNKNOWN:return Re.UNKNOWN;case Ei.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Ei.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Ei.INTERNAL:return Re.INTERNAL;case Ei.UNAVAILABLE:return Re.UNAVAILABLE;case Ei.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Ei.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Ei.NOT_FOUND:return Re.NOT_FOUND;case Ei.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Ei.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Ei.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Ei.ABORTED:return Re.ABORTED;case Ei.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Ei.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Ei.DATA_LOSS:return Re.DATA_LOSS;default:return At()}}(Kn=Ei||(Ei={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";function AE(){return new TextEncoder}const ZD=new Ph([4294967295,4294967295],0);function kw(r){const e=AE().encode(r),t=new PD;return t.update(e),new Uint8Array(t.digest())}function wd(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ph([t,i],0),new Ph([a,c],0)]}class Qh{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qp(`Invalid padding: ${t}`);if(i<0)throw new Qp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Qp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Qp(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ph.fromNumber(this.Ie)}Ee(e,t,i){let a=e.add(t.multiply(Ph.fromNumber(i)));return 1===a.compare(ZD)&&(a=new Ph([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=kw(e),[i,a]=wd(t);for(let c=0;c<this.hashCount;c++){const d=this.Ee(i,a,c);if(!this.de(d))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qh(c,a,t);return i.forEach(_=>d.insert(_)),d}insert(e){if(0===this.Ie)return;const t=kw(e),[i,a]=wd(t);for(let c=0;c<this.hashCount;c++){const d=this.Ee(i,a,c);this.Ae(d)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xh{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Xp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xh(Bt.min(),a,new Dr(fn),ho(),In())}}class Xp{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Xp(i,t,In(),In(),In())}}class Yp{constructor(e,t,i,a){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=a}}class JD{constructor(e,t){this.targetId=e,this.me=t}}class Lw{constructor(e,t,i=Lt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Zp{constructor(){this.fe=0,this.ge=Uw(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=In(),t=In(),i=In();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:At()}}),new Xp(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=Uw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Fw{constructor(e){this.Le=e,this.Be=new Map,this.ke=ho(),this.qe=Vw(),this.Qe=new Dr(fn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:At()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,i=e.me.count,a=this.Je(t);if(a){const c=a.target;if(Qm(c))if(0===i){const d=new yt(c.path);this.Ue(t,d,Hr.newNoDocument(d,Bt.min()))}else Ft(1===i);else{const d=this.Ye(t);if(d!==i){const _=this.Ze(e),v=_?this.Xe(_,e,d):1;0!==v&&(this.je(t),this.Qe=this.Qe.insert(t,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=t;let d,_;try{d=hc(i).toUint8Array()}catch(v){if(v instanceof pE)return Ms("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new Qh(d,a,c)}catch(v){return Ms(v instanceof Qp?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return 0===_.Ie?null:_}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let a=0;return i.forEach(c=>{const d=this.Le.tt(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.Ue(t,c,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((c,d)=>{const _=this.Je(d);if(_){if(c.current&&Qm(_.target)){const v=new yt(_.target.path);null!==this.ke.get(v)||this.it(d,v)||this.Ue(d,v,Hr.newNoDocument(v,e))}c.be&&(t.set(d,c.Ce()),c.ve())}});let i=In();this.qe.forEach((c,d)=>{let _=!0;d.forEachWhile(v=>{const S=this.Je(v);return!S||"TargetPurposeLimboResolution"===S.purpose||(_=!1,!1)}),_&&(i=i.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(e));const a=new Xh(e,t,this.Qe,this.ke,i);return this.ke=ho(),this.qe=Vw(),this.Qe=new Dr(fn),a}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Zp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mr(fn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Vw(){return new Dr(yt.comparator)}function Uw(){return new Dr(yt.comparator)}const eS={asc:"ASCENDING",desc:"DESCENDING"},DE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gM={and:"AND",or:"OR"};class Bw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vo(r,e){return r.useProto3Json||hd(e)?e:{value:e}}function bd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mM(r,e){return bd(r,e.toTimestamp())}function bn(r){return Ft(!!r),Bt.fromTimestamp(function(t){const i=Il(t);return new ti(i.seconds,i.nanos)}(r))}function SE(r,e){return Jp(r,e).canonicalString()}function Jp(r,e){const t=(a=r,new Hn(["projects",a.projectId,"databases",a.database])).child("documents");var a;return void 0===e?t:t.child(e)}function $w(r){const e=Hn.fromString(r);return Ft(Yh(e)),e}function eg(r,e){return SE(r.databaseId,e.path)}function wa(r,e){const t=$w(e);if(t.get(1)!==r.databaseId.projectId)throw new Qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new yt(Hw(t))}function RE(r,e){return SE(r.databaseId,e)}function PE(r){const e=$w(r);return 4===e.length?Hn.emptyPath():Hw(e)}function s_(r){return new Hn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hw(r){return Ft(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function zw(r,e,t){return{name:eg(r,e),fields:t.value.mapValue.fields}}function au(r,e,t){const i=wa(r,e.name),a=bn(e.updateTime),c=e.createTime?bn(e.createTime):Bt.min(),d=new Os({mapValue:{fields:e.fields}}),_=Hr.newFoundDocument(i,a,c,d);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function tg(r,e){let t;if(e instanceof Gh)t={update:zw(r,e.key,e.value)};else if(e instanceof Sl)t={delete:eg(r,e.key)};else if(e instanceof mc)t={update:zw(r,e.key,e.data),updateMask:du(e.fieldMask)};else{if(!(e instanceof bE))return At();t={verify:eg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,d){const _=d.transform;if(_ instanceof zp)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Id)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Td)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Dl)return{fieldPath:d.field.canonicalString(),increment:_.Pe};throw At()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:mM(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:At()),t;var c}function OE(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ni.updateTime(bn(c.updateTime)):void 0!==c.exists?ni.exists(c.exists):ni.none():ni.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(d,_){let v=null;"setToServerValue"in _?(Ft("REQUEST_TIME"===_.setToServerValue),v=new zp):"appendMissingElements"in _?v=new Id(_.appendMissingElements.values||[]):"removeAllFromArray"in _?v=new Td(_.removeAllFromArray.values||[]):"increment"in _?v=new Dl(d,_.increment):At();const S=Ur.fromServerFormat(_.fieldPath);return new Wh(S,v)}(r,a)):[];var c;if(e.update){const a=wa(r,e.update.name),c=new Os({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new co((e.updateMask.fieldPaths||[]).map(O=>Ur.fromServerFormat(O)));return new mc(a,c,d,t,i)}return new Gh(a,c,t,i)}if(e.delete){const a=wa(r,e.delete);return new Sl(a,t)}if(e.verify){const a=wa(r,e.verify);return new bE(a,t)}return At()}function NE(r,e){return{documents:[RE(r,e.path)]}}function Cd(r,e){const t={structuredQuery:{}},i=e.path;let a;null!==e.collectionGroup?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=RE(r,a);const c=function(S){if(0!==S.length)return xE(_r.create(S,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(S){if(0!==S.length)return S.map(O=>{return{field:cu((X=O).field),direction:qw(X.dir)};var X})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=Vo(r,e.limit);return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt=function(S){return{before:!S.inclusive,values:S.position}}(e.endAt)),{_t:t,parent:a};var S}function o_(r){let e=PE(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ft(1===i);const O=t.from[0];O.allDescendants?a=O.collectionId:e=e.child(O.collectionId)}let c=[];t.where&&(c=function(L){const X=ng(L);return X instanceof _r&&yE(X)?X.getFilters():[X]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(X=>{return new Bh(uu((de=X).field),function(Se){switch(Se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let _=null;t.limit&&(_=function(L){let X;return X="object"==typeof L?L.value:L,hd(X)?null:X}(t.limit));let v=null;var L;t.startAt&&(v=new su((L=t.startAt).values||[],!!L.before));let S=null;return t.endAt&&(S=function(L){return new su(L.values||[],!L.before)}(t.endAt)),_d(e,a,d,c,_,"F",v,S)}function ng(r){return void 0!==r.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=uu(t.unaryFilter.field);return On.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=uu(t.unaryFilter.field);return On.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uu(t.unaryFilter.field);return On.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=uu(t.unaryFilter.field);return On.create(d,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(r):void 0!==r.fieldFilter?On.create(uu((t=r).fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==r.compositeFilter?function(t){return _r.create(t.compositeFilter.filters.map(i=>ng(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At()}}(t.compositeFilter.op))}(r):At();var t}function qw(r){return eS[r]}function rg(r){return DE[r]}function tS(r){return gM[r]}function cu(r){return{fieldPath:r.canonicalString()}}function uu(r){return Ur.fromServerFormat(r.fieldPath)}function xE(r){return r instanceof On?function(t){if("=="===t.op){if(aw(t.value))return{unaryFilter:{field:cu(t.field),op:"IS_NAN"}};if(ow(t.value))return{unaryFilter:{field:cu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(aw(t.value))return{unaryFilter:{field:cu(t.field),op:"IS_NOT_NAN"}};if(ow(t.value))return{unaryFilter:{field:cu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(t.field),op:rg(t.op),value:t.value}}}(r):r instanceof _r?function(t){const i=t.getFilters().map(a=>xE(a));return 1===i.length?i[0]:{compositeFilter:{op:tS(t.op),filters:i}}}(r):At()}function du(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yh(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class hu{constructor(e,t,i,a,c=Bt.min(),d=Bt.min(),_=Lt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ig{constructor(e){this.ut=e}}function kE(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:a_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:eg(c=r.ut,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:bd(c,d.version.toTimestamp()),createTime:bd(c,d.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return At();i.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}var c,d;return i}function a_(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wa(r){const e=new ti(r.seconds,r.nanoseconds);return Bt.fromTimestamp(e)}function Ad(r,e){const t=(e.baseMutations||[]).map(c=>OE(r.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const i=e.mutations.map(c=>OE(r.ut,c)),a=ti.fromMillis(e.localWriteTimeMs);return new qh(e.batchId,a,t,i)}function sg(r){const e=Wa(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Wa(r.lastLimboFreeSnapshotVersion):Bt.min();let i;return i=void 0!==r.query.documents?(Ft(1===(c=r.query).documents.length),Ns(Cl(PE(c.documents[0])))):function(c){return Ns(o_(c))}(r.query),new hu(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Lt.fromBase64String(r.resumeToken));var c}function Qw(r,e){const t=Rl(e.snapshotVersion),i=Rl(e.lastLimboFreeSnapshotVersion);let a;a=Qm(e.target)?NE(r.ut,e.target):Cd(r.ut,e.target)._t;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ks(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function LE(r){const e=o_({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ym(e,e.limit,"L"):e}function FE(r,e){return new Nw(e.largestBatchId,OE(r.ut,e.overlayMutation))}function Xw(r,e){const t=e.path.lastSegment();return[r,Gi(e.path.popLast()),t]}function Yw(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:Rl(i.readTime),documentKey:Gi(i.documentKey.path),largestBatchId:i.largestBatchId}}class nS{getBundleMetadata(e,t){return og(e).get(t).next(i=>{if(i)return{id:(c=i).bundleId,createTime:Wa(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return og(e).put({bundleId:(a=t).id,createTime:Rl(bn(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Zw(e).get(t).next(i=>{if(i)return{name:(c=i).name,query:LE(c.bundledQuery),readTime:Wa(c.readTime)};var c})}saveNamedQuery(e,t){return Zw(e).put({name:(a=t).name,readTime:Rl(bn(a.readTime)),bundledQuery:a.bundledQuery});var a}}function og(r){return qi(r,"bundles")}function Zw(r){return qi(r,"namedQueries")}class l_{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new l_(e,t.uid||"")}getOverlay(e,t){return Zh(e).get(Xw(this.userId,t)).next(i=>i?FE(this.serializer,i):null)}getOverlays(e,t){const i=fo();return fe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((c,d)=>{const _=new Nw(t,d);a.push(this.lt(e,_))}),fe.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(d=>a.add(Gi(d.getCollectionPath())));const c=[];return a.forEach(d=>{const _=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);c.push(Zh(e).j("collectionPathOverlayIndex",_))}),fe.waitFor(c)}getOverlaysForCollection(e,t,i){const a=fo(),c=Gi(t),d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Zh(e).U("collectionPathOverlayIndex",d).next(_=>{for(const v of _){const S=FE(this.serializer,v);a.set(S.getKey(),S)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const c=fo();let d;const _=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zh(e).J({index:"collectionGroupOverlayIndex",range:_},(v,S,O)=>{const L=FE(this.serializer,S);c.size()<a||L.largestBatchId===d?(c.set(L.getKey(),L),d=L.largestBatchId):O.done()}).next(()=>c)}lt(e,t){return Zh(e).put(function(a,c,d){const[_,v,S]=Xw(c,d.mutation.key);return{userId:c,collectionPath:v,documentId:S,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:tg(a.ut,d.mutation)}}(this.serializer,this.userId,t))}}function Zh(r){return qi(r,"documentOverlays")}class fu{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Br(e.integerValue));else if("doubleValue"in e){const i=Br(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),kh(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(t,20),"string"==typeof i&&(i=Il(i)),t.dt(`${i.seconds||""}`),t.Et(i.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(hc(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?lw(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):At()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const a of Object.keys(i))this.At(a,t),this.Pt(i[a],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const a of i)this.Pt(a,t)}ft(e,t){this.Tt(t,37),yt.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function VE(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function UE(r){const e=64-function(i){let a=0;for(let c=0;c<8;++c){const d=VE(255&i[c]);if(a+=d,8!==d)break}return a}(r);return Math.ceil(e/8)}fu.St=new fu;class rS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const a=t.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const a=t.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Nt(e){const t=this.Lt(e),i=UE(t);this.Bt(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}kt(e){const t=this.Lt(e),i=UE(t);this.Bt(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(c){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,c,!1),new Uint8Array(d.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class Jw{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class BE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Jh{constructor(){this.Wt=new rS,this.Gt=new Jw(this.Wt),this.zt=new BE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class pu{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new pu(this.indexId,this.documentKey,this.arrayValue,i)}}function gu(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=eb(r.arrayValue,e.arrayValue),0!==t?t:(t=eb(r.directionalValue,e.directionalValue),0!==t?t:yt.comparator(r.documentKey,e.documentKey)))}function eb(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(0!==i)return i}return r.length-e.length}class tb{constructor(e){this.Jt=new mr((t,i)=>Ur.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Ft(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=GT(e);if(void 0!==t&&!this.tn(t))return!1;const i=Nh(e);let a=new Set,c=0,d=0;for(;c<i.length&&this.tn(i[c]);++c)a=a.add(i[c].fieldPath.canonicalString());if(c===i.length)return!0;if(this.Jt.size>0){const _=this.Jt.getIterator().getNext();if(!a.has(_.field.canonicalString())){const v=i[c];if(!this.nn(_,v)||!this.rn(this.Yt[d++],v))return!1}++c}for(;c<i.length;++c)if(d>=this.Yt.length||!this.rn(this.Yt[d++],i[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new mr(Ur.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new dd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new dd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new dd(i.field,"asc"===i.dir?0:1)));return new Pp(Pp.UNKNOWN_ID,this.collectionId,t,cc.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function c_(r){var e,t;if(Ft(r instanceof On||r instanceof _r),r instanceof On){if(r instanceof vE){const a=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>On.create(r.field,"==",c)))||[];return _r.create(a,"or")}return r}const i=r.filters.map(a=>c_(a));return _r.create(i,r.op)}function jE(r){if(0===r.getFilters().length)return[];const e=$E(c_(r));return Ft(d_(e)),u_(e)||ag(e)?[e]:e.getFilters()}function u_(r){return r instanceof On}function ag(r){return r instanceof _r&&yE(r)}function d_(r){return u_(r)||ag(r)||function(t){if(t instanceof _r&&_E(t)){for(const i of t.getFilters())if(!u_(i)&&!ag(i))return!1;return!0}return!1}(r)}function $E(r){if(Ft(r instanceof On||r instanceof _r),r instanceof On)return r;if(1===r.filters.length)return $E(r.filters[0]);const e=r.filters.map(i=>$E(i));let t=_r.create(e,r.op);return t=h_(t),d_(t)?t:(Ft(t instanceof _r),Ft(jh(t)),Ft(t.filters.length>1),t.filters.reduce((i,a)=>HE(i,a)))}function HE(r,e){let t;return Ft(r instanceof On||r instanceof _r),Ft(e instanceof On||e instanceof _r),t=r instanceof On?e instanceof On?_r.create([r,e],"and"):nb(r,e):e instanceof On?nb(e,r):function(a,c){if(Ft(a.filters.length>0&&c.filters.length>0),jh(a)&&jh(c))return gw(a,c.getFilters());const d=_E(a)?a:c,_=_E(a)?c:a,v=d.filters.map(S=>HE(S,_));return _r.create(v,"or")}(r,e),h_(t)}function nb(r,e){if(jh(e))return gw(e,r.getFilters());{const t=e.filters.map(i=>HE(r,i));return _r.create(t,"or")}}function h_(r){if(Ft(r instanceof On||r instanceof _r),r instanceof On)return r;const e=r.getFilters();if(1===e.length)return h_(e[0]);if(pw(r))return r;const t=e.map(a=>h_(a)),i=[];return t.forEach(a=>{a instanceof On?i.push(a):a instanceof _r&&(a.op===r.op?i.push(...a.filters):i.push(a))}),1===i.length?i[0]:_r.create(i,r.op)}class rb{constructor(){this.on=new lg}addToCollectionParentIndex(e,t){return this.on.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(lo.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class lg{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new mr(Hn.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new mr(Hn.comparator)).toArray()}}const ef=new Uint8Array(0);class ib{constructor(e,t){this.databaseId=t,this._n=new lg,this.an=new Al(i=>Ks(i),(i,a)=>Bp(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const c={collectionId:i,parent:Gi(a)};return zE(e).put(c)}return fe.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[WT(t),""],!1,!0);return zE(e).U(a).next(c=>{for(const d of c){if(d.collectionId!==t)break;i.push(za(d.parent))}return i})}addFieldIndex(e,t){const i=cg(e),a={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var _;delete a.indexId;const c=i.add(a);if(t.indexState){const d=Sd(e);return c.next(_=>{d.put(Yw(_,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const i=cg(e),a=Sd(e),c=Dd(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=cg(e),i=Dd(e),a=Sd(e);return t.j().next(()=>i.j()).next(()=>a.j())}createTargetIndexes(e,t){return fe.forEach(this.un(t),i=>this.getIndexType(e,i).next(a=>{if(0===a||1===a){const c=new tb(i).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const i=Dd(e);let a=!0;const c=new Map;return fe.forEach(this.un(t),d=>this.cn(e,d).next(_=>{a&&(a=!!_),c.set(d,_)})).next(()=>{if(a){let d=In();const _=[];return fe.forEach(c,(v,S)=>{var qe;Ye("IndexedDbIndexManager",`Using index ${qe=v,`id=${qe.indexId}|cg=${qe.collectionGroup}|f=${qe.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${Ks(t)}`);const O=function(qe,vt){const sn=GT(vt);if(void 0===sn)return null;for(const ln of $h(qe,sn.fieldPath))switch(ln.op){case"array-contains-any":return ln.value.arrayValue.values||[];case"array-contains":return[ln.value]}return null}(S,v),L=function(qe,vt){const sn=new Map;for(const ln of Nh(vt))for(const Dn of $h(qe,ln.fieldPath))switch(Dn.op){case"==":case"in":sn.set(ln.fieldPath.canonicalString(),Dn.value);break;case"not-in":case"!=":return sn.set(ln.fieldPath.canonicalString(),Dn.value),Array.from(sn.values())}return null}(S,v),X=function(qe,vt){const sn=[];let ln=!0;for(const Dn of Nh(vt)){const Rr=0===Dn.kind?Iw(qe,Dn.fieldPath,qe.startAt):Hh(qe,Dn.fieldPath,qe.startAt);sn.push(Rr.value),ln&&(ln=Rr.inclusive)}return new su(sn,ln)}(S,v),ee=function(qe,vt){const sn=[];let ln=!0;for(const Dn of Nh(vt)){const Rr=0===Dn.kind?Hh(qe,Dn.fieldPath,qe.endAt):Iw(qe,Dn.fieldPath,qe.endAt);sn.push(Rr.value),ln&&(ln=Rr.inclusive)}return new su(sn,ln)}(S,v),de=this.ln(v,S,X),pe=this.ln(v,S,ee),Se=this.hn(v,S,L),rt=this.Pn(v.indexId,O,de,X.inclusive,pe,ee.inclusive,Se);return fe.forEach(rt,ft=>i.G(ft,t.limit).next(qe=>{qe.forEach(vt=>{const sn=yt.fromSegments(vt.documentKey);d.has(sn)||(d=d.add(sn),_.push(sn))})}))}).next(()=>_)}return fe.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:jE(_r.create(e.filters,"and")).map(i=>Up(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,a,c,d,_){const v=(null!=t?t.length:1)*Math.max(i.length,c.length),S=v/(null!=t?t.length:1),O=[];for(let L=0;L<v;++L){const X=t?this.In(t[L/S]):ef,ee=this.Tn(e,X,i[L%S],a),de=this.En(e,X,c[L%S],d),pe=_.map(Se=>this.Tn(e,X,Se,!0));O.push(...this.createRange(ee,de,pe))}return O}Tn(e,t,i,a){const c=new pu(e,yt.empty(),t,i);return a?c:c.Ht()}En(e,t,i,a){const c=new pu(e,yt.empty(),t,i);return a?c.Ht():c}cn(e,t){const i=new tb(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let d=null;for(const _ of c)i.en(_)&&(!d||_.fields.length>d.fields.length)&&(d=_);return d})}getIndexType(e,t){let i=2;const a=this.un(t);return fe.forEach(a,c=>this.cn(e,c).next(d=>{d?0!==i&&d.fields.length<function(v){let S=new mr(Ur.comparator),O=!1;for(const L of v.filters)for(const X of L.getFlattenedFilters())X.field.isKeyField()||("array-contains"===X.op||"array-contains-any"===X.op?O=!0:S=S.add(X.field));for(const L of v.orderBy)L.field.isKeyField()||(S=S.add(L.field));return S.size+(O?1:0)}(c)&&(i=1):i=0})).next(()=>null!==t.limit&&a.length>1&&2===i?1:i)}dn(e,t){const i=new Jh;for(const a of Nh(e)){const c=t.data.field(a.fieldPath);if(null==c)return null;const d=i.jt(a.kind);fu.St.ht(c,d)}return i.Ut()}In(e){const t=new Jh;return fu.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new Jh;return fu.St.ht(iu(this.databaseId,t),i.jt(function(c){const d=Nh(c);return 0===d.length?0:d[d.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let a=[];a.push(new Jh);let c=0;for(const d of Nh(e)){const _=i[c++];for(const v of a)if(this.Rn(t,d.fieldPath)&&Fp(_))a=this.Vn(a,d,_);else{const S=v.jt(d.kind);fu.St.ht(_,S)}}return this.mn(a)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const a=[...e],c=[];for(const d of i.arrayValue.values||[])for(const _ of a){const v=new Jh;v.seed(_.Ut()),fu.St.ht(d,v.jt(t.kind)),c.push(v)}return c}Rn(e,t){return!!e.filters.find(i=>i instanceof On&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=cg(e),a=Sd(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(c=>{const d=[];return fe.forEach(c,_=>a.get([_.indexId,this.uid]).next(v=>{d.push(function(O,L){const X=L?new cc(L.sequenceNumber,new lo(Wa(L.readTime),new yt(za(L.documentKey)),L.largestBatchId)):cc.empty(),ee=O.fields.map(([de,pe])=>new dd(Ur.fromServerFormat(de),pe));return new Pp(O.indexId,O.collectionGroup,ee,X)}(_,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const c=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:fn(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=cg(e),c=Sd(e);return this.fn(e).next(d=>a.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(_=>fe.forEach(_,v=>c.put(Yw(v.indexId,this.uid,d,i)))))}updateIndexEntries(e,t){const i=new Map;return fe.forEach(t,(a,c)=>{const d=i.get(a.collectionGroup);return(d?fe.resolve(d):this.getFieldIndexes(e,a.collectionGroup)).next(_=>(i.set(a.collectionGroup,_),fe.forEach(_,v=>this.gn(e,a,v).next(S=>{const O=this.pn(c,v);return S.isEqual(O)?fe.resolve():this.yn(e,c,v,S,O)}))))})}wn(e,t,i,a){return Dd(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,a){return Dd(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const a=Dd(e);let c=new mr(gu);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(d,_)=>{c=c.add(new pu(i.indexId,t,_.arrayValue,_.directionalValue))}).next(()=>c)}pn(e,t){let i=new mr(gu);const a=this.dn(t,e);if(null==a)return i;const c=GT(t);if(null!=c){const d=e.data.field(c.fieldPath);if(Fp(d))for(const _ of d.arrayValue.values||[])i=i.add(new pu(t.indexId,e.key,this.In(_),a))}else i=i.add(new pu(t.indexId,e.key,ef,a));return i}yn(e,t,i,a,c){Ye("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(v,S,O,L,X){const ee=v.getIterator(),de=S.getIterator();let pe=Lh(ee),Se=Lh(de);for(;pe||Se;){let rt=!1,ft=!1;if(pe&&Se){const qe=O(pe,Se);qe<0?ft=!0:qe>0&&(rt=!0)}else null!=pe?ft=!0:rt=!0;rt?(L(Se),Se=Lh(de)):ft?(X(pe),pe=Lh(ee)):(pe=Lh(ee),Se=Lh(de))}}(a,c,gu,_=>{d.push(this.wn(e,t,i,_))},_=>{d.push(this.Sn(e,t,i,_))}),fe.waitFor(d)}fn(e){let t=1;return Sd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,c)=>{c.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((d,_)=>gu(d,_)).filter((d,_,v)=>!_||0!==gu(d,v[_-1]));const a=[];a.push(e);for(const d of i){const _=gu(d,e),v=gu(d,t);if(0===_)a[0]=e.Ht();else if(_>0&&v<0)a.push(d),a.push(d.Ht());else if(v>0)break}a.push(t);const c=[];for(let d=0;d<a.length;d+=2){if(this.bn(a[d],a[d+1]))return[];c.push(IDBKeyRange.bound([a[d].indexId,this.uid,a[d].arrayValue,a[d].directionalValue,ef,[]],[a[d+1].indexId,this.uid,a[d+1].arrayValue,a[d+1].directionalValue,ef,[]]))}return c}bn(e,t){return gu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sb)}getMinOffset(e,t){return fe.mapArray(this.un(t),i=>this.cn(e,i).next(a=>a||At())).next(sb)}}function zE(r){return qi(r,"collectionParents")}function Dd(r){return qi(r,"indexEntries")}function cg(r){return qi(r,"indexConfiguration")}function Sd(r){return qi(r,"indexState")}function sb(r){Ft(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;iE(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new lo(e.readTime,e.documentKey,t)}const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ps{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ps(e,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function WE(r,e,t){const i=r.store("mutations"),a=r.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let _=0;const v=i.J({range:d},(O,L,X)=>(_++,X.delete()));c.push(v.next(()=>{Ft(1===_)}));const S=[];for(const O of t.mutations){const L=YT(e,O.key.path,t.batchId);c.push(a.delete(L)),S.push(O.key)}return fe.waitFor(c).next(()=>S)}function GE(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw At();e=r.noDocument}return JSON.stringify(e).length}ps.DEFAULT_COLLECTION_PERCENTILE=10,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ps.DEFAULT=new ps(41943040,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ps.DISABLED=new ps(-1,0,0);class qE{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Dn={}}static ct(e,t,i,a){Ft(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new qE(c,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _c(e).J({index:"userMutationsIndex",range:i},(a,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const c=Rd(e),d=_c(e);return d.add({}).next(_=>{Ft("number"==typeof _);const v=new qh(_,t,i,a),S=function(ee,de,pe){const Se=pe.baseMutations.map(ft=>tg(ee.ut,ft)),rt=pe.mutations.map(ft=>tg(ee.ut,ft));return{userId:de,batchId:pe.batchId,localWriteTimeMs:pe.localWriteTime.toMillis(),baseMutations:Se,mutations:rt}}(this.serializer,this.userId,v),O=[];let L=new mr((X,ee)=>fn(X.canonicalString(),ee.canonicalString()));for(const X of a){const ee=YT(this.userId,X.key.path,_);L=L.add(X.key.path.popLast()),O.push(d.put(S)),O.push(c.put(ee,ZT))}return L.forEach(X=>{O.push(this.indexManager.addToCollectionParentIndex(e,X))}),e.addOnCommittedListener(()=>{this.Dn[_]=v.keys()}),fe.waitFor(O).next(()=>v)})}lookupMutationBatch(e,t){return _c(e).get(t).next(i=>i?(Ft(i.userId===this.userId),Ad(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?fe.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Dn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let c=null;return _c(e).J({index:"userMutationsIndex",range:a},(d,_,v)=>{_.userId===this.userId&&(Ft(_.batchId>=i),c=Ad(this.serializer,_)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return _c(e).J({index:"userMutationsIndex",range:t,reverse:!0},(a,c,d)=>{i=c.batchId,d.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _c(e).U("userMutationsIndex",t).next(i=>i.map(a=>Ad(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=km(this.userId,t.path),a=IDBKeyRange.lowerBound(i),c=[];return Rd(e).J({range:a},(d,_,v)=>{const[S,O,L]=d,X=za(O);if(S===this.userId&&t.path.isEqual(X))return _c(e).get(L).next(ee=>{if(!ee)throw At();Ft(ee.userId===this.userId),c.push(Ad(this.serializer,ee))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mr(fn);const a=[];return t.forEach(c=>{const d=km(this.userId,c.path),_=IDBKeyRange.lowerBound(d),v=Rd(e).J({range:_},(S,O,L)=>{const[X,ee,de]=S,pe=za(ee);X===this.userId&&c.path.isEqual(pe)?i=i.add(de):L.done()});a.push(v)}),fe.waitFor(a).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,c=km(this.userId,i),d=IDBKeyRange.lowerBound(c);let _=new mr(fn);return Rd(e).J({range:d},(v,S,O)=>{const[L,X,ee]=v,de=za(X);L===this.userId&&i.isPrefixOf(de)?de.length===a&&(_=_.add(ee)):O.done()}).next(()=>this.vn(e,_))}vn(e,t){const i=[],a=[];return t.forEach(c=>{a.push(_c(e).get(c).next(d=>{if(null===d)throw At();Ft(d.userId===this.userId),i.push(Ad(this.serializer,d))}))}),fe.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return WE(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),fe.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const i=IDBKeyRange.lowerBound(function(d){return[d]}(this.userId)),a=[];return Rd(e).J({range:i},(c,d,_)=>{if(c[0]===this.userId){const v=za(c[1]);a.push(v)}else _.done()}).next(()=>{Ft(0===a.length)})})}containsKey(e,t){return KE(e,this.userId,t)}Mn(e){return p_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KE(r,e,t){const i=km(e,t.path),a=i[1],c=IDBKeyRange.lowerBound(i);let d=!1;return Rd(r).J({range:c,H:!0},(_,v,S)=>{const[O,L,X]=_;O===e&&L===a&&(d=!0),S.done()}).next(()=>d)}function _c(r){return qi(r,"mutations")}function Rd(r){return qi(r,"documentMutations")}function p_(r){return qi(r,"mutationQueues")}class mu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new mu(0)}static Nn(){return new mu(-1)}}class ob{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next(t=>{const i=new mu(t.highestTargetId);return t.highestTargetId=i.next(),this.Bn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(t=>Bt.fromTimestamp(new ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Ln(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Bn(e,a)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Ln(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Bn(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pd(e).delete(t.targetId)).next(()=>this.Ln(e)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.Bn(e,i)))}removeTargets(e,t,i){let a=0;const c=[];return Pd(e).J((d,_)=>{const v=sg(_);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(a++,c.push(this.removeTargetData(e,v)))}).next(()=>fe.waitFor(c)).next(()=>a)}forEachTarget(e,t){return Pd(e).J((i,a)=>{const c=sg(a);t(c)})}Ln(e){return QE(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}Bn(e,t){return QE(e).put("targetGlobalKey",t)}kn(e,t){return Pd(e).put(Qw(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Ln(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ks(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let c=null;return Pd(e).J({range:a,index:"queryTargetsIndex"},(d,_,v)=>{const S=sg(_);Bp(t,S.target)&&(c=S,v.done())}).next(()=>c)}addMatchingKeys(e,t,i){const a=[],c=_u(e);return t.forEach(d=>{const _=Gi(d.path);a.push(c.put({targetId:i,path:_})),a.push(this.referenceDelegate.addReference(e,i,d))}),fe.waitFor(a)}removeMatchingKeys(e,t,i){const a=_u(e);return fe.forEach(t,c=>{const d=Gi(c.path);return fe.waitFor([a.delete([i,d]),this.referenceDelegate.removeReference(e,i,c)])})}removeMatchingKeysForTargetId(e,t){const i=_u(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=_u(e);let c=In();return a.J({range:i,H:!0},(d,_,v)=>{const S=za(d[1]),O=new yt(S);c=c.add(O)}).next(()=>c)}containsKey(e,t){const i=Gi(t.path),a=IDBKeyRange.bound([i],[WT(i)],!1,!0);let c=0;return _u(e).J({index:"documentTargetsIndex",H:!0,range:a},([d,_],v,S)=>{0!==d&&(c++,S.done())}).next(()=>c>0)}ot(e,t){return Pd(e).get(t).next(i=>i?sg(i):null)}}function Pd(r){return qi(r,"targets")}function QE(r){return qi(r,"targetGlobal")}function _u(r){return qi(r,"targetDocuments")}function iS([r,e],[t,i]){const a=fn(r,t);return 0===a?fn(e,i):a}class _M{constructor(e){this.Qn=e,this.buffer=new mr(iS),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();iS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;Ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ve.A)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){dc(i)?Ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Fo(i)}yield t.Gn(3e5)}))}}class yM{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(rs.oe);const i=new _M(t);return this.zn.forEachTarget(e,a=>i.Un(a.sequenceNumber)).next(()=>this.zn.Hn(e,a=>i.Un(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(f_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,a,c,d,_,v,S;const O=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),a=this.params.maximumSequenceNumbersToCollect):a=L,d=Date.now(),this.nthSequenceNumber(e,a))).next(L=>(i=L,_=Date.now(),this.removeTargets(e,i,t))).next(L=>(c=L,v=Date.now(),this.removeOrphanedDocuments(e,i))).next(L=>(S=Date.now(),Mh()<=Ar.$b.DEBUG&&Ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-O}ms\n\tDetermined least recently used ${a} in `+(_-d)+`ms\n\tRemoved ${c} targets in `+(v-_)+`ms\n\tRemoved ${L} documents in `+(S-v)+`ms\nTotal Duration: ${S-O}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:L})))}}class vM{constructor(e,t){this.db=e,this.garbageCollector=function oS(r,e){return new yM(r,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,a)=>t(a))}addReference(e,t,i){return XE(e,i)}removeReference(e,t,i){return XE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return XE(e,t)}Xn(e,t){return function(a,c){let d=!1;return p_(a).Y(_=>KE(a,_,c).next(v=>(v&&(d=!0),fe.resolve(!v)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Zn(e,(d,_)=>{if(_<=t){const v=this.Xn(e,d).next(S=>{if(!S)return c++,i.getEntry(e,d).next(()=>(i.removeEntry(d,Bt.min()),_u(e).delete([0,Gi(d.path)])))});a.push(v)}}).next(()=>fe.waitFor(a)).next(()=>i.apply(e)).next(()=>c)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return XE(e,t)}Zn(e,t){const i=_u(e);let a,c=rs.oe;return i.J({index:"documentTargetsIndex"},([d,_],{path:v,sequenceNumber:S})=>{0===d?(c!==rs.oe&&t(new yt(za(a)),c),c=S,a=v):c=rs.oe}).next(()=>{c!==rs.oe&&t(new yt(za(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function XE(r,e){return _u(r).put((a=r.currentSequenceNumber,{targetId:0,path:Gi(e.path),sequenceNumber:a}));var a}class aS{constructor(){this.changes=new Al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ab{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return tf(e).put(i)}removeEntry(e,t,i){return tf(e).delete(function(c,d){const _=c.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],a_(d),_[_.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=Hr.newInvalidDocument(t);return tf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(g_(t))},(a,c)=>{i=this.tr(t,c)}).next(()=>i)}nr(e,t){let i={size:0,document:Hr.newInvalidDocument(t)};return tf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(g_(t))},(a,c)=>{i={document:this.tr(t,c),size:GE(c)}}).next(()=>i)}getEntries(e,t){let i=ho();return this.rr(e,t,(a,c)=>{const d=this.tr(a,c);i=i.insert(a,d)}).next(()=>i)}ir(e,t){let i=ho(),a=new Dr(yt.comparator);return this.rr(e,t,(c,d)=>{const _=this.tr(c,d);i=i.insert(c,_),a=a.insert(c,GE(d))}).next(()=>({documents:i,sr:a}))}rr(e,t,i){if(t.isEmpty())return fe.resolve();let a=new mr(uS);t.forEach(v=>a=a.add(v));const c=IDBKeyRange.bound(g_(a.first()),g_(a.last())),d=a.getIterator();let _=d.getNext();return tf(e).J({index:"documentKeyIndex",range:c},(v,S,O)=>{const L=yt.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;_&&uS(_,L)<0;)i(_,null),_=d.getNext();_&&_.isEqual(L)&&(i(_,S),_=d.hasNext()?d.getNext():null),_?O.$(g_(_)):O.done()}).next(()=>{for(;_;)i(_,null),_=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,i,a,c){const d=t.path,_=[d.popLast().toArray(),d.lastSegment(),a_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],v=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tf(e).U(IDBKeyRange.bound(_,v,!0)).next(S=>{c?.incrementDocumentReadCount(S.length);let O=ho();for(const L of S){const X=this.tr(yt.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);X.isFoundDocument()&&($p(t,X)||a.has(X.key))&&(O=O.insert(X.key,X))}return O})}getAllFromCollectionGroup(e,t,i,a){let c=ho();const d=cS(t,i),_=cS(t,lo.max());return tf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,_,!0)},(v,S,O)=>{const L=this.tr(yt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);c=c.insert(L.key,L),c.size===a&&O.done()}).next(()=>c)}newChangeBuffer(e){return new EM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return lS(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}er(e,t){return lS(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function Kw(r,e){let t;if(e.document)t=au(r.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=yt.fromSegments(e.noDocument.path),a=Wa(e.noDocument.readTime);t=Hr.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return At();{const i=yt.fromSegments(e.unknownDocument.path),a=Wa(e.unknownDocument.version);t=Hr.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(a){const c=new ti(a[0],a[1]);return Bt.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Bt.min()))return i}return Hr.newInvalidDocument(e)}}function YE(r){return new ab(r)}class EM extends aS{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Al(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new mr((c,d)=>fn(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const _=this.ar.get(c);if(t.push(this._r.removeEntry(e,c,_.readTime)),d.isValidDocument()){const v=kE(this._r.serializer,d);a=a.add(c.path.popLast());const S=GE(v);i+=S-_.size,t.push(this._r.addEntry(e,c,v))}else if(i-=_.size,this.trackRemovals){const v=kE(this._r.serializer,d.convertToNoDocument(Bt.min()));t.push(this._r.addEntry(e,c,v))}}),a.forEach(c=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),t.push(this._r.updateMetadata(e,i)),fe.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:a})=>(a.forEach((c,d)=>{this.ar.set(c,{size:d,readTime:i.get(c).readTime})}),i))}}function lS(r){return qi(r,"remoteDocumentGlobal")}function tf(r){return qi(r,"remoteDocumentsV14")}function g_(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cS(r,e){const t=e.documentKey.path.toArray();return[r,a_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function uS(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let c=0;c<t.length-2&&c<i.length-2;++c)if(a=fn(t[c],i[c]),a)return a;return a=fn(t.length,i.length),a||(a=fn(t[t.length-2],i[i.length-2]),a||fn(t[t.length-1],i[i.length-1]))}class IM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dS{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&Kp(i.mutation,a,co.empty(),ti.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,In()).next(()=>i))}getLocalViewOfDocuments(e,t,i=In()){const a=fo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let d=Ed();return c.forEach((_,v)=>{d=d.insert(_,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,In()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,_)=>{t.set(d,_)})})}computeViews(e,t,i,a){let c=ho();const d=gc(),_=gc();return t.forEach((v,S)=>{const O=i.get(S.key);a.has(S.key)&&(void 0===O||O.mutation instanceof mc)?c=c.insert(S.key,S):void 0!==O?(d.set(S.key,O.mutation.getFieldMask()),Kp(O.mutation,S,O.mutation.getFieldMask(),ti.now())):d.set(S.key,co.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((S,O)=>d.set(S,O)),t.forEach((S,O)=>{var L;return _.set(S,new IM(O,null!==(L=d.get(S))&&void 0!==L?L:null))}),_))}recalculateAndSaveOverlays(e,t){const i=gc();let a=new Dr((d,_)=>d-_),c=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const _ of d)_.keys().forEach(v=>{const S=t.get(v);if(null===S)return;let O=i.get(v)||co.empty();O=_.applyToLocalView(S,O),i.set(v,O);const L=(a.get(_.batchId)||In()).add(v);a=a.insert(_.batchId,L)})}).next(()=>{const d=[],_=a.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),S=v.key,O=v.value,L=zh();O.forEach(X=>{if(!c.has(X)){const ee=Sw(t.get(X),i.get(X));null!==ee&&L.set(X,ee),c=c.add(X)}}),d.push(this.documentOverlayCache.saveOverlays(e,S,L))}return fe.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return yt.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a);var d}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):fe.resolve(fo());let _=-1,v=c;return d.next(S=>fe.forEach(S,(O,L)=>(_<L.largestBatchId&&(_=L.largestBatchId),c.get(O)?fe.resolve():this.remoteDocumentCache.getEntry(e,O).next(X=>{v=v.insert(O,X)}))).next(()=>this.populateOverlays(e,S,c)).next(()=>this.computeViews(e,v,S,In())).next(O=>({batchId:_,changes:wE(O)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new yt(t)).next(i=>{let a=Ed();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const c=t.collectionGroup;let d=Ed();return this.indexManager.getCollectionParents(e,c).next(_=>fe.forEach(_,v=>{const S=(L=t,X=v.child(c),new bl(X,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,X;return this.getDocumentsMatchingCollectionQuery(e,S,i,a).next(O=>{O.forEach((L,X)=>{d=d.insert(L,X)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,a))).next(d=>{c.forEach((v,S)=>{const O=S.getKey();null===d.get(O)&&(d=d.insert(O,Hr.newInvalidDocument(O)))});let _=Ed();return d.forEach((v,S)=>{const O=c.get(v);void 0!==O&&Kp(O.mutation,S,co.empty(),ti.now()),$p(t,S)&&(_=_.insert(v,S))}),_})}}class TM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return fe.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(a=t).id,version:a.version,createTime:bn(a.createTime)}),fe.resolve();var a}getNamedQuery(e,t){return fe.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(a=t).name,query:LE(a.bundledQuery),readTime:bn(a.readTime)}),fe.resolve();var a}}class hS{constructor(){this.overlays=new Dr(yt.comparator),this.lr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fo();return fe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.lt(e,t,c)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.lr.get(i);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=fo(),c=t.length+1,d=new yt(t.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,S=v.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===c&&v.largestBatchId>i&&a.set(v.getKey(),v)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new Dr((S,O)=>S-O);const d=this.overlays.getIterator();for(;d.hasNext();){const S=d.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>i){let O=c.get(S.largestBatchId);null===O&&(O=fo(),c=c.insert(S.largestBatchId,O)),O.set(S.getKey(),S)}}const _=fo(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((S,O)=>_.set(S,O)),!(_.size()>=a)););return fe.resolve(_)}lt(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const d=this.lr.get(a.largestBatchId).delete(i.key);this.lr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new Nw(t,i));let c=this.lr.get(t);void 0===c&&(c=In(),this.lr.set(t,c)),this.lr.set(t,c.add(i.key))}}class yu{constructor(){this.hr=new mr(Ii.Pr),this.Ir=new mr(Ii.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Ii(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Ii(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new yt(new Hn([])),i=new Ii(t,e),a=new Ii(t,e+1),c=[];return this.Ir.forEachInRange([i,a],d=>{this.dr(d),c.push(d.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new yt(new Hn([])),i=new Ii(t,e),a=new Ii(t,e+1);let c=In();return this.Ir.forEachInRange([i,a],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new Ii(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ii{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return yt.comparator(e.key,t.key)||fn(e.gr,t.gr)}static Tr(e,t){return fn(e.gr,t.gr)||yt.comparator(e.key,t.key)}}class fS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new mr(Ii.Pr)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const c=this.pr;this.pr++;const d=new qh(c,t,i,a);this.mutationQueue.push(d);for(const _ of a)this.yr=this.yr.add(new Ii(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return fe.resolve(d)}lookupMutationBatch(e,t){return fe.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Sr(t+1),c=a<0?0:a;return fe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ii(t,0),a=new Ii(t,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([i,a],d=>{const _=this.wr(d.gr);c.push(_)}),fe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mr(fn);return t.forEach(a=>{const c=new Ii(a,0),d=new Ii(a,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,d],_=>{i=i.add(_.gr)})}),fe.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;yt.isDocumentKey(c)||(c=c.child(""));const d=new Ii(new yt(c),0);let _=new mr(fn);return this.yr.forEachWhile(v=>{const S=v.key.path;return!!i.isPrefixOf(S)&&(S.length===a&&(_=_.add(v.gr)),!0)},d),fe.resolve(this.br(_))}br(e){const t=[];return e.forEach(i=>{const a=this.wr(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Ft(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return fe.forEach(t.mutations,a=>{const c=new Ii(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Ii(t,0),a=this.yr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return fe.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wM{constructor(e){this.Cr=e,this.docs=new Dr(yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,d=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Hr.newInvalidDocument(t))}getEntries(e,t){let i=ho();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Hr.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=ho();const d=t.path,_=new yt(d.child("")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:S,value:{document:O}}=v.getNext();if(!d.isPrefixOf(S.path))break;S.path.length>d.length+1||iE(rE(O),i)<=0||(a.has(O.key)||$p(t,O))&&(c=c.insert(O.key,O.mutableCopy()))}return fe.resolve(c)}getAllFromCollectionGroup(e,t,i,a){At()}vr(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lb(this)}getSize(e){return fe.resolve(this.size)}}class lb extends aS{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this._r.addEntry(e,a)):this._r.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class pS{constructor(e){this.persistence=e,this.Fr=new Al(t=>Ks(t),Bp),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new yu,this.targetCount=0,this.Nr=mu.On()}forEachTarget(e,t){return this.Fr.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),fe.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new mu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.kn(t),fe.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.Fr.forEach((d,_)=>{_.sequenceNumber<=t&&null===i.get(_.targetId)&&(this.Fr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),fe.waitFor(c).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),fe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.Or.containsKey(t))}}class cb{constructor(e,t){this.Lr={},this.overlays={},this.Br=new rs(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new pS(this),this.indexManager=new rb,this.remoteDocumentCache=new wM(i=>this.referenceDelegate.Qr(i)),this.serializer=new ig(t),this.Kr=new TM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Lr[e.toKey()];return i||(i=new fS(t,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){Ye("MemoryPersistence","Starting transaction:",e);const a=new gS(this.Br.next());return this.referenceDelegate.$r(),i(a).next(c=>this.referenceDelegate.Ur(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Wr(e,t){return fe.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,t)))}}class gS extends oE{constructor(e){super(),this.currentSequenceNumber=e}}class m_{constructor(e){this.persistence=e,this.Gr=new yu,this.zr=null}static jr(e){return new m_(e)}get Hr(){if(this.zr)return this.zr;throw At()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(a=>this.Hr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Hr.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Hr,i=>{const a=yt.fromPath(i);return this.Jr(e,a).next(c=>{c||t.removeEntry(a,Bt.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return fe.or([()=>fe.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class y_{constructor(e){this.serializer=e}O(e,t,i,a){const c=new Mp("createOrUpgrade",t);var v;i<1&&a>=1&&(e.createObjectStore("owner"),(v=e).createObjectStore("mutationQueues",{keyPath:"userId"}),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XT,{unique:!0}),v.createObjectStore("documentMutations"),ZE(e),function(v){v.createObjectStore("remoteDocuments")}(e));let d=fe.resolve();return i<3&&a>=3&&(0!==i&&(function(v){v.deleteObjectStore("targetDocuments"),v.deleteObjectStore("targets"),v.deleteObjectStore("targetGlobal")}(e),ZE(e)),d=d.next(()=>function(v){const S=v.store("targetGlobal"),O={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return S.put("targetGlobalKey",O)}(c))),i<4&&a>=4&&(0!==i&&(d=d.next(()=>function(v,S){return S.store("mutations").U().next(O=>{v.deleteObjectStore("mutations"),v.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XT,{unique:!0});const L=S.store("mutations"),X=O.map(ee=>L.put(ee));return fe.waitFor(X)})}(e,c))),d=d.next(()=>{!function(v){v.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(d=d.next(()=>this.Zr(c))),i<6&&a>=6&&(d=d.next(()=>(function(v){v.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),i<7&&a>=7&&(d=d.next(()=>this.ei(c))),i<8&&a>=8&&(d=d.next(()=>this.ti(e,c))),i<9&&a>=9&&(d=d.next(()=>{!function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(d=d.next(()=>this.ni(c))),i<11&&a>=11&&(d=d.next(()=>{(function(v){v.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(v){v.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(d=d.next(()=>{!function(v){const S=v.createObjectStore("documentOverlays",{keyPath:hM});S.createIndex("collectionPathOverlayIndex",Fm,{unique:!1}),S.createIndex("collectionGroupOverlayIndex",UD,{unique:!1})}(e)})),i<13&&a>=13&&(d=d.next(()=>function(v){const S=v.createObjectStore("remoteDocumentsV14",{keyPath:xp});S.createIndex("documentKeyIndex",Lm),S.createIndex("collectionGroupIndex",lE)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(d=d.next(()=>this.ii(e,c))),i<15&&a>=15&&(d=d.next(()=>function(v){v.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),v.createObjectStore("indexState",{keyPath:fd}).createIndex("sequenceNumberIndex",ew,{unique:!1}),v.createObjectStore("indexEntries",{keyPath:tw}).createIndex("documentKeyIndex",VD,{unique:!1})}(e))),i<16&&a>=16&&(d=d.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),d}Xr(e){let t=0;return e.store("remoteDocuments").J((i,a)=>{t+=GE(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(a=>fe.forEach(a,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",d).next(_=>fe.forEach(_,v=>{Ft(v.userId===c.userId);const S=Ad(this.serializer,v);return WE(e,c.userId,S).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return i.J((d,_)=>{const v=new Hn(d),S=[0,Gi(v)];c.push(t.get(S).next(O=>O?fe.resolve():t.put({targetId:0,path:Gi(v),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>fe.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:JT});const i=t.store("collectionParents"),a=new lg,c=d=>{if(a.add(d)){const _=d.lastSegment(),v=d.popLast();return i.put({collectionId:_,parent:Gi(v)})}};return t.store("remoteDocuments").J({H:!0},(d,_)=>{const v=new Hn(d);return c(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,_,v],S)=>{const O=za(_);return c(O.popLast())}))}ni(e){const t=e.store("targets");return t.J((i,a)=>{const c=sg(a),d=Qw(this.serializer,c);return t.put(d)})}ri(e,t){const i=t.store("remoteDocuments"),a=[];return i.J((c,d)=>{const _=t.store("remoteDocumentsV14"),v=(L=d,L.document?new yt(Hn.fromString(L.document.name).popFirst(5)):L.noDocument?yt.fromSegments(L.noDocument.path):L.unknownDocument?yt.fromSegments(L.unknownDocument.path):At()).path.toArray(),S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};var L;a.push(_.put(S))}).next(()=>fe.waitFor(a))}ii(e,t){const i=t.store("mutations"),a=YE(this.serializer),c=new cb(m_.jr,this.serializer.ut);return i.U().next(d=>{const _=new Map;return d.forEach(v=>{var S;let O=null!==(S=_.get(v.userId))&&void 0!==S?S:In();Ad(this.serializer,v).keys().forEach(L=>O=O.add(L)),_.set(v.userId,O)}),fe.forEach(_,(v,S)=>{const O=new zi(S),L=l_.ct(this.serializer,O),X=c.getIndexManager(O),ee=qE.ct(O,this.serializer,X,c.referenceDelegate);return new dS(a,ee,L,X).recalculateAndSaveOverlaysForDocumentKeys(new pd(t,rs.oe),v).next()})})}}function ZE(r){r.createObjectStore("targetDocuments",{keyPath:FD}).createIndex("documentTargetsIndex",cE,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LD,{unique:!0}),r.createObjectStore("targetGlobal")}const JE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class v_{constructor(e,t,i,a,c,d,_,v,S,O,L=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=c,this.window=d,this.document=_,this.oi=S,this._i=O,this.ai=L,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=X=>Promise.resolve(),!v_.D())throw new Qe(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vM(this,a),this.Ii=t+"main",this.serializer=new ig(v),this.Ti=new uc(this.Ii,this.ai,new y_(this.serializer)),this.qr=new ob(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YE(this.serializer),this.Kr=new nS,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===O&&vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qe(Re.FAILED_PRECONDITION,JE);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new rs(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,Ve.A)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,Ve.A)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ve.A)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ug(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(dc(e))return Ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return E_(e).get("owner").next(t=>fe.resolve(this.wi(t)))}Si(e){return ug(e).delete(this.clientId)}bi(){var e=this;return(0,Ve.A)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=qi(i,"clientMetadata");return a.U().next(c=>{const d=e.Ci(c,18e5),_=c.filter(v=>-1===d.indexOf(v));return fe.forEach(_,v=>a.delete(v.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?fe.resolve(!0):E_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Qe(Re.FAILED_PRECONDITION,JE);return!1}}return!(!this.networkEnabled||!this.inForeground)||ug(e).U().next(i=>void 0===this.Ci(i,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ye("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ve.A)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new pd(t,rs.oe);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>ug(e).U().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return qE.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ib(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return l_.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){Ye("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",c=16===(v=this.ai)?Um:15===v?hE:14===v?Vm:13===v?dE:12===v?nw:11===v?uE:void At();var v;let d;return this.Ti.runTransaction(e,a,c,_=>(d=new pd(_,this.Br?this.Br.next():rs.oe),"readwrite-primary"===t?this.fi(d).next(v=>!!v||this.gi(d)).next(v=>{if(!v)throw vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Qe(Re.FAILED_PRECONDITION,sE);return i(d)}).next(v=>this.yi(d).next(()=>v)):this.Bi(d).next(()=>i(d)))).then(_=>(d.raiseOnCommittedEvent(),_))}Bi(e){return E_(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Qe(Re.FAILED_PRECONDITION,JE)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return E_(e).put("owner",t)}static D(){return uc.D()}pi(e){const t=E_(e);return t.get("owner").next(i=>this.wi(i)?(Ye("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(vi(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,yn.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ye("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){vi("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function E_(r){return qi(r,"owner")}function ug(r){return qi(r,"clientMetadata")}function ub(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class eI{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=a}static Qi(e,t){let i=In(),a=In();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new eI(e,t.fromCache,i,a)}}class db{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class I_{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=(0,yn.nr)()?8:qT((0,yn.ZQ)())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,a){const c={result:null};return this.zi(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ji(e,t,a,i).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new db;return this.Hi(e,t,d).next(_=>{if(c.result=_,this.$i)return this.Ji(e,t,d,_.size)})}).next(()=>c.result)}Ji(e,t,i,a){return i.documentReadCount<this.Ui?(Mh()<=Ar.$b.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",pc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),fe.resolve()):(Mh()<=Ar.$b.DEBUG&&Ye("QueryEngine","Query:",pc(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Wi*a?(Mh()<=Ar.$b.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",pc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(t))):fe.resolve())}zi(e,t){if(Xm(t))return fe.resolve(null);let i=Ns(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Ym(t,null,"F"),i=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const d=In(...c);return this.Gi.getDocuments(e,d).next(_=>this.indexManager.getMinOffset(e,i).next(v=>{const S=this.Yi(t,_);return this.Zi(t,S,d,v.readTime)?this.zi(e,Ym(t,null,"F")):this.Xi(e,S,t,v)}))})))}ji(e,t,i,a){return Xm(t)||a.isEqual(Bt.min())?fe.resolve(null):this.Gi.getDocuments(e,i).next(c=>{const d=this.Yi(t,c);return this.Zi(t,d,i,a)?fe.resolve(null):(Mh()<=Ar.$b.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pc(t)),this.Xi(e,d,t,Om(a,-1)).next(_=>_))})}Yi(e,t){let i=new mr(ww(e));return t.forEach((a,c)=>{$p(e,c)&&(i=i.add(c))}),i}Zi(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Hi(e,t,i){return Mh()<=Ar.$b.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",pc(t)),this.Gi.getDocumentsMatchingQuery(e,t,lo.min(),i)}Xi(e,t,i,a){return this.Gi.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class mS{constructor(e,t,i,a){this.persistence=e,this.es=t,this.serializer=a,this.ts=new Dr(fn),this.ns=new Al(c=>Ks(c),Bp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function hb(r,e,t,i){return new mS(r,e,t,i)}function dg(r,e){return tI.apply(this,arguments)}function tI(){return tI=(0,Ve.A)(function*(r,e){const t=gt(r);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const d=[],_=[];let v=In();for(const S of a){d.push(S.batchId);for(const O of S.mutations)v=v.add(O.key)}for(const S of c){_.push(S.batchId);for(const O of S.mutations)v=v.add(O.key)}return t.localDocuments.getDocuments(i,v).next(S=>({_s:S,removedBatchIds:d,addedBatchIds:_}))})})}),tI.apply(this,arguments)}function fb(r){const e=gt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function pb(r,e,t){let i=In(),a=In();return t.forEach(c=>i=i.add(c)),e.getEntries(r,i).next(c=>{let d=ho();return t.forEach((_,v)=>{const S=c.get(_);v.isFoundDocument()!==S.isFoundDocument()&&(a=a.add(_)),v.isNoDocument()&&v.version.isEqual(Bt.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!S.isValidDocument()||v.version.compareTo(S.version)>0||0===v.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):Ye("LocalStore","Ignoring outdated watch update for ",_,". Current version:",S.version," Watch version:",v.version)}),{us:d,cs:a}})}function vS(r,e){const t=gt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nf(r,e){const t=gt(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.qr.getTargetData(i,e).next(c=>c?(a=c,fe.resolve(a)):t.qr.allocateTargetId(i).next(d=>(a=new hu(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.ts.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Md(r,e,t){return T_.apply(this,arguments)}function T_(){return T_=(0,Ve.A)(function*(r,e,t){const i=gt(r),a=i.ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!dc(d))throw d;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.ts=i.ts.remove(e),i.ns.delete(a.target)}),T_.apply(this,arguments)}function w_(r,e,t){const i=gt(r);let a=Bt.min(),c=In();return i.persistence.runTransaction("Execute query","readwrite",d=>function(v,S,O){const L=gt(v),X=L.ns.get(O);return void 0!==X?fe.resolve(L.ts.get(X)):L.qr.getTargetData(S,O)}(i,d,Ns(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(d,_.targetId).next(v=>{c=v})}).next(()=>i.es.getDocumentsMatchingQuery(d,e,t?a:Bt.min(),t?c:In())).next(_=>(rI(i,$D(e),_),{documents:_,ls:c})))}function ES(r,e){const t=gt(r),i=gt(t.qr),a=t.ts.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",c=>i.ot(c,e).next(d=>d?d.target:null))}function nI(r,e){const t=gt(r),i=t.rs.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.ss.getAllFromCollectionGroup(a,e,Om(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(rI(t,e,a),a))}function rI(r,e,t){let i=r.rs.get(e)||Bt.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),r.rs.set(e,i)}function b_(){return b_=(0,Ve.A)(function*(r,e,t,i){const a=gt(r);let c=In(),d=ho();for(const S of t){const O=e.hs(S.metadata.name);S.document&&(c=c.add(O));const L=e.Ps(S);L.setReadTime(e.Is(S.metadata.readTime)),d=d.insert(O,L)}const _=a.ss.newChangeBuffer({trackRemovals:!0}),v=yield nf(a,(O=i,Ns(Cl(Hn.fromString(`__bundle__/docs/${O}`)))));var O;return a.persistence.runTransaction("Apply bundle documents","readwrite",S=>pb(S,_,d).next(O=>(_.apply(S),O)).next(O=>a.qr.removeMatchingKeysForTargetId(S,v.targetId).next(()=>a.qr.addMatchingKeys(S,c,v.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(S,O.us,O.cs)).next(()=>O.us)))}),b_.apply(this,arguments)}function IS(r,e){return gb.apply(this,arguments)}function gb(){return gb=(0,Ve.A)(function*(r,e,t=In()){const i=yield nf(r,Ns(LE(e.bundledQuery))),a=gt(r);return a.persistence.runTransaction("Save named query","readwrite",c=>{const d=bn(e.readTime);if(i.snapshotVersion.compareTo(d)>=0)return a.Kr.saveNamedQuery(c,e);const _=i.withResumeToken(Lt.EMPTY_BYTE_STRING,d);return a.ts=a.ts.insert(_.targetId,_),a.qr.updateTargetData(c,_).next(()=>a.qr.removeMatchingKeysForTargetId(c,i.targetId)).next(()=>a.qr.addMatchingKeys(c,t,i.targetId)).next(()=>a.Kr.saveNamedQuery(c,e))})}),gb.apply(this,arguments)}function C_(r,e){return`firestore_clients_${r}_${e}`}function A_(r,e,t){let i=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function iI(r,e){return`firestore_targets_${r}_${e}`}class hg{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Ts(e,t,i){const a=JSON.parse(i);let c,d="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return d&&a.error&&(d="string"==typeof a.error.message&&"string"==typeof a.error.code,d&&(c=new Qe(a.error.code,a.error.message))),d?new hg(e,t,a.state,c):(vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nd{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let a,c="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Qe(i.error.code,i.error.message))),c?new Nd(e,i.state,a):(vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class D_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,c=Hp();for(let d=0;a&&d<i.activeTargetIds.length;++d)a=xm(i.activeTargetIds[d]),c=c.add(i.activeTargetIds[d]);return a?new D_(e,c):(vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class rf{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rf(t.clientId,t.onlineState):(vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mb{constructor(){this.activeTargetIds=Hp()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _b{constructor(e,t,i,a,c){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Dr(fn),this.started=!1,this.ps=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=C_(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new mb),this.Ss=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(v){return`firestore_bundle_loaded_v2_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ve.A)(function*(){const t=yield e.syncEngine.Li();for(const a of t){if(a===e.Rs)continue;const c=e.getItem(C_(e.persistenceKey,a));if(c){const d=D_.Ts(a,c);d&&(e.gs=e.gs.insert(d.clientId,d))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const a=e.Ms(i);a&&e.xs(a)}for(const a of e.ps)e.fs(a);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(iI(this.persistenceKey,e));if(i){const a=Nd.Ts(e,i);a&&(t=a.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iI(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Ls(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ye("SharedClientState","READ",e,t),t}setItem(e,t){Ye("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ye("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ve.A)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const a=t.Ks(i.key);return t.$s(a,null)}{const a=t.Us(i.key,i.newValue);if(a)return t.$s(a.clientId,a)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const a=t.Ws(i.key,i.newValue);if(a)return t.Gs(a)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const a=t.zs(i.key,i.newValue);if(a)return t.js(a)}}else if(i.key===t.Cs){if(null!==i.newValue){const a=t.Ms(i.newValue);if(a)return t.xs(a)}}else if(i.key===t.ws){const a=function(d){let _=rs.oe;if(null!=d)try{const v=JSON.parse(d);Ft("number"==typeof v),_=v}catch(v){vi("SharedClientState","Failed to read sequence number from WebStorage",v)}return _}(i.newValue);a!==rs.oe&&t.sequenceNumberHandler(a)}else if(i.key===t.vs){const a=t.Hs(i.newValue);yield Promise.all(a.map(c=>t.syncEngine.Js(c)))}}else t.ps.push(i)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,i){const a=new hg(this.currentUser,e,t,i),c=A_(this.persistenceKey,this.currentUser,e);this.setItem(c,a.Es())}Ls(e){const t=A_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const a=iI(this.persistenceKey,e),c=new Nd(e,t,i);this.setItem(a,c.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return D_.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),a=Number(i[1]);return hg.Ts(new zi(void 0!==i[2]?i[2]:null),a,t)}zs(e,t){const i=this.Ds.exec(e),a=Number(i[1]);return Nd.Ts(a,t)}Ms(e){return rf.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,Ve.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);Ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),a=this.Os(this.gs),c=this.Os(i),d=[],_=[];return c.forEach(v=>{a.has(v)||d.push(v)}),a.forEach(v=>{c.has(v)||_.push(v)}),this.syncEngine.Xs(d,_).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Hp();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class yb{constructor(){this.eo=new mb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new mb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bM{ro(e){}shutdown(){}}class xd{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sI=null;function sf(){return null===sI?sI=268435456+Math.round(2147483648*Math.random()):sI++,"0x"+sI.toString(16)}const TS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const is="WebChannelConnection";class bS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.yo=i+"://"+t.host,this.wo=`projects/${a}/databases/${c}`,this.So="(default)"===this.databaseId.database?`project_id=${a}`:`project_id=${a}&database_id=${c}`}get bo(){return!1}Do(t,i,a,c,d){const _=sf(),v=this.Co(t,i.toUriEncodedString());Ye("RestConnection",`Sending RPC '${t}' ${_}:`,v,a);const S={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(S,c,d),this.Fo(t,v,S,a).then(O=>(Ye("RestConnection",`Received RPC '${t}' ${_}: `,O),O),O=>{throw Ms("RestConnection",`RPC '${t}' ${_} failed with error: `,O,"url: ",v,"request:",a),O})}Mo(t,i,a,c,d,_){return this.Do(t,i,a,c,d)}vo(t,i,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+cd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,d)=>t[d]=c),a&&a.headers.forEach((c,d)=>t[d]=c)}Co(t,i){return`${this.yo}/v1/${i}:${TS[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,i,a){const c=sf();return new Promise((d,_)=>{const v=new RD;v.setWithCredentials(!0),v.listenOnce(eE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Sp.NO_ERROR:const O=v.getResponseJson();Ye(is,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(O)),d(O);break;case Sp.TIMEOUT:Ye(is,`RPC '${e}' ${c} timed out`),_(new Qe(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const L=v.getStatus();if(Ye(is,`RPC '${e}' ${c} failed with status:`,L,"response text:",v.getResponseText()),L>0){let X=v.getResponseJson();Array.isArray(X)&&(X=X[0]);const ee=X?.error;if(ee&&ee.status&&ee.message){const de=function(Se){const rt=Se.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(rt)>=0?rt:Re.UNKNOWN}(ee.status);_(new Qe(de,ee.message))}else _(new Qe(Re.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new Qe(Re.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{Ye(is,`RPC '${e}' ${c} completed.`)}});const S=JSON.stringify(a);Ye(is,`RPC '${e}' ${c} sending request:`,a),v.send(t,"POST",S,i,15)})}xo(e,t,i){const a=sf(),c=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rM(),_=iM(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;void 0!==S&&(v.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(v.xmlHttpFactory=new VT({})),this.vo(v.initMessageHeaders,t,i),v.encodeInitMessageHeaders=!0;const O=c.join("");Ye(is,`Creating RPC '${e}' stream ${a}: ${O}`,v);const L=d.createWebChannel(O,v);let X=!1,ee=!1;const de=new wS({co:Se=>{ee?Ye(is,`Not sending because RPC '${e}' stream ${a} is closed:`,Se):(X||(Ye(is,`Opening RPC '${e}' stream ${a} transport.`),L.open(),X=!0),Ye(is,`RPC '${e}' stream ${a} sending:`,Se),L.send(Se))},lo:()=>L.close()}),pe=(Se,rt,ft)=>{Se.listen(rt,qe=>{try{ft(qe)}catch(vt){setTimeout(()=>{throw vt},0)}})};return pe(L,Pm.EventType.OPEN,()=>{ee||(Ye(is,`RPC '${e}' stream ${a} transport opened.`),de.Vo())}),pe(L,Pm.EventType.CLOSE,()=>{ee||(ee=!0,Ye(is,`RPC '${e}' stream ${a} transport closed`),de.fo())}),pe(L,Pm.EventType.ERROR,Se=>{ee||(ee=!0,Ms(is,`RPC '${e}' stream ${a} transport errored:`,Se),de.fo(new Qe(Re.UNAVAILABLE,"The operation could not be completed")))}),pe(L,Pm.EventType.MESSAGE,Se=>{var rt;if(!ee){const ft=Se.data[0];Ft(!!ft);const vt=ft.error||(null===(rt=ft[0])||void 0===rt?void 0:rt.error);if(vt){Ye(is,`RPC '${e}' stream ${a} received error:`,vt);const sn=vt.status;let ln=function(qd){const Kd=Ei[qd];if(void 0!==Kd)return xw(Kd)}(sn),Dn=vt.message;void 0===ln&&(ln=Re.INTERNAL,Dn="Unknown error status: "+sn+" with message "+vt.message),ee=!0,de.fo(new Qe(ln,Dn)),L.close()}else Ye(is,`RPC '${e}' stream ${a} received:`,ft),de.po(ft)}}),pe(_,sM.STAT_EVENT,Se=>{Se.stat===SD.PROXY?Ye(is,`RPC '${e}' stream ${a} detected buffering proxy`):Se.stat===SD.NOPROXY&&Ye(is,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{de.mo()},0),de}}function Ga(){return typeof window<"u"?window:null}function vu(){return typeof document<"u"?document:null}function Qr(r){return new Bw(r,!0)}class yc{constructor(e,t,i=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.Oo=i,this.No=a,this.Lo=c,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),i=Math.max(0,Date.now()-this.qo),a=Math.max(0,t-i);a>0&&Ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class fg{constructor(e,t,i,a,c,d,_,v){this.si=e,this.Wo=i,this.Go=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new yc(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return(0,Ve.A)(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return(0,Ve.A)(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,t){var i=this;return(0,Ve.A)(function*(){i.i_(),i.s_(),i.Jo.cancel(),i.zo++,4!==e?i.Jo.reset():t&&t.code===Re.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),i.Jo.Qo()):t&&t.code===Re.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.o_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Eo(t)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.zo===t&&this.a_(i,a)},i=>{e(()=>{const a=new Qe(Re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.u_(a)})})}a_(e,t){const i=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho(()=>{i(()=>this.listener.ho())}),this.stream.Io(()=>{i(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(a=>{i(()=>this.u_(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Xo(){var e=this;this.state=5,this.Jo.Ko((0,Ve.A)(function*(){e.state=0,e.start()}))}u_(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget(()=>this.zo===e?t():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ba extends fg{constructor(e,t,i,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,d),this.serializer=c}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function ME(r,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(S=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:At(),a=e.targetChange.targetIds||[],c=function(S,O){return S.useProto3Json?(Ft(void 0===O||"string"==typeof O),Lt.fromBase64String(O||"")):(Ft(void 0===O||O instanceof Buffer||O instanceof Uint8Array),Lt.fromUint8Array(O||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&function(S){const O=void 0===S.code?Re.UNKNOWN:xw(S.code);return new Qe(O,S.message||"")}(d);t=new Lw(i,a,c,_||null)}else if("documentChange"in e){const i=e.documentChange,a=wa(r,i.document.name),c=bn(i.document.updateTime),d=i.document.createTime?bn(i.document.createTime):Bt.min(),_=new Os({mapValue:{fields:i.document.fields}}),v=Hr.newFoundDocument(a,c,d,_);t=new Yp(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const i=e.documentDelete,a=wa(r,i.document),c=i.readTime?bn(i.readTime):Bt.min(),d=Hr.newNoDocument(a,c);t=new Yp([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,a=wa(r,i.document);t=new Yp([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return At();{const i=e.filter,{count:a=0,unchangedNames:c}=i,d=new YD(a,c);t=new JD(i.targetId,d)}}var S;return t}(this.serializer,e),i=function(c){if(!("targetChange"in c))return Bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Bt.min():d.readTime?bn(d.readTime):Bt.min()}(e);return this.listener.l_(t,i)}h_(e){const t={};t.database=s_(this.serializer),t.addTarget=function(c,d){let _;const v=d.target;if(_=Qm(v)?{documents:NE(c,v)}:{query:Cd(c,v)._t},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=jw(c,d.resumeToken);const S=Vo(c,d.expectedCount);null!==S&&(_.expectedCount=S)}else if(d.snapshotVersion.compareTo(Bt.min())>0){_.readTime=bd(c,d.snapshotVersion.toTimestamp());const S=Vo(c,d.expectedCount);null!==S&&(_.expectedCount=S)}return _}(this.serializer,e);const i=function lu(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.r_(t)}P_(e){const t={};t.database=s_(this.serializer),t.removeTarget=e,this.r_(t)}}class pg extends fg{constructor(e,t,i,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,d),this.serializer=c,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function Gw(r,e){return r&&r.length>0?(Ft(void 0!==e),r.map(t=>function(a,c){let d=bn(a.updateTime?a.updateTime:c);return d.isEqual(Bt.min())&&(d=bn(c)),new Dw(d,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=bn(e.commitTime);return this.listener.d_(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=s_(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>tg(this.serializer,i))};this.r_(t)}}class CS extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.V_=!1}m_(){if(this.V_)throw new Qe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,i,a){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Do(e,Jp(t,i),a,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Qe(Re.UNKNOWN,c.toString())})}Mo(e,t,i,a,c){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection.Mo(e,Jp(t,i),a,d,_,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Qe(Re.UNKNOWN,d.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class vb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(vi(t),this.y_=!1):Ye("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class AS{constructor(e,t,i,a,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.ro(_=>{i.enqueueAndForget((0,Ve.A)(function*(){var v;vc(d)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ve.A)(function*(O){const L=gt(O);L.M_.add(4),yield kd(L),L.N_.set("Unknown"),L.M_.delete(4),yield gg(L)}),function S(O){return v.apply(this,arguments)})(d))}))}),this.N_=new vb(i,a)}}function gg(r){return ui.apply(this,arguments)}function ui(){return ui=(0,Ve.A)(function*(r){if(vc(r))for(const e of r.x_)yield e(!0)}),ui.apply(this,arguments)}function kd(r){return oI.apply(this,arguments)}function oI(){return oI=(0,Ve.A)(function*(r){for(const e of r.x_)yield e(!1)}),oI.apply(this,arguments)}function ri(r,e){const t=gt(r);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),lf(t)?Ld(t):df(t).Zo()&&Eu(t,e))}function Pl(r,e){const t=gt(r),i=df(t);t.F_.delete(e),i.Zo()&&mg(t,e),0===t.F_.size&&(i.Zo()?i.t_():vc(t)&&t.N_.set("Unknown"))}function Eu(r,e){if(r.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}df(r).h_(e)}function mg(r,e){r.L_.xe(e),df(r).P_(e)}function Ld(r){r.L_=new Fw({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.F_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),df(r).start(),r.N_.w_()}function lf(r){return vc(r)&&!df(r).Yo()&&r.F_.size>0}function vc(r){return 0===gt(r).M_.size}function aI(r){r.L_=void 0}function Eb(r){return cf.apply(this,arguments)}function cf(){return cf=(0,Ve.A)(function*(r){r.N_.set("Online")}),cf.apply(this,arguments)}function lI(r){return R_.apply(this,arguments)}function R_(){return R_=(0,Ve.A)(function*(r){r.F_.forEach((e,t)=>{Eu(r,e)})}),R_.apply(this,arguments)}function P_(r,e){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,Ve.A)(function*(r,e){aI(r),lf(r)?(r.N_.D_(e),Ld(r)):r.N_.set("Unknown")}),Ec.apply(this,arguments)}function DS(r,e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,Ve.A)(function*(r,e,t){if(r.N_.set("Online"),e instanceof Lw&&2===e.state&&e.cause)try{yield(i=(0,Ve.A)(function*(c,d){const _=d.cause;for(const v of d.targetIds)c.F_.has(v)&&(yield c.remoteSyncer.rejectListen(v,_),c.F_.delete(v),c.L_.removeTarget(v))}),function a(c,d){return i.apply(this,arguments)})(r,e)}catch(i){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield M_(r,i)}else if(e instanceof Yp?r.L_.Ke(e):e instanceof JD?r.L_.He(e):r.L_.We(e),!t.isEqual(Bt.min()))try{const i=yield fb(r.localStore);t.compareTo(i)>=0&&(yield function(c,d){const _=c.L_.rt(d);return _.targetChanges.forEach((v,S)=>{if(v.resumeToken.approximateByteSize()>0){const O=c.F_.get(S);O&&c.F_.set(S,O.withResumeToken(v.resumeToken,d))}}),_.targetMismatches.forEach((v,S)=>{const O=c.F_.get(v);if(!O)return;c.F_.set(v,O.withResumeToken(Lt.EMPTY_BYTE_STRING,O.snapshotVersion)),mg(c,v);const L=new hu(O.target,v,S,O.sequenceNumber);Eu(c,L)}),c.remoteSyncer.applyRemoteEvent(_)}(r,t))}catch(i){Ye("RemoteStore","Failed to raise snapshot:",i),yield M_(r,i)}var i}),Qs.apply(this,arguments)}function M_(r,e,t){return cI.apply(this,arguments)}function cI(){return cI=(0,Ve.A)(function*(r,e,t){if(!dc(e))throw e;r.M_.add(1),yield kd(r),r.N_.set("Offline"),t||(t=()=>fb(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ve.A)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield t(),r.M_.delete(1),yield gg(r)}))}),cI.apply(this,arguments)}function O_(r,e){return e().catch(t=>M_(r,t,e))}function Fd(r){return N_.apply(this,arguments)}function N_(){return N_=(0,Ve.A)(function*(r){const e=gt(r),t=Uo(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;SS(e);)try{const a=yield vS(e.localStore,i);if(null===a){0===e.v_.length&&t.t_();break}i=a.batchId,CM(e,a)}catch(a){yield M_(e,a)}Ib(e)&&_g(e)}),N_.apply(this,arguments)}function SS(r){return vc(r)&&r.v_.length<10}function CM(r,e){r.v_.push(e);const t=Uo(r);t.Zo()&&t.T_&&t.E_(e.mutations)}function Ib(r){return vc(r)&&!Uo(r).Yo()&&r.v_.length>0}function _g(r){Uo(r).start()}function uI(r){return yg.apply(this,arguments)}function yg(){return yg=(0,Ve.A)(function*(r){Uo(r).R_()}),yg.apply(this,arguments)}function uf(r){return x_.apply(this,arguments)}function x_(){return x_=(0,Ve.A)(function*(r){const e=Uo(r);for(const t of r.v_)e.E_(t.mutations)}),x_.apply(this,arguments)}function Tb(r,e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,Ve.A)(function*(r,e,t){const i=r.v_.shift(),a=Kh.from(i,e,t);yield O_(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Fd(r)}),Iu.apply(this,arguments)}function dI(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Ve.A)(function*(r,e){var t;e&&Uo(r).T_&&(yield(t=(0,Ve.A)(function*(a,c){if(CE(_=c.code)&&_!==Re.ABORTED){const d=a.v_.shift();Uo(a).e_(),yield O_(a,()=>a.remoteSyncer.rejectFailedWrite(d.batchId,c)),yield Fd(a)}var _}),function i(a,c){return t.apply(this,arguments)})(r,e)),Ib(r)&&_g(r)}),vg.apply(this,arguments)}function hI(r,e){return k_.apply(this,arguments)}function k_(){return k_=(0,Ve.A)(function*(r,e){const t=gt(r);t.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const i=vc(t);t.M_.add(3),yield kd(t),i&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield gg(t)}),k_.apply(this,arguments)}function L_(r,e){return fI.apply(this,arguments)}function fI(){return fI=(0,Ve.A)(function*(r,e){const t=gt(r);e?(t.M_.delete(2),yield gg(t)):e||(t.M_.add(2),yield kd(t),t.N_.set("Unknown"))}),fI.apply(this,arguments)}function df(r){return r.B_||(r.B_=function(t,i,a){const c=gt(t);return c.m_(),new ba(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(r.datastore,r.asyncQueue,{ho:Eb.bind(null,r),Io:lI.bind(null,r),Eo:P_.bind(null,r),l_:DS.bind(null,r)}),r.x_.push(function(){var e=(0,Ve.A)(function*(t){t?(r.B_.e_(),lf(r)?Ld(r):r.N_.set("Unknown")):(yield r.B_.stop(),aI(r))});return function(t){return e.apply(this,arguments)}}())),r.B_}function Uo(r){return r.k_||(r.k_=function(t,i,a){const c=gt(t);return c.m_(),new pg(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(r.datastore,r.asyncQueue,{ho:()=>Promise.resolve(),Io:uI.bind(null,r),Eo:dI.bind(null,r),A_:uf.bind(null,r),d_:Tb.bind(null,r)}),r.x_.push(function(){var e=(0,Ve.A)(function*(t){t?(r.k_.e_(),yield Fd(r)):(yield r.k_.stop(),r.v_.length>0&&(Ye("RemoteStore",`Stopping write stream with ${r.v_.length} pending writes`),r.v_=[]))});return function(t){return e.apply(this,arguments)}}())),r.k_}class F_{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,c){const d=Date.now()+i,_=new F_(e,t,d,a,c);return _.start(i),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qe(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hf(r,e){if(vi("AsyncQueue",`${e}: ${r}`),dc(r))return new Qe(Re.UNAVAILABLE,`${e}: ${r}`);throw r}class ff{constructor(e){this.comparator=e?(t,i)=>e(t,i)||yt.comparator(t.key,i.key):(t,i)=>yt.comparator(t.key,i.key),this.keyedMap=Ed(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new ff(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ff;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class wb{constructor(){this.q_=new Dr(yt.comparator)}track(e){const t=e.doc.key,i=this.q_.get(t);i?0!==e.type&&3===i.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==i.type?this.q_=this.q_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.q_=this.q_.remove(t):1===e.type&&2===i.type?this.q_=this.q_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):At():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vd{constructor(e,t,i,a,c,d,_,v,S){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=S}static fromInitialDocuments(e,t,i,a,c){const d=[];return t.forEach(_=>{d.push({type:0,doc:_})}),new Vd(e,t,ff.emptySet(t),d,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class bb{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class RS{constructor(){this.queries=new Al(e=>IE(e),jp),this.onlineState="Unknown",this.z_=new Set}}function Cb(r,e){return pI.apply(this,arguments)}function pI(){return pI=(0,Ve.A)(function*(r,e){const t=gt(r);let i=3;const a=e.query;let c=t.queries.get(a);c?!c.W_()&&e.G_()&&(i=2):(c=new bb,i=e.G_()?0:1);try{switch(i){case 0:c.K_=yield t.onListen(a,!0);break;case 1:c.K_=yield t.onListen(a,!1);break;case 2:yield t.onFirstRemoteStoreListen(a)}}catch(d){const _=hf(d,`Initialization of query '${pc(e.query)}' failed`);return void e.onError(_)}t.queries.set(a,c),c.U_.push(e),e.j_(t.onlineState),c.K_&&e.H_(c.K_)&&gI(t)}),pI.apply(this,arguments)}function Eg(r,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,Ve.A)(function*(r,e){const t=gt(r),i=e.query;let a=3;const c=t.queries.get(i);if(c){const d=c.U_.indexOf(e);d>=0&&(c.U_.splice(d,1),0===c.U_.length?a=e.G_()?0:1:!c.W_()&&e.G_()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}),Ig.apply(this,arguments)}function Ab(r,e){const t=gt(r);let i=!1;for(const a of e){const d=t.queries.get(a.query);if(d){for(const _ of d.U_)_.H_(a)&&(i=!0);d.K_=a}}i&&gI(t)}function Db(r,e,t){const i=gt(r),a=i.queries.get(e);if(a)for(const c of a.U_)c.onError(t);i.queries.delete(e)}function gI(r){r.z_.forEach(e=>{e.next()})}var mI,_I;(_I=mI||(mI={})).J_="default",_I.Cache="cache";class yI{constructor(e,t,i){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Vd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mI.Cache}}class PS{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class Sb{constructor(e){this.serializer=e}hs(e){return wa(this.serializer,e)}Ps(e){return e.metadata.exists?au(this.serializer,e.document,!1):Hr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return bn(e)}}class MS{constructor(e,t,i){this.oa=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Rb(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const i=Hn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,i=new Sb(this.serializer);for(const a of e)if(a.metadata.queries){const c=i.hs(a.metadata.name);for(const d of a.metadata.queries){const _=(t.get(d)||In()).add(c);t.set(d,_)}}return t}complete(){var e=this;return(0,Ve.A)(function*(){const t=yield function Od(r,e,t,i){return b_.apply(this,arguments)}(e.localStore,new Sb(e.serializer),e.documents,e.oa.id),i=e.aa(e.documents);for(const a of e.queries)yield IS(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:t}})()}}function Rb(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Pb{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class Ob{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=In(),this.mutatedKeys=In(),this.Ia=ww(e),this.Ta=new ff(this.Ia)}get Ea(){return this.la}da(e,t){const i=t?t.Aa:new wb,a=t?t.Ta:this.Ta;let c=t?t.mutatedKeys:this.mutatedKeys,d=a,_=!1;const v="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,S="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((O,L)=>{const X=a.get(O),ee=$p(this.query,L)?L:null,de=!!X&&this.mutatedKeys.has(X.key),pe=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Se=!1;X&&ee?X.data.isEqual(ee.data)?de!==pe&&(i.track({type:3,doc:ee}),Se=!0):this.Ra(X,ee)||(i.track({type:2,doc:ee}),Se=!0,(v&&this.Ia(ee,v)>0||S&&this.Ia(ee,S)<0)&&(_=!0)):!X&&ee?(i.track({type:0,doc:ee}),Se=!0):X&&!ee&&(i.track({type:1,doc:X}),Se=!0,(v||S)&&(_=!0)),Se&&(ee?(d=d.add(ee),c=pe?c.add(O):c.delete(O)):(d=d.delete(O),c=c.delete(O)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const O="F"===this.query.limitType?d.last():d.first();d=d.delete(O.key),c=c.delete(O.key),i.track({type:1,doc:O})}return{Ta:d,Aa:i,Zi:_,mutatedKeys:c}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const c=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const d=e.Aa.Q_();d.sort((O,L)=>function(ee,de){const pe=Se=>{switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return pe(ee)-pe(de)}(O.type,L.type)||this.Ia(O.doc,L.doc)),this.Va(i),a=null!=a&&a;const _=t&&!a?this.ma():[],v=0===this.Pa.size&&this.current&&!a?1:0,S=v!==this.ha;return this.ha=v,0!==d.length||S?{snapshot:new Vd(this.query,e.Ta,c,d,e.mutatedKeys,0===v,S,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:_}:{fa:_}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new wb,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=In(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const t=[];return e.forEach(i=>{this.Pa.has(i)||t.push(new Mb(i))}),this.Pa.forEach(i=>{e.has(i)||t.push(new Pb(i))}),t}pa(e){this.la=e.ls,this.Pa=In();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Vd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class OS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NS{constructor(e){this.key=e,this.wa=!1}}class xS{constructor(e,t,i,a,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Sa={},this.ba=new Al(_=>IE(_),jp),this.Da=new Map,this.Ca=new Set,this.va=new Dr(yt.comparator),this.Fa=new Map,this.Ma=new yu,this.xa={},this.Oa=new Map,this.Na=mu.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Nb(r,e){return V_.apply(this,arguments)}function V_(){return V_=(0,Ve.A)(function*(r,e,t=!0){const i=Q_(r);let a;const c=i.ba.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.ya()):a=yield xb(i,e,t,!0),a}),V_.apply(this,arguments)}function Tu(r,e){return vI.apply(this,arguments)}function vI(){return vI=(0,Ve.A)(function*(r,e){const t=Q_(r);yield xb(t,e,!0,!1)}),vI.apply(this,arguments)}function xb(r,e,t,i){return U_.apply(this,arguments)}function U_(){return U_=(0,Ve.A)(function*(r,e,t,i){const a=yield nf(r.localStore,Ns(e)),c=a.targetId,d=t?r.sharedClientState.addLocalQueryTarget(c):"not-current";let _;return i&&(_=yield EI(r,e,c,"current"===d,a.resumeToken)),r.isPrimaryClient&&t&&ri(r.remoteStore,a),_}),U_.apply(this,arguments)}function EI(r,e,t,i,a){return B_.apply(this,arguments)}function B_(){return B_=(0,Ve.A)(function*(r,e,t,i,a){r.Ba=(L,X,ee)=>{return(de=(0,Ve.A)(function*(Se,rt,ft,qe){let vt=rt.view.da(ft);vt.Zi&&(vt=yield w_(Se.localStore,rt.query,!1).then(({documents:Rr})=>rt.view.da(Rr,vt)));const sn=qe&&qe.targetChanges.get(rt.targetId),ln=qe&&null!=qe.targetMismatches.get(rt.targetId),Dn=rt.view.applyChanges(vt,Se.isPrimaryClient,sn,ln);return W_(Se,rt.targetId,Dn.fa),Dn.snapshot}),function pe(Se,rt,ft,qe){return de.apply(this,arguments)})(r,L,X,ee);var de};const c=yield w_(r.localStore,e,!0),d=new Ob(e,c.ls),_=d.da(c.documents),v=Xp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==r.onlineState,a),S=d.applyChanges(_,r.isPrimaryClient,v);W_(r,t,S.fa);const O=new OS(e,t,d);return r.ba.set(e,O),r.Da.has(t)?r.Da.get(t).push(e):r.Da.set(t,[e]),S.snapshot}),B_.apply(this,arguments)}function kb(r,e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,Ve.A)(function*(r,e,t){const i=gt(r),a=i.ba.get(e),c=i.Da.get(a.targetId);if(c.length>1)return i.Da.set(a.targetId,c.filter(d=>!jp(d,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Md(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Pl(i.remoteStore,a.targetId),jd(i,a.targetId)}).catch(Fo))):(jd(i,a.targetId),yield Md(i.localStore,a.targetId,!0))}),Ud.apply(this,arguments)}function II(r,e){return wu.apply(this,arguments)}function wu(){return wu=(0,Ve.A)(function*(r,e){const t=gt(r),i=t.ba.get(e),a=t.Da.get(i.targetId);t.isPrimaryClient&&1===a.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Pl(t.remoteStore,i.targetId))}),wu.apply(this,arguments)}function bu(){return bu=(0,Ve.A)(function*(r,e,t){const i=X_(r);try{const a=yield function(d,_){const v=gt(d),S=ti.now(),O=_.reduce((ee,de)=>ee.add(de.key),In());let L,X;return v.persistence.runTransaction("Locally write mutations","readwrite",ee=>{let de=ho(),pe=In();return v.ss.getEntries(ee,O).next(Se=>{de=Se,de.forEach((rt,ft)=>{ft.isValidDocument()||(pe=pe.add(rt))})}).next(()=>v.localDocuments.getOverlayedDocuments(ee,de)).next(Se=>{L=Se;const rt=[];for(const ft of _){const qe=n_(ft,L.get(ft.key).overlayedDocument);null!=qe&&rt.push(new mc(ft.key,qe,zm(qe.value.mapValue),ni.exists(!0)))}return v.mutationQueue.addMutationBatch(ee,S,rt,_)}).next(Se=>{X=Se;const rt=Se.applyToLocalDocumentSet(L,pe);return v.documentOverlayCache.saveOverlays(ee,Se.batchId,rt)})}).then(()=>({batchId:X.batchId,changes:wE(L)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(d,_,v){let S=d.xa[d.currentUser.toKey()];S||(S=new Dr(fn)),S=S.insert(_,v),d.xa[d.currentUser.toKey()]=S}(i,a.batchId,t),yield Ml(i,a.changes),yield Fd(i.remoteStore)}catch(a){const c=hf(a,"Failed to persist write");t.reject(c)}}),bu.apply(this,arguments)}function j_(r,e){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,Ve.A)(function*(r,e){const t=gt(r);try{const i=yield function yS(r,e){const t=gt(r),i=e.snapshotVersion;let a=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.ss.newChangeBuffer({trackRemovals:!0});a=t.ts;const _=[];e.targetChanges.forEach((O,L)=>{const X=a.get(L);if(!X)return;_.push(t.qr.removeMatchingKeys(c,O.removedDocuments,L).next(()=>t.qr.addMatchingKeys(c,O.addedDocuments,L)));let ee=X.withSequenceNumber(c.currentSequenceNumber);var pe,Se,rt;null!==e.targetMismatches.get(L)?ee=ee.withResumeToken(Lt.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):O.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(O.resumeToken,i)),a=a.insert(L,ee),Se=ee,rt=O,(0===(pe=X).resumeToken.approximateByteSize()||Se.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0)&&_.push(t.qr.updateTargetData(c,ee))});let v=ho(),S=In();if(e.documentUpdates.forEach(O=>{e.resolvedLimboDocuments.has(O)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,O))}),_.push(pb(c,d,e.documentUpdates).next(O=>{v=O.us,S=O.cs})),!i.isEqual(Bt.min())){const O=t.qr.getLastRemoteSnapshotVersion(c).next(L=>t.qr.setTargetsMetadata(c,c.currentSequenceNumber,i));_.push(O)}return fe.waitFor(_).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,v,S)).next(()=>v)}).then(c=>(t.ts=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const d=t.Fa.get(c);d&&(Ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.wa=!0:a.modifiedDocuments.size>0?Ft(d.wa):a.removedDocuments.size>0&&(Ft(d.wa),d.wa=!1))}),yield Ml(t,i,e)}catch(i){yield Fo(i)}}),Cu.apply(this,arguments)}function Bd(r,e,t){const i=gt(r);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.ba.forEach((c,d)=>{const _=d.view.j_(e);_.snapshot&&a.push(_.snapshot)}),function(d,_){const v=gt(d);v.onlineState=_;let S=!1;v.queries.forEach((O,L)=>{for(const X of L.U_)X.j_(_)&&(S=!0)}),S&&gI(v)}(i.eventManager,e),a.length&&i.Sa.l_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function pf(r,e,t){return Au.apply(this,arguments)}function Au(){return Au=(0,Ve.A)(function*(r,e,t){const i=gt(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Fa.get(e),c=a&&a.key;if(c){let d=new Dr(yt.comparator);d=d.insert(c,Hr.newNoDocument(c,Bt.min()));const _=In().add(c),v=new Xh(Bt.min(),new Map,new Dr(fn),d,_);yield j_(i,v),i.va=i.va.remove(c),i.Fa.delete(e),G_(i)}else yield Md(i.localStore,e,!1).then(()=>jd(i,e,t)).catch(Fo)}),Au.apply(this,arguments)}function gf(r,e){return Du.apply(this,arguments)}function Du(){return Du=(0,Ve.A)(function*(r,e){const t=gt(r),i=e.batch.batchId;try{const a=yield function _S(r,e){const t=gt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.ss.newChangeBuffer({trackRemovals:!0});return function(_,v,S,O){const L=S.batch,X=L.keys();let ee=fe.resolve();return X.forEach(de=>{ee=ee.next(()=>O.getEntry(v,de)).next(pe=>{const Se=S.docVersions.get(de);Ft(null!==Se),pe.version.compareTo(Se)<0&&(L.applyToRemoteDocument(pe,S),pe.isValidDocument()&&(pe.setReadTime(S.commitVersion),O.addEntry(pe)))})}),ee.next(()=>_.mutationQueue.removeMutationBatch(v,L))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let v=In();for(let S=0;S<_.mutationResults.length;++S)_.mutationResults[S].transformResults.length>0&&(v=v.add(_.batch.mutations[S].key));return v}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);z_(t,i,null),H_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ml(t,a)}catch(a){yield Fo(a)}}),Du.apply(this,arguments)}function mf(r,e,t){return Su.apply(this,arguments)}function Su(){return Su=(0,Ve.A)(function*(r,e,t){const i=gt(r);try{const a=yield function(d,_){const v=gt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let O;return v.mutationQueue.lookupMutationBatch(S,_).next(L=>(Ft(null!==L),O=L.keys(),v.mutationQueue.removeMutationBatch(S,L))).next(()=>v.mutationQueue.performConsistencyCheck(S)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(S,O,_)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,O)).next(()=>v.localDocuments.getDocuments(S,O))})}(i.localStore,e);z_(i,e,t),H_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ml(i,a)}catch(a){yield Fo(a)}}),Su.apply(this,arguments)}function $_(){return $_=(0,Ve.A)(function*(r,e){const t=gt(r);vc(t.remoteStore)||Ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(d){const _=gt(d);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>_.mutationQueue.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===i)return void e.resolve();const a=t.Oa.get(i)||[];a.push(e),t.Oa.set(i,a)}catch(i){const a=hf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),$_.apply(this,arguments)}function H_(r,e){(r.Oa.get(e)||[]).forEach(t=>{t.resolve()}),r.Oa.delete(e)}function z_(r,e,t){const i=gt(r);let a=i.xa[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.xa[i.currentUser.toKey()]=a}}function jd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Da.get(e))r.ba.delete(i),t&&r.Sa.ka(i,t);r.Da.delete(e),r.isPrimaryClient&&r.Ma.Rr(e).forEach(i=>{r.Ma.containsKey(i)||TI(r,i)})}function TI(r,e){r.Ca.delete(e.path.canonicalString());const t=r.va.get(e);null!==t&&(Pl(r.remoteStore,t),r.va=r.va.remove(e),r.Fa.delete(t),G_(r))}function W_(r,e,t){for(const i of t)i instanceof Pb?(r.Ma.addReference(i.key,e),Fb(r,i)):i instanceof Mb?(Ye("SyncEngine","Document no longer in limbo: "+i.key),r.Ma.removeReference(i.key,e),r.Ma.containsKey(i.key)||TI(r,i.key)):At()}function Fb(r,e){const t=e.key,i=t.path.canonicalString();r.va.get(t)||r.Ca.has(i)||(Ye("SyncEngine","New document in limbo: "+t),r.Ca.add(i),G_(r))}function G_(r){for(;r.Ca.size>0&&r.va.size<r.maxConcurrentLimboResolutions;){const e=r.Ca.values().next().value;r.Ca.delete(e);const t=new yt(Hn.fromString(e)),i=r.Na.next();r.Fa.set(i,new NS(t)),r.va=r.va.insert(t,i),ri(r.remoteStore,new hu(Ns(Cl(t.path)),i,"TargetPurposeLimboResolution",rs.oe))}}function Ml(r,e,t){return yf.apply(this,arguments)}function yf(){return yf=(0,Ve.A)(function*(r,e,t){const i=gt(r),a=[],c=[],d=[];var _;i.ba.isEmpty()||(i.ba.forEach((_,v)=>{d.push(i.Ba(v,e,t).then(S=>{if((S||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,S?.fromCache?"not-current":"current"),S){a.push(S);const O=eI.Qi(v.targetId,S);c.push(O)}}))}),yield Promise.all(d),i.Sa.l_(a),yield(_=(0,Ve.A)(function*(S,O){const L=gt(S);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",X=>fe.forEach(O,ee=>fe.forEach(ee.ki,de=>L.persistence.referenceDelegate.addReference(X,ee.targetId,de)).next(()=>fe.forEach(ee.qi,de=>L.persistence.referenceDelegate.removeReference(X,ee.targetId,de)))))}catch(X){if(!dc(X))throw X;Ye("LocalStore","Failed to update sequence numbers: "+X)}for(const X of O){const ee=X.targetId;if(!X.fromCache){const de=L.ts.get(ee),Se=de.withLastLimboFreeSnapshotVersion(de.snapshotVersion);L.ts=L.ts.insert(ee,Se)}}}),function v(S,O){return _.apply(this,arguments)})(i.localStore,c))}),yf.apply(this,arguments)}function Ru(r,e){return wI.apply(this,arguments)}function wI(){return wI=(0,Ve.A)(function*(r,e){const t=gt(r);if(!t.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const i=yield dg(t.localStore,e);t.currentUser=e,(c=t).Oa.forEach(_=>{_.forEach(v=>{v.reject(new Qe(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ml(t,i._s)}var c}),wI.apply(this,arguments)}function kS(r,e){const t=gt(r),i=t.Fa.get(e);if(i&&i.wa)return In().add(i.key);{let a=In();const c=t.Da.get(e);if(!c)return a;for(const d of c){const _=t.ba.get(d);a=a.unionWith(_.view.Ea)}return a}}function bI(r,e){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,Ve.A)(function*(r,e){const t=gt(r),i=yield w_(t.localStore,e.query,!0),a=e.view.pa(i);return t.isPrimaryClient&&W_(t,e.targetId,a.fa),a}),Ic.apply(this,arguments)}function CI(r,e){return AI.apply(this,arguments)}function AI(){return AI=(0,Ve.A)(function*(r,e){const t=gt(r);return nI(t.localStore,e).then(i=>Ml(t,i))}),AI.apply(this,arguments)}function DI(r,e,t,i){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,Ve.A)(function*(r,e,t,i){const a=gt(r),c=yield function(_,v){const S=gt(_),O=gt(S.mutationQueue);return S.persistence.runTransaction("Lookup mutation documents","readonly",L=>O.Cn(L,v).next(X=>X?S.localDocuments.getDocuments(L,X):fe.resolve(null)))}(a.localStore,e);var v;null!==c?("pending"===t?yield Fd(a.remoteStore):"acknowledged"===t||"rejected"===t?(z_(a,e,i||null),H_(a,e),v=e,gt(gt(a.localStore).mutationQueue).Fn(v)):At(),yield Ml(a,c)):Ye("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vb.apply(this,arguments)}function SI(){return SI=(0,Ve.A)(function*(r,e){const t=gt(r);if(Q_(t),X_(t),!0===e&&!0!==t.La){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield Ub(t,i.toArray());t.La=!0,yield L_(t.remoteStore,!0);for(const c of a)ri(t.remoteStore,c)}else if(!1===e&&!1!==t.La){const i=[];let a=Promise.resolve();t.Da.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):a=a.then(()=>(jd(t,d),Md(t.localStore,d,!0))),Pl(t.remoteStore,d)}),yield a,yield Ub(t,i),function(d){const _=gt(d);_.Fa.forEach((v,S)=>{Pl(_.remoteStore,S)}),_.Ma.Vr(),_.Fa=new Map,_.va=new Dr(yt.comparator)}(t),t.La=!1,yield L_(t.remoteStore,!1)}}),SI.apply(this,arguments)}function Ub(r,e,t){return q_.apply(this,arguments)}function q_(){return q_=(0,Ve.A)(function*(r,e,t){const i=gt(r),a=[],c=[];for(const d of e){let _;const v=i.Da.get(d);if(v&&0!==v.length){_=yield nf(i.localStore,Ns(v[0]));for(const S of v){const O=i.ba.get(S),L=yield bI(i,O);L.snapshot&&c.push(L.snapshot)}}else{const S=yield ES(i.localStore,d);_=yield nf(i.localStore,S),yield EI(i,Bb(S),d,!1,_.resumeToken)}a.push(_)}return i.Sa.l_(c),a}),q_.apply(this,arguments)}function Bb(r){return _d(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ki(r){return t=gt(r).localStore,gt(gt(t).persistence).Li();var t}function jb(r,e,t,i){return RI.apply(this,arguments)}function RI(){return RI=(0,Ve.A)(function*(r,e,t,i){const a=gt(r);if(a.La)return void Ye("SyncEngine","Ignoring unexpected query state notification.");const c=a.Da.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield nI(a.localStore,$D(c[0])),_=Xh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Lt.EMPTY_BYTE_STRING);yield Ml(a,d,_);break}case"rejected":yield Md(a.localStore,e,!0),jd(a,e,i);break;default:At()}}),RI.apply(this,arguments)}function LS(r,e,t){return K_.apply(this,arguments)}function K_(){return K_=(0,Ve.A)(function*(r,e,t){const i=Q_(r);if(i.La){for(const a of e){if(i.Da.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){Ye("SyncEngine","Adding an already active target "+a);continue}const c=yield ES(i.localStore,a),d=yield nf(i.localStore,c);yield EI(i,Bb(c),d.targetId,!1,d.resumeToken),ri(i.remoteStore,d)}for(const a of t)i.Da.has(a)&&(yield Md(i.localStore,a,!1).then(()=>{Pl(i.remoteStore,a),jd(i,a)}).catch(Fo))}}),K_.apply(this,arguments)}function Q_(r){const e=gt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=j_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pf.bind(null,e),e.Sa.l_=Ab.bind(null,e.eventManager),e.Sa.ka=Db.bind(null,e.eventManager),e}function X_(r){const e=gt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mf.bind(null,e),e}class qa{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ve.A)(function*(){t.serializer=Qr(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hb(this.persistence,new I_,e.initialUser,this.serializer)}createPersistence(e){return new cb(m_.jr,this.serializer)}createSharedClientState(e){return new yb}terminate(){var e=this;return(0,Ve.A)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PI extends qa{constructor(e,t,i){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ve.A)(function*(){yield t().call(i,e),yield i.Qa.initialize(i,e),yield X_(i.Qa.syncEngine),yield Fd(i.Qa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return hb(this.persistence,new I_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new sS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new xD(t,this.persistence);return new aE(e.asyncQueue,i)}createPersistence(e){const t=ub(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ps.withCacheSize(this.cacheSizeBytes):ps.DEFAULT;return new v_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Ga(),vu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new yb}}class MI extends PI{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ve.A)(function*(){yield t().call(i,e);const a=i.Qa.syncEngine;i.sharedClientState instanceof _b&&(i.sharedClientState.syncEngine={Ys:DI.bind(null,a),Zs:jb.bind(null,a),Xs:LS.bind(null,a),Li:Ki.bind(null,a),Js:CI.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var c=(0,Ve.A)(function*(d){yield function AM(r,e){return SI.apply(this,arguments)}(i.Qa.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Ga();if(!_b.D(t))throw new Qe(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ub(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _b(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class vf{initialize(e,t){var i=this;return(0,Ve.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>Bd(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ru.bind(null,i.syncEngine),yield L_(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RS}createDatastore(e){const t=Qr(e.databaseInfo.databaseId),i=new bS(e.databaseInfo);return new CS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,a=this.datastore,c=e.asyncQueue,d=t=>Bd(this.syncEngine,t,0),_=xd.D()?new xd:new bM,new AS(i,a,c,d,_);var i,a,c,d,_}createSyncEngine(e,t){return function(a,c,d,_,v,S,O){const L=new xS(a,c,d,_,v,S);return O&&(L.La=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,Ve.A)(function*(){var t,i;yield(i=(0,Ve.A)(function*(c){const d=gt(c);Ye("RemoteStore","RemoteStore shutting down."),d.M_.add(5),yield kd(d),d.O_.shutdown(),d.N_.set("Unknown")}),function a(c){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function OI(r,e=10240){let t=0;return{read:()=>(0,Ve.A)(function*(){if(t<r.byteLength){const i={value:r.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ve.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class NI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xI{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new Wi,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,Ve.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,Ve.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,Ve.A)(function*(){const t=yield e.za();if(null===t)return null;const i=e.Wa.decode(t),a=Number(i);isNaN(a)&&e.ja(`length string (${i}) is not valid number`);const c=yield e.Ha(a);return new PS(JSON.parse(c),t.length+a)})()}Ja(){return this.buffer.findIndex(e=>123===e)}za(){var e=this;return(0,Ve.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const t=e.Ja();t<0&&e.ja("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ha(e){var t=this;return(0,Ve.A)(function*(){for(;t.buffer.length<e;)(yield t.Ya())&&t.ja("Reached the end of bundle when more is expected.");const i=t.Wa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,Ve.A)(function*(){const t=yield e.Ua.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class kI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ve.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new Qe(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(a=(0,Ve.A)(function*(d,_){const v=gt(d),S={documents:_.map(ee=>eg(v.serializer,ee))},O=yield v.Mo("BatchGetDocuments",v.serializer.databaseId,Hn.emptyPath(),S,_.length),L=new Map;O.forEach(ee=>{const de=function Ww(r,e){return"found"in e?function(i,a){Ft(!!a.found);const c=wa(i,a.found.name),d=bn(a.found.updateTime),_=a.found.createTime?bn(a.found.createTime):Bt.min(),v=new Os({mapValue:{fields:a.found.fields}});return Hr.newFoundDocument(c,d,_,v)}(r,e):"missing"in e?function(i,a){Ft(!!a.missing),Ft(!!a.readTime);const c=wa(i,a.missing),d=bn(a.readTime);return Hr.newNoDocument(c,d)}(r,e):At()}(v.serializer,ee);L.set(de.key.toString(),de)});const X=[];return _.forEach(ee=>{const de=L.get(ee.toString());Ft(!!de),X.push(de)}),X}),function c(d,_){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ve.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const c=yt.fromPath(a);e.mutations.push(new bE(c,e.precondition(c)))}),yield(i=(0,Ve.A)(function*(c,d){const _=gt(c),v={writes:d.map(S=>tg(_.serializer,S))};yield _.Do("Commit",_.serializer.databaseId,Hn.emptyPath(),v)}),function a(c,d){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw At();t=Bt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Qe(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?ni.exists(!1):ni.updateTime(t):ni.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Qe(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ni.updateTime(t)}return ni.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class LI{constructor(e,t,i,a,c){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=c,this.Za=i.maxAttempts,this.Jo=new yc(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Jo.Ko((0,Ve.A)(function*(){const t=new kI(e.datastore),i=e.tu(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.nu(c)}))}).catch(a=>{e.nu(a)})}))}tu(e){try{const t=this.updateFunction(e);return!hd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!CE(t)}return!1}}class FI{constructor(e,t,i,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=zi.UNAUTHENTICATED,this.clientId=zT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Ve.A)(function*(_){Ye("FirestoreClient","Received user=",_.uid),yield c.authCredentialListener(_),c.user=_});return function(_){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Ye("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ve.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=hf(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function po(r,e){return VI.apply(this,arguments)}function VI(){return VI=(0,Ve.A)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;yield e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Ve.A)(function*(c){i.isEqual(c)||(yield dg(e.localStore,c),i=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),VI.apply(this,arguments)}function Y_(r,e){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,Ve.A)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield Bo(r);Ye("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>hI(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,a)=>hI(e.remoteStore,a)),r._onlineComponents=e}),Ca.apply(this,arguments)}function Aa(r){return"FirebaseError"===r.name?r.code===Re.FAILED_PRECONDITION||r.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Bo(r){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ve.A)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield po(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Aa(t))throw t;Ms("Error using user provided cache. Falling back to memory cache: "+t),yield po(r,new qa)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),yield po(r,new qa);return r._offlineComponents}),Z_.apply(this,arguments)}function Tg(r){return UI.apply(this,arguments)}function UI(){return UI=(0,Ve.A)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield Y_(r,r._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield Y_(r,new vf))),r._onlineComponents}),UI.apply(this,arguments)}function Hb(r){return Bo(r).then(e=>e.persistence)}function Ef(r){return Bo(r).then(e=>e.localStore)}function zb(r){return Tg(r).then(e=>e.remoteStore)}function wg(r){return Tg(r).then(e=>e.syncEngine)}function Tf(r){return J_.apply(this,arguments)}function J_(){return J_=(0,Ve.A)(function*(r){const e=yield Tg(r),t=e.eventManager;return t.onListen=Nb.bind(null,e.syncEngine),t.onUnlisten=kb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Tu.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=II.bind(null,e.syncEngine),t}),J_.apply(this,arguments)}function BI(r,e,t={}){const i=new Wi;return r.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function(c,d,_,v,S){const O=new NI({next:X=>{d.enqueueAndForget(()=>Eg(c,L));const ee=X.docs.has(_);!ee&&X.fromCache?S.reject(new Qe(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):ee&&X.fromCache&&v&&"server"===v.source?S.reject(new Qe(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(X)},error:X=>S.reject(X)}),L=new yI(Cl(_.path),O,{includeMetadataChanges:!0,ra:!0});return Cb(c,L)}(yield Tf(r),r.asyncQueue,e,t,i)})),i.promise}function Gb(r,e,t={}){const i=new Wi;return r.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function(c,d,_,v,S){const O=new NI({next:X=>{d.enqueueAndForget(()=>Eg(c,L)),X.fromCache&&"server"===v.source?S.reject(new Qe(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(X)},error:X=>S.reject(X)}),L=new yI(_,O,{includeMetadataChanges:!0,ra:!0});return Cb(c,L)}(yield Tf(r),r.asyncQueue,e,t,i)})),i.promise}function Kb(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Qb=new Map;function jI(r,e,t){if(!t)throw new Qe(Re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Xb(r,e,t,i){if(!0===e&&!0===i)throw new Qe(Re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Yb(r){if(!yt.isDocumentKey(r))throw new Qe(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zb(r){if(yt.isDocumentKey(r))throw new Qe(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wf(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(i=r).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof r?"a function":At()}function Vn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Qe(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(r);throw new Qe(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function ty(r,e){if(e<=0)throw new Qe(Re.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class $I{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Qe(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qe(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Kb(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Qe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Qe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Qe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $I({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qe(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $I(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new OD;switch(i.type){case"firstParty":return new Rp(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Qe(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Qb.get(t);i&&(Ye("ComponentProvider","Removing Datastore"),Qb.delete(t),i.terminate())}(this),Promise.resolve()}}function HI(r,e,t,i={}){var a;const c=(r=Vn(r,bf))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),i.mockUserToken){let _,v;if("string"==typeof i.mockUserToken)_=i.mockUserToken,v=zi.MOCK_USER;else{_=(0,yn.Fy)(i.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new Qe(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new zi(S)}r._authCredentials=new jT(new nE(_,v))}}class ss{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Xr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class Ol extends ss{constructor(e,t,i){super(e,t,Cl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new yt(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function ny(r,e,...t){if(r=(0,yn.Ku)(r),jI("collection","path",e),r instanceof bf){const i=Hn.fromString(e,...t);return Zb(i),new Ol(r,null,i)}{if(!(r instanceof Xr||r instanceof Ol))throw new Qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Hn.fromString(e,...t));return Zb(i),new Ol(r.firestore,null,i)}}function bg(r,e,...t){if(r=(0,yn.Ku)(r),1===arguments.length&&(e=zT.newId()),jI("doc","path",e),r instanceof bf){const i=Hn.fromString(e,...t);return Yb(i),new Xr(r,null,new yt(i))}{if(!(r instanceof Xr||r instanceof Ol))throw new Qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Hn.fromString(e,...t));return Yb(i),new Xr(r.firestore,r instanceof Ol?r.converter:null,new yt(i))}}function Jb(r,e){return r=(0,yn.Ku)(r),e=(0,yn.Ku)(e),(r instanceof Xr||r instanceof Ol)&&(e instanceof Xr||e instanceof Ol)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function ry(r,e){return r=(0,yn.Ku)(r),e=(0,yn.Ku)(e),r instanceof ss&&e instanceof ss&&r.firestore===e.firestore&&jp(r._query,e._query)&&r.converter===e.converter}class zI{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new yc(this,"async_queue_retry"),this.hu=()=>{const t=vu();t&&Ye("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Jo.Uo()};const e=vu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=vu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new Wi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,Ve.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(t){if(!dc(t))throw t;Ye("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(i=>{throw this.au=i,this.uu=!1,vi("INTERNAL UNHANDLED ERROR: ",function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),_}(i)),i}).then(i=>(this.uu=!1,i))));return this.iu=t,t}enqueueAfterDelay(e,t,i){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const a=F_.createAndSchedule(this,e,t,i,c=>this.Eu(c));return this._u.push(a),a}Pu(){this.au&&At()}verifyOperationInProgress(){}du(){var e=this;return(0,Ve.A)(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function WI(r){return function(t,i){if("object"!=typeof t||null===t)return!1;const a=t;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(r)}class GS{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zr extends bf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new zI,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||KI(this),this._firestoreClient.terminate()}}function ii(r){return r._firestoreClient||KI(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function KI(r){var e,t,i;const a=r._freezeSettings(),c=(v=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Fh(r._databaseId,v,r._persistenceKey,(O=a).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,Kb(O.experimentalLongPollingOptions),O.useFetchStreams));var v,O;r._firestoreClient=new FI(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.localCache)&&void 0!==i&&i._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}function eC(r,e,t){const i=new Wi;return r.asyncQueue.enqueue((0,Ve.A)(function*(){try{yield po(r,t),yield Y_(r,e),i.resolve()}catch(a){const c=a;if(!Aa(c))throw c;Ms("Error enabling indexeddb cache. Falling back to memory cache: "+c),i.reject(c)}})).then(()=>i.promise)}function XI(r){if(r._initialized||r._terminated)throw new Qe(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(Lt.fromBase64String(e))}catch(t){throw new Qe(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nl(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qe(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Af{constructor(e){this._methodName=e}}class Df{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qe(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qe(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}const SM=/^__.*__$/;class rC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new mc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gh(e,this.data,t,this.fieldTransforms)}}class YI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new mc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class wc{constructor(e,t,i,a,c,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.gu({path:i,yu:!1});return a.wu(e),a}Su(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.gu({path:i,yu:!1});return a.mu(),a}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return uy(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(XS(this.fu)&&SM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class YS{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qr(e)}Fu(e,t,i,a=!1){return new wc({fu:e,methodName:t,vu:i,path:Ur.emptyPath(),yu:!1,Cu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(r){const e=r._freezeSettings(),t=Qr(r._databaseId);return new YS(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ay(r,e,t,i,a,c={}){const d=r.Fu(c.merge||c.mergeFields?2:0,e,t,a);n0("Data must be an object, but it was:",d,i);const _=e0(i,d);let v,S;if(c.merge)v=new co(d.fieldMask),S=d.fieldTransforms;else if(c.mergeFields){const O=[];for(const L of c.mergeFields){const X=Ag(e,L,t);if(!d.contains(X))throw new Qe(Re.INVALID_ARGUMENT,`Field '${X}' is specified in your field mask but missing from your input data.`);sC(O,X)||O.push(X)}v=new co(O),S=d.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,S=d.fieldTransforms;return new rC(new Os(_),v,S)}class xl extends Af{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xl}}function iC(r,e,t){return new wc({fu:3,vu:e.settings.vu,methodName:r._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sf extends Af{_toFieldTransform(e){return new Wh(e.path,new zp)}isEqual(e){return e instanceof Sf}}class Rf extends Af{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=iC(this,e,!0),i=this.Mu.map(c=>Pu(c,t)),a=new Id(i);return new Wh(e.path,a)}isEqual(e){return e instanceof Rf&&(0,yn.bD)(this.Mu,e.Mu)}}class xs extends Af{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=iC(this,e,!0),i=this.Mu.map(c=>Pu(c,t)),a=new Td(i);return new Wh(e.path,a)}isEqual(e){return e instanceof xs&&(0,yn.bD)(this.Mu,e.Mu)}}class ly extends Af{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new Dl(e.serializer,KD(e.serializer,this.xu));return new Wh(e.path,t)}isEqual(e){return e instanceof ly&&this.xu===e.xu}}function cy(r,e,t,i){const a=r.Fu(1,e,t);n0("Data must be an object, but it was:",a,i);const c=[],d=Os.empty();va(i,(v,S)=>{const O=Mu(e,v,t);S=(0,yn.Ku)(S);const L=a.Su(O);if(S instanceof xl)c.push(O);else{const X=Pu(S,L);null!=X&&(c.push(O),d.set(O,X))}});const _=new co(c);return new YI(d,_,a.fieldTransforms)}function ZI(r,e,t,i,a,c){const d=r.Fu(1,e,t),_=[Ag(e,i,t)],v=[a];if(c.length%2!=0)throw new Qe(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let X=0;X<c.length;X+=2)_.push(Ag(e,c[X])),v.push(c[X+1]);const S=[],O=Os.empty();for(let X=_.length-1;X>=0;--X)if(!sC(S,_[X])){const ee=_[X];let de=v[X];de=(0,yn.Ku)(de);const pe=d.Su(ee);if(de instanceof xl)S.push(ee);else{const Se=Pu(de,pe);null!=Se&&(S.push(ee),O.set(ee,Se))}}const L=new co(S);return new YI(O,L,d.fieldTransforms)}function JI(r,e,t,i=!1){return Pu(t,r.Fu(i?4:3,e))}function Pu(r,e){if(t0(r=(0,yn.Ku)(r)))return n0("Unsupported field value:",e,r),e0(r,e);if(r instanceof Af)return function(i,a){if(!XS(a.fu))throw a.Du(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Du(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(i,a){const c=[];let d=0;for(const _ of i){let v=Pu(_,a.bu(d));null==v&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}}(r,e)}return function(i,a){if(null===(i=(0,yn.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return KD(a.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=ti.fromDate(i);return{timestampValue:bd(a.serializer,c)}}if(i instanceof ti){const c=new ti(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bd(a.serializer,c)}}if(i instanceof Df)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nl)return{bytesValue:jw(a.serializer,i._byteString)};if(i instanceof Xr){const c=a.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw a.Du(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:SE(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Du(`Unsupported field value: ${wf(i)}`)}(r,e)}function e0(r,e){const t={};return fE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(r,(i,a)=>{const c=Pu(a,e.pu(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function t0(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ti||r instanceof Df||r instanceof Nl||r instanceof Xr||r instanceof Af)}function n0(r,e,t){if(!t0(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const i=wf(t);throw e.Du("an object"===i?r+" a custom object":r+" "+i)}var a}function Ag(r,e,t){if((e=(0,yn.Ku)(e))instanceof Tc)return e._internalPath;if("string"==typeof e)return Mu(r,e);throw uy("Field path arguments must be of type string or ",r,!1,void 0,t)}const ZS=new RegExp("[~\\*/\\[\\]]");function Mu(r,e,t){if(e.search(ZS)>=0)throw uy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Tc(...e.split("."))._internalPath}catch{throw uy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function uy(r,e,t,i,a){const c=i&&!i.isEmpty(),d=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${i}`),d&&(v+=` in document ${a}`),v+=")"),new Qe(Re.INVALID_ARGUMENT,_+r+v)}function sC(r,e){return r.some(t=>t.isEqual(e))}class Dg{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dy extends Dg{data(){return super.data()}}function Sg(r,e){return"string"==typeof e?Mu(r,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function r0(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Qe(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hy{}class Rg extends hy{}function Da(r,e,...t){let i=[];e instanceof hy&&i.push(e),i=i.concat(t),function(c){const d=c.filter(v=>v instanceof Pf).length,_=c.filter(v=>v instanceof bc).length;if(d>1||d>0&&_>0)throw new Qe(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)r=a._apply(r);return r}class bc extends Rg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new bc(e,t,i)}_apply(e){const t=this._parse(e);return o0(e._query,t),new ss(e.firestore,e.converter,EE(e._query,t))}_parse(e){const t=Hd(e.firestore);return function(c,d,_,v,S,O,L){let X;if(S.isKeyField()){if("array-contains"===O||"array-contains-any"===O)throw new Qe(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${O}' queries on documentId().`);if("in"===O||"not-in"===O){oR(L,O);const ee=[];for(const de of L)ee.push(sR(v,c,de));X={arrayValue:{values:ee}}}else X=sR(v,c,L)}else"in"!==O&&"not-in"!==O&&"array-contains-any"!==O||oR(L,O),X=JI(_,"where",L,"in"===O||"not-in"===O);return On.create(S,O,X)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Pf extends hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:_r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,c){let d=a;const _=c.getFlattenedFilters();for(const v of _)o0(d,v),d=EE(d,v)}(e._query,t),new ss(e.firestore,e.converter,EE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class s0 extends Rg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new s0(e,t)}_apply(e){const t=function(a,c,d){if(null!==a.startAt)throw new Qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(c,d)}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(a,c){const d=a.explicitOrderBy.concat([c]);return new bl(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class py extends Rg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new py(e,t,i)}_apply(e){return new ss(e.firestore,e.converter,Ym(e._query,this._limit,this._limitType))}}class Pg extends Rg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Pg(e,t,i)}_apply(e){const t=iR(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(c=t,new bl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}class gy extends Rg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new gy(e,t,i)}_apply(e){const t=iR(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(c=t,new bl((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function iR(r,e,t,i){if(t[0]=(0,yn.Ku)(t[0]),t[0]instanceof Dg)return function(c,d,_,v,S){if(!v)throw new Qe(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const O=[];for(const L of vd(c))if(L.field.isKeyField())O.push(iu(d,v.key));else{const X=v.data.field(L.field);if(kp(X))throw new Qe(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===X){const ee=L.field.canonicalString();throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ee}' (used as the orderBy) does not exist.`)}O.push(X)}return new su(O,S)}(r._query,r.firestore._databaseId,e,t[0]._document,i);{const a=Hd(r.firestore);return function(d,_,v,S,O,L){const X=d.explicitOrderBy;if(O.length>X.length)throw new Qe(Re.INVALID_ARGUMENT,`Too many arguments provided to ${S}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ee=[];for(let de=0;de<O.length;de++){const pe=O[de];if(X[de].field.isKeyField()){if("string"!=typeof pe)throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${S}(), but got a ${typeof pe}`);if(!yd(d)&&-1!==pe.indexOf("/"))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${S}() must be a plain document ID, but '${pe}' contains a slash.`);const Se=d.path.child(Hn.fromString(pe));if(!yt.isDocumentKey(Se))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${S}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const rt=new yt(Se);ee.push(iu(_,rt))}else{const Se=JI(v,S,pe);ee.push(Se)}}return new su(ee,L)}(r._query,r.firestore._databaseId,a,e,t,i)}}function sR(r,e,t){if("string"==typeof(t=(0,yn.Ku)(t))){if(""===t)throw new Qe(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yd(e)&&-1!==t.indexOf("/"))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Hn.fromString(t));if(!yt.isDocumentKey(i))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return iu(r,new yt(i))}if(t instanceof Xr)return iu(r,t._key);throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(t)}.`)}function oR(r,e){if(!Array.isArray(r)||0===r.length)throw new Qe(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o0(r,e){const t=function(a,c){for(const d of a)for(const _ of d.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Qe(Re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class a0{convertValue(e,t="none"){switch(wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw At()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return va(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new Df(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jm(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const t=Il(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Hn.fromString(e);Ft(Yh(i));const a=new Tl(i.get(1),i.get(3)),c=new yt(i.popFirst(5));return a.isEqual(t)||vi(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function my(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class cC extends a0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,t)}}class Mf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends Dg{constructor(e,t,i,a,c,d){super(e,t,i,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Sg("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Of extends Cc{data(e={}){return super.data(e)}}class Ou{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Mf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Of(this._firestore,this._userDataWriter,i.key,i,new Mf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qe(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(_=>({type:"added",doc:new Of(a._firestore,a._userDataWriter,_.doc.key,_.doc,new Mf(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:d++}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(_=>c||3!==_.type).map(_=>{const v=new Of(a._firestore,a._userDataWriter,_.doc.key,_.doc,new Mf(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);let S=-1,O=-1;return 0!==_.type&&(S=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),1!==_.type&&(d=d.add(_.doc),O=d.indexOf(_.doc.key)),{type:lR(_.type),doc:v,oldIndex:S,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function Nf(r,e){return r instanceof Cc&&e instanceof Cc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ou&&e instanceof Ou&&r._firestore===e._firestore&&ry(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Ac extends a0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,t)}}function yy(r,e,t){r=Vn(r,Xr);const i=Vn(r.firestore,zr),a=my(r.converter,e,t);return xf(i,[ay(Hd(i),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ni.none())])}function hC(r,e,t,...i){r=Vn(r,Xr);const a=Vn(r.firestore,zr),c=Hd(a);let d;return d="string"==typeof(e=(0,yn.Ku)(e))||e instanceof Tc?ZI(c,"updateDoc",r._key,e,t,i):cy(c,"updateDoc",r._key,e),xf(a,[d.toMutation(r._key,ni.exists(!0))])}function l0(r,...e){var t,i,a;r=(0,yn.Ku)(r);let c={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof e[d]||WI(e[d])||(c=e[d],d++);const _={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(WI(e[d])){const L=e[d];e[d]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[d+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),e[d+2]=null===(a=L.complete)||void 0===a?void 0:a.bind(L)}let v,S,O;if(r instanceof Xr)S=Vn(r.firestore,zr),O=Cl(r._key.path),v={next:L=>{e[d]&&e[d](Og(S,r,L))},error:e[d+1],complete:e[d+2]};else{const L=Vn(r,ss);S=Vn(L.firestore,zr),O=L._query;const X=new Ac(S);v={next:ee=>{e[d]&&e[d](new Ou(S,X,L,ee))},error:e[d+1],complete:e[d+2]},r0(r._query)}return function(X,ee,de,pe){const Se=new NI(pe),rt=new yI(ee,Se,de);return X.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return Cb(yield Tf(X),rt)})),()=>{Se.$a(),X.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return Eg(yield Tf(X),rt)}))}}(ii(S),O,_,v)}function xf(r,e){return function(i,a){const c=new Wi;return i.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function Lb(r,e,t){return bu.apply(this,arguments)}(yield wg(i),a,c)})),c.promise}(ii(r),e)}function Og(r,e,t){const i=t.docs.get(e._key),a=new Ac(r);return new Cc(r,a,e._key,i,new Mf(t.hasPendingWrites,t.fromCache),e.converter)}const yC={maxAttempts:5};class vC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hd(e)}set(e,t,i){this._verifyNotCommitted();const a=Nu(e,this._firestore),c=my(a.converter,t,i),d=ay(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,i);return this._mutations.push(d.toMutation(a._key,ni.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const c=Nu(e,this._firestore);let d;return d="string"==typeof(t=(0,yn.Ku)(t))||t instanceof Tc?ZI(this._dataReader,"WriteBatch.update",c._key,t,i,a):cy(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nu(e,this._firestore);return this._mutations=this._mutations.concat(new Sl(t._key,ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qe(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nu(r,e){if((r=(0,yn.Ku)(r)).firestore!==e)throw new Qe(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class c0 extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Hd(t)}get(t){const i=Nu(t,this._firestore),a=new cC(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return At();const d=c[0];if(d.isFoundDocument())return new Dg(this._firestore,a,d.key,d,i.converter);if(d.isNoDocument())return new Dg(this._firestore,a,i._key,null,i.converter);throw At()})}set(t,i,a){const c=Nu(t,this._firestore),d=my(c.converter,i,a),_=ay(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,a);return this._transaction.set(c._key,_),this}update(t,i,a,...c){const d=Nu(t,this._firestore);let _;return _="string"==typeof(i=(0,yn.Ku)(i))||i instanceof Tc?ZI(this._dataReader,"Transaction.update",d._key,i,a,c):cy(this._dataReader,"Transaction.update",d._key,i),this._transaction.update(d._key,_),this}delete(t){const i=Nu(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nu(e,this._firestore),i=new Ac(this._firestore);return super.get(e).then(a=>new Cc(this._firestore,i,t._key,a._document,new Mf(!1,!1),t.converter))}}!function(e,t=!0){cd=le.SDK_VERSION,(0,le._registerComponent)(new Qg.uA("firestore",(i,{instanceIdentifier:a,options:c})=>{const d=i.getProvider("app").getImmediate(),_=new zr(new oM(i.getProvider("auth-internal")),new ND(i.getProvider("app-check-internal")),function(S,O){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Qe(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(S.options.projectId,O)}(d,a),d);return c=Object.assign({useFetchStreams:t},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(UT,"4.6.1",e),(0,le.registerVersion)(UT,"4.6.1","esm2017")}();var Li=G(6354),xg=function(){return xg=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var c in t=arguments[i])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},xg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var AC={includeMetadataChanges:!1};function OC(r,e){return void 0===e&&(e={}),function SR(r){return function Iy(r,e){return void 0===e&&(e=AC),new Xe.c(function(t){return{unsubscribe:l0(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(r,{includeMetadataChanges:!0}).pipe((0,Li.T)(function(e){return e.docs}))}(r).pipe((0,Li.T)(function(t){return t.map(function(i){return function DC(r,e){var t;void 0===e&&(e={});var i=r.data(e);return r.exists()&&"object"==typeof i&&null!==i&&e.idField?xg(xg({},i),((t={})[e.idField]=r.id,t)):i}(i,e)})}))}class kg{constructor(e){return e}}const m0="firestore",Ty=new h.nKC("angularfire2.firestore-instances");function LC(r){return(e,t)=>{const i=e.runOutsideAngular(()=>r(t));return new kg(i)}}const OR={provide:class xC{constructor(){return Zt(m0)}},deps:[[new h.Xx1,Ty]]},NR={provide:kg,useFactory:function kC(r,e){const t=function we(r,e,t){if(e){if(1===e.length)return e[0];const c=e.filter(d=>d.app===t);if(1===c.length)return c[0]}return t.container.getProvider(r).getImmediate({optional:!0})}(m0,r,e);return t&&new kg(t)},deps:[[new h.Xx1,Ty],wn]};let _0=(()=>{class r{constructor(){(0,le.registerVersion)("angularfire",lt.full,"fst")}static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({providers:[NR,OR]})}return r})();const UC=zt(OC,!0),jR=zt(ny,!0);let zd=(()=>{class r{constructor(){this.firestore=(0,h.WQX)(kg),this.tratteCollection=jR(this.firestore,"tratte")}getTratte(){return UC(this.tratteCollection,{idField:"id"})}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),c1=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["loading-tratta"]],standalone:!0,features:[h.aNF],decls:5,vars:0,consts:[[1,"blog-card","spring-fever"],[1,"title-content"]],template:function(i,a){1&i&&(h.j41(0,"article")(1,"div",0)(2,"div",1)(3,"h3"),h.EFF(4,"Caricamento..."),h.k0s()()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";article[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;margin:auto auto 4rem;font-family:Merienda,cursive;width:500px}.blog-card[_ngcontent-%COMP%]{max-width:475px;width:100%;height:450px;position:relative;font-family:"Droid Serif",serif;color:#fff;top:20%;right:0;left:0;margin:0 auto;overflow:hidden;border-radius:0;box-shadow:0 10px 20px -9px #00000080;text-align:center;background-size:100%;background-color:#96939334}.title-content[_ngcontent-%COMP%]{text-align:center;margin:170px 0 0;position:absolute;z-index:20;width:100%;top:0;left:0}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9em;font-weight:400;letter-spacing:1px;font-family:Abril Fatface,serif;margin-bottom:0;display:inline-block}@keyframes _ngcontent-%COMP%_changeLetter{0%{width:10%}to{width:80%}}']})}return r})();const QC=["*"],E0=(r,e,t,i,a,c)=>({"p-sidebar":!0,"p-sidebar-active":r,"p-sidebar-left":e,"p-sidebar-right":t,"p-sidebar-top":i,"p-sidebar-bottom":a,"p-sidebar-full":c}),mO=(r,e)=>({transform:r,transition:e}),u1=r=>({value:"visible",params:r});function d1(r,e){1&r&&h.eu8(0)}function h1(r,e){if(1&r&&(h.qex(0),h.DNE(1,d1,1,0,"ng-container",5),h.bVm()),2&r){const t=h.XpG(2);h.R7$(),h.Y8G("ngTemplateOutlet",t.headlessTemplate)}}function XC(r,e){1&r&&h.eu8(0)}function YC(r,e){1&r&&h.nrm(0,"TimesIcon",13),2&r&&(h.Y8G("styleClass","p-sidebar-close-icon"),h.BMQ("data-pc-section","closeicon"))}function f1(r,e){}function ZC(r,e){1&r&&h.DNE(0,f1,0,0,"ng-template")}function JC(r,e){if(1&r&&(h.j41(0,"span",14),h.DNE(1,ZC,1,0,null,5),h.k0s()),2&r){const t=h.XpG(4);h.BMQ("data-pc-section","closeicon"),h.R7$(),h.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function p1(r,e){if(1&r){const t=h.RV6();h.j41(0,"button",10),h.bIt("click",function(a){h.eBV(t);const c=h.XpG(3);return h.Njj(c.close(a))})("keydown.enter",function(a){h.eBV(t);const c=h.XpG(3);return h.Njj(c.close(a))}),h.DNE(1,YC,1,2,"TimesIcon",11)(2,JC,2,2,"span",12),h.k0s()}if(2&r){const t=h.XpG(3);h.BMQ("aria-label",t.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),h.R7$(),h.Y8G("ngIf",!t.closeIconTemplate),h.R7$(),h.Y8G("ngIf",t.closeIconTemplate)}}function g1(r,e){1&r&&h.eu8(0)}function eA(r,e){1&r&&h.eu8(0)}function m1(r,e){if(1&r&&(h.qex(0),h.j41(1,"div",15),h.DNE(2,eA,1,0,"ng-container",5),h.k0s(),h.bVm()),2&r){const t=h.XpG(3);h.R7$(),h.BMQ("data-pc-section","footer"),h.R7$(),h.Y8G("ngTemplateOutlet",t.footerTemplate)}}function tA(r,e){if(1&r&&(h.j41(0,"div",6),h.DNE(1,XC,1,0,"ng-container",5)(2,p1,3,5,"button",7),h.k0s(),h.j41(3,"div",8),h.SdG(4),h.DNE(5,g1,1,0,"ng-container",5),h.k0s(),h.DNE(6,m1,3,2,"ng-container",9)),2&r){const t=h.XpG(2);h.BMQ("data-pc-section","header"),h.R7$(),h.Y8G("ngTemplateOutlet",t.headerTemplate),h.R7$(),h.Y8G("ngIf",t.showCloseIcon),h.R7$(),h.BMQ("data-pc-section","content"),h.R7$(2),h.Y8G("ngTemplateOutlet",t.contentTemplate),h.R7$(),h.Y8G("ngIf",t.footerTemplate)}}function nA(r,e){if(1&r){const t=h.RV6();h.j41(0,"div",3,0),h.bIt("@panelState.start",function(a){h.eBV(t);const c=h.XpG();return h.Njj(c.onAnimationStart(a))})("@panelState.done",function(a){h.eBV(t);const c=h.XpG();return h.Njj(c.onAnimationEnd(a))})("keydown",function(a){h.eBV(t);const c=h.XpG();return h.Njj(c.onKeyDown(a))}),h.DNE(2,h1,2,1,"ng-container",4)(3,tA,7,6,"ng-template",null,1,h.C5r),h.k0s()}if(2&r){const t=h.sdS(4),i=h.XpG();h.HbH(i.styleClass),h.Y8G("ngClass",h.l4e(9,E0,i.visible,"left"===i.position&&!i.fullScreen,"right"===i.position&&!i.fullScreen,"top"===i.position&&!i.fullScreen,"bottom"===i.position&&!i.fullScreen,i.fullScreen))("@panelState",h.eq3(19,u1,h.l_i(16,mO,i.transformOptions,i.transitionOptions)))("ngStyle",i.style),h.BMQ("data-pc-name","sidebar")("data-pc-section","root"),h.R7$(2),h.Y8G("ngIf",i.headlessTemplate)("ngIfElse",t)}}const rA=xt([xn({transform:"{{transform}}",opacity:0}),ar("{{transition}}")]),iA=xt([ar("{{transition}}",xn({transform:"{{transform}}",opacity:0}))]);let _1=(()=>{class r{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(t){this._visible=t}get position(){return this._position}set position(t){switch(this._position=t,t){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(t){this._fullScreen=t,t&&(this.transformOptions="none")}templates;onShow=new h.bkB;onHide=new h.bkB;visibleChange=new h.bkB;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(t,i,a,c,d){this.document=t,this.el=i,this.renderer=a,this.cd=c,this.config=d}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template}})}onKeyDown(t){"Escape"===t.code&&this.hide(!1)}show(){this.autoZIndex&&Lr.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(t=!0){t&&this.onHide.emit({}),this.modal&&this.disableModality()}close(t){this.hide(),this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(this.container.style.zIndex)-1)),$e.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",t=>{this.dismissible&&this.close(t)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&$e.blockBodyScroll())}disableModality(){this.mask&&($e.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&$e.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(t){"visible"===t.toState&&(this.container=t.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(t){"void"===t.toState&&(this.hide(!1),Lr.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):$e.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"keydown",i=>{27==i.which&&parseInt(this.container.style.zIndex)===Lr.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&Lr.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(i){return new(i||r)(h.rXU(dt.qQ),h.rXU(h.aKT),h.rXU(h.sFG),h.rXU(h.gRc),h.rXU(Mo))};static \u0275cmp=h.VBU({type:r,selectors:[["p-sidebar"]],contentQueries:function(i,a,c){if(1&i&&h.wni(c,Hs,4),2&i){let d;h.mGM(d=h.lsd())&&(a.templates=d)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:[h.Mj6.HasDecoratorInputTransform,"blockScroll","blockScroll",h.L39],style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:[h.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",h.L39],baseZIndex:[h.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",h.Udg],modal:[h.Mj6.HasDecoratorInputTransform,"modal","modal",h.L39],dismissible:[h.Mj6.HasDecoratorInputTransform,"dismissible","dismissible",h.L39],showCloseIcon:[h.Mj6.HasDecoratorInputTransform,"showCloseIcon","showCloseIcon",h.L39],closeOnEscape:[h.Mj6.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",h.L39],transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},features:[h.GFd],ngContentSelectors:QC,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(i,a){1&i&&(h.NAR(),h.DNE(0,nA,5,21,"div",2)),2&i&&h.Y8G("ngIf",a.visible)},dependencies:()=>[dt.YU,dt.bT,dt.T3,dt.B3,As,No],styles:["@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;-webkit-transition:none;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}\n"],encapsulation:2,data:{animation:[Er("panelState",[hi("void => visible",[Zn(rA)]),hi("visible => void",[Zn(iA)])])]},changeDetection:0})}return r})(),y1=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[dt.MD,la,dl,No,dl]})}return r})(),_O=(()=>{class r{autofocus=!1;focused=!1;platformId=(0,h.WQX)(h.Agw);document=(0,h.WQX)(dt.qQ);host=(0,h.WQX)(h.aKT);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){(0,dt.UE)(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=$e.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||r)};static \u0275dir=h.FsC({type:r,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[h.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",h.L39]},standalone:!0,features:[h.GFd]})}return r})(),yO=(()=>{class r extends Fa{pathId;ngOnInit(){this.pathId="url(#"+Oi()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=h.xGo(r)))(a||r)}})();static \u0275cmp=h.VBU({type:r,selectors:[["SpinnerIcon"]],standalone:!0,features:[h.Vt3,h.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(h.qSk(),h.j41(0,"svg",0)(1,"g"),h.nrm(2,"path",1),h.k0s(),h.j41(3,"defs")(4,"clipPath",2),h.nrm(5,"rect",3),h.k0s()()()),2&i&&(h.HbH(a.getClassNames()),h.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),h.R7$(),h.BMQ("clip-path",a.pathId),h.R7$(3),h.Y8G("id",a.pathId))},encapsulation:2})}return r})();const vO=["*"],E1=r=>({class:r});function EO(r,e){1&r&&h.eu8(0)}function IO(r,e){if(1&r&&h.nrm(0,"span",8),2&r){const t=h.XpG(3);h.Y8G("ngClass",t.iconClass()),h.BMQ("aria-hidden",!0)("data-pc-section","loadingicon")}}function TO(r,e){if(1&r&&h.nrm(0,"SpinnerIcon",9),2&r){const t=h.XpG(3);h.Y8G("styleClass",t.spinnerIconClass())("spin",!0),h.BMQ("aria-hidden",!0)("data-pc-section","loadingicon")}}function wO(r,e){if(1&r&&(h.qex(0),h.DNE(1,IO,1,3,"span",6)(2,TO,1,4,"SpinnerIcon",7),h.bVm()),2&r){const t=h.XpG(2);h.R7$(),h.Y8G("ngIf",t.loadingIcon),h.R7$(),h.Y8G("ngIf",!t.loadingIcon)}}function bO(r,e){}function sA(r,e){if(1&r&&h.DNE(0,bO,0,0,"ng-template",10),2&r){const t=h.XpG(2);h.Y8G("ngIf",t.loadingIconTemplate)}}function I1(r,e){if(1&r&&(h.qex(0),h.DNE(1,wO,3,2,"ng-container",2)(2,sA,1,1,null,5),h.bVm()),2&r){const t=h.XpG();h.R7$(),h.Y8G("ngIf",!t.loadingIconTemplate),h.R7$(),h.Y8G("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",h.eq3(3,E1,t.iconClass()))}}function oA(r,e){if(1&r&&h.nrm(0,"span",8),2&r){const t=h.XpG(2);h.Y8G("ngClass",t.iconClass()),h.BMQ("data-pc-section","icon")}}function T1(r,e){}function Fg(r,e){if(1&r&&h.DNE(0,T1,0,0,"ng-template",10),2&r){const t=h.XpG(2);h.Y8G("ngIf",!t.icon&&t.iconTemplate)}}function Dy(r,e){if(1&r&&(h.qex(0),h.DNE(1,oA,1,2,"span",6)(2,Fg,1,1,null,5),h.bVm()),2&r){const t=h.XpG();h.R7$(),h.Y8G("ngIf",t.icon&&!t.iconTemplate),h.R7$(),h.Y8G("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",h.eq3(3,E1,t.iconClass()))}}function w1(r,e){if(1&r&&(h.j41(0,"span",11),h.EFF(1),h.k0s()),2&r){const t=h.XpG();h.BMQ("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),h.R7$(),h.JRh(t.label)}}function b1(r,e){if(1&r&&(h.j41(0,"span",8),h.EFF(1),h.k0s()),2&r){const t=h.XpG();h.HbH(t.badgeClass),h.Y8G("ngClass",t.badgeStyleClass()),h.BMQ("data-pc-section","badge"),h.R7$(),h.JRh(t.badge)}}const xu={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let C1=(()=>{class r{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(xu);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){$e.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const t=[xu.button,xu.component];return this.icon&&!this.label&&zs.isEmpty(this.htmlElement.textContent)&&t.push(xu.iconOnly),this.loading&&(t.push(xu.disabled,xu.loading),!this.icon&&this.label&&t.push(xu.labelOnly),this.icon&&!this.label&&!zs.isEmpty(this.htmlElement.textContent)&&t.push(xu.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),"small"===this.size&&t.push("p-button-sm"),"large"===this.size&&t.push("p-button-lg"),t}setStyleClass(){const t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!$e.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!$e.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let a=this.label?"p-button-icon-"+this.iconPos:null;a&&$e.addClass(i,a);let c=this.getIconClass();c&&$e.addMultipleClasses(i,c),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=$e.findSingle(this.htmlElement,".p-button-label");this.label?t?t.textContent=this.label:this.createLabel():t&&this.htmlElement.removeChild(t)}updateIcon(){let t=$e.findSingle(this.htmlElement,".p-button-icon"),i=$e.findSingle(this.htmlElement,".p-button-label");t?t.className=this.iconPos?"p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||r)(h.rXU(h.aKT),h.rXU(dt.qQ))};static \u0275dir=h.FsC({type:r,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[h.Mj6.HasDecoratorInputTransform,"raised","raised",h.L39],rounded:[h.Mj6.HasDecoratorInputTransform,"rounded","rounded",h.L39],text:[h.Mj6.HasDecoratorInputTransform,"text","text",h.L39],outlined:[h.Mj6.HasDecoratorInputTransform,"outlined","outlined",h.L39],size:"size",plain:[h.Mj6.HasDecoratorInputTransform,"plain","plain",h.L39]},standalone:!0,features:[h.GFd]})}return r})(),Sy=(()=>{class r{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new h.bkB;onFocus=new h.bkB;onBlur=new h.bkB;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||r)(h.rXU(h.aKT))};static \u0275cmp=h.VBU({type:r,selectors:[["p-button"]],contentQueries:function(i,a,c){if(1&i&&h.wni(c,Hs,4),2&i){let d;h.mGM(d=h.lsd())&&(a.templates=d)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,a){2&i&&h.AVh("p-disabled",a.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[h.Mj6.HasDecoratorInputTransform,"disabled","disabled",h.L39],loading:[h.Mj6.HasDecoratorInputTransform,"loading","loading",h.L39],loadingIcon:"loadingIcon",raised:[h.Mj6.HasDecoratorInputTransform,"raised","raised",h.L39],rounded:[h.Mj6.HasDecoratorInputTransform,"rounded","rounded",h.L39],text:[h.Mj6.HasDecoratorInputTransform,"text","text",h.L39],plain:[h.Mj6.HasDecoratorInputTransform,"plain","plain",h.L39],severity:"severity",outlined:[h.Mj6.HasDecoratorInputTransform,"outlined","outlined",h.L39],link:[h.Mj6.HasDecoratorInputTransform,"link","link",h.L39],tabindex:[h.Mj6.HasDecoratorInputTransform,"tabindex","tabindex",h.Udg],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[h.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",h.L39]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:vO,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,a){1&i&&(h.NAR(),h.j41(0,"button",0),h.bIt("click",function(d){return a.onClick.emit(d)})("focus",function(d){return a.onFocus.emit(d)})("blur",function(d){return a.onBlur.emit(d)}),h.SdG(1),h.DNE(2,EO,1,0,"ng-container",1)(3,I1,3,5,"ng-container",2)(4,Dy,3,5,"ng-container",2)(5,w1,2,3,"span",3)(6,b1,2,5,"span",4),h.k0s()),2&i&&(h.Y8G("ngStyle",a.style)("disabled",a.disabled||a.loading)("ngClass",a.buttonClass)("autofocus",a.autofocus),h.BMQ("type",a.type)("aria-label",a.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",a.tabindex),h.R7$(2),h.Y8G("ngTemplateOutlet",a.contentTemplate),h.R7$(),h.Y8G("ngIf",a.loading),h.R7$(),h.Y8G("ngIf",!a.loading),h.R7$(),h.Y8G("ngIf",!a.contentTemplate&&a.label),h.R7$(),h.Y8G("ngIf",!a.contentTemplate&&a.badge))},dependencies:[dt.bT,dt.T3,dt.B3,dt.YU,As,_O,yO],encapsulation:2,changeDetection:0})}return r})(),Ry=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[Sy,dl]})}return r})(),A1=(()=>{class r{pFocusTrapDisabled=!1;platformId=(0,h.WQX)(h.Agw);host=(0,h.WQX)(h.aKT);document=(0,h.WQX)(dt.qQ);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){(0,dt.UE)(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(t){t.pFocusTrapDisabled&&(0,dt.UE)(this.platformId)&&(t.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(t){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${t??""}`}createHiddenFocusableElements(){const i=a=>$e.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:a?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(t){const{currentTarget:i,relatedTarget:a}=t,c=a!==this.lastHiddenFocusableElement&&this.host.nativeElement?.contains(a)?this.lastHiddenFocusableElement:$e.getFirstFocusableElement(i.parentElement,":not(.p-hidden-focusable)");$e.focus(c)}onLastHiddenElementFocus(t){const{currentTarget:i,relatedTarget:a}=t,c=a!==this.firstHiddenFocusableElement&&this.host.nativeElement?.contains(a)?this.firstHiddenFocusableElement:$e.getLastFocusableElement(i.parentElement,":not(.p-hidden-focusable)");$e.focus(c)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=h.FsC({type:r,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[h.Mj6.HasDecoratorInputTransform,"pFocusTrapDisabled","pFocusTrapDisabled",h.L39]},features:[h.GFd,h.OA$]})}return r})(),aA=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[dt.MD]})}return r})(),lA=(()=>{class r extends Fa{pathId;ngOnInit(){this.pathId="url(#"+Oi()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=h.xGo(r)))(a||r)}})();static \u0275cmp=h.VBU({type:r,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[h.Vt3,h.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(h.qSk(),h.j41(0,"svg",0)(1,"g"),h.nrm(2,"path",1),h.k0s(),h.j41(3,"defs")(4,"clipPath",2),h.nrm(5,"rect",3),h.k0s()()()),2&i&&(h.HbH(a.getClassNames()),h.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),h.R7$(),h.BMQ("clip-path",a.pathId),h.R7$(3),h.Y8G("id",a.pathId))},encapsulation:2})}return r})(),cA=(()=>{class r extends Fa{pathId;ngOnInit(){this.pathId="url(#"+Oi()+")"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=h.xGo(r)))(a||r)}})();static \u0275cmp=h.VBU({type:r,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[h.Vt3,h.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,a){1&i&&(h.qSk(),h.j41(0,"svg",0)(1,"g"),h.nrm(2,"path",1),h.k0s(),h.j41(3,"defs")(4,"clipPath",2),h.nrm(5,"rect",3),h.k0s()()()),2&i&&(h.HbH(a.getClassNames()),h.BMQ("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role),h.R7$(),h.BMQ("clip-path",a.pathId),h.R7$(3),h.Y8G("id",a.pathId))},encapsulation:2})}return r})();const D1=["titlebar"],S1=["content"],R1=["footer"],P1=["*",[["p-header"]],[["p-footer"]]],M1=["*","p-header","p-footer"],O1=(r,e,t,i,a,c,d,_,v,S)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":r,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":a,"p-dialog-top-left":c,"p-dialog-top-right":d,"p-dialog-bottom":_,"p-dialog-bottom-left":v,"p-dialog-bottom-right":S}),N1=(r,e,t,i)=>({"p-dialog p-component":!0,"p-dialog-rtl":r,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}),x1=(r,e)=>({transform:r,transition:e}),k1=r=>({value:"visible",params:r}),L1=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),F1=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),uA=()=>({"min-width":0});function I0(r,e){1&r&&h.eu8(0)}function V1(r,e){if(1&r&&(h.qex(0),h.DNE(1,I0,1,0,"ng-container",10),h.bVm()),2&r){const t=h.XpG(3);h.R7$(),h.Y8G("ngTemplateOutlet",t.headlessTemplate)}}function U1(r,e){if(1&r){const t=h.RV6();h.j41(0,"div",15),h.bIt("mousedown",function(a){h.eBV(t);const c=h.XpG(4);return h.Njj(c.initResize(a))}),h.k0s()}}function dA(r,e){if(1&r&&(h.j41(0,"span",21),h.EFF(1),h.k0s()),2&r){const t=h.XpG(5);h.Y8G("id",t.ariaLabelledBy),h.R7$(),h.JRh(t.header)}}function B1(r,e){if(1&r&&(h.j41(0,"span",21),h.SdG(1,1),h.k0s()),2&r){const t=h.XpG(5);h.Y8G("id",t.ariaLabelledBy)}}function hA(r,e){1&r&&h.eu8(0)}function CO(r,e){if(1&r&&h.nrm(0,"span",25),2&r){const t=h.XpG(6);h.Y8G("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}function j1(r,e){1&r&&h.nrm(0,"WindowMaximizeIcon",27),2&r&&h.Y8G("styleClass","p-dialog-header-maximize-icon")}function fA(r,e){1&r&&h.nrm(0,"WindowMinimizeIcon",27),2&r&&h.Y8G("styleClass","p-dialog-header-maximize-icon")}function pA(r,e){if(1&r&&(h.qex(0),h.DNE(1,j1,1,1,"WindowMaximizeIcon",26)(2,fA,1,1,"WindowMinimizeIcon",26),h.bVm()),2&r){const t=h.XpG(6);h.R7$(),h.Y8G("ngIf",!t.maximized&&!t.maximizeIconTemplate),h.R7$(),h.Y8G("ngIf",t.maximized&&!t.minimizeIconTemplate)}}function $1(r,e){}function gA(r,e){1&r&&h.DNE(0,$1,0,0,"ng-template")}function H1(r,e){if(1&r&&(h.qex(0),h.DNE(1,gA,1,0,null,10),h.bVm()),2&r){const t=h.XpG(6);h.R7$(),h.Y8G("ngTemplateOutlet",t.maximizeIconTemplate)}}function T0(r,e){}function w0(r,e){1&r&&h.DNE(0,T0,0,0,"ng-template")}function mA(r,e){if(1&r&&(h.qex(0),h.DNE(1,w0,1,0,null,10),h.bVm()),2&r){const t=h.XpG(6);h.R7$(),h.Y8G("ngTemplateOutlet",t.minimizeIconTemplate)}}function z1(r,e){if(1&r){const t=h.RV6();h.j41(0,"button",22),h.bIt("click",function(){h.eBV(t);const a=h.XpG(5);return h.Njj(a.maximize())})("keydown.enter",function(){h.eBV(t);const a=h.XpG(5);return h.Njj(a.maximize())}),h.DNE(1,CO,1,1,"span",23)(2,pA,3,2,"ng-container",24)(3,H1,2,1,"ng-container",24)(4,mA,2,1,"ng-container",24),h.k0s()}if(2&r){const t=h.XpG(5);h.Y8G("ngClass",h.lJ4(7,L1)),h.BMQ("tabindex",t.maximizable?"0":"-1")("aria-label",t.maximizeLabel),h.R7$(),h.Y8G("ngIf",t.maximizeIcon&&!t.maximizeIconTemplate&&!t.minimizeIconTemplate),h.R7$(),h.Y8G("ngIf",!t.maximizeIcon),h.R7$(),h.Y8G("ngIf",!t.maximized),h.R7$(),h.Y8G("ngIf",t.maximized)}}function b0(r,e){if(1&r&&h.nrm(0,"span",30),2&r){const t=h.XpG(7);h.Y8G("ngClass",t.closeIcon)}}function C0(r,e){1&r&&h.nrm(0,"TimesIcon",27),2&r&&h.Y8G("styleClass","p-dialog-header-close-icon")}function AO(r,e){if(1&r&&(h.qex(0),h.DNE(1,b0,1,1,"span",29)(2,C0,1,1,"TimesIcon",26),h.bVm()),2&r){const t=h.XpG(6);h.R7$(),h.Y8G("ngIf",t.closeIcon),h.R7$(),h.Y8G("ngIf",!t.closeIcon)}}function _A(r,e){}function W1(r,e){1&r&&h.DNE(0,_A,0,0,"ng-template")}function DO(r,e){if(1&r&&(h.j41(0,"span"),h.DNE(1,W1,1,0,null,10),h.k0s()),2&r){const t=h.XpG(6);h.R7$(),h.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function yA(r,e){if(1&r){const t=h.RV6();h.j41(0,"button",28),h.bIt("click",function(a){h.eBV(t);const c=h.XpG(5);return h.Njj(c.close(a))})("keydown.enter",function(a){h.eBV(t);const c=h.XpG(5);return h.Njj(c.close(a))}),h.DNE(1,AO,3,2,"ng-container",24)(2,DO,2,1,"span",24),h.k0s()}if(2&r){const t=h.XpG(5);h.Y8G("ngClass",h.lJ4(6,F1))("ngStyle",h.lJ4(7,uA)),h.BMQ("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),h.R7$(),h.Y8G("ngIf",!t.closeIconTemplate),h.R7$(),h.Y8G("ngIf",t.closeIconTemplate)}}function vA(r,e){if(1&r){const t=h.RV6();h.j41(0,"div",16,3),h.bIt("mousedown",function(a){h.eBV(t);const c=h.XpG(4);return h.Njj(c.initDrag(a))}),h.DNE(2,dA,2,2,"span",17)(3,B1,2,1,"span",17)(4,hA,1,0,"ng-container",10),h.j41(5,"div",18),h.DNE(6,z1,5,8,"button",19)(7,yA,3,8,"button",20),h.k0s()()}if(2&r){const t=h.XpG(4);h.R7$(2),h.Y8G("ngIf",!t.headerFacet&&!t.headerTemplate),h.R7$(),h.Y8G("ngIf",t.headerFacet),h.R7$(),h.Y8G("ngTemplateOutlet",t.headerTemplate),h.R7$(2),h.Y8G("ngIf",t.maximizable),h.R7$(),h.Y8G("ngIf",t.closable)}}function ku(r,e){1&r&&h.eu8(0)}function Py(r,e){1&r&&h.eu8(0)}function My(r,e){if(1&r&&(h.j41(0,"div",31,4),h.SdG(2,2),h.DNE(3,Py,1,0,"ng-container",10),h.k0s()),2&r){const t=h.XpG(4);h.R7$(3),h.Y8G("ngTemplateOutlet",t.footerTemplate)}}function G1(r,e){if(1&r&&(h.DNE(0,U1,1,0,"div",11)(1,vA,8,5,"div",12),h.j41(2,"div",13,2),h.SdG(4),h.DNE(5,ku,1,0,"ng-container",10),h.k0s(),h.DNE(6,My,4,1,"div",14)),2&r){const t=h.XpG(3);h.Y8G("ngIf",t.resizable),h.R7$(),h.Y8G("ngIf",t.showHeader),h.R7$(),h.HbH(t.contentStyleClass),h.Y8G("ngClass","p-dialog-content")("ngStyle",t.contentStyle),h.R7$(3),h.Y8G("ngTemplateOutlet",t.contentTemplate),h.R7$(),h.Y8G("ngIf",t.footerFacet||t.footerTemplate)}}function q1(r,e){if(1&r){const t=h.RV6();h.j41(0,"div",8,0),h.bIt("@animation.start",function(a){h.eBV(t);const c=h.XpG(2);return h.Njj(c.onAnimationStart(a))})("@animation.done",function(a){h.eBV(t);const c=h.XpG(2);return h.Njj(c.onAnimationEnd(a))}),h.DNE(2,V1,2,1,"ng-container",9)(3,G1,7,8,"ng-template",null,1,h.C5r),h.k0s()}if(2&r){const t=h.sdS(4),i=h.XpG(2);h.HbH(i.styleClass),h.Y8G("ngClass",h.ziG(10,N1,i.rtl,i.draggable,i.resizable,i.maximized))("ngStyle",i.style)("pFocusTrapDisabled",!1===i.focusTrap)("@animation",h.eq3(18,k1,h.l_i(15,x1,i.transformOptions,i.transitionOptions))),h.BMQ("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),h.R7$(2),h.Y8G("ngIf",i.headlessTemplate)("ngIfElse",t)}}function A0(r,e){if(1&r&&(h.j41(0,"div",6),h.DNE(1,q1,5,20,"div",7),h.k0s()),2&r){const t=h.XpG();h.HbH(t.maskStyleClass),h.Y8G("ngStyle",t.maskStyle)("ngClass",h.zJS(5,O1,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),h.R7$(),h.Y8G("ngIf",t.visible)}}const K1=xt([xn({transform:"{{transform}}",opacity:0}),ar("{{transition}}")]),Q1=xt([ar("{{transition}}",xn({transform:"{{transform}}",opacity:0}))]);let D0=(()=>{class r{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}onShow=new h.bkB;onHide=new h.bkB;visibleChange=new h.bkB;onResizeInit=new h.bkB;onResizeEnd=new h.bkB;onDragEnd=new h.bkB;onMaximize=new h.bkB;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=Oi();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(Oo.ARIA).maximizeLabel}constructor(t,i,a,c,d,_,v){this.document=t,this.platformId=i,this.el=a,this.renderer=c,this.zone=d,this.cd=_,this.config=v,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return null!==this.header?Oi()+"_header":null}parseDurationToMilliseconds(t){const i=/([\d\.]+)(ms|s)\b/g;let c,a=0;for(;null!==(c=i.exec(t));){const d=parseFloat(c[1]),_=c[2];"ms"===_?a+=d:"s"===_&&(a+=1e3*d)}if(0!==a)return a}focus(t=this.contentViewChild?.nativeElement){const i=this.parseDurationToMilliseconds(this.transitionOptions);let a=$e.getFocusableElement(t,"[autofocus]");if(a)return void this.zone.runOutsideAngular(()=>{setTimeout(()=>a.focus(),i||5)});const c=$e.getFocusableElement(t);c?this.zone.runOutsideAngular(()=>{setTimeout(()=>c.focus(),i||5)}):this.footerViewChild&&t!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&$e.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();const t=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&t&&1==t.length&&$e.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?$e.blockBodyScroll():$e.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Lr.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if((0,dt.UE)(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",$e.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                        @media screen and (max-width: ${i}) {\n                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {\n                                width: ${this.breakpoints[i]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){$e.hasClass(t.target,"p-dialog-header-icon")||$e.hasClass(t.target,"p-dialog-header-close-icon")||$e.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",$e.addClass(this.document.body,"p-unselectable-text"))}onDrag(t){if(this.dragging){const i=$e.getOuterWidth(this.container),a=$e.getOuterHeight(this.container),c=t.pageX-this.lastPageX,d=t.pageY-this.lastPageY,_=this.container.getBoundingClientRect(),v=getComputedStyle(this.container),S=parseFloat(v.marginLeft),O=parseFloat(v.marginTop),L=_.left+c-S,X=_.top+d-O,ee=$e.getViewport();this.container.style.position="fixed",this.keepInViewport?(L>=this.minX&&L+i<ee.width&&(this._style.left=`${L}px`,this.lastPageX=t.pageX,this.container.style.left=`${L}px`),X>=this.minY&&X+a<ee.height&&(this._style.top=`${X}px`,this.lastPageY=t.pageY,this.container.style.top=`${X}px`)):(this.lastPageX=t.pageX,this.container.style.left=`${L}px`,this.lastPageY=t.pageY,this.container.style.top=`${X}px`)}}endDrag(t){this.dragging&&(this.dragging=!1,$e.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,$e.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,a=t.pageY-this.lastPageY,c=$e.getOuterWidth(this.container),d=$e.getOuterHeight(this.container),_=$e.getOuterHeight(this.contentViewChild?.nativeElement),v=c+i,S=d+a,O=this.container.style.minWidth,L=this.container.style.minHeight,X=this.container.getBoundingClientRect(),ee=$e.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(v+=i,S+=a),(!O||v>parseInt(O))&&X.left+v<ee.width&&(this._style.width=v+"px",this.container.style.width=this._style.width),(!L||S>parseInt(L))&&X.top+S<ee.height&&(this.contentViewChild.nativeElement.style.height=_+S-d+"px",this._style.height&&(this._style.height=S+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,$e.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{"Escape"==i.key&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.wrapper):$e.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&$e.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&$e.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&($e.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&$e.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Lr.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(i){return new(i||r)(h.rXU(dt.qQ),h.rXU(h.Agw),h.rXU(h.aKT),h.rXU(h.sFG),h.rXU(h.SKi),h.rXU(h.gRc),h.rXU(Mo))};static \u0275cmp=h.VBU({type:r,selectors:[["p-dialog"]],contentQueries:function(i,a,c){if(1&i&&(h.wni(c,ul,5),h.wni(c,Cs,5),h.wni(c,Hs,4)),2&i){let d;h.mGM(d=h.lsd())&&(a.headerFacet=d.first),h.mGM(d=h.lsd())&&(a.footerFacet=d.first),h.mGM(d=h.lsd())&&(a.templates=d)}},viewQuery:function(i,a){if(1&i&&(h.GBs(D1,5),h.GBs(S1,5),h.GBs(R1,5)),2&i){let c;h.mGM(c=h.lsd())&&(a.headerViewChild=c.first),h.mGM(c=h.lsd())&&(a.contentViewChild=c.first),h.mGM(c=h.lsd())&&(a.footerViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[h.Mj6.HasDecoratorInputTransform,"draggable","draggable",h.L39],resizable:[h.Mj6.HasDecoratorInputTransform,"resizable","resizable",h.L39],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[h.Mj6.HasDecoratorInputTransform,"modal","modal",h.L39],closeOnEscape:[h.Mj6.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",h.L39],dismissableMask:[h.Mj6.HasDecoratorInputTransform,"dismissableMask","dismissableMask",h.L39],rtl:[h.Mj6.HasDecoratorInputTransform,"rtl","rtl",h.L39],closable:[h.Mj6.HasDecoratorInputTransform,"closable","closable",h.L39],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[h.Mj6.HasDecoratorInputTransform,"showHeader","showHeader",h.L39],breakpoint:"breakpoint",blockScroll:[h.Mj6.HasDecoratorInputTransform,"blockScroll","blockScroll",h.L39],autoZIndex:[h.Mj6.HasDecoratorInputTransform,"autoZIndex","autoZIndex",h.L39],baseZIndex:[h.Mj6.HasDecoratorInputTransform,"baseZIndex","baseZIndex",h.Udg],minX:[h.Mj6.HasDecoratorInputTransform,"minX","minX",h.Udg],minY:[h.Mj6.HasDecoratorInputTransform,"minY","minY",h.Udg],focusOnShow:[h.Mj6.HasDecoratorInputTransform,"focusOnShow","focusOnShow",h.L39],maximizable:[h.Mj6.HasDecoratorInputTransform,"maximizable","maximizable",h.L39],keepInViewport:[h.Mj6.HasDecoratorInputTransform,"keepInViewport","keepInViewport",h.L39],focusTrap:[h.Mj6.HasDecoratorInputTransform,"focusTrap","focusTrap",h.L39],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[h.GFd],ngContentSelectors:M1,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(i,a){1&i&&(h.NAR(P1),h.DNE(0,A0,2,16,"div",5)),2&i&&h.Y8G("ngIf",a.maskVisible)},dependencies:()=>[dt.YU,dt.bT,dt.T3,dt.B3,A1,C1,As,No,lA,cA],styles:["@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}\n"],encapsulation:2,data:{animation:[Er("animation",[hi("void => visible",[Zn(K1)]),hi("visible => void",[Zn(Q1)])])]},changeDetection:0})}return r})(),S0=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[dt.MD,aA,Ry,la,No,lA,cA,dl]})}return r})();const SO=(r,e)=>e.trattaId,X1=()=>[G.e(250).then(G.bind(G,5869)).then(r=>r.TrattaCardComponent)],EA=()=>({width:"25rem"});function Y1(r,e){if(1&r&&h.nrm(0,"tratta-card",18),2&r){const t=e.$implicit,i=h.XpG(3);h.Y8G("tratta",t)("activeTab",i.activeTab())}}function RO(r,e){if(1&r&&h.Z7z(0,Y1,1,2,"tratta-card",18,SO),2&r){const t=h.XpG(2);h.Dyx(t.tratteService.tratte())}}function IA(r,e){1&r&&h.nrm(0,"loading-tratta")}function Z1(r,e){if(1&r){const t=h.RV6();h.j41(0,"p-tabPanel",3)(1,"p-button",16),h.bIt("onClick",function(){h.eBV(t);const a=h.XpG();return h.Njj(a.sidebarVisible=!0)}),h.k0s(),h.j41(2,"div",17),h.DNE(3,RO,2,0)(4,IA,1,0),h.nv$(5,3,X1,4,null,null,0,null,h.T$4),h.g25(),h.k0s()()}2&r&&h.FS9("header",e.$implicit)}function J1(r,e){1&r&&(h.j41(0,"span",19),h.EFF(1,"Legenda"),h.k0s())}let TA=(()=>{class r{constructor(){this.tratteService=(0,h.WQX)(Fn),this.firebaseService=(0,h.WQX)(zd),this.activeTab=(0,h.vPA)("treno"),this.sidebarVisible=!1,this.disclaimerVisible=!1,this.tabs=["Treno","Tram","Metro","Tutti"]}ngOnInit(){this.firebaseService.getTratte().subscribe(t=>this.tratteService.tratte.set(t))}onChange(t){this.activeTab.set(this.tabs[t.index].toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-tratte"]],standalone:!0,features:[h.aNF],decls:38,vars:6,consts:[[1e3,null],["id","picture"],[3,"onChange"],[3,"header"],[1,"disclaimer",3,"click"],["header","Disclaimer",3,"visibleChange","modal","visible"],["position","bottom",3,"visibleChange","visible"],["pTemplate","header"],[1,"pi","pi-circle-fill",2,"color","var(--RFI)"],["href","https://www.rfi.it/it.html","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--FCE)"],["href","https://www.circumetnea.it/","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--AMAT)"],["href","https://www.amat.pa.it/","target","_blank"],[1,"pi","pi-circle-fill",2,"color","var(--atm)"],["href","https://www.atmmessinaspa.it/","target","_blank"],["type","button","icon","pi pi-info-circle",1,"mr-2",3,"onClick"],[1,"tratte-panel"],[3,"tratta","activeTab"],[1,"font-semibold","text-xl"]],template:function(i,a){1&i&&(h.nrm(0,"div",1),h.j41(1,"p-tabView",2),h.bIt("onChange",function(d){return a.onChange(d)}),h.Z7z(2,Z1,7,1,"p-tabPanel",3,h.fX1),h.j41(4,"h4",4),h.bIt("click",function(){return a.disclaimerVisible=!0}),h.EFF(5,"Disclaimer"),h.k0s()(),h.j41(6,"p-dialog",5),h.mxI("visibleChange",function(d){return h.DH7(a.disclaimerVisible,d)||(a.disclaimerVisible=d),d}),h.j41(7,"p"),h.EFF(8,"Le canzoni presentate su SpotiRFI sono state scelte esclusivamente sulla base dell'adeguatezza del titolo con il nome delle stazioni ferroviarie. La scelta di una canzone non implica un'approvazione o un'adesione al testo, al significato o a qualsiasi altro aspetto della canzone stessa. Le canzoni sono fornite solo a scopo di intrattenimento e non intendono rappresentare o riflettere le opinioni di SpotiRFI. "),h.k0s()(),h.j41(9,"p-sidebar",6),h.mxI("visibleChange",function(d){return h.DH7(a.sidebarVisible,d)||(a.sidebarVisible=d),d}),h.DNE(10,J1,2,0,"ng-template",7),h.j41(11,"table")(12,"tr")(13,"td"),h.nrm(14,"span",8),h.k0s(),h.j41(15,"td")(16,"a",9),h.EFF(17,"Rete Ferroviaria Italiana"),h.k0s()()(),h.j41(18,"tr")(19,"td"),h.nrm(20,"span",10),h.k0s(),h.j41(21,"td")(22,"a",11),h.EFF(23,"Ferrovia Circumetnea"),h.k0s()()(),h.j41(24,"tr")(25,"td"),h.nrm(26,"span",12),h.k0s(),h.j41(27,"td")(28,"a",13),h.EFF(29,"Azienda Municipalizzata Auto Trasporti "),h.j41(30,"i"),h.EFF(31,"(Palermo)"),h.k0s()()()(),h.j41(32,"tr")(33,"td"),h.nrm(34,"span",14),h.k0s(),h.j41(35,"td")(36,"a",15),h.EFF(37,"Azienda Trasporti Messina"),h.k0s()()()()()),2&i&&(h.R7$(2),h.Dyx(a.tabs),h.R7$(4),h.Aen(h.lJ4(5,EA)),h.Y8G("modal",!0),h.R50("visible",a.disclaimerVisible),h.R7$(3),h.R50("visible",a.sidebarVisible))},dependencies:[c1,ca,Gs,pr,Hs,y1,_1,Ry,Sy,S0,D0],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";#picture[_ngcontent-%COMP%]{background-image:url(104Agnone-min.b7887179a1f4c43d.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}[_nghost-%COMP%]     .p-tabview .p-tabview-nav, [_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:inherit;color:inherit}[_nghost-%COMP%]     .p-tabview .p-tabview-nav{border:none;display:flex;justify-content:center;margin:auto;padding:0;font-size:larger}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:none;background-color:inherit;text-decoration:none;color:inherit;font-family:Merienda,cursive}[_nghost-%COMP%]     .p-highlight{border-bottom:.1em #d62a42 solid;color:#d62a42}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link:hover{background-color:#d62a420a}.tratte-panel[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center}@media screen and (width < 500px){[_nghost-%COMP%]     .p-tabview .p-tabview-nav{justify-content:start}}td[_ngcontent-%COMP%]{font-weight:600}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:currentColor;text-decoration:none}.disclaimer[_ngcontent-%COMP%]{text-decoration:underline;color:#731622;cursor:pointer;font-family:Merienda,cursive;font-weight:700}p[_ngcontent-%COMP%]{font-size:19px;line-height:1.6}.pi-circle-fill[_ngcontent-%COMP%]{font-size:20px;margin:.5em;float:left}[_nghost-%COMP%]     .p-sidebar{height:-moz-fit-content;height:fit-content}[_nghost-%COMP%]     .p-sidebar-header{justify-content:space-between}[_nghost-%COMP%]     .p-button{color:inherit;background-color:inherit;border:none}[_ngcontent-%COMP%]:is()   .pi[_ngcontent-%COMP%]{font-size:24px;font-weight:600}[_nghost-%COMP%]     .p-button:focus{box-shadow:none}[_nghost-%COMP%]     .p-dialog-content{text-align:justify}']})}return r})(),eP=(()=>{class r{openEasterEgg(){window.open("https://github.com/chiaraferrara","_blank")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-chisiamo"]],standalone:!0,features:[h.aNF],decls:17,vars:0,consts:[["id","picture"],["id","content"],[1,"mb-4"],["href","https://www.instagram.com/explore/tags/ferrosessuale/top/","target","_blank","id","ferrosex"],[3,"click"],["href","https://github.com/gianmarco2307","mat-button","","target","_blank","id","GitHub"],["src","assets/github-mark.png","id","githubLogo"]],template:function(i,a){1&i&&(h.nrm(0,"div",0),h.j41(1,"div",1)(2,"h2"),h.EFF(3,"Chi Sono"),h.k0s(),h.j41(4,"p",2),h.EFF(5," Sono un appassionato di viaggi e di musica, con un "),h.j41(6,"a",3),h.EFF(7,"amore particolare per le ferrovie"),h.k0s(),h.EFF(8," . La passione per l'esplorazione e la scoperta mi ha portato a creare SpotiRFI, un progetto unico che unisce la bellezza del viaggio in treno con il potere evocativo della musica. Ogni stazione ferroviaria sulla mappa diventa una tappa di un viaggio musicale attraverso la Sicilia, offrendo un'esperienza unica che spero possa arricchire i vostri viaggi tanto quanto ha arricchito i miei. "),h.k0s(),h.nrm(9,"br"),h.j41(10,"p"),h.EFF(11," Se vuoi passa dal "),h.j41(12,"span",4),h.bIt("click",function(){return a.openEasterEgg()}),h.EFF(13,"mio "),h.k0s(),h.j41(14,"a",5),h.nrm(15,"img",6),h.EFF(16,"GitHub"),h.k0s()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#picture[_ngcontent-%COMP%]{background-image:url(PMAgnone-min.60f5992de05385e1.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}h2[_ngcontent-%COMP%]{margin-top:2em;font-family:Merienda,cursive;font-weight:bolder}#content[_ngcontent-%COMP%]{max-width:58em;text-align:justify;margin:0 auto;padding:2em;font-size:18px;font-family:Merienda,cursive;line-height:1.7}#ferrosex[_ngcontent-%COMP%]{text-decoration:none;color:#000}#ferrosex[_ngcontent-%COMP%]:hover{color:#393939}#GitHub[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-weight:700}#githubLogo[_ngcontent-%COMP%]{height:24px;margin-right:10px}']})}return r})(),tP=(()=>{class r{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h.VBU({type:r,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(i,a){1&i&&(h.j41(0,"div",0),h.qSk(),h.j41(1,"svg",1),h.nrm(2,"circle",2),h.k0s()()),2&i&&(h.Y8G("ngStyle",a.style)("ngClass",a.styleClass),h.BMQ("aria-label",a.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),h.R7$(),h.xc7("animation-duration",a.animationDuration),h.BMQ("data-pc-section","root"),h.R7$(),h.BMQ("fill",a.fill)("stroke-width",a.strokeWidth))},dependencies:[dt.YU,dt.B3],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return r})(),Oy=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[dt.MD]})}return r})(),nP=(()=>{class r{constructor(){this.apiUrl="https://iechub.rfi.it/ArriviPartenze/ArrivalsDepartures/Monitor?placeId="}getArrivals(t){window.open(`${this.apiUrl}${t}&arrivals=True`,"_blank")}getDepartures(t){window.open(`${this.apiUrl}${t}&arrivals=False`,"_blank")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const PO=()=>({width:"25rem"});function MO(r,e){1&r&&(h.j41(0,"div",0),h.nrm(1,"p-progressSpinner",5),h.k0s())}function rP(r,e){if(1&r){const t=h.RV6();h.j41(0,"li",11),h.bIt("click",function(){const a=h.eBV(t).$implicit,c=h.XpG(3);return h.Njj(c.stationToModal(a,c.tratta().gestore,c.tratta().note))}),h.EFF(1),h.k0s()}if(2&r){const t=e.$implicit;h.R7$(),h.SpI(" ",t.station," ")}}function R0(r,e){if(1&r&&(h.j41(0,"div",6)(1,"div",7),h.nrm(2,"iframe",8),h.k0s(),h.j41(3,"div",9)(4,"ul"),h.Z7z(5,rP,2,1,"li",10,h.fX1),h.k0s()()()),2&r){const t=h.XpG(2);h.R7$(2),h.Y8G("src",t.sanitizedSrc,h.f$h),h.R7$(3),h.Dyx(t.tratta().stations)}}function wA(r,e){if(1&r&&(h.j41(0,"div",1),h.DNE(1,R0,7,1,"div",6),h.k0s()),2&r){const t=h.XpG();h.R7$(),h.vxM(1,t.tratta().trattaId==t.id()?1:-1)}}function Lu(r,e){if(1&r){const t=h.RV6();h.j41(0,"div",3)(1,"p-button",12),h.bIt("onClick",function(){h.eBV(t);const a=h.XpG();return h.Njj(a.openArrivals())}),h.k0s(),h.j41(2,"p-button",13),h.bIt("onClick",function(){h.eBV(t);const a=h.XpG();return h.Njj(a.openDepartures())}),h.k0s()()}}function bA(r,e){if(1&r){const t=h.RV6();h.j41(0,"p-button",14),h.bIt("onClick",function(){h.eBV(t);const a=h.XpG();return h.Njj(a.openMaps())}),h.k0s()}}let iP=(()=>{class r{constructor(t,i,a,c){this.route=t,this.sanitizer=i,this.router=a,this.monitor=c,this.tratteService=(0,h.WQX)(Fn),this.firebaseService=(0,h.WQX)(zd),this.loading=!0,this.id=(0,h.vPA)(""),this.tratta=(0,h.vPA)({}),this.actualStation=(0,h.vPA)({}),this.actualManager=(0,h.vPA)(""),this.actualLine=(0,h.vPA)(""),this.modalHeader=(0,h.EWP)(()=>`Stazione di ${this.actualStation().station}`),this.visible=!1}ngOnInit(){this.id.set(this.route.snapshot.paramMap.get("id")),this.firebaseService.getTratte().subscribe(t=>{this.loading=!0,this.tratta.set(t.find(i=>i.trattaId==this.id())),void 0!==this.tratta()?this.sanitizedSrc=this.sanitizer.bypassSecurityTrustResourceUrl(this.tratta().src):this.router.navigate([`/${this.id()}`]),this.loading=!1})}stationToModal(t,i,a){this.actualStation.set(t),this.actualManager.set(i),this.actualLine.set(a),this.visible=!0}openMaps(){let t,i;i="AMAT"==this.actualManager()?`fermata ${this.actualManager()} tram ${this.actualManager()} di ${this.actualStation().station} Palermo`:"atm"==this.actualManager()?`fermata ${this.actualManager()} tram ${this.actualLine()} di ${this.actualStation().station} Messina`:`stazione ${this.actualManager()} di ${this.actualStation().station}`,t="https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(i),window.open(t,"_blank")}openArrivals(){this.monitor.getArrivals(this.actualStation().stationId)}openDepartures(){this.monitor.getDepartures(this.actualStation().stationId)}static#e=this.\u0275fac=function(i){return new(i||r)(h.rXU(j.nX),h.rXU(w.up),h.rXU(j.Ix),h.rXU(nP))};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-playlist-page"]],standalone:!0,features:[h.aNF],decls:5,vars:9,consts:[[2,"width","fit-content","margin","7em auto"],[1,"tratta-container"],[3,"visibleChange","header","modal","visible"],[1,"modal-content"],["pTemplate","footer"],["ariaLabel","loading"],[1,"tratta-incontainer"],[1,"iframe"],["width","98%","height","500","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px","position","sticky","top","4em",3,"src"],[1,"line"],["data-bs-toggle","modal","data-bs-target","#exampleModal"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click"],["label","Arrivi","icon","pi pi-external-link",3,"onClick"],["label","Partenze","icon","pi pi-external-link",3,"onClick"],["label","Apri su Maps","icon","pi pi-map-marker",3,"onClick"]],template:function(i,a){1&i&&(h.DNE(0,MO,2,0,"div",0)(1,wA,2,1,"div",1),h.j41(2,"p-dialog",2),h.mxI("visibleChange",function(d){return h.DH7(a.visible,d)||(a.visible=d),d}),h.DNE(3,Lu,3,0,"div",3)(4,bA,1,0,"ng-template",4),h.k0s()),2&i&&(h.vxM(0,a.loading?0:-1),h.R7$(),h.vxM(1,a.tratta()&&a.sanitizedSrc?1:-1),h.R7$(),h.Aen(h.lJ4(8,PO)),h.Y8G("header",a.modalHeader())("modal",!0),h.R50("visible",a.visible),h.R7$(),h.vxM(3,"RFI"===a.tratta().gestore?3:-1))},dependencies:[Oy,tP,Ry,Sy,Hs,S0,D0],styles:['@import"https://fonts.cdnfonts.com/css/futura-std-4";.tratta-container[_ngcontent-%COMP%]{width:100%;margin-bottom:4em;margin-top:6em}.tratta-incontainer[_ngcontent-%COMP%]{font-family:Futura Std,sans-serif;font-weight:700;font-size:x-large;display:flex;flex-flow:row-reverse wrap}.iframe[_ngcontent-%COMP%]{flex:1;text-align:center}.line[_ngcontent-%COMP%]{flex:1}.map[_ngcontent-%COMP%]{display:block;margin:auto;width:75%;height:auto}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:auto;width:max-content}li[_ngcontent-%COMP%]:before{content:"";border-radius:50%;width:.625em;height:.625em;background:red;display:inline-block;margin-right:.625em}li[_ngcontent-%COMP%]{margin:.625em 0;position:relative;cursor:pointer}li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:.125em;height:calc(100% + .625em);background:red;left:.25em;top:.625em}li[_ngcontent-%COMP%]:first-child:after{top:.625em}li[_ngcontent-%COMP%]:last-child:after{height:0}.modal-content[_ngcontent-%COMP%]{width:100%;padding:1em;display:flex;flex-flow:row wrap;justify-content:space-around}[_nghost-%COMP%]     .p-dialog-content .p-button{width:150px}[_nghost-%COMP%]     .p-dialog-content .p-button, [_nghost-%COMP%]     .p-dialog-footer .p-button{background-color:var(--RFI);border-radius:6px;border-color:var(--RFI)}[_nghost-%COMP%]     .p-dialog-content .p-button:focus, [_nghost-%COMP%]     .p-dialog-footer .p-button:focus{box-shadow:0 0 0 2px #fff,0 0 0 4px var(--RFI),0 1px 2px #000}@media screen and (280px < width < 768px){.tratta-incontainer[_ngcontent-%COMP%]{flex-direction:column}}@media screen and (width < 415px){.modal-content[_ngcontent-%COMP%]{flex-flow:column nowrap;text-align:center}[_nghost-%COMP%]     .p-dialog-content .p-button, [_nghost-%COMP%]     .p-dialog-footer .p-button{margin:.5em auto}}@media screen and (width < 281px){.tratta-incontainer[_ngcontent-%COMP%]{flex-direction:column}}']})}return r})(),OO=(()=>{class r{constructor(t){this.path="";let i=t.path().split("/");this.path=i[1].toUpperCase()}static#e=this.\u0275fac=function(i){return new(i||r)(h.rXU(dt.aZ))};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-tabellone"]],standalone:!0,features:[h.aNF],decls:50,vars:1,consts:[["href",h.wXG`https://fonts.cdnfonts.com/css/caros`,"rel","stylesheet"],[1,"background"],[1,"riga"],[1,"binario"],[1,"destinazione"],[1,"pdest"],[1,"treno"],[1,"ptreno"],[1,"partenza"],[1,"ppart"],[1,"info"],[1,"pinfo"]],template:function(i,a){1&i&&(h.nrm(0,"link",0),h.j41(1,"div",1),h.nrm(2,"br"),h.j41(3,"div",2)(4,"div",3)(5,"h2")(6,"b"),h.EFF(7,"1"),h.k0s()()(),h.j41(8,"div",4)(9,"p")(10,"b"),h.EFF(11,"destinazione "),h.k0s(),h.j41(12,"i"),h.EFF(13,"destination"),h.k0s()(),h.j41(14,"div",5)(15,"h4"),h.EFF(16),h.k0s()()()(),h.nrm(17,"br"),h.j41(18,"div",2)(19,"div",6)(20,"p")(21,"b"),h.EFF(22,"treno "),h.k0s(),h.j41(23,"i"),h.EFF(24,"train"),h.k0s()(),h.j41(25,"div",7)(26,"h4"),h.EFF(27,"SPOTIRFI"),h.k0s(),h.j41(28,"h5"),h.EFF(29,"REG 21886"),h.k0s()()(),h.j41(30,"div",8)(31,"p")(32,"b"),h.EFF(33,"partenza "),h.k0s(),h.j41(34,"i"),h.EFF(35,"departure"),h.k0s()(),h.j41(36,"div",9)(37,"h4"),h.EFF(38,"CANCELLATO"),h.k0s()()()(),h.nrm(39,"br"),h.j41(40,"div",2)(41,"div",10)(42,"p")(43,"b"),h.EFF(44,"informazioni "),h.k0s(),h.j41(45,"i"),h.EFF(46,"informations"),h.k0s()(),h.j41(47,"div",11)(48,"h4"),h.EFF(49,"E' SEVERAMENTE VIETATO ATTRAVERSARE LA LINEA GIALLA"),h.k0s()()()()()),2&i&&(h.R7$(16),h.JRh(a.path))},styles:['@import"https://fonts.cdnfonts.com/css/caros";.background[_ngcontent-%COMP%]{width:40em;height:20.35em;background-color:#000;margin:auto}.riga[_ngcontent-%COMP%]{border-top:.1em white solid;width:38em;margin:0 1em}.binario[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}h2[_ngcontent-%COMP%]{font-size:5em}.destinazione[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.destinazione[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pdest[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 20s linear infinite}.pdest[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em;overflow:hidden}.treno[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}.treno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ptreno[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:10.99em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ptreno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;margin-left:.2em;margin-bottom:.1em}.ptreno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1em;margin-left:.2em}.partenza[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.partenza[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ppart[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ppart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em}.info[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pinfo[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:38em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite;overflow:hidden}.pinfo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8em;white-space:nowrap;position:relative;animation:_ngcontent-%COMP%_scroll-left 20s linear infinite}@keyframes _ngcontent-%COMP%_lighting{0%{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}to{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(100%)}to{transform:translate(-100%)}}']})}return r})();const oP=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:zc},{path:"tratte",component:TA},{path:"tratte/:id",component:iP},{path:"chisono",component:eP},{path:"**",component:(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-notfound"]],standalone:!0,features:[h.aNF],decls:6,vars:0,consts:[["controls","","autoplay",""],["src","assets/404.mp3","type","audio/mpeg"]],template:function(i,a){1&i&&(h.j41(0,"article"),h.nrm(1,"app-tabellone"),h.k0s(),h.j41(2,"article")(3,"audio",0),h.nrm(4,"source",1),h.EFF(5," Il tuo browser non supporta l'elemento audio. "),h.k0s()())},dependencies:[OO],styles:["article[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;margin:6em;font-family:Merienda,cursive}"]})}return r})()}],P0_firebaseConfig={apiKey:"AIzaSyBhT4vrImMOpXLps9RtD_GROoPflfGtM4U",authDomain:"spotirfi-cd7a9.firebaseapp.com",databaseURL:"https://spotirfi-cd7a9-default-rtdb.firebaseio.com",projectId:"spotirfi-cd7a9",storageBucket:"spotirfi-cd7a9.appspot.com",messagingSenderId:"207743558815",appId:"1:207743558815:web:1d28c36da0a303fca7eeaa",measurementId:"G-8Z6DVSWE34"};var Wd=G(7673),Fu=G(8455),CA=G(274),Ny=G(5964),NO=G(980),Vu=G(5558);class M0{}class Vg{}class jo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const a=t.slice(0,i),c=a.toLowerCase(),d=t.slice(i+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof jo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new jo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof jo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const a=("a"===e.op?this.headers.get(t):void 0)||[];a.push(...i),this.headers.set(t,a);break;case"d":const c=e.value;if(c){let d=this.headers.get(t);if(!d)return;d=d.filter(_=>-1===c.indexOf(_)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(c=>c.toString()),a=e.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(e,a)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class aP{encodeKey(e){return lP(e)}encodeValue(e){return lP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const LO=/%(\d[a-f0-9])/gi,FO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lP(r){return encodeURIComponent(r).replace(LO,(e,t)=>FO[t]??e)}function O0(r){return`${r}`}class Dc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new aP,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kO(r,e){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[d,_]=-1==c?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,c)),e.decodeValue(a.slice(c+1))],v=t.get(d)||[];v.push(_),t.set(d,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],a=Array.isArray(i)?i.map(O0):[O0(i)];this.map.set(t,a)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const a=e[i];Array.isArray(a)?a.forEach(c=>{t.push({param:i,value:c,op:"a"})}):t.push({param:i,value:a,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Dc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(O0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const a=i.indexOf(O0(e.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class cP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function x0(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Uu(r){return typeof Blob<"u"&&r instanceof Blob}function k0(r){return typeof FormData<"u"&&r instanceof FormData}class Gd{constructor(e,t,i,a){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function uP(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,c=a):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new jo,this.context??=new cP,this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+d}}else this.params=new Dc,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||x0(this.body)||Uu(this.body)||k0(this.body)||function L0(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Dc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||k0(this.body)?null:Uu(this.body)?this.body.type||null:x0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Dc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=e.transferCache??this.transferCache,d=void 0!==e.body?e.body:this.body,_=e.withCredentials??this.withCredentials,v=e.reportProgress??this.reportProgress;let S=e.headers||this.headers,O=e.params||this.params;const L=e.context??this.context;return void 0!==e.setHeaders&&(S=Object.keys(e.setHeaders).reduce((X,ee)=>X.set(ee,e.setHeaders[ee]),S)),e.setParams&&(O=Object.keys(e.setParams).reduce((X,ee)=>X.set(ee,e.setParams[ee]),O)),new Gd(t,i,d,{params:O,headers:S,context:L,reportProgress:v,responseType:a,withCredentials:_,transferCache:c})}}var Bu=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Bu||{});class Ug{constructor(e,t=xy.Ok,i="OK"){this.headers=e.headers||new jo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kf extends Ug{constructor(e={}){super(e),this.type=Bu.ResponseHeader}clone(e={}){return new kf({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kl extends Ug{constructor(e={}){super(e),this.type=Bu.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kl({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bg extends Ug{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var xy=function(r){return r[r.Continue=100]="Continue",r[r.SwitchingProtocols=101]="SwitchingProtocols",r[r.Processing=102]="Processing",r[r.EarlyHints=103]="EarlyHints",r[r.Ok=200]="Ok",r[r.Created=201]="Created",r[r.Accepted=202]="Accepted",r[r.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",r[r.NoContent=204]="NoContent",r[r.ResetContent=205]="ResetContent",r[r.PartialContent=206]="PartialContent",r[r.MultiStatus=207]="MultiStatus",r[r.AlreadyReported=208]="AlreadyReported",r[r.ImUsed=226]="ImUsed",r[r.MultipleChoices=300]="MultipleChoices",r[r.MovedPermanently=301]="MovedPermanently",r[r.Found=302]="Found",r[r.SeeOther=303]="SeeOther",r[r.NotModified=304]="NotModified",r[r.UseProxy=305]="UseProxy",r[r.Unused=306]="Unused",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.PaymentRequired=402]="PaymentRequired",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.MethodNotAllowed=405]="MethodNotAllowed",r[r.NotAcceptable=406]="NotAcceptable",r[r.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",r[r.RequestTimeout=408]="RequestTimeout",r[r.Conflict=409]="Conflict",r[r.Gone=410]="Gone",r[r.LengthRequired=411]="LengthRequired",r[r.PreconditionFailed=412]="PreconditionFailed",r[r.PayloadTooLarge=413]="PayloadTooLarge",r[r.UriTooLong=414]="UriTooLong",r[r.UnsupportedMediaType=415]="UnsupportedMediaType",r[r.RangeNotSatisfiable=416]="RangeNotSatisfiable",r[r.ExpectationFailed=417]="ExpectationFailed",r[r.ImATeapot=418]="ImATeapot",r[r.MisdirectedRequest=421]="MisdirectedRequest",r[r.UnprocessableEntity=422]="UnprocessableEntity",r[r.Locked=423]="Locked",r[r.FailedDependency=424]="FailedDependency",r[r.TooEarly=425]="TooEarly",r[r.UpgradeRequired=426]="UpgradeRequired",r[r.PreconditionRequired=428]="PreconditionRequired",r[r.TooManyRequests=429]="TooManyRequests",r[r.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",r[r.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",r[r.InternalServerError=500]="InternalServerError",r[r.NotImplemented=501]="NotImplemented",r[r.BadGateway=502]="BadGateway",r[r.ServiceUnavailable=503]="ServiceUnavailable",r[r.GatewayTimeout=504]="GatewayTimeout",r[r.HttpVersionNotSupported=505]="HttpVersionNotSupported",r[r.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",r[r.InsufficientStorage=507]="InsufficientStorage",r[r.LoopDetected=508]="LoopDetected",r[r.NotExtended=510]="NotExtended",r[r.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",r}(xy||{});function AA(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}let DA=(()=>{class r{constructor(t){this.handler=t}request(t,i,a={}){let c;if(t instanceof Gd)c=t;else{let v,S;v=a.headers instanceof jo?a.headers:new jo(a.headers),a.params&&(S=a.params instanceof Dc?a.params:new Dc({fromObject:a.params})),c=new Gd(t,i,void 0!==a.body?a.body:null,{headers:v,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}const d=(0,Wd.of)(c).pipe((0,CA.H)(v=>this.handler.handle(v)));if(t instanceof Gd||"events"===a.observe)return d;const _=d.pipe((0,Ny.p)(v=>v instanceof kl));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,Li.T)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return _.pipe((0,Li.T)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return _.pipe((0,Li.T)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return _.pipe((0,Li.T)(v=>v.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Dc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,a={}){return this.request("PATCH",t,AA(a,i))}post(t,i,a={}){return this.request("POST",t,AA(a,i))}put(t,i,a={}){return this.request("PUT",t,AA(a,i))}static#e=this.\u0275fac=function(i){return new(i||r)(h.KVO(M0))};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac})}return r})();function MA(r,e){return e(r)}const Ly=new h.nKC(""),U0=new h.nKC(""),Fy=new h.nKC("");let mP=(()=>{class r extends M0{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,h.WQX)(h.TgB);const a=(0,h.WQX)(Fy,{optional:!0});this.backend=a??t}handle(t){if(null===this.chain){const a=Array.from(new Set([...this.injector.get(Ly),...this.injector.get(U0,[])]));this.chain=a.reduceRight((c,d)=>function OA(r,e,t){return(i,a)=>(0,h.N4e)(t,()=>e(i,c=>r(c,a)))}(c,d,this.injector),MA)}const i=this.pendingTasks.add();return this.chain(t,a=>this.backend.handle(a)).pipe((0,NO.j)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||r)(h.KVO(Vg),h.KVO(h.uvJ))};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac})}return r})();const VO=/^\)\]\}',?\n/;let xA=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new h.wOt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,Fu.H)(i.\u0275loadImpl()):(0,Wd.of)(null)).pipe((0,Vu.n)(()=>new Xe.c(c=>{const d=i.build();if(d.open(t.method,t.urlWithParams),t.withCredentials&&(d.withCredentials=!0),t.headers.forEach((pe,Se)=>d.setRequestHeader(pe,Se.join(","))),t.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const pe=t.detectContentTypeHeader();null!==pe&&d.setRequestHeader("Content-Type",pe)}if(t.responseType){const pe=t.responseType.toLowerCase();d.responseType="json"!==pe?pe:"text"}const _=t.serializeBody();let v=null;const S=()=>{if(null!==v)return v;const pe=d.statusText||"OK",Se=new jo(d.getAllResponseHeaders()),rt=function j0(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(d)||t.url;return v=new kf({headers:Se,status:d.status,statusText:pe,url:rt}),v},O=()=>{let{headers:pe,status:Se,statusText:rt,url:ft}=S(),qe=null;Se!==xy.NoContent&&(qe=typeof d.response>"u"?d.responseText:d.response),0===Se&&(Se=qe?xy.Ok:0);let vt=Se>=200&&Se<300;if("json"===t.responseType&&"string"==typeof qe){const sn=qe;qe=qe.replace(VO,"");try{qe=""!==qe?JSON.parse(qe):null}catch(ln){qe=sn,vt&&(vt=!1,qe={error:ln,text:qe})}}vt?(c.next(new kl({body:qe,headers:pe,status:Se,statusText:rt,url:ft||void 0})),c.complete()):c.error(new Bg({error:qe,headers:pe,status:Se,statusText:rt,url:ft||void 0}))},L=pe=>{const{url:Se}=S(),rt=new Bg({error:pe,status:d.status||0,statusText:d.statusText||"Unknown Error",url:Se||void 0});c.error(rt)};let X=!1;const ee=pe=>{X||(c.next(S()),X=!0);let Se={type:Bu.DownloadProgress,loaded:pe.loaded};pe.lengthComputable&&(Se.total=pe.total),"text"===t.responseType&&d.responseText&&(Se.partialText=d.responseText),c.next(Se)},de=pe=>{let Se={type:Bu.UploadProgress,loaded:pe.loaded};pe.lengthComputable&&(Se.total=pe.total),c.next(Se)};return d.addEventListener("load",O),d.addEventListener("error",L),d.addEventListener("timeout",L),d.addEventListener("abort",L),t.reportProgress&&(d.addEventListener("progress",ee),null!==_&&d.upload&&d.upload.addEventListener("progress",de)),d.send(_),c.next({type:Bu.Sent}),()=>{d.removeEventListener("error",L),d.removeEventListener("abort",L),d.removeEventListener("load",O),d.removeEventListener("timeout",L),t.reportProgress&&(d.removeEventListener("progress",ee),null!==_&&d.upload&&d.upload.removeEventListener("progress",de)),d.readyState!==d.DONE&&d.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||r)(h.KVO(dt.N0))};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac})}return r})();const By=new h.nKC(""),$0=new h.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),FA=new h.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class VA{}let UA=(()=>{class r{constructor(t,i,a){this.doc=t,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,dt._b)(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||r)(h.KVO(dt.qQ),h.KVO(h.Agw),h.KVO($0))};static#t=this.\u0275prov=h.jDH({token:r,factory:r.\u0275fac})}return r})();function vP(r,e){const t=r.url.toLowerCase();if(!(0,h.WQX)(By)||"GET"===r.method||"HEAD"===r.method||t.startsWith("http://")||t.startsWith("https://"))return e(r);const i=(0,h.WQX)(VA).getToken(),a=(0,h.WQX)(FA);return null!=i&&!r.headers.has(a)&&(r=r.clone({headers:r.headers.set(a,i)})),e(r)}const OP={providers:[(0,j.lh)(oP),function Ot(){return(0,h.ngT)("NgEagerAnimations"),[...kr]}(),function Lf(...r){const e=[DA,xA,mP,{provide:M0,useExisting:mP},{provide:Vg,useExisting:xA},{provide:Ly,useValue:vP,multi:!0},{provide:By,useValue:!0},{provide:VA,useClass:UA}];for(const t of r)e.push(...t.\u0275providers);return(0,h.EmA)(e)}(),(0,h.oKB)([function jr(r,...e){return{ngModule:Qn,providers:[{provide:Cn,useFactory:Gr(r),multi:!0,deps:[h.SKi,h.zZn,Wr,...e]}]}}(()=>oi(P0_firebaseConfig)),function wy(r,...e){return{ngModule:_0,providers:[{provide:Ty,useFactory:LC(r),multi:!0,deps:[h.SKi,h.zZn,Wr,Rt,[new h.Xx1,es],[new h.Xx1,Vt],...e]}]}}(()=>function iy(r,e){const t="object"==typeof r?r:(0,le.getApp)(),i="string"==typeof r?r:e||"(default)",a=(0,le._getProvider)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=(0,yn.yU)("firestore");c&&HI(a,...c)}return a}())])]};let NP=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-navbar"]],standalone:!0,features:[h.aNF],decls:20,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body","fixed-top"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["src","assets/nuovologocompatto.png","alt","Logo","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","tratte",1,"nav-link"],["routerLink","chisono",1,"nav-link"],["href","https://www.rfi.it/it.html","target","_blank",1,"nav-link"],["href","https://open.spotify.com/intl-it","target","_blank",1,"nav-link"]],template:function(i,a){1&i&&(h.j41(0,"nav",0)(1,"div",1)(2,"a",2),h.nrm(3,"img",3),h.k0s(),h.j41(4,"button",4),h.nrm(5,"span",5),h.k0s(),h.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),h.EFF(10,"Le tratte"),h.k0s()(),h.j41(11,"li",8)(12,"a",10),h.EFF(13,"Chi sono"),h.k0s()(),h.j41(14,"li",8)(15,"a",11),h.EFF(16," RFI "),h.k0s()(),h.j41(17,"li",8)(18,"a",12),h.EFF(19," Spotify "),h.k0s()()()()()())},dependencies:[j.Wk],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#shareButton[_ngcontent-%COMP%]{color:transparent;background-color:transparent;border:transparent;float:right}nav[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px}']})}return r})(),zO=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({imports:[dt.MD]})}return r})();const WA=()=>({width:"50vw"}),GA=()=>({"1199px":"75vw","575px":"90vw"});let qA=(()=>{class r{constructor(){this.visible=!1}showDialog(){this.visible=!0}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-disclaimer-dialog"]],standalone:!0,features:[h.aNF],decls:4,vars:9,consts:[["icon","pi pi-info-circle",3,"onClick"],["header","Disclaimer",3,"visibleChange","visible","modal","breakpoints","draggable","resizable"]],template:function(i,a){1&i&&(h.j41(0,"p-button",0),h.bIt("onClick",function(){return a.showDialog()}),h.k0s(),h.j41(1,"p-dialog",1),h.mxI("visibleChange",function(d){return h.DH7(a.visible,d)||(a.visible=d),d}),h.j41(2,"p"),h.EFF(3," SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti. "),h.k0s()()),2&i&&(h.R7$(),h.Aen(h.lJ4(7,WA)),h.R50("visible",a.visible),h.Y8G("modal",!0)("breakpoints",h.lJ4(8,GA))("draggable",!1)("resizable",!1))},dependencies:[S0,D0,Ry,Sy,zO],styles:["[_nghost-%COMP%]     .p-button.p-button-icon-only{background-color:transparent;border-color:transparent}"]})}return r})(),WO=(()=>{class r{constructor(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-footer"]],standalone:!0,features:[h.aNF],decls:64,vars:0,consts:[["rel","stylesheet","href",h.wXG`https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200`],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body"],[1,"layout"],[1,"footer-wrapper","clearfix"],[1,"grid-3","footer-logo"],["href","#"],["alt","html layout logo","src","assets/logo.png"],[1,"footer-text"],[1,"grid-3"],[1,"footer-heading"],[1,"footermenu"],["routerLink","tratte"],["routerLink","chisono"],["href","https://www.rfi.it/it.html","target","_blank"],["href","https://open.spotify.com/intl-it","target","_blank"],[1,"footer-contact"],["href","./tratte/PalermoMessina"],["href","./tratte/AnelloPalermo"],["href","./tratte/AgrigentoPalermo"],["href","./tratte/SiracusaCaltanissetta"],["href","./tratte/CataniaGela"],[1,"footerblog"],["href","https://www.fsitaliane.it/content/dam/fsitaliane/Documents/impegno/per-lambiente/progetti/Atlante%20delle%20linee%20ferroviarie%20dismesse.pdf","target","_blank"],["href","https://epodweb.rfi.it/Download.ashx?q=lTmHEqG6%2FeC61zq42ZZheV8ouJSzS%2B5udsN2POFdeD4hdoONi5u5MvreFVXiIbvj","target","_blank"],["href","https://www.rfi.it/it/chi-siamo/Il-rapporto-con-lo-Stato-e-con-gli-stakeholder/il-piano-commerciale.html","target","_blank"]],template:function(i,a){1&i&&(h.nrm(0,"link",0),h.j41(1,"footer",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),h.nrm(6,"img",6),h.k0s(),h.j41(7,"p",7),h.EFF(8," SpotiRFI: Un viaggio musicale unico attraverso le linee ferroviarie della Sicilia. Ogni stazione, una nuova canzone. "),h.k0s(),h.nrm(9,"app-disclaimer-dialog"),h.k0s(),h.j41(10,"div",8)(11,"p",9),h.EFF(12,"pagine"),h.k0s(),h.j41(13,"ul",10)(14,"li")(15,"a",11),h.EFF(16,"Le tratte"),h.k0s()(),h.j41(17,"li")(18,"a",12),h.EFF(19,"Chi sono"),h.k0s()(),h.j41(20,"li")(21,"a",13),h.EFF(22,"RFI"),h.k0s()(),h.j41(23,"li")(24,"a",14),h.EFF(25,"Spotify"),h.k0s()()()(),h.j41(26,"div",8)(27,"p",9),h.EFF(28,"link"),h.k0s(),h.j41(29,"ul",15)(30,"li")(31,"a",16),h.EFF(32,"Palermo - Messina"),h.k0s()(),h.j41(33,"li")(34,"a",17),h.EFF(35,"Anello Ferroviario Palermo"),h.k0s()(),h.j41(36,"li")(37,"a",18),h.EFF(38,"Agrigento - Palermo"),h.k0s()(),h.j41(39,"li")(40,"a",19),h.EFF(41,"Siracusa - Caltanissetta"),h.k0s()(),h.j41(42,"li")(43,"a",20),h.EFF(44,"Catania - Gela"),h.k0s()()()(),h.j41(45,"div",8)(46,"p",9),h.EFF(47,"link utili"),h.k0s(),h.j41(48,"ul",21)(49,"li")(50,"a",22),h.EFF(51,"Linee dismesse"),h.k0s(),h.j41(52,"p"),h.EFF(53,"FS Italiane"),h.k0s()(),h.j41(54,"li")(55,"a",23),h.EFF(56,"Regolamento Circolazione Treni"),h.k0s(),h.j41(57,"p"),h.EFF(58,"RFI"),h.k0s()(),h.j41(59,"li")(60,"a",24),h.EFF(61,"Piano Commerciale"),h.k0s(),h.j41(62,"p"),h.EFF(63,"RFI"),h.k0s()()()()()()())},dependencies:[j.Wk,qA],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%]{list-style:none;text-decoration:none;margin:0}img[_ngcontent-%COMP%]{height:3.7em}html[_ngcontent-%COMP%]{overflow-y:scroll}body[_ngcontent-%COMP%]{background:#b7b7b7 none repeat scroll 0 0;font-family:Open Sans,sans-serif}ul[_ngcontent-%COMP%]{padding:0}.clearfix[_ngcontent-%COMP%]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.clearfix[_ngcontent-%COMP%]{display:inline-block}*[_ngcontent-%COMP%]   html[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{height:1%}.clearfix[_ngcontent-%COMP%]{display:block}.layout[_ngcontent-%COMP%]{margin:0 auto;max-width:1170px;width:100%;padding:0 15px}.grid-3[_ngcontent-%COMP%]{width:25%;float:left;min-height:1px;padding-left:15px;padding-right:15px;position:relative}.footer-wrapper[_ngcontent-%COMP%]{padding:100px 0}.footer-text[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;margin:40px 0 0;text-align:justify}footer[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{color:#e1e1e1;font:18px/19px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]{margin-top:32px}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{line-height:25px}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"-";margin:0 5px 0 0}.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;line-height:34px;text-transform:capitalize}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:0 8px 0 0;color:#fff}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c7c7c7;font:13px/28px Open Sans,sans-serif;letter-spacing:1.2px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b4b4b4;font:13px/18px Open Sans,sans-serif;letter-spacing:1.2px;padding-bottom:10px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c7c7c7;font:italic 12px/18px Open Sans,sans-serif}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#22c489}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 200,"GRAD" 200,"opsz" 24;color:#fff}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin:1em}@media (max-width:980px){.layout[_ngcontent-%COMP%]{width:767px}.grid-3[_ngcontent-%COMP%]{width:50%}.footer-heading[_ngcontent-%COMP%]{margin-top:18px}}@media (max-width:640px){.layout[_ngcontent-%COMP%]{width:300px}.grid-3[_ngcontent-%COMP%]{width:100%}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;float:none;line-height:25px}}']})}return r})();var jg=G(3345);jg.A.registerVersion("firebase","10.11.1","app-compat");const qO=["ngOnDestroy"];class LP{constructor(e){return e}}const H0=new h.nKC("angularfire2.app.options"),z0=new h.nKC("angularfire2.app.name");function W0(r,e,t){const a="object"==typeof t&&t||{};a.name=a.name||"string"==typeof t&&t||"[DEFAULT]";const d=jg.A.apps.filter(_=>_&&_.name===a.name)[0]||e.runOutsideAngular(()=>jg.A.initializeApp(r,a));try{if(JSON.stringify(r)!==JSON.stringify(d.options)){const _=!!module.hot;KA("error",`${d.name} Firebase App already initialized with different options${_?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new LP(d)}const KA=(r,...e)=>{(0,h.naY)()&&typeof console<"u"&&console[r](...e)};function G0(r,e,t,i,a){const[,c,d]=globalThis.\u0275AngularfireInstanceCache.find(_=>_[0]===r)||[];if(c)return function QA(r,e){try{return r.toString()===e.toString()}catch{return r===e}}(a,d)||(XA("error",`${e} was already initialized on the ${t} Firebase App with different settings.${XO?" You may need to reload as Firebase is not HMR aware.":""}`),XA("warn",{is:a,was:d})),c;{const _=i();return globalThis.\u0275AngularfireInstanceCache.push([r,_,a]),_}}const XO=typeof module<"u"&&!!module.hot,XA=(r,...e)=>{(0,h.naY)()&&typeof console<"u"&&console[r](...e)};globalThis.\u0275AngularfireInstanceCache||=[],G(2438);var YA=G(6365),$y=G(8750),VP=G(983),ZA=G(3794);class UP extends Gn.B{constructor(e=1/0,t=1/0,i=Ze){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:d}=this;t||(i.push(e),!a&&i.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:a}=this,c=a.slice();for(let d=0;d<c.length&&!e.closed;d+=i?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<i.length&&i.splice(0,i.length-c),!a){const d=t.now();let _=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)_=v;_&&i.splice(0,_+1)}}}var JA=G(7707),K0=G(9974);function Q0(r,e,...t){if(!0===e)return void r();if(!1===e)return;const i=new JA.Ms({next:()=>{i.unsubscribe(),r()}});return(0,$y.Tg)(e(...t)).subscribe(i)}function jP(r,e,t){let i,a=!1;return r&&"object"==typeof r?({bufferSize:i=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=r):i=r??1/0,function BP(r={}){const{connector:e=(()=>new Gn.B),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:a=!0}=r;return c=>{let d,_,v,S=0,O=!1,L=!1;const X=()=>{_?.unsubscribe(),_=void 0},ee=()=>{X(),d=v=void 0,O=L=!1},de=()=>{const pe=d;ee(),pe?.unsubscribe()};return(0,K0.N)((pe,Se)=>{S++,!L&&!O&&X();const rt=v=v??e();Se.add(()=>{S--,0===S&&!L&&!O&&(_=Q0(de,a))}),rt.subscribe(Se),!d&&S>0&&(d=new JA.Ms({next:ft=>rt.next(ft),error:ft=>{L=!0,X(),_=Q0(ee,t,ft),rt.error(ft)},complete:()=>{O=!0,X(),_=Q0(ee,i),rt.complete()}}),(0,$y.Tg)(pe).subscribe(d))})(c)}}({connector:()=>new UP(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var YO=G(1594),ZO=G(8071);function $P(r,e){return(0,ZO.T)(e)?(0,Vu.n)(()=>r,e):(0,Vu.n)(()=>r)}const zP=new h.nKC("angularfire2.auth.use-emulator"),WP=new h.nKC("angularfire2.auth.settings"),GP=new h.nKC("angularfire2.auth.tenant-id"),qP=new h.nKC("angularfire2.auth.langugage-code"),eD=new h.nKC("angularfire2.auth.use-device-language"),tD=new h.nKC("angularfire.auth.persistence"),nD=(r,e,t,i,a,c,d,_)=>G0(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const v=e.runOutsideAngular(()=>r.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=a,c&&v.useDeviceLanguage(),d)for(const[S,O]of Object.entries(d))v.settings[S]=O;return _&&v.setPersistence(_),v},[t,i,a,c,d,_]);let rD=(()=>{class r{authState;idToken;user;idTokenResult;credential;constructor(t,i,a,c,d,_,v,S,O,L,X,ee){const de=new Gn.B,pe=(0,Wd.of)(void 0).pipe((0,it.Q)(d.outsideAngular),(0,Vu.n)(()=>c.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,2438)))),(0,Li.T)(()=>W0(t,c,i)),(0,Li.T)(Se=>nD(Se,c,_,S,O,L,v,X)),jP({bufferSize:1,refCount:!1}));if((0,dt.Vy)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Wd.of)(null);else{pe.pipe((0,YO.$)()).subscribe();const Se=pe.pipe((0,Vu.n)(qe=>qe.getRedirectResult().then(vt=>vt,()=>null)),Pe,jP({bufferSize:1,refCount:!1})),rt=pe.pipe((0,Vu.n)(qe=>new Xe.c(vt=>({unsubscribe:c.runOutsideAngular(()=>qe.onAuthStateChanged(sn=>vt.next(sn),sn=>vt.error(sn),()=>vt.complete()))})))),ft=pe.pipe((0,Vu.n)(qe=>new Xe.c(vt=>({unsubscribe:c.runOutsideAngular(()=>qe.onIdTokenChanged(sn=>vt.next(sn),sn=>vt.error(sn),()=>vt.complete()))}))));this.authState=Se.pipe($P(rt),(0,Je._)(d.outsideAngular),(0,it.Q)(d.insideAngular)),this.user=Se.pipe($P(ft),(0,Je._)(d.outsideAngular),(0,it.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Vu.n)(qe=>qe?(0,Fu.H)(qe.getIdToken()):(0,Wd.of)(null))),this.idTokenResult=this.user.pipe((0,Vu.n)(qe=>qe?(0,Fu.H)(qe.getIdTokenResult()):(0,Wd.of)(null))),this.credential=function Hy(...r){const e=(0,ZA.lI)(r),t=(0,ZA.R0)(r,1/0),i=r;return i.length?1===i.length?(0,$y.Tg)(i[0]):(0,YA.U)(t)((0,Fu.H)(i,e)):VP.w}(Se,de,this.authState.pipe((0,Ny.p)(qe=>!qe))).pipe((0,Li.T)(qe=>qe?.user?qe:null),(0,Je._)(d.outsideAngular),(0,it.Q)(d.insideAngular))}return((r,e,t,i={})=>new Proxy(r,{get:(a,c)=>t.runOutsideAngular(()=>{if(r[c])return i?.spy?.get&&i.spy.get(c,r[c]),r[c];if(qO.indexOf(c)>-1)return()=>{};const d=e.toPromise().then(_=>{const v=_?.[c];return"function"==typeof v?v.bind(_):v?.then?v.then(S=>t.run(()=>S)):t.run(()=>v)});return new Proxy(()=>{},{get:(_,v)=>d[v],apply:(_,v,S)=>d.then(O=>{const L=O?.(...S);return i?.spy?.apply&&i.spy.apply(c,S,L),L})})})}))(this,pe,c,{spy:{apply:(Se,rt,ft)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&ft.then(qe=>de.next(qe))}}})}static \u0275fac=function(i){return new(i||r)(h.KVO(H0),h.KVO(z0,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(Wr),h.KVO(zP,8),h.KVO(WP,8),h.KVO(GP,8),h.KVO(qP,8),h.KVO(eD,8),h.KVO(tD,8),h.KVO(Vt,8))};static \u0275prov=h.jDH({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})();var X0=G(9172),iD=G(4360);function sD(){return(0,K0.N)((r,e)=>{let t,i=!1;r.subscribe((0,iD._)(e,a=>{const c=t;t=a,i&&e.next([c,a]),i=!0}))})}var oD=G(2816),eN=G(3669);function s(r,e){return r===e}function u(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qe("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function f(){if(typeof Uint8Array>"u")throw new Qe("unimplemented","Uint8Arrays are not available in this environment.")}function m(){if(!function iw(){return typeof atob<"u"}())throw new Qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class y{constructor(e){this._delegate=e}static fromBase64String(e){return m(),new y(Nl.fromBase64String(e))}static fromUint8Array(e){return f(),new y(Nl.fromUint8Array(e))}toBase64(){return m(),this._delegate.toBase64()}toUint8Array(){return f(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function C(r){return function M(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(r,["next","error","complete"])}class F{enableIndexedDbPersistence(e,t){return function qS(r,e){XI(r=Vn(r,zr));const t=ii(r);if(t._uninitializedComponentsProvider)throw new Qe(Re.FAILED_PRECONDITION,"SDK cache is already specified.");Ms("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=r._freezeSettings(),a=new vf;return eC(t,a,new PI(a,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KS(r){XI(r=Vn(r,zr));const e=ii(r);if(e._uninitializedComponentsProvider)throw new Qe(Re.FAILED_PRECONDITION,"SDK cache is already specified.");Ms("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),i=new vf;return eC(e,i,new MI(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sy(r){if(r._initialized&&!r._terminated)throw new Qe(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ve.A)(function*(){try{yield(t=(0,Ve.A)(function*(a){if(!uc.D())return Promise.resolve();const c=a+"main";yield uc.delete(c)}),function i(a){return t.apply(this,arguments)})(ub(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class K{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ms("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){HI(this._delegate,e,t,i)}enableNetwork(){return function QI(r){return function VS(r){return r.asyncQueue.enqueue((0,Ve.A)(function*(){const e=yield Hb(r),t=yield zb(r);return e.setNetworkEnabled(!0),function(a){const c=gt(a);return c.M_.delete(0),gg(c)}(t)}))}(ii(r=Vn(r,zr)))}(this._delegate)}disableNetwork(){return function tC(r){return function US(r){return r.asyncQueue.enqueue((0,Ve.A)(function*(){const e=yield Hb(r),t=yield zb(r);return e.setNetworkEnabled(!1),(i=(0,Ve.A)(function*(c){const d=gt(c);d.M_.add(0),yield kd(d),d.N_.set("Offline")}),function a(c){return i.apply(this,arguments)})(t);var i}))}(ii(r=Vn(r,zr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Xb("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oy(r){return function(t){const i=new Wi;return t.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return function _f(r,e){return $_.apply(this,arguments)}(yield wg(t),i)})),i.promise}(ii(r=Vn(r,zr)))}(this._delegate)}onSnapshotsInSync(e){return function fR(r,e){return function qb(r,e){const t=new NI(e);return r.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return a=yield Tf(r),c=t,gt(a).z_.add(c),void c.next();var a,c})),()=>{t.$a(),r.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return a=yield Tf(r),c=t,void gt(a).z_.delete(c);var a,c}))}}(ii(r=Vn(r,zr)),WI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vf(this,ny(this._delegate,e))}catch(t){throw Ue(t,"collection()","Firestore.collection()")}}doc(e){try{return new st(this,bg(this._delegate,e))}catch(t){throw Ue(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sr(this,function WS(r,e){if(r=Vn(r,bf),jI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qe(Re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(r,null,(i=e,new bl(Hn.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Ue(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function EC(r,e,t){r=Vn(r,zr);const i=Object.assign(Object.assign({},yC),t);return function(c){if(c.maxAttempts<1)throw new Qe(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,d,_){const v=new Wi;return c.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){const S=yield function If(r){return Tg(r).then(e=>e.datastore)}(c);new LI(c.asyncQueue,S,_,d,v).Xa()})),v.promise}(ii(r),a=>e(new c0(r,a)),i)}(this._delegate,t=>e(new ge(this,t)))}batch(){return ii(this._delegate),new ke(new vC(this._delegate,e=>xf(this._delegate,e)))}loadBundle(e){return function QS(r,e){const t=ii(r=Vn(r,zr)),i=new GS;return function BS(r,e,t,i){const a=function(d,_){let v;return v="string"==typeof d?AE().encode(d):d,O=function(O,L){if(O instanceof Uint8Array)return OI(O,L);if(O instanceof ArrayBuffer)return OI(new Uint8Array(O),L);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new xI(O,_);var O}(t,Qr(e));r.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){!function $b(r,e,t){const i=gt(r);var a;(a=(0,Ve.A)(function*(d,_,v){try{const S=yield _.getMetadata();if(yield function(de,pe){const Se=gt(de),rt=bn(pe.createTime);return Se.persistence.runTransaction("hasNewerBundle","readonly",ft=>Se.Kr.getBundleMetadata(ft,pe.id)).then(ft=>!!ft&&ft.createTime.compareTo(rt)>=0)}(d.localStore,S))return yield _.close(),v._completeWith({taskState:"Success",documentsLoaded:(de=S).totalDocuments,bytesLoaded:de.totalBytes,totalDocuments:de.totalDocuments,totalBytes:de.totalBytes}),Promise.resolve(new Set);v._updateProgress(Rb(S));const O=new MS(S,d.localStore,_.serializer);let L=yield _.qa();for(;L;){const ee=yield O._a(L);ee&&v._updateProgress(ee),L=yield _.qa()}const X=yield O.complete();return yield Ml(d,X.ca,void 0),yield function(de,pe){const Se=gt(de);return Se.persistence.runTransaction("Save bundle","readwrite",rt=>Se.Kr.saveBundleMetadata(rt,pe))}(d.localStore,S),v._completeWith(X.progress),Promise.resolve(X.ua)}catch(S){return Ms("SyncEngine",`Loading bundle failed with ${S}`),v._failWith(S),Promise.resolve(new Set)}var de}),function c(d,_,v){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield wg(r),a,i)}))}(t,r._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function nC(r,e){return function jS(r,e){return r.asyncQueue.enqueue((0,Ve.A)(function*(){return function(i,a){const c=gt(i);return c.persistence.runTransaction("Get named query","readonly",d=>c.Kr.getNamedQuery(d,a))}(yield Ef(r),e)}))}(ii(r=Vn(r,zr)),e).then(t=>t?new ss(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Sr(this,t):null)}}class te extends a0{constructor(e){super(),this.firestore=e}convertBytes(e){return new y(new Nl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return st.forKey(t,this.firestore,null)}}class ge{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new te(e)}get(e){const t=$g(e);return this._delegate.get(t).then(i=>new tr(this._firestore,new Cc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=$g(e);return i?(u("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=$g(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}}class ke{constructor(e){this._delegate=e}set(e,t,i){const a=$g(e);return i?(u("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const c=$g(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,i,...a),this}delete(e){const t=$g(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class et{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Of(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new di(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=et.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let c=a.get(t);return c||(c=new et(e,new te(e),t),a.set(t,c)),c}}et.INSTANCES=new WeakMap;class st{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new te(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new st(t,new Xr(t._delegate,i,new yt(e)))}static forKey(e,t,i){return new st(t,new Xr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Vf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vf(this.firestore,ny(this._delegate,e))}catch(t){throw Ue(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yn.Ku)(e))instanceof Xr&&Jb(this._delegate,e)}set(e,t){t=u("DocumentReference.set",t);try{return t?yy(this._delegate,e,t):yy(this._delegate,e)}catch(i){throw Ue(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?hC(this._delegate,e):hC(this._delegate,e,t,...i)}catch(a){throw Ue(a,"updateDoc()","DocumentReference.update()")}}delete(){return function fC(r){return xf(Vn(r.firestore,zr),[new Sl(r._key,ni.none())])}(this._delegate)}onSnapshot(...e){const t=en(e),i=zn(e,a=>new tr(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return l0(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function uR(r){r=Vn(r,Xr);const e=Vn(r.firestore,zr),t=ii(e),i=new Ac(e);return function Wb(r,e){const t=new Wi;return r.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return(i=(0,Ve.A)(function*(c,d,_){try{const v=yield function(O,L){const X=gt(O);return X.persistence.runTransaction("read document","readonly",ee=>X.localDocuments.getDocument(ee,L))}(c,d);v.isFoundDocument()?_.resolve(v):v.isNoDocument()?_.resolve(null):_.reject(new Qe(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const S=hf(v,`Failed to get document '${d} from cache`);_.reject(S)}}),function a(c,d,_){return i.apply(this,arguments)})(yield Ef(r),e,t);var i})),t.promise}(t,r._key).then(a=>new Cc(e,i,r._key,a,new Mf(null!==a&&a.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function uC(r){r=Vn(r,Xr);const e=Vn(r.firestore,zr);return BI(ii(e),r._key,{source:"server"}).then(t=>Og(e,r,t))}(this._delegate):function cR(r){r=Vn(r,Xr);const e=Vn(r.firestore,zr);return BI(ii(e),r._key).then(t=>Og(e,r,t))}(this._delegate),t.then(i=>new tr(this.firestore,new Cc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new st(this.firestore,this._delegate.withConverter(e?et.getInstance(this.firestore,e):null))}}function Ue(r,e,t){return r.message=r.message.replace(e,t),r}function en(r){for(const e of r)if("object"==typeof e&&!C(e))return e;return{}}function zn(r,e){var t,i;let a;return a=C(r[0])?r[0]:C(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class tr{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new st(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Nf(this._delegate,e._delegate)}}class di extends tr{data(e){const t=this._delegate.data(e);return this._delegate._converter||function MD(r,e){r||At()}(void 0!==t),t}}class Sr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new te(e)}where(e,t,i){try{return new Sr(this.firestore,Da(this._delegate,function JS(r,e,t){const i=e,a=Sg("where",r);return bc._create(a,i,t)}(e,t,i)))}catch(a){throw Ue(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Sr(this.firestore,Da(this._delegate,function tR(r,e="asc"){const t=e,i=Sg("orderBy",r);return s0._create(i,t)}(e,t)))}catch(i){throw Ue(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sr(this.firestore,Da(this._delegate,function oC(r){return ty("limit",r),py._create("limit",r,"F")}(e)))}catch(t){throw Ue(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Sr(this.firestore,Da(this._delegate,function aC(r){return ty("limitToLast",r),py._create("limitToLast",r,"L")}(e)))}catch(t){throw Ue(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sr(this.firestore,Da(this._delegate,function nR(...r){return Pg._create("startAt",r,!0)}(...e)))}catch(t){throw Ue(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sr(this.firestore,Da(this._delegate,function lC(...r){return Pg._create("startAfter",r,!1)}(...e)))}catch(t){throw Ue(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sr(this.firestore,Da(this._delegate,function rR(...r){return gy._create("endBefore",r,!1)}(...e)))}catch(t){throw Ue(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sr(this.firestore,Da(this._delegate,function RM(...r){return gy._create("endAt",r,!0)}(...e)))}catch(t){throw Ue(t,"endAt()","Query.endAt()")}}isEqual(e){return ry(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function dC(r){r=Vn(r,ss);const e=Vn(r.firestore,zr),t=ii(e),i=new Ac(e);return function ey(r,e){const t=new Wi;return r.asyncQueue.enqueueAndForget((0,Ve.A)(function*(){return(i=(0,Ve.A)(function*(c,d,_){try{const v=yield w_(c,d,!0),S=new Ob(d,v.ls),O=S.da(v.documents),L=S.applyChanges(O,!1);_.resolve(L.snapshot)}catch(v){const S=hf(v,`Failed to execute query '${d} against cache`);_.reject(S)}}),function a(c,d,_){return i.apply(this,arguments)})(yield Ef(r),e,t);var i})),t.promise}(t,r._query).then(a=>new Ou(e,i,r,a))}(this._delegate):"server"===e?.source?function hR(r){r=Vn(r,ss);const e=Vn(r.firestore,zr),t=ii(e),i=new Ac(e);return Gb(t,r._query,{source:"server"}).then(a=>new Ou(e,i,r,a))}(this._delegate):function dR(r){r=Vn(r,ss);const e=Vn(r.firestore,zr),t=ii(e),i=new Ac(e);return r0(r._query),Gb(t,r._query).then(a=>new Ou(e,i,r,a))}(this._delegate),t.then(i=>new zy(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=en(e),i=zn(e,a=>new zy(this.firestore,new Ou(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return l0(this._delegate,t,i)}withConverter(e){return new Sr(this.firestore,this._delegate.withConverter(e?et.getInstance(this.firestore,e):null))}}class Ff{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new di(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Sr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new di(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ff(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new di(this._firestore,i))})}isEqual(e){return Nf(this._delegate,e._delegate)}}class Vf extends Sr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new st(this.firestore,e):null}doc(e){try{return new st(this.firestore,void 0===e?bg(this._delegate):bg(this._delegate,e))}catch(t){throw Ue(t,"doc()","CollectionReference.doc()")}}add(e){return function pC(r,e){const t=Vn(r.firestore,zr),i=bg(r),a=my(r.converter,e);return xf(t,[ay(Hd(r.firestore),"addDoc",i._key,a,null!==r.converter,{}).toMutation(i._key,ni.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new st(this.firestore,t))}isEqual(e){return Jb(this._delegate,e._delegate)}withConverter(e){return new Vf(this.firestore,this._delegate.withConverter(e?et.getInstance(this.firestore,e):null))}}function $g(r){return Vn(r,Xr)}class KP{constructor(...e){this._delegate=new Tc(...e)}static documentId(){return new KP(Ur.keyField().canonicalString())}isEqual(e){return(e=(0,yn.Ku)(e))instanceof Tc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function u0(){return new Sf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hg(e)}static delete(){const e=function vR(){return new xl("deleteField")}();return e._methodName="FieldValue.delete",new Hg(e)}static arrayUnion(...e){const t=function IC(...r){return new Rf("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Hg(t)}static arrayRemove(...e){const t=function TC(...r){return new xs("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Hg(t)}static increment(e){const t=function UM(r){return new ly("increment",r)}(e);return t._methodName="FieldValue.increment",new Hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RN={Firestore:K,GeoPoint:Df,Timestamp:ti,Blob:y,Transaction:ge,WriteBatch:ke,DocumentReference:st,DocumentSnapshot:tr,Query:Sr,QueryDocumentSnapshot:di,QuerySnapshot:zy,CollectionReference:Vf,FieldPath:KP,FieldValue:Hg,setLogLevel:function ae(r){!function BT(r){nu.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function tN(r,e){return function ON(r,e=pn){return new Xe.c(t=>{let i;return null!=e?e.schedule(()=>{i=r.onSnapshot({includeMetadataChanges:!0},t)}):i=r.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(r,e)}function QP(r,e){return tN(r,e).pipe((0,Li.T)(t=>({payload:t,type:"query"})))}!function MN(r){(function PN(r,e){r.INTERNAL.registerComponent(new Qg.uA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},RN)))})(r,(e,t)=>new K(e,t,new F)),r.registerVersion("@firebase/firestore-compat","0.3.30")}(jg.A);class nN{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:c}=lN(i,t);return new sN(a,c,this.afs)}snapshotChanges(){return function NN(r,e){return tN(r,e).pipe((0,X0.Z)(void 0),sD(),(0,Li.T)(t=>{const[i,a]=t;return a.exists?i?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pe)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Li.T)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,Fu.H)(this.ref.get(e)).pipe(Pe)}}function aD(r,e){return QP(r,e).pipe((0,X0.Z)(void 0),sD(),(0,Li.T)(t=>{const[i,a]=t,c=a.payload.docChanges(),d=c.map(_=>({type:_.type,payload:_}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((_,v)=>{const S=c.find(L=>L.doc.ref.isEqual(_.ref)),O=i?.payload.docs.find(L=>L.ref.isEqual(_.ref));S&&JSON.stringify(S.doc.metadata)===JSON.stringify(_.metadata)||!S&&O&&JSON.stringify(O.metadata)===JSON.stringify(_.metadata)||d.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:_}})}),d}))}function rN(r,e,t){return aD(r,t).pipe((0,oD.S)((i,a)=>function xN(r,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(r=function kN(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return XP(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return XP(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return XP(r,e.oldIndex,1)}return r}(r,i))}),r}(i,a.map(c=>c.payload),e),[]),function n(r,e=eN.D){return r=r??s,(0,K0.N)((t,i)=>{let a,c=!0;t.subscribe((0,iD._)(i,d=>{const _=e(d);(c||!r(a,_))&&(c=!1,a=_,i.next(d))}))})}(),(0,Li.T)(i=>i.map(a=>({type:a.type,payload:a}))))}function XP(r,e,t,...i){const a=r.slice();return a.splice(e,t,...i),a}function iN(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class sN{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=aD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Li.T)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,X0.Z)(void 0),sD(),(0,Ny.p)(([i,a])=>a.length>0||!i),(0,Li.T)(([,i])=>i),Pe)}auditTrail(e){return this.stateChanges(e).pipe((0,oD.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=iN(e);return rN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pe)}valueChanges(e={}){return QP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Li.T)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Pe)}get(e){return(0,Fu.H)(this.query.get(e)).pipe(Pe)}add(e){return this.ref.add(e)}doc(e){return new nN(this.ref.doc(e),this.afs)}}class LN{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Li.T)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Ny.p)(t=>t.length>0),Pe):aD(this.query,this.afs.schedulers.outsideAngular).pipe(Pe)}auditTrail(e){return this.stateChanges(e).pipe((0,oD.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=iN(e);return rN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pe)}valueChanges(e={}){return QP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Li.T)(i=>i.payload.docs.map(a=>e.idField?{[e.idField]:a.id,...a.data()}:a.data())),Pe)}get(e){return(0,Fu.H)(this.query.get(e)).pipe(Pe)}}const oN=new h.nKC("angularfire2.enableFirestorePersistence"),aN=new h.nKC("angularfire2.firestore.persistenceSettings"),FN=new h.nKC("angularfire2.firestore.settings"),VN=new h.nKC("angularfire2.firestore.use-emulator");function lN(r,e=(t=>t)){return{query:e(r),ref:r}}let cN=(()=>{class r{schedulers;firestore;persistenceEnabled$;constructor(t,i,a,c,d,_,v,S,O,L,X,ee,de,pe,Se,rt,ft){this.schedulers=v;const qe=W0(t,_,i),vt=O;L&&nD(qe,_,X,de,pe,Se,ee,rt),[this.firestore,this.persistenceEnabled$]=G0(`${qe.name}.firestore`,"AngularFirestore",qe.name,()=>{const sn=_.runOutsideAngular(()=>qe.firestore());if(c&&sn.settings(c),vt&&sn.useEmulator(...vt),a&&!(0,dt.Vy)(d)){const ln=()=>{try{return(0,Fu.H)(sn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Dn){return typeof console<"u"&&console.warn(Dn),(0,Wd.of)(!1)}};return[sn,_.runOutsideAngular(ln)]}return[sn,(0,Wd.of)(!1)]},[c,vt,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=lN(a,i),_=this.schedulers.ngZone.run(()=>c);return new sN(_,d,this)}collectionGroup(t,i){const a=i||(d=>d),c=this.firestore.collectionGroup(t);return new LN(a(c),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new nN(a,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||r)(h.KVO(H0),h.KVO(z0,8),h.KVO(oN,8),h.KVO(FN,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(Wr),h.KVO(aN,8),h.KVO(VN,8),h.KVO(rD,8),h.KVO(zP,8),h.KVO(WP,8),h.KVO(GP,8),h.KVO(qP,8),h.KVO(eD,8),h.KVO(tD,8),h.KVO(Vt,8))};static \u0275prov=h.jDH({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})(),UN=(()=>{class r{constructor(){jg.A.registerVersion("angularfire",lt.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:oN,useValue:!0},{provide:aN,useValue:t}]}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=h.$C({type:r});static \u0275inj=h.G2t({providers:[cN]})}return r})(),BN=(()=>{class r{constructor(t){this.router=t,this.title="SpotiRFI",this.router.events.subscribe(i=>{i instanceof j.wF&&window.scrollTo(0,0)})}static#e=this.\u0275fac=function(i){return new(i||r)(h.rXU(j.Ix))};static#t=this.\u0275cmp=h.VBU({type:r,selectors:[["app-root"]],standalone:!0,features:[h.Jv_([cN]),h.aNF],decls:3,vars:0,template:function(i,a){1&i&&h.nrm(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[j.n3,NP,WO,UN]})}return r})();(0,w.B8)(BN,OP).catch(r=>console.error(r))},4412:(Nt,Be,G)=>{G.d(Be,{t:()=>h});var w=G(1413);class h extends w.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const _e=super._subscribe(le);return!_e.closed&&le.next(this._value),_e}getValue(){const{hasError:le,thrownError:_e,_value:ye}=this;if(le)throw _e;return this._throwIfClosed(),ye}next(le){super.next(this._value=le)}}},1985:(Nt,Be,G)=>{G.d(Be,{c:()=>tt});var w=G(7707),h=G(8359),j=G(3494),le=G(1203),_e=G(1026),ye=G(8071),Te=G(9786);let tt=(()=>{class be{constructor(We){We&&(this._subscribe=We)}lift(We){const ut=new be;return ut.source=this,ut.operator=We,ut}subscribe(We,ut,ot){const wt=function ne(be){return be&&be instanceof w.vU||function ie(be){return be&&(0,ye.T)(be.next)&&(0,ye.T)(be.error)&&(0,ye.T)(be.complete)}(be)&&(0,h.Uv)(be)}(We)?We:new w.Ms(We,ut,ot);return(0,Te.Y)(()=>{const{operator:It,source:pn}=this;wt.add(It?It.call(wt,pn):pn?this._subscribe(wt):this._trySubscribe(wt))}),wt}_trySubscribe(We){try{return this._subscribe(We)}catch(ut){We.error(ut)}}forEach(We,ut){return new(ut=He(ut))((ot,wt)=>{const It=new w.Ms({next:pn=>{try{We(pn)}catch(En){wt(En),It.unsubscribe()}},error:wt,complete:ot});this.subscribe(It)})}_subscribe(We){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(We)}[j.s](){return this}pipe(...We){return(0,le.m)(We)(this)}toPromise(We){return new(We=He(We))((ut,ot)=>{let wt;this.subscribe(It=>wt=It,It=>ot(It),()=>ut(wt))})}}return be.create=Ze=>new be(Ze),be})();function He(be){var Ze;return null!==(Ze=be??_e.$.Promise)&&void 0!==Ze?Ze:Promise}},1413:(Nt,Be,G)=>{G.d(Be,{B:()=>Te});var w=G(1985),h=G(8359);const le=(0,G(1853).L)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=G(7908),ye=G(9786);let Te=(()=>{class He extends w.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const be=new tt(this,this);return be.operator=ne,be}_throwIfClosed(){if(this.closed)throw new le}next(ne){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ne)}})}error(ne){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:be}=this;for(;be.length;)be.shift().error(ne)}})}complete(){(0,ye.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:be,isStopped:Ze,observers:We}=this;return be||Ze?h.Kn:(this.currentObservers=null,We.push(ne),new h.yU(()=>{this.currentObservers=null,(0,_e.o)(We,ne)}))}_checkFinalizedStatuses(ne){const{hasError:be,thrownError:Ze,isStopped:We}=this;be?ne.error(Ze):We&&ne.complete()}asObservable(){const ne=new w.c;return ne.source=this,ne}}return He.create=(ie,ne)=>new tt(ie,ne),He})();class tt extends Te{constructor(ie,ne){super(),this.destination=ie,this.source=ne}next(ie){var ne,be;null===(be=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===be||be.call(ne,ie)}error(ie){var ne,be;null===(be=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===be||be.call(ne,ie)}complete(){var ie,ne;null===(ne=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===ne||ne.call(ie)}_subscribe(ie){var ne,be;return null!==(be=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(ie))&&void 0!==be?be:h.Kn}}},7707:(Nt,Be,G)=>{G.d(Be,{Ms:()=>ot,vU:()=>be});var w=G(8071),h=G(8359),j=G(1026),le=G(5334),_e=G(5343);const ye=He("C",void 0,void 0);function He(Xe,ze,Je){return{kind:Xe,value:ze,error:Je}}var ie=G(9270),ne=G(9786);class be extends h.yU{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,h.Uv)(ze)&&ze.add(this)):this.destination=En}static create(ze,Je,it){return new ot(ze,Je,it)}next(ze){this.isStopped?pn(function tt(Xe){return He("N",Xe,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?pn(function Te(Xe){return He("E",void 0,Xe)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?pn(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function We(Xe,ze){return Ze.call(Xe,ze)}class ut{constructor(ze){this.partialObserver=ze}next(ze){const{partialObserver:Je}=this;if(Je.next)try{Je.next(ze)}catch(it){wt(it)}}error(ze){const{partialObserver:Je}=this;if(Je.error)try{Je.error(ze)}catch(it){wt(it)}else wt(ze)}complete(){const{partialObserver:ze}=this;if(ze.complete)try{ze.complete()}catch(Je){wt(Je)}}}class ot extends be{constructor(ze,Je,it){let lt;if(super(),(0,w.T)(ze)||!ze)lt={next:ze??void 0,error:Je??void 0,complete:it??void 0};else{let Et;this&&j.$.useDeprecatedNextContext?(Et=Object.create(ze),Et.unsubscribe=()=>this.unsubscribe(),lt={next:ze.next&&We(ze.next,Et),error:ze.error&&We(ze.error,Et),complete:ze.complete&&We(ze.complete,Et)}):lt=ze}this.destination=new ut(lt)}}function wt(Xe){j.$.useDeprecatedSynchronousErrorHandling?(0,ne.l)(Xe):(0,le.m)(Xe)}function pn(Xe,ze){const{onStoppedNotification:Je}=j.$;Je&&ie.f.setTimeout(()=>Je(Xe,ze))}const En={closed:!0,next:_e.l,error:function It(Xe){throw Xe},complete:_e.l}},8359:(Nt,Be,G)=>{G.d(Be,{Kn:()=>ye,yU:()=>_e,Uv:()=>Te});var w=G(8071);const j=(0,G(1853).L)(He=>function(ne){He(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((be,Ze)=>`${Ze+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var le=G(7908);class _e{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const We of ne)We.remove(this);else ne.remove(this);const{initialTeardown:be}=this;if((0,w.T)(be))try{be()}catch(We){ie=We instanceof j?We.errors:[We]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const We of Ze)try{tt(We)}catch(ut){ie=ie??[],ut instanceof j?ie=[...ie,...ut.errors]:ie.push(ut)}}if(ie)throw new j(ie)}}add(ie){var ne;if(ie&&ie!==this)if(this.closed)tt(ie);else{if(ie instanceof _e){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(ie)}}_hasParent(ie){const{_parentage:ne}=this;return ne===ie||Array.isArray(ne)&&ne.includes(ie)}_addParent(ie){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(ie),ne):ne?[ne,ie]:ie}_removeParent(ie){const{_parentage:ne}=this;ne===ie?this._parentage=null:Array.isArray(ne)&&(0,le.o)(ne,ie)}remove(ie){const{_finalizers:ne}=this;ne&&(0,le.o)(ne,ie),ie instanceof _e&&ie._removeParent(this)}}_e.EMPTY=(()=>{const He=new _e;return He.closed=!0,He})();const ye=_e.EMPTY;function Te(He){return He instanceof _e||He&&"closed"in He&&(0,w.T)(He.remove)&&(0,w.T)(He.add)&&(0,w.T)(He.unsubscribe)}function tt(He){(0,w.T)(He)?He():He.unsubscribe()}},1026:(Nt,Be,G)=>{G.d(Be,{$:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Nt,Be,G)=>{G.d(Be,{x:()=>_e});var w=G(6365),j=G(3794),le=G(8455);function _e(...ye){return function h(){return(0,w.U)(1)}()((0,le.H)(ye,(0,j.lI)(ye)))}},983:(Nt,Be,G)=>{G.d(Be,{w:()=>h});const h=new(G(1985).c)(_e=>_e.complete())},8455:(Nt,Be,G)=>{G.d(Be,{H:()=>ze});var w=G(8750),h=G(941),j=G(6745),ye=G(1985),tt=G(4761),He=G(8071),ie=G(5225);function be(Je,it){if(!Je)throw new Error("Iterable cannot be null");return new ye.c(lt=>{(0,ie.N)(lt,it,()=>{const Et=Je[Symbol.asyncIterator]();(0,ie.N)(lt,it,()=>{Et.next().then(we=>{we.done?lt.complete():lt.next(we.value)})},0,!0)})})}var Ze=G(5055),We=G(9858),ut=G(7441),ot=G(5397),wt=G(7953),It=G(591),pn=G(5196);function ze(Je,it){return it?function Xe(Je,it){if(null!=Je){if((0,Ze.l)(Je))return function le(Je,it){return(0,w.Tg)(Je).pipe((0,j._)(it),(0,h.Q)(it))}(Je,it);if((0,ut.X)(Je))return function Te(Je,it){return new ye.c(lt=>{let Et=0;return it.schedule(function(){Et===Je.length?lt.complete():(lt.next(Je[Et++]),lt.closed||this.schedule())})})}(Je,it);if((0,We.y)(Je))return function _e(Je,it){return(0,w.Tg)(Je).pipe((0,j._)(it),(0,h.Q)(it))}(Je,it);if((0,wt.T)(Je))return be(Je,it);if((0,ot.x)(Je))return function ne(Je,it){return new ye.c(lt=>{let Et;return(0,ie.N)(lt,it,()=>{Et=Je[tt.l](),(0,ie.N)(lt,it,()=>{let we,Zt;try{({value:we,done:Zt}=Et.next())}catch(Vt){return void lt.error(Vt)}Zt?lt.complete():lt.next(we)},0,!0)}),()=>(0,He.T)(Et?.return)&&Et.return()})}(Je,it);if((0,pn.U)(Je))return function En(Je,it){return be((0,pn.C)(Je),it)}(Je,it)}throw(0,It.L)(Je)}(Je,it):(0,w.Tg)(Je)}},8750:(Nt,Be,G)=>{G.d(Be,{Tg:()=>Ze});var w=G(1635),h=G(7441),j=G(9858),le=G(1985),_e=G(5055),ye=G(7953),Te=G(591),tt=G(5397),He=G(5196),ie=G(8071),ne=G(5334),be=G(3494);function Ze(Xe){if(Xe instanceof le.c)return Xe;if(null!=Xe){if((0,_e.l)(Xe))return function We(Xe){return new le.c(ze=>{const Je=Xe[be.s]();if((0,ie.T)(Je.subscribe))return Je.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,h.X)(Xe))return function ut(Xe){return new le.c(ze=>{for(let Je=0;Je<Xe.length&&!ze.closed;Je++)ze.next(Xe[Je]);ze.complete()})}(Xe);if((0,j.y)(Xe))return function ot(Xe){return new le.c(ze=>{Xe.then(Je=>{ze.closed||(ze.next(Je),ze.complete())},Je=>ze.error(Je)).then(null,ne.m)})}(Xe);if((0,ye.T)(Xe))return It(Xe);if((0,tt.x)(Xe))return function wt(Xe){return new le.c(ze=>{for(const Je of Xe)if(ze.next(Je),ze.closed)return;ze.complete()})}(Xe);if((0,He.U)(Xe))return function pn(Xe){return It((0,He.C)(Xe))}(Xe)}throw(0,Te.L)(Xe)}function It(Xe){return new le.c(ze=>{(function En(Xe,ze){var Je,it,lt,Et;return(0,w.sH)(this,void 0,void 0,function*(){try{for(Je=(0,w.xN)(Xe);!(it=yield Je.next()).done;)if(ze.next(it.value),ze.closed)return}catch(we){lt={error:we}}finally{try{it&&!it.done&&(Et=Je.return)&&(yield Et.call(Je))}finally{if(lt)throw lt.error}}ze.complete()})})(Xe,ze).catch(Je=>ze.error(Je))})}},7673:(Nt,Be,G)=>{G.d(Be,{of:()=>j});var w=G(3794),h=G(8455);function j(...le){const _e=(0,w.lI)(le);return(0,h.H)(le,_e)}},4360:(Nt,Be,G)=>{G.d(Be,{_:()=>h});var w=G(7707);function h(le,_e,ye,Te,tt){return new j(le,_e,ye,Te,tt)}class j extends w.vU{constructor(_e,ye,Te,tt,He,ie){super(_e),this.onFinalize=He,this.shouldUnsubscribe=ie,this._next=ye?function(ne){try{ye(ne)}catch(be){_e.error(be)}}:super._next,this._error=tt?function(ne){try{tt(ne)}catch(be){_e.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ne){_e.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},274:(Nt,Be,G)=>{G.d(Be,{H:()=>j});var w=G(1397),h=G(8071);function j(le,_e){return(0,h.T)(_e)?(0,w.Z)(le,_e,1):(0,w.Z)(le,1)}},9901:(Nt,Be,G)=>{G.d(Be,{U:()=>j});var w=G(9974),h=G(4360);function j(le){return(0,w.N)((_e,ye)=>{let Te=!1;_e.subscribe((0,h._)(ye,tt=>{Te=!0,ye.next(tt)},()=>{Te||ye.next(le),ye.complete()}))})}},5964:(Nt,Be,G)=>{G.d(Be,{p:()=>j});var w=G(9974),h=G(4360);function j(le,_e){return(0,w.N)((ye,Te)=>{let tt=0;ye.subscribe((0,h._)(Te,He=>le.call(_e,He,tt++)&&Te.next(He)))})}},980:(Nt,Be,G)=>{G.d(Be,{j:()=>h});var w=G(9974);function h(j){return(0,w.N)((le,_e)=>{try{le.subscribe(_e)}finally{_e.add(j)}})}},1594:(Nt,Be,G)=>{G.d(Be,{$:()=>Te});var w=G(9350),h=G(5964),j=G(6697),le=G(9901),_e=G(3774),ye=G(3669);function Te(tt,He){const ie=arguments.length>=2;return ne=>ne.pipe(tt?(0,h.p)((be,Ze)=>tt(be,Ze,ne)):ye.D,(0,j.s)(1),ie?(0,le.U)(He):(0,_e.v)(()=>new w.G))}},6354:(Nt,Be,G)=>{G.d(Be,{T:()=>j});var w=G(9974),h=G(4360);function j(le,_e){return(0,w.N)((ye,Te)=>{let tt=0;ye.subscribe((0,h._)(Te,He=>{Te.next(le.call(_e,He,tt++))}))})}},6365:(Nt,Be,G)=>{G.d(Be,{U:()=>j});var w=G(1397),h=G(3669);function j(le=1/0){return(0,w.Z)(h.D,le)}},1397:(Nt,Be,G)=>{G.d(Be,{Z:()=>tt});var w=G(6354),h=G(8750),j=G(9974),le=G(5225),_e=G(4360),Te=G(8071);function tt(He,ie,ne=1/0){return(0,Te.T)(ie)?tt((be,Ze)=>(0,w.T)((We,ut)=>ie(be,We,Ze,ut))((0,h.Tg)(He(be,Ze))),ne):("number"==typeof ie&&(ne=ie),(0,j.N)((be,Ze)=>function ye(He,ie,ne,be,Ze,We,ut,ot){const wt=[];let It=0,pn=0,En=!1;const Xe=()=>{En&&!wt.length&&!It&&ie.complete()},ze=it=>It<be?Je(it):wt.push(it),Je=it=>{We&&ie.next(it),It++;let lt=!1;(0,h.Tg)(ne(it,pn++)).subscribe((0,_e._)(ie,Et=>{Ze?.(Et),We?ze(Et):ie.next(Et)},()=>{lt=!0},void 0,()=>{if(lt)try{for(It--;wt.length&&It<be;){const Et=wt.shift();ut?(0,le.N)(ie,ut,()=>Je(Et)):Je(Et)}Xe()}catch(Et){ie.error(Et)}}))};return He.subscribe((0,_e._)(ie,ze,()=>{En=!0,Xe()})),()=>{ot?.()}}(be,Ze,He,ne)))}},941:(Nt,Be,G)=>{G.d(Be,{Q:()=>le});var w=G(5225),h=G(9974),j=G(4360);function le(_e,ye=0){return(0,h.N)((Te,tt)=>{Te.subscribe((0,j._)(tt,He=>(0,w.N)(tt,_e,()=>tt.next(He),ye),()=>(0,w.N)(tt,_e,()=>tt.complete(),ye),He=>(0,w.N)(tt,_e,()=>tt.error(He),ye)))})}},2816:(Nt,Be,G)=>{G.d(Be,{S:()=>le});var w=G(9974),h=G(4360);function le(_e,ye){return(0,w.N)(function j(_e,ye,Te,tt,He){return(ie,ne)=>{let be=Te,Ze=ye,We=0;ie.subscribe((0,h._)(ne,ut=>{const ot=We++;Ze=be?_e(Ze,ut,ot):(be=!0,ut),tt&&ne.next(Ze)},He&&(()=>{be&&ne.next(Ze),ne.complete()})))}}(_e,ye,arguments.length>=2,!0))}},9172:(Nt,Be,G)=>{G.d(Be,{Z:()=>le});var w=G(8793),h=G(3794),j=G(9974);function le(..._e){const ye=(0,h.lI)(_e);return(0,j.N)((Te,tt)=>{(ye?(0,w.x)(_e,Te,ye):(0,w.x)(_e,Te)).subscribe(tt)})}},6745:(Nt,Be,G)=>{G.d(Be,{_:()=>h});var w=G(9974);function h(j,le=0){return(0,w.N)((_e,ye)=>{ye.add(j.schedule(()=>_e.subscribe(ye),le))})}},5558:(Nt,Be,G)=>{G.d(Be,{n:()=>le});var w=G(8750),h=G(9974),j=G(4360);function le(_e,ye){return(0,h.N)((Te,tt)=>{let He=null,ie=0,ne=!1;const be=()=>ne&&!He&&tt.complete();Te.subscribe((0,j._)(tt,Ze=>{He?.unsubscribe();let We=0;const ut=ie++;(0,w.Tg)(_e(Ze,ut)).subscribe(He=(0,j._)(tt,ot=>tt.next(ye?ye(Ze,ot,ut,We++):ot),()=>{He=null,be()}))},()=>{ne=!0,be()}))})}},6697:(Nt,Be,G)=>{G.d(Be,{s:()=>le});var w=G(983),h=G(9974),j=G(4360);function le(_e){return _e<=0?()=>w.w:(0,h.N)((ye,Te)=>{let tt=0;ye.subscribe((0,j._)(Te,He=>{++tt<=_e&&(Te.next(He),_e<=tt&&Te.complete())}))})}},8141:(Nt,Be,G)=>{G.d(Be,{M:()=>_e});var w=G(8071),h=G(9974),j=G(4360),le=G(3669);function _e(ye,Te,tt){const He=(0,w.T)(ye)||Te||tt?{next:ye,error:Te,complete:tt}:ye;return He?(0,h.N)((ie,ne)=>{var be;null===(be=He.subscribe)||void 0===be||be.call(He);let Ze=!0;ie.subscribe((0,j._)(ne,We=>{var ut;null===(ut=He.next)||void 0===ut||ut.call(He,We),ne.next(We)},()=>{var We;Ze=!1,null===(We=He.complete)||void 0===We||We.call(He),ne.complete()},We=>{var ut;Ze=!1,null===(ut=He.error)||void 0===ut||ut.call(He,We),ne.error(We)},()=>{var We,ut;Ze&&(null===(We=He.unsubscribe)||void 0===We||We.call(He)),null===(ut=He.finalize)||void 0===ut||ut.call(He)}))}):le.D}},3774:(Nt,Be,G)=>{G.d(Be,{v:()=>le});var w=G(9350),h=G(9974),j=G(4360);function le(ye=_e){return(0,h.N)((Te,tt)=>{let He=!1;Te.subscribe((0,j._)(tt,ie=>{He=!0,tt.next(ie)},()=>He?tt.complete():tt.error(ye())))})}function _e(){return new w.G}},9270:(Nt,Be,G)=>{G.d(Be,{f:()=>w});const w={setTimeout(h,j,...le){const{delegate:_e}=w;return _e?.setTimeout?_e.setTimeout(h,j,...le):setTimeout(h,j,...le)},clearTimeout(h){const{delegate:j}=w;return(j?.clearTimeout||clearTimeout)(h)},delegate:void 0}},4761:(Nt,Be,G)=>{G.d(Be,{l:()=>h});const h=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Nt,Be,G)=>{G.d(Be,{s:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Nt,Be,G)=>{G.d(Be,{G:()=>h});const h=(0,G(1853).L)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Nt,Be,G)=>{G.d(Be,{R0:()=>ye,ms:()=>le,lI:()=>_e});var w=G(8071);function j(Te){return Te[Te.length-1]}function le(Te){return(0,w.T)(j(Te))?Te.pop():void 0}function _e(Te){return function h(Te){return Te&&(0,w.T)(Te.schedule)}(j(Te))?Te.pop():void 0}function ye(Te,tt){return"number"==typeof j(Te)?Te.pop():tt}},7908:(Nt,Be,G)=>{function w(h,j){if(h){const le=h.indexOf(j);0<=le&&h.splice(le,1)}}G.d(Be,{o:()=>w})},1853:(Nt,Be,G)=>{function w(h){const le=h(_e=>{Error.call(_e),_e.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}G.d(Be,{L:()=>w})},9786:(Nt,Be,G)=>{G.d(Be,{Y:()=>j,l:()=>le});var w=G(1026);let h=null;function j(_e){if(w.$.useDeprecatedSynchronousErrorHandling){const ye=!h;if(ye&&(h={errorThrown:!1,error:null}),_e(),ye){const{errorThrown:Te,error:tt}=h;if(h=null,Te)throw tt}}else _e()}function le(_e){w.$.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=_e)}},5225:(Nt,Be,G)=>{function w(h,j,le,_e=0,ye=!1){const Te=j.schedule(function(){le(),ye?h.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(h.add(Te),!ye)return Te}G.d(Be,{N:()=>w})},3669:(Nt,Be,G)=>{function w(h){return h}G.d(Be,{D:()=>w})},7441:(Nt,Be,G)=>{G.d(Be,{X:()=>w});const w=h=>h&&"number"==typeof h.length&&"function"!=typeof h},7953:(Nt,Be,G)=>{G.d(Be,{T:()=>h});var w=G(8071);function h(j){return Symbol.asyncIterator&&(0,w.T)(j?.[Symbol.asyncIterator])}},8071:(Nt,Be,G)=>{function w(h){return"function"==typeof h}G.d(Be,{T:()=>w})},5055:(Nt,Be,G)=>{G.d(Be,{l:()=>j});var w=G(3494),h=G(8071);function j(le){return(0,h.T)(le[w.s])}},5397:(Nt,Be,G)=>{G.d(Be,{x:()=>j});var w=G(4761),h=G(8071);function j(le){return(0,h.T)(le?.[w.l])}},9858:(Nt,Be,G)=>{G.d(Be,{y:()=>h});var w=G(8071);function h(j){return(0,w.T)(j?.then)}},5196:(Nt,Be,G)=>{G.d(Be,{C:()=>j,U:()=>le});var w=G(1635),h=G(8071);function j(_e){return(0,w.AQ)(this,arguments,function*(){const Te=_e.getReader();try{for(;;){const{value:tt,done:He}=yield(0,w.N3)(Te.read());if(He)return yield(0,w.N3)(void 0);yield yield(0,w.N3)(tt)}}finally{Te.releaseLock()}})}function le(_e){return(0,h.T)(_e?.getReader)}},9974:(Nt,Be,G)=>{G.d(Be,{N:()=>j,S:()=>h});var w=G(8071);function h(le){return(0,w.T)(le?.lift)}function j(le){return _e=>{if(h(_e))return _e.lift(function(ye){try{return le(ye,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Nt,Be,G)=>{function w(){}G.d(Be,{l:()=>w})},1203:(Nt,Be,G)=>{G.d(Be,{F:()=>h,m:()=>j});var w=G(3669);function h(...le){return j(le)}function j(le){return 0===le.length?w.D:1===le.length?le[0]:function(ye){return le.reduce((Te,tt)=>tt(Te),ye)}}},5334:(Nt,Be,G)=>{G.d(Be,{m:()=>j});var w=G(1026),h=G(9270);function j(le){h.f.setTimeout(()=>{const{onUnhandledError:_e}=w.$;if(!_e)throw le;_e(le)})}},591:(Nt,Be,G)=>{function w(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Be,{L:()=>w})},177:(Nt,Be,G)=>{G.d(Be,{AJ:()=>To,B3:()=>Gt,MD:()=>Zr,N0:()=>bo,QT:()=>j,Sq:()=>_o,T3:()=>Tt,UE:()=>Yi,VF:()=>_e,Vy:()=>Hl,YU:()=>Wt,ZD:()=>le,_b:()=>cn,aZ:()=>It,bT:()=>Ul,hb:()=>We,qQ:()=>Te});var w=G(4438);let h=null;function j(){return h}function le(A){h??=A}class _e{}const Te=new w.nKC("");let tt=(()=>{class A{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(k){return new(k||A)};static#t=this.\u0275prov=w.jDH({token:A,factory:()=>(0,w.WQX)(ie),providedIn:"platform"})}return A})(),ie=(()=>{class A extends tt{constructor(){super(),this._doc=(0,w.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(P){const k=j().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",P,!1),()=>k.removeEventListener("popstate",P)}onHashChange(P){const k=j().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",P,!1),()=>k.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,k,Z){this._history.pushState(P,k,Z)}replaceState(P,k,Z){this._history.replaceState(P,k,Z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(k){return new(k||A)};static#t=this.\u0275prov=w.jDH({token:A,factory:()=>new A,providedIn:"platform"})}return A})();function ne(A,V){if(0==A.length)return V;if(0==V.length)return A;let P=0;return A.endsWith("/")&&P++,V.startsWith("/")&&P++,2==P?A+V.substring(1):1==P?A+V:A+"/"+V}function be(A){const V=A.match(/#|\?|$/),P=V&&V.index||A.length;return A.slice(0,P-("/"===A[P-1]?1:0))+A.slice(P)}function Ze(A){return A&&"?"!==A[0]?"?"+A:A}let We=(()=>{class A{historyGo(P){throw new Error("")}static#e=this.\u0275fac=function(k){return new(k||A)};static#t=this.\u0275prov=w.jDH({token:A,factory:()=>(0,w.WQX)(ot),providedIn:"root"})}return A})();const ut=new w.nKC("");let ot=(()=>{class A extends We{constructor(P,k){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,w.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ne(this._baseHref,P)}path(P=!1){const k=this._platformLocation.pathname+Ze(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&P?`${k}${Z}`:k}pushState(P,k,Z,Ce){const je=this.prepareExternalUrl(Z+Ze(Ce));this._platformLocation.pushState(P,k,je)}replaceState(P,k,Z,Ce){const je=this.prepareExternalUrl(Z+Ze(Ce));this._platformLocation.replaceState(P,k,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(k){return new(k||A)(w.KVO(tt),w.KVO(ut,8))};static#t=this.\u0275prov=w.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),It=(()=>{class A{constructor(P){this._subject=new w.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const k=this._locationStrategy.getBaseHref();this._basePath=function ze(A){if(new RegExp("^(https?:)?//").test(A)){const[,P]=A.split(/\/\/[^\/]+/);return P}return A}(be(Xe(k))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,k=""){return this.path()==this.normalize(P+Ze(k))}normalize(P){return A.stripTrailingSlash(function En(A,V){if(!A||!V.startsWith(A))return V;const P=V.substring(A.length);return""===P||["/",";","?","#"].includes(P[0])?P:V}(this._basePath,Xe(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,k="",Z=null){this._locationStrategy.pushState(Z,"",P,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ze(k)),Z)}replaceState(P,k="",Z=null){this._locationStrategy.replaceState(Z,"",P,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ze(k)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription??=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)}),()=>{const k=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",k){this._urlChangeListeners.forEach(Z=>Z(P,k))}subscribe(P,k,Z){return this._subject.subscribe({next:P,error:k,complete:Z})}static#e=this.normalizeQueryParams=Ze;static#t=this.joinWithSlash=ne;static#n=this.stripTrailingSlash=be;static#r=this.\u0275fac=function(k){return new(k||A)(w.KVO(We))};static#i=this.\u0275prov=w.jDH({token:A,factory:()=>function pn(){return new It((0,w.KVO)(We))}(),providedIn:"root"})}return A})();function Xe(A){return A.replace(/\/index.html$/,"")}function cn(A,V){V=encodeURIComponent(V);for(const P of A.split(";")){const k=P.indexOf("="),[Z,Ce]=-1==k?[P,""]:[P.slice(0,k),P.slice(k+1)];if(Z.trim()===V)return decodeURIComponent(Ce)}return null}const Sn=/\s+/,Xn=[];let Wt=(()=>{class A{constructor(P,k){this._ngEl=P,this._renderer=k,this.initialClasses=Xn,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(Sn):Xn}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(Sn):P}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const k of P)this._updateState(k,!0);else if(null!=P)for(const k of Object.keys(P))this._updateState(k,!!P[k]);this._applyStateDiff()}_updateState(P,k){const Z=this.stateMap.get(P);void 0!==Z?(Z.enabled!==k&&(Z.changed=!0,Z.enabled=k),Z.touched=!0):this.stateMap.set(P,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const k=P[0],Z=P[1];Z.changed?(this._toggleClass(k,Z.enabled),Z.changed=!1):Z.touched||(Z.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),Z.touched=!1}}_toggleClass(P,k){(P=P.trim()).length>0&&P.split(Sn).forEach(Z=>{k?this._renderer.addClass(this._ngEl.nativeElement,Z):this._renderer.removeClass(this._ngEl.nativeElement,Z)})}static#e=this.\u0275fac=function(k){return new(k||A)(w.rXU(w.aKT),w.rXU(w.sFG))};static#t=this.\u0275dir=w.FsC({type:A,selectors:[["","ngClass",""]],inputs:{klass:[w.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return A})();class Wn{constructor(V,P,k,Z){this.$implicit=V,this.ngForOf=P,this.index=k,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _o=(()=>{class A{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,k,Z){this._viewContainer=P,this._template=k,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const k=this._viewContainer;P.forEachOperation((Z,Ce,je)=>{if(null==Z.previousIndex)k.createEmbeddedView(this._template,new Wn(Z.item,this._ngForOf,-1,-1),null===je?void 0:je);else if(null==je)k.remove(null===Ce?void 0:Ce);else if(null!==Ce){const bt=k.get(Ce);k.move(bt,je),yo(bt,Z)}});for(let Z=0,Ce=k.length;Z<Ce;Z++){const bt=k.get(Z).context;bt.index=Z,bt.count=Ce,bt.ngForOf=this._ngForOf}P.forEachIdentityChange(Z=>{yo(k.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(P,k){return!0}static#e=this.\u0275fac=function(k){return new(k||A)(w.rXU(w.c1b),w.rXU(w.C4Q),w.rXU(w._q3))};static#t=this.\u0275dir=w.FsC({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return A})();function yo(A,V){A.context.$implicit=V.item}let Ul=(()=>{class A{constructor(P,k){this._viewContainer=P,this._context=new Bl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Qd("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Qd("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,k){return!0}static#e=this.\u0275fac=function(k){return new(k||A)(w.rXU(w.c1b),w.rXU(w.C4Q))};static#t=this.\u0275dir=w.FsC({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return A})();class Bl{constructor(){this.$implicit=null,this.ngIf=null}}function Qd(A,V){if(V&&!V.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,w.Tbb)(V)}'.`)}let Gt=(()=>{class A{constructor(P,k,Z){this._ngEl=P,this._differs=k,this._renderer=Z,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,k){const[Z,Ce]=P.split("."),je=-1===Z.indexOf("-")?void 0:w.czy.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,Z,Ce?`${k}${Ce}`:k,je):this._renderer.removeStyle(this._ngEl.nativeElement,Z,je)}_applyChanges(P){P.forEachRemovedItem(k=>this._setStyle(k.key,null)),P.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),P.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}static#e=this.\u0275fac=function(k){return new(k||A)(w.rXU(w.aKT),w.rXU(w.MKu),w.rXU(w.sFG))};static#t=this.\u0275dir=w.FsC({type:A,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return A})(),Tt=(()=>{class A{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(this._shouldRecreateView(P)){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Z=this._createContextForwardProxy();this._viewRef=k.createEmbeddedView(this.ngTemplateOutlet,Z,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(P){return!!P.ngTemplateOutlet||!!P.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(P,k,Z)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,k,Z),get:(P,k,Z)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,k,Z)}})}static#e=this.\u0275fac=function(k){return new(k||A)(w.rXU(w.c1b))};static#t=this.\u0275dir=w.FsC({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.OA$]})}return A})(),Zr=(()=>{class A{static#e=this.\u0275fac=function(k){return new(k||A)};static#t=this.\u0275mod=w.$C({type:A});static#n=this.\u0275inj=w.G2t({})}return A})();const To="browser",tl="server";function Yi(A){return A===To}function Hl(A){return A===tl}class bo{}},4438:(Nt,Be,G)=>{function h(n,s){return Object.is(n,s)}G.d(Be,{bc$:()=>_D,iLQ:()=>C0,sZ2:()=>ac,o8S:()=>ku,BIS:()=>yD,gRc:()=>jo,Ql9:()=>D0,Ocv:()=>nP,Z63:()=>Co,aKT:()=>cp,uvJ:()=>wr,zcH:()=>Ha,bkB:()=>ml,$GK:()=>un,nKC:()=>Wt,zZn:()=>ko,_q3:()=>V0,MKu:()=>Fy,xe9:()=>Oy,Co$:()=>b_,Vns:()=>Od,SKi:()=>bn,Xx1:()=>Yi,Agw:()=>Tm,PLl:()=>Lv,sFG:()=>Vw,_9s:()=>Fw,czy:()=>Op,WPN:()=>At,C4Q:()=>gc,NYb:()=>$1,giA:()=>gA,xvI:()=>I1,RxE:()=>sA,c1b:()=>og,gXe:()=>Is,L39:()=>BP,EWP:()=>eD,Ol2:()=>Nd,w6W:()=>IS,Rfq:()=>fi,oKB:()=>So,WQX:()=>Yt,naY:()=>Ny,QuC:()=>Ai,EmA:()=>ra,Udg:()=>Q0,N4e:()=>so,vPA:()=>KE,O8t:()=>tD,An2:()=>Qh,H3F:()=>oA,H8p:()=>io,KH2:()=>wc,TgB:()=>xd,wOt:()=>ct,WHO:()=>fA,e01:()=>pA,lNU:()=>jr,h9k:()=>vi,$MX:()=>ki,ZF7:()=>eu,Kcf:()=>DD,e5t:()=>Yv,UyX:()=>El,cWb:()=>Xv,osQ:()=>LT,H5H:()=>Df,Zy3:()=>si,mq5:()=>rC,JZv:()=>Mt,TL3:()=>NP,LfX:()=>he,plB:()=>lu,jNT:()=>w0,zjR:()=>mA,ngT:()=>Vo,TL$:()=>mD,Tbb:()=>Jn,rcV:()=>Hi,Vt3:()=>I_,Mj6:()=>Jo,GFd:()=>rI,OA$:()=>D,Jv_:()=>$R,aNF:()=>HR,R7$:()=>sw,BMQ:()=>j_,HbH:()=>Y_,AVh:()=>FI,vxM:()=>ss,wni:()=>xg,nv$:()=>Db,T$4:()=>Ab,g25:()=>_I,VBU:()=>Na,FsC:()=>na,jDH:()=>kn,G2t:()=>ms,$C:()=>Gl,EJ8:()=>xa,rXU:()=>Br,nrm:()=>ii,eu8:()=>QI,bVm:()=>oy,qex:()=>sy,k0s:()=>iy,j41:()=>qI,RV6:()=>nC,xGo:()=>gh,KVO:()=>hr,kS0:()=>lm,bIt:()=>c0,lsd:()=>Iy,qSk:()=>pv,XpG:()=>ER,SdG:()=>wC,NAR:()=>d0,Y8G:()=>xI,FS9:()=>bC,lJ4:()=>WR,eq3:()=>GR,l_i:()=>qR,sMw:()=>KR,ziG:()=>QR,l4e:()=>XR,zJS:()=>YR,mGM:()=>AC,sdS:()=>RC,Dyx:()=>ry,Z7z:()=>bg,fX1:()=>ny,Njj:()=>av,EBC:()=>sE,eBV:()=>Kf,f$h:()=>Re,n$t:()=>jT,Aen:()=>po,xc7:()=>LI,DNE:()=>af,C5r:()=>r1,EFF:()=>kC,JRh:()=>_0,SpI:()=>wy,Lme:()=>FC,E5c:()=>VC,wXG:()=>nE,DH7:()=>UR,mxI:()=>jC,R50:()=>BC,GBs:()=>Ey}),G(467);let j=null,le=!1,_e=1;const ye=Symbol("SIGNAL");function Te(n){const s=j;return j=n,s}const ne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function be(n){if(le)throw new Error("");if(null===j)return;j.consumerOnSignalRead(n);const s=j.nextProducerIndex++;lt(j),s<j.producerNode.length&&j.producerNode[s]!==n&&it(j)&&Je(j.producerNode[s],j.producerIndexOfThis[s]),j.producerNode[s]!==n&&(j.producerNode[s]=n,j.producerIndexOfThis[s]=it(j)?ze(n,j,s):0),j.producerLastReadVersion[s]=n.version}function We(n){if((!it(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==_e)){if(!n.producerMustRecompute(n)&&!En(n))return n.dirty=!1,void(n.lastCleanEpoch=_e);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=_e}}function ut(n){if(void 0===n.liveConsumerNode)return;const s=le;le=!0;try{for(const o of n.liveConsumerNode)o.dirty||wt(o)}finally{le=s}}function ot(){return!1!==j?.consumerAllowSignalWrites}function wt(n){n.dirty=!0,ut(n),n.consumerMarkedDirty?.(n)}function It(n){return n&&(n.nextProducerIndex=0),Te(n)}function pn(n,s){if(Te(s),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(it(n))for(let o=n.nextProducerIndex;o<n.producerNode.length;o++)Je(n.producerNode[o],n.producerIndexOfThis[o]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function En(n){lt(n);for(let s=0;s<n.producerNode.length;s++){const o=n.producerNode[s],l=n.producerLastReadVersion[s];if(l!==o.version||(We(o),l!==o.version))return!0}return!1}function ze(n,s,o){if(Et(n),lt(n),0===n.liveConsumerNode.length)for(let l=0;l<n.producerNode.length;l++)n.producerIndexOfThis[l]=ze(n.producerNode[l],n,l);return n.liveConsumerIndexOfThis.push(o),n.liveConsumerNode.push(s)-1}function Je(n,s){if(Et(n),lt(n),1===n.liveConsumerNode.length)for(let l=0;l<n.producerNode.length;l++)Je(n.producerNode[l],n.producerIndexOfThis[l]);const o=n.liveConsumerNode.length-1;if(n.liveConsumerNode[s]=n.liveConsumerNode[o],n.liveConsumerIndexOfThis[s]=n.liveConsumerIndexOfThis[o],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,s<n.liveConsumerNode.length){const l=n.liveConsumerIndexOfThis[s],u=n.liveConsumerNode[s];lt(u),u.producerIndexOfThis[l]=s}}function it(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function lt(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Et(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}const Zt=Symbol("UNSET"),Vt=Symbol("COMPUTING"),Pr=Symbol("ERRORED"),nr={...ne,value:Zt,dirty:!0,error:null,equal:h,producerMustRecompute:n=>n.value===Zt||n.value===Vt,producerRecomputeValue(n){if(n.value===Vt)throw new Error("Detected cycle in computations.");const s=n.value;n.value=Vt;const o=It(n);let l;try{l=n.computation()}catch(u){l=Pr,n.error=u}finally{pn(n,o)}s!==Zt&&s!==Pr&&l!==Pr&&n.equal(s,l)?n.value=s:(n.value=l,n.version++)}};let yr=function cr(){throw new Error};function Wr(){yr()}let Ie=null;function Pe(n,s){ot()||Wr(),n.equal(n.value,s)||(n.value=s,function zt(n){n.version++,function Ze(){_e++}(),ut(n),Ie?.()}(n))}const St={...ne,equal:h,value:void 0};var Cn=G(1413),ur=G(8359),or=G(4412),Gr=G(6354);const jr="https://g.co/ng/security#xss";class ct extends Error{constructor(s,o){super(si(s,o)),this.code=s}}function si(n,s){return`NG0${Math.abs(n)}${s?": "+s:""}`}function Ke(n){return{toString:n}.toString()}const Er="__parameters__";function xn(n,s,o){return Ke(()=>{const l=function Or(n){return function(...o){if(n){const l=n(...o);for(const u in l)this[u]=l[u]}}}(s);function u(...f){if(this instanceof u)return l.apply(this,f),this;const m=new u(...f);return y.annotation=m,y;function y(C,M,F){const K=C.hasOwnProperty(Er)?C[Er]:Object.defineProperty(C,Er,{value:[]})[Er];for(;K.length<=F;)K.push(null);return(K[F]=K[F]||[]).push(m),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}const Mt=globalThis;function gn(n){for(let s in n)if(n[s]===gn)return s;throw Error("Could not find renamed property on target object.")}function Zn(n,s){for(const o in s)s.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=s[o])}function Jn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Jn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const s=n.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ir(n,s){return null==n||""===n?null===s?"":s:null==s||""===s?n:n+" "+s}const Pi=gn({__forward_ref__:gn});function fi(n){return n.__forward_ref__=fi,n.toString=function(){return Jn(this())},n}function ce(n){return ue(n)?n():n}function ue(n){return"function"==typeof n&&n.hasOwnProperty(Pi)&&n.__forward_ref__===fi}function ht(n,s,o,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}function kn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ms(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ae(n){return Fe(n,Xt)||Fe(n,Sn)}function he(n){return null!==Ae(n)}function Fe(n,s){return n.hasOwnProperty(s)?n[s]:null}function qt(n){return n&&(n.hasOwnProperty(cn)||n.hasOwnProperty(Xn))?n[cn]:null}const Xt=gn({\u0275prov:gn}),cn=gn({\u0275inj:gn}),Sn=gn({ngInjectableDef:gn}),Xn=gn({ngInjectorDef:gn});class Wt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=kn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zo(n){return n&&!!n.\u0275providers}const wi=gn({\u0275cmp:gn}),Xs=gn({\u0275dir:gn}),Wo=gn({\u0275pipe:gn}),Go=gn({\u0275mod:gn}),Qi=gn({\u0275fac:gn}),dr=gn({__NG_ELEMENT_ID__:gn}),qo=gn({__NG_ENV_ID__:gn});function Gt(n){return"string"==typeof n?n:null==n?"":String(n)}function Fs(n,s){throw new ct(-201,!1)}var un=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(un||{});let Xi;function jl(){return Xi}function Yr(n){const s=Xi;return Xi=n,s}function Za(n,s,o){const l=Ae(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&un.Optional?null:void 0!==s?s:void Fs()}const vo={},el="__NG_DI_FLAG__",Ko="ngTempTokenPath",Qo=/\n/gm,Xo="__source";let Vs;function bi(n){const s=Vs;return Vs=n,s}function Sa(n,s=un.Default){if(void 0===Vs)throw new ct(-203,!1);return null===Vs?Za(n,void 0,s):Vs.get(n,s&un.Optional?null:void 0,s)}function hr(n,s=un.Default){return(jl()||Sa)(ce(n),s)}function Yt(n,s=un.Default){return hr(n,Js(s))}function Js(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nr(n){const s=[];for(let o=0;o<n.length;o++){const l=ce(n[o]);if(Array.isArray(l)){if(0===l.length)throw new ct(900,!1);let u,f=un.Default;for(let m=0;m<l.length;m++){const y=l[m],C=To(y);"number"==typeof C?-1===C?u=y.token:f|=C:u=y}s.push(hr(u,f))}else s.push(hr(l))}return s}function Zr(n,s){return n[el]=s,n.prototype[el]=s,n}function To(n){return n[el]}const Yi=Zr(xn("Optional"),8),Mi=Zr(xn("SkipSelf"),4);function Us(n,s){return n.hasOwnProperty(Qi)?n[Qi]:null}function Bs(n,s){n.forEach(o=>Array.isArray(o)?Bs(o,s):s(o))}function Ra(n,s,o){s>=n.length?n.push(o):n.splice(s,0,o)}function bo(n,s){return s>=n.length-1?n.pop():n.splice(s,1)[0]}function nl(n,s,o){const l=n.length-o;for(;s<l;)n[s]=n[s+o],s++;for(;o--;)n.pop()}function rl(n,s,o,l){let u=n.length;if(u==s)n.push(o,l);else if(1===u)n.push(l,n[0]),n[0]=o;else{for(u--,n.push(n[u-1],n[u]);u>s;)n[u]=n[u-2],u--;n[s]=o,n[s+1]=l}}function gi(n,s,o){let l=Ui(n,s);return l>=0?n[1|l]=o:(l=~l,rl(n,l,s,o)),l}function Yo(n,s){const o=Ui(n,s);if(o>=0)return n[1|o]}function Ui(n,s){return function Zo(n,s,o){let l=0,u=n.length>>o;for(;u!==l;){const f=l+(u-l>>1),m=n[f<<o];if(s===m)return f<<o;m>s?u=f:l=f+1}return~(u<<o)}(n,s,1)}const Jr={},vn=[],Co=new Wt(""),Hu=new Wt("",-1),Pc=new Wt("");class Es{get(s,o=vo){if(o===vo){const l=new Error(`NullInjectorError: No provider for ${Jn(s)}!`);throw l.name="NullInjectorError",l}return o}}var il=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(il||{}),Is=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Is||{}),Jo=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Jo||{});function Mc(n,s,o){let l=n.length;for(;;){const u=n.indexOf(s,o);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const f=s.length;if(u+f===l||n.charCodeAt(u+f)<=32)return u}o=u+1}}function Pa(n,s,o){let l=0;for(;l<o.length;){const u=o[l];if("number"==typeof u){if(0!==u)break;l++;const f=o[l++],m=o[l++],y=o[l++];n.setAttribute(s,m,y,f)}else{const f=u,m=o[++l];as(f)?n.setProperty(s,f,m):n.setAttribute(s,f,m),l++}}return l}function Ci(n){return 3===n||4===n||6===n}function as(n){return 64===n.charCodeAt(0)}function Ts(n,s){if(null!==s&&0!==s.length)if(null===n||0===n.length)n=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const u=s[l];"number"==typeof u?o=u:0===o||ws(n,o,u,null,-1===o||2===o?s[++l]:null)}}return n}function ws(n,s,o,l,u){let f=0,m=n.length;if(-1===s)m=-1;else for(;f<n.length;){const y=n[f++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=f-1;break}}}for(;f<n.length;){const y=n[f];if("number"==typeof y)break;if(y===o){if(null===l)return void(null!==u&&(n[f+1]=u));if(l===n[f+1])return void(n[f+2]=u)}f++,null!==l&&f++,null!==u&&f++}-1!==m&&(n.splice(m,0,s),f=m+1),n.splice(f++,0,o),null!==l&&n.splice(f++,0,l),null!==u&&n.splice(f++,0,u)}const ea="ng-template";function Ma(n,s,o,l){let u=0;if(l){for(;u<s.length&&"string"==typeof s[u];u+=2)if("class"===s[u]&&-1!==Mc(s[u+1].toLowerCase(),o,0))return!0}else if(zl(n))return!1;if(u=s.indexOf(1,u),u>-1){let f;for(;++u<s.length&&"string"==typeof(f=s[u]);)if(f.toLowerCase()===o)return!0}return!1}function zl(n){return 4===n.type&&n.value!==ea}function zu(n,s,o){return s===(4!==n.type||o?n.value:ea)}function ta(n,s,o){let l=4;const u=n.attrs,f=null!==u?function Oa(n){for(let s=0;s<n.length;s++)if(Ci(n[s]))return s;return n.length}(u):0;let m=!1;for(let y=0;y<s.length;y++){const C=s[y];if("number"!=typeof C){if(!m)if(4&l){if(l=2|1&l,""!==C&&!zu(n,C,o)||""===C&&1===s.length){if(Bi(l))return!1;m=!0}}else if(8&l){if(null===u||!Ma(n,u,C,o)){if(Bi(l))return!1;m=!0}}else{const M=s[++y],F=Wl(C,u,zl(n),o);if(-1===F){if(Bi(l))return!1;m=!0;continue}if(""!==M){let K;if(K=F>f?"":u[F+1].toLowerCase(),2&l&&M!==K){if(Bi(l))return!1;m=!0}}}}else{if(!m&&!Bi(l)&&!Bi(C))return!1;if(m&&Bi(C))continue;m=!1,l=C|1&l}}return Bi(l)||m}function Bi(n){return!(1&n)}function Wl(n,s,o,l){if(null===s)return-1;let u=0;if(l||!o){let f=!1;for(;u<s.length;){const m=s[u];if(m===n)return u;if(3===m||6===m)f=!0;else{if(1===m||2===m){let y=s[++u];for(;"string"==typeof y;)y=s[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=f?1:2}return-1}return function Un(n,s){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const l=n[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,n)}function ls(n,s,o=!1){for(let l=0;l<s.length;l++)if(ta(n,s[l],o))return!0;return!1}function no(n,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(n.length===l.length){for(let u=0;u<n.length;u++)if(n[u]!==l[u])continue e;return!0}}return!1}function Ao(n,s){return n?":not("+s.trim()+")":s}function sl(n){let s=n[0],o=1,l=2,u="",f=!1;for(;o<n.length;){let m=n[o];if("string"==typeof m)if(2&l){const y=n[++o];u+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!Bi(m)&&(s+=Ao(f,u),u=""),l=m,f=f||!Bi(l);o++}return""!==u&&(s+=Ao(f,u)),s}function Na(n){return Ke(()=>{const s=ol(n),o={...s,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===il.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Is.Emulated,styles:n.styles||vn,_:null,schemas:n.schemas||null,tView:null,id:""};ql(o);const l=n.dependencies;return o.directiveDefs=$s(l,!1),o.pipeDefs=$s(l,!0),o.id=function Lc(n){let s=0;const o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const u of o)s=Math.imul(31,s)+u.charCodeAt(0)|0;return s+=2147483648,"c"+s}(o),o})}function xc(n){return on(n)||xr(n)}function kc(n){return null!==n}function Gl(n){return Ke(()=>({type:n.type,bootstrap:n.bootstrap||vn,declarations:n.declarations||vn,imports:n.imports||vn,exports:n.exports||vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Do(n,s){if(null==n)return Jr;const o={};for(const l in n)if(n.hasOwnProperty(l)){const u=n[l];let f,m,y=Jo.None;Array.isArray(u)?(y=u[0],f=u[1],m=u[2]??f):(f=u,m=u),s?(o[f]=y!==Jo.None?[l,y]:l,s[f]=m):o[f]=l}return o}function na(n){return Ke(()=>{const s=ol(n);return ql(s),s})}function xa(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function on(n){return n[wi]||null}function xr(n){return n[Xs]||null}function Tr(n){return n[Wo]||null}function Ai(n){const s=on(n)||xr(n)||Tr(n);return null!==s&&s.standalone}function li(n,s){const o=n[Go]||null;if(!o&&!0===s)throw new Error(`Type ${Jn(n)} does not have '\u0275mod' property.`);return o}function ol(n){const s={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:n.inputs||Jr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Do(n.inputs,s),outputs:Do(n.outputs),debugInfo:null}}function ql(n){n.features?.forEach(s=>s(n))}function $s(n,s){if(!n)return null;const o=s?Tr:xc;return()=>("function"==typeof n?n():n).map(l=>o(l)).filter(kc)}function ra(n){return{\u0275providers:n}}function So(...n){return{\u0275providers:cs(0,n),\u0275fromNgModule:!0}}function cs(n,...s){const o=[],l=new Set;let u;const f=m=>{o.push(m)};return Bs(s,m=>{const y=m;ji(y,f,[],l)&&(u||=[],u.push(y))}),void 0!==u&&Kl(u,f),o}function Kl(n,s){for(let o=0;o<n.length;o++){const{ngModule:l,providers:u}=n[o];ia(u,f=>{s(f,l)})}}function ji(n,s,o,l){if(!(n=ce(n)))return!1;let u=null,f=qt(n);const m=!f&&on(n);if(f||m){if(m&&!m.standalone)return!1;u=n}else{const C=n.ngModule;if(f=qt(C),!f)return!1;u=C}const y=l.has(u);if(m){if(y)return!1;if(l.add(u),m.dependencies){const C="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const M of C)ji(M,s,o,l)}}else{if(!f)return!1;{if(null!=f.imports&&!y){let M;l.add(u);try{Bs(f.imports,F=>{ji(F,s,o,l)&&(M||=[],M.push(F))})}finally{}void 0!==M&&Kl(M,s)}if(!y){const M=Us(u)||(()=>new u);s({provide:u,useFactory:M,deps:vn},u),s({provide:Pc,useValue:u,multi:!0},u),s({provide:Co,useValue:()=>hr(u),multi:!0},u)}const C=f.providers;if(null!=C&&!y){const M=n;ia(C,F=>{s(F,M)})}}}return u!==n&&void 0!==n.providers}function ia(n,s){for(let o of n)zo(o)&&(o=o.\u0275providers),Array.isArray(o)?ia(o,s):s(o)}const sa=gn({provide:String,useValue:gn});function Fc(n){return null!==n&&"object"==typeof n&&sa in n}function ro(n){return"function"==typeof n}const io=new Wt(""),Yl={},al={};let oa;function Ro(){return void 0===oa&&(oa=new Es),oa}class wr{}class Zi extends wr{get destroyed(){return this._destroyed}constructor(s,o,l,u){super(),this.parent=o,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,La(s,m=>this.processProvider(m)),this.records.set(Hu,aa(void 0,this)),u.has("environment")&&this.records.set(wr,aa(void 0,this));const f=this.records.get(io);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Pc,vn,un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=Te(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Te(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=bi(this),l=Yr(void 0);try{return s()}finally{bi(o),Yr(l)}}get(s,o=vo,l=un.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(qo))return s[qo](this);l=Js(l);const f=bi(this),m=Yr(void 0);try{if(!(l&un.SkipSelf)){let C=this.records.get(s);if(void 0===C){const M=function ll(n){return"function"==typeof n||"object"==typeof n&&n instanceof Wt}(s)&&Ae(s);C=M&&this.injectableDefInScope(M)?aa(Vc(s),Yl):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(l&un.Self?Ro():this.parent).get(s,o=l&un.Optional&&o===vo?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Ko]=y[Ko]||[]).unshift(Jn(s)),f)throw y;return function tl(n,s,o,l){const u=n[Ko];throw s[Xo]&&u.unshift(s[Xo]),n.message=function wo(n,s,o,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let u=Jn(s);if(Array.isArray(s))u=s.map(Jn).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];f.push(m+":"+("string"==typeof y?JSON.stringify(y):Jn(y)))}u=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${n.replace(Qo,"\n  ")}`}("\n"+n.message,u,o,l),n.ngTokenPath=u,n[Ko]=null,n}(y,s,"R3InjectorError",this.source)}throw y}finally{Yr(m),bi(f)}}resolveInjectorInitializers(){const s=Te(null),o=bi(this),l=Yr(void 0);try{const f=this.get(Co,vn,un.Self);for(const m of f)m()}finally{bi(o),Yr(l),Te(s)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(Jn(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(s){let o=ro(s=ce(s))?s:ce(s&&s.provide);const l=function qu(n){return Fc(n)?aa(void 0,n.useValue):aa(Zl(n),Yl)}(s);if(!ro(s)&&!0===s.multi){let u=this.records.get(o);u||(u=aa(void 0,Yl,!0),u.factory=()=>Nr(u.multi),this.records.set(o,u)),o=s,u.multi.push(s)}this.records.set(o,l)}hydrate(s,o){const l=Te(null);try{return o.value===Yl&&(o.value=al,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Bf(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{Te(l)}}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ce(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Vc(n){const s=Ae(n),o=null!==s?s.factory:Us(n);if(null!==o)return o;if(n instanceof Wt)throw new ct(204,!1);if(n instanceof Function)return function Uc(n){if(n.length>0)throw new ct(204,!1);const o=function pt(n){return n&&(n[Xt]||n[Sn])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ct(204,!1)}function Zl(n,s,o){let l;if(ro(n)){const u=ce(n);return Us(u)||Vc(u)}if(Fc(n))l=()=>ce(n.useValue);else if(function ka(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Nr(n.deps||[]));else if(function Xl(n){return!(!n||!n.useExisting)}(n))l=()=>hr(ce(n.useExisting));else{const u=ce(n&&(n.useClass||n.provide));if(!function Po(n){return!!n.deps}(n))return Us(u)||Vc(u);l=()=>new u(...Nr(n.deps))}return l}function aa(n,s,o=!1){return{factory:n,value:s,multi:o?[]:void 0}}function La(n,s){for(const o of n)Array.isArray(o)?La(o,s):o&&zo(o)?La(o.\u0275providers,s):s(o)}function so(n,s){n instanceof Zi&&n.assertNotDestroyed();const l=bi(n),u=Yr(void 0);try{return s()}finally{bi(l),Yr(u)}}const Ln=0,nt=1,Ot=2,Rn=3,br=4,Gn=5,Kr=6,oo=7,lr=8,mi=9,qn=10,Jt=11,cl=12,Ku=13,Jl=14,Pn=15,Mo=16,ul=17,Cs=18,Hs=19,dl=20,Oo=21,jf=22,$e=23,an=25,zs=1,Oi=7,Lr=9,Fr=10;var Fa=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Fa||{});function _i(n){return Array.isArray(n)&&"object"==typeof n[zs]}function Ni(n){return Array.isArray(n)&&!0===n[zs]}function No(n){return!!(4&n.flags)}function As(n){return n.componentOffset>-1}function la(n){return!(1&~n.flags)}function Ji(n){return!!n.template}function jc(n){return!!(512&n[Ot])}class Kg{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function E(n,s,o,l){null!==s?s.applyValueToInputSignal(s,l):n[o]=l}function D(){return T}function T(n){return n.type.prototype.ngOnChanges&&(n.setInput=N),R}function R(){const n=J(this),s=n?.current;if(s){const o=n.previous;if(o===Jr)n.previous=s;else for(let l in s)o[l]=s[l];n.current=null,this.ngOnChanges(s)}}function N(n,s,o,l,u){const f=this.declaredInputs[l],m=J(n)||function De(n,s){return n[H]=s}(n,{previous:Jr,current:null}),y=m.current||(m.current={}),C=m.previous,M=C[f];y[f]=new Kg(M&&M.currentValue,o,C===Jr),E(n,s,u,o)}D.ngInherit=!0;const H="__ngSimpleChanges__";function J(n){return n[H]||null}const $t=function(n,s,o){},_n="svg";let Gs=!1;function Fn(n){for(;Array.isArray(n);)n=n[Ln];return n}function yn(n,s){return Fn(s[n])}function Ar(n,s){return Fn(s[n.index])}function Wc(n,s){return n.data[s]}function es(n,s){const o=s[n];return _i(o)?o:o[Ln]}function Xu(n){return!(128&~n[Ot])}function ao(n,s){return null==s?null:n[s]}function rv(n){n[ul]=0}function Xg(n){1024&n[Ot]||(n[Ot]|=1024,Xu(n)&&nh(n))}function eh(n){return!!(9216&n[Ot]||n[$e]?.dirty)}function th(n){n[qn].changeDetectionScheduler?.notify(1),eh(n)?nh(n):64&n[Ot]&&(function ca(){return Gs}()?(n[Ot]|=1024,nh(n)):n[qn].changeDetectionScheduler?.notify())}function nh(n){n[qn].changeDetectionScheduler?.notify();let s=Gc(n);for(;null!==s&&!(8192&s[Ot])&&(s[Ot]|=8192,Xu(s));)s=Gc(s)}function nc(n,s){if(!(256&~n[Ot]))throw new ct(911,!1);null===n[Oo]&&(n[Oo]=[]),n[Oo].push(s)}function Zg(n,s){if(null===n[Oo])return;const o=n[Oo].indexOf(s);-1!==o&&n[Oo].splice(o,1)}function Gc(n){const s=n[Rn];return Ni(s)?s[Rn]:s}const tn={lFrame:dv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jg(){return tn.bindingsEnabled}function Yu(){return null!==tn.skipHydrationRootTNode}function Le(){return tn.lFrame.lView}function Mn(){return tn.lFrame.tView}function Kf(n){return tn.lFrame.contextLView=n,n[lr]}function av(n){return tn.lFrame.contextLView=null,n}function er(){let n=Qf();for(;null!==n&&64===n.type;)n=n.parent;return n}function Qf(){return tn.lFrame.currentTNode}function da(n,s){const o=tn.lFrame;o.currentTNode=n,o.isParent=s}function rh(){return tn.lFrame.isParent}function nm(){tn.lFrame.isParent=!1}function Ds(){const n=tn.lFrame;let s=n.bindingRootIndex;return-1===s&&(s=n.bindingRootIndex=n.tView.bindingStartIndex),s}function Va(){return tn.lFrame.bindingIndex}function ha(){return tn.lFrame.bindingIndex++}function fl(n){const s=tn.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+n,o}function iT(n,s){const o=tn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Zf(s)}function Zf(n){tn.lFrame.currentDirectiveIndex=n}function Zu(){return tn.lFrame.currentQueryIndex}function Jf(n){tn.lFrame.currentQueryIndex=n}function oT(n){const s=n[nt];return 2===s.type?s.declTNode:1===s.type?n[Gn]:null}function cv(n,s,o){if(o&un.SkipSelf){let u=s,f=n;for(;!(u=u.parent,null!==u||o&un.Host||(u=oT(f),null===u||(f=f[Jl],10&u.type))););if(null===u)return!1;s=u,n=f}const l=tn.lFrame=uv();return l.currentTNode=s,l.lView=n,!0}function sm(n){const s=uv(),o=n[nt];tn.lFrame=s,s.currentTNode=o.firstChild,s.lView=n,s.tView=o,s.contextLView=n,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function uv(){const n=tn.lFrame,s=null===n?null:n.child;return null===s?dv(n):s}function dv(n){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=s),s}function hv(){const n=tn.lFrame;return tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fv=hv;function ih(){const n=hv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function us(){return tn.lFrame.selectedIndex}function Kc(n){tn.lFrame.selectedIndex=n}function Vr(){const n=tn.lFrame;return Wc(n.tView,n.selectedIndex)}function pv(){tn.lFrame.currentNamespace=_n}let sh=!0;function nn(){return sh}function ds(n){sh=n}function oh(n,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:F}=f;m&&(n.contentHooks??=[]).push(-o,m),y&&((n.contentHooks??=[]).push(o,y),(n.contentCheckHooks??=[]).push(o,y)),C&&(n.viewHooks??=[]).push(-o,C),M&&((n.viewHooks??=[]).push(o,M),(n.viewCheckHooks??=[]).push(o,M)),null!=F&&(n.destroyHooks??=[]).push(o,F)}}function pl(n,s,o){ep(n,s,3,o)}function ah(n,s,o,l){(3&n[Ot])===o&&ep(n,s,o,l)}function lh(n,s){let o=n[Ot];(3&o)===s&&(o&=16383,o+=1,n[Ot]=o)}function ep(n,s,o,l){const f=l??-1,m=s.length-1;let y=0;for(let C=void 0!==l?65535&n[ul]:0;C<m;C++)if("number"==typeof s[C+1]){if(y=s[C],null!=l&&y>=l)break}else s[C]<0&&(n[ul]+=65536),(y<f||-1==f)&&(ch(n,o,s,C),n[ul]=(4294901760&n[ul])+C+2),C++}function Di(n,s){$t(4,n,s);const o=Te(null);try{s.call(n)}finally{Te(o),$t(5,n,s)}}function ch(n,s,o,l){const u=o[l]<0,f=o[l+1],y=n[u?-o[l]:o[l]];u?n[Ot]>>14<n[ul]>>16&&(3&n[Ot])===s&&(n[Ot]+=16384,Di(y,f)):Di(y,f)}const ei=-1;class Ss{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Qc(n){return n!==ei}function Rs(n){return 32767&n}function Ju(n,s){let o=function hh(n){return n>>16}(n),l=s;for(;o>0;)l=l[Jl],o--;return l}let am=!0;function Ua(n){const s=am;return am=n,s}const p=255,g=5;let b=0;const x={};function re(n,s){const o=Ge(n,s);if(-1!==o)return o;const l=s[nt];l.firstCreatePass&&(n.injectorIndex=s.length,ve(l.data,n),ve(s,null),ve(l.blueprint,null));const u=Ct(n,s),f=n.injectorIndex;if(Qc(u)){const m=Rs(u),y=Ju(u,s),C=y[nt].data;for(let M=0;M<8;M++)s[f+M]=y[m+M]|C[m+M]}return s[f+8]=u,f}function ve(n,s){n.push(0,0,0,0,0,0,0,0,s)}function Ge(n,s){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===s[n.injectorIndex+8]?-1:n.injectorIndex}function Ct(n,s){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,l=null,u=s;for(;null!==u;){if(l=mv(u),null===l)return ei;if(o++,u=u[Jl],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return ei}function kt(n,s,o){!function z(n,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(dr)&&(l=o[dr]),null==l&&(l=o[dr]=b++);const u=l&p;s.data[n+(u>>g)]|=1<<u}(n,s,o)}function Si(n,s,o){if(o&un.Optional||void 0!==n)return n;Fs()}function Ba(n,s,o,l){if(o&un.Optional&&void 0===l&&(l=null),!(o&(un.Self|un.Host))){const u=n[mi],f=Yr(void 0);try{return u?u.get(s,l,o&un.Optional):Za(s,l,o&un.Optional)}finally{Yr(f)}}return Si(l,0,o)}function ja(n,s,o,l=un.Default,u){if(null!==n){if(2048&s[Ot]&&!(l&un.Self)){const m=function cT(n,s,o,l,u){let f=n,m=s;for(;null!==f&&null!==m&&2048&m[Ot]&&!(512&m[Ot]);){const y=np(f,m,o,l|un.Self,x);if(y!==x)return y;let C=f.parent;if(!C){const M=m[dl];if(M){const F=M.get(o,x,l);if(F!==x)return F}C=mv(m),m=m[Jl]}f=C}return u}(n,s,o,l,x);if(m!==x)return m}const f=np(n,s,o,l,x);if(f!==x)return f}return Ba(s,o,l,u)}function np(n,s,o,l,u){const f=function ip(n){if("string"==typeof n)return n.charCodeAt(0)||0;const s=n.hasOwnProperty(dr)?n[dr]:void 0;return"number"==typeof s?s>=0?s&p:ed:s}(o);if("function"==typeof f){if(!cv(s,n,l))return l&un.Host?Si(u,0,l):Ba(s,o,l,u);try{let m;if(m=f(l),null!=m||l&un.Optional)return m;Fs()}finally{fv()}}else if("number"==typeof f){let m=null,y=Ge(n,s),C=ei,M=l&un.Host?s[Pn][Gn]:null;for((-1===y||l&un.SkipSelf)&&(C=-1===y?Ct(n,s):s[y+8],C!==ei&&ph(l,!1)?(m=s[nt],y=Rs(C),s=Ju(C,s)):y=-1);-1!==y;){const F=s[nt];if(fh(f,y,F.data)){const K=rp(y,s,o,m,l,M);if(K!==x)return K}C=s[y+8],C!==ei&&ph(l,s[nt].data[y+8]===M)&&fh(f,y,s)?(m=F,y=Rs(C),s=Ju(C,s)):y=-1}}return u}function rp(n,s,o,l,u,f){const m=s[nt],y=m.data[n+8],F=gl(y,m,o,null==l?As(y)&&am:l!=m&&!!(3&y.type),u&un.Host&&f===y);return null!==F?fa(s,m,F,y):x}function gl(n,s,o,l,u){const f=n.providerIndexes,m=s.data,y=1048575&f,C=n.directiveStart,F=f>>20,te=u?y+F:n.directiveEnd;for(let ae=l?y:y+F;ae<te;ae++){const ge=m[ae];if(ae<C&&o===ge||ae>=C&&ge.type===o)return ae}if(u){const ae=m[C];if(ae&&Ji(ae)&&ae.type===o)return C}return null}function fa(n,s,o,l){let u=n[o];const f=s.data;if(function om(n){return n instanceof Ss}(u)){const m=u;m.resolving&&function ys(n,s){throw s&&s.join(" > "),new ct(-200,n)}(function Tt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Gt(n)}(f[o]));const y=Ua(m.canSeeViewProviders);m.resolving=!0;const M=m.injectImpl?Yr(m.injectImpl):null;cv(n,l,un.Default);try{u=n[o]=m.factory(void 0,f,n,l),s.firstCreatePass&&o>=l.directiveStart&&function rc(n,s,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:f}=s.type.prototype;if(l){const m=T(s);(o.preOrderHooks??=[]).push(n,m),(o.preOrderCheckHooks??=[]).push(n,m)}u&&(o.preOrderHooks??=[]).push(0-n,u),f&&((o.preOrderHooks??=[]).push(n,f),(o.preOrderCheckHooks??=[]).push(n,f))}(o,f[o],s)}finally{null!==M&&Yr(M),Ua(y),m.resolving=!1,fv()}}return u}function fh(n,s,o){return!!(o[s+(n>>g)]&1<<n)}function ph(n,s){return!(n&un.Self||n&un.Host&&s)}class ci{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return ja(this._tNode,this._lView,s,Js(l),o)}}function ed(){return new ci(er(),Le())}function gh(n){return Ke(()=>{const s=n.prototype.constructor,o=s[Qi]||sp(s),l=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==l;){const f=u[Qi]||sp(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function sp(n){return ue(n)?()=>{const s=sp(ce(n));return s&&s()}:Us(n)}function mv(n){const s=n[nt],o=s.type;return 2===o?s.declTNode:1===o?n[Gn]:null}function lm(n){return function An(n,s){if("class"===s)return n.classes;if("style"===s)return n.styles;const o=n.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const f=o[u];if(Ci(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(f===s)return o[u+1];u+=2}}}return null}(er(),n)}function hT(n,s=null,o=null,l){const u=Tv(n,s,o,l);return u.resolveInjectorInitializers(),u}function Tv(n,s=null,o=null,l,u=new Set){const f=[o||vn,So(n)];return l=l||("object"==typeof n?void 0:Jn(n)),new Zi(f,s||Ro(),l||null,u)}let ko=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=vo;static#t=this.NULL=new Es;static create(o,l){if(Array.isArray(o))return hT({name:""},l,o,"");{const u=o.name??"";return hT({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=kn({token:n,providedIn:"any",factory:()=>hr(Hu)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function td(n){return n.ngOriginalError}class Ha{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&td(s);for(;o&&td(o);)o=td(o);return o||null}}const wv=new Wt("",{providedIn:"root",factory:()=>Yt(Ha).handleError.bind(void 0)});let mh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=bv;static#t=this.__NG_ENV_ID__=o=>o}return n})();class um extends mh{constructor(s){super(),this._lView=s}onDestroy(s){return nc(this._lView,s),()=>Zg(this._lView,s)}}function bv(){return new um(Le())}function pT(){return sc(er(),Le())}function sc(n,s){return new cp(Ar(n,s))}let cp=(()=>{class n{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=pT}return n})();function gT(n){return n instanceof cp?n.nativeElement:n}function Cv(n){return s=>{setTimeout(n,void 0,s)}}const ml=class _h extends Cn.B{constructor(s=!1){super(),this.destroyRef=void 0,this.__isAsync=s,function Bc(){return void 0!==jl()||null!=function Zs(){return Vs}()}()&&(this.destroyRef=Yt(mh,{optional:!0})??void 0)}emit(s){const o=Te(null);try{super.next(s)}finally{Te(o)}}subscribe(s,o,l){let u=s,f=o||(()=>null),m=l;if(s&&"object"==typeof s){const C=s;u=C.next?.bind(C),f=C.error?.bind(C),m=C.complete?.bind(C)}this.__isAsync&&(f=Cv(f),u&&(u=Cv(u)),m&&(m=Cv(m)));const y=super.subscribe({next:u,error:f,complete:m});return s instanceof ur.yU&&s.add(y),y}};function nd(){return this._results[Symbol.iterator]()}class fm{static#e=Symbol.iterator;get changes(){return this._changes??=new ml}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=fm.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=nd)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){this.dirty=!1;const l=function $n(n){return n.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Rc(n,s,o){if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++){let u=n[l],f=s[l];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(this._results,l,o))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ns(n){return!(128&~n.flags)}const rd=new Map;let pm=0;const vh="__ngContext__";function xi(n,s){_i(s)?(n[vh]=s[Hs],function Dv(n){rd.set(n[Hs],n)}(s)):n[vh]=s}function Yc(n){return bT(n[cl])}function ym(n){return bT(n[br])}function bT(n){for(;null!==n&&!Ni(n);)n=n[br];return n}let kv;function mD(n){kv=n}const ac=new Wt("",{providedIn:"root",factory:()=>ST}),ST="ng",Lv=new Wt(""),Tm=new Wt("",{providedIn:"platform",factory:()=>"unknown"}),_D=new Wt(""),yD=new Wt("",{providedIn:"root",factory:()=>function ga(){if(void 0!==kv)return kv;if(typeof document<"u")return document;throw new ct(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Bv=()=>null;function jv(n,s,o=!1){return Bv(n,s,o)}const Wv=new Wt("",{providedIn:"root",factory:()=>!1});let Dh,yl;function Cp(){if(void 0===Dh&&(Dh=null,Mt.trustedTypes))try{Dh=Mt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dh}function ad(n){return Cp()?.createHTML(n)||n}function Qv(n){return function Rm(){if(void 0===yl&&(yl=null,Mt.trustedTypes))try{yl=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yl}()?.createScriptURL(n)||n}class vl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jr})`}}class Lo extends vl{getTypeName(){return"HTML"}}class xT extends vl{getTypeName(){return"Style"}}class kT extends vl{getTypeName(){return"Script"}}class Sh extends vl{getTypeName(){return"URL"}}class AD extends vl{getTypeName(){return"ResourceURL"}}function Hi(n){return n instanceof vl?n.changingThisBreaksApplicationSecurity:n}function eu(n,s){const o=function gr(n){return n instanceof vl&&n.getTypeName()||null}(n);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${jr})`)}return o===s}function DD(n){return new Lo(n)}function Xv(n){return new xT(n)}function El(n){return new kT(n)}function LT(n){return new Sh(n)}function Yv(n){return new AD(n)}class Zv{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(ad(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class FT{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=ad(s),o}}const _a=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ki(n){return(n=String(n)).match(_a)?n:"unsafe:"+n}function ya(n){const s={};for(const o of n.split(","))s[o]=!0;return s}function tu(...n){const s={};for(const o of n)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const Rh=ya("area,br,col,hr,img,wbr"),Ap=ya("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jv=ya("rp,rt"),Sp=tu(Rh,tu(Ap,ya("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(Jv,ya("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(Jv,Ap)),eE=ya("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VT=tu(eE,ya("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ya("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pm=ya("script,style,template");class RD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0,u=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)u.push(o),o=UT(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=Ph(o);if(f){o=f;break}o=u.pop()}return this.buf.join("")}startElement(s){const o=zi(s).toLowerCase();if(!Sp.hasOwnProperty(o))return this.sanitizedSomething=!0,!Pm.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let u=0;u<l.length;u++){const f=l.item(u),m=f.name,y=m.toLowerCase();if(!VT.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let C=f.value;eE[y]&&(C=ki(C)),this.buf.push(" ",m,'="',BT(C),'"')}return this.buf.push(">"),!0}endElement(s){const o=zi(s).toLowerCase();Sp.hasOwnProperty(o)&&!Rh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(BT(s))}}function Ph(n){const s=n.nextSibling;if(s&&n!==s.previousSibling)throw cd(s);return s}function UT(n){const s=n.firstChild;if(s&&function PD(n,s){return(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,s))throw cd(s);return s}function zi(n){const s=n.nodeName;return"string"==typeof s?s:"FORM"}function cd(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const nu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mh=/([^\#-~ |!])/g;function BT(n){return n.replace(/&/g,"&amp;").replace(nu,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Mh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ye;function vi(n,s){let o=null;try{Ye=Ye||function ld(n){const s=new FT(n);return function lc(){try{return!!(new window.DOMParser).parseFromString(ad(""),"text/html")}catch{return!1}}()?new Zv(s):s}(n);let l=s?String(s):"";o=Ye.getInertBodyElement(l);let u=5,f=l;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,l=f,f=o.innerHTML,o=Ye.getInertBodyElement(l)}while(l!==f);return ad((new RD).sanitizeChildren(Ms(o)||o))}finally{if(o){const l=Ms(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Ms(n){return"content"in n&&function tE(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var At=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(At||{});function gt(n){const s=Rp();return s?s.sanitize(At.URL,n)||"":eu(n,"URL")?Hi(n):ki(Gt(n))}function Re(n){const s=Rp();if(s)return Qv(s.sanitize(At.RESOURCE_URL,n)||"");if(eu(n,"ResourceURL"))return Qv(Hi(n));throw new ct(904,!1)}function nE(n){return function NT(n){return Cp()?.createScriptURL(n)||n}(n[0])}function jT(n,s,o){return function OD(n,s){return"src"===s&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===s&&("base"===n||"link"===n)?Re:gt}(s,o)(n)}function Rp(){const n=Le();return n&&n[qn].sanitizer}const $T=/^>|^->|<!--|-->|--!>|<!-$/g,ND=/(<|>)/g,lM="\u200b$1\u200b";function Om(n){ht("Must never be called in production mode");const o=function Mm(n){ht("Must never be called in production mode");const o=n[Pn][lr];return o&&o.constructor?on(o.constructor):null}(n)?.type?.name;return o?` (used in the '${o}' component template)`:""}function sE(n){return n.ownerDocument}function qs(n){return n instanceof Function?n():n}function fe(n){return"browser"===(n??Yt(ko)).get(Tm)}var Op=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Op||{});let Np;function aE(n,s){return Np(n,s)}function rs(n,s,o,l,u){if(null!=l){let f,m=!1;Ni(l)?f=l:_i(l)&&(m=!0,l=l[Ln]);const y=Fn(l);0===n&&null!==o?null==u?ew(s,o,y):fd(s,o,y,u||null,!0):1===n&&null!==o?fd(s,o,y,u||null,!0):2===n?function va(n,s,o){const l=Fm(n,s);l&&function VD(n,s,o,l){n.removeChild(s,o,l)}(n,l,s,o)}(s,y,m):3===n&&s.destroyNode(y),null!=f&&function rw(n,s,o,l,u){const f=o[Oi];f!==Fn(o)&&rs(s,n,l,f,u);for(let y=Fr;y<o.length;y++){const C=o[y];gd(C[nt],C,n,s,l,f)}}(s,n,f,o,u)}}function xm(n,s){return n.createComment(function HT(n){return n.replace($T,s=>s.replace(ND,lM))}(s))}function Gi(n,s,o){return n.createElement(s,o)}function za(n,s){s[qn].changeDetectionScheduler?.notify(1),gd(n,s,s[Jt],2,null,null)}function ZT(n,s){const o=n[Lr],l=o.indexOf(s);o.splice(l,1)}function xp(n,s){if(n.length<=Fr)return;const o=Fr+s,l=n[o];if(l){const u=l[Mo];null!==u&&u!==n&&ZT(u,l),s>0&&(n[o-1][br]=l[br]);const f=bo(n,Fr+s);!function kD(n,s){za(n,s),s[Ln]=null,s[Gn]=null}(l[nt],l);const m=f[Cs];null!==m&&m.detachView(f[nt]),l[Rn]=null,l[br]=null,l[Ot]&=-129}return l}function Lm(n,s){if(!(256&s[Ot])){const o=s[Jt];o.destroyNode&&gd(n,s,o,3,null,null),function XT(n){let s=n[cl];if(!s)return lE(n[nt],n);for(;s;){let o=null;if(_i(s))o=s[cl];else{const l=s[Fr];l&&(o=l)}if(!o){for(;s&&!s[br]&&s!==n;)_i(s)&&lE(s[nt],s),s=s[Rn];null===s&&(s=n),_i(s)&&lE(s[nt],s),o=s&&s[br]}s=o}}(s)}}function lE(n,s){if(256&s[Ot])return;const o=Te(null);try{s[Ot]&=-129,s[Ot]|=256,s[$e]&&function Xe(n){if(lt(n),it(n))for(let s=0;s<n.producerNode.length;s++)Je(n.producerNode[s],n.producerIndexOfThis[s]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(s[$e]),function FD(n,s){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let l=0;l<o.length;l+=2){const u=s[o[l]];if(!(u instanceof Ss)){const f=o[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const y=u[f[m]],C=f[m+1];$t(4,y,C);try{C.call(y)}finally{$t(5,y,C)}}else{$t(4,u,f);try{f.call(u)}finally{$t(5,u,f)}}}}}(n,s),function LD(n,s){const o=n.cleanup,l=s[oo];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+3];m>=0?l[m]():l[-m].unsubscribe(),f+=2}else o[f].call(l[o[f+1]]);null!==l&&(s[oo]=null);const u=s[Oo];if(null!==u){s[Oo]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(n,s),1===s[nt].type&&s[Jt].destroy();const l=s[Mo];if(null!==l&&Ni(s[Rn])){l!==s[Rn]&&ZT(l,s);const u=s[Cs];null!==u&&u.detachView(n)}!function yT(n){rd.delete(n[Hs])}(s)}finally{Te(o)}}function cE(n,s,o){return function JT(n,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[Ln];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:f}=n.data[l.directiveStart+u];if(f===Is.None||f===Is.Emulated)return null}return Ar(l,o)}}(n,s.parent,o)}function fd(n,s,o,l,u){n.insertBefore(s,o,l,u)}function ew(n,s,o){n.appendChild(s,o)}function tw(n,s,o,l,u){null!==l?fd(n,s,o,l,u):ew(n,s,o)}function Fm(n,s){return n.parentNode(s)}function uE(n,s,o){return dE(n,s,o)}let Vm,dE=function nw(n,s,o){return 40&n.type?Ar(n,o):null};function Um(n,s,o,l){const u=cE(n,l,s),f=s[Jt],y=uE(l.parent||s[Gn],l,s);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)tw(f,u,o[C],y,!1);else tw(f,u,o,y,!1);void 0!==Vm&&Vm(f,l,s,o,u)}function pd(n,s){if(null!==s){const o=s.type;if(3&o)return Ar(s,n);if(4&o)return Bm(-1,n[s.index]);if(8&o){const l=s.child;if(null!==l)return pd(n,l);{const u=n[s.index];return Ni(u)?Bm(-1,u):Fn(u)}}if(32&o)return aE(s,n)()||Fn(n[s.index]);{const l=qi(n,s);return null!==l?Array.isArray(l)?l[0]:pd(Gc(n[Pn]),l):pd(n,s.next)}}return null}function qi(n,s){return null!==s?n[Pn][Gn].projection[s.projection]:null}function Bm(n,s){const o=Fr+n+1;if(o<s.length){const l=s[o],u=l[nt].firstChild;if(null!==u)return pd(l,u)}return s[Oi]}function Dr(n,s,o,l,u,f,m){for(;null!=o;){const y=l[o.index],C=o.type;if(m&&0===s&&(y&&xi(Fn(y),l),o.flags|=2),32&~o.flags)if(8&C)Dr(n,s,o.child,l,u,f,!1),rs(s,n,u,y,f);else if(32&C){const M=aE(o,l);let F;for(;F=M();)rs(s,n,u,F,f);rs(s,n,u,y,f)}else 16&C?mr(n,s,l,o,u,f):rs(s,n,u,y,f);o=m?o.projectionNext:o.next}}function gd(n,s,o,l,u,f){Dr(o,l,n.firstChild,s,u,f,!1)}function mr(n,s,o,l,u,f){const m=o[Pn],C=m[Gn].projection[l.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)rs(s,n,u,C[M],f);else{let M=C;const F=m[Rn];ns(l)&&(M.flags|=128),Dr(n,s,M,F,u,f,!0)}}function pE(n,s,o){""===o?n.removeAttribute(s,"class"):n.setAttribute(s,"class",o)}function iw(n,s,o){const{mergedAttrs:l,classes:u,styles:f}=o;null!==l&&Pa(n,s,l),null!==u&&pE(n,s,u),null!==f&&function co(n,s,o){n.setAttribute(s,"style",o)}(n,s,f)}const Lt={};function sw(n=1){Il(Mn(),Le(),us()+n,!1)}function Il(n,s,o,l){if(!l)if(3&~s[Ot]){const f=n.preOrderHooks;null!==f&&ah(s,f,0,o)}else{const f=n.preOrderCheckHooks;null!==f&&pl(s,f,o)}Kc(o)}function Br(n,s=un.Default){const o=Le();return null===o?hr(n,s):ja(er(),o,ce(n),s)}function kp(n,s,o,l,u,f){const m=Te(null);try{let y=null;u&Jo.SignalBased&&(y=s[l][ye]),null!==y&&void 0!==y.transformFn&&(f=y.transformFn(f)),u&Jo.HasDecoratorInputTransform&&(f=n.inputTransforms[l].call(s,f)),null!==n.setInput?n.setInput(s,y,f,o,l):E(s,y,l,f)}finally{Te(m)}}function ru(n,s,o,l,u,f,m,y,C,M,F){const K=s.blueprint.slice();return K[Ln]=u,K[Ot]=204|l,(null!==M||n&&2048&n[Ot])&&(K[Ot]|=2048),rv(K),K[Rn]=K[Jl]=n,K[lr]=o,K[qn]=m||n&&n[qn],K[Jt]=y||n&&n[Jt],K[mi]=C||n&&n[mi]||null,K[Gn]=f,K[Hs]=function _T(){return pm++}(),K[Kr]=F,K[dl]=M,K[Pn]=2==s.type?n[Pn]:K,K}function Fh(n,s,o,l,u){let f=n.data[s];if(null===f)f=function Tl(n,s,o,l,u){const f=Qf(),m=rh(),C=n.data[s]=function aw(n,s,o,l,u,f){let m=s?s.injectorIndex:-1,y=0;return Yu()&&(y|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,o,s,l,u);return null===n.firstChild&&(n.firstChild=C),null!==f&&(m?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(n,s,o,l,u),function rT(){return tn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=l,f.attrs=u;const m=function qc(){const n=tn.lFrame,s=n.currentTNode;return n.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return da(f,!0),f}function Ea(n,s,o,l){if(0===o)return-1;const u=s.length;for(let f=0;f<o;f++)s.push(l),n.blueprint.push(l),n.data.push(null);return u}function Lp(n,s,o,l,u){const f=us(),m=2&l;try{Kc(-1),m&&s.length>an&&Il(n,s,an,!1),$t(m?2:0,u),o(l,u)}finally{Kc(f),$t(m?3:1,u)}}function wl(n,s,o){if(No(s)){const l=Te(null);try{const f=s.directiveEnd;for(let m=s.directiveStart;m<f;m++){const y=n.data[m];y.contentQueries&&y.contentQueries(1,o[m],m)}}finally{Te(l)}}}function Ia(n,s,o){Jg()&&(function hw(n,s,o,l){const u=o.directiveStart,f=o.directiveEnd;As(o)&&function pw(n,s,o){const l=Ar(s,n),u=fc(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const y=Gm(n,ru(n,u,null,m,l,s,null,n[qn].rendererFactory.createRenderer(l,o),null,null,null));n[s.index]=y}(s,o,n.data[u+o.componentOffset]),n.firstCreatePass||re(o,s),xi(l,s);const m=o.initialInputs;for(let y=u;y<f;y++){const C=n.data[y],M=fa(s,n,y,o);xi(M,s),null!==m&&gw(0,y-u,M,C,0,m),Ji(C)&&(es(o.index,s)[lr]=fa(s,n,y,o))}}(n,s,o,Ar(o,s)),!(64&~o.flags)&&Bh(n,s,o))}function md(n,s,o=Ar){const l=s.localNames;if(null!==l){let u=s.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],y=-1===m?o(s,n):n[m];n[u++]=y}}}function fc(n){const s=n.tView;return null===s||s.incompleteFirstPass?n.tView=$m(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):s}function $m(n,s,o,l,u,f,m,y,C,M,F){const K=an+l,te=K+u,ae=function Vh(n,s){const o=[];for(let l=0;l<s;l++)o.push(l<n?null:Lt);return o}(K,te),ge="function"==typeof M?M():M;return ae[nt]={type:n,blueprint:ae,template:o,queries:null,viewQuery:y,declTNode:s,data:ae.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:ge,incompleteFirstPass:!1,ssrId:F}}let iu=()=>null;function Vp(n,s,o,l,u){for(let f in s){if(!s.hasOwnProperty(f))continue;const m=s[f];if(void 0===m)continue;l??={};let y,C=Jo.None;Array.isArray(m)?(y=m[0],C=m[1]):y=m;let M=f;if(null!==u){if(!u.hasOwnProperty(f))continue;M=u[f]}0===n?Uh(l,o,M,y,C):Uh(l,o,M,y)}return l}function Uh(n,s,o,l,u){let f;n.hasOwnProperty(o)?(f=n[o]).push(s,l):f=n[o]=[s,l],void 0!==u&&f.push(u)}function uo(n,s,o,l,u,f,m,y){const C=Ar(s,o);let F,M=s.inputs;!y&&null!=M&&(F=M[l])?(Up(n,o,F,l,u),As(s)&&function cw(n,s){const o=es(s,n);16&o[Ot]||(o[Ot]|=64)}(o,s.index)):3&s.type&&(l=function BD(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),u=null!=m?m(u,s.value||"",l):u,f.setProperty(C,l,u))}function zm(n,s,o,l){if(Jg()){const u=null===l?null:{"":-1},f=function fw(n,s){const o=n.directiveRegistry;let l=null,u=null;if(o)for(let f=0;f<o.length;f++){const m=o[f];if(ls(s,m.selectors,!1))if(l||(l=[]),Ji(m))if(null!==m.findHostDirectiveDefs){const y=[];u=u||new Map,m.findHostDirectiveDefs(m,y,u),l.unshift(...y,m),On(n,s,y.length)}else l.unshift(m),On(n,s,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,l,u),l.push(m)}return null===l?null:[l,u]}(n,o);let m,y;null===f?m=y=null:[m,y]=f,null!==m&&Hr(n,s,o,m,u,y),u&&function _r(n,s,o){if(s){const l=n.localNames=[];for(let u=0;u<s.length;u+=2){const f=o[s[u+1]];if(null==f)throw new ct(-301,!1);l.push(s[u],f)}}}(o,l,u)}o.mergedAttrs=Ts(o.mergedAttrs,o.attrs)}function Hr(n,s,o,l,u,f){for(let M=0;M<l.length;M++)kt(re(o,s),n,l[M].type);!function _E(n,s,o){n.flags|=1,n.directiveStart=s,n.directiveEnd=s+o,n.providerIndexes=s}(o,n.data.length,l.length);for(let M=0;M<l.length;M++){const F=l[M];F.providersResolver&&F.providersResolver(F)}let m=!1,y=!1,C=Ea(n,s,l.length,null);for(let M=0;M<l.length;M++){const F=l[M];o.mergedAttrs=Ts(o.mergedAttrs,F.hostAttrs),yE(n,o,s,C,F),jh(C,F,u),null!==F.contentQueries&&(o.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(o.flags|=64);const K=F.type.prototype;!m&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((n.preOrderHooks??=[]).push(o.index),m=!0),!y&&(K.ngOnChanges||K.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(o.index),y=!0),C++}!function lw(n,s,o){const u=s.directiveEnd,f=n.data,m=s.attrs,y=[];let C=null,M=null;for(let F=s.directiveStart;F<u;F++){const K=f[F],te=o?o.get(K):null,ge=te?te.outputs:null;C=Vp(0,K.inputs,F,C,te?te.inputs:null),M=Vp(1,K.outputs,F,M,ge);const ke=null===C||null===m||zl(s)?null:mw(C,F,m);y.push(ke)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=y,s.inputs=C,s.outputs=M}(n,o,f)}function Bh(n,s,o){const l=o.directiveStart,u=o.directiveEnd,f=o.index,m=function sT(){return tn.lFrame.currentDirectiveIndex}();try{Kc(f);for(let y=l;y<u;y++){const C=n.data[y],M=s[y];Zf(y),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&jD(C,M)}}finally{Kc(-1),Zf(m)}}function jD(n,s){null!==n.hostBindings&&n.hostBindings(1,s)}function On(n,s,o){s.componentOffset=o,(n.components??=[]).push(s.index)}function jh(n,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=n;Ji(s)&&(o[""]=n)}}function yE(n,s,o,l,u){n.data[l]=u;const f=u.factory||(u.factory=Us(u.type)),m=new Ss(f,Ji(u),Br);n.blueprint[l]=m,o[l]=m,function su(n,s,o,l,u){const f=u.hostBindings;if(f){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const y=~s.index;(function dw(n){let s=n.length;for(;s>0;){const o=n[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=y&&m.push(y),m.push(o,l,f)}}(n,s,l,Ea(n,o,u.hostVars,Lt),u)}function Ta(n,s,o,l,u,f){const m=Ar(n,s);!function Wm(n,s,o,l,u,f,m){if(null==f)n.removeAttribute(s,u,o);else{const y=null==m?Gt(f):m(f,l||"",u);n.setAttribute(s,u,y,o)}}(s[Jt],m,f,n.value,o,l,u)}function gw(n,s,o,l,u,f){const m=f[s];if(null!==m)for(let y=0;y<m.length;)kp(l,o,m[y++],m[y++],m[y++],m[y++])}function mw(n,s,o){let l=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===l&&(l=[]);const m=n[f];for(let y=0;y<m.length;y+=3)if(m[y]===s){l.push(f,m[y+1],m[y+2],o[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function _w(n,s,o,l){return[n,!0,0,s,null,l,null,o,null,null]}function yw(n,s){const o=n.contentQueries;if(null!==o){const l=Te(null);try{for(let u=0;u<o.length;u+=2){const m=o[u+1];if(-1!==m){const y=n.data[m];Jf(o[u]),y.contentQueries(2,s[m],m)}}}finally{Te(l)}}}function Gm(n,s){return n[cl]?n[Ku][br]=s:n[cl]=s,n[Ku]=s,s}function qm(n,s,o){Jf(0);const l=Te(null);try{s(n,o)}finally{Te(l)}}function vE(n){return n[oo]||(n[oo]=[])}function vw(n){return n.cleanup||(n.cleanup=[])}function Km(n,s){const o=n[mi],l=o?o.get(Ha,null):null;l&&l.handleError(s)}function Up(n,s,o,l,u){for(let f=0;f<o.length;){const m=o[f++],y=o[f++],C=o[f++];kp(n.data[m],s[m],l,y,C,u)}}function Ks(n,s,o){const l=yn(s,n);!function kh(n,s,o){n.setValue(s,o)}(n[Jt],l,o)}function Bp(n,s){const o=es(s,n),l=o[nt];!function Qm(n,s){for(let o=s.length;o<n.blueprint.length;o++)s.push(n.blueprint[o])}(l,o);const u=o[Ln];null!==u&&null===o[Kr]&&(o[Kr]=jv(u,o[mi])),$h(l,o,o[lr])}function $h(n,s,o){sm(s);try{const l=n.viewQuery;null!==l&&qm(1,l,o);const u=n.template;null!==u&&Lp(n,s,u,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),s[Cs]?.finishViewCreation(n),n.staticContentQueries&&yw(n,s),n.staticViewQueries&&qm(2,n.viewQuery,o);const f=n.components;null!==f&&function Iw(n,s){for(let o=0;o<s.length;o++)Bp(n,s[o])}(s,f)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{s[Ot]&=-5,ih()}}function Hh(n,s,o,l){const u=Te(null);try{const f=s.tView,C=ru(n,f,o,4096&n[Ot]?4096:16,null,s,null,null,l?.injector??null,l?.embeddedViewInjector??null,l?.dehydratedView??null);C[Mo]=n[s.index];const F=n[Cs];return null!==F&&(C[Cs]=F.createEmbeddedView(f)),$h(f,C,o),C}finally{Te(u)}}function bl(n,s){const o=Fr+s;if(o<n.length)return n[o]}function _d(n,s){return!s||null===s.firstChild||ns(n)}function Cl(n,s,o,l=!0){const u=s[nt];if(function km(n,s,o,l){const u=Fr+l,f=o.length;l>0&&(o[u-1][br]=s),l<f-Fr?(s[br]=o[u],Ra(o,Fr+l,s)):(o.push(s),s[br]=null),s[Rn]=o;const m=s[Mo];null!==m&&o!==m&&function YT(n,s){const o=n[Lr];s[Pn]!==s[Rn][Rn][Pn]&&(n[Ot]|=Fa.HasTransplantedViews),null===o?n[Lr]=[s]:o.push(s)}(m,s);const y=s[Cs];null!==y&&y.insertView(n),th(s),s[Ot]|=128}(u,s,n,o),l){const m=Bm(o,n),y=s[Jt],C=Fm(y,n[Oi]);null!==C&&function QT(n,s,o,l,u,f){l[Ln]=u,l[Gn]=s,gd(n,l,o,1,u,f)}(u,n[Gn],y,s,C,m)}const f=s[Kr];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function Xm(n,s){const o=xp(n,s);return void 0!==o&&Lm(o[nt],o),o}function yd(n,s,o,l,u=!1){for(;null!==o;){const f=s[o.index];null!==f&&l.push(Fn(f)),Ni(f)&&vd(f,l);const m=o.type;if(8&m)yd(n,s,o.child,l);else if(32&m){const y=aE(o,s);let C;for(;C=y();)l.push(C)}else if(16&m){const y=qi(s,o);if(Array.isArray(y))l.push(...y);else{const C=Gc(s[Pn]);yd(C[nt],C,y,l,!0)}}o=u?o.projectionNext:o.next}return l}function vd(n,s){for(let o=Fr;o<n.length;o++){const l=n[o],u=l[nt].firstChild;null!==u&&yd(l[nt],l,u,s)}n[Oi]!==n[Ln]&&s.push(n[Oi])}let Ns=[];const jp={...ne,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{nh(n.lView)},consumerOnSignalRead(){this.lView[$e]=this}},IE=100;function pc(n,s=!0,o=0){const l=n[qn],u=l.rendererFactory;u.begin?.();try{!function $p(n,s){Ed(n,s);let o=0;for(;eh(n);){if(o===IE)throw new ct(103,!1);o++,Ed(n,1)}}(n,o)}catch(m){throw s&&Km(n,m),m}finally{u.end?.(),l.inlineEffectRunner?.flush()}}function ww(n,s,o,l){const u=s[Ot];if(!(256&~u))return;s[qn].inlineEffectRunner?.flush(),sm(s);let m=null,y=null;(function HD(n){return 2!==n.type})(n)&&(y=function Tw(n){return n[$e]??function EE(n){const s=Ns.pop()??Object.create(jp);return s.lView=n,s}(n)}(s),m=It(y));try{rv(s),function Xf(n){return tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lp(n,s,o,2,l);const C=!(3&~u);if(C){const K=n.preOrderCheckHooks;null!==K&&pl(s,K,null)}else{const K=n.preOrderHooks;null!==K&&ah(s,K,0,null),lh(s,0)}if(function zD(n){for(let s=Yc(n);null!==s;s=ym(s)){if(!(s[Ot]&Fa.HasTransplantedViews))continue;const o=s[Lr];for(let l=0;l<o.length;l++){Xg(o[l])}}}(s),Al(s,0),null!==n.contentQueries&&yw(n,s),C){const K=n.contentCheckHooks;null!==K&&pl(s,K)}else{const K=n.contentHooks;null!==K&&ah(s,K,1),lh(s,1)}!function jm(n,s){const o=n.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)Kc(~u);else{const f=u,m=o[++l],y=o[++l];iT(m,f),y(2,s[f])}}}finally{Kc(-1)}}(n,s);const M=n.components;null!==M&&wE(s,M,0);const F=n.viewQuery;if(null!==F&&qm(2,F,l),C){const K=n.viewCheckHooks;null!==K&&pl(s,K)}else{const K=n.viewHooks;null!==K&&ah(s,K,2),lh(s,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s[jf]){for(const K of s[jf])K();s[jf]=null}s[Ot]&=-73}catch(C){throw nh(s),C}finally{null!==y&&(pn(y,m),function Ym(n){n.lView[$e]!==n&&(n.lView=null,Ns.push(n))}(y)),ih()}}function Al(n,s){for(let o=Yc(n);null!==o;o=ym(o))for(let l=Fr;l<o.length;l++)TE(o[l],s)}function ho(n,s,o){TE(es(s,n),o)}function TE(n,s){Xu(n)&&Ed(n,s)}function Ed(n,s){const l=n[nt],u=n[Ot],f=n[$e];let m=!!(0===s&&16&u);if(m||=!!(64&u&&0===s),m||=!!(1024&u),m||=!(!f?.dirty||!En(f)),f&&(f.dirty=!1),n[Ot]&=-9217,m)ww(l,n,l.template,n[lr]);else if(8192&u){Al(n,1);const y=l.components;null!==y&&wE(n,y,1)}}function wE(n,s,o){for(let l=0;l<s.length;l++)ho(n,s[l],o)}function fo(n){for(n[qn].changeDetectionScheduler?.notify();n;){n[Ot]|=64;const s=Gc(n);if(jc(n)&&!s)return n;n=s}return null}class zh{get rootNodes(){const s=this._lView,o=s[nt];return yd(o,s,o.firstChild,[])}constructor(s,o,l=!0){this._lView=s,this._cdRefInjectingView=o,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(s){this._lView[lr]=s}get destroyed(){return!(256&~this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Rn];if(Ni(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(xp(s,l),bo(o,l))}this._attachedToViewContainer=!1}Lm(this._lView[nt],this._lView)}onDestroy(s){nc(this._lView,s)}markForCheck(){fo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-129}reattach(){th(this._lView),this._lView[Ot]|=128}detectChanges(){this._lView[Ot]|=1024,pc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,za(this._lView[nt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=s,th(this._lView)}}let gc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=In}return n})();const WD=gc,GD=class extends WD{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,l){const u=Hh(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:o,dehydratedView:l});return new zh(u)}};function In(){return Zm(er(),Le())}function Zm(n,s){return 4&n.type?new GD(s,n,sc(n,s)):null}let AE=()=>null;function wd(n,s){return AE(n,s)}class Qh{}class Qp{}class Xh{}class Lw{resolveComponentFactory(s){throw function Xp(n){const s=Error(`No component factory found for ${Jn(n)}.`);return s.ngComponent=n,s}(s)}}let Zp=(()=>{class n{static#e=this.NULL=new Lw}return n})();class Fw{}let Vw=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Uw(){const n=Le(),o=es(er().index,n);return(_i(o)?o:n)[Jt]}()}return n})(),eS=(()=>{class n{static#e=this.\u0275prov=kn({token:n,providedIn:"root",factory:()=>null})}return n})();const DE={},Bw=new Set;function Vo(n){Bw.has(n)||(Bw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function bd(...n){}class bn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ml(!1),this.onMicrotaskEmpty=new ml(!1),this.onStable=new ml(!1),this.onError=new ml(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function jw(){const n="function"==typeof Mt.requestAnimationFrame;let s=Mt[n?"requestAnimationFrame":"setTimeout"],o=Mt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function eg(n){const s=()=>{!function $w(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wa(n),n.isCheckStableRunning=!0,Jp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wa(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,f,m,y)=>{if(function Hw(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(y))return o.invokeTask(u,f,m,y);try{return RE(n),o.invokeTask(u,f,m,y)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&s(),PE(n)}},onInvoke:(o,l,u,f,m,y,C)=>{try{return RE(n),o.invoke(u,f,m,y,C)}finally{n.shouldCoalesceRunChangeDetection&&s(),PE(n)}},onHasTask:(o,l,u,f)=>{o.hasTask(u,f),l===u&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,wa(n),Jp(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,u,f)=>(o.handleError(u,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bn.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(bn.isInAngularZone())throw new ct(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,u){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+u,s,SE,bd,bd);try{return f.runTask(m,o,l)}finally{f.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const SE={};function Jp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wa(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PE(n){n._nesting--,Jp(n)}let Cd=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const l of o)l()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=kn({token:n,providedIn:"root",factory:()=>new n})}return n})();function lu(n){return!!li(n)}function ig(n,s,o){let l=o?n.styles:null,u=o?n.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?f=y:1==f?u=Ir(u,y):2==f&&(l=Ir(l,y+": "+s[++m]+";"))}o?n.styles=l:n.stylesWithoutHost=l,o?n.classes=u:n.classesWithoutHost=u}class Kw extends Zp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=on(s);return new Wa(o,this.ngModule)}}function kE(n){const s=[];for(const o in n){if(!n.hasOwnProperty(o))continue;const l=n[o];void 0!==l&&s.push({propName:Array.isArray(l)?l[0]:l,templateName:o})}return s}class Rl{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=Js(l);const u=this.injector.get(s,DE,l);return u!==DE||o===DE?u:this.parentInjector.get(s,o,l)}}class Wa extends Xh{get inputs(){const s=this.componentDef,o=s.inputTransforms,l=kE(s.inputs);if(null!==o)for(const u of l)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return l}get outputs(){return kE(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Oc(n){return n.map(sl).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,u){const f=Te(null);try{let m=(u=u||this.ngModule)instanceof wr?u:u?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new Rl(s,m):s,C=y.get(Fw,null);if(null===C)throw new ct(407,!1);const M=y.get(eS,null),te={rendererFactory:C,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:y.get(Cd,null),changeDetectionScheduler:y.get(Qh,null)},ae=C.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",ke=l?function gE(n,s,o,l){const f=l.get(Wv,!1)||o===Is.ShadowDom,m=n.selectRootElement(s,f);return function Hm(n){iu(n)}(m),m}(ae,l,this.componentDef.encapsulation,y):Gi(ae,ge,function a_(n){const s=n.toLowerCase();return"svg"===s?_n:"math"===s?"math":null}(ge));let et=512;this.componentDef.signals?et|=4096:this.componentDef.onPush||(et|=16);let st=null;null!==ke&&(st=jv(ke,y,!0));const Ue=$m(0,null,null,1,0,null,null,null,null,null,null),en=ru(null,Ue,null,et,null,null,te,ae,y,null,st);let zn,tr;sm(en);try{const di=this.componentDef;let Sr,Ff=null;di.findHostDirectiveDefs?(Sr=[],Ff=new Map,di.findHostDirectiveDefs(di,Sr,Ff),Sr.push(di)):Sr=[di];const zy=function sg(n,s){const o=n[nt],l=an;return n[l]=s,Fh(o,l,2,"#host",null)}(en,ke),Vf=function Qw(n,s,o,l,u,f,m){const y=u[nt];!function LE(n,s,o,l){for(const u of n)s.mergedAttrs=Ts(s.mergedAttrs,u.hostAttrs);null!==s.mergedAttrs&&(ig(s,s.mergedAttrs,!0),null!==o&&iw(l,o,s))}(l,n,s,m);let C=null;null!==s&&(C=jv(s,u[mi]));const M=f.rendererFactory.createRenderer(s,o);let F=16;o.signals?F=4096:o.onPush&&(F=64);const K=ru(u,fc(o),null,F,u[n.index],n,f,M,null,null,C);return y.firstCreatePass&&On(y,n,l.length-1),Gm(u,K),u[n.index]=K}(zy,ke,di,Sr,en,te,ae);tr=Wc(Ue,an),ke&&function Xw(n,s,o,l){if(l)Pa(n,o,["ng-version","17.3.8"]);else{const{attrs:u,classes:f}=function Nc(n){const s=[],o=[];let l=1,u=2;for(;l<n.length;){let f=n[l];if("string"==typeof f)2===u?""!==f&&s.push(f,n[++l]):8===u&&o.push(f);else{if(!Bi(u))break;u=f}l++}return{attrs:s,classes:o}}(s.selectors[0]);u&&Pa(n,o,u),f&&f.length>0&&pE(n,o,f.join(" "))}}(ae,di,ke,l),void 0!==o&&function Yw(n,s,o){const l=n.projection=[];for(let u=0;u<s.length;u++){const f=o[u];l.push(null!=f?Array.from(f):null)}}(tr,this.ngContentSelectors,o),zn=function FE(n,s,o,l,u,f){const m=er(),y=u[nt],C=Ar(m,u);Hr(y,u,m,o,null,l);for(let F=0;F<o.length;F++)xi(fa(u,y,m.directiveStart+F,m),u);Bh(y,u,m),C&&xi(C,u);const M=fa(u,y,m.directiveStart+m.componentOffset,m);if(n[lr]=u[lr]=M,null!==f)for(const F of f)F(M,s);return wl(y,m,u),M}(Vf,di,Sr,Ff,en,[nS]),$h(Ue,en,null)}finally{ih()}return new Ad(this.componentType,zn,sc(tr,en),en,tr)}finally{Te(f)}}}class Ad extends Qp{constructor(s,o,l,u,f){super(),this.location=l,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new zh(u,void 0,!1),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const f=this._rootLView;Up(f[nt],f,u,s,o),this.previousInputValues.set(s,o),fo(es(this._tNode.index,f))}}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function nS(){const n=er();oh(Le()[nt],n)}let og=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Zw}return n})();function Zw(){return UE(er(),Le())}const l_=og,Zh=class extends l_{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return sc(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ct(this._hostTNode,this._hostLView);if(Qc(s)){const o=Ju(s,this._hostLView),l=Rs(s);return new ci(o[nt].data[l+8],o)}return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=fu(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(s,o,l){let u,f;"number"==typeof l?u=l:null!=l&&(u=l.index,f=l.injector);const m=wd(this._lContainer,s.ssrId),y=s.createEmbeddedViewImpl(o||{},f,m);return this.insertImpl(y,u,_d(this._hostTNode,m)),y}createComponent(s,o,l,u,f){const m=s&&!function je(n){return"function"==typeof n}(s);let y;if(m)y=o;else{const ge=o||{};y=ge.index,l=ge.injector,u=ge.projectableNodes,f=ge.environmentInjector||ge.ngModuleRef}const C=m?s:new Wa(on(s)),M=l||this.parentInjector;if(!f&&null==C.ngModule){const ke=(m?M:this.parentInjector).get(wr,null);ke&&(f=ke)}const F=on(C.componentType??{}),K=wd(this._lContainer,F?.id??null),ae=C.create(M,u,K?.firstChild??null,f);return this.insertImpl(ae.hostView,y,_d(this._hostTNode,K)),ae}insert(s,o){return this.insertImpl(s,o,!0)}insertImpl(s,o,l){const u=s._lView;if(function nv(n){return Ni(n[Rn])}(u)){const y=this.indexOf(s);if(-1!==y)this.detach(y);else{const C=u[Rn],M=new Zh(C,C[Gn],C[Rn]);M.detach(M.indexOf(s))}}const f=this._adjustIndex(o),m=this._lContainer;return Cl(m,u,f,l),s.attachToViewContainerRef(),Ra(VE(m),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=fu(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=xp(this._lContainer,o);l&&(bo(VE(this._lContainer),o),Lm(l[nt],l))}detach(s){const o=this._adjustIndex(s,-1),l=xp(this._lContainer,o);return l&&null!=bo(VE(this._lContainer),o)?new zh(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function fu(n){return n[8]}function VE(n){return n[8]||(n[8]=[])}function UE(n,s){let o;const l=s[n.index];return Ni(l)?o=l:(o=_w(l,s,null,n),s[n.index]=o,Gm(s,o)),Jw(o,s,n,l),new Zh(o,n,s)}let Jw=function pu(n,s,o,l){if(n[Oi])return;let u;u=8&o.type?Fn(l):function rS(n,s){const o=n[Jt],l=o.createComment(""),u=Ar(s,n);return fd(o,Fm(o,u),l,function UD(n,s){return n.nextSibling(s)}(o,u),!1),l}(s,o),n[Oi]=u},BE=()=>!1;function Jh(n,s,o){return BE(n,s,o)}class c_{constructor(s){this.queryList=s,this.matches=null}clone(){return new c_(this.queryList)}setDirty(){this.queryList.setDirty()}}class jE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,u=[];for(let f=0;f<l;f++){const m=o.getByIndex(f);u.push(this.queries[m.indexInDeclarationView].clone())}return new jE(u)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==f_(s,o).matches&&this.queries[o].setDirty()}}class u_{constructor(s,o,l=null){this.flags=o,this.read=l,this.predicate="string"==typeof s?function cg(n){return n.split(",").map(s=>s.trim())}(s):s}}class ag{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,u);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new ag(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class d_{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new d_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const f=l[u];this.matchTNodeWithReadOption(s,o,$E(o,f)),this.matchTNodeWithReadOption(s,o,gl(o,s,f,!1,!1))}else l===gc?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,gl(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===cp||u===og||u===gc&&4&o.type)this.addMatch(o.index,-2);else{const f=gl(o,s,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function $E(n,s){const o=n.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function nb(n,s,o,l){return-1===o?function HE(n,s){return 11&n.type?sc(n,s):4&n.type?Zm(n,s):null}(s,n):-2===o?function h_(n,s,o){return o===cp?sc(s,n):o===gc?Zm(s,n):o===og?UE(s,n):void 0}(n,s,l):fa(n,n[nt],o,s)}function rb(n,s,o,l){const u=s[Cs].queries[l];if(null===u.matches){const f=n.data,m=o.matches,y=[];for(let C=0;null!==m&&C<m.length;C+=2){const M=m[C];y.push(M<0?null:nb(s,f[M],m[C+1],o.metadata.read))}u.matches=y}return u.matches}function lg(n,s,o,l){const u=n.queries.getByIndex(o),f=u.matches;if(null!==f){const m=rb(n,s,u,o);for(let y=0;y<f.length;y+=2){const C=f[y];if(C>0)l.push(m[y/2]);else{const M=f[y+1],F=s[-C];for(let K=Fr;K<F.length;K++){const te=F[K];te[Mo]===te[Rn]&&lg(te[nt],te,M,l)}if(null!==F[Lr]){const K=F[Lr];for(let te=0;te<K.length;te++){const ae=K[te];lg(ae[nt],ae,M,l)}}}}}return l}function ib(n,s,o){const l=new fm(!(4&~o));return function ow(n,s,o,l){const u=vE(s);u.push(o),n.firstCreatePass&&vw(n).push(l,u.length-1)}(n,s,l,l.destroy),(s[Cs]??=new jE).queries.push(new c_(l))-1}function Sd(n,s,o){null===n.queries&&(n.queries=new ag),n.queries.track(new d_(s,o))}function f_(n,s){return n.queries.getByIndex(s)}function ps(n,s){const o=n[nt],l=f_(o,s);return l.crossesNgTemplate?lg(o,n,s,[]):rb(o,n,l,s)}function KE(n,s){Vo("NgSignals");const o=function Ee(n){const s=Object.create(St);s.value=n;const o=()=>(be(s),s.value);return o[ye]=s,o}(n),l=o[ye];return s?.equal&&(l.equal=s.equal),o.set=u=>Pe(l,u),o.update=u=>function Ne(n,s){ot()||Wr(),Pe(n,s(n.value))}(l,u),o.asReadonly=_c.bind(o),o}function _c(){const n=this[ye];if(void 0===n.readonlyFn){const s=()=>this();s[ye]=n,n.readonlyFn=s}return n.readonlyFn}function Rd(n){return function WE(n){return"function"==typeof n&&void 0!==n[ye]}(n)&&"function"==typeof n.set}function I_(n){let s=function db(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const l=[n];for(;s;){let u;if(Ji(n))u=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ct(903,!1);u=s.\u0275dir}if(u){if(o){l.push(u);const m=n;m.inputs=dg(n.inputs),m.inputTransforms=dg(n.inputTransforms),m.declaredInputs=dg(n.declaredInputs),m.outputs=dg(n.outputs);const y=u.hostBindings;y&&fb(n,y);const C=u.viewQuery,M=u.contentQueries;if(C&&tI(n,C),M&&_S(n,M),mS(n,u),Zn(n.outputs,u.outputs),Ji(u)&&u.data.animation){const F=n.data;F.animation=(F.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let m=0;m<f.length;m++){const y=f[m];y&&y.ngInherit&&y(n),y===I_&&(o=!1)}}s=Object.getPrototypeOf(s)}!function hb(n){let s=0,o=null;for(let l=n.length-1;l>=0;l--){const u=n[l];u.hostVars=s+=u.hostVars,u.hostAttrs=Ts(u.hostAttrs,o=Ts(o,u.hostAttrs))}}(l)}function mS(n,s){for(const o in s.inputs){if(!s.inputs.hasOwnProperty(o)||n.inputs.hasOwnProperty(o))continue;const l=s.inputs[o];if(void 0!==l&&(n.inputs[o]=l,n.declaredInputs[o]=s.declaredInputs[o],null!==s.inputTransforms)){const u=Array.isArray(l)?l[0]:l;if(!s.inputTransforms.hasOwnProperty(u))continue;n.inputTransforms??={},n.inputTransforms[u]=s.inputTransforms[u]}}}function dg(n){return n===Jr?{}:n===vn?[]:n}function tI(n,s){const o=n.viewQuery;n.viewQuery=o?(l,u)=>{s(l,u),o(l,u)}:s}function _S(n,s){const o=n.contentQueries;n.contentQueries=o?(l,u,f)=>{s(l,u,f),o(l,u,f)}:s}function fb(n,s){const o=n.hostBindings;n.hostBindings=o?(l,u)=>{s(l,u),o(l,u)}:s}function rI(n){const s=n.inputConfig,o={};for(const l in s)if(s.hasOwnProperty(l)){const u=s[l];Array.isArray(u)&&u[3]&&(o[l]=u[3])}n.inputTransforms=o}class Od{}class b_{}function IS(n,s){return new C_(n,s??null,[])}class C_ extends Od{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kw(this);const u=li(s);this._bootstrapComponents=qs(u.bootstrap),this._r3Injector=Tv(s,o,[{provide:Od,useValue:this},{provide:Zp,useValue:this.componentFactoryResolver},...l],Jn(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class A_ extends b_{constructor(s){super(),this.moduleType=s}create(s){return new C_(this.moduleType,s,[])}}class hg extends Od{constructor(s){super(),this.componentFactoryResolver=new Kw(this),this.instance=null;const o=new Zi([...s.providers,{provide:Od,useValue:this},{provide:Zp,useValue:this.componentFactoryResolver}],s.parent||Ro(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Nd(n,s,o=null){return new hg({providers:n,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let D_=(()=>{class n{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(o,l,u,f){if(!this.cachedInjectors.has(o)){const m=u.length>0?Nd(u,l,f):null;this.cachedInjectors.set(o,m)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=kn({token:n,providedIn:"environment",factory:()=>new n})}return n})(),xd=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new or.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sf(n){return!!is(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function is(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ga(n,s,o){return n[s]=o}function vu(n,s){return n[s]}function Qr(n,s,o){return!Object.is(n[s],o)&&(n[s]=o,!0)}function yc(n,s,o,l){const u=Qr(n,s,o);return Qr(n,s+1,l)||u}function fg(n,s,o,l,u){const f=yc(n,s,o,l);return Qr(n,s+2,u)||f}function ba(n,s,o,l,u,f){const m=yc(n,s,o,l);return yc(n,s+2,u,f)||m}function af(n,s,o,l,u,f,m,y){const C=Le(),M=Mn(),F=n+an,K=M.firstCreatePass?function CS(n,s,o,l,u,f,m,y,C){const M=s.consts,F=Fh(s,n,4,m||null,ao(M,y));zm(s,o,F,ao(M,C)),oh(s,F);const K=F.tView=$m(2,F,l,u,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M,null);return null!==s.queries&&(s.queries.template(s,F),K.queries=s.queries.embeddedTView(F)),F}(F,M,C,s,o,l,u,f,m):M.data[F];da(K,!1);const te=S_(M,C,K,n);nn()&&Um(M,C,te,K),xi(te,C);const ae=_w(te,C,te,K);return C[F]=ae,Gm(C,ae),Jh(ae,K,C),la(K)&&Ia(M,C,K),null!=m&&md(C,K,y),af}let S_=function vb(n,s,o,l){return ds(!0),s[Jt].createComment("")};var ui=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(ui||{});const kd=0,oI=1;var ri=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}(ri||{}),Pl=function(n){return n[n.Initial=-1]="Initial",n}(Pl||{});const Eu=0,mg=1,Ld=2,lf=3,vc=4,aI=5;var Eb=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(Eb||{});function cf(n,s,o){const l=1===n?aI:vc;null===s[l]&&(s[l]=[]),s[l].push(o)}function lI(n,s){const o=1===n?aI:vc,l=s[o];if(null!==l){for(const u of l)u();s[o]=null}}function R_(n){lI(1,n),lI(0,n)}function P_(n){return n+1}function Ec(n,s){return n[P_(s.index)]}function Qs(n,s){const o=P_(s.index);return n.data[o]}function O_(n,s){return s===ri.Placeholder?n.placeholderBlockConfig?.[kd]??null:s===ri.Loading?n.loadingBlockConfig?.[kd]??null:null}function Fd(n){return n.loadingBlockConfig?.[oI]??null}function N_(n,s){if(!n||0===n.length)return s;const o=new Set(n);for(const l of s)o.add(l);return n.length===o.size?n:Array.from(o)}function F_(n,s){const l=s[mi].get(wb);return l.add(n),()=>l.remove(n)}let wb=(()=>{class n{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=Yt(bn),this.requestIdleCallbackFn=(typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout).bind(globalThis),this.cancelIdleCallbackFn=(typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout).bind(globalThis)}add(o){(this.executingCallbacks?this.deferred:this.current).add(o),null===this.idleId&&this.scheduleIdleCallback()}remove(o){const{current:l,deferred:u}=this;l.delete(o),u.delete(o),0===l.size&&0===u.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const o=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const l of this.current)l();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const l of this.deferred)this.current.add(l);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(o))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static#e=this.\u0275prov=kn({token:n,providedIn:"root",factory:()=>new n})}return n})();let RS=(()=>{class n{constructor(){this.executingCallbacks=!1,this.timeoutId=null,this.invokeTimerAt=null,this.current=[],this.deferred=[]}add(o,l){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+o,l),this.scheduleTimer()}remove(o){const{current:l,deferred:u}=this;-1===this.removeFromQueue(l,o)&&this.removeFromQueue(u,o),0===l.length&&0===u.length&&this.clearTimeout()}addToQueue(o,l,u){let f=o.length;for(let m=0;m<o.length;m+=2)if(o[m]>l){f=m;break}rl(o,f,l,u)}removeFromQueue(o,l){let u=-1;for(let f=0;f<o.length;f+=2)if(o[f+1]===l){u=f;break}return u>-1&&nl(o,u,2),u}scheduleTimer(){const o=()=>{this.clearTimeout(),this.executingCallbacks=!0;const u=[...this.current],f=Date.now();for(let y=0;y<u.length;y+=2){const M=u[y+1];if(!(u[y]<=f))break;M()}let m=-1;for(let y=0;y<this.current.length&&this.current[y]<=f;y+=2)m=y+1;if(m>=0&&nl(this.current,0,m+1),this.executingCallbacks=!1,this.deferred.length>0){for(let y=0;y<this.deferred.length;y+=2)this.addToQueue(this.current,this.deferred[y],this.deferred[y+1]);this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const u=Date.now(),f=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-f>16){this.clearTimeout();const m=Math.max(f-u,16);this.invokeTimerAt=f,this.timeoutId=setTimeout(o,m)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static#e=this.\u0275prov=kn({token:n,providedIn:"root",factory:()=>new n})}return n})();const pI=new Wt("");let Ig=null;function Ab(n,s,o,l){const u=n.consts;null!=o&&(s.placeholderBlockConfig=ao(u,o)),null!=l&&(s.loadingBlockConfig=ao(u,l)),null===Ig&&(Ig=EI)}function Db(n,s,o,l,u,f,m,y,C){const M=Le(),F=Mn(),K=n+an;if(af(n,null,0,0),F.firstCreatePass){Vo("NgDefer");const et={primaryTmplIndex:s,loadingTmplIndex:l??null,placeholderTmplIndex:u??null,errorTmplIndex:f??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:o??null,loadingState:ui.NOT_STARTED,loadingPromise:null,providers:null};C?.(F,et,y,m),function M_(n,s,o){const l=P_(s);n.data[l]=o}(F,K,et)}const te=er();Jh(M[K],te,M);const ge=[null,Pl.Initial,null,null,null,null];!function DS(n,s,o){n[P_(s)]=o}(M,K,ge);const ke=()=>R_(ge);cf(0,ge,()=>Zg(M,ke)),nc(M,ke)}function _I(){!function Nb(n){const s=Le(),o=er();if(function wu(n,s){Tu(ri.Placeholder,s,n[s.index])}(s,o),fe(s[mi])){const l=n(()=>function bu(n,s){const o=n[nt],l=n[s.index];if(!function Eg(n){return n.get(pI,null,{optional:!0})?.behavior!==Eb.Manual&&fe(n)}(n[mi]))return;const f=Ec(n,s),m=Qs(o,s);switch(R_(f),m.loadingState){case ui.NOT_STARTED:Tu(ri.Loading,s,l),function II(n,s,o){const l=s[mi],u=s[nt];if(n.loadingState!==ui.NOT_STARTED)return n.loadingPromise??Promise.resolve();const f=Ec(s,o),m=function SS(n,s){return Wc(n,s.primaryTmplIndex+an)}(u,n);n.loadingState=ui.IN_PROGRESS,lI(1,f);let y=n.dependencyResolverFn;const C=l.get(xd),M=C.add();return y?(n.loadingPromise=Promise.allSettled(y()).then(F=>{let K=!1;const te=[],ae=[];for(const ge of F){if("fulfilled"!==ge.status){K=!0;break}{const ke=ge.value,et=on(ke)||xr(ke);if(et)te.push(et);else{const st=Tr(ke);st&&ae.push(st)}}}if(n.loadingPromise=null,C.remove(M),K){if(n.loadingState=ui.FAILED,null===n.errorTmplIndex){Om(s);const ke=new ct(750,!1);Km(s,ke)}}else{n.loadingState=ui.COMPLETE;const ge=m.tView;if(te.length>0){ge.directiveRegistry=N_(ge.directiveRegistry,te);const et=cs(!1,...te.map(st=>st.type));n.providers=et}ae.length>0&&(ge.pipeRegistry=N_(ge.pipeRegistry,ae))}}),n.loadingPromise):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=ui.COMPLETE,C.remove(M)}),n.loadingPromise)}(m,n,s),m.loadingState===ui.IN_PROGRESS&&Lb(m,s,l);break;case ui.IN_PROGRESS:Tu(ri.Loading,s,l),Lb(m,s,l);break;case ui.COMPLETE:Tu(ri.Complete,s,l);break;case ui.FAILED:Tu(ri.Error,s,l)}}(s,o),s);cf(0,Ec(s,o),l)}}(F_)}function Tu(n,s,o,l=!1){const u=o[Rn],f=u[nt];if(function Jd(n){return!(256&~n[Ot])}(u))return;const m=Ec(u,s);if(kb(m[mg],n)&&kb(m[Eu]??-1,n)){const C=u[mi],M=Qs(f,s),K=l||!fe(C)||null===Fd(M)&&null===O_(M,ri.Loading)&&!O_(M,ri.Placeholder)?U_:Ig;try{K(n,m,o,s,u)}catch(te){Km(u,te)}}}function U_(n,s,o,l,u){const f=function cI(n,s,o){const u=Qs(s[nt],o);switch(n){case ri.Complete:return u.primaryTmplIndex;case ri.Loading:return u.loadingTmplIndex;case ri.Error:return u.errorTmplIndex;case ri.Placeholder:return u.placeholderTmplIndex;default:return null}}(n,u,l);if(null!==f){s[mg]=n;const m=u[nt],C=Wc(m,f+an),M=0;let F;if(Xm(o,M),n===ri.Complete){const ae=Qs(m,l),ge=ae.providers;if(ge&&ge.length>0){const ke=u[mi],et=function vI(n){return n instanceof Rl&&"function"==typeof n.injector.__ngOutletInjector}(ke),st=et?ke:ke.get(wr);F=st.get(D_).getOrCreateInjector(ae,st,ge,""),et&&(F=function xb(n,s){return n.injector.__ngOutletInjector(s)}(ke,F))}}const K=wd(o,C.tView.ssrId),te=Hh(u,C,null,{dehydratedView:K,injector:F});Cl(o,te,M,_d(C,K)),fo(te)}}function EI(n,s,o,l,u){const f=Date.now(),y=Qs(u[nt],l);if(null===s[Ld]||s[Ld]<=f){s[Ld]=null;const C=Fd(y),M=null!==s[lf];if(n!==ri.Loading||null===C||M){n>ri.Loading&&M&&(s[lf](),s[lf]=null,s[Eu]=null),U_(n,s,o,l,u);const F=O_(y,n);null!==F&&(s[Ld]=f+F,B_(F,s,l,o,u))}else{s[Eu]=n;const F=B_(C,s,l,o,u);s[lf]=F}}else s[Eu]=n}function B_(n,s,o,l,u){return function bb(n,s,o){const u=o[mi].get(RS);return u.add(n,s),()=>u.remove(s)}(n,()=>{const m=s[Eu];s[Ld]=null,s[Eu]=null,null!==m&&Tu(m,o,l)},u)}function kb(n,s){return n<s}function Lb(n,s,o){n.loadingPromise.then(()=>{n.loadingState===ui.COMPLETE?Tu(ri.Complete,s,o):n.loadingState===ui.FAILED&&Tu(ri.Error,s,o)})}function j_(n,s,o,l){const u=Le();return Qr(u,ha(),s)&&(Mn(),Ta(Vr(),u,n,s,o,l)),j_}function Bd(n,s,o,l){return Qr(n,ha(),o)?s+Gt(o)+l:Lt}function yf(n,s){return n<<17|s<<2}function Ru(n){return n>>17&32767}function bI(n){return 2|n}function Ic(n){return(131068&n)>>2}function CI(n,s){return-131069&n|s<<2}function DI(n){return 1|n}function q_(n,s,o,l){const u=n[o+1],f=null===s;let m=l?Ru(u):Ic(u),y=!1;for(;0!==m&&(!1===y||f);){const M=n[m+1];Bb(n[m],s)&&(y=!0,n[m+1]=l?DI(M):bI(M)),m=l?Ru(M):Ic(M)}y&&(n[o+1]=l?bI(u):DI(u))}function Bb(n,s){return null===n||null==s||(Array.isArray(n)?n[1]:n)===s||!(!Array.isArray(n)||"string"!=typeof s)&&Ui(n,s)>=0}const Ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jb(n){return n.substring(Ki.key,Ki.keyEnd)}function RI(n){return n.substring(Ki.value,Ki.valueEnd)}function K_(n,s){const o=Ki.textEnd;return o===s?-1:(s=Ki.keyEnd=function FS(n,s,o){for(;s<o&&n.charCodeAt(s)>32;)s++;return s}(n,Ki.key=s,o),qa(n,s,o))}function X_(n,s){const o=Ki.textEnd;let l=Ki.key=qa(n,s,o);return o===l?-1:(l=Ki.keyEnd=function PI(n,s,o){let l;for(;s<o&&(45===(l=n.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(n,l,o),l=MI(n,l,o),l=Ki.value=qa(n,l,o),l=Ki.valueEnd=function vf(n,s,o){let l=-1,u=-1,f=-1,m=s,y=m;for(;m<o;){const C=n.charCodeAt(m++);if(59===C)return y;34===C||39===C?y=m=OI(n,C,m,o):s===m-4&&85===f&&82===u&&76===l&&40===C?y=m=OI(n,41,m,o):C>32&&(y=m),f=u,u=l,l=-33&C}return y}(n,l,o),MI(n,l,o))}function $b(n){Ki.key=0,Ki.keyEnd=0,Ki.value=0,Ki.valueEnd=0,Ki.textEnd=n.length}function qa(n,s,o){for(;s<o&&n.charCodeAt(s)<=32;)s++;return s}function MI(n,s,o,l){return(s=qa(n,s,o))<o&&s++,s}function OI(n,s,o,l){let u=-1,f=o;for(;f<l;){const m=n.charCodeAt(f++);if(m==s&&92!==u)return f;u=92==m&&92===u?0:m}throw new Error}function xI(n,s,o){const l=Le();return Qr(l,ha(),s)&&uo(Mn(),Vr(),l,n,s,l[Jt],o,!1),xI}function kI(n,s,o,l,u){const m=u?"class":"style";Up(n,o,s.inputs[m],m,l)}function LI(n,s,o){return Aa(n,s,o,!1),LI}function FI(n,s){return Aa(n,s,null,!0),FI}function po(n){Bo(J_,VI,n,!1)}function VI(n,s){for(let o=function Q_(n){return $b(n),X_(n,qa(n,0,Ki.textEnd))}(s);o>=0;o=X_(s,o))J_(n,jb(s),RI(s))}function Y_(n){Bo(VS,Ca,n,!0)}function Ca(n,s){for(let o=function LS(n){return $b(n),K_(n,qa(n,0,Ki.textEnd))}(s);o>=0;o=K_(s,o))gi(n,jb(s),!0)}function Aa(n,s,o,l){const u=Le(),f=Mn(),m=fl(2);f.firstUpdatePass&&Tg(f,n,m,l),s!==Lt&&Qr(u,m,s)&&Wb(f,f.data[us()],u,u[Jt],n,u[m+1]=function Gb(n,s){return null==n||""===n||("string"==typeof s?n+=s:"object"==typeof n&&(n=Jn(Hi(n)))),n}(s,o),l,m)}function Bo(n,s,o,l){const u=Mn(),f=fl(2);u.firstUpdatePass&&Tg(u,null,f,l);const m=Le();if(o!==Lt&&Qr(m,f,o)){const y=u.data[us()];if(qb(y,l)&&!Z_(u,f)){let C=l?y.classesWithoutHost:y.stylesWithoutHost;null!==C&&(o=Ir(C,o||"")),kI(u,y,m,o,l)}else!function US(n,s,o,l,u,f,m,y){u===Lt&&(u=vn);let C=0,M=0,F=0<u.length?u[0]:null,K=0<f.length?f[0]:null;for(;null!==F||null!==K;){const te=C<u.length?u[C+1]:void 0,ae=M<f.length?f[M+1]:void 0;let ke,ge=null;F===K?(C+=2,M+=2,te!==ae&&(ge=K,ke=ae)):null===K||null!==F&&F<K?(C+=2,ge=F):(M+=2,ge=K,ke=ae),null!==ge&&Wb(n,s,o,l,ge,ke,m,y),F=C<u.length?u[C]:null,K=M<f.length?f[M]:null}}(u,y,m,m[Jt],m[f+1],m[f+1]=function Tf(n,s,o){if(null==o||""===o)return vn;const l=[],u=Hi(o);if(Array.isArray(u))for(let f=0;f<u.length;f++)n(l,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&n(l,f,u[f]);else"string"==typeof u&&s(l,u);return l}(n,s,o),l,f)}}function Z_(n,s){return s>=n.expandoStartIndex}function Tg(n,s,o,l){const u=n.data;if(null===u[o+1]){const f=u[us()],m=Z_(n,o);qb(f,l)&&null===s&&!m&&(s=!1),s=function UI(n,s,o,l){const u=function im(n){const s=tn.lFrame.currentDirectiveIndex;return-1===s?null:n[s]}(n);let f=l?s.residualClasses:s.residualStyles;if(null===u)0===(l?s.classBindings:s.styleBindings)&&(o=If(o=wg(null,n,s,o,l),s.attrs,l),f=null);else{const m=s.directiveStylingLast;if(-1===m||n[m]!==u)if(o=wg(u,n,s,o,l),null===f){let C=function Hb(n,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Ic(l))return n[Ru(l)]}(n,s,l);void 0!==C&&Array.isArray(C)&&(C=wg(null,n,s,C[1],l),C=If(C,s.attrs,l),function Ef(n,s,o,l){n[Ru(o?s.classBindings:s.styleBindings)]=l}(n,s,l,C))}else f=function zb(n,s,o){let l;const u=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<u;f++)l=If(l,n[f].hostAttrs,o);return If(l,s.attrs,o)}(n,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(u,f,s,l),function SI(n,s,o,l,u,f){let m=f?s.classBindings:s.styleBindings,y=Ru(m),C=Ic(m);n[l]=o;let F,M=!1;if(Array.isArray(o)?(F=o[1],(null===F||Ui(o,F)>0)&&(M=!0)):F=o,u)if(0!==C){const te=Ru(n[y+1]);n[l+1]=yf(te,y),0!==te&&(n[te+1]=CI(n[te+1],l)),n[y+1]=function kS(n,s){return 131071&n|s<<17}(n[y+1],l)}else n[l+1]=yf(y,0),0!==y&&(n[y+1]=CI(n[y+1],l)),y=l;else n[l+1]=yf(C,0),0===y?y=l:n[C+1]=CI(n[C+1],l),C=l;M&&(n[l+1]=bI(n[l+1])),q_(n,F,l,!0),q_(n,F,l,!1),function Ub(n,s,o,l,u){const f=u?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof s&&Ui(f,s)>=0&&(o[l+1]=DI(o[l+1]))}(s,F,n,l,f),m=yf(y,C),f?s.classBindings=m:s.styleBindings=m}(u,f,s,o,m,l)}}function wg(n,s,o,l,u){let f=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(f=s[y],l=If(l,f.hostAttrs,u),f!==n);)y++;return null!==n&&(o.directiveStylingLast=y),l}function If(n,s,o){const l=o?1:2;let u=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?u=m:u===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),gi(n,m,!!o||s[++f]))}return void 0===n?null:n}function J_(n,s,o){gi(n,s,Hi(o))}function VS(n,s,o){const l=String(s);""!==l&&!l.includes(" ")&&gi(n,l,o)}function Wb(n,s,o,l,u,f,m,y){if(!(3&s.type))return;const C=n.data,M=C[y+1],F=function AI(n){return!(1&~n)}(M)?BI(C,s,o,u,Ic(M),m):void 0;ey(F)||(ey(f)||function wI(n){return!(2&~n)}(M)&&(f=BI(C,null,o,u,y,m)),function Lh(n,s,o,l,u){if(s)u?n.addClass(o,l):n.removeClass(o,l);else{let f=-1===l.indexOf("-")?void 0:Op.DashCase;null==u?n.removeStyle(o,l,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Op.Important),n.setStyle(o,l,u,f))}}(l,m,yn(us(),o),u,f))}function BI(n,s,o,l,u,f){const m=null===s;let y;for(;u>0;){const C=n[u],M=Array.isArray(C),F=M?C[1]:C,K=null===F;let te=o[u+1];te===Lt&&(te=K?vn:void 0);let ae=K?Yo(te,l):F===l?te:void 0;if(M&&!ey(ae)&&(ae=Yo(C,l)),ey(ae)&&(y=ae,m))return y;const ge=n[u+1];u=m?Ru(ge):Ic(ge)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(y=Yo(C,l))}return y}function ey(n){return void 0!==n}function qb(n,s){return!!(n.flags&(s?8:16))}class Zb{destroy(s){}updateValue(s,o){}swap(s,o){const l=Math.min(s,o),u=Math.max(s,o),f=this.detach(u);if(u-l>1){const m=this.detach(l);this.attach(l,f),this.attach(u,m)}else this.attach(l,f)}move(s,o){this.attach(o,this.detach(s))}}function wf(n,s,o,l,u){return n===o&&Object.is(s,l)?1:Object.is(u(n,s),u(o,l))?-1:0}function ty(n,s,o,l){return!(void 0===s||!s.has(l)||(n.attach(o,s.get(l)),s.delete(l),0))}function $I(n,s,o,l,u){if(ty(n,s,l,o(l,u)))n.updateValue(l,u);else{const f=n.create(l,u);n.attach(l,f)}}function bf(n,s,o,l){const u=new Set;for(let f=s;f<=o;f++)u.add(l(f,n.at(f)));return u}class HI{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const o=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(s,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,o){if(this.kvMap.has(s)){let l=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const u=this._vMap;for(;u.has(l);)l=u.get(l);u.set(l,o)}else this.kvMap.set(s,o)}forEach(s){for(let[o,l]of this.kvMap)if(s(l,o),void 0!==this._vMap){const u=this._vMap;for(;u.has(l);)l=u.get(l),s(l,o)}}}function ss(n,s,o){Vo("NgControlFlow");const l=Le(),u=ha(),f=zI(l,an+n);if(Qr(l,u,s)){const y=Te(null);try{if(Xm(f,0),-1!==s){const C=GI(l[nt],an+s),M=wd(f,C.tView.ssrId);Cl(f,Hh(l,C,o,{dehydratedView:M}),0,_d(C,M))}}finally{Te(y)}}else{const y=bl(f,0);void 0!==y&&(y[lr]=o)}}class Xr{constructor(s,o,l){this.lContainer=s,this.$implicit=o,this.$index=l}get $count(){return this.lContainer.length-Fr}}function ny(n,s){return s}class WS{constructor(s,o,l){this.hasEmptyBlock=s,this.trackByFn=o,this.liveCollection=l}}function bg(n,s,o,l,u,f,m,y,C,M,F,K,te){Vo("NgControlFlow");const ae=void 0!==C,ge=Le(),ke=y?m.bind(ge[Pn][lr]):m,et=new WS(ae,ke);ge[an+n]=et,af(n+1,s,o,l,u,f),ae&&af(n+2,C,M,F,K,te)}class Jb extends Zb{constructor(s,o,l){super(),this.lContainer=s,this.hostLView=o,this.templateTNode=l,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Fr}at(s){return this.getLView(s)[lr].$implicit}attach(s,o){const l=o[Kr];this.needsIndexUpdate||=s!==this.length,Cl(this.lContainer,o,s,_d(this.templateTNode,l))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function WI(n,s){return xp(n,s)}(this.lContainer,s)}create(s,o){const l=wd(this.lContainer,this.templateTNode.tView.ssrId);return Hh(this.hostLView,this.templateTNode,new Xr(this.lContainer,o,s),{dehydratedView:l})}destroy(s){Lm(s[nt],s)}updateValue(s,o){this.getLView(s)[lr].$implicit=o}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[lr].$index=s}getLView(s){return function GS(n,s){return bl(n,s)}(this.lContainer,s)}}function ry(n){const s=Te(null),o=us();try{const l=Le(),u=l[nt],f=l[o];if(void 0===f.liveCollection){const y=o+1,C=zI(l,y),M=GI(u,y);f.liveCollection=new Jb(C,l,M)}else f.liveCollection.reset();const m=f.liveCollection;if(function Vn(n,s,o){let l,u,f=0,m=n.length-1;if(Array.isArray(s)){let y=s.length-1;for(;f<=m&&f<=y;){const C=n.at(f),M=s[f],F=wf(f,C,f,M,o);if(0!==F){F<0&&n.updateValue(f,M),f++;continue}const K=n.at(m),te=s[y],ae=wf(m,K,y,te,o);if(0!==ae){ae<0&&n.updateValue(m,te),m--,y--;continue}const ge=o(f,C),ke=o(m,K),et=o(f,M);if(Object.is(et,ke)){const st=o(y,te);Object.is(st,ge)?(n.swap(f,m),n.updateValue(m,te),y--,m--):n.move(m,f),n.updateValue(f,M),f++}else if(l??=new HI,u??=bf(n,f,m,o),ty(n,l,f,et))n.updateValue(f,M),f++,m++;else if(u.has(et))l.set(ge,n.detach(f)),m--;else{const st=n.create(f,s[f]);n.attach(f,st),f++,m++}}for(;f<=y;)$I(n,l,o,f,s[f]),f++}else if(null!=s){const y=s[Symbol.iterator]();let C=y.next();for(;!C.done&&f<=m;){const M=n.at(f),F=C.value,K=wf(f,M,f,F,o);if(0!==K)K<0&&n.updateValue(f,F),f++,C=y.next();else{l??=new HI,u??=bf(n,f,m,o);const te=o(f,F);if(ty(n,l,f,te))n.updateValue(f,F),f++,m++,C=y.next();else if(u.has(te)){const ae=o(f,M);l.set(ae,n.detach(f)),m--}else n.attach(f,n.create(f,F)),f++,m++,C=y.next()}}for(;!C.done;)$I(n,l,o,n.length,C.value),C=y.next()}for(;f<=m;)n.destroy(n.detach(m--));l?.forEach(y=>{n.destroy(y)})}(m,n,f.trackByFn),m.updateIndexes(),f.hasEmptyBlock){const y=ha(),C=0===m.length;if(Qr(l,y,C)){const M=o+2,F=zI(l,M);if(C){const K=GI(u,M),te=wd(F,K.tView.ssrId);Cl(F,Hh(l,K,void 0,{dehydratedView:te}),0,_d(K,te))}else Xm(F,0)}}}finally{Te(s)}}function zI(n,s){return n[s]}function GI(n,s){return Wc(n,s)}function qI(n,s,o,l){const u=Le(),f=Mn(),m=an+n,y=u[Jt],C=f.firstCreatePass?function zr(n,s,o,l,u,f){const m=s.consts,C=Fh(s,n,2,l,ao(m,u));return zm(s,o,C,ao(m,f)),null!==C.attrs&&ig(C,C.attrs,!1),null!==C.mergedAttrs&&ig(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(m,f,u,s,o,l):f.data[m],M=KI(f,u,C,y,s,n);u[m]=M;const F=la(C);return da(C,!0),iw(y,M,C),!function pg(n){return!(32&~n.flags)}(C)&&nn()&&Um(f,u,M,C),0===function Z0(){return tn.lFrame.elementDepthCount}()&&xi(M,u),function sv(){tn.lFrame.elementDepthCount++}(),F&&(Ia(f,u,C),wl(f,C,u)),null!==l&&md(u,C),qI}function iy(){let n=er();rh()?nm():(n=n.parent,da(n,!1));const s=n;(function J0(n){return tn.skipHydrationRootTNode===n})(s)&&function tm(){tn.skipHydrationRootTNode=null}(),function ov(){tn.lFrame.elementDepthCount--}();const o=Mn();return o.firstCreatePass&&(oh(o,n),No(n)&&o.queries.elementEnd(n)),null!=s.classesWithoutHost&&function tp(n){return!!(8&n.flags)}(s)&&kI(o,s,Le(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ts(n){return!!(16&n.flags)}(s)&&kI(o,s,Le(),s.stylesWithoutHost,!1),iy}function ii(n,s,o,l){return qI(n,s,o,l),iy(),ii}let KI=(n,s,o,l,u,f)=>(ds(!0),Gi(l,u,function _t(){return tn.lFrame.currentNamespace}()));function sy(n,s,o){const l=Le(),u=Mn(),f=n+an,m=u.firstCreatePass?function eC(n,s,o,l,u){const f=s.consts,m=ao(f,l),y=Fh(s,n,8,"ng-container",m);return null!==m&&ig(y,m,!0),zm(s,o,y,ao(f,u)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,u,l,s,o):u.data[f];da(m,!0);const y=tC(u,l,m,n);return l[f]=y,nn()&&Um(u,l,y,m),xi(y,l),la(m)&&(Ia(u,l,m),wl(u,m,l)),null!=o&&md(l,m),sy}function oy(){let n=er();const s=Mn();return rh()?nm():(n=n.parent,da(n,!1)),s.firstCreatePass&&(oh(s,n),No(n)&&s.queries.elementEnd(n)),oy}function QI(n,s,o){return sy(n,s,o),oy(),QI}let tC=(n,s,o,l)=>(ds(!0),xm(s[Jt],""));function nC(){return Le()}const $d=void 0;var Tc=["en",[["a","p"],["AM","PM"],$d],[["AM","PM"],$d,$d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$d,"{1} 'at' {0}",$d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Nl(n){const o=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Cg={};function Df(n){const s=function YS(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=YI(s);if(o)return o;const l=s.split("-")[0];if(o=YI(l),o)return o;if("en"===l)return Tc;throw new ct(701,!1)}function rC(n){return Df(n)[wc.PluralCase]}function YI(n){return n in Cg||(Cg[n]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[n]),Cg[n]}var wc=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(wc||{});const xl="en-US";let ly=xl;function c0(n,s,o,l){const u=Le(),f=Mn(),m=er();return u0(f,u,u[Jt],m,n,s,l),c0}function u0(n,s,o,l,u,f,m){const y=la(l),M=n.firstCreatePass&&vw(n),F=s[lr],K=vE(s);let te=!0;if(3&l.type||m){const ke=Ar(l,s),et=m?m(ke):ke,st=K.length,Ue=m?zn=>m(Fn(zn[l.index])):l.index;let en=null;if(!m&&y&&(en=function vR(n,s,o,l){const u=n.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const m=u[f];if(m===o&&u[f+1]===l){const y=s[oo],C=u[f+2];return y.length>C?y[C]:null}"string"==typeof m&&(f+=2)}return null}(n,s,u,l.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=f,en.__ngLastListenerFn__=f,te=!1;else{f=TC(l,s,F,f,!1);const zn=o.listen(et,u,f);K.push(f,zn),M&&M.push(u,Ue,st,st+1)}}else f=TC(l,s,F,f,!1);const ae=l.outputs;let ge;if(te&&null!==ae&&(ge=ae[u])){const ke=ge.length;if(ke)for(let et=0;et<ke;et+=2){const tr=s[ge[et]][ge[et+1]].subscribe(f),di=K.length;K.push(f,tr),M&&M.push(u,l.index,di,-(di+1))}}}function IC(n,s,o,l){const u=Te(null);try{return $t(6,s,o),!1!==o(l)}catch(f){return Km(n,f),!1}finally{$t(7,s,o),Te(u)}}function TC(n,s,o,l,u){return function f(m){if(m===Function)return l;fo(n.componentOffset>-1?es(n.index,s):s);let C=IC(s,o,l,m),M=f.__ngNextListenerFn__;for(;M;)C=IC(s,o,M,m)&&C,M=M.__ngNextListenerFn__;return u&&!1===C&&m.preventDefault(),C}}function ER(n=1){return function aT(n){return(tn.lFrame.contextLView=function Yg(n,s){for(;n>0;)s=s[Jl],n--;return s}(n,tn.lFrame.contextLView))[lr]}(n)}function BM(n,s){let o=null;const l=function to(n){const s=n.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(n);for(let u=0;u<s.length;u++){const f=s[u];if("*"!==f){if(null===l?ls(n,f,!0):no(l,f))return u}else o=u}return o}function d0(n){const s=Le()[Pn][Gn];if(!s.projection){const l=s.projection=function js(n,s){const o=[];for(let l=0;l<n;l++)o.push(s);return o}(n?n.length:1,null),u=l.slice();let f=s.child;for(;null!==f;){const m=n?BM(f,n):0;null!==m&&(u[m]?u[m].projectionNext=f:l[m]=f,u[m]=f),f=f.next}}}function wC(n,s=0,o){const l=Le(),u=Mn(),f=Fh(u,an+n,16,null,o||null);null===f.projection&&(f.projection=s),nm(),(!l[Kr]||Yu())&&32&~f.flags&&function fs(n,s,o){mr(s[Jt],0,s,o,cE(n,o,s),uE(o.parent||s[Gn],o,s))}(u,l,f)}function bC(n,s,o){return CC(n,"",s,"",o),bC}function CC(n,s,o,l,u){const f=Le(),m=Bd(f,s,o,l);return m!==Lt&&uo(Mn(),Vr(),f,n,m,f[Jt],u,!1),CC}function xg(n,s,o,l){!function Dd(n,s,o,l){const u=Mn();if(u.firstCreatePass){const f=er();Sd(u,new u_(s,o,l),f.index),function sb(n,s){const o=n.contentQueries||(n.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,s)}(u,n),!(2&~o)&&(u.staticContentQueries=!0)}return ib(u,Le(),o)}(n,s,o,l)}function Ey(n,s,o){!function zE(n,s,o){const l=Mn();return l.firstCreatePass&&(Sd(l,new u_(n,s,o),-1),!(2&~s)&&(l.staticViewQueries=!0)),ib(l,Le(),s)}(n,s,o)}function AC(n){const s=Le(),o=Mn(),l=Zu();Jf(l+1);const u=f_(o,l);if(n.dirty&&function tv(n){return!(4&~n[Ot])}(s)===!(2&~u.metadata.flags)){if(null===u.matches)n.reset([]);else{const f=ps(s,l);n.reset(f,gT),n.notifyOnChanges()}return!0}return!1}function Iy(){return function ef(n,s){return n[Cs].queries[s].queryList}(Le(),Zu())}function RC(n){return function hl(n,s){return n[s]}(function lv(){return tn.lFrame.contextLView}(),an+n)}function kC(n,s=""){const o=Le(),l=Mn(),u=n+an,f=l.firstCreatePass?Fh(l,u,1,s,null):l.data[u],m=LC(l,o,f,s,n);o[u]=m,nn()&&Um(l,o,m,f),da(f,!1)}let LC=(n,s,o,l,u)=>(ds(!0),function hd(n,s){return n.createText(s)}(s[Jt],l));function _0(n){return wy("",n,""),_0}function wy(n,s,o){const l=Le(),u=Bd(l,n,s,o);return u!==Lt&&Ks(l,us(),u),wy}function FC(n,s,o,l,u){const f=Le(),m=function pf(n,s,o,l,u,f){const y=yc(n,Va(),o,u);return fl(2),y?s+Gt(o)+l+Gt(u)+f:Lt}(f,n,s,o,l,u);return m!==Lt&&Ks(f,us(),m),FC}function VC(n,s,o,l,u,f,m){const y=Le(),C=function Au(n,s,o,l,u,f,m,y){const M=fg(n,Va(),o,u,m);return fl(3),M?s+Gt(o)+l+Gt(u)+f+Gt(m)+y:Lt}(y,n,s,o,l,u,f,m);return C!==Lt&&Ks(y,us(),C),VC}function BC(n,s,o){Rd(s)&&(s=s());const l=Le();return Qr(l,ha(),s)&&uo(Mn(),Vr(),l,n,s,l[Jt],o,!1),BC}function UR(n,s){const o=Rd(n);return o&&n.set(s),o}function jC(n,s){const o=Le(),l=Mn(),u=er();return u0(l,o,o[Jt],u,n,s),jC}function $C(n,s,o,l,u){if(n=ce(n),Array.isArray(n))for(let f=0;f<n.length;f++)$C(n[f],s,o,l,u);else{const f=Mn(),m=Le(),y=er();let C=ro(n)?n:ce(n.provide);const M=Zl(n),F=1048575&y.providerIndexes,K=y.directiveStart,te=y.providerIndexes>>20;if(ro(n)||!n.multi){const ae=new Ss(M,u,Br),ge=zC(C,s,u?F:F+te,K);-1===ge?(kt(re(y,m),f,C),HC(f,n,s.length),s.push(C),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(ae),m.push(ae)):(o[ge]=ae,m[ge]=ae)}else{const ae=zC(C,s,F+te,K),ge=zC(C,s,F,F+te),et=ge>=0&&o[ge];if(u&&!et||!u&&!(ae>=0&&o[ae])){kt(re(y,m),f,C);const st=function jR(n,s,o,l,u){const f=new Ss(n,o,Br);return f.multi=[],f.index=s,f.componentProviders=0,BR(f,u,l&&!o),f}(u?WM:zM,o.length,u,l,M);!u&&et&&(o[ge].providerFactory=st),HC(f,n,s.length,0),s.push(C),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(st),m.push(st)}else HC(f,n,ae>-1?ae:ge,BR(o[u?ge:ae],M,!u&&l));!u&&l&&et&&o[ge].componentProviders++}}}function HC(n,s,o,l){const u=ro(s),f=function Gu(n){return!!n.useClass}(s);if(u||f){const C=(f?ce(s.useClass):s).prototype.ngOnDestroy;if(C){const M=n.destroyHooks||(n.destroyHooks=[]);if(!u&&s.multi){const F=M.indexOf(o);-1===F?M.push(o,[l,C]):M[F+1].push(l,C)}else M.push(o,C)}}}function BR(n,s,o){return o&&n.componentProviders++,n.multi.push(s)-1}function zC(n,s,o,l){for(let u=o;u<l;u++)if(s[u]===n)return u;return-1}function zM(n,s,o,l){return WC(this.multi,[])}function WM(n,s,o,l){const u=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=fa(o,o[nt],this.providerFactory.index,l);f=y.slice(0,m),WC(u,f);for(let C=m;C<y.length;C++)f.push(y[C])}else f=[],WC(u,f);return f}function WC(n,s){for(let o=0;o<n.length;o++)s.push((0,n[o])());return s}function $R(n,s=[]){return o=>{o.providersResolver=(l,u)=>function HM(n,s,o){const l=Mn();if(l.firstCreatePass){const u=Ji(n);$C(o,l.data,l.blueprint,u,!0),$C(s,l.data,l.blueprint,u,!1)}}(l,u?u(n):n,s)}}let GM=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=cs(0,o.type),u=l.length>0?Nd([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=kn({token:n,providedIn:"environment",factory:()=>new n(hr(wr))})}return n})();function HR(n){Vo("NgStandalone"),n.getStandaloneInjector=s=>s.get(GM).getOrCreateStandaloneInjector(n)}function WR(n,s,o){const l=Ds()+n,u=Le();return u[l]===Lt?Ga(u,l,o?s.call(o):s()):vu(u,l)}function GR(n,s,o,l){return function ZR(n,s,o,l,u,f){const m=s+o;return Qr(n,m,u)?Ga(n,m+1,f?l.call(f,u):l(u)):by(n,m+1)}(Le(),Ds(),n,s,o,l)}function qR(n,s,o,l,u){return function JR(n,s,o,l,u,f,m){const y=s+o;return yc(n,y,u,f)?Ga(n,y+2,m?l.call(m,u,f):l(u,f)):by(n,y+2)}(Le(),Ds(),n,s,o,l,u)}function KR(n,s,o,l,u,f){return function e1(n,s,o,l,u,f,m,y){const C=s+o;return fg(n,C,u,f,m)?Ga(n,C+3,y?l.call(y,u,f,m):l(u,f,m)):by(n,C+3)}(Le(),Ds(),n,s,o,l,u,f)}function QR(n,s,o,l,u,f,m){return function t1(n,s,o,l,u,f,m,y,C){const M=s+o;return ba(n,M,u,f,m,y)?Ga(n,M+4,C?l.call(C,u,f,m,y):l(u,f,m,y)):by(n,M+4)}(Le(),Ds(),n,s,o,l,u,f,m)}function XR(n,s,o,l,u,f,m,y,C){const M=Ds()+n,F=Le(),K=ba(F,M,o,l,u,f);return yc(F,M+4,m,y)||K?Ga(F,M+6,C?s.call(C,o,l,u,f,m,y):s(o,l,u,f,m,y)):vu(F,M+6)}function YR(n,s,o,l){return function n1(n,s,o,l,u,f){let m=s+o,y=!1;for(let C=0;C<u.length;C++)Qr(n,m++,u[C])&&(y=!0);return y?Ga(n,m,l.apply(f,u)):by(n,m)}(Le(),Ds(),n,s,o,l)}function by(n,s){const o=n[s];return o===Lt?void 0:o}function r1(n,s){return Zm(n,s)}class sA{constructor(s){this.full=s;const o=s.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const I1=new sA("17.3.8");let oA=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const fA=new Wt(""),pA=new Wt("");let T0,$1=(()=>{class n{constructor(o,l,u){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,T0||(function H1(n){T0=n}(u),u.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),o()},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,u){return[]}static#e=this.\u0275fac=function(l){return new(l||n)(hr(bn),hr(gA),hr(pA))};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac})}return n})(),gA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return T0?.findTestabilityInTree(this,o,l)??null}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function w0(n){return!!n&&"function"==typeof n.then}function mA(n){return!!n&&"function"==typeof n.subscribe}const z1=new Wt("");let b0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l}),this.appInits=Yt(z1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const f=u();if(w0(f))o.push(f);else if(mA(f)){const m=new Promise((y,C)=>{f.subscribe({complete:y,error:C})});o.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const C0=new Wt("");let ku=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(wv),this.afterRenderEffectManager=Yt(Cd),this.externalTestViews=new Set,this.beforeRender=new Cn.B,this.afterTick=new Cn.B,this.componentTypes=[],this.components=[],this.isStable=Yt(xd).hasPendingTasks.pipe((0,Gr.T)(o=>!o)),this._injector=Yt(wr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const u=o instanceof Xh;if(!this._injector.get(b0).done)throw!u&&Ai(o),new ct(405,!1);let m;m=u?o:this._injector.get(Zp).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const y=function W1(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Od),M=m.create(ko.NULL,[],l||m.selector,y),F=M.location.nativeElement,K=M.injector.get(fA,null);return K?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),Py(this.components,M),K?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new ct(101,!1);const l=Te(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(u){this.internalErrorHandler(u)}finally{this.afterTick.next(),this._runningTick=!1,Te(l)}}detectChangesInAttachedViews(o){let l=0;const u=this.afterRenderEffectManager;for(;;){if(l===IE)throw new ct(103,!1);if(o){const f=0===l;this.beforeRender.next(f);for(let{_lView:m,notifyErrorHandler:y}of this._views)q1(m,f,y)}if(l++,u.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:f})=>A0(f))&&(u.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:f})=>A0(f))))break}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Py(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(C0,[]);[...this._bootstrapListeners,...l].forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Py(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ct(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Py(n,s){const o=n.indexOf(s);o>-1&&n.splice(o,1)}function q1(n,s,o){!s&&!A0(n)||function K1(n,s,o){let l;o?(l=0,n[Ot]|=1024):l=64&n[Ot]?0:1,pc(n,s,l)}(n,o,s)}function A0(n){return eh(n)}class Q1{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let D0=(()=>{class n{compileModuleSync(o){return new A_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),f=qs(li(o).declarations).reduce((m,y)=>{const C=on(y);return C&&m.push(new Wa(C)),m},[]);return new Q1(l,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y1=(()=>{class n{constructor(){this.zone=Yt(bn),this.applicationRef=Yt(ku)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IA(n){return[{provide:bn,useFactory:n},{provide:Co,multi:!0,useFactory:()=>{const s=Yt(Y1,{optional:!0});return()=>s.initialize()}},{provide:Co,multi:!0,useFactory:()=>{const s=Yt(eP);return()=>{s.initialize()}}},{provide:wv,useFactory:Z1}]}function Z1(){const n=Yt(bn),s=Yt(Ha);return o=>n.runOutsideAngular(()=>s.handleError(o))}function J1(n){return ra([[],IA(()=>new bn(function TA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let eP=(()=>{class n{constructor(){this.subscription=new ur.yU,this.initialized=!1,this.zone=Yt(bn),this.pendingTasks=Yt(xd)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{bn.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{bn.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=kn({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Oy=new Wt("",{providedIn:"root",factory:()=>Yt(Oy,un.Optional|un.SkipSelf)||function tP(){return typeof $localize<"u"&&$localize.locale||xl}()}),nP=new Wt("",{providedIn:"root",factory:()=>"USD"}),R0=new Wt("");let Lu=null;function Ny(){return!1}let jo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=xO}return n})();function xO(n){return function aP(n,s,o){if(As(n)&&!o){const l=es(n.index,s);return new zh(l,l)}return 47&n.type?new zh(s[Pn],s):null}(er(),Le(),!(16&~n))}class DA{constructor(){}supports(s){return sf(s)}create(s){return new hP(s)}}const dP=(n,s)=>s;class hP{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dP}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,u=0,f=null;for(;o||l;){const m=!l||o&&o.currentIndex<ky(l,u,f)?o:l,y=ky(m,u,f),C=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{f||(f=[]);const M=y-u,F=C-u;if(M!=F){for(let te=0;te<M;te++){const ae=te<f.length?f[te]:f[te]=0,ge=ae+te;F<=ge&&ge<M&&(f[te]=ae+1)}f[m.previousIndex]=F-M}}y!==C&&s(m,y,C)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!sf(s))throw new ct(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,f,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],m=this._trackByFn(y,f),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,f,m,y)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,m,y),l=!0),o=o._next}else u=0,function wS(n,s){if(Array.isArray(n))for(let o=0;o<n.length;o++)s(n[o]);else{const o=n[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,y=>{m=this._trackByFn(u,y),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,y,m,u)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,u){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,u)):s=this._addAfter(new SA(o,l),f,u),s}_verifyReinsertion(s,o,l,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,f=s._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new RA),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RA),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class SA{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class RA{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new F0,this.map.set(o,l)),l.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ky(n,s,o){const l=n.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+s+u}class PA{constructor(){}supports(s){return s instanceof Map||is(s)}create(){return new MA}}class MA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||is(s)))throw new ct(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const f=u._prev,m=u._next;return f&&(f._next=m),m&&(m._prev=f),u._next=null,u._prev=null,u}const l=new fP(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class fP{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OA(){return new V0([new DA])}let V0=(()=>{class n{static#e=this.\u0275prov=kn({token:n,providedIn:"root",factory:OA});constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||OA()),deps:[[n,new Mi,new Yi]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new ct(901,!1)}}return n})();function U0(){return new Fy([new PA])}let Fy=(()=>{class n{static#e=this.\u0275prov=kn({token:n,providedIn:"root",factory:U0});constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||U0()),deps:[[n,new Mi,new Yi]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(l)return l;throw new ct(901,!1)}}return n})();function NP(n){try{const{rootComponent:s,appProviders:o,platformProviders:l}=n,u=function Fu(n=[]){if(Lu)return Lu;const s=function sP(n=[],s){return ko.create({name:s,providers:[{provide:io,useValue:"platform"},{provide:R0,useValue:new Set([()=>Lu=null])},...n]})}(n);return Lu=s,function _A(){!function Mr(n){yr=n}(()=>{throw new ct(600,!1)})}(),function CA(n){n.get(Lv,null)?.forEach(o=>o())}(s),s}(l),f=[J1(),...o||[]],y=new hg({providers:f,parent:u,debugName:"",runEnvironmentInitializers:!1}).injector,C=y.get(bn);return C.run(()=>{y.resolveInjectorInitializers();const M=y.get(Ha,null);let F;C.runOutsideAngular(()=>{F=C.onError.subscribe({next:ae=>{M.handleError(ae)}})});const K=()=>y.destroy(),te=u.get(R0);return te.add(K),y.onDestroy(()=>{F.unsubscribe(),te.delete(K)}),function yA(n,s,o){try{const l=o();return w0(l)?l.catch(u=>{throw s.runOutsideAngular(()=>n.handleError(u)),u}):l}catch(l){throw s.runOutsideAngular(()=>n.handleError(l)),l}}(M,C,()=>{const ae=y.get(b0);return ae.runInitializers(),ae.donePromise.then(()=>{!function cy(n){"string"==typeof n&&(ly=n.toLowerCase().replace(/_/g,"-"))}(y.get(Oy,xl)||xl);const ke=y.get(ku);return void 0!==s&&ke.bootstrap(s),ke})})})}catch(s){return Promise.reject(s)}}function BP(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Q0(n,s=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?s:Number(n)}function eD(n,s){Vo("NgSignals");const o=function we(n){const s=Object.create(nr);s.computation=n;const o=()=>{if(We(s),be(s),s.value===Pr)throw s.error;return s.value};return o[ye]=s,o}(n);return s?.equal&&(o[ye].equal=s.equal),o}function tD(n){const s=Te(null);try{return n()}finally{Te(s)}}},345:(Nt,Be,G)=>{G.d(Be,{B7:()=>lt,B8:()=>xe,hE:()=>jr,up:()=>Fi});var w=G(4438),h=G(177);class j extends h.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends j{static makeCurrent(){(0,h.ZD)(new le)}onAndCancel(ue,Y,oe){return ue.addEventListener(Y,oe),()=>{ue.removeEventListener(Y,oe)}}dispatchEvent(ue,Y){ue.dispatchEvent(Y)}remove(ue){ue.parentNode&&ue.parentNode.removeChild(ue)}createElement(ue,Y){return(Y=Y||this.getDefaultDocument()).createElement(ue)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ue){return ue.nodeType===Node.ELEMENT_NODE}isShadowRoot(ue){return ue instanceof DocumentFragment}getGlobalEventTarget(ue,Y){return"window"===Y?window:"document"===Y?ue:"body"===Y?ue.body:null}getBaseHref(ue){const Y=function ye(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==Y?null:function Te(ce){return new URL(ce,document.baseURI).pathname}(Y)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(ue){return(0,h._b)(document.cookie,ue)}}let _e=null,He=(()=>{class ce{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(oe){return new(oe||ce)};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac})}return ce})();const ie=new w.nKC("");let ne=(()=>{class ce{constructor(Y,oe){this._zone=oe,this._eventNameToPlugin=new Map,Y.forEach(q=>{q.manager=this}),this._plugins=Y.slice().reverse()}addEventListener(Y,oe,q){return this._findPluginFor(oe).addEventListener(Y,oe,q)}getZone(){return this._zone}_findPluginFor(Y){let oe=this._eventNameToPlugin.get(Y);if(oe)return oe;if(oe=this._plugins.find(Q=>Q.supports(Y)),!oe)throw new w.wOt(5101,!1);return this._eventNameToPlugin.set(Y,oe),oe}static#e=this.\u0275fac=function(oe){return new(oe||ce)(w.KVO(ie),w.KVO(w.SKi))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac})}return ce})();class be{constructor(ue){this._doc=ue}}const Ze="ng-app-id";let We=(()=>{class ce{constructor(Y,oe,q,Q={}){this.doc=Y,this.appId=oe,this.nonce=q,this.platformId=Q,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,h.Vy)(Q),this.resetHostNodes()}addStyles(Y){for(const oe of Y)1===this.changeUsageCount(oe,1)&&this.onStyleAdded(oe)}removeStyles(Y){for(const oe of Y)this.changeUsageCount(oe,-1)<=0&&this.onStyleRemoved(oe)}ngOnDestroy(){const Y=this.styleNodesInDOM;Y&&(Y.forEach(oe=>oe.remove()),Y.clear());for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.resetHostNodes()}addHost(Y){this.hostNodes.add(Y);for(const oe of this.getAllStyles())this.addStyleToHost(Y,oe)}removeHost(Y){this.hostNodes.delete(Y)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Y){for(const oe of this.hostNodes)this.addStyleToHost(oe,Y)}onStyleRemoved(Y){const oe=this.styleRef;oe.get(Y)?.elements?.forEach(q=>q.remove()),oe.delete(Y)}collectServerRenderedStyles(){const Y=this.doc.head?.querySelectorAll(`style[${Ze}="${this.appId}"]`);if(Y?.length){const oe=new Map;return Y.forEach(q=>{null!=q.textContent&&oe.set(q.textContent,q)}),oe}return null}changeUsageCount(Y,oe){const q=this.styleRef;if(q.has(Y)){const Q=q.get(Y);return Q.usage+=oe,Q.usage}return q.set(Y,{usage:oe,elements:[]}),oe}getStyleElement(Y,oe){const q=this.styleNodesInDOM,Q=q?.get(oe);if(Q?.parentNode===Y)return q.delete(oe),Q.removeAttribute(Ze),Q;{const U=this.doc.createElement("style");return this.nonce&&U.setAttribute("nonce",this.nonce),U.textContent=oe,this.platformIsServer&&U.setAttribute(Ze,this.appId),Y.appendChild(U),U}}addStyleToHost(Y,oe){const q=this.getStyleElement(Y,oe),Q=this.styleRef,U=Q.get(oe)?.elements;U?U.push(q):Q.set(oe,{elements:[q],usage:1})}resetHostNodes(){const Y=this.hostNodes;Y.clear(),Y.add(this.doc.head)}static#e=this.\u0275fac=function(oe){return new(oe||ce)(w.KVO(h.qQ),w.KVO(w.sZ2),w.KVO(w.BIS,8),w.KVO(w.Agw))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac})}return ce})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g,Xe=new w.nKC("",{providedIn:"root",factory:()=>!0});function it(ce,ue){return ue.map(Y=>Y.replace(ot,ce))}let lt=(()=>{class ce{constructor(Y,oe,q,Q,U,W,B,se=null){this.eventManager=Y,this.sharedStylesHost=oe,this.appId=q,this.removeStylesOnCompDestroy=Q,this.doc=U,this.platformId=W,this.ngZone=B,this.nonce=se,this.rendererByCompId=new Map,this.platformIsServer=(0,h.Vy)(W),this.defaultRenderer=new Et(Y,U,B,this.platformIsServer)}createRenderer(Y,oe){if(!Y||!oe)return this.defaultRenderer;this.platformIsServer&&oe.encapsulation===w.gXe.ShadowDom&&(oe={...oe,encapsulation:w.gXe.Emulated});const q=this.getOrCreateRenderer(Y,oe);return q instanceof cr?q.applyToHost(Y):q instanceof nr&&q.applyStyles(),q}getOrCreateRenderer(Y,oe){const q=this.rendererByCompId;let Q=q.get(oe.id);if(!Q){const U=this.doc,W=this.ngZone,B=this.eventManager,se=this.sharedStylesHost,Oe=this.removeStylesOnCompDestroy,at=this.platformIsServer;switch(oe.encapsulation){case w.gXe.Emulated:Q=new cr(B,se,oe,this.appId,Oe,U,W,at);break;case w.gXe.ShadowDom:return new Pr(B,se,Y,oe,U,W,this.nonce,at);default:Q=new nr(B,se,oe,Oe,U,W,at)}q.set(oe.id,Q)}return Q}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(oe){return new(oe||ce)(w.KVO(ne),w.KVO(We),w.KVO(w.sZ2),w.KVO(Xe),w.KVO(h.qQ),w.KVO(w.Agw),w.KVO(w.SKi),w.KVO(w.BIS))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac})}return ce})();class Et{constructor(ue,Y,oe,q){this.eventManager=ue,this.doc=Y,this.ngZone=oe,this.platformIsServer=q,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ue,Y){return Y?this.doc.createElementNS(ut[Y]||Y,ue):this.doc.createElement(ue)}createComment(ue){return this.doc.createComment(ue)}createText(ue){return this.doc.createTextNode(ue)}appendChild(ue,Y){(Vt(ue)?ue.content:ue).appendChild(Y)}insertBefore(ue,Y,oe){ue&&(Vt(ue)?ue.content:ue).insertBefore(Y,oe)}removeChild(ue,Y){ue&&ue.removeChild(Y)}selectRootElement(ue,Y){let oe="string"==typeof ue?this.doc.querySelector(ue):ue;if(!oe)throw new w.wOt(-5104,!1);return Y||(oe.textContent=""),oe}parentNode(ue){return ue.parentNode}nextSibling(ue){return ue.nextSibling}setAttribute(ue,Y,oe,q){if(q){Y=q+":"+Y;const Q=ut[q];Q?ue.setAttributeNS(Q,Y,oe):ue.setAttribute(Y,oe)}else ue.setAttribute(Y,oe)}removeAttribute(ue,Y,oe){if(oe){const q=ut[oe];q?ue.removeAttributeNS(q,Y):ue.removeAttribute(`${oe}:${Y}`)}else ue.removeAttribute(Y)}addClass(ue,Y){ue.classList.add(Y)}removeClass(ue,Y){ue.classList.remove(Y)}setStyle(ue,Y,oe,q){q&(w.czy.DashCase|w.czy.Important)?ue.style.setProperty(Y,oe,q&w.czy.Important?"important":""):ue.style[Y]=oe}removeStyle(ue,Y,oe){oe&w.czy.DashCase?ue.style.removeProperty(Y):ue.style[Y]=""}setProperty(ue,Y,oe){null!=ue&&(ue[Y]=oe)}setValue(ue,Y){ue.nodeValue=Y}listen(ue,Y,oe){if("string"==typeof ue&&!(ue=(0,h.QT)().getGlobalEventTarget(this.doc,ue)))throw new Error(`Unsupported event target ${ue} for event ${Y}`);return this.eventManager.addEventListener(ue,Y,this.decoratePreventDefault(oe))}decoratePreventDefault(ue){return Y=>{if("__ngUnwrap__"===Y)return ue;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ue(Y)):ue(Y))&&Y.preventDefault()}}}function Vt(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Pr extends Et{constructor(ue,Y,oe,q,Q,U,W,B){super(ue,Q,U,B),this.sharedStylesHost=Y,this.hostEl=oe,this.shadowRoot=oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const se=it(q.id,q.styles);for(const Oe of se){const at=document.createElement("style");W&&at.setAttribute("nonce",W),at.textContent=Oe,this.shadowRoot.appendChild(at)}}nodeOrShadowRoot(ue){return ue===this.hostEl?this.shadowRoot:ue}appendChild(ue,Y){return super.appendChild(this.nodeOrShadowRoot(ue),Y)}insertBefore(ue,Y,oe){return super.insertBefore(this.nodeOrShadowRoot(ue),Y,oe)}removeChild(ue,Y){return super.removeChild(this.nodeOrShadowRoot(ue),Y)}parentNode(ue){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ue)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nr extends Et{constructor(ue,Y,oe,q,Q,U,W,B){super(ue,Q,U,W),this.sharedStylesHost=Y,this.removeStylesOnCompDestroy=q,this.styles=B?it(B,oe.styles):oe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cr extends nr{constructor(ue,Y,oe,q,Q,U,W,B){const se=q+"-"+oe.id;super(ue,Y,oe,Q,U,W,B,se),this.contentAttr=function ze(ce){return"_ngcontent-%COMP%".replace(ot,ce)}(se),this.hostAttr=function Je(ce){return"_nghost-%COMP%".replace(ot,ce)}(se)}applyToHost(ue){this.applyStyles(),this.setAttribute(ue,this.hostAttr,"")}createElement(ue,Y){const oe=super.createElement(ue,Y);return super.setAttribute(oe,this.contentAttr,""),oe}}let yr=(()=>{class ce extends be{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,oe,q){return Y.addEventListener(oe,q,!1),()=>this.removeEventListener(Y,oe,q)}removeEventListener(Y,oe,q){return Y.removeEventListener(oe,q)}static#e=this.\u0275fac=function(oe){return new(oe||ce)(w.KVO(h.qQ))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac})}return ce})();const Wr=["alt","control","meta","shift"],Mr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let Ee=(()=>{class ce extends be{constructor(Y){super(Y)}supports(Y){return null!=ce.parseEventName(Y)}addEventListener(Y,oe,q){const Q=ce.parseEventName(oe),U=ce.eventCallback(Q.fullKey,q,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.QT)().onAndCancel(Y,Q.domEventName,U))}static parseEventName(Y){const oe=Y.toLowerCase().split("."),q=oe.shift();if(0===oe.length||"keydown"!==q&&"keyup"!==q)return null;const Q=ce._normalizeKey(oe.pop());let U="",W=oe.indexOf("code");if(W>-1&&(oe.splice(W,1),U="code."),Wr.forEach(se=>{const Oe=oe.indexOf(se);Oe>-1&&(oe.splice(Oe,1),U+=se+".")}),U+=Q,0!=oe.length||0===Q.length)return null;const B={};return B.domEventName=q,B.fullKey=U,B}static matchEventFullKeyCode(Y,oe){let q=Mr[Y.key]||Y.key,Q="";return oe.indexOf("code.")>-1&&(q=Y.code,Q="code."),!(null==q||!q)&&(q=q.toLowerCase()," "===q?q="space":"."===q&&(q="dot"),Wr.forEach(U=>{U!==q&&(0,Ie[U])(Y)&&(Q+=U+".")}),Q+=q,Q===oe)}static eventCallback(Y,oe,q){return Q=>{ce.matchEventFullKeyCode(Q,Y)&&q.runGuarded(()=>oe(Q))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}static#e=this.\u0275fac=function(oe){return new(oe||ce)(w.KVO(h.qQ))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function xe(ce,ue){return(0,w.TL3)({rootComponent:ce,...Pe(ue)})}function Pe(ce){return{appProviders:[...ur,...ce?.providers??[]],platformProviders:Rt}}const Rt=[{provide:w.Agw,useValue:h.AJ},{provide:w.PLl,useValue:function St(){le.makeCurrent()},multi:!0},{provide:h.qQ,useFactory:function wn(){return(0,w.TL$)(document),document},deps:[]}],ur=[{provide:w.H8p,useValue:"root"},{provide:w.zcH,useFactory:function zt(){return new w.zcH},deps:[]},{provide:ie,useClass:yr,multi:!0,deps:[h.qQ,w.SKi,w.Agw]},{provide:ie,useClass:Ee,multi:!0,deps:[h.qQ]},lt,We,ne,{provide:w._9s,useExisting:lt},{provide:h.N0,useClass:He,deps:[]},[]];let jr=(()=>{class ce{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}static#e=this.\u0275fac=function(oe){return new(oe||ce)(w.KVO(h.qQ))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),Fi=(()=>{class ce{static#e=this.\u0275fac=function(oe){return new(oe||ce)};static#t=this.\u0275prov=w.jDH({token:ce,factory:function(oe){let q=null;return q=oe?new(oe||ce):w.KVO(Mt),q},providedIn:"root"})}return ce})(),Mt=(()=>{class ce extends Fi{constructor(Y){super(),this._doc=Y}sanitize(Y,oe){if(null==oe)return null;switch(Y){case w.WPN.NONE:return oe;case w.WPN.HTML:return(0,w.ZF7)(oe,"HTML")?(0,w.rcV)(oe):(0,w.h9k)(this._doc,String(oe)).toString();case w.WPN.STYLE:return(0,w.ZF7)(oe,"Style")?(0,w.rcV)(oe):oe;case w.WPN.SCRIPT:if((0,w.ZF7)(oe,"Script"))return(0,w.rcV)(oe);throw new w.wOt(5200,!1);case w.WPN.URL:return(0,w.ZF7)(oe,"URL")?(0,w.rcV)(oe):(0,w.$MX)(String(oe));case w.WPN.RESOURCE_URL:if((0,w.ZF7)(oe,"ResourceURL"))return(0,w.rcV)(oe);throw new w.wOt(5201,!1);default:throw new w.wOt(5202,!1)}}bypassSecurityTrustHtml(Y){return(0,w.Kcf)(Y)}bypassSecurityTrustStyle(Y){return(0,w.cWb)(Y)}bypassSecurityTrustScript(Y){return(0,w.UyX)(Y)}bypassSecurityTrustUrl(Y){return(0,w.osQ)(Y)}bypassSecurityTrustResourceUrl(Y){return(0,w.e5t)(Y)}static#e=this.\u0275fac=function(oe){return new(oe||ce)(w.KVO(h.qQ))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},6315:(Nt,Be,G)=>{G.d(Be,{nX:()=>pi,wF:()=>ys,Ix:()=>Pn,Wk:()=>Cs,n3:()=>Ra,lh:()=>Oi});var w=G(4438),h=G(1985),j=G(8071),_e=G(8455),ye=G(7673),Te=G(4412),tt=G(9350);const{isArray:He}=Array,{getPrototypeOf:ie,prototype:ne,keys:be}=Object;var ut=G(3669),ot=G(6354);const{isArray:wt}=Array;var En=G(3794),ze=G(4360),Je=G(5225);function it(...E){const D=(0,En.lI)(E),T=(0,En.ms)(E),{args:R,keys:N}=function Ze(E){if(1===E.length){const D=E[0];if(He(D))return{args:D,keys:null};if(function We(E){return E&&"object"==typeof E&&ie(E)===ne}(D)){const T=be(D);return{args:T.map(R=>D[R]),keys:T}}}return{args:E,keys:null}}(E);if(0===R.length)return(0,_e.H)([],D);const H=new h.c(function lt(E,D,T=ut.D){return R=>{Et(D,()=>{const{length:N}=E,H=new Array(N);let J=N,De=N;for(let me=0;me<N;me++)Et(D,()=>{const mt=(0,_e.H)(E[me],D);let $t=!1;mt.subscribe((0,ze._)(R,_n=>{H[me]=_n,$t||($t=!0,De--),De||R.next(T(H.slice()))},()=>{--J||R.complete()}))},R)},R)}}(R,D,N?J=>function Xe(E,D){return E.reduce((T,R,N)=>(T[R]=D[N],T),{})}(N,J):ut.D));return T?H.pipe(function pn(E){return(0,ot.T)(D=>function It(E,D){return wt(D)?E(...D):E(D)}(E,D))}(T)):H}function Et(E,D,T){E?(0,Je.N)(T,E,D):D()}var we=G(8793),Zt=G(8750);function Vt(E){return new h.c(D=>{(0,Zt.Tg)(E()).subscribe(D)})}var Pr=G(1203);function nr(E,D){const T=(0,j.T)(E)?E:()=>E,R=N=>N.error(T());return new h.c(D?N=>D.schedule(R,0,N):R)}var cr=G(983),yr=G(8359),Wr=G(9974);function Mr(){return(0,Wr.N)((E,D)=>{let T=null;E._refCount++;const R=(0,ze._)(D,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(T=null);const N=E._connection,H=T;T=null,N&&(!H||N===H)&&N.unsubscribe(),D.unsubscribe()});E.subscribe(R),R.closed||(T=E.connect())})}class Ie extends h.c{constructor(D,T){super(),this.source=D,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Wr.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new yr.yU;const T=this.getSubject();D.add(this.source.subscribe((0,ze._)(T,void 0,()=>{this._teardown(),T.complete()},R=>{this._teardown(),T.error(R)},()=>this._teardown()))),D.closed&&(this._connection=null,D=yr.yU.EMPTY)}return D}refCount(){return Mr()(this)}}var Ee=G(1413),xe=G(177),Me=G(5558),Pe=G(6697),Ne=G(9172),St=G(5964),zt=G(1397),wn=G(1594),Rt=G(274),Kt=G(8141);function jn(E){return(0,Wr.N)((D,T)=>{let H,R=null,N=!1;R=D.subscribe((0,ze._)(T,void 0,void 0,J=>{H=(0,Zt.Tg)(E(J,jn(E)(D))),R?(R.unsubscribe(),R=null,H.subscribe(T)):N=!0})),N&&(R.unsubscribe(),R=null,H.subscribe(T))})}var Cn=G(2816),ur=G(9901);function or(E){return E<=0?()=>cr.w:(0,Wr.N)((D,T)=>{let R=[];D.subscribe((0,ze._)(T,N=>{R.push(N),E<R.length&&R.shift()},()=>{for(const N of R)T.next(N);T.complete()},void 0,()=>{R=null}))})}var Gr=G(3774),ct=G(980),si=G(5343);G(6365);var gs=G(345);const jt="primary",vr=Symbol("RouteTitle");class Ke{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const T=this.params[D];return Array.isArray(T)?T[0]:T}return null}getAll(D){if(this.has(D)){const T=this.params[D];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Pt(E){return new Ke(E)}function Er(E,D,T){const R=T.path.split("/");if(R.length>E.length||"full"===T.pathMatch&&(D.hasChildren()||R.length<E.length))return null;const N={};for(let H=0;H<R.length;H++){const J=R[H],De=E[H];if(J.startsWith(":"))N[J.substring(1)]=De;else if(J!==De.path)return null}return{consumed:E.slice(0,R.length),posParams:N}}function Nn(E,D){const T=E?Or(E):void 0,R=D?Or(D):void 0;if(!T||!R||T.length!=R.length)return!1;let N;for(let H=0;H<T.length;H++)if(N=T[H],!xn(E[N],D[N]))return!1;return!0}function Or(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function xn(E,D){if(Array.isArray(E)&&Array.isArray(D)){if(E.length!==D.length)return!1;const T=[...E].sort(),R=[...D].sort();return T.every((N,H)=>R[H]===N)}return E===D}function Fi(E){return E.length>0?E[E.length-1]:null}function Mt(E){return function le(E){return!!E&&(E instanceof h.c||(0,j.T)(E.lift)&&(0,j.T)(E.subscribe))}(E)?E:(0,w.jNT)(E)?(0,_e.H)(Promise.resolve(E)):(0,ye.of)(E)}const hi={exact:function Jn(E,D,T){if(!q(E.segments,D.segments)||!fi(E.segments,D.segments,T)||E.numberOfChildren!==D.numberOfChildren)return!1;for(const R in D.children)if(!E.children[R]||!Jn(E.children[R],D.children[R],T))return!1;return!0},subset:Ti},xt={exact:function Zn(E,D){return Nn(E,D)},subset:function Ir(E,D){return Object.keys(D).length<=Object.keys(E).length&&Object.keys(D).every(T=>xn(E[T],D[T]))},ignored:()=>!0};function gn(E,D,T){return hi[T.paths](E.root,D.root,T.matrixParams)&&xt[T.queryParams](E.queryParams,D.queryParams)&&!("exact"===T.fragment&&E.fragment!==D.fragment)}function Ti(E,D,T){return Pi(E,D,D.segments,T)}function Pi(E,D,T,R){if(E.segments.length>T.length){const N=E.segments.slice(0,T.length);return!(!q(N,T)||D.hasChildren()||!fi(N,T,R))}if(E.segments.length===T.length){if(!q(E.segments,T)||!fi(E.segments,T,R))return!1;for(const N in D.children)if(!E.children[N]||!Ti(E.children[N],D.children[N],R))return!1;return!0}{const N=T.slice(0,E.segments.length),H=T.slice(E.segments.length);return!!(q(E.segments,N)&&fi(E.segments,N,R)&&E.children[jt])&&Pi(E.children[jt],D,H,R)}}function fi(E,D,T){return D.every((R,N)=>xt[T](E[N].parameters,R.parameters))}class ce{constructor(D=new ue([],{}),T={},R=null){this.root=D,this.queryParams=T,this.fragment=R}get queryParamMap(){return this._queryParamMap??=Pt(this.queryParams),this._queryParamMap}toString(){return B.serialize(this)}}class ue{constructor(D,T){this.segments=D,this.children=T,this.parent=null,Object.values(T).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return se(this)}}class Y{constructor(D,T){this.path=D,this.parameters=T}get parameterMap(){return this._parameterMap??=Pt(this.parameters),this._parameterMap}toString(){return hn(this)}}function q(E,D){return E.length===D.length&&E.every((T,R)=>T.path===D[R].path)}let U=(()=>{class E{static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:()=>new W,providedIn:"root"})}return E})();class W{parse(D){const T=new pt(D);return new ce(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(D){const T=`/${Oe(D.root,!0)}`,R=function $o(E){const D=Object.entries(E).map(([T,R])=>Array.isArray(R)?R.map(N=>`${Ht(T)}=${Ht(N)}`).join("&"):`${Ht(T)}=${Ht(R)}`).filter(T=>T);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${T}${R}${"string"==typeof D.fragment?`#${function Qt(E){return encodeURI(E)}(D.fragment)}`:""}`}}const B=new W;function se(E){return E.segments.map(D=>hn(D)).join("/")}function Oe(E,D){if(!E.hasChildren())return se(E);if(D){const T=E.children[jt]?Oe(E.children[jt],!1):"",R=[];return Object.entries(E.children).forEach(([N,H])=>{N!==jt&&R.push(`${N}:${Oe(H,!1)}`)}),R.length>0?`${T}(${R.join("//")})`:T}{const T=function Q(E,D){let T=[];return Object.entries(E.children).forEach(([R,N])=>{R===jt&&(T=T.concat(D(N,R)))}),Object.entries(E.children).forEach(([R,N])=>{R!==jt&&(T=T.concat(D(N,R)))}),T}(E,(R,N)=>N===jt?[Oe(E.children[jt],!1)]:[`${N}:${Oe(R,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[jt]?`${se(E)}/${T[0]}`:`${se(E)}/(${T.join("//")})`}}function at(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ht(E){return at(E).replace(/%3B/gi,";")}function Tn(E){return at(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dt(E){return decodeURIComponent(E)}function ht(E){return Dt(E.replace(/\+/g,"%20"))}function hn(E){return`${Tn(E.path)}${function ai(E){return Object.entries(E).map(([D,T])=>`;${Tn(D)}=${Tn(T)}`).join("")}(E.parameters)}`}const Fl=/^[^\/()?;#]+/;function Ho(E){const D=E.match(Fl);return D?D[0]:""}const kn=/^[^\/()?;=#]+/,ms=/^[^=?&#]+/,he=/^[^&#]+/;class pt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(D.length>0||Object.keys(T).length>0)&&(R[jt]=new ue(D,T)),R}parseSegment(){const D=Ho(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new w.wOt(4009,!1);return this.capture(D),new Y(Dt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const T=function Ya(E){const D=E.match(kn);return D?D[0]:""}(this.remaining);if(!T)return;this.capture(T);let R="";if(this.consumeOptional("=")){const N=Ho(this.remaining);N&&(R=N,this.capture(R))}D[Dt(T)]=Dt(R)}parseQueryParam(D){const T=function Ae(E){const D=E.match(ms);return D?D[0]:""}(this.remaining);if(!T)return;this.capture(T);let R="";if(this.consumeOptional("=")){const J=function Fe(E){const D=E.match(he);return D?D[0]:""}(this.remaining);J&&(R=J,this.capture(R))}const N=ht(T),H=ht(R);if(D.hasOwnProperty(N)){let J=D[N];Array.isArray(J)||(J=[J],D[N]=J),J.push(H)}else D[N]=H}parseParens(D){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Ho(this.remaining),N=this.remaining[R.length];if("/"!==N&&")"!==N&&";"!==N)throw new w.wOt(4010,!1);let H;R.indexOf(":")>-1?(H=R.slice(0,R.indexOf(":")),this.capture(H),this.capture(":")):D&&(H=jt);const J=this.parseChildren();T[H]=1===Object.keys(J).length?J[jt]:new ue([],J),this.consumeOptional("//")}return T}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new w.wOt(4011,!1)}}function qt(E){return E.segments.length>0?new ue([],{[jt]:E}):E}function Xt(E){const D={};for(const[R,N]of Object.entries(E.children)){const H=Xt(N);if(R===jt&&0===H.segments.length&&H.hasChildren())for(const[J,De]of Object.entries(H.children))D[J]=De;else(H.segments.length>0||H.hasChildren())&&(D[R]=H)}return function cn(E){if(1===E.numberOfChildren&&E.children[jt]){const D=E.children[jt];return new ue(E.segments.concat(D.segments),D.children)}return E}(new ue(E.segments,D))}function Sn(E){return E instanceof ce}function Wt(E){let D;const N=qt(function T(H){const J={};for(const me of H.children){const mt=T(me);J[me.outlet]=mt}const De=new ue(H.url,J);return H===E&&(D=De),De}(E.root));return D??N}function _s(E,D,T,R){let N=E;for(;N.parent;)N=N.parent;if(0===D.length)return _o(N,N,N,T,R);const H=function Ul(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Vl(!0,0,E);let D=0,T=!1;const R=E.reduce((N,H,J)=>{if("object"==typeof H&&null!=H){if(H.outlets){const De={};return Object.entries(H.outlets).forEach(([me,mt])=>{De[me]="string"==typeof mt?mt.split("/"):mt}),[...N,{outlets:De}]}if(H.segmentPath)return[...N,H.segmentPath]}return"string"!=typeof H?[...N,H]:0===J?(H.split("/").forEach((De,me)=>{0==me&&"."===De||(0==me&&""===De?T=!0:".."===De?D++:""!=De&&N.push(De))}),N):[...N,H]},[]);return new Vl(T,D,R)}(D);if(H.toRoot())return _o(N,N,new ue([],{}),T,R);const J=function Qd(E,D,T){if(E.isAbsolute)return new Bl(D,!0,0);if(!T)return new Bl(D,!1,NaN);if(null===T.parent)return new Bl(T,!0,0);const R=Ls(E.commands[0])?0:1;return function Xd(E,D,T){let R=E,N=D,H=T;for(;H>N;){if(H-=N,R=R.parent,!R)throw new w.wOt(4005,!1);N=R.segments.length}return new Bl(R,!1,N-H)}(T,T.segments.length-1+R,E.numberOfDoubleDots)}(H,N,E),De=J.processChildren?Xs(J.segmentGroup,J.index,H.commands):wi(J.segmentGroup,J.index,H.commands);return _o(N,J.segmentGroup,De,T,R)}function Ls(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Wn(E){return"object"==typeof E&&null!=E&&E.outlets}function _o(E,D,T,R,N){let J,H={};R&&Object.entries(R).forEach(([me,mt])=>{H[me]=Array.isArray(mt)?mt.map($t=>`${$t}`):`${mt}`}),J=E===D?T:yo(E,D,T);const De=qt(Xt(J));return new ce(De,H,N)}function yo(E,D,T){const R={};return Object.entries(E.children).forEach(([N,H])=>{R[N]=H===D?T:yo(H,D,T)}),new ue(E.segments,R)}class Vl{constructor(D,T,R){if(this.isAbsolute=D,this.numberOfDoubleDots=T,this.commands=R,D&&R.length>0&&Ls(R[0]))throw new w.wOt(4003,!1);const N=R.find(Wn);if(N&&N!==Fi(R))throw new w.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bl{constructor(D,T,R){this.segmentGroup=D,this.processChildren=T,this.index=R}}function wi(E,D,T){if(E??=new ue([],{}),0===E.segments.length&&E.hasChildren())return Xs(E,D,T);const R=function Wo(E,D,T){let R=0,N=D;const H={match:!1,pathIndex:0,commandIndex:0};for(;N<E.segments.length;){if(R>=T.length)return H;const J=E.segments[N],De=T[R];if(Wn(De))break;const me=`${De}`,mt=R<T.length-1?T[R+1]:null;if(N>0&&void 0===me)break;if(me&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!qo(me,mt,J))return H;R+=2}else{if(!qo(me,{},J))return H;R++}N++}return{match:!0,pathIndex:N,commandIndex:R}}(E,D,T),N=T.slice(R.commandIndex);if(R.match&&R.pathIndex<E.segments.length){const H=new ue(E.segments.slice(0,R.pathIndex),{});return H.children[jt]=new ue(E.segments.slice(R.pathIndex),E.children),Xs(H,0,N)}return R.match&&0===N.length?new ue(E.segments,{}):R.match&&!E.hasChildren()?Go(E,D,T):R.match?Xs(E,0,N):Go(E,D,T)}function Xs(E,D,T){if(0===T.length)return new ue(E.segments,{});{const R=function zo(E){return Wn(E[0])?E[0].outlets:{[jt]:E}}(T),N={};if(Object.keys(R).some(H=>H!==jt)&&E.children[jt]&&1===E.numberOfChildren&&0===E.children[jt].segments.length){const H=Xs(E.children[jt],D,T);return new ue(E.segments,H.children)}return Object.entries(R).forEach(([H,J])=>{"string"==typeof J&&(J=[J]),null!==J&&(N[H]=wi(E.children[H],D,J))}),Object.entries(E.children).forEach(([H,J])=>{void 0===R[H]&&(N[H]=J)}),new ue(E.segments,N)}}function Go(E,D,T){const R=E.segments.slice(0,D);let N=0;for(;N<T.length;){const H=T[N];if(Wn(H)){const me=Qi(H.outlets);return new ue(R,me)}if(0===N&&Ls(T[0])){R.push(new Y(E.segments[D].path,dr(T[0]))),N++;continue}const J=Wn(H)?H.outlets[jt]:`${H}`,De=N<T.length-1?T[N+1]:null;J&&De&&Ls(De)?(R.push(new Y(J,dr(De))),N+=2):(R.push(new Y(J,{})),N++)}return new ue(R,{})}function Qi(E){const D={};return Object.entries(E).forEach(([T,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(D[T]=Go(new ue([],{}),0,R))}),D}function dr(E){const D={};return Object.entries(E).forEach(([T,R])=>D[T]=`${R}`),D}function qo(E,D,T){return E==T.path&&Nn(D,T.parameters)}const Gt="imperative";var Tt=function(E){return E[E.NavigationStart=0]="NavigationStart",E[E.NavigationEnd=1]="NavigationEnd",E[E.NavigationCancel=2]="NavigationCancel",E[E.NavigationError=3]="NavigationError",E[E.RoutesRecognized=4]="RoutesRecognized",E[E.ResolveStart=5]="ResolveStart",E[E.ResolveEnd=6]="ResolveEnd",E[E.GuardsCheckStart=7]="GuardsCheckStart",E[E.GuardsCheckEnd=8]="GuardsCheckEnd",E[E.RouteConfigLoadStart=9]="RouteConfigLoadStart",E[E.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",E[E.ChildActivationStart=11]="ChildActivationStart",E[E.ChildActivationEnd=12]="ChildActivationEnd",E[E.ActivationStart=13]="ActivationStart",E[E.ActivationEnd=14]="ActivationEnd",E[E.Scroll=15]="Scroll",E[E.NavigationSkipped=16]="NavigationSkipped",E}(Tt||{});class Ys{constructor(D,T){this.id=D,this.url=T}}class qr extends Ys{constructor(D,T,R="imperative",N=null){super(D,T),this.type=Tt.NavigationStart,this.navigationTrigger=R,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ys extends Ys{constructor(D,T,R){super(D,T),this.urlAfterRedirects=R,this.type=Tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Vi=function(E){return E[E.Redirect=0]="Redirect",E[E.SupersededByNewNavigation=1]="SupersededByNewNavigation",E[E.NoDataFromResolver=2]="NoDataFromResolver",E[E.GuardRejected=3]="GuardRejected",E}(Vi||{}),Sc=function(E){return E[E.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",E[E.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",E}(Sc||{});class Fs extends Ys{constructor(D,T,R,N){super(D,T),this.reason=R,this.code=N,this.type=Tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class un extends Ys{constructor(D,T,R,N){super(D,T),this.reason=R,this.code=N,this.type=Tt.NavigationSkipped}}class Xi extends Ys{constructor(D,T,R,N){super(D,T),this.error=R,this.target=N,this.type=Tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jl extends Ys{constructor(D,T,R,N){super(D,T),this.urlAfterRedirects=R,this.state=N,this.type=Tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr extends Ys{constructor(D,T,R,N){super(D,T),this.urlAfterRedirects=R,this.state=N,this.type=Tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Za extends Ys{constructor(D,T,R,N,H){super(D,T),this.urlAfterRedirects=R,this.state=N,this.shouldActivate=H,this.type=Tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ja extends Ys{constructor(D,T,R,N){super(D,T),this.urlAfterRedirects=R,this.state=N,this.type=Tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yd extends Ys{constructor(D,T,R,N){super(D,T),this.urlAfterRedirects=R,this.state=N,this.type=Tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo{constructor(D){this.route=D,this.type=Tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class el{constructor(D){this.route=D,this.type=Tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ko{constructor(D){this.snapshot=D,this.type=Tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $l{constructor(D){this.snapshot=D,this.type=Tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(D){this.snapshot=D,this.type=Tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eo{constructor(D){this.snapshot=D,this.type=Tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{}class Zs{constructor(D){this.url=D}}class Sa{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hr,this.attachRef=null}}let hr=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(T,R){const N=this.getOrCreateContext(T);N.outlet=R,this.contexts.set(T,N)}onChildOutletDestroyed(T){const R=this.getContext(T);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let R=this.getContext(T);return R||(R=new Sa,this.contexts.set(T,R)),R}getContext(T){return this.contexts.get(T)||null}static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();class Io{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const T=this.pathFromRoot(D);return T.length>1?T[T.length-2]:null}children(D){const T=Yt(D,this._root);return T?T.children.map(R=>R.value):[]}firstChild(D){const T=Yt(D,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(D){const T=Js(D,this._root);return T.length<2?[]:T[T.length-2].children.map(N=>N.value).filter(N=>N!==D)}pathFromRoot(D){return Js(D,this._root).map(T=>T.value)}}function Yt(E,D){if(E===D.value)return D;for(const T of D.children){const R=Yt(E,T);if(R)return R}return null}function Js(E,D){if(E===D.value)return[D];for(const T of D.children){const R=Js(E,T);if(R.length)return R.unshift(D),R}return[]}class Nr{constructor(D,T){this.value=D,this.children=T}toString(){return`TreeNode(${this.value})`}}function Zr(E){const D={};return E&&E.children.forEach(T=>D[T.value.outlet]=T),D}class To extends Io{constructor(D,T){super(D),this.snapshot=T,$u(this,D)}toString(){return this.snapshot.toString()}}function tl(E){const D=function wo(E){const H=new Hl([],{},{},"",{},jt,E,null,{});return new Mi("",new Nr(H,[]))}(E),T=new Te.t([new Y("",{})]),R=new Te.t({}),N=new Te.t({}),H=new Te.t({}),J=new Te.t(""),De=new pi(T,R,H,J,N,jt,E,D.root);return De.snapshot=D.root,new To(new Nr(De,[]),D)}class pi{constructor(D,T,R,N,H,J,De,me){this.urlSubject=D,this.paramsSubject=T,this.queryParamsSubject=R,this.fragmentSubject=N,this.dataSubject=H,this.outlet=J,this.component=De,this._futureSnapshot=me,this.title=this.dataSubject?.pipe((0,ot.T)(mt=>mt[vr]))??(0,ye.of)(void 0),this.url=D,this.params=T,this.queryParams=R,this.fragment=N,this.data=H}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ot.T)(D=>Pt(D))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ot.T)(D=>Pt(D))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yi(E,D,T="emptyOnly"){let R;const{routeConfig:N}=E;return R=null===D||"always"!==T&&""!==N?.path&&(D.component||D.routeConfig?.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...E._resolvedData??{}}}:{params:{...D.params,...E.params},data:{...D.data,...E.data},resolve:{...E.data,...D.data,...N?.data,...E._resolvedData}},N&&Bs(N)&&(R.resolve[vr]=N.title),R}class Hl{get title(){return this.data?.[vr]}constructor(D,T,R,N,H,J,De,me,mt){this.url=D,this.params=T,this.queryParams=R,this.fragment=N,this.data=H,this.outlet=J,this.component=De,this.routeConfig=me,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mi extends Io{constructor(D,T){super(T),this.url=D,$u(this,T)}toString(){return Us(this._root)}}function $u(E,D){D.value._routerState=E,D.children.forEach(T=>$u(E,T))}function Us(E){const D=E.children.length>0?` { ${E.children.map(Us).join(", ")} } `:"";return`${E.value}${D}`}function Rc(E){if(E.snapshot){const D=E.snapshot,T=E._futureSnapshot;E.snapshot=T,Nn(D.queryParams,T.queryParams)||E.queryParamsSubject.next(T.queryParams),D.fragment!==T.fragment&&E.fragmentSubject.next(T.fragment),Nn(D.params,T.params)||E.paramsSubject.next(T.params),function ar(E,D){if(E.length!==D.length)return!1;for(let T=0;T<E.length;++T)if(!Nn(E[T],D[T]))return!1;return!0}(D.url,T.url)||E.urlSubject.next(T.url),Nn(D.data,T.data)||E.dataSubject.next(T.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function $n(E,D){const T=Nn(E.params,D.params)&&function oe(E,D){return q(E,D)&&E.every((T,R)=>Nn(T.parameters,D[R].parameters))}(E.url,D.url);return T&&!(!E.parent!=!D.parent)&&(!E.parent||$n(E.parent,D.parent))}function Bs(E){return"string"==typeof E.title||null===E.title}let Ra=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new w.bkB,this.deactivateEvents=new w.bkB,this.attachEvents=new w.bkB,this.detachEvents=new w.bkB,this.parentContexts=(0,w.WQX)(hr),this.location=(0,w.WQX)(w.c1b),this.changeDetector=(0,w.WQX)(w.gRc),this.environmentInjector=(0,w.WQX)(w.uvJ),this.inputBinder=(0,w.WQX)(js,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:R,previousValue:N}=T.name;if(R)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,R){this.activated=T,this._activatedRoute=R,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,R){if(this.isActivated)throw new w.wOt(4013,!1);this._activatedRoute=T;const N=this.location,J=T.snapshot.component,De=this.parentContexts.getOrCreateContext(this.name).children,me=new bo(T,De,N.injector);this.activated=N.createComponent(J,{index:N.length,injector:me,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275dir=w.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.OA$]})}return E})();class bo{__ngOutletInjector(D){return new bo(this.route,this.childContexts,D)}constructor(D,T,R){this.route=D,this.childContexts=T,this.parent=R}get(D,T){return D===pi?this.route:D===hr?this.childContexts:this.parent.get(D,T)}}const js=new w.nKC("");function rl(E,D,T){if(T&&E.shouldReuseRoute(D.value,T.value.snapshot)){const R=T.value;R._futureSnapshot=D.value;const N=function Zd(E,D,T){return D.children.map(R=>{for(const N of T.children)if(E.shouldReuseRoute(R.value,N.value.snapshot))return rl(E,R,N);return rl(E,R)})}(E,D,T);return new Nr(R,N)}{if(E.shouldAttach(D.value)){const H=E.retrieve(D.value);if(null!==H){const J=H.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(De=>rl(E,De)),J}}const R=function gi(E){return new pi(new Te.t(E.url),new Te.t(E.params),new Te.t(E.queryParams),new Te.t(E.fragment),new Te.t(E.data),E.outlet,E.component,E)}(D.value),N=D.children.map(H=>rl(E,H));return new Nr(R,N)}}const Yo="ngNavigationCancelingError";function Ui(E,D){const{redirectTo:T,navigationBehaviorOptions:R}=Sn(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,N=vs(!1,Vi.Redirect);return N.url=T,N.navigationBehaviorOptions=R,N}function vs(E,D){const T=new Error(`NavigationCancelingError: ${E||""}`);return T[Yo]=!0,T.cancellationCode=D,T}function Jr(E){return!!E&&E[Yo]}let vn=(()=>{class E{static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275cmp=w.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[w.aNF],decls:1,vars:0,template:function(R,N){1&R&&w.nrm(0,"router-outlet")},dependencies:[Ra],encapsulation:2})}return E})();function Ci(E){const D=E.children&&E.children.map(Ci),T=D?{...E,children:D}:{...E};return!T.component&&!T.loadComponent&&(D||T.loadChildren)&&T.outlet&&T.outlet!==jt&&(T.component=vn),T}function as(E){return E.outlet||jt}function ws(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let D=E.parent;D;D=D.parent){const T=D.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class zl{constructor(D,T,R,N,H){this.routeReuseStrategy=D,this.futureState=T,this.currState=R,this.forwardEvent=N,this.inputBindingEnabled=H}activate(D){const T=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,R,D),Rc(this.futureState.root),this.activateChildRoutes(T,R,D)}deactivateChildRoutes(D,T,R){const N=Zr(T);D.children.forEach(H=>{const J=H.value.outlet;this.deactivateRoutes(H,N[J],R),delete N[J]}),Object.values(N).forEach(H=>{this.deactivateRouteAndItsChildren(H,R)})}deactivateRoutes(D,T,R){const N=D.value,H=T?T.value:null;if(N===H)if(N.component){const J=R.getContext(N.outlet);J&&this.deactivateChildRoutes(D,T,J.children)}else this.deactivateChildRoutes(D,T,R);else H&&this.deactivateRouteAndItsChildren(T,R)}deactivateRouteAndItsChildren(D,T){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,T):this.deactivateRouteAndOutlet(D,T)}detachAndStoreRouteSubtree(D,T){const R=T.getContext(D.value.outlet),N=R&&D.value.component?R.children:T,H=Zr(D);for(const J of Object.values(H))this.deactivateRouteAndItsChildren(J,N);if(R&&R.outlet){const J=R.outlet.detach(),De=R.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:De})}}deactivateRouteAndOutlet(D,T){const R=T.getContext(D.value.outlet),N=R&&D.value.component?R.children:T,H=Zr(D);for(const J of Object.values(H))this.deactivateRouteAndItsChildren(J,N);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(D,T,R){const N=Zr(T);D.children.forEach(H=>{this.activateRoutes(H,N[H.value.outlet],R),this.forwardEvent(new Eo(H.value.snapshot))}),D.children.length&&this.forwardEvent(new $l(D.value.snapshot))}activateRoutes(D,T,R){const N=D.value,H=T?T.value:null;if(Rc(N),N===H)if(N.component){const J=R.getOrCreateContext(N.outlet);this.activateChildRoutes(D,T,J.children)}else this.activateChildRoutes(D,T,R);else if(N.component){const J=R.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const De=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),J.children.onOutletReAttached(De.contexts),J.attachRef=De.componentRef,J.route=De.route.value,J.outlet&&J.outlet.attach(De.componentRef,De.route.value),Rc(De.route.value),this.activateChildRoutes(D,null,J.children)}else{const De=ws(N.snapshot);J.attachRef=null,J.route=N,J.injector=De,J.outlet&&J.outlet.activateWith(N,J.injector),this.activateChildRoutes(D,null,J.children)}}else this.activateChildRoutes(D,null,R)}}class zu{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class ta{constructor(D,T){this.component=D,this.route=T}}function Bi(E,D,T){const R=E._root;return to(R,D?D._root:null,T,[R.value])}function ls(E,D){const T=Symbol(),R=D.get(E,T);return R===T?"function"!=typeof E||(0,w.LfX)(E)?D.get(E):E:R}function to(E,D,T,R,N={canDeactivateChecks:[],canActivateChecks:[]}){const H=Zr(D);return E.children.forEach(J=>{(function Oa(E,D,T,R,N={canDeactivateChecks:[],canActivateChecks:[]}){const H=E.value,J=D?D.value:null,De=T?T.getContext(E.value.outlet):null;if(J&&H.routeConfig===J.routeConfig){const me=function Un(E,D,T){if("function"==typeof T)return T(E,D);switch(T){case"pathParamsChange":return!q(E.url,D.url);case"pathParamsOrQueryParamsChange":return!q(E.url,D.url)||!Nn(E.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(E,D)||!Nn(E.queryParams,D.queryParams);default:return!$n(E,D)}}(J,H,H.routeConfig.runGuardsAndResolvers);me?N.canActivateChecks.push(new zu(R)):(H.data=J.data,H._resolvedData=J._resolvedData),to(E,D,H.component?De?De.children:null:T,R,N),me&&De&&De.outlet&&De.outlet.isActivated&&N.canDeactivateChecks.push(new ta(De.outlet.component,J))}else J&&no(D,De,N),N.canActivateChecks.push(new zu(R)),to(E,null,H.component?De?De.children:null:T,R,N)})(J,H[J.value.outlet],T,R.concat([J.value]),N),delete H[J.value.outlet]}),Object.entries(H).forEach(([J,De])=>no(De,T.getContext(J),N)),N}function no(E,D,T){const R=Zr(E),N=E.value;Object.entries(R).forEach(([H,J])=>{no(J,N.component?D?D.children.getContext(H):null:D,T)}),T.canDeactivateChecks.push(new ta(N.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,N))}function Ao(E){return"function"==typeof E}function Gl(E){return E instanceof tt.G||"EmptyError"===E?.name}const Do=Symbol("INITIAL_VALUE");function na(){return(0,Me.n)(E=>it(E.map(D=>D.pipe((0,Pe.s)(1),(0,Ne.Z)(Do)))).pipe((0,ot.T)(D=>{for(const T of D)if(!0!==T){if(T===Do)return Do;if(!1===T||T instanceof ce)return T}return!0}),(0,St.p)(D=>D!==Do),(0,Pe.s)(1)))}function Wu(E){return(0,Pr.F)((0,Kt.M)(D=>{if(Sn(D))throw Ui(0,D)}),(0,ot.T)(D=>!0===D))}class ra{constructor(D){this.segmentGroup=D||null}}class So extends Error{constructor(D){super(),this.urlTree=D}}function cs(E){return nr(new ra(E))}class ia{constructor(D,T){this.urlSerializer=D,this.urlTree=T}lineralizeSegments(D,T){let R=[],N=T.root;for(;;){if(R=R.concat(N.segments),0===N.numberOfChildren)return(0,ye.of)(R);if(N.numberOfChildren>1||!N.children[jt])return nr(new w.wOt(4e3,!1));N=N.children[jt]}}applyRedirectCommands(D,T,R){const N=this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),D,R);if(T.startsWith("/"))throw new So(N);return N}applyRedirectCreateUrlTree(D,T,R,N){const H=this.createSegmentGroup(D,T.root,R,N);return new ce(H,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(D,T){const R={};return Object.entries(D).forEach(([N,H])=>{if("string"==typeof H&&H.startsWith(":")){const De=H.substring(1);R[N]=T[De]}else R[N]=H}),R}createSegmentGroup(D,T,R,N){const H=this.createSegments(D,T.segments,R,N);let J={};return Object.entries(T.children).forEach(([De,me])=>{J[De]=this.createSegmentGroup(D,me,R,N)}),new ue(H,J)}createSegments(D,T,R,N){return T.map(H=>H.path.startsWith(":")?this.findPosParam(D,H,N):this.findOrReturn(H,R))}findPosParam(D,T,R){const N=R[T.path.substring(1)];if(!N)throw new w.wOt(4001,!1);return N}findOrReturn(D,T){let R=0;for(const N of T){if(N.path===D.path)return T.splice(R),N;R++}return D}}const sa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fc(E,D,T,R,N){const H=Xl(E,D,T);return H.matched?(R=function Co(E,D){return E.providers&&!E._injector&&(E._injector=(0,w.Ol2)(E.providers,D,`Route: ${E.path}`)),E._injector??D}(D,R),function Lc(E,D,T,R){const N=D.canMatch;if(!N||0===N.length)return(0,ye.of)(!0);const H=N.map(J=>{const De=ls(J,E);return Mt(function kc(E){return E&&Ao(E.canMatch)}(De)?De.canMatch(D,T):(0,w.N4e)(E,()=>De(D,T)))});return(0,ye.of)(H).pipe(na(),Wu())}(R,D,T).pipe((0,ot.T)(J=>!0===J?H:{...sa}))):(0,ye.of)(H)}function Xl(E,D,T){if("**"===D.path)return function ka(E){return{matched:!0,parameters:E.length>0?Fi(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(T);if(""===D.path)return"full"===D.pathMatch&&(E.hasChildren()||T.length>0)?{...sa}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const N=(D.matcher||Er)(T,E,D);if(!N)return{...sa};const H={};Object.entries(N.posParams??{}).forEach(([De,me])=>{H[De]=me.path});const J=N.consumed.length>0?{...H,...N.consumed[N.consumed.length-1].parameters}:H;return{matched:!0,consumedSegments:N.consumed,remainingSegments:T.slice(N.consumed.length),parameters:J,positionalParamSegments:N.posParams??{}}}function ro(E,D,T,R){return T.length>0&&function Yl(E,D,T){return T.some(R=>oa(E,D,R)&&as(R)!==jt)}(E,T,R)?{segmentGroup:new ue(D,io(R,new ue(T,E.children))),slicedSegments:[]}:0===T.length&&function al(E,D,T){return T.some(R=>oa(E,D,R))}(E,T,R)?{segmentGroup:new ue(E.segments,Gu(E,T,R,E.children)),slicedSegments:T}:{segmentGroup:new ue(E.segments,E.children),slicedSegments:T}}function Gu(E,D,T,R){const N={};for(const H of T)if(oa(E,D,H)&&!R[as(H)]){const J=new ue([],{});N[as(H)]=J}return{...R,...N}}function io(E,D){const T={};T[jt]=D;for(const R of E)if(""===R.path&&as(R)!==jt){const N=new ue([],{});T[as(R)]=N}return T}function oa(E,D,T){return(!(E.hasChildren()||D.length>0)||"full"!==T.pathMatch)&&""===T.path}class Zi{}class qu{constructor(D,T,R,N,H,J,De){this.injector=D,this.configLoader=T,this.rootComponentType=R,this.config=N,this.urlTree=H,this.paramsInheritanceStrategy=J,this.urlSerializer=De,this.applyRedirects=new ia(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(D){return new w.wOt(4002,`'${D.segmentGroup}'`)}recognize(){const D=ro(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,ot.T)(T=>{const R=new Hl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),N=new Nr(R,T),H=new Mi("",N),J=function Xn(E,D,T=null,R=null){return _s(Wt(E),D,T,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return J.queryParams=this.urlTree.queryParams,H.url=this.urlSerializer.serialize(J),this.inheritParamsAndData(H._root,null),{state:H,tree:J}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D,jt).pipe(jn(R=>{if(R instanceof So)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof ra?this.noMatchError(R):R}))}inheritParamsAndData(D,T){const R=D.value,N=Yi(R,T,this.paramsInheritanceStrategy);R.params=Object.freeze(N.params),R.data=Object.freeze(N.data),D.children.forEach(H=>this.inheritParamsAndData(H,R))}processSegmentGroup(D,T,R,N){return 0===R.segments.length&&R.hasChildren()?this.processChildren(D,T,R):this.processSegment(D,T,R,R.segments,N,!0).pipe((0,ot.T)(H=>H instanceof Nr?[H]:[]))}processChildren(D,T,R){const N=[];for(const H of Object.keys(R.children))"primary"===H?N.unshift(H):N.push(H);return(0,_e.H)(N).pipe((0,Rt.H)(H=>{const J=R.children[H],De=function Ts(E,D){const T=E.filter(R=>as(R)===D);return T.push(...E.filter(R=>as(R)!==D)),T}(T,H);return this.processSegmentGroup(D,De,J,H)}),(0,Cn.S)((H,J)=>(H.push(...J),H)),(0,ur.U)(null),function Qn(E,D){const T=arguments.length>=2;return R=>R.pipe(E?(0,St.p)((N,H)=>E(N,H,R)):ut.D,or(1),T?(0,ur.U)(D):(0,Gr.v)(()=>new tt.G))}(),(0,zt.Z)(H=>{if(null===H)return cs(R);const J=Po(H);return function Zl(E){E.sort((D,T)=>D.value.outlet===jt?-1:T.value.outlet===jt?1:D.value.outlet.localeCompare(T.value.outlet))}(J),(0,ye.of)(J)}))}processSegment(D,T,R,N,H,J){return(0,_e.H)(T).pipe((0,Rt.H)(De=>this.processSegmentAgainstRoute(De._injector??D,T,De,R,N,H,J).pipe(jn(me=>{if(me instanceof ra)return(0,ye.of)(null);throw me}))),(0,wn.$)(De=>!!De),jn(De=>{if(Gl(De))return function wr(E,D,T){return 0===D.length&&!E.children[T]}(R,N,H)?(0,ye.of)(new Zi):cs(R);throw De}))}processSegmentAgainstRoute(D,T,R,N,H,J,De){return function Ro(E,D,T,R){return!!(as(E)===R||R!==jt&&oa(D,T,E))&&Xl(D,E,T).matched}(R,N,H,J)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(D,N,R,H,J):this.allowRedirects&&De?this.expandSegmentAgainstRouteUsingRedirect(D,N,T,R,H,J):cs(N):cs(N)}expandSegmentAgainstRouteUsingRedirect(D,T,R,N,H,J){const{matched:De,consumedSegments:me,positionalParamSegments:mt,remainingSegments:$t}=Xl(T,N,H);if(!De)return cs(T);N.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _n=this.applyRedirects.applyRedirectCommands(me,N.redirectTo,mt);return this.applyRedirects.lineralizeSegments(N,_n).pipe((0,zt.Z)(pr=>this.processSegment(D,R,T,pr.concat($t),J,!1)))}matchSegmentAgainstRoute(D,T,R,N,H){const J=Fc(T,R,N,D);return"**"===R.path&&(T.children={}),J.pipe((0,Me.n)(De=>De.matched?this.getChildConfig(D=R._injector??D,R,N).pipe((0,Me.n)(({routes:me})=>{const mt=R._loadedInjector??D,{consumedSegments:$t,remainingSegments:_n,parameters:pr}=De,Gs=new Hl($t,pr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ll(E){return E.data||{}}(R),as(R),R.component??R._loadedComponent??null,R,function La(E){return E.resolve||{}}(R)),{segmentGroup:ca,slicedSegments:zc}=ro(T,$t,_n,me);if(0===zc.length&&ca.hasChildren())return this.processChildren(mt,me,ca).pipe((0,ot.T)(ua=>null===ua?null:new Nr(Gs,ua)));if(0===me.length&&0===zc.length)return(0,ye.of)(new Nr(Gs,[]));const Fn=as(R)===H;return this.processSegment(mt,me,ca,zc,Fn?jt:H,!0).pipe((0,ot.T)(ua=>new Nr(Gs,ua instanceof Nr?[ua]:[])))})):cs(T)))}getChildConfig(D,T,R){return T.children?(0,ye.of)({routes:T.children,injector:D}):T.loadChildren?void 0!==T._loadedRoutes?(0,ye.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function $s(E,D,T,R){const N=D.canLoad;if(void 0===N||0===N.length)return(0,ye.of)(!0);const H=N.map(J=>{const De=ls(J,E);return Mt(function Oc(E){return E&&Ao(E.canLoad)}(De)?De.canLoad(D,T):(0,w.N4e)(E,()=>De(D,T)))});return(0,ye.of)(H).pipe(na(),Wu())}(D,T,R).pipe((0,zt.Z)(N=>N?this.configLoader.loadChildren(D,T).pipe((0,Kt.M)(H=>{T._loadedRoutes=H.routes,T._loadedInjector=H.injector})):function Ql(E){return nr(vs(!1,Vi.GuardRejected))}())):(0,ye.of)({routes:[],injector:D})}}function aa(E){const D=E.value.routeConfig;return D&&""===D.path}function Po(E){const D=[],T=new Set;for(const R of E){if(!aa(R)){D.push(R);continue}const N=D.find(H=>R.value.routeConfig===H.value.routeConfig);void 0!==N?(N.children.push(...R.children),T.add(N)):D.push(R)}for(const R of T){const N=Po(R.children);D.push(new Nr(R.value,N))}return D.filter(R=>!T.has(R))}function bs(E){const D=E.children.map(T=>bs(T)).flat();return[E,...D]}function k(E){return(0,Me.n)(D=>{const T=E(D);return T?(0,_e.H)(T).pipe((0,ot.T)(()=>D)):(0,ye.of)(D)})}let Z=(()=>{class E{buildTitle(T){let R,N=T.root;for(;void 0!==N;)R=this.getResolvedTitleForRoute(N)??R,N=N.children.find(H=>H.outlet===jt);return R}getResolvedTitleForRoute(T){return T.data[vr]}static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:()=>(0,w.WQX)(Ce),providedIn:"root"})}return E})(),Ce=(()=>{class E extends Z{constructor(T){super(),this.title=T}updateTitle(T){const R=this.buildTitle(T);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||E)(w.KVO(gs.hE))};static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const je=new w.nKC("",{providedIn:"root",factory:()=>({})}),bt=new w.nKC("");let ir=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.WQX)(w.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,ye.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const R=Mt(T.loadComponent()).pipe((0,ot.T)(mn),(0,Kt.M)(H=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=H}),(0,ct.j)(()=>{this.componentLoaders.delete(T)})),N=new Ie(R,()=>new Ee.B).pipe(Mr());return this.componentLoaders.set(T,N),N}loadChildren(T,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,ye.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const H=function dt(E,D,T,R){return Mt(E.loadChildren()).pipe((0,ot.T)(mn),(0,zt.Z)(N=>N instanceof w.Co$||Array.isArray(N)?(0,ye.of)(N):(0,_e.H)(D.compileModuleAsync(N))),(0,ot.T)(N=>{R&&R(E);let H,J,De=!1;return Array.isArray(N)?(J=N,!0):(H=N.create(T).injector,J=H.get(bt,[],{optional:!0,self:!0}).flat()),{routes:J.map(Ci),injector:H}}))}(R,this.compiler,T,this.onLoadEndListener).pipe((0,ct.j)(()=>{this.childrenLoaders.delete(R)})),J=new Ie(H,()=>new Ee.B).pipe(Mr());return this.childrenLoaders.set(R,J),J}static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function mn(E){return function Yn(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let fr=(()=>{class E{static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:()=>(0,w.WQX)(Bn),providedIn:"root"})}return E})(),Bn=(()=>{class E{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,R){return T}static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const kr=new w.nKC("");let Rn=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee.B,this.transitionAbortSubject=new Ee.B,this.configLoader=(0,w.WQX)(ir),this.environmentInjector=(0,w.WQX)(w.uvJ),this.urlSerializer=(0,w.WQX)(U),this.rootContexts=(0,w.WQX)(hr),this.location=(0,w.WQX)(xe.aZ),this.inputBindingEnabled=null!==(0,w.WQX)(js,{optional:!0}),this.titleStrategy=(0,w.WQX)(Z),this.options=(0,w.WQX)(je,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,w.WQX)(fr),this.createViewTransition=(0,w.WQX)(kr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new el(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new vo(N))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:R})}setupNavigations(T,R,N){return this.transitions=new Te.t({id:0,currentUrlTree:R,currentRawUrl:R,extractedUrl:this.urlHandlingStrategy.extract(R),urlAfterRedirects:this.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gt,restoredState:null,currentSnapshot:N.snapshot,targetSnapshot:null,currentRouterState:N,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,St.p)(H=>0!==H.id),(0,ot.T)(H=>({...H,extractedUrl:this.urlHandlingStrategy.extract(H.rawUrl)})),(0,Me.n)(H=>{let J=!1,De=!1;return(0,ye.of)(H).pipe((0,Me.n)(me=>{if(this.navigationId>H.id)return this.cancelNavigationTransition(H,"",Vi.SupersededByNewNavigation),cr.w;this.currentTransition=H,this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const mt=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!mt&&"reload"!==(me.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const _n="";return this.events.next(new un(me.id,this.urlSerializer.serialize(me.rawUrl),_n,Sc.IgnoredSameUrlNavigation)),me.resolve(null),cr.w}if(this.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return(0,ye.of)(me).pipe((0,Me.n)(_n=>{const pr=this.transitions?.getValue();return this.events.next(new qr(_n.id,this.urlSerializer.serialize(_n.extractedUrl),_n.source,_n.restoredState)),pr!==this.transitions?.getValue()?cr.w:Promise.resolve(_n)}),function so(E,D,T,R,N,H){return(0,zt.Z)(J=>function Vc(E,D,T,R,N,H,J="emptyOnly"){return new qu(E,D,T,R,N,J,H).recognize()}(E,D,T,R,J.extractedUrl,N,H).pipe((0,ot.T)(({state:De,tree:me})=>({...J,targetSnapshot:De,urlAfterRedirects:me}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Kt.M)(_n=>{H.targetSnapshot=_n.targetSnapshot,H.urlAfterRedirects=_n.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_n.urlAfterRedirects};const pr=new jl(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(pr)}));if(mt&&this.urlHandlingStrategy.shouldProcessUrl(me.currentRawUrl)){const{id:_n,extractedUrl:pr,source:Gs,restoredState:ca,extras:zc}=me,Fn=new qr(_n,this.urlSerializer.serialize(pr),Gs,ca);this.events.next(Fn);const ua=tl(this.rootComponentType).snapshot;return this.currentTransition=H={...me,targetSnapshot:ua,urlAfterRedirects:pr,extras:{...zc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=pr,(0,ye.of)(H)}{const _n="";return this.events.next(new un(me.id,this.urlSerializer.serialize(me.extractedUrl),_n,Sc.IgnoredByUrlHandlingStrategy)),me.resolve(null),cr.w}}),(0,Kt.M)(me=>{const mt=new Yr(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot);this.events.next(mt)}),(0,ot.T)(me=>(this.currentTransition=H={...me,guards:Bi(me.targetSnapshot,me.currentSnapshot,this.rootContexts)},H)),function xa(E,D){return(0,zt.Z)(T=>{const{targetSnapshot:R,currentSnapshot:N,guards:{canActivateChecks:H,canDeactivateChecks:J}}=T;return 0===J.length&&0===H.length?(0,ye.of)({...T,guardsResult:!0}):function on(E,D,T,R){return(0,_e.H)(E).pipe((0,zt.Z)(N=>function ql(E,D,T,R,N){const H=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,ye.of)(!0);const J=H.map(De=>{const me=ws(D)??N,mt=ls(De,me);return Mt(function xc(E){return E&&Ao(E.canDeactivate)}(mt)?mt.canDeactivate(E,D,T,R):(0,w.N4e)(me,()=>mt(E,D,T,R))).pipe((0,wn.$)())});return(0,ye.of)(J).pipe(na())}(N.component,N.route,T,D,R)),(0,wn.$)(N=>!0!==N,!0))}(J,R,N,E).pipe((0,zt.Z)(De=>De&&function sl(E){return"boolean"==typeof E}(De)?function xr(E,D,T,R){return(0,_e.H)(D).pipe((0,Rt.H)(N=>(0,we.x)(function Ai(E,D){return null!==E&&D&&D(new Ko(E)),(0,ye.of)(!0)}(N.route.parent,R),function Tr(E,D){return null!==E&&D&&D(new Qo(E)),(0,ye.of)(!0)}(N.route,R),function ol(E,D,T){const R=D[D.length-1],H=D.slice(0,D.length-1).reverse().map(J=>function Wl(E){const D=E.routeConfig?E.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:E,guards:D}:null}(J)).filter(J=>null!==J).map(J=>Vt(()=>{const De=J.guards.map(me=>{const mt=ws(J.node)??T,$t=ls(me,mt);return Mt(function Na(E){return E&&Ao(E.canActivateChild)}($t)?$t.canActivateChild(R,E):(0,w.N4e)(mt,()=>$t(R,E))).pipe((0,wn.$)())});return(0,ye.of)(De).pipe(na())}));return(0,ye.of)(H).pipe(na())}(E,N.path,T),function li(E,D,T){const R=D.routeConfig?D.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ye.of)(!0);const N=R.map(H=>Vt(()=>{const J=ws(D)??T,De=ls(H,J);return Mt(function Nc(E){return E&&Ao(E.canActivate)}(De)?De.canActivate(D,E):(0,w.N4e)(J,()=>De(D,E))).pipe((0,wn.$)())}));return(0,ye.of)(N).pipe(na())}(E,N.route,T))),(0,wn.$)(N=>!0!==N,!0))}(R,H,E,D):(0,ye.of)(De)),(0,ot.T)(De=>({...T,guardsResult:De})))})}(this.environmentInjector,me=>this.events.next(me)),(0,Kt.M)(me=>{if(H.guardsResult=me.guardsResult,Sn(me.guardsResult))throw Ui(0,me.guardsResult);const mt=new Za(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.events.next(mt)}),(0,St.p)(me=>!!me.guardsResult||(this.cancelNavigationTransition(me,"",Vi.GuardRejected),!1)),k(me=>{if(me.guards.canActivateChecks.length)return(0,ye.of)(me).pipe((0,Kt.M)(mt=>{const $t=new Ja(mt.id,this.urlSerializer.serialize(mt.extractedUrl),this.urlSerializer.serialize(mt.urlAfterRedirects),mt.targetSnapshot);this.events.next($t)}),(0,Me.n)(mt=>{let $t=!1;return(0,ye.of)(mt).pipe(function Bc(E,D){return(0,zt.Z)(T=>{const{targetSnapshot:R,guards:{canActivateChecks:N}}=T;if(!N.length)return(0,ye.of)(T);const H=new Set(N.map(me=>me.route)),J=new Set;for(const me of H)if(!J.has(me))for(const mt of bs(me))J.add(mt);let De=0;return(0,_e.H)(J).pipe((0,Rt.H)(me=>H.has(me)?function A(E,D,T,R){const N=E.routeConfig,H=E._resolve;return void 0!==N?.title&&!Bs(N)&&(H[vr]=N.title),function V(E,D,T,R){const N=Or(E);if(0===N.length)return(0,ye.of)({});const H={};return(0,_e.H)(N).pipe((0,zt.Z)(J=>function P(E,D,T,R){const N=ws(D)??R,H=ls(E,N);return Mt(H.resolve?H.resolve(D,T):(0,w.N4e)(N,()=>H(D,T)))}(E[J],D,T,R).pipe((0,wn.$)(),(0,Kt.M)(De=>{H[J]=De}))),or(1),function jr(E){return(0,ot.T)(()=>E)}(H),jn(J=>Gl(J)?cr.w:nr(J)))}(H,E,D,R).pipe((0,ot.T)(J=>(E._resolvedData=J,E.data=Yi(E,E.parent,T).resolve,null)))}(me,R,E,D):(me.data=Yi(me,me.parent,E).resolve,(0,ye.of)(void 0))),(0,Kt.M)(()=>De++),or(1),(0,zt.Z)(me=>De===J.size?(0,ye.of)(T):cr.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Kt.M)({next:()=>$t=!0,complete:()=>{$t||this.cancelNavigationTransition(mt,"",Vi.NoDataFromResolver)}}))}),(0,Kt.M)(mt=>{const $t=new Yd(mt.id,this.urlSerializer.serialize(mt.extractedUrl),this.urlSerializer.serialize(mt.urlAfterRedirects),mt.targetSnapshot);this.events.next($t)}))}),k(me=>{const mt=$t=>{const _n=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&_n.push(this.configLoader.loadComponent($t.routeConfig).pipe((0,Kt.M)(pr=>{$t.component=pr}),(0,ot.T)(()=>{})));for(const pr of $t.children)_n.push(...mt(pr));return _n};return it(mt(me.targetSnapshot.root)).pipe((0,ur.U)(null),(0,Pe.s)(1))}),k(()=>this.afterPreactivation()),(0,Me.n)(()=>{const{currentSnapshot:me,targetSnapshot:mt}=H,$t=this.createViewTransition?.(this.environmentInjector,me.root,mt.root);return $t?(0,_e.H)($t).pipe((0,ot.T)(()=>H)):(0,ye.of)(H)}),(0,ot.T)(me=>{const mt=function eo(E,D,T){const R=rl(E,D._root,T?T._root:void 0);return new To(R,D)}(T.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return this.currentTransition=H={...me,targetRouterState:mt},this.currentNavigation.targetRouterState=mt,H}),(0,Kt.M)(()=>{this.events.next(new Vs)}),((E,D,T,R)=>(0,ot.T)(N=>(new zl(D,N.targetRouterState,N.currentRouterState,T,R).activate(E),N)))(this.rootContexts,T.routeReuseStrategy,me=>this.events.next(me),this.inputBindingEnabled),(0,Pe.s)(1),(0,Kt.M)({next:me=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ys(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects))),this.titleStrategy?.updateTitle(me.targetRouterState.snapshot),me.resolve(!0)},complete:()=>{J=!0}}),function rr(E){return(0,Wr.N)((D,T)=>{(0,Zt.Tg)(E).subscribe((0,ze._)(T,()=>T.complete(),si.l)),!T.closed&&D.subscribe(T)})}(this.transitionAbortSubject.pipe((0,Kt.M)(me=>{throw me}))),(0,ct.j)(()=>{!J&&!De&&this.cancelNavigationTransition(H,"",Vi.SupersededByNewNavigation),this.currentTransition?.id===H.id&&(this.currentNavigation=null,this.currentTransition=null)}),jn(me=>{if(De=!0,Jr(me))this.events.next(new Fs(H.id,this.urlSerializer.serialize(H.extractedUrl),me.message,me.cancellationCode)),function Zo(E){return Jr(E)&&Sn(E.url)}(me)?this.events.next(new Zs(me.url)):H.resolve(!1);else{this.events.next(new Xi(H.id,this.urlSerializer.serialize(H.extractedUrl),me,H.targetSnapshot??void 0));try{H.resolve(T.errorHandler(me))}catch(mt){this.options.resolveNavigationPromiseOnError?H.resolve(!1):H.reject(mt)}}return cr.w}))}))}cancelNavigationTransition(T,R,N){const H=new Fs(T.id,this.urlSerializer.serialize(T.extractedUrl),R,N);this.events.next(H),T.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function br(E){return E!==Gt}let Gn=(()=>{class E{static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:()=>(0,w.WQX)(oo),providedIn:"root"})}return E})();class Kr{shouldDetach(D){return!1}store(D,T){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,T){return D.routeConfig===T.routeConfig}}let oo=(()=>{class E extends Kr{static#e=this.\u0275fac=(()=>{let T;return function(N){return(T||(T=w.xGo(E)))(N||E)}})();static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),lr=(()=>{class E{static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:()=>(0,w.WQX)(mi),providedIn:"root"})}return E})(),mi=(()=>{class E extends lr{constructor(){super(...arguments),this.location=(0,w.WQX)(xe.aZ),this.urlSerializer=(0,w.WQX)(U),this.options=(0,w.WQX)(je,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,w.WQX)(fr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ce,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(R=>{"popstate"===R.type&&T(R.url,R.state)})}handleRouterEvent(T,R){if(T instanceof qr)this.stateMemento=this.createStateMemento();else if(T instanceof un)this.rawUrlTree=R.initialUrl;else if(T instanceof jl){if("eager"===this.urlUpdateStrategy&&!R.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl);this.setBrowserUrl(N,R)}}else T instanceof Vs?(this.currentUrlTree=R.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R))):T instanceof Fs&&(T.code===Vi.GuardRejected||T.code===Vi.NoDataFromResolver)?this.restoreHistory(R):T instanceof Xi?this.restoreHistory(R,!0):T instanceof ys&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,R){const N=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(N)||R.extras.replaceUrl){const J={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(N,"",J)}else{const H={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(N,"",H)}}restoreHistory(T,R=!1){if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-this.browserPageId;0!==H?this.location.historyGo(H):this.currentUrlTree===T.finalUrl&&0===H&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,R){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:R}:{navigationId:T}}static#e=this.\u0275fac=(()=>{let T;return function(N){return(T||(T=w.xGo(E)))(N||E)}})();static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();var qn=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(qn||{});function cl(E){throw E}const Ku={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class E{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,w.WQX)(w.H3F),this.stateManager=(0,w.WQX)(lr),this.options=(0,w.WQX)(je,{optional:!0})||{},this.pendingTasks=(0,w.WQX)(w.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,w.WQX)(Rn),this.urlSerializer=(0,w.WQX)(U),this.location=(0,w.WQX)(xe.aZ),this.urlHandlingStrategy=(0,w.WQX)(fr),this._events=new Ee.B,this.errorHandler=this.options.errorHandler||cl,this.navigated=!1,this.routeReuseStrategy=(0,w.WQX)(Gn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,w.WQX)(bt,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,w.WQX)(js,{optional:!0}),this.eventsSubscription=new yr.yU,this.isNgZoneEnabled=(0,w.WQX)(w.SKi)instanceof w.SKi&&w.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:T=>{this.console.warn(T)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(R=>{try{const N=this.navigationTransitions.currentTransition,H=this.navigationTransitions.currentNavigation;if(null!==N&&null!==H)if(this.stateManager.handleRouterEvent(R,H),R instanceof Fs&&R.code!==Vi.Redirect&&R.code!==Vi.SupersededByNewNavigation)this.navigated=!0;else if(R instanceof ys)this.navigated=!0;else if(R instanceof Zs){const J=this.urlHandlingStrategy.merge(R.url,N.currentRawUrl),De={info:N.extras.info,skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||br(N.source)};this.scheduleNavigation(J,Gt,null,De,{resolve:N.resolve,reject:N.reject,promise:N.promise})}(function ul(E){return!(E instanceof Vs||E instanceof Zs)})(R)&&this._events.next(R)}catch(N){this.navigationTransitions.transitionAbortSubject.next(N)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((T,R)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(T,"popstate",R)},0)})}navigateToSyncWithBrowser(T,R,N){const H={replaceUrl:!0},J=N?.navigationId?N:null;if(N){const me={...N};delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(H.state=me)}const De=this.parseUrl(T);this.scheduleNavigation(De,R,J,H)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Ci),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,R={}){const{relativeTo:N,queryParams:H,fragment:J,queryParamsHandling:De,preserveFragment:me}=R,mt=me?this.currentUrlTree.fragment:J;let _n,$t=null;switch(De){case"merge":$t={...this.currentUrlTree.queryParams,...H};break;case"preserve":$t=this.currentUrlTree.queryParams;break;default:$t=H||null}null!==$t&&($t=this.removeEmptyProps($t));try{_n=Wt(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),_n=this.currentUrlTree.root}return _s(_n,T,$t,mt??null)}navigateByUrl(T,R={skipLocationChange:!1}){const N=Sn(T)?T:this.parseUrl(T),H=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(H,Gt,null,R)}navigate(T,R={skipLocationChange:!1}){return function Mo(E){for(let D=0;D<E.length;D++)if(null==E[D])throw new w.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,R),R)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,R){let N;if(N=!0===R?{...Ku}:!1===R?{...Jl}:R,Sn(T))return gn(this.currentUrlTree,T,N);const H=this.parseUrl(T);return gn(this.currentUrlTree,H,N)}removeEmptyProps(T){return Object.entries(T).reduce((R,[N,H])=>(null!=H&&(R[N]=H),R),{})}scheduleNavigation(T,R,N,H,J){if(this.disposed)return Promise.resolve(!1);let De,me,mt;J?(De=J.resolve,me=J.reject,mt=J.promise):mt=new Promise((_n,pr)=>{De=_n,me=pr});const $t=this.pendingTasks.add();return function Jt(E,D){E.events.pipe((0,St.p)(T=>T instanceof ys||T instanceof Fs||T instanceof Xi||T instanceof un),(0,ot.T)(T=>T instanceof ys||T instanceof un?qn.COMPLETE:T instanceof Fs&&(T.code===Vi.Redirect||T.code===Vi.SupersededByNewNavigation)?qn.REDIRECTING:qn.FAILED),(0,St.p)(T=>T!==qn.REDIRECTING),(0,Pe.s)(1)).subscribe(()=>{D()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($t))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:H,resolve:De,reject:me,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(_n=>Promise.reject(_n))}static#e=this.\u0275fac=function(R){return new(R||E)};static#t=this.\u0275prov=w.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),Cs=(()=>{class E{constructor(T,R,N,H,J,De){this.router=T,this.route=R,this.tabIndexAttribute=N,this.renderer=H,this.el=J,this.locationStrategy=De,this.href=null,this.commands=null,this.onChanges=new Ee.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const me=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===me||"area"===me,this.isAnchorElement?this.subscription=T.events.subscribe(mt=>{mt instanceof ys&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,R,N,H,J){const De=this.urlTree;return!!(null===De||this.isAnchorElement&&(0!==T||R||N||H||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(De,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const T=this.urlTree;this.href=null!==T&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(T)):null;const R=null===this.href?null:(0,w.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(T,R){const N=this.renderer,H=this.el.nativeElement;null!==R?N.setAttribute(H,T,R):N.removeAttribute(H,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||E)(w.rXU(Pn),w.rXU(pi),w.kS0("tabindex"),w.rXU(w.sFG),w.rXU(w.aKT),w.rXU(xe.hb))};static#t=this.\u0275dir=w.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,N){1&R&&w.bIt("click",function(J){return N.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&R&&w.BMQ("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[w.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",w.L39],skipLocationChange:[w.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",w.L39],replaceUrl:[w.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",w.L39],routerLink:"routerLink"},standalone:!0,features:[w.GFd,w.OA$]})}return E})();const zs=new w.nKC("");function Oi(E,...D){return(0,w.EmA)([{provide:bt,multi:!0,useValue:E},[],{provide:pi,useFactory:Cr,deps:[Pn]},{provide:w.iLQ,multi:!0,useFactory:No},D.map(T=>T.\u0275providers)])}function Cr(E){return E.routerState.root}function No(){const E=(0,w.WQX)(w.zZn);return D=>{const T=E.get(w.o8S);if(D!==T.components[0])return;const R=E.get(Pn),N=E.get(As);1===E.get(la)&&R.initialNavigation(),E.get(tc,null,w.$GK.Optional)?.setUpPreloading(),E.get(zs,null,w.$GK.Optional)?.init(),R.resetRootComponentType(T.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const As=new w.nKC("",{factory:()=>new Ee.B}),la=new w.nKC("",{providedIn:"root",factory:()=>1}),tc=new w.nKC("")},3345:(Nt,Be,G)=>{G.d(Be,{A:()=>ut});var w=G(1076),h=G(1362),j=G(7852),le=G(8041);class _e{constructor(wt,It){this._delegate=wt,this.firebase=It,(0,j._addComponent)(wt,new h.uA("app-compat",()=>this,"PUBLIC")),this.container=wt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this._delegate.automaticDataCollectionEnabled=wt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(wt=>{this._delegate.checkDestroyed(),wt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(wt,It=j._DEFAULT_ENTRY_NAME){var pn;this._delegate.checkDestroyed();const En=this._delegate.container.getProvider(wt);return!En.isInitialized()&&"EXPLICIT"===(null===(pn=En.getComponent())||void 0===pn?void 0:pn.instantiationMode)&&En.initialize(),En.getImmediate({identifier:It})}_removeServiceInstance(wt,It=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(wt).clearInstance(It)}_addComponent(wt){(0,j._addComponent)(this._delegate,wt)}_addOrOverwriteComponent(wt){(0,j._addOrOverwriteComponent)(this._delegate,wt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new w.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function He(){const ot=function tt(ot){const wt={},It={__esModule:!0,initializeApp:function Xe(lt,Et={}){const we=j.initializeApp(lt,Et);if((0,w.gR)(wt,we.name))return wt[we.name];const Zt=new ot(we,It);return wt[we.name]=Zt,Zt},app:En,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Je(lt){const Et=lt.name,we=Et.replace("-compat","");if(j._registerComponent(lt)&&"PUBLIC"===lt.type){const Zt=(Vt=En())=>{if("function"!=typeof Vt[we])throw Te.create("invalid-app-argument",{appName:Et});return Vt[we]()};void 0!==lt.serviceProps&&(0,w.zw)(Zt,lt.serviceProps),It[we]=Zt,ot.prototype[we]=function(...Vt){return this._getService.bind(this,Et).apply(this,lt.multipleInstances?Vt:[])}}return"PUBLIC"===lt.type?It[we]:null},removeApp:function pn(lt){delete wt[lt]},useAsService:function it(lt,Et){return"serverAuth"===Et?null:Et},modularAPIs:j}};function En(lt){if(!(0,w.gR)(wt,lt=lt||j._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:lt});return wt[lt]}return It.default=It,Object.defineProperty(It,"apps",{get:function ze(){return Object.keys(wt).map(lt=>wt[lt])}}),En.App=ot,It}(_e);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function wt(It){(0,w.zw)(ot,It)},createSubscribe:w.tD,ErrorFactory:w.FA,deepExtend:w.zw}),ot}(),ne=new le.Vy("@firebase/app-compat");if((0,w.Bd)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=ie;!function We(ot){(0,j.registerVersion)("@firebase/app-compat","0.2.32",ot)}()},7852:(Nt,Be,G)=>{G.r(Be),G.d(Be,{FirebaseError:()=>le.g,SDK_VERSION:()=>Ti,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>ar,_addOrOverwriteComponent:()=>Nn,_apps:()=>Ke,_clearComponents:()=>xt,_components:()=>Er,_getProvider:()=>xn,_isFirebaseApp:()=>Mt,_isFirebaseServerApp:()=>hi,_registerComponent:()=>Or,_removeServiceInstance:()=>Fi,_serverApps:()=>Pt,deleteApp:()=>Y,getApp:()=>ce,getApps:()=>ue,initializeApp:()=>Pi,initializeServerApp:()=>fi,onLog:()=>Q,registerVersion:()=>q,setLogLevel:()=>U});var w=G(467),h=G(1362),j=G(8041),le=G(1076);const _e=(Ae,he)=>he.some(Fe=>Ae instanceof Fe);let ye,Te;const ie=new WeakMap,ne=new WeakMap,be=new WeakMap,Ze=new WeakMap,We=new WeakMap;let wt={get(Ae,he,Fe){if(Ae instanceof IDBTransaction){if("done"===he)return ne.get(Ae);if("objectStoreNames"===he)return Ae.objectStoreNames||be.get(Ae);if("store"===he)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return Xe(Ae[he])},set:(Ae,he,Fe)=>(Ae[he]=Fe,!0),has:(Ae,he)=>Ae instanceof IDBTransaction&&("done"===he||"store"===he)||he in Ae};function En(Ae){return"function"==typeof Ae?function pn(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...he){return Ae.apply(ze(this),he),Xe(ie.get(this))}:function(...he){return Xe(Ae.apply(ze(this),he))}:function(he,...Fe){const pt=Ae.call(ze(this),he,...Fe);return be.set(pt,he.sort?he.sort():[he]),Xe(pt)}}(Ae):(Ae instanceof IDBTransaction&&function ot(Ae){if(ne.has(Ae))return;const he=new Promise((Fe,pt)=>{const qt=()=>{Ae.removeEventListener("complete",Xt),Ae.removeEventListener("error",cn),Ae.removeEventListener("abort",cn)},Xt=()=>{Fe(),qt()},cn=()=>{pt(Ae.error||new DOMException("AbortError","AbortError")),qt()};Ae.addEventListener("complete",Xt),Ae.addEventListener("error",cn),Ae.addEventListener("abort",cn)});ne.set(Ae,he)}(Ae),_e(Ae,function tt(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,wt):Ae)}function Xe(Ae){if(Ae instanceof IDBRequest)return function ut(Ae){const he=new Promise((Fe,pt)=>{const qt=()=>{Ae.removeEventListener("success",Xt),Ae.removeEventListener("error",cn)},Xt=()=>{Fe(Xe(Ae.result)),qt()},cn=()=>{pt(Ae.error),qt()};Ae.addEventListener("success",Xt),Ae.addEventListener("error",cn)});return he.then(Fe=>{Fe instanceof IDBCursor&&ie.set(Fe,Ae)}).catch(()=>{}),We.set(he,Ae),he}(Ae);if(Ze.has(Ae))return Ze.get(Ae);const he=En(Ae);return he!==Ae&&(Ze.set(Ae,he),We.set(he,Ae)),he}const ze=Ae=>We.get(Ae),lt=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],we=new Map;function Zt(Ae,he){if(!(Ae instanceof IDBDatabase)||he in Ae||"string"!=typeof he)return;if(we.get(he))return we.get(he);const Fe=he.replace(/FromIndex$/,""),pt=he!==Fe,qt=Et.includes(Fe);if(!(Fe in(pt?IDBIndex:IDBObjectStore).prototype)||!qt&&!lt.includes(Fe))return;const Xt=function(){var cn=(0,w.A)(function*(Sn,...Xn){const Wt=this.transaction(Sn,qt?"readwrite":"readonly");let _s=Wt.store;return pt&&(_s=_s.index(Xn.shift())),(yield Promise.all([_s[Fe](...Xn),qt&&Wt.done]))[0]});return function(Xn){return cn.apply(this,arguments)}}();return we.set(he,Xt),Xt}!function It(Ae){wt=Ae(wt)}(Ae=>({...Ae,get:(he,Fe,pt)=>Zt(he,Fe)||Ae.get(he,Fe,pt),has:(he,Fe)=>!!Zt(he,Fe)||Ae.has(he,Fe)}));class Vt{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function Pr(Ae){const he=Ae.getComponent();return"VERSION"===he?.type}(Fe)){const pt=Fe.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const nr="@firebase/app",cr="0.10.2",yr=new j.Vy("@firebase/app"),jt="[DEFAULT]",vr={[nr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ke=new Map,Pt=new Map,Er=new Map;function ar(Ae,he){try{Ae.container.addComponent(he)}catch(Fe){yr.debug(`Component ${he.name} failed to register with FirebaseApp ${Ae.name}`,Fe)}}function Nn(Ae,he){Ae.container.addOrOverwriteComponent(he)}function Or(Ae){const he=Ae.name;if(Er.has(he))return yr.debug(`There were multiple attempts to register component ${he}.`),!1;Er.set(he,Ae);for(const Fe of Ke.values())ar(Fe,Ae);for(const Fe of Pt.values())ar(Fe,Ae);return!0}function xn(Ae,he){const Fe=Ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),Ae.container.getProvider(he)}function Fi(Ae,he,Fe=jt){xn(Ae,he).clearInstance(Fe)}function Mt(Ae){return void 0!==Ae.options}function hi(Ae){return void 0!==Ae.settings}function xt(){Er.clear()}const Zn=new le.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jn{constructor(he,Fe,pt){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new h.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}class Ir extends Jn{constructor(he,Fe,pt,qt){const Xt=void 0!==Fe.automaticDataCollectionEnabled&&Fe.automaticDataCollectionEnabled,cn={name:pt,automaticDataCollectionEnabled:Xt};super(void 0!==he.apiKey?he:he.options,cn,qt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Xt},Fe),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Fe.releaseOnDeref=void 0,q(nr,cr,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(he){this.isDeleted||(this._refCount++,void 0!==he&&this._finalizationRegistry.register(he,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Y(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Zn.create("server-app-deleted")}}const Ti="10.11.1";function Pi(Ae,he={}){let Fe=Ae;"object"!=typeof he&&(he={name:he});const pt=Object.assign({name:jt,automaticDataCollectionEnabled:!1},he),qt=pt.name;if("string"!=typeof qt||!qt)throw Zn.create("bad-app-name",{appName:String(qt)});if(Fe||(Fe=(0,le.T9)()),!Fe)throw Zn.create("no-options");const Xt=Ke.get(qt);if(Xt){if((0,le.bD)(Fe,Xt.options)&&(0,le.bD)(pt,Xt.config))return Xt;throw Zn.create("duplicate-app",{appName:qt})}const cn=new h.h1(qt);for(const Xn of Er.values())cn.addComponent(Xn);const Sn=new Jn(Fe,pt,cn);return Ke.set(qt,Sn),Sn}function fi(Ae,he){if((0,le.Bd)())throw Zn.create("invalid-server-app-environment");let Fe;void 0===he.automaticDataCollectionEnabled&&(he.automaticDataCollectionEnabled=!1),Fe=Mt(Ae)?Ae.options:Ae;const pt=Object.assign(Object.assign({},he),Fe);if(void 0!==pt.releaseOnDeref&&delete pt.releaseOnDeref,void 0!==he.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Zn.create("finalization-registry-not-supported",{});const Xt=""+(Wt=JSON.stringify(pt),[...Wt].reduce((_s,Ls)=>Math.imul(31,_s)+Ls.charCodeAt(0)|0,0)),cn=Pt.get(Xt);var Wt;if(cn)return cn.incRefCount(he.releaseOnDeref),cn;const Sn=new h.h1(Xt);for(const Wt of Er.values())Sn.addComponent(Wt);const Xn=new Ir(Fe,he,Xt,Sn);return Pt.set(Xt,Xn),Xn}function ce(Ae=jt){const he=Ke.get(Ae);if(!he&&Ae===jt&&(0,le.T9)())return Pi();if(!he)throw Zn.create("no-app",{appName:Ae});return he}function ue(){return Array.from(Ke.values())}function Y(Ae){return oe.apply(this,arguments)}function oe(){return(oe=(0,w.A)(function*(Ae){let he=!1;const Fe=Ae.name;Ke.has(Fe)?(he=!0,Ke.delete(Fe)):Pt.has(Fe)&&Ae.decRefCount()<=0&&(Pt.delete(Fe),he=!0),he&&(yield Promise.all(Ae.container.getProviders().map(pt=>pt.delete())),Ae.isDeleted=!0)})).apply(this,arguments)}function q(Ae,he,Fe){var pt;let qt=null!==(pt=vr[Ae])&&void 0!==pt?pt:Ae;Fe&&(qt+=`-${Fe}`);const Xt=qt.match(/\s|\//),cn=he.match(/\s|\//);if(Xt||cn){const Sn=[`Unable to register library "${qt}" with version "${he}":`];return Xt&&Sn.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),Xt&&cn&&Sn.push("and"),cn&&Sn.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void yr.warn(Sn.join(" "))}Or(new h.uA(`${qt}-version`,()=>({library:qt,version:he}),"VERSION"))}function Q(Ae,he){if(null!==Ae&&"function"!=typeof Ae)throw Zn.create("invalid-log-argument");(0,j.Ey)(Ae,he)}function U(Ae){(0,j.He)(Ae)}const W="firebase-heartbeat-database",B=1,se="firebase-heartbeat-store";let Oe=null;function at(){return Oe||(Oe=function Je(Ae,he,{blocked:Fe,upgrade:pt,blocking:qt,terminated:Xt}={}){const cn=indexedDB.open(Ae,he),Sn=Xe(cn);return pt&&cn.addEventListener("upgradeneeded",Xn=>{pt(Xe(cn.result),Xn.oldVersion,Xn.newVersion,Xe(cn.transaction),Xn)}),Fe&&cn.addEventListener("blocked",Xn=>Fe(Xn.oldVersion,Xn.newVersion,Xn)),Sn.then(Xn=>{Xt&&Xn.addEventListener("close",()=>Xt()),qt&&Xn.addEventListener("versionchange",Wt=>qt(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),Sn}(W,B,{upgrade:(Ae,he)=>{if(0===he)try{Ae.createObjectStore(se)}catch(Fe){console.warn(Fe)}}}).catch(Ae=>{throw Zn.create("idb-open",{originalErrorMessage:Ae.message})})),Oe}function Qt(){return(Qt=(0,w.A)(function*(Ae){try{const Fe=(yield at()).transaction(se),pt=yield Fe.objectStore(se).get(ht(Ae));return yield Fe.done,pt}catch(he){if(he instanceof le.g)yr.warn(he.message);else{const Fe=Zn.create("idb-get",{originalErrorMessage:he?.message});yr.warn(Fe.message)}}})).apply(this,arguments)}function Tn(Ae,he){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,w.A)(function*(Ae,he){try{const pt=(yield at()).transaction(se,"readwrite");yield pt.objectStore(se).put(he,ht(Ae)),yield pt.done}catch(Fe){if(Fe instanceof le.g)yr.warn(Fe.message);else{const pt=Zn.create("idb-set",{originalErrorMessage:Fe?.message});yr.warn(pt.message)}}})).apply(this,arguments)}function ht(Ae){return`${Ae.name}!${Ae.options.appId}`}class $o{constructor(he){this.container=he,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new kn(Fe),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var he=this;return(0,w.A)(function*(){var Fe,pt;const Xt=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cn=Fl();if((null!=(null===(Fe=he._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)||(he._heartbeatsCache=yield he._heartbeatsCachePromise,null!=(null===(pt=he._heartbeatsCache)||void 0===pt?void 0:pt.heartbeats)))&&he._heartbeatsCache.lastSentHeartbeatDate!==cn&&!he._heartbeatsCache.heartbeats.some(Sn=>Sn.date===cn))return he._heartbeatsCache.heartbeats.push({date:cn,agent:Xt}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(Sn=>{const Xn=new Date(Sn.date).valueOf();return Date.now()-Xn<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,w.A)(function*(){var Fe;if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null==(null===(Fe=he._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)||0===he._heartbeatsCache.heartbeats.length)return"";const pt=Fl(),{heartbeatsToSend:qt,unsentEntries:Xt}=function Ho(Ae,he=1024){const Fe=[];let pt=Ae.slice();for(const qt of Ae){const Xt=Fe.find(cn=>cn.agent===qt.agent);if(Xt){if(Xt.dates.push(qt.date),Ya(Fe)>he){Xt.dates.pop();break}}else if(Fe.push({agent:qt.agent,dates:[qt.date]}),Ya(Fe)>he){Fe.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:pt}}(he._heartbeatsCache.heartbeats),cn=(0,le.Uj)(JSON.stringify({version:2,heartbeats:qt}));return he._heartbeatsCache.lastSentHeartbeatDate=pt,Xt.length>0?(he._heartbeatsCache.heartbeats=Xt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),cn})()}}function Fl(){return(new Date).toISOString().substring(0,10)}class kn{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.A)(function*(){return!!(0,le.zW)()&&(0,le.eX)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,w.A)(function*(){if(yield he._canUseIndexedDBPromise){const pt=yield function Ht(Ae){return Qt.apply(this,arguments)}(he.app);return pt?.heartbeats?pt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(he){var Fe=this;return(0,w.A)(function*(){var pt;if(yield Fe._canUseIndexedDBPromise){const Xt=yield Fe.read();return Tn(Fe.app,{lastSentHeartbeatDate:null!==(pt=he.lastSentHeartbeatDate)&&void 0!==pt?pt:Xt.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var Fe=this;return(0,w.A)(function*(){var pt;if(yield Fe._canUseIndexedDBPromise){const Xt=yield Fe.read();return Tn(Fe.app,{lastSentHeartbeatDate:null!==(pt=he.lastSentHeartbeatDate)&&void 0!==pt?pt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...he.heartbeats]})}})()}}function Ya(Ae){return(0,le.Uj)(JSON.stringify({version:2,heartbeats:Ae})).length}!function ms(Ae){Or(new h.uA("platform-logger",he=>new Vt(he),"PRIVATE")),Or(new h.uA("heartbeat",he=>new $o(he),"PRIVATE")),q(nr,cr,Ae),q(nr,cr,"esm2017"),q("fire-js","")}("")},1362:(Nt,Be,G)=>{G.d(Be,{h1:()=>tt,uA:()=>j});var w=G(467),h=G(1076);class j{constructor(ie,ne,be){this.name=ie,this.instanceFactory=ne,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const le="[DEFAULT]";class _e{constructor(ie,ne){this.name=ie,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ne=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ne)){const be=new h.cY;if(this.instancesDeferred.set(ne,be),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:ne});Ze&&be.resolve(Ze)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(ie){var ne;const be=this.normalizeInstanceIdentifier(ie?.identifier),Ze=null!==(ne=ie?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(We){if(Ze)return null;throw We}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function Te(He){return"EAGER"===He.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[ne,be]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(ne);try{const We=this.getOrInitializeService({instanceIdentifier:Ze});be.resolve(We)}catch{}}}}clearInstance(ie=le){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,w.A)(function*(){const ne=Array.from(ie.instances.values());yield Promise.all([...ne.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ne.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=le){return this.instances.has(ie)}getOptions(ie=le){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ne={}}=ie,be=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:be,options:ne});for(const[We,ut]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(We)&&ut.resolve(Ze);return Ze}onInit(ie,ne){var be;const Ze=this.normalizeInstanceIdentifier(ne),We=null!==(be=this.onInitCallbacks.get(Ze))&&void 0!==be?be:new Set;We.add(ie),this.onInitCallbacks.set(Ze,We);const ut=this.instances.get(Ze);return ut&&ie(ut,Ze),()=>{We.delete(ie)}}invokeOnInitCallbacks(ie,ne){const be=this.onInitCallbacks.get(ne);if(be)for(const Ze of be)try{Ze(ie,ne)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ne={}}){let be=this.instances.get(ie);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(He=ie,He===le?void 0:He),options:ne}),this.instances.set(ie,be),this.instancesOptions.set(ie,ne),this.invokeOnInitCallbacks(be,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,be)}catch{}var He;return be||null}normalizeInstanceIdentifier(ie=le){return this.component?this.component.multipleInstances?ie:le:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tt{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ne=this.getProvider(ie.name);if(ne.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ne.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ne=new _e(ie,this);return this.providers.set(ie,ne),ne}getProviders(){return Array.from(this.providers.values())}}},8041:(Nt,Be,G)=>{G.d(Be,{$b:()=>h,Ey:()=>He,He:()=>tt,Vy:()=>Te});const w=[];var h=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(h||{});const j={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},le=h.INFO,_e={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ye=(ie,ne,...be)=>{if(ne<ie.logLevel)return;const Ze=(new Date).toISOString(),We=_e[ne];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[We](`[${Ze}]  ${ie.name}:`,...be)};class Te{constructor(ne){this.name=ne,this._logLevel=le,this._logHandler=ye,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in h))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?j[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ne),this._logHandler(this,h.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ne),this._logHandler(this,h.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ne),this._logHandler(this,h.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ne),this._logHandler(this,h.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ne),this._logHandler(this,h.ERROR,...ne)}}function tt(ie){w.forEach(ne=>{ne.setLogLevel(ie)})}function He(ie,ne){for(const be of w){let Ze=null;ne&&ne.level&&(Ze=j[ne.level]),be.userLogHandler=null===ie?null:(We,ut,...ot)=>{const wt=ot.map(It=>{if(null==It)return null;if("string"==typeof It)return It;if("number"==typeof It||"boolean"==typeof It)return It.toString();if(It instanceof Error)return It.message;try{return JSON.stringify(It)}catch{return null}}).filter(It=>It).join(" ");ut>=(Ze??We.logLevel)&&ie({level:h[ut].toLowerCase(),message:wt,args:ot,type:We.name})}}}},2438:(Nt,Be,G)=>{G.r(Be);var w=G(467),h=G(3345),j=G(8407),le=G(1076),Te=(G(7852),G(8041),G(1362));function tt(){return window}function ne(){return ne=(0,w.A)(function*(U,W,B){var se;const{BuildInfo:Oe}=tt();(0,j.au)(W.sessionId,"AuthEvent did not contain a session ID");const at=yield function It(U){return pn.apply(this,arguments)}(W.sessionId),Ht={};return(0,j.av)()?Ht.ibi=Oe.packageName:(0,j.aw)()?Ht.apn=Oe.packageName:(0,j.ax)(U,"operation-not-supported-in-this-environment"),Oe.displayName&&(Ht.appDisplayName=Oe.displayName),Ht.sessionId=at,(0,j.ay)(U,B,W.type,void 0,null!==(se=W.eventId)&&void 0!==se?se:void 0,Ht)}),ne.apply(this,arguments)}function Ze(){return(Ze=(0,w.A)(function*(U){const{BuildInfo:W}=tt(),B={};(0,j.av)()?B.iosBundleId=W.packageName:(0,j.aw)()?B.androidPackageName=W.packageName:(0,j.ax)(U,"operation-not-supported-in-this-environment"),yield(0,j.az)(U,B)})).apply(this,arguments)}function ot(){return(ot=(0,w.A)(function*(U,W,B){const{cordova:se}=tt();let Oe=()=>{};try{yield new Promise((at,Ht)=>{let Qt=null;function Tn(){var hn;at();const ai=null===(hn=se.plugins.browsertab)||void 0===hn?void 0:hn.close;"function"==typeof ai&&ai(),"function"==typeof B?.close&&B.close()}function Dt(){Qt||(Qt=window.setTimeout(()=>{Ht((0,j.aB)(U,"redirect-cancelled-by-user"))},2e3))}function ht(){"visible"===document?.visibilityState&&Dt()}W.addPassiveListener(Tn),document.addEventListener("resume",Dt,!1),(0,j.aw)()&&document.addEventListener("visibilitychange",ht,!1),Oe=()=>{W.removePassiveListener(Tn),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",ht,!1),Qt&&window.clearTimeout(Qt)}})}finally{Oe()}})).apply(this,arguments)}function pn(){return(pn=(0,w.A)(function*(U){const W=function En(U){if((0,j.au)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const W=new ArrayBuffer(U.length),B=new Uint8Array(W);for(let se=0;se<U.length;se++)B[se]=U.charCodeAt(se);return B}(U),B=yield crypto.subtle.digest("SHA-256",W);return Array.from(new Uint8Array(B)).map(Oe=>Oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ze extends j.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(W=>{this.resolveInialized=W})}addPassiveListener(W){this.passiveListeners.add(W)}removePassiveListener(W){this.passiveListeners.delete(W)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(W){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(W)),super.onEvent(W)}initialized(){var W=this;return(0,w.A)(function*(){yield W.initPromise})()}}function lt(U){return Et.apply(this,arguments)}function Et(){return(Et=(0,w.A)(function*(U){const W=yield Vt()._get(Pr(U));return W&&(yield Vt()._remove(Pr(U))),W})).apply(this,arguments)}function Zt(){const U=[];for(let B=0;B<20;B++){const se=Math.floor(62*Math.random());U.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(se))}return U.join("")}function Vt(){return(0,j.aE)(j.b)}function Pr(U){return(0,j.aF)("authEvent",U.config.apiKey,U.name)}function yr(U){if(!U?.includes("?"))return{};const[W,...B]=U.split("?");return(0,le.I9)(B.join("?"))}const Ie=class Mr{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(W){var B=this;return(0,w.A)(function*(){const se=W._key();let Oe=B.eventManagers.get(se);return Oe||(Oe=new ze(W),B.eventManagers.set(se,Oe),B.attachCallbackListeners(W,Oe)),Oe})()}_openPopup(W){(0,j.ax)(W,"operation-not-supported-in-this-environment")}_openRedirect(W,B,se,Oe){var at=this;return(0,w.A)(function*(){!function wt(U){var W,B,se,Oe,at,Ht,Qt,Tn,Dt,ht;const hn=tt();(0,j.aC)("function"==typeof(null===(W=hn?.universalLinks)||void 0===W?void 0:W.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.aC)(typeof(null===(B=hn?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.aC)("function"==typeof(null===(at=null===(Oe=null===(se=hn?.cordova)||void 0===se?void 0:se.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===at?void 0:at.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(Tn=null===(Qt=null===(Ht=hn?.cordova)||void 0===Ht?void 0:Ht.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===Tn?void 0:Tn.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aC)("function"==typeof(null===(ht=null===(Dt=hn?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===ht?void 0:ht.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(W);const Ht=yield at._initialize(W);yield Ht.initialized(),Ht.resetRedirect(),(0,j.aI)(),yield at._originValidation(W);const Qt=function Je(U,W,B=null){return{type:W,eventId:B,urlResponse:null,sessionId:Zt(),postBody:null,tenantId:U.tenantId,error:(0,j.aB)(U,"no-auth-event")}}(W,se,Oe);yield function it(U,W){return Vt()._set(Pr(U),W)}(W,Qt);const Tn=yield function ie(U,W,B){return ne.apply(this,arguments)}(W,Qt,B),Dt=yield function We(U){const{cordova:W}=tt();return new Promise(B=>{W.plugins.browsertab.isAvailable(se=>{let Oe=null;se?W.plugins.browsertab.openUrl(U):Oe=W.InAppBrowser.open(U,(0,j.aA)()?"_blank":"_system","location=yes"),B(Oe)})})}(Tn);return function ut(U,W,B){return ot.apply(this,arguments)}(W,Ht,Dt)})()}_isIframeWebStorageSupported(W,B){throw new Error("Method not implemented.")}_originValidation(W){const B=W._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function be(U){return Ze.apply(this,arguments)}(W)),this.originValidationPromises[B]}attachCallbackListeners(W,B){const{universalLinks:se,handleOpenURL:Oe,BuildInfo:at}=tt(),Ht=setTimeout((0,w.A)(function*(){yield lt(W),B.onEvent(Ee())}),500),Qt=function(){var ht=(0,w.A)(function*(hn){clearTimeout(Ht);const ai=yield lt(W);let $o=null;ai&&hn?.url&&($o=function we(U,W){var B,se;const Oe=function cr(U){const W=yr(U),B=W.link?decodeURIComponent(W.link):void 0,se=yr(B).link,Oe=W.deep_link_id?decodeURIComponent(W.deep_link_id):void 0;return yr(Oe).link||Oe||se||B||U}(W);if(Oe.includes("/__/auth/callback")){const at=yr(Oe),Ht=at.firebaseError?function nr(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(at.firebaseError)):null,Qt=null===(se=null===(B=Ht?.code)||void 0===B?void 0:B.split("auth/"))||void 0===se?void 0:se[1],Tn=Qt?(0,j.aB)(Qt):null;return Tn?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:Tn,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:Oe,postBody:null}}return null}(ai,hn.url)),B.onEvent($o||Ee())});return function(ai){return ht.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,Qt);const Tn=Oe,Dt=`${at.packageName.toLowerCase()}://`;tt().handleOpenURL=function(){var ht=(0,w.A)(function*(hn){if(hn.toLowerCase().startsWith(Dt)&&Qt({url:hn}),"function"==typeof Tn)try{Tn(hn)}catch(ai){console.error(ai)}});return function(hn){return ht.apply(this,arguments)}}()}};function Ee(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.aB)("no-auth-event")}}function St(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function wn(U=(0,le.ZQ)()){return!("file:"!==St()&&"ionic:"!==St()&&"capacitor:"!==St()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){try{const U=self.localStorage,W=j.aN();if(U)return U.setItem(W,"1"),U.removeItem(W),!function Cn(U=(0,le.ZQ)()){return function Kt(){return(0,le.lT)()&&11===document?.documentMode}()||function jn(U=(0,le.ZQ)()){return/Edge\/\d+/.test(U)}(U)}()||(0,le.zW)()}catch{return or()&&(0,le.zW)()}return!1}function or(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gr(){return(function zt(){return"http:"===St()||"https:"===St()}()||(0,le.sr)()||wn())&&!function Rt(){return(0,le.lV)()||(0,le.Ll)()}()&&ur()&&!or()}function Qn(){return wn()&&typeof document<"u"}function ct(){return(ct=(0,w.A)(function*(){return!!Qn()&&new Promise(U=>{const W=setTimeout(()=>{U(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(W),U(!0)})})})).apply(this,arguments)}const rr={LOCAL:"local",NONE:"none",SESSION:"session"},oi=j.aC,gs="persistence";function vr(U){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,w.A)(function*(U){yield U._initializationPromise;const W=Er(),B=j.aF(gs,U.config.apiKey,U.name);W&&W.setItem(B,U._getPersistence())})).apply(this,arguments)}function Er(){var U;try{return(null===(U=function si(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const ar=j.aC;class Nn{constructor(){this.browserResolver=j.aE(j.k),this.cordovaResolver=j.aE(Ie),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aG,this._overrideRedirectResult=j.aH}_initialize(W){var B=this;return(0,w.A)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(W)})()}_openPopup(W,B,se,Oe){var at=this;return(0,w.A)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(W,B,se,Oe)})()}_openRedirect(W,B,se,Oe){var at=this;return(0,w.A)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(W,B,se,Oe)})()}_isIframeWebStorageSupported(W,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(W,B)}_originValidation(W){return this.assertedUnderlyingResolver._originValidation(W)}get _shouldInitProactively(){return Qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ar(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var W=this;return(0,w.A)(function*(){if(W.underlyingResolver)return;const B=yield function jr(){return ct.apply(this,arguments)}();W.underlyingResolver=B?W.cordovaResolver:W.browserResolver})()}}function Or(U){return U.unwrap()}function Fi(U){return hi(U)}function hi(U){const{_tokenResponse:W}=U instanceof le.g?U.customData:U;if(!W)return null;if(!(U instanceof le.g)&&"temporaryProof"in W&&"phoneNumber"in W)return j.P.credentialFromResult(U);const B=W.providerId;if(!B||B===j.p.PASSWORD)return null;let se;switch(B){case j.p.GOOGLE:se=j.X;break;case j.p.FACEBOOK:se=j.W;break;case j.p.GITHUB:se=j.Y;break;case j.p.TWITTER:se=j.$;break;default:const{oauthIdToken:Oe,oauthAccessToken:at,oauthTokenSecret:Ht,pendingToken:Qt,nonce:Tn}=W;return at||Ht||Oe||Qt?Qt?B.startsWith("saml.")?j.aQ._create(B,Qt):j.N._fromParams({providerId:B,signInMethod:B,pendingToken:Qt,idToken:Oe,accessToken:at}):new j.Z(B).credential({idToken:Oe,accessToken:at,rawNonce:Tn}):null}return U instanceof le.g?se.credentialFromError(U):se.credentialFromResult(U)}function xt(U,W){return W.catch(B=>{throw B instanceof le.g&&function Mt(U,W){var B;const se=null===(B=W.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===W?.code)W.resolver=new Jn(U,j.as(U,W));else if(se){const Oe=hi(W),at=W;Oe&&(at.credential=Oe,at.tenantId=se.tenantId||void 0,at.email=se.email||void 0,at.phoneNumber=se.phoneNumber||void 0)}}(U,B),B}).then(B=>{const Oe=B.user;return{operationType:B.operationType,credential:Fi(B),additionalUserInfo:j.aq(B),user:Ir.getOrCreate(Oe)}})}function gn(U,W){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,w.A)(function*(U,W){const B=yield W;return{verificationId:B.verificationId,confirm:se=>xt(U,B.confirm(se))}})).apply(this,arguments)}class Jn{constructor(W,B){this.resolver=B,this.auth=function xn(U){return U.wrapped()}(W)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(W){return xt(Or(this.auth),this.resolver.resolveSignIn(W))}}class Ir{constructor(W){this._delegate=W,this.multiFactor=j.at(W)}static getOrCreate(W){return Ir.USER_MAP.has(W)||Ir.USER_MAP.set(W,new Ir(W)),Ir.USER_MAP.get(W)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(W){return this._delegate.getIdTokenResult(W)}getIdToken(W){return this._delegate.getIdToken(W)}linkAndRetrieveDataWithCredential(W){return this.linkWithCredential(W)}linkWithCredential(W){var B=this;return(0,w.A)(function*(){return xt(B.auth,j.a2(B._delegate,W))})()}linkWithPhoneNumber(W,B){var se=this;return(0,w.A)(function*(){return gn(se.auth,j.l(se._delegate,W,B))})()}linkWithPopup(W){var B=this;return(0,w.A)(function*(){return xt(B.auth,j.d(B._delegate,W,Nn))})()}linkWithRedirect(W){var B=this;return(0,w.A)(function*(){return yield vr(j.aJ(B.auth)),j.g(B._delegate,W,Nn)})()}reauthenticateAndRetrieveDataWithCredential(W){return this.reauthenticateWithCredential(W)}reauthenticateWithCredential(W){var B=this;return(0,w.A)(function*(){return xt(B.auth,j.a3(B._delegate,W))})()}reauthenticateWithPhoneNumber(W,B){return gn(this.auth,j.r(this._delegate,W,B))}reauthenticateWithPopup(W){return xt(this.auth,j.e(this._delegate,W,Nn))}reauthenticateWithRedirect(W){var B=this;return(0,w.A)(function*(){return yield vr(j.aJ(B.auth)),j.h(B._delegate,W,Nn)})()}sendEmailVerification(W){return j.ag(this._delegate,W)}unlink(W){var B=this;return(0,w.A)(function*(){return yield j.ap(B._delegate,W),B})()}updateEmail(W){return j.al(this._delegate,W)}updatePassword(W){return j.am(this._delegate,W)}updatePhoneNumber(W){return j.u(this._delegate,W)}updateProfile(W){return j.ak(this._delegate,W)}verifyBeforeUpdateEmail(W,B){return j.ah(this._delegate,W,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ir.USER_MAP=new WeakMap;const Ti=j.aC;let Pi=(()=>{class U{constructor(B,se){if(this.app=B,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=B.options;Ti(Oe,"invalid-api-key",{appName:B.name}),Ti(Oe,"invalid-api-key",{appName:B.name});const at=typeof window<"u"?Nn:void 0;this._delegate=se.initialize({options:{persistence:ce(Oe,B.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(j.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ir.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,se){j.K(this._delegate,B,se)}applyActionCode(B){return j.a7(this._delegate,B)}checkActionCode(B){return j.a8(this._delegate,B)}confirmPasswordReset(B,se){return j.a6(this._delegate,B,se)}createUserWithEmailAndPassword(B,se){var Oe=this;return(0,w.A)(function*(){return xt(Oe._delegate,j.aa(Oe._delegate,B,se))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return j.af(this._delegate,B)}isSignInWithEmailLink(B){return j.ad(this._delegate,B)}getRedirectResult(){var B=this;return(0,w.A)(function*(){Ti(Gr(),B._delegate,"operation-not-supported-in-this-environment");const se=yield j.j(B._delegate,Nn);return se?xt(B._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function xe(U,W){(0,j.aJ)(U)._logFramework(W)}(this._delegate,B)}onAuthStateChanged(B,se,Oe){const{next:at,error:Ht,complete:Qt}=fi(B,se,Oe);return this._delegate.onAuthStateChanged(at,Ht,Qt)}onIdTokenChanged(B,se,Oe){const{next:at,error:Ht,complete:Qt}=fi(B,se,Oe);return this._delegate.onIdTokenChanged(at,Ht,Qt)}sendSignInLinkToEmail(B,se){return j.ac(this._delegate,B,se)}sendPasswordResetEmail(B,se){return j.a5(this._delegate,B,se||void 0)}setPersistence(B){var se=this;return(0,w.A)(function*(){let Oe;switch(function jt(U,W){oi(Object.values(rr).includes(W),U,"invalid-persistence-type"),(0,le.lV)()?oi(W!==rr.SESSION,U,"unsupported-persistence-type"):(0,le.Ll)()?oi(W===rr.NONE,U,"unsupported-persistence-type"):or()?oi(W===rr.NONE||W===rr.LOCAL&&(0,le.zW)(),U,"unsupported-persistence-type"):oi(W===rr.NONE||ur(),U,"unsupported-persistence-type")}(se._delegate,B),B){case rr.SESSION:Oe=j.a;break;case rr.LOCAL:Oe=(yield j.aE(j.i)._isAvailable())?j.i:j.b;break;case rr.NONE:Oe=j.U;break;default:return j.ax("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return xt(this._delegate,j.a0(this._delegate))}signInWithCredential(B){return xt(this._delegate,j.a1(this._delegate,B))}signInWithCustomToken(B){return xt(this._delegate,j.a4(this._delegate,B))}signInWithEmailAndPassword(B,se){return xt(this._delegate,j.ab(this._delegate,B,se))}signInWithEmailLink(B,se){return xt(this._delegate,j.ae(this._delegate,B,se))}signInWithPhoneNumber(B,se){return gn(this._delegate,j.s(this._delegate,B,se))}signInWithPopup(B){var se=this;return(0,w.A)(function*(){return Ti(Gr(),se._delegate,"operation-not-supported-in-this-environment"),xt(se._delegate,j.c(se._delegate,B,Nn))})()}signInWithRedirect(B){var se=this;return(0,w.A)(function*(){return Ti(Gr(),se._delegate,"operation-not-supported-in-this-environment"),yield vr(se._delegate),j.f(se._delegate,B,Nn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return j.a9(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=rr,U})();function fi(U,W,B){let se=U;"function"!=typeof U&&({next:se,error:W,complete:B}=U);const Oe=se;return{next:Ht=>Oe(Ht&&Ir.getOrCreate(Ht)),error:W,complete:B}}function ce(U,W){const B=function Pt(U,W){const B=Er();if(!B)return[];const se=j.aF(gs,U,W);switch(B.getItem(se)){case rr.NONE:return[j.U];case rr.LOCAL:return[j.i,j.a];case rr.SESSION:return[j.a];default:return[]}}(U,W);if(typeof self<"u"&&!B.includes(j.i)&&B.push(j.i),typeof window<"u")for(const se of[j.b,j.a])B.includes(se)||B.push(se);return B.includes(j.U)||B.push(j.U),B}class ue{constructor(){this.providerId="phone",this._delegate=new j.P(Or(h.A.auth()))}static credential(W,B){return j.P.credential(W,B)}verifyPhoneNumber(W,B){return this._delegate.verifyPhoneNumber(W,B)}unwrap(){return this._delegate}}ue.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,ue.PROVIDER_ID=j.P.PROVIDER_ID;const Y=j.aC;class oe{constructor(W,B,se=h.A.app()){var Oe;Y(null===(Oe=se.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new j.R(se.auth(),W,B),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(U){U.INTERNAL.registerComponent(new Te.uA("auth-compat",W=>{const B=W.getProvider("app-compat").getImmediate(),se=W.getProvider("auth");return new Pi(B,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.V,FacebookAuthProvider:j.W,GithubAuthProvider:j.Y,GoogleAuthProvider:j.X,OAuthProvider:j.Z,SAMLAuthProvider:j._,PhoneAuthProvider:ue,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:oe,TwitterAuthProvider:j.$,Auth:Pi,AuthCredential:j.L,Error:le.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.5.7")}(h.A)},467:(Nt,Be,G)=>{function w(j,le,_e,ye,Te,tt,He){try{var ie=j[tt](He),ne=ie.value}catch(be){return void _e(be)}ie.done?le(ne):Promise.resolve(ne).then(ye,Te)}function h(j){return function(){var le=this,_e=arguments;return new Promise(function(ye,Te){var tt=j.apply(le,_e);function He(ne){w(tt,ye,Te,He,ie,"next",ne)}function ie(ne){w(tt,ye,Te,He,ie,"throw",ne)}He(void 0)})}}G.d(Be,{A:()=>h})},1635:(Nt,Be,G)=>{function le(Ie,Ee){var xe={};for(var Me in Ie)Object.prototype.hasOwnProperty.call(Ie,Me)&&Ee.indexOf(Me)<0&&(xe[Me]=Ie[Me]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Me=Object.getOwnPropertySymbols(Ie);Pe<Me.length;Pe++)Ee.indexOf(Me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Ie,Me[Pe])&&(xe[Me[Pe]]=Ie[Me[Pe]])}return xe}function be(Ie,Ee,xe,Me){return new(xe||(xe=Promise))(function(Ne,St){function zt(Kt){try{Rt(Me.next(Kt))}catch(jn){St(jn)}}function wn(Kt){try{Rt(Me.throw(Kt))}catch(jn){St(jn)}}function Rt(Kt){Kt.done?Ne(Kt.value):function Pe(Ne){return Ne instanceof xe?Ne:new xe(function(St){St(Ne)})}(Kt.value).then(zt,wn)}Rt((Me=Me.apply(Ie,Ee||[])).next())})}function Xe(Ie){return this instanceof Xe?(this.v=Ie,this):new Xe(Ie)}function ze(Ie,Ee,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Me=xe.apply(Ie,Ee||[]),Ne=[];return Pe={},St("next"),St("throw"),St("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function St(Cn){Me[Cn]&&(Pe[Cn]=function(ur){return new Promise(function(or,Gr){Ne.push([Cn,ur,or,Gr])>1||zt(Cn,ur)})})}function zt(Cn,ur){try{!function wn(Cn){Cn.value instanceof Xe?Promise.resolve(Cn.value.v).then(Rt,Kt):jn(Ne[0][2],Cn)}(Me[Cn](ur))}catch(or){jn(Ne[0][3],or)}}function Rt(Cn){zt("next",Cn)}function Kt(Cn){zt("throw",Cn)}function jn(Cn,ur){Cn(ur),Ne.shift(),Ne.length&&zt(Ne[0][0],Ne[0][1])}}function it(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Ee=Ie[Symbol.asyncIterator];return Ee?Ee.call(Ie):(Ie=function ot(Ie){var Ee="function"==typeof Symbol&&Symbol.iterator,xe=Ee&&Ie[Ee],Me=0;if(xe)return xe.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&Me>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[Me++],done:!Ie}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),xe={},Me("next"),Me("throw"),Me("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Me(Ne){xe[Ne]=Ie[Ne]&&function(St){return new Promise(function(zt,wn){!function Pe(Ne,St,zt,wn){Promise.resolve(wn).then(function(Rt){Ne({value:Rt,done:zt})},St)}(zt,wn,(St=Ie[Ne](St)).done,St.value)})}}}G.d(Be,{AQ:()=>ze,N3:()=>Xe,Tt:()=>le,sH:()=>be,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},Nt=>{Nt(Nt.s=7363)}]);