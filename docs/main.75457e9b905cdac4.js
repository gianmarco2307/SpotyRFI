"use strict";(self.webpackChunkSpotyRFI=self.webpackChunkSpotyRFI||[]).push([[179],{58:(on,Qe,ee)=>{ee.d(Qe,{BH:()=>tt,G6:()=>ji,L:()=>He,LL:()=>pe,Pz:()=>Ae,Sg:()=>Zt,UG:()=>F,ZB:()=>ie,ZR:()=>ue,aH:()=>pt,b$:()=>xn,eu:()=>te,hl:()=>J,jU:()=>Re,m9:()=>Gu,ne:()=>Xo,pd:()=>kt,r3:()=>mn,ru:()=>It,tV:()=>q,uI:()=>Ee,vZ:()=>oo,w1:()=>Sr,xO:()=>Ws,xb:()=>Gr,z$:()=>We,zd:()=>Ve});const be=function(L){const k=[];let B=0;for(let de=0;de<L.length;de++){let Y=L.charCodeAt(de);Y<128?k[B++]=Y:Y<2048?(k[B++]=Y>>6|192,k[B++]=63&Y|128):55296==(64512&Y)&&de+1<L.length&&56320==(64512&L.charCodeAt(de+1))?(Y=65536+((1023&Y)<<10)+(1023&L.charCodeAt(++de)),k[B++]=Y>>18|240,k[B++]=Y>>12&63|128,k[B++]=Y>>6&63|128,k[B++]=63&Y|128):(k[B++]=Y>>12|224,k[B++]=Y>>6&63|128,k[B++]=63&Y|128)}return k},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,k){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Y=0;Y<L.length;Y+=3){const Le=L[Y],ht=Y+1<L.length,Ct=ht?L[Y+1]:0,di=Y+2<L.length,Ln=di?L[Y+2]:0;let Ze=(15&Ct)<<2|Ln>>6,uo=63&Ln;di||(uo=64,ht||(Ze=64)),de.push(B[Le>>2],B[(3&Le)<<4|Ct>>4],B[Ze],B[uo])}return de.join("")},encodeString(L,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(L):this.encodeByteArray(be(L),k)},decodeString(L,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(L):function(L){const k=[];let B=0,de=0;for(;B<L.length;){const Y=L[B++];if(Y<128)k[de++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Le=L[B++];k[de++]=String.fromCharCode((31&Y)<<6|63&Le)}else if(Y>239&&Y<365){const di=((7&Y)<<18|(63&L[B++])<<12|(63&L[B++])<<6|63&L[B++])-65536;k[de++]=String.fromCharCode(55296+(di>>10)),k[de++]=String.fromCharCode(56320+(1023&di))}else{const Le=L[B++],ht=L[B++];k[de++]=String.fromCharCode((15&Y)<<12|(63&Le)<<6|63&ht)}}return k.join("")}(this.decodeStringToByteArray(L,k))},decodeStringToByteArray(L,k){this.init_();const B=k?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Y=0;Y<L.length;){const Le=B[L.charAt(Y++)],Ct=Y<L.length?B[L.charAt(Y)]:0;++Y;const Ln=Y<L.length?B[L.charAt(Y)]:64;++Y;const rt=Y<L.length?B[L.charAt(Y)]:64;if(++Y,null==Le||null==Ct||null==Ln||null==rt)throw new dt;de.push(Le<<2|Ct>>4),64!==Ln&&(de.push(Ct<<4&240|Ln>>2),64!==rt&&de.push(Ln<<6&192|rt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(L){return function(L){const k=be(L);return ve.encodeByteArray(k,!0)}(L).replace(/\./g,"")},q=function(L){try{return ve.decodeString(L,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function ie(L,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return k}for(const B in k)!k.hasOwnProperty(B)||!qe(B)||(L[B]=ie(L[B],k[B]));return L}function qe(L){return"__proto__"!==L}const it=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const L=process.env.__FIREBASE_DEFAULTS__;return L?JSON.parse(L):void 0})()||(()=>{if(typeof document>"u")return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=L&&q(L[1]);return k&&JSON.parse(k)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},pt=()=>{var L;return null===(L=it())||void 0===L?void 0:L.config},Ae=L=>{var k;return null===(k=it())||void 0===k?void 0:k[`_${L}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,B)=>{this.resolve=k,this.reject=B})}wrapCallback(k){return(B,de)=>{B?this.reject(B):this.resolve(de),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(B):k(B,de))}}}function Zt(L,k){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=k||"demo-project",Y=L.iat||0,Le=L.sub||L.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Y,exp:Y+3600,auth_time:Y,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},L);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(ht)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function F(){var L;const k=null===(L=it())||void 0===L?void 0:L.forceEnvironment;if("node"===k)return!0;if("browser"===k)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return"object"==typeof self&&self.self===self}function It(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function xn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sr(){const L=We();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function ji(){return!F()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((L,k)=>{try{let B=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(de);Y.onsuccess=()=>{Y.result.close(),B||self.indexedDB.deleteDatabase(de),L(!0)},Y.onupgradeneeded=()=>{B=!1},Y.onerror=()=>{var Le;k((null===(Le=Y.error)||void 0===Le?void 0:Le.message)||"")}}catch(B){k(B)}})}class ue extends Error{constructor(k,B,de){super(B),this.code=k,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(k,B,de){this.service=k,this.serviceName=B,this.errors=de}create(k,...B){const de=B[0]||{},Y=`${this.service}/${k}`,Le=this.errors[k],ht=Le?function ot(L,k){return L.replace(jt,(B,de)=>{const Y=k[de];return null!=Y?String(Y):`<${de}?>`})}(Le,de):"Error";return new ue(Y,`${this.serviceName}: ${ht} (${Y}).`,de)}}const jt=/\{\$([^}]+)}/g;function mn(L,k){return Object.prototype.hasOwnProperty.call(L,k)}function Gr(L){for(const k in L)if(Object.prototype.hasOwnProperty.call(L,k))return!1;return!0}function oo(L,k){if(L===k)return!0;const B=Object.keys(L),de=Object.keys(k);for(const Y of B){if(!de.includes(Y))return!1;const Le=L[Y],ht=k[Y];if(Wa(Le)&&Wa(ht)){if(!oo(Le,ht))return!1}else if(Le!==ht)return!1}for(const Y of de)if(!B.includes(Y))return!1;return!0}function Wa(L){return null!==L&&"object"==typeof L}function Ws(L){const k=[];for(const[B,de]of Object.entries(L))Array.isArray(de)?de.forEach(Y=>{k.push(encodeURIComponent(B)+"="+encodeURIComponent(Y))}):k.push(encodeURIComponent(B)+"="+encodeURIComponent(de));return k.length?"&"+k.join("&"):""}function Ve(L){const k={};return L.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Y,Le]=de.split("=");k[decodeURIComponent(Y)]=decodeURIComponent(Le)}}),k}function kt(L){const k=L.indexOf("?");if(!k)return"";const B=L.indexOf("#",k);return L.substring(k,B>0?B:void 0)}function Xo(L,k){const B=new ui(L,k);return B.subscribe.bind(B)}class ui{constructor(k,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{k(this)}).catch(de=>{this.error(de)})}next(k){this.forEachObserver(B=>{B.next(k)})}error(k){this.forEachObserver(B=>{B.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,B,de){let Y;if(void 0===k&&void 0===B&&void 0===de)throw new Error("Missing Observer.");Y=function Pr(L,k){if("object"!=typeof L||null===L)return!1;for(const B of k)if(B in L&&"function"==typeof L[B])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:B,complete:de},void 0===Y.next&&(Y.next=Fn),void 0===Y.error&&(Y.error=Fn),void 0===Y.complete&&(Y.complete=Fn);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Le}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,k)}sendOne(k,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{B(this.observers[k])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}function Gu(L){return L&&L._delegate?L._delegate:L}},428:(on,Qe,ee)=>{var h=ee(212);let fe=null;function H(){return fe}class Me{}const ve=new h.OlP("DocumentToken");let dt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(He),providedIn:"platform"})}return n})();const Ot=new h.OlP("Location Initialized");let He=(()=>{class n extends dt{constructor(){super(),this._doc=(0,h.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function q(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function j(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ie(n){return n&&"?"!==n[0]?"?"+n:n}let qe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(ft),providedIn:"root"})}return n})();const ke=new h.OlP("appBaseHref");let ft=(()=>{class n extends qe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return q(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ie(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,c){const u=this.prepareExternalUrl(s+ie(c));this._platformLocation.pushState(t,r,u)}replaceState(t,r,s,c){const u=this.prepareExternalUrl(s+ie(c));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(dt),h.LFG(ke,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rt=(()=>{class n extends qe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=q(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,c){let u=this.prepareExternalUrl(s+ie(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,s,c){let u=this.prepareExternalUrl(s+ie(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(dt),h.LFG(ke,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})(),ze=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function pt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(Sn(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ie(r))}normalize(t){return n.stripTrailingSlash(function en(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Sn(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}static#e=this.normalizeQueryParams=ie;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=j;static#r=this.\u0275fac=function(r){return new(r||n)(h.LFG(qe))};static#i=this.\u0275prov=h.Yz7({token:n,factory:()=>function it(){return new ze((0,h.LFG)(qe))}(),providedIn:"root"})}return n})();function Sn(n){return n.replace(/\/index.html$/,"")}const qu=/\s+/,gg=[];let Pt=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=gg,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(qu):gg}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(qu):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(qu).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(h.Qsj))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class ti{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,c,u)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new ti(s.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===c?void 0:c);else if(null!==c){const g=r.get(c);r.move(g,u),_g(g,s)}});for(let s=0,c=r.length;s<c;s++){const g=r.get(s).context;g.index=s,g.count=c,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{_g(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function _g(n,e){n.context.$implicit=e.item}let Zu=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new jy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ut("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ut("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class jy{constructor(){this.$implicit=null,this.ngIf=null}}function Ut(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Qs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const Xs="browser";function $i(n){return n===Xs}function Qu(n){return"server"===n}let Ky=(()=>{class n{static#e=this.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>$i((0,h.f3M)(h.Lbi))?new hf((0,h.f3M)(ve),window):new Xy})}return n})();class hf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Qy(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const c=s.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],s-c[1])}}class Xy{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Dg extends Me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ag extends Dg{static makeCurrent(){!function be(n){fe||(fe=n)}(new Ag)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sg(){return us=us||document.querySelector("base"),us?us.getAttribute("href"):null}();return null==t?null:function xg(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ns(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let us=null,Rg=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Mg=new h.OlP("EventManagerPlugins");let ds=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Mg),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class If{constructor(e){this._doc=e}}const ra="ng-app-id";let Ef=(()=>{class n{constructor(t,r,s,c={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qu(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ra}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const c=s.get(t);return c.usage+=r,c.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,c=s?.get(r);if(c?.parentNode===t)return s.delete(r),c.removeAttribute(ra),c;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(ra,this.appId),t.appendChild(u),u}}addStyleToHost(t,r){const s=this.getStyleElement(t,r),c=this.styleRef,u=c.get(r)?.elements;u?u.push(s):c.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const hs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rd=/%COMP%/g,rb=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Og(n,e){return e.map(t=>t.replace(rd,n))}let ic=(()=>{class n{constructor(t,r,s,c,u,g,y,w=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=u,this.platformId=g,this.ngZone=y,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Qu(g),this.defaultRenderer=new Cf(t,u,y,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof ob?s.applyToHost(t):s instanceof Lr&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let c=s.get(r.id);if(!c){const u=this.doc,g=this.ngZone,y=this.eventManager,w=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:c=new ob(y,w,r,this.appId,T,u,g,S);break;case h.ifc.ShadowDom:return new id(y,w,t,r,u,g,this.nonce,S);default:c=new Lr(y,w,r,T,u,g,S)}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ds),h.LFG(Ef),h.LFG(h.AFp),h.LFG(rb),h.LFG(ve),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class Cf{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(hs[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Df(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Df(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const c=hs[s];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=hs[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=H().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Df(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class id extends Cf{constructor(e,t,r,s,c,u,g,y){super(e,c,u,y),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Og(s.id,s.styles);for(const T of w){const S=document.createElement("style");g&&S.setAttribute("nonce",g),S.textContent=T,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lr extends Cf{constructor(e,t,r,s,c,u,g,y){super(e,c,u,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=y?Og(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ob extends Lr{constructor(e,t,r,s,c,u,g,y){const w=s+"-"+r.id;super(e,t,r,c,u,g,y,w),this.contentAttr=function No(n){return"_ngcontent-%COMP%".replace(rd,n)}(w),this.hostAttr=function ib(n){return"_nghost-%COMP%".replace(rd,n)}(w)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let od=(()=>{class n extends If{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Fo=["alt","control","meta","shift"],sr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Af={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Sf=(()=>{class n extends If{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const c=n.parseEventName(r),u=n.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const c=n._normalizeKey(r.pop());let u="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),u="code."),Fo.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),u+=w+".")}),u+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=s,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let s=sr[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(s=t.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Fo.forEach(u=>{u!==s&&(0,Af[u])(t)&&(c+=u+".")}),c+=s,c===r)}static eventCallback(t,r,s){return c=>{n.matchEventFullKeyCode(c,t)&&s.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const ia=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:Xs},{provide:h.g9A,useValue:function Ng(){Ag.makeCurrent()},multi:!0},{provide:ve,useFactory:function gl(){return(0,h.RDi)(document),document},deps:[]}]),ad=new h.OlP(""),fs=[{provide:h.rWj,useClass:class xw{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const c=e.findTestabilityInTree(r,s);if(null==c)throw new h.vHH(5103,!1);return c},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let c=s.length,u=!1;const g=function(y){u=u||y,c--,0==c&&r(u)};s.forEach(y=>{y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],lt=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function sd(){return new h.qLn},deps:[]},{provide:Mg,useClass:od,multi:!0,deps:[ve,h.R0b,h.Lbi]},{provide:Mg,useClass:Sf,multi:!0,deps:[ve]},ic,Ef,ds,{provide:h.FYo,useExisting:ic},{provide:class Xu{},useClass:Rg,deps:[]},[]];let Fg=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ad,12))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[...lt,...fs],imports:[Qs,h.hGG]})}return n})(),xf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new r:function ps(){return new xf((0,h.LFG)(ve))}(),s},providedIn:"root"})}return n})();typeof window<"u"&&window;let Vg=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new(r||n):h.LFG(ud),s},providedIn:"root"})}return n})(),ud=(()=>{class n extends Vg{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new h.vHH(5200,!1);case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new h.vHH(5201,!1);default:throw new h.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new r:function Ug(n){return new ud(n.get(ve))}(h.LFG(h.zs3)),s},providedIn:"root"})}return n})();var Un=ee(592),_n=ee(674),aa=ee(582);const yl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function bl(n){return(0,_n.m)(n?.then)}var Of=ee(850);function dd(n){return(0,_n.m)(n[Of.L])}function kf(n){return Symbol.asyncIterator&&(0,_n.m)(n?.[Symbol.asyncIterator])}function Il(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nf=function Bg(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hd(n){return(0,_n.m)(n?.[Nf])}function jg(n){return(0,aa.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:s}=yield(0,aa.qq)(t.read());if(s)return yield(0,aa.qq)(void 0);yield yield(0,aa.qq)(r)}}finally{t.releaseLock()}})}function Ir(n){return(0,_n.m)(n?.getReader)}var _s=ee(894);function Ft(n){if(n instanceof Un.y)return n;if(null!=n){if(dd(n))return function lb(n){return new Un.y(e=>{const t=n[Of.L]();if((0,_n.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yl(n))return function ub(n){return new Un.y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(bl(n))return function Ff(n){return new Un.y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_s.h)})}(n);if(kf(n))return El(n);if(hd(n))return function db(n){return new Un.y(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ir(n))return function zg(n){return El(jg(n))}(n)}throw Il(n)}function El(n){return new Un.y(e=>{(function ac(n,e){var t,r,s,c;return(0,aa.mG)(this,void 0,void 0,function*(){try{for(t=(0,aa.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(u){s={error:u}}finally{try{r&&!r.done&&(c=t.return)&&(yield c.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Vr(n,e,t,r=0,s=!1){const c=e.schedule(function(){t(),s?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(c),!s)return c}var An=ee(360),cn=ee(251);function Ni(n,e=0){return(0,An.e)((t,r)=>{t.subscribe((0,cn.x)(r,s=>Vr(r,n,()=>r.next(s),e),()=>Vr(r,n,()=>r.complete(),e),s=>Vr(r,n,()=>r.error(s),e)))})}function Vo(n,e=0){return(0,An.e)((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ca(n,e){if(!n)throw new Error("Iterable cannot be null");return new Un.y(t=>{Vr(t,e,()=>{const r=n[Symbol.asyncIterator]();Vr(t,e,()=>{r.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function ln(n,e){return e?function hb(n,e){if(null!=n){if(dd(n))return function wl(n,e){return Ft(n).pipe(Vo(e),Ni(e))}(n,e);if(yl(n))return function vs(n,e){return new Un.y(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(bl(n))return function cc(n,e){return Ft(n).pipe(Vo(e),Ni(e))}(n,e);if(kf(n))return ca(n,e);if(hd(n))return function Lf(n,e){return new Un.y(t=>{let r;return Vr(t,e,()=>{r=n[Nf](),Vr(t,e,()=>{let s,c;try{({value:s,done:c}=r.next())}catch(u){return void t.error(u)}c?t.complete():t.next(s)},0,!0)}),()=>(0,_n.m)(r?.return)&&r.return()})}(n,e);if(Ir(n))return function Tl(n,e){return ca(jg(n),e)}(n,e)}throw Il(n)}(n,e):Ft(n)}function Vf(n){return n&&(0,_n.m)(n.schedule)}function Uf(n){return n[n.length-1]}function lc(n){return Vf(Uf(n))?n.pop():void 0}function Ye(...n){return ln(n,lc(n))}var Ur=ee(619);const{isArray:Bf}=Array,{getPrototypeOf:la,prototype:jf,keys:ys}=Object;var yo=ee(737),vt=ee(398);const{isArray:Fi}=Array;function ua(n){return(0,vt.U)(e=>function pb(n,e){return Fi(e)?n(...e):n(e)}(n,e))}function uc(...n){const e=lc(n),t=function fb(n){return(0,_n.m)(Uf(n))?n.pop():void 0}(n),{args:r,keys:s}=function Fw(n){if(1===n.length){const e=n[0];if(Bf(e))return{args:e,keys:null};if(function Hg(n){return n&&"object"==typeof n&&la(n)===jf}(e)){const t=ys(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return ln([],e);const c=new Un.y(function pd(n,e,t=yo.y){return r=>{md(e,()=>{const{length:s}=n,c=new Array(s);let u=s,g=s;for(let y=0;y<s;y++)md(e,()=>{const w=ln(n[y],e);let T=!1;w.subscribe((0,cn.x)(r,S=>{c[y]=S,T||(T=!0,g--),g||r.next(t(c.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,s?u=>function fd(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}(s,u):yo.y));return t?c.pipe(ua(t)):c}function md(n,e,t){n?Vr(t,n,e):e()}const Cl=(0,ee(306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Kn(n,e,t=1/0){return(0,_n.m)(e)?Kn((r,s)=>(0,vt.U)((c,u)=>e(r,c,s,u))(Ft(n(r,s))),t):("number"==typeof e&&(t=e),(0,An.e)((r,s)=>function $g(n,e,t,r,s,c,u,g){const y=[];let w=0,T=0,S=!1;const P=()=>{S&&!y.length&&!w&&e.complete()},V=ne=>w<r?X(ne):y.push(ne),X=ne=>{c&&e.next(ne),w++;let ce=!1;Ft(t(ne,T++)).subscribe((0,cn.x)(e,Te=>{s?.(Te),c?V(Te):e.next(Te)},()=>{ce=!0},void 0,()=>{if(ce)try{for(w--;y.length&&w<r;){const Te=y.shift();u?Vr(e,u,()=>X(Te)):X(Te)}P()}catch(Te){e.error(Te)}}))};return n.subscribe((0,cn.x)(e,V,()=>{S=!0,P()})),()=>{g?.()}}(r,s,n,t)))}function da(n=1/0){return Kn(yo.y,n)}function Uo(...n){return function mb(){return da(1)}()(ln(n,lc(n)))}function bo(n){return new Un.y(e=>{Ft(n()).subscribe(e)})}var Hf=ee(407);function bs(n,e){const t=(0,_n.m)(n)?n:()=>n,r=s=>s.error(t());return new Un.y(e?s=>e.schedule(r,0,s):r)}const pi=new Un.y(n=>n.complete());var vn=ee(394);function gd(){return(0,An.e)((n,e)=>{let t=null;n._refCount++;const r=(0,cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,c=t;t=null,s&&(!c||s===c)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _d extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,An.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vn.w0.EMPTY)}return e}refCount(){return gd()(this)}}var Kt=ee(645);function hr(n,e){return(0,An.e)((t,r)=>{let s=null,c=0,u=!1;const g=()=>u&&!s&&r.complete();t.subscribe((0,cn.x)(r,y=>{s?.unsubscribe();let w=0;const T=c++;Ft(n(y,T)).subscribe(s=(0,cn.x)(r,S=>r.next(e?e(y,S,T,w++):S),()=>{s=null,g()}))},()=>{u=!0,g()}))})}function ii(n){return n<=0?()=>pi:(0,An.e)((e,t)=>{let r=0;e.subscribe((0,cn.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function qi(...n){const e=lc(n);return(0,An.e)((t,r)=>{(e?Uo(n,t,e):Uo(n,t)).subscribe(r)})}function Mn(n,e){return(0,An.e)((t,r)=>{let s=0;t.subscribe((0,cn.x)(r,c=>n.call(e,c,s++)&&r.next(c)))})}function Bo(n){return(0,An.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function ha(n=vd){return(0,An.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function vd(){return new Cl}function Io(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mn((s,c)=>n(s,c,r)):yo.y,ii(1),t?Bo(e):ha(()=>new Cl))}function Eo(n,e){return(0,_n.m)(e)?Kn(n,e,1):Kn(n,1)}function Er(n,e,t){const r=(0,_n.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,An.e)((s,c)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let g=!0;s.subscribe((0,cn.x)(c,y=>{var w;null===(w=r.next)||void 0===w||w.call(r,y),c.next(y)},()=>{var y;g=!1,null===(y=r.complete)||void 0===y||y.call(r),c.complete()},y=>{var w;g=!1,null===(w=r.error)||void 0===w||w.call(r,y),c.error(y)},()=>{var y,w;g&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):yo.y}function hc(n){return(0,An.e)((e,t)=>{let c,r=null,s=!1;r=e.subscribe((0,cn.x)(t,void 0,void 0,u=>{c=Ft(n(u,hc(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,c.subscribe(t))})}function Gf(n,e){return(0,An.e)(function $f(n,e,t,r,s){return(c,u)=>{let g=t,y=e,w=0;c.subscribe((0,cn.x)(u,T=>{const S=w++;y=g?n(y,T,S):(g=!0,T),r&&u.next(y)},s&&(()=>{g&&u.next(y),u.complete()})))}}(n,e,arguments.length>=2,!0))}function Gg(n){return n<=0?()=>pi:(0,An.e)((e,t)=>{let r=[];e.subscribe((0,cn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function qg(n){return(0,An.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var fc=ee(420);function yd(n){return(0,An.e)((e,t)=>{Ft(n).subscribe((0,cn.x)(t,()=>t.complete(),fc.Z)),!t.closed&&e.subscribe(t)})}const St="primary",yn=Symbol("RouteTitle");class gb{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wo(n){return new gb(n)}function _b(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let c=0;c<r.length;c++){const u=r[c],g=n[c];if(u.startsWith(":"))s[u.substring(1)]=g;else if(u!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Zr(n,e){const t=n?Dl(n):void 0,r=e?Dl(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let c=0;c<t.length;c++)if(s=t[c],!Al(n[s],e[s]))return!1;return!0}function Dl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Al(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,c)=>r[c]===s)}return n===e}function Zi(n){return function Pf(n){return!!n&&(n instanceof Un.y||(0,_n.m)(n.lift)&&(0,_n.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?ln(Promise.resolve(n)):Ye(n)}const qf={exact:function Br(n,e,t){if(!zo(n.segments,e.segments)||!pc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Br(n.children[r],e.children[r],t))return!1;return!0},subset:jo},vb={exact:function Zg(n,e){return Zr(n,e)},subset:function Wf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Al(n[t],e[t]))},ignored:()=>!0};function Zf(n,e,t){return qf[t.paths](n.root,e.root,t.matrixParams)&&vb[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jo(n,e,t){return yb(n,e,e.segments,t)}function yb(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!zo(s,t)||e.hasChildren()||!pc(s,t,r))}if(n.segments.length===t.length){if(!zo(n.segments,t)||!pc(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!jo(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(zo(n.segments,s)&&pc(n.segments,s,r)&&n.children[St])&&yb(n.children[St],e,c,r)}}function pc(n,e,t){return e.every((r,s)=>vb[t](n[s].parameters,r.parameters))}class mc{constructor(e=new nn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wo(this.queryParams)),this._queryParamMap}toString(){return Yg.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pa(this)}}class Sl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wo(this.parameters)),this._parameterMap}toString(){return Es(this)}}function zo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Wi=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>new fa,providedIn:"root"})}return n})();class fa{parse(e){const t=new Kf(e);return new mc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xl(e.root,!0)}`,r=function _c(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(s=>`${bd(t)}=${bd(s)}`).join("&"):`${bd(t)}=${bd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Kg(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Yg=new fa;function pa(n){return n.segments.map(e=>Es(e)).join("/")}function xl(n,e){if(!n.hasChildren())return pa(n);if(e){const t=n.children[St]?xl(n.children[St],!1):"",r=[];return Object.entries(n.children).forEach(([s,c])=>{s!==St&&r.push(`${s}:${xl(c,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Wg(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===St&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==St&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===St?[xl(n.children[St],!1)]:[`${s}:${xl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${pa(n)}/${t[0]}`:`${pa(n)}/(${t.join("//")})`}}function Rl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(n){return Rl(n).replace(/%3B/gi,";")}function gc(n){return Rl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ma(n){return decodeURIComponent(n)}function Qg(n){return ma(n.replace(/\+/g,"%20"))}function Es(n){return`${gc(n.path)}${function bb(n){return Object.entries(n).map(([e,t])=>`;${gc(e)}=${gc(t)}`).join("")}(n.parameters)}`}const ga=/^[^\/()?;#]+/;function Yf(n){const e=n.match(ga);return e?e[0]:""}const Xg=/^[^\/()?;=#]+/,Ib=/^[^=?&#]+/,Eb=/^[^&#]+/;class Kf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new nn(e,t)),r}parseSegment(){const e=Yf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new Sl(ma(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Jg(n){const e=n.match(Xg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Yf(this.remaining);s&&(r=s,this.capture(r))}e[ma(t)]=ma(r)}parseQueryParam(e){const t=function e_(n){const e=n.match(Ib);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function wb(n){const e=n.match(Eb);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const s=Qg(t),c=Qg(r);if(e.hasOwnProperty(s)){let u=e[s];Array.isArray(u)||(u=[u],e[s]=u),u.push(c)}else e[s]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yf(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=St);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[St]:new nn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function ws(n){return n.segments.length>0?new nn([],{[St]:n}):n}function Qf(n){const e={};for(const[r,s]of Object.entries(n.children)){const c=Qf(s);if(r===St&&0===c.segments.length&&c.hasChildren())for(const[u,g]of Object.entries(c.children))e[u]=g;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function Xf(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function To(n){return n instanceof mc}function Jf(n){let e;const s=ws(function t(c){const u={};for(const y of c.children){const w=t(y);u[y.outlet]=w}const g=new nn(c.url,u);return c===n&&(e=g),g}(n.root));return e??s}function Ml(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return Ed(s,s,s,t,r);const c=function ep(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new t_(!0,0,n);let e=0,t=!1;const r=n.reduce((s,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Object.entries(c.outlets).forEach(([y,w])=>{g[y]="string"==typeof w?w.split("/"):w}),[...s,{outlets:g}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===u?(c.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,c]},[]);return new t_(t,e,r)}(e);if(c.toRoot())return Ed(s,s,new nn([],{}),t,r);const u=function n_(n,e,t){if(n.isAbsolute)return new Cs(e,!0,0);if(!t)return new Cs(e,!1,NaN);if(null===t.parent)return new Cs(t,!0,0);const r=Pl(n.commands[0])?0:1;return function _a(n,e,t){let r=n,s=e,c=t;for(;c>s;){if(c-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new Cs(r,!1,s-c)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(c,s,n),g=u.processChildren?Ds(u.segmentGroup,u.index,c.commands):Ol(u.segmentGroup,u.index,c.commands);return Ed(s,u.segmentGroup,g,t,r)}function Pl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ts(n){return"object"==typeof n&&null!=n&&n.outlets}function Ed(n,e,t,r,s){let u,c={};r&&Object.entries(r).forEach(([y,w])=>{c[y]=Array.isArray(w)?w.map(T=>`${T}`):`${w}`}),u=n===e?t:vc(n,e,t);const g=ws(Qf(u));return new mc(g,c,s)}function vc(n,e,t){const r={};return Object.entries(n.children).forEach(([s,c])=>{r[s]=c===e?t:vc(c,e,t)}),new nn(n.segments,r)}class t_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new h.vHH(4003,!1);const s=r.find(Ts);if(s&&s!==r.at(-1))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cs{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ol(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return Ds(n,e,t);const r=function Cb(n,e,t){let r=0,s=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return c;const u=n.segments[s],g=t[r];if(Ts(g))break;const y=`${g}`,w=r<t.length-1?t[r+1]:null;if(s>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!va(y,w,u))return c;r+=2}else{if(!va(y,{},u))return c;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new nn(n.segments.slice(0,r.pathIndex),{});return c.children[St]=new nn(n.segments.slice(r.pathIndex),n.children),Ds(c,0,s)}return r.match&&0===s.length?new nn(n.segments,{}):r.match&&!n.hasChildren()?kl(n,e,t):r.match?Ds(n,0,s):kl(n,e,t)}function Ds(n,e,t){if(0===t.length)return new nn(n.segments,{});{const r=function Tb(n){return Ts(n[0])?n[0].outlets:{[St]:n}}(t),s={};if(Object.keys(r).some(c=>c!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const c=Ds(n.children[St],e,t);return new nn(n.segments,c.children)}return Object.entries(r).forEach(([c,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(s[c]=Ol(n.children[c],e,u))}),Object.entries(n.children).forEach(([c,u])=>{void 0===r[c]&&(s[c]=u)}),new nn(n.segments,s)}}function kl(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const c=t[s];if(Ts(c)){const y=wd(c.outlets);return new nn(r,y)}if(0===s&&Pl(t[0])){r.push(new Sl(n.segments[e].path,Wr(t[0]))),s++;continue}const u=Ts(c)?c.outlets[St]:`${c}`,g=s<t.length-1?t[s+1]:null;u&&g&&Pl(g)?(r.push(new Sl(u,Wr(g))),s+=2):(r.push(new Sl(u,{})),s++)}return new nn(r,{})}function wd(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=kl(new nn([],{}),0,r))}),e}function Wr(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function va(n,e,t){return n==t.path&&Zr(e,t.parameters)}const As="imperative";class Co{constructor(e,t){this.id=e,this.url=t}}class Td extends Co{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yi extends Co{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ki extends Co{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ya extends Co{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class yc extends Co{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cd extends Co{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dd extends Co{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Db extends Co{constructor(e,t,r,s,c){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nl extends Co{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r_ extends Co{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fl{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ab{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ad{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rp{}class Sd{constructor(e){this.url=e}}class gi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ba,this.attachRef=null}}let ba=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gi,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ho{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ll(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Ll(e,this._root).map(t=>t.value)}}function bc(n,e){if(n===e.value)return e;for(const t of e.children){const r=bc(n,t);if(r)return r}return null}function Ll(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ll(n,t);if(r.length)return r.unshift(e),r}return[]}class un{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xd extends Ho{constructor(e,t){super(e),this.snapshot=t,Ia(this,e)}toString(){return this.snapshot.toString()}}function Rd(n){const e=function $o(n){const c=new Md([],{},{},"",{},St,n,null,{});return new ip("",new un(c,[]))}(n),t=new Ur.X([new Sl("",{})]),r=new Ur.X({}),s=new Ur.X({}),c=new Ur.X({}),u=new Ur.X(""),g=new fr(t,r,c,u,s,St,n,e.root);return g.snapshot=e.root,new xd(new un(g,[]),e)}class fr{constructor(e,t,r,s,c,u,g,y){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=c,this.outlet=u,this.component=g,this._futureSnapshot=y,this.title=this.dataSubject?.pipe((0,vt.U)(w=>w[yn]))??Ye(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>wo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>wo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vl(n,e,t="emptyOnly"){let r;const{routeConfig:s}=n;return r=null===e||"always"!==t&&""!==s?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...s?.data,...n._resolvedData}},s&&o_(s)&&(r.resolve[yn]=s.title),r}class Md{get title(){return this.data?.[yn]}constructor(e,t,r,s,c,u,g,y,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=c,this.outlet=u,this.component=g,this.routeConfig=y,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ip extends Ho{constructor(e,t){super(t),this.url=e,Ia(this,t)}toString(){return Sb(this._root)}}function Ia(n,e){e.value._routerState=n,e.children.forEach(t=>Ia(n,t))}function Sb(n){const e=n.children.length>0?` { ${n.children.map(Sb).join(", ")} } `:"";return`${n.value}${e}`}function op(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zr(e.params,t.params)||n.paramsSubject.next(t.params),function oi(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Zr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function sp(n,e){const t=Zr(n.params,e.params)&&function Uw(n,e){return zo(n,e)&&n.every((t,r)=>Zr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sp(n.parent,e.parent))}function o_(n){return"string"==typeof n.title||null===n.title}let v=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(ba),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(m,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const s=this.location,u=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new f(t,g,s.injector);this.activated=s.createComponent(u,{index:s.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return n})();class f{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fr?this.route:e===ba?this.childContexts:this.parent.get(e,t)}}const m=new h.OlP("");let I=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=uc([r.queryParams,r.params,r.data]).pipe(hr(([c,u,g],y)=>(g={...c,...u,...g},0===y?Ye(g):Promise.resolve(g)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const u=(0,h.qFp)(r.component);if(u)for(const{templateName:g}of u.inputs)t.activatedComponentRef.setInput(g,c[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function R(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function O(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return R(n,r,s);return R(n,r)})}(n,e,t);return new un(r,s)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(g=>R(n,g)),u}}const r=function G(n){return new fr(new Ur.X(n.url),new Ur.X(n.params),new Ur.X(n.queryParams),new Ur.X(n.fragment),new Ur.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(c=>R(n,c));return new un(r,s)}}const se="ngNavigationCancelingError";function Ce(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=To(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Fe(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function Fe(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[se]=!0,r.cancellationCode=e,t&&(r.url=t),r}function dn(n){return n&&n[se]}let _i=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[v],encapsulation:2})}return n})();function cp(n){const e=n.children&&n.children.map(cp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=_i),t}function Li(n){return n.outlet||St}function kd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class NP{constructor(e,t,r,s,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=c}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),op(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=xs(t);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,s[u],r),delete s[u]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const s=e.value,c=t?t.value:null;if(s===c)if(s.component){const u=r.getContext(s.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,c=xs(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);if(r&&r.outlet){const u=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,c=xs(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=xs(t);e.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],r),this.forwardEvent(new np(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Ab(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,c=t?t.value:null;if(op(s),s===c)if(s.component){const u=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const u=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(g.contexts),u.attachRef=g.componentRef,u.route=g.route.value,u.outlet&&u.outlet.attach(g.componentRef,g.route.value),op(g.route.value),this.activateChildRoutes(e,null,u.children)}else{const g=kd(s.snapshot);u.attachRef=null,u.route=s,u.injector=g,u.outlet&&u.outlet.activateWith(s,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class jw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ul{constructor(e,t){this.component=e,this.route=t}}function u_(n,e,t){const r=n._root;return Nd(r,e?e._root:null,t,[r.value])}function Bl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Nd(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=xs(e);return n.children.forEach(u=>{(function lp(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,u=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const y=function WS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!zo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zo(n.url,e.url)||!Zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sp(n,e)||!Zr(n.queryParams,e.queryParams);default:return!sp(n,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new jw(r)):(c.data=u.data,c._resolvedData=u._resolvedData),Nd(n,e,c.component?g?g.children:null:t,r,s),y&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new Ul(g.outlet.component,u))}else u&&Fd(e,g,s),s.canActivateChecks.push(new jw(r)),Nd(n,null,c.component?g?g.children:null:t,r,s)})(u,c[u.value.outlet],t,r.concat([u.value]),s),delete c[u.value.outlet]}),Object.entries(c).forEach(([u,g])=>Fd(g,t.getContext(u),s)),s}function Fd(n,e,t){const r=xs(n),s=n.value;Object.entries(r).forEach(([c,u])=>{Fd(u,s.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ul(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Ld(n){return"function"==typeof n}function zw(n){return n instanceof Cl||"EmptyError"===n?.name}const p_=Symbol("INITIAL_VALUE");function Vd(){return hr(n=>uc(n.map(e=>e.pipe(ii(1),qi(p_)))).pipe((0,vt.U)(e=>{for(const t of e)if(!0!==t){if(t===p_)return p_;if(!1===t||t instanceof mc)return t}return!0}),Mn(e=>e!==p_),ii(1)))}function Nb(n){return(0,Hf.z)(Er(e=>{if(To(e))throw Ce(0,e)}),(0,vt.U)(e=>!0===e))}class Fb{constructor(e){this.segmentGroup=e||null}}class m_ extends Error{constructor(e){super(),this.urlTree=e}}function Ud(n){return bs(new Fb(n))}class rx{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ye(r);if(s.numberOfChildren>1||!s.children[St])return bs(new h.vHH(4e3,!1));s=s.children[St]}}applyRedirectCommands(e,t,r){const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new m_(s);return s}applyRedirectCreateUrlTree(e,t,r,s){const c=this.createSegmentGroup(e,t.root,r,s);return new mc(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,c])=>{if("string"==typeof c&&c.startsWith(":")){const g=c.substring(1);r[s]=t[g]}else r[s]=c}),r}createSegmentGroup(e,t,r,s){const c=this.createSegments(e,t.segments,r,s);let u={};return Object.entries(t.children).forEach(([g,y])=>{u[g]=this.createSegmentGroup(e,y,r,s)}),new nn(c,u)}createSegments(e,t,r,s){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,s):this.findOrReturn(c,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new h.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const Lb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vb(n,e,t,r,s){const c=dp(n,e,t);return c.matched?(r=function Pd(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Gw(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?Ye(s.map(u=>{const g=Bl(u,n);return Zi(function QS(n){return n&&Ld(n.canMatch)}(g)?g.canMatch(e,t):(0,h.r_H)(n,()=>g(e,t)))})).pipe(Vd(),Nb()):Ye(!0)}(r,e,t).pipe((0,vt.U)(u=>!0===u?c:{...Lb}))):Ye(c)}function dp(n,e,t){if("**"===e.path)return function ix(n){return{matched:!0,parameters:n.at(-1)?.parameters??{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Lb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||_b)(t,n,e);if(!s)return{...Lb};const c={};Object.entries(s.posParams??{}).forEach(([g,y])=>{c[g]=y.path});const u=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:u,positionalParamSegments:s.posParams??{}}}function jl(n,e,t,r){return t.length>0&&function Ub(n,e,t){return t.some(r=>v_(n,e,r)&&Li(r)!==St)}(n,t,r)?{segmentGroup:new nn(e,Zw(r,new nn(t,n.children))),slicedSegments:[]}:0===t.length&&function __(n,e,t){return t.some(r=>v_(n,e,r))}(n,t,r)?{segmentGroup:new nn(n.segments,g_(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new nn(n.segments,n.children),slicedSegments:t}}function g_(n,e,t,r){const s={};for(const c of t)if(v_(n,e,c)&&!r[Li(c)]){const u=new nn([],{});s[Li(c)]=u}return{...r,...s}}function Zw(n,e){const t={};t[St]=e;for(const r of n)if(""===r.path&&Li(r)!==St){const s=new nn([],{});t[Li(r)]=s}return t}function v_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class sx{}class Yw{constructor(e,t,r,s,c,u,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=u,this.urlSerializer=g,this.applyRedirects=new rx(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new h.vHH(4002,`'${e.segmentGroup}'`)}recognize(){const e=jl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,vt.U)(t=>{const r=new Md([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),s=new un(r,t),c=new ip("",s),u=function Id(n,e,t=null,r=null){return Ml(Jf(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(c._root,null),{state:c,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,St).pipe(hc(r=>{if(r instanceof m_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fb?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,s=Vl(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),e.children.forEach(c=>this.inheritParamsAndData(c,r))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0).pipe((0,vt.U)(c=>c instanceof un?[c]:[]))}processChildren(e,t,r){const s=[];for(const c of Object.keys(r.children))"primary"===c?s.unshift(c):s.push(c);return ln(s).pipe(Eo(c=>{const u=r.children[c],g=function l_(n,e){const t=n.filter(r=>Li(r)===e);return t.push(...n.filter(r=>Li(r)!==e)),t}(t,c);return this.processSegmentGroup(e,g,u,c)}),Gf((c,u)=>(c.push(...u),c)),Bo(null),function Lw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mn((s,c)=>n(s,c,r)):yo.y,Gg(1),t?Bo(e):ha(()=>new Cl))}(),Kn(c=>{if(null===c)return Ud(r);const u=b_(c);return function hp(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(u),Ye(u)}))}processSegment(e,t,r,s,c,u){return ln(t).pipe(Eo(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,s,c,u).pipe(hc(y=>{if(y instanceof Fb)return Ye(null);throw y}))),Io(g=>!!g),hc(g=>{if(zw(g))return function Ww(n,e,t){return 0===e.length&&!n.children[t]}(r,s,c)?Ye(new sx):Ud(r);throw g}))}processSegmentAgainstRoute(e,t,r,s,c,u,g){return function ox(n,e,t,r){return!!(Li(n)===r||r!==St&&v_(e,t,n))&&dp(e,n,t).matched}(r,s,c,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,c,u):this.allowRedirects&&g?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,c,u):Ud(s):Ud(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,c,u){const{matched:g,consumedSegments:y,positionalParamSegments:w,remainingSegments:T}=dp(t,s,c);if(!g)return Ud(t);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const S=this.applyRedirects.applyRedirectCommands(y,s.redirectTo,w);return this.applyRedirects.lineralizeSegments(s,S).pipe(Kn(P=>this.processSegment(e,r,t,P.concat(T),u,!1)))}matchSegmentAgainstRoute(e,t,r,s,c){const u=Vb(t,r,s,e);return"**"===r.path&&(t.children={}),u.pipe(hr(g=>g.matched?this.getChildConfig(e=r._injector??e,r,s).pipe(hr(({routes:y})=>{const w=r._loadedInjector??e,{consumedSegments:T,remainingSegments:S,parameters:P}=g,V=new Md(T,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function lx(n){return n.data||{}}(r),Li(r),r.component??r._loadedComponent??null,r,function Bb(n){return n.resolve||{}}(r)),{segmentGroup:X,slicedSegments:ne}=jl(t,T,S,y);if(0===ne.length&&X.hasChildren())return this.processChildren(w,y,X).pipe((0,vt.U)(Te=>null===Te?null:new un(V,Te)));if(0===y.length&&0===ne.length)return Ye(new un(V,[]));const ce=Li(r)===c;return this.processSegment(w,y,X,ne,ce?St:c,!0).pipe((0,vt.U)(Te=>new un(V,Te instanceof un?[Te]:[])))})):Ud(t)))}getChildConfig(e,t,r){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function up(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?Ye(!0):Ye(s.map(u=>{const g=Bl(u,n);return Zi(function h_(n){return n&&Ld(n.canLoad)}(g)?g.canLoad(e,t):(0,h.r_H)(n,()=>g(e,t)))})).pipe(Vd(),Nb())}(e,t,r).pipe(Kn(s=>s?this.configLoader.loadChildren(e,t).pipe(Er(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function qw(n){return bs(Fe(!1,3))}())):Ye({routes:[],injector:e})}}function y_(n){const e=n.value.routeConfig;return e&&""===e.path}function b_(n){const e=[],t=new Set;for(const r of n){if(!y_(r)){e.push(r);continue}const s=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=b_(r.children);e.push(new un(r.value,s))}return e.filter(r=>!t.has(r))}function jb(n){const e=n.children.map(t=>jb(t)).flat();return[n,...e]}function Bd(n){return hr(e=>{const t=n(e);return t?ln(t).pipe((0,vt.U)(()=>e)):Ye(e)})}let Xw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===St);return r}getResolvedTitleForRoute(t){return t.data[yn]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(Jw),providedIn:"root"})}return n})(),Jw=(()=>{class n extends Xw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(xf))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hl=new h.OlP("",{providedIn:"root",factory:()=>({})}),$l=new h.OlP("ROUTES");let fp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Zi(t.loadComponent()).pipe((0,vt.U)(jd),Er(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),qg(()=>{this.componentLoaders.delete(t)})),s=new _d(r,()=>new Kt.x).pipe(gd());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function eT(n,e,t,r){return Zi(n.loadChildren()).pipe((0,vt.U)(jd),Kn(s=>s instanceof h.YKP||Array.isArray(s)?Ye(s):ln(e.compileModuleAsync(s))),(0,vt.U)(s=>{r&&r(n);let c,u,g=!1;return Array.isArray(s)?(u=s,!0):(c=s.create(t).injector,u=c.get($l,[],{optional:!0,self:!0}).flat()),{routes:u.map(cp),injector:c}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(qg(()=>{this.childrenLoaders.delete(r)})),u=new _d(c,()=>new Kt.x).pipe(gd());return this.childrenLoaders.set(r,u),u}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jd(n){return function I_(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let E_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(zb),providedIn:"root"})}return n})(),zb=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pp=new h.OlP(""),Hb=new h.OlP("");function $b(n,e,t){const r=n.get(Hb),s=n.get(ve);return n.get(h.R0b).runOutsideAngular(()=>{if(!s.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let c;const u=new Promise(w=>{c=w}),g=s.startViewTransition(()=>(c(),function w_(n){return new Promise(e=>{(0,h.T8G)(e,{injector:n})})}(n))),{onViewTransitionCreated:y}=r;return y&&(0,h.r_H)(n,()=>y({transition:g,from:e,to:t})),u})}let T_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Kt.x,this.transitionAbortSubject=new Kt.x,this.configLoader=(0,h.f3M)(fp),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Wi),this.rootContexts=(0,h.f3M)(ba),this.location=(0,h.f3M)(ze),this.inputBindingEnabled=null!==(0,h.f3M)(m,{optional:!0}),this.titleStrategy=(0,h.f3M)(Xw),this.options=(0,h.f3M)(Hl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,h.f3M)(E_),this.createViewTransition=(0,h.f3M)(pp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Fl(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new mi(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,s){return this.transitions=new Ur.X({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:As,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mn(c=>0!==c.id),(0,vt.U)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),hr(c=>{this.currentTransition=c;let u=!1,g=!1;return Ye(c).pipe(Er(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hr(y=>{const w=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(y.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new ya(y.id,this.urlSerializer.serialize(y.rawUrl),S,0)),y.resolve(null),pi}if(this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Ye(y).pipe(hr(S=>{const P=this.transitions?.getValue();return this.events.next(new Td(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions?.getValue()?pi:Promise.resolve(S)}),function Kw(n,e,t,r,s,c){return Kn(u=>function ax(n,e,t,r,s,c,u="emptyOnly"){return new Yw(n,e,t,r,s,u,c).recognize()}(n,e,t,r,u.extractedUrl,s,c).pipe((0,vt.U)(({state:g,tree:y})=>({...u,targetSnapshot:g,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Er(S=>{c.targetSnapshot=S.targetSnapshot,c.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const P=new Cd(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:S,extractedUrl:P,source:V,restoredState:X,extras:ne}=y,ce=new Td(S,this.urlSerializer.serialize(P),V,X);this.events.next(ce);const Te=Rd(this.rootComponentType).snapshot;return this.currentTransition=c={...y,targetSnapshot:Te,urlAfterRedirects:P,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=P,Ye(c)}{const S="";return this.events.next(new ya(y.id,this.urlSerializer.serialize(y.extractedUrl),S,1)),y.resolve(null),pi}}),Er(y=>{const w=new Dd(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),(0,vt.U)(y=>(this.currentTransition=c={...y,guards:u_(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},c)),function Hw(n,e){return Kn(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?Ye({...t,guardsResult:!0}):function JS(n,e,t,r){return ln(n).pipe(Kn(s=>function si(n,e,t,r,s){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?Ye(c.map(g=>{const y=kd(e)??s,w=Bl(g,y);return Zi(function KS(n){return n&&Ld(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):(0,h.r_H)(y,()=>w(n,e,t,r))).pipe(Io())})).pipe(Vd()):Ye(!0)}(s.component,s.route,t,e,r)),Io(s=>!0!==s,!0))}(u,r,s,n).pipe(Kn(g=>g&&function d_(n){return"boolean"==typeof n}(g)?function ex(n,e,t,r){return ln(e).pipe(Eo(s=>Uo(function Ob(n,e){return null!==n&&e&&e(new tp(n)),Ye(!0)}(s.route.parent,r),function Vi(n,e){return null!==n&&e&&e(new Ad(n)),Ye(!0)}(s.route,r),function kb(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function Mb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>bo(()=>Ye(u.guards.map(y=>{const w=kd(u.node)??t,T=Bl(y,w);return Zi(function YS(n){return n&&Ld(n.canActivateChild)}(T)?T.canActivateChild(r,n):(0,h.r_H)(w,()=>T(r,n))).pipe(Io())})).pipe(Vd())));return Ye(c).pipe(Vd())}(n,s.path,t),function $w(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const s=r.map(c=>bo(()=>{const u=kd(e)??t,g=Bl(c,u);return Zi(function f_(n){return n&&Ld(n.canActivate)}(g)?g.canActivate(e,n):(0,h.r_H)(u,()=>g(e,n))).pipe(Io())}));return Ye(s).pipe(Vd())}(n,s.route,t))),Io(s=>!0!==s,!0))}(r,c,n,e):Ye(g)),(0,vt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,y=>this.events.next(y)),Er(y=>{if(c.guardsResult=y.guardsResult,To(y.guardsResult))throw Ce(0,y.guardsResult);const w=new Db(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(w)}),Mn(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),Bd(y=>{if(y.guards.canActivateChecks.length)return Ye(y).pipe(Er(w=>{const T=new Nl(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(T)}),hr(w=>{let T=!1;return Ye(w).pipe(function zl(n,e){return Kn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return Ye(t);const c=new Set(s.map(y=>y.route)),u=new Set;for(const y of c)if(!u.has(y))for(const w of jb(y))u.add(w);let g=0;return ln(u).pipe(Eo(y=>c.has(y)?function Qw(n,e,t,r){const s=n.routeConfig,c=n._resolve;return void 0!==s?.title&&!o_(s)&&(c[yn]=s.title),function ux(n,e,t,r){const s=Dl(n);if(0===s.length)return Ye({});const c={};return ln(s).pipe(Kn(u=>function LP(n,e,t,r){const s=kd(e)??r,c=Bl(n,s);return Zi(c.resolve?c.resolve(e,t):(0,h.r_H)(s,()=>c(e,t)))}(n[u],e,t,r).pipe(Io(),Er(g=>{c[u]=g}))),Gg(1),function Vw(n){return(0,vt.U)(()=>n)}(c),hc(u=>zw(u)?pi:bs(u)))}(c,n,e,r).pipe((0,vt.U)(u=>(n._resolvedData=u,n.data=Vl(n,n.parent,t).resolve,null)))}(y,r,n,e):(y.data=Vl(y,y.parent,n).resolve,Ye(void 0))),Er(()=>g++),Gg(1),Kn(y=>g===u.size?Ye(t):pi))})}(this.paramsInheritanceStrategy,this.environmentInjector),Er({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(w,"",2)}}))}),Er(w=>{const T=new r_(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(T)}))}),Bd(y=>{const w=T=>{const S=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(T.routeConfig).pipe(Er(P=>{T.component=P}),(0,vt.U)(()=>{})));for(const P of T.children)S.push(...w(P));return S};return uc(w(y.targetSnapshot.root)).pipe(Bo(null),ii(1))}),Bd(()=>this.afterPreactivation()),hr(()=>{const{currentSnapshot:y,targetSnapshot:w}=c,T=this.createViewTransition?.(this.environmentInjector,y.root,w.root);return T?ln(T).pipe((0,vt.U)(()=>c)):Ye(c)}),(0,vt.U)(y=>{const w=function D(n,e,t){const r=R(n,e._root,t?t._root:void 0);return new xd(r,e)}(t.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=c={...y,targetRouterState:w},this.currentNavigation.targetRouterState=w,c}),Er(()=>{this.events.next(new rp)}),((n,e,t,r)=>(0,vt.U)(s=>(new NP(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),ii(1),Er({next:y=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yi(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),this.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{u=!0}}),yd(this.transitionAbortSubject.pipe(Er(y=>{throw y}))),qg(()=>{u||g||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),hc(y=>{if(g=!0,dn(y))this.events.next(new Ki(c.id,this.urlSerializer.serialize(c.extractedUrl),y.message,y.cancellationCode)),function $e(n){return dn(n)&&To(n.url)}(y)?this.events.next(new Sd(y.url)):c.resolve(!1);else{this.events.next(new yc(c.id,this.urlSerializer.serialize(c.extractedUrl),y,c.targetSnapshot??void 0));try{c.resolve(t.errorHandler(y))}catch(w){c.reject(w)}}return pi}))}))}cancelNavigationTransition(t,r,s){const c=new Ki(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(c),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tT(n){return n!==As}let dx=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(fx),providedIn:"root"})}return n})();class hx{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let fx=(()=>{class n extends hx{static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}})();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(nT),providedIn:"root"})}return n})(),nT=(()=>{class n extends Gb{constructor(){super(...arguments),this.location=(0,h.f3M)(ze),this.urlSerializer=(0,h.f3M)(Wi),this.options=(0,h.f3M)(Hl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,h.f3M)(E_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rd(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Td)this.stateMemento=this.createStateMemento();else if(t instanceof ya)this.rawUrlTree=r.initialUrl;else if(t instanceof Cd){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else t instanceof rp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Ki&&(3===t.code||2===t.code)?this.restoreHistory(r):t instanceof yc?this.restoreHistory(r,!0):t instanceof Yi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",u)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(s,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===t.finalUrl&&0===c&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}})();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ic=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ic||{});function C_(n,e){n.events.pipe(Mn(t=>t instanceof Yi||t instanceof Ki||t instanceof yc||t instanceof ya),(0,vt.U)(t=>t instanceof Yi||t instanceof ya?Ic.COMPLETE:t instanceof Ki&&(0===t.code||1===t.code)?Ic.REDIRECTING:Ic.FAILED),Mn(t=>t!==Ic.REDIRECTING),ii(1)).subscribe(()=>{e()})}function zd(n){throw n}const px={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Do=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,h.f3M)(h.c2e),this.stateManager=(0,h.f3M)(Gb),this.options=(0,h.f3M)(Hl,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,h.f3M)(T_),this.urlSerializer=(0,h.f3M)(Wi),this.location=(0,h.f3M)(ze),this.urlHandlingStrategy=(0,h.f3M)(E_),this._events=new Kt.x,this.errorHandler=this.options.errorHandler||zd,this.navigated=!1,this.routeReuseStrategy=(0,h.f3M)(dx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,h.f3M)($l,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,h.f3M)(m,{optional:!0}),this.eventsSubscription=new vn.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==s&&null!==c)if(this.stateManager.handleRouterEvent(r,c),r instanceof Ki&&0!==r.code&&1!==r.code)this.navigated=!0;else if(r instanceof Yi)this.navigated=!0;else if(r instanceof Sd){const u=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),g={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tT(s.source)};this.scheduleNavigation(u,As,null,g,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function D_(n){return!(n instanceof rp||n instanceof Sd)})(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),As,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)}))}navigateToSyncWithBrowser(t,r,s){const c={replaceUrl:!0},u=s?.navigationId?s:null;if(s){const y={...s};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(c.state=y)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:s,queryParams:c,fragment:u,queryParamsHandling:g,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:u;let S,T=null;switch(g){case"merge":T={...this.currentUrlTree.queryParams,...c};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}null!==T&&(T=this.removeEmptyProps(T));try{S=Jf(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),S=this.currentUrlTree.root}return Ml(S,t,T,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=To(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,As,null,r)}navigate(t,r={skipLocationChange:!1}){return function gx(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let s;if(s=!0===r?{...px}:!1===r?{...mx}:r,To(t))return Zf(this.currentUrlTree,t,s);const c=this.parseUrl(t);return Zf(this.currentUrlTree,c,s)}removeEmptyProps(t){return Object.entries(t).reduce((r,[s,c])=>(null!=c&&(r[s]=c),r),{})}scheduleNavigation(t,r,s,c,u){if(this.disposed)return Promise.resolve(!1);let g,y,w;u?(g=u.resolve,y=u.reject,w=u.promise):w=new Promise((S,P)=>{g=S,y=P});const T=this.pendingTasks.add();return C_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:g,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(S=>Promise.reject(S))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gl=(()=>{class n{constructor(t,r,s,c,u,g){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=c,this.el=u,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Kt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const y=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof Yi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,c,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||c||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,c=this.el.nativeElement;null!==r?s.setAttribute(c,t,r):s.removeAttribute(c,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Do),h.Y36(fr),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(qe))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){1&r&&h.NdJ("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&r&&h.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]})}return n})();class qb{}let _x=(()=>{class n{constructor(t,r,s,c,u){this.router=t,this.injector=s,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Mn(t=>t instanceof Yi),Eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,h.MMx)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,g=c._loadedInjector??u;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(u,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(g,c.children??c._loadedRoutes))}return ln(s).pipe(da())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ye(null);const c=s.pipe(Kn(u=>null===u?Ye(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));return r.loadComponent&&!r._loadedComponent?ln([c,this.loader.loadComponent(r)]).pipe(da()):c})}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Do),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(qb),h.LFG(fp))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zb=new h.OlP("");let oT=(()=>{class n{constructor(t,r,s,c,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Td?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ya&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof i_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new i_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function vi(n,e){return{\u0275kind:n,\u0275providers:e}}function sT(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Do),s=n.get(aT);1===n.get(A_)&&r.initialNavigation(),n.get(cT,null,h.XFs.Optional)?.setUpPreloading(),n.get(Zb,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const aT=new h.OlP("",{factory:()=>new Kt.x}),A_=new h.OlP("",{providedIn:"root",factory:()=>1}),cT=new h.OlP("");function S_(n){return vi(0,[{provide:cT,useExisting:_x},{provide:qb,useExisting:n}])}function uT(n){return vi(9,[{provide:pp,useValue:$b},{provide:Hb,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const Ex=new h.OlP("ROUTER_FORROOT_GUARD"),$P=[ze,{provide:Wi,useClass:fa},Do,ba,{provide:fr,useFactory:function Rs(n){return n.routerState.root},deps:[Do]},fp,[]];let R_=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[$P,[],{provide:$l,multi:!0,useValue:t},{provide:Ex,useFactory:dT,deps:[[Do,new h.FiY,new h.tp0]]},{provide:Hl,useValue:r||{}},r?.useHash?{provide:qe,useClass:Rt}:{provide:qe,useClass:ft},{provide:Zb,useFactory:()=>{const n=(0,h.f3M)(Ky),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Hl),r=(0,h.f3M)(T_),s=(0,h.f3M)(Wi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new oT(s,r,n,e,t)}},r?.preloadingStrategy?S_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wx(r):[],r?.bindToComponentInputs?vi(8,[I,{provide:m,useExisting:I}]).\u0275providers:[],r?.enableViewTransitions?uT().\u0275providers:[],[{provide:hT,useFactory:sT},{provide:h.tb,multi:!0,useExisting:hT}]]}}static forChild(t){return{ngModule:n,providers:[{provide:$l,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ex,8))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function dT(n){return"guarded"}function wx(n){return["disabled"===n.initialNavigation?vi(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Do);return()=>{e.setUpLocationChangeListener()}}},{provide:A_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vi(2,[{provide:A_,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Ot,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Do),c=e.get(aT);C_(s,()=>{r(!0)}),e.get(T_).afterPreactivation=()=>(r(!0),c.closed?Ye(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const hT=new h.OlP("");let wc=(()=>{class n{constructor(){this.title="app"}ngAfterViewInit(){$(function(){$('[data-toggle="popover"]').popover()})}openLink(t){window.open(t,"_blank")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:49,vars:0,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"],["id","picture"],[1,"about-section","mt-5"],[1,"container"],[1,"row","img-wrap","mb-5","mb-lg-0"],[1,"col-12"],[1,"row"],[1,"mb-4","margin-lg-0","col-lg-6","order-lg-2"],[1,"effect"],["src","assets/lineesiciliane.png","alt","Mappa linee ferroviarie siciliane di RFI",1,"img-fluid"],[1,"col-lg-5","mr-auto","text-lg-right","align-self-center","order-lg-1"],[1,"mb-4"],["id","popover","data-bs-container","body","data-toggle","popover","data-bs-placement","bottom","data-bs-content","Non sono attualmente previsti i posti di movimento, solo STAZIONI e FERMATE. Non sono considerate le linee dismesse. Sono considerate le linee non attive IN FASE DI RIPRISTINO",1,"btn"],["href","https://normativaesercizio.rfi.it/NormativaEsercizio/detail.xhtml?doctype=FCL&compartimento=PA","target","_blank",1,"btn","btn-about"],[1,"material-symbols-outlined"],[1,"mb-4","margin-lg-0","col-lg-6"],["src","https://www.palermomania.it/public/news/image/images/metro.jpg","alt","Cartello passante ferroviario di Palermo",1,"img-fluid"],[1,"col-lg-5","ml-auto","align-self-center","order-lg-1"],["href","https://www.palermomania.it/","target","_blank",1,"btn","btn-about"],["src","https://www.stagniweb.it/altro/orizzf/636gioi0.jpg","alt","Locomotiva E636.010 in transito a Gioiosa Marea(ME)",1,"img-fluid"],["href","https://www.stagniweb.it/foto6.asp?File=orizzf&Inizio=68&Righe=10&InizioI=1&RigheI=150&Col=5&Titolo=0","target","_blank",1,"btn","btn-about"]],template:function(r,s){1&r&&(h._UZ(0,"link",0)(1,"div",1),h.TgZ(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"a",8),h._UZ(9,"img",9),h.qZA()(),h.TgZ(10,"div",10)(11,"h2"),h._uU(12,"Benvenuto su SpotiRFI! \u{1f684}\u{1f3b5}"),h.qZA(),h.TgZ(13,"p",11),h._uU(14," SpotiRFI \xe8 un viaggio unico attraverso la musica e le linee ferroviarie della Sicilia. Ogni stazione ferroviaria sulla mappa \xe8 associata a una canzone che porta il suo nome"),h.TgZ(15,"span",12),h._uU(16," * "),h.qZA(),h._uU(17,", creando un'esperienza musicale che riflette il viaggio attraverso la nostra bellissima regione. "),h.qZA(),h.TgZ(18,"a",13)(19,"span",14),h._uU(20," open_in_new "),h.qZA()()()()()(),h.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"div",15)(25,"a",8),h._UZ(26,"img",16),h.qZA()(),h.TgZ(27,"div",17)(28,"h2"),h._uU(29,"Come funziona? \u{1f9d0}"),h.qZA(),h.TgZ(30,"p",11),h._uU(31," Scegli una linea ferroviaria sulla mappa e inizia il tuo viaggio musicale. Ad ogni fermata, ti verr\xe0 presentata una canzone che porta il nome della stazione. Puoi ascoltare la canzone mentre leggi informazioni sulla stazione e sulla sua storia. "),h.qZA(),h.TgZ(32,"a",18)(33,"span",14),h._uU(34," open_in_new "),h.qZA()()()()()(),h.TgZ(35,"div",4)(36,"div",5)(37,"div",6)(38,"div",7)(39,"a",8),h._UZ(40,"img",19),h.qZA()(),h.TgZ(41,"div",10)(42,"h2"),h._uU(43,"Perch\xe9 SpotiRFI? \u{1f914}"),h.qZA(),h.TgZ(44,"p",11),h._uU(45," La musica e i viaggi sono due esperienze che possono portarci in luoghi che non abbiamo mai visitato. SpotiRFI combina queste due esperienze in un unico viaggio, permettendoti di esplorare la Sicilia attraverso le sue linee ferroviarie e la sua musica. "),h.qZA(),h.TgZ(46,"a",20)(47,"span",14),h._uU(48," open_in_new "),h.qZA()()()()()()()())},styles:['#popover[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;padding:0 0 0 5px}.about-section[_ngcontent-%COMP%]{margin:auto}#picture[_ngcontent-%COMP%]{background-image:url(464Torrenova.fba869a43b0a2ef9.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}.img-wrap[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]{position:relative;margin-bottom:0;display:block}.img-wrap[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]:after{z-index:-1;content:"";position:absolute;inset:10px;background:#2b3035;transition:.3s all ease-in-out}.img-wrap[_ngcontent-%COMP%]:hover   .effect[_ngcontent-%COMP%]:after{right:-10px;bottom:-10px;position:absolute}.btn-about[_ngcontent-%COMP%]{color:#000!important;margin-right:5px;margin-left:5px;animation:skew 3s infinite;animation-direction:normal;animation-direction:alternate;padding:5px 17px}.row[_ngcontent-%COMP%]{color:#000;margin-bottom:4em}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}return n})();var $d=ee(534);(0,$d.registerVersion)("firebase","10.7.1","app");class Kb extends vn.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const M_={setInterval(n,e,...t){const{delegate:r}=M_;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=M_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Sx=ee(39);class P_ extends Kb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const s=this.id,c=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(c,s,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,r=0){return M_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&M_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,r=!1;try{this.work(e)}catch(c){r=!0,s=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Sx.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const O_={now:()=>(O_.delegate||Date).now(),delegate:void 0};class k_{constructor(e,t=k_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}k_.now=O_.now;class Qb extends k_{constructor(e,t=k_.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const mT=new class mp extends Qb{}(class xx extends P_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),N_=new Qb(P_),F_=N_,Xb=new h.GfV("ANGULARFIRE2_VERSION");class L_{constructor(){return((n,e)=>{const t=(0,$d.getApps)(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r})(Jb)}}const Jb="app-check";function Ms(){}class gp{zone;delegate;constructor(e,t=mT){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const s=this.zone;return this.delegate.schedule(function(u){s.runGuarded(()=>{e.apply(this,[u])})},t,r)}}class qd{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),t.pipe(Er({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let V_=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new gp(Zone.current)),this.insideAngular=t.run(()=>new gp(Zone.current,N_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(h.LFG(h.R0b))};static \u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qi(n){return function yT(n){return function(t){return(t=t.lift(new qd(n.ngZone))).pipe(Vo(n.outsideAngular),Ni(n.insideAngular))}}(function Tc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Ps=ee(106);Ps.Z.registerVersion("firebase","10.7.1","app-compat");const Px=["ngOnDestroy"];class _p{constructor(e){return e}}const Wd=new h.OlP("angularfire2.app.options"),j_=new h.OlP("angularfire2.app.name");function z_(n,e,t){const s="object"==typeof t&&t||{};s.name=s.name||"string"==typeof t&&t||"[DEFAULT]";const u=Ps.Z.apps.filter(g=>g&&g.name===s.name)[0]||e.runOutsideAngular(()=>Ps.Z.initializeApp(n,s));try{if(JSON.stringify(n)!==JSON.stringify(u.options)){const g=!!module.hot;e0("error",`${u.name} Firebase App already initialized with different options${g?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new _p(u)}const e0=(n,...e)=>{(0,h.X6Q)()&&typeof console<"u"&&console[n](...e)},H_={provide:_p,useFactory:z_,deps:[Wd,h.R0b,[new h.FiY,j_]]};let kx=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Wd,useValue:t},{provide:j_,useValue:r}]}}constructor(t){Ps.Z.registerVersion("angularfire",Xb.full,"core"),Ps.Z.registerVersion("angularfire",Xb.full,"app-compat"),Ps.Z.registerVersion("angular",h.q4F.full,t.toString())}static \u0275fac=function(r){return new(r||n)(h.LFG(h.Lbi))};static \u0275mod=h.oAB({type:n});static \u0275inj=h.cJS({providers:[H_]})}return n})();function t0(n,e,t,r,s){const[,c,u]=globalThis.\u0275AngularfireInstanceCache.find(g=>g[0]===n)||[];if(c)return function Nx(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(s,u)||(Fx("error",`${e} was already initialized on the ${t} Firebase App with different settings.${IT?" You may need to reload as Firebase is not HMR aware.":""}`),Fx("warn",{is:s,was:u})),c;{const g=r();return globalThis.\u0275AngularfireInstanceCache.push([n,g,s]),g}}const IT=typeof module<"u"&&!!module.hot,Fx=(n,...e)=>{(0,h.X6Q)()&&typeof console<"u"&&console[n](...e)};function ql(...n){const e=lc(n),t=function Nw(n,e){return"number"==typeof Uf(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Ft(r[0]):da(t)(ln(r,e)):pi}globalThis.\u0275AngularfireInstanceCache||=[],ee(230);class Lx extends Kt.x{constructor(e=1/0,t=1/0,r=O_){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:u}=this;t||(r.push(e),!s&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,c=s.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,c=(s?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!s){const u=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)g=y;g&&r.splice(0,g+1)}}}var Zl=ee(305);function n0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Zl.Hp({next:()=>{r.unsubscribe(),n()}});return Ft(e(...t)).subscribe(r)}function r0(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,function vp(n={}){const{connector:e=(()=>new Kt.x),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=n;return c=>{let u,g,y,w=0,T=!1,S=!1;const P=()=>{g?.unsubscribe(),g=void 0},V=()=>{P(),u=y=void 0,T=S=!1},X=()=>{const ne=u;V(),ne?.unsubscribe()};return(0,An.e)((ne,ce)=>{w++,!S&&!T&&P();const Te=y=y??e();ce.add(()=>{w--,0===w&&!S&&!T&&(g=n0(X,s))}),Te.subscribe(ce),!u&&w>0&&(u=new Zl.Hp({next:je=>Te.next(je),error:je=>{S=!0,P(),g=n0(V,t,je),Te.error(je)},complete:()=>{T=!0,P(),g=n0(V,r),Te.complete()}}),Ft(ne).subscribe(u))})(c)}}({connector:()=>new Lx(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function ET(n,e){return(0,_n.m)(e)?hr(()=>n,e):hr(()=>n)}const wT=new h.OlP("angularfire2.auth.use-emulator"),$_=new h.OlP("angularfire2.auth.settings"),Ux=new h.OlP("angularfire2.auth.tenant-id"),Bx=new h.OlP("angularfire2.auth.langugage-code"),jx=new h.OlP("angularfire2.auth.use-device-language"),TT=new h.OlP("angularfire.auth.persistence"),CT=(n,e,t,r,s,c,u,g)=>t0(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=s,c&&y.useDeviceLanguage(),u)for(const[w,T]of Object.entries(u))y.settings[w]=T;return g&&y.setPersistence(g),y},[t,r,s,c,u,g]);let zx=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,s,c,u,g,y,w,T,S,P,V){const X=new Kt.x,ne=Ye(void 0).pipe(Ni(u.outsideAngular),hr(()=>c.runOutsideAngular(()=>Promise.resolve().then(ee.bind(ee,230)))),(0,vt.U)(()=>z_(t,c,r)),(0,vt.U)(ce=>CT(ce,c,g,w,T,S,y,P)),r0({bufferSize:1,refCount:!1}));if(Qu(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{ne.pipe(Io()).subscribe();const ce=ne.pipe(hr(xe=>xe.getRedirectResult().then(et=>et,()=>null)),Qi,r0({bufferSize:1,refCount:!1})),Te=ne.pipe(hr(xe=>new Un.y(et=>({unsubscribe:c.runOutsideAngular(()=>xe.onAuthStateChanged(bt=>et.next(bt),bt=>et.error(bt),()=>et.complete()))})))),je=ne.pipe(hr(xe=>new Un.y(et=>({unsubscribe:c.runOutsideAngular(()=>xe.onIdTokenChanged(bt=>et.next(bt),bt=>et.error(bt),()=>et.complete()))}))));this.authState=ce.pipe(ET(Te),Vo(u.outsideAngular),Ni(u.insideAngular)),this.user=ce.pipe(ET(je),Vo(u.outsideAngular),Ni(u.insideAngular)),this.idToken=this.user.pipe(hr(xe=>xe?ln(xe.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(hr(xe=>xe?ln(xe.getIdTokenResult()):Ye(null))),this.credential=ql(ce,X,this.authState.pipe(Mn(xe=>!xe))).pipe((0,vt.U)(xe=>xe?.user?xe:null),Vo(u.outsideAngular),Ni(u.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(s,c)=>t.runOutsideAngular(()=>{if(n[c])return r?.spy?.get&&r.spy.get(c,n[c]),n[c];if(Px.indexOf(c)>-1)return()=>{};const u=e.toPromise().then(g=>{const y=g?.[c];return"function"==typeof y?y.bind(g):y?.then?y.then(w=>t.run(()=>w)):t.run(()=>y)});return new Proxy(()=>{},{get:(g,y)=>u[y],apply:(g,y,w)=>u.then(T=>{const S=T?.(...w);return r?.spy?.apply&&r.spy.apply(c,w,S),S})})})}))(this,ne,c,{spy:{apply:(ce,Te,je)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&je.then(xe=>X.next(xe))}}})}static \u0275fac=function(r){return new(r||n)(h.LFG(Wd),h.LFG(j_,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(V_),h.LFG(wT,8),h.LFG($_,8),h.LFG(Ux,8),h.LFG(Bx,8),h.LFG(jx,8),h.LFG(TT,8),h.LFG(L_,8))};static \u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function s0(){return(0,An.e)((n,e)=>{let t,r=!1;n.subscribe((0,cn.x)(e,s=>{const c=t;t=s,r&&e.next([c,s]),r=!0}))})}function DT(n,e=yo.y){return n=n??a0,(0,An.e)((t,r)=>{let s,c=!0;t.subscribe((0,cn.x)(r,u=>{const g=e(u);(c||!n(s,g))&&(c=!1,s=g,r.next(u))}))})}function a0(n,e){return n===e}var Ne,he=ee(861),AT=ee(537),Os=ee(879),bn=ee(58),Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ao={},G_=G_||{},wt=Hx||self;function q_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ST="closure_uid_"+(1e9*Math.random()>>>0),xT=0;function l0(n,e,t){return n.call.apply(n.bind,arguments)}function $x(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function pr(n,e,t){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l0:$x).apply(null,arguments)}function yp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,c){for(var u=Array(arguments.length-2),g=2;g<arguments.length;g++)u[g-2]=arguments[g];return e.prototype[s].apply(r,u)}}function Cc(){this.s=this.s,this.o=this.o}Cc.prototype.s=!1,Cc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function c0(n){Object.prototype.hasOwnProperty.call(n,ST)&&n[ST]||(n[ST]=++xT)}(this)},Cc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function u0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function MT(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(q_(r)){const s=n.length||0,c=r.length||0;n.length=s+c;for(let u=0;u<c;u++)n[s+u]=r[u]}else n.push(r)}}function ai(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ai.prototype.h=function(){this.defaultPrevented=!0};var PT=function(){if(!wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};wt.addEventListener("test",t,e),wt.removeEventListener("test",t,e)}catch{}return n}();function Kd(n){return/^[\s\xa0]*$/.test(n)}function bp(){var n=wt.navigator;return n&&(n=n.userAgent)?n:""}function Go(n){return-1!=bp().indexOf(n)}function OT(n){return OT[" "](n),n}OT[" "]=function(){};var f0,n,Dc=Go("Opera"),Wl=Go("Trident")||Go("MSIE"),Ip=Go("Edge"),Z_=Ip||Wl,h0=Go("Gecko")&&!(-1!=bp().toLowerCase().indexOf("webkit")&&!Go("Edge"))&&!(Go("Trident")||Go("MSIE"))&&!Go("Edge"),qx=-1!=bp().toLowerCase().indexOf("webkit")&&!Go("Edge");function kT(){var n=wt.document;return n?n.documentMode:void 0}e:{var p0="",W_=(n=bp(),h0?/rv:([^\);]+)(\)|;)/.exec(n):Ip?/Edge\/([\d\.]+)/.exec(n):Wl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qx?/WebKit\/(\S+)/.exec(n):Dc?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(W_&&(p0=W_?W_[1]:""),Wl){var NT=kT();if(null!=NT&&NT>parseFloat(p0)){f0=String(NT);break e}}f0=p0}var XP=wt.document&&Wl&&(kT()||parseInt(f0,10))||void 0;function Qd(n,e){if(ai.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(h0){e:{try{OT(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:FT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qd.$.h.call(this)}}wr(Qd,ai);var FT={2:"touch",3:"pen",4:"mouse"};Qd.prototype.h=function(){Qd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Y_="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function LT(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Dt,this.fa=this.ia=!1}function Ep(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Ac(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function UT(n){const e={};for(const t in n)e[t]=n[t];return e}const wp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yl(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let c=0;c<wp.length;c++)t=wp[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xd(n){this.src=n,this.g={},this.h=0}function Kl(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],s=RT(r,e);(c=0<=s)&&Array.prototype.splice.call(r,s,1),c&&(Ep(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function K_(n,e,t,r){for(var s=0;s<n.length;++s){var c=n[s];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==r)return s}return-1}Xd.prototype.add=function(n,e,t,r,s){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var u=K_(n,e,r,s);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new LT(e,this.src,c,!!r,s)).ia=t,n.push(e)),e};var Tp="closure_lm_"+(1e6*Math.random()|0),Cp={};function Q_(n,e,t,r,s){if(r&&r.once)return BT(n,e,t,r,s);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Q_(n,e[c],t,r,s);return null}return t=E0(t),n&&n[Y_]?n.O(e,t,Yd(r)?!!r.capture:!!r,s):g0(n,e,t,!1,r,s)}function g0(n,e,t,r,s,c){if(!e)throw Error("Invalid event type");var u=Yd(s)?!!s.capture:!!s,g=b0(n);if(g||(n[Tp]=g=new Xd(n)),(t=g.add(e,t,r,u,c)).proxy)return t;if(r=function _0(){const e=Wx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)PT||(s=u),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(y0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function BT(n,e,t,r,s){if(Array.isArray(e)){for(var c=0;c<e.length;c++)BT(n,e[c],t,r,s);return null}return t=E0(t),n&&n[Y_]?n.P(e,t,Yd(r)?!!r.capture:!!r,s):g0(n,e,t,!0,r,s)}function jT(n,e,t,r,s){if(Array.isArray(e))for(var c=0;c<e.length;c++)jT(n,e[c],t,r,s);else r=Yd(r)?!!r.capture:!!r,t=E0(t),n&&n[Y_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=K_(c=n.g[e],t,r,s))&&(Ep(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=b0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=K_(e,t,r,s)),(t=-1<n?e[n]:null)&&v0(t))}function v0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Y_])Kl(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(y0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=b0(e))?(Kl(t,n),0==t.h&&(t.src=null,e[Tp]=null)):Ep(n)}}}function y0(n){return n in Cp?Cp[n]:Cp[n]="on"+n}function Wx(n,e){if(n.fa)n=!0;else{e=new Qd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&v0(n),n=t.call(r,e)}return n}function b0(n){return(n=n[Tp])instanceof Xd?n:null}var I0="__closure_events_fn_"+(1e9*Math.random()>>>0);function E0(n){return"function"==typeof n?n:(n[I0]||(n[I0]=function(e){return n.handleEvent(e)}),n[I0])}function Tr(){Cc.call(this),this.i=new Xd(this),this.S=this,this.J=null}function jr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ai(e,n);else if(e instanceof ai)e.target=e.target||n;else{var s=e;Yl(e=new ai(r,n),s)}if(s=!0,t)for(var c=t.length-1;0<=c;c--){var u=e.g=t[c];s=X_(u,r,!0,e)&&s}if(s=X_(u=e.g=n,r,!0,e)&&s,s=X_(u,r,!1,e)&&s,t)for(c=0;c<t.length;c++)s=X_(u=e.g=t[c],r,!1,e)&&s}function X_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==t){var g=u.listener,y=u.la||u.src;u.ia&&Kl(n.i,u),s=!1!==g.call(y,r)&&s}}return s&&!r.defaultPrevented}wr(Tr,Cc),Tr.prototype[Y_]=!0,Tr.prototype.removeEventListener=function(n,e,t,r){jT(this,n,e,t,r)},Tr.prototype.N=function(){if(Tr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ep(t[r]);delete n.g[e],n.h--}}this.J=null},Tr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Tr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var w0=wt.JSON.stringify;function Yx(){var n=J_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Qx=new class Xi{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T0,n=>n.reset());class T0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Xx(n){wt.setTimeout(()=>{throw n},0)}let Dp,Ap=!1,J_=new class Kx{constructor(){this.h=this.g=null}add(e,t){const r=Qx.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},HT=()=>{const n=wt.Promise.resolve(void 0);Dp=()=>{n.then(Jx)}};var Jx=()=>{for(var n;n=Yx();){try{n.h.call(n.g)}catch(t){Xx(t)}var e=Qx;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ap=!1};function Jd(n,e){Tr.call(this),this.h=n||1,this.g=e||wt,this.j=pr(this.qb,this),this.l=Date.now()}function C0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function D0(n,e,t){if("function"==typeof n)t&&(n=pr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pr(n.handleEvent,n)}return 2147483647<Number(e)?-1:wt.setTimeout(n,e||0)}function $T(n){n.g=D0(()=>{n.g=null,n.i&&(n.i=!1,$T(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wr(Jd,Tr),(Ne=Jd.prototype).ga=!1,Ne.T=null,Ne.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jr(this,"tick"),this.ga&&(C0(this),this.start()))}},Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ne.N=function(){Jd.$.N.call(this),C0(this),delete this.g};class eR extends Cc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$T(this)}N(){super.N(),this.g&&(wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sp(n){Cc.call(this),this.h=n,this.g={}}wr(Sp,Cc);var qo=[];function ev(n,e,t,r){Array.isArray(t)||(t&&(qo[0]=t.toString()),t=qo);for(var s=0;s<t.length;s++){var c=Q_(e,t[s],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function GT(n){Ac(n.g,function(e,t){this.g.hasOwnProperty(t)&&v0(e)},n),n.g={}}function xp(){this.g=!0}function Ql(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function A0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<s.length;u++)s[u]=""}}}return w0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Sp.prototype.N=function(){Sp.$.N.call(this),GT(this)},Sp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xp.prototype.Ea=function(){this.g=!1},xp.prototype.info=function(){};var eh={},S0=null;function Rp(){return S0=S0||new Tr}function x0(n){ai.call(this,eh.Ta,n)}function Sc(n){const e=Rp();jr(e,new x0(e))}function nv(n,e){ai.call(this,eh.STAT_EVENT,n),this.stat=e}function $n(n){const e=Rp();jr(e,new nv(e,n))}function ZT(n,e){ai.call(this,eh.Ua,n),this.size=e}function Xl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return wt.setTimeout(function(){n()},e)}eh.Ta="serverreachability",wr(x0,ai),eh.STAT_EVENT="statevent",wr(nv,ai),eh.Ua="timingevent",wr(ZT,ai);var rv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function R0(){}function M0(){}R0.prototype.h=null;var Pp,Mp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function P0(){ai.call(this,"d")}function iv(){ai.call(this,"c")}function Op(){}function Ea(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Sp(this),this.P=YT,this.V=new Jd(n=Z_?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new th}function th(){this.i=null,this.g="",this.h=!1}wr(P0,ai),wr(iv,ai),wr(Op,R0),Op.prototype.g=function(){return new XMLHttpRequest},Op.prototype.i=function(){return{}},Pp=new Op;var YT=45e3,KT={},O0={};function k0(n,e,t){n.L=1,n.A=jn(Zo(e)),n.u=t,n.S=!0,QT(n,null)}function QT(n,e){n.G=Date.now(),kp(n),n.B=Zo(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),B0(t.i,"t",r),n.o=0,t=n.l.J,n.h=new th,n.g=Y0(n.l,t?e:null,!n.u),0<n.O&&(n.M=new eR(pr(n.Pa,n,n.g),n.O)),ev(n.U,n.g,"readystatechange",n.nb),e=n.I?UT(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Sc(),function tR(n,e,t,r,s,c){n.info(function(){if(n.g)if(c)for(var u="",g=c.split("&"),y=0;y<g.length;y++){var w=g[y].split("=");if(1<w.length){var T=w[0];w=w[1];var S=T.split("_");u=2<=S.length&&"type"==S[1]?u+(T+"=")+w+"&":u+(T+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.v,n.B,n.m,n.W,n.u)}function rR(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function iR(n,e,t){let s,r=!0;for(;!n.J&&n.o<t.length;){if(s=ov(n,t),s==O0){4==e&&(n.s=4,$n(14),r=!1),Ql(n.j,n.m,null,"[Incomplete Response]");break}if(s==KT){n.s=4,$n(15),Ql(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ql(n.j,n.m,s,null),F0(n,s)}rR(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,$n(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Oc(e),e.M=!0,$n(11))):(Ql(n.j,n.m,t,"[Invalid Chunked Response]"),Jl(n),Np(n))}function ov(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?O0:(t=Number(e.substring(t,r)),isNaN(t)?KT:(r+=1)+t>e.length?O0:(e=e.slice(r,r+t),n.o=r+t,e))}function kp(n){n.Y=Date.now()+n.P,XT(n,n.P)}function XT(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Xl(pr(n.lb,n),e)}function N0(n){n.C&&(wt.clearTimeout(n.C),n.C=null)}function Np(n){0==n.l.H||n.J||au(n.l,n)}function Jl(n){N0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,C0(n.V),GT(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function F0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Bp(t.i,n)))if(!n.K&&Bp(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wa(t),Mc(t)}Pc(t),$n(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Xl(pr(t.ib,t),6e3));if(1>=cC(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else xo(t,11)}else if((n.K||t.g==n)&&wa(t),!Kd(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let w=s[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const T=w[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const S=w[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.L=r=1.5*P,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const X=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var c=r.i;c.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(z0(c,c.h),c.h=null))}if(r.F){const ne=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.Da=ne,Bn(r.I,r.F,ne))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=W0(r,r.J?r.pa:null,r.Y),u.K){jp(r.i,u);var g=u,y=r.L;y&&g.setTimeout(y),g.C&&(N0(g),kp(g)),r.g=u}else ou(r);0<t.j.length&&Ns(t)}else"stop"!=w[0]&&"close"!=w[0]||xo(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?xo(t,7):So(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Sc()}catch{}}function JT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(q_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function sR(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(q_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function oR(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(q_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,c=0;c<s;c++)e.call(void 0,r[c],t&&t[c],n)}(Ne=Ea.prototype).setTimeout=function(n){this.P=n},Ne.nb=function(n){n=n.target;const e=this.M;e&&3==ks(n)?e.l():this.Pa(n)},Ne.Pa=function(n){try{if(n==this.g)e:{const T=ks(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||Z_||this.g&&(this.h.h||this.g.ja()||G0(this.g)))){this.J||4!=T||7==e||Sc(),N0(this);var t=this.g.da();this.ca=t;t:if(rR(this)){var r=G0(this.g);n="";var s=r.length,c=4==ks(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),Np(this);var u="";break t}this.h.i=new wt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==s-1});r.length=0,this.h.g+=n,this.o=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function qT(n,e,t,r,s,c,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+c+" "+u})}(this.j,this.v,this.B,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kd(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.s=3,$n(12),Jl(this),Np(this);break e}Ql(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,F0(this,t)}this.S?(iR(this,T,u),Z_&&this.i&&3==T&&(ev(this.U,this.V,"tick",this.mb),this.V.start())):(Ql(this.j,this.m,u,null),F0(this,u)),4==T&&Jl(this),this.i&&!this.J&&(4==T?au(this.l,this):(this.i=!1,kp(this)))}else(function mC(n){const e={};n=(n.g&&2<=ks(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Kd(n[r]))continue;var t=zT(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[s]||[];e[s]=c,c.push(t)}!function VT(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),Jl(this),Np(this)}}}catch{}},Ne.mb=function(){if(this.g){var n=ks(this.g),e=this.g.ja();this.o<e.length&&(N0(this),iR(this,n,e),this.i&&4!=n&&kp(this))}},Ne.cancel=function(){this.J=!0,Jl(this)},Ne.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function tv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Sc(),$n(17)),Jl(this),this.s=2,Np(this)):XT(this,this.Y-n)};var L0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tu){this.h=n.h,Ji(this,n.j),this.s=n.s,this.g=n.g,Fp(this,n.m),this.l=n.l;var e=n.i,t=new Vp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eC(this,t),this.o=n.o}else n&&(e=String(n).match(L0))?(this.h=!1,Ji(this,e[1]||"",!0),this.s=Lp(e[2]||""),this.g=Lp(e[3]||"",!0),Fp(this,e[4]),this.l=Lp(e[5]||"",!0),eC(this,e[6]||"",!0),this.o=Lp(e[7]||"")):(this.h=!1,this.i=new Vp(null,this.h))}function Zo(n){return new tu(n)}function Ji(n,e,t){n.j=t?Lp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eC(n,e,t){e instanceof Vp?(n.i=e,function oC(n,e){e&&!n.j&&(xc(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Rc(this,r),B0(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=nu(e,rC)),n.i=new Vp(e,n.h))}function Bn(n,e,t){n.i.set(e,t)}function jn(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,aR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nu(e,tC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nu(e,tC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(nu(t,"/"==t.charAt(0)?nC:V0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nu(t,iC)),n.join("")};var tC=/[#\/\?@]/g,V0=/[#\?:]/g,nC=/[#\?]/g,rC=/[#\?@]/g,iC=/#/g;function Vp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xc(n){n.g||(n.g=new Map,n.h=0,n.i&&function eu(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var c=n[t].substring(0,r);s=n[t].substring(r+1)}else c=n[t];e(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Rc(n,e){xc(n),e=nh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function U0(n,e){return xc(n),e=nh(n,e),n.g.has(e)}function B0(n,e,t){Rc(n,e),0<t.length&&(n.i=null,n.g.set(nh(n,e),u0(t)),n.h+=t.length)}function nh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(Ne=Vp.prototype).add=function(n,e){xc(this),this.i=null,n=nh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ne.forEach=function(n,e){xc(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Ne.ta=function(){xc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let c=0;c<s.length;c++)t.push(e[r])}return t},Ne.Z=function(n){xc(this);let e=[];if("string"==typeof n)U0(this,n)&&(e=e.concat(this.g.get(nh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ne.set=function(n,e){return xc(this),this.i=null,U0(this,n=nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ne.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var s=c;""!==u[r]&&(s+="="+encodeURIComponent(String(u[r]))),n.push(s)}}return this.i=n.join("&")};var sC=class{constructor(n,e){this.g=n,this.map=e}};function j0(n){this.l=n||Up,n=wt.PerformanceNavigationTiming?0<(n=wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(wt.g&&wt.g.Ka&&wt.g.Ka()&&wt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Up=10;function aC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cC(n){return n.h?1:n.g?n.g.size:0}function Bp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function z0(n,e){n.g?n.g.add(e):n.h=e}function jp(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function H0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return u0(n.i)}j0.prototype.cancel=function(){if(this.i=H0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var lC=class{stringify(n){return wt.JSON.stringify(n,void 0)}parse(n){return wt.JSON.parse(n,void 0)}};function cR(){this.g=new lC}function lR(n,e,t){const r=t||"";try{JT(n,function(s,c){let u=s;Yd(s)&&(u=w0(s)),e.push(r+c+"="+encodeURIComponent(u))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function sv(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Hp(n){this.l=n.ec||null,this.j=n.ob||!1}function av(n,e){Tr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=$0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr(Hp,R0),Hp.prototype.g=function(){return new av(this.l,this.j)},Hp.prototype.i=function(n){return function(){return n}}({}),wr(av,Tr);var $0=0;function uC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function $p(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gp(n)}function Gp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ne=av.prototype).open=function(n,e){if(this.readyState!=$0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gp(this)},Ne.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||wt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$p(this)),this.readyState=$0},Ne.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gp(this)),this.g&&(this.readyState=3,Gp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ne.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$p(this):Gp(this),3==this.readyState&&uC(this)}},Ne.Za=function(n){this.g&&(this.response=this.responseText=n,$p(this))},Ne.Ya=function(n){this.g&&(this.response=n,$p(this))},Ne.ka=function(){this.g&&$p(this)},Ne.setRequestHeader=function(n,e){this.v.append(n,e)},Ne.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ne.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(av.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uR=wt.JSON.parse;function Gn(n){Tr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cv,this.L=this.M=!1}wr(Gn,Tr);var cv="",dR=/^https?$/i,lv=["POST","PUT"];function dC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hC(n),uv(n)}function hC(n){n.F||(n.F=!0,jr(n,"complete"),jr(n,"error"))}function fC(n){if(n.h&&typeof G_<"u"&&(!n.C[1]||4!=ks(n)||2!=n.da()))if(n.v&&4==ks(n))D0(n.La,0,n);else if(jr(n,"readystatechange"),4==ks(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var s=String(n.I).match(L0)[1]||null;!s&&wt.self&&wt.self.location&&(s=wt.self.location.protocol.slice(0,-1)),r=!dR.test(s?s.toLowerCase():"")}t=r}if(t)jr(n,"complete"),jr(n,"success");else{n.m=6;try{var c=2<ks(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",hC(n)}}finally{uv(n)}}}function uv(n,e){if(n.g){pC(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||jr(n,"ready");try{t.onreadystatechange=r}catch{}}}function pC(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(wt.clearTimeout(n.A),n.A=null)}function ks(n){return n.g?n.g.readyState:0}function G0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case cv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gC(n){let e="";return Ac(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _C(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=gC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function rh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function q0(n){this.Ga=0,this.j=[],this.l=new xp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rh("baseRetryDelayMs",5e3,n),this.hb=rh("retryDelaySeedMs",1e4,n),this.eb=rh("forwardChannelMaxRetries",2,n),this.xa=rh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new j0(n&&n.concurrentRequestLimit),this.Ja=new cR,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function So(n){if(ar(n),3==n.H){var e=n.W++,t=Zo(n.I);if(Bn(t,"SID",n.K),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),ru(n,t),(e=new Ea(n,n.l,e)).L=2,e.A=jn(Zo(t)),t=!1,wt.navigator&&wt.navigator.sendBeacon)try{t=wt.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&wt.Image&&((new Image).src=e.A,t=!0),t||(e.g=Y0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),kp(e)}Z0(n)}function Mc(n){n.g&&(Oc(n),n.g.cancel(),n.g=null)}function ar(n){Mc(n),n.u&&(wt.clearTimeout(n.u),n.u=null),wa(n),n.i.cancel(),n.m&&("number"==typeof n.m&&wt.clearTimeout(n.m),n.m=null)}function Ns(n){if(!aC(n.i)&&!n.m){n.m=!0;var e=n.Na;Dp||HT(),Ap||(Dp(),Ap=!0),J_.add(e,n),n.C=0}}function eo(n,e){var t;t=e?e.m:n.W++;const r=Zo(n.I);Bn(r,"SID",n.K),Bn(r,"RID",t),Bn(r,"AID",n.V),ru(n,r),n.o&&n.s&&_C(r,n.o,n.s),t=new Ea(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=iu(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),z0(n.i,t),k0(t,r,e)}function ru(n,e){n.na&&Ac(n.na,function(t,r){Bn(e,r,t)}),n.h&&JT({},function(t,r){Bn(e,r,t)})}function iu(n,e,t){t=Math.min(n.j.length,t);var r=n.h?pr(n.h.Va,n.h,n):null;e:{var s=n.j;let c=-1;for(;;){const u=["count="+t];-1==c?0<t?(c=s[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let g=!0;for(let y=0;y<t;y++){let w=s[y].g;const T=s[y].map;if(w-=c,0>w)c=Math.max(0,s[y].g-100),g=!1;else try{lR(T,u,"req"+w+"_")}catch{r&&r(T)}}if(g){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function ou(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Dp||HT(),Ap||(Dp(),Ap=!0),J_.add(e,n),n.A=0}}function Pc(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Xl(pr(n.Ma,n),cu(n,n.A)),n.A++,0))}function Oc(n){null!=n.B&&(wt.clearTimeout(n.B),n.B=null)}function su(n){n.g=new Ea(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Zo(n.wa);Bn(e,"RID","rpc"),Bn(e,"SID",n.K),Bn(e,"AID",n.V),Bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Bn(e,"TO",n.qa),Bn(e,"TYPE","xmlhttp"),ru(n,e),n.o&&n.s&&_C(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=jn(Zo(e)),t.u=null,t.S=!0,QT(t,n)}function wa(n){null!=n.v&&(wt.clearTimeout(n.v),n.v=null)}function au(n,e){var t=null;if(n.g==e){wa(n),Oc(n),n.g=null;var r=2}else{if(!Bp(n.i,e))return;t=e.F,jp(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var s=n.C;jr(r=Rp(),new ZT(r,t)),Ns(n)}else ou(n);else if(3==(s=e.s)||0==s&&0<e.ca||!(1==r&&function dv(n,e){return!(cC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Xl(pr(n.Na,n,e),cu(n,n.C)),n.C++,0)))}(n,e)||2==r&&Pc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:xo(n,5);break;case 4:xo(n,10);break;case 3:xo(n,6);break;default:xo(n,2)}}function cu(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function xo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=pr(n.pb,n);t||(t=new tu("//www.google.com/images/cleardot.gif"),wt.location&&"http"==wt.location.protocol||Ji(t,"https"),jn(t)),function zp(n,e){const t=new xp;if(wt.Image){const r=new Image;r.onload=yp(sv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yp(sv,t,r,"TestLoadImage: error",!1,e),r.onabort=yp(sv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yp(sv,t,r,"TestLoadImage: timeout",!1,e),wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $n(2);n.H=0,n.h&&n.h.za(e),Z0(n),ar(n)}function Z0(n){if(n.H=0,n.ma=[],n.h){const e=H0(n.i);(0!=e.length||0!=n.j.length)&&(MT(n.ma,e),MT(n.ma,n.j),n.i.i.length=0,u0(n.j),n.j.length=0),n.h.ya()}}function W0(n,e,t){var r=t instanceof tu?Zo(t):new tu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Fp(r,r.m);else{var s=wt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var c=new tu(null);r&&Ji(c,r),e&&(c.g=e),s&&Fp(c,s),t&&(c.l=t),r=c}return e=n.Da,(t=n.F)&&e&&Bn(r,t,e),Bn(r,"VER",n.ra),ru(n,r),r}function Y0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gn(n.Ha&&!n.va?new Hp({ob:t}):n.va)).Oa(n.J),e}function K0(){}function qp(){if(Wl&&!(10<=Number(XP)))throw Error("Environmental error: no available transport.")}function Ui(n,e){Tr.call(this),this.g=new q0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Kd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lu(this)}function Q0(n){P0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function X0(){iv.call(this),this.status=1}function lu(n){this.g=n}function zr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function J0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],u=(e=n.g[0])+(c^(t=n.g[1])&((s=n.g[2])^c))+r[0]+3614090360&4294967295;u=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=t+(u<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^c&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^s^c)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(s^(t|~c))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~c))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~c))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=t+((u=e+(s^(t|~c))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((s=c+((u=s+(e^(c|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+c&4294967295}function hn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var c=0|n[s];r&&c==e||(t[s]=c,r=!1)}this.g=t}(Ne=Gn.prototype).Oa=function(n){this.M=n},Ne.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pp.g(),this.C=function WT(n){return n.h||(n.h=n.i())}(this.u?this.u:Pp),this.g.onreadystatechange=pr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void dC(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),s=wt.FormData&&n instanceof wt.FormData,!(0<=RT(lv,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of t)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pC(this),0<this.B&&((this.L=function hR(n){return Wl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.ua,this)):this.A=D0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){dC(this,c)}},Ne.ua=function(){typeof G_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jr(this,"timeout"),this.abort(8))},Ne.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jr(this,"complete"),jr(this,"abort"),uv(this))},Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uv(this,!0)),Gn.$.N.call(this)},Ne.La=function(){this.s||(this.G||this.v||this.l?fC(this):this.kb())},Ne.kb=function(){fC(this)},Ne.isActive=function(){return!!this.g},Ne.da=function(){try{return 2<ks(this)?this.g.status:-1}catch{return-1}},Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ne.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uR(e)}},Ne.Ia=function(){return this.m},Ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ne=q0.prototype).ra=8,Ne.H=1,Ne.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Ea(this,this.l,n);let c=this.s;if(this.U&&(c?(c=UT(c),Yl(c,this.U)):c=this.U),null!==this.o||this.O||(s.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=iu(this,s,e),Bn(t=Zo(this.I),"RID",n),Bn(t,"CVER",22),this.F&&Bn(t,"X-HTTP-Session-Id",this.F),ru(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(gC(c)))+"&"+e:this.o&&_C(t,this.o,c)),z0(this.i,s),this.bb&&Bn(t,"TYPE","init"),this.P?(Bn(t,"$req",e),Bn(t,"SID","null"),s.aa=!0,k0(s,t,null)):k0(s,t,e),this.H=2}}else 3==this.H&&(n?eo(this,n):0==this.j.length||aC(this.i)||eo(this))},Ne.Ma=function(){if(this.u=null,su(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Xl(pr(this.jb,this),n)}},Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$n(10),Mc(this),su(this))},Ne.ib=function(){null!=this.v&&(this.v=null,Mc(this),Pc(this),$n(19))},Ne.pb=function(n){n?(this.l.info("Successfully pinged google.com"),$n(2)):(this.l.info("Failed to ping google.com"),$n(1))},Ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ne=K0.prototype).Ba=function(){},Ne.Aa=function(){},Ne.za=function(){},Ne.ya=function(){},Ne.isActive=function(){return!0},Ne.Va=function(){},qp.prototype.g=function(n,e){return new Ui(n,e)},wr(Ui,Tr),Ui.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;$n(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=W0(n,null,n.Y),Ns(n)},Ui.prototype.close=function(){So(this.g)},Ui.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=w0(n),n=t);e.j.push(new sC(e.fb++,n)),3==e.H&&Ns(e)},Ui.prototype.N=function(){this.g.h=null,delete this.j,So(this.g),delete this.g,Ui.$.N.call(this)},wr(Q0,P0),wr(X0,iv),wr(lu,K0),lu.prototype.Ba=function(){jr(this.g,"a")},lu.prototype.Aa=function(n){jr(this.g,new Q0(n))},lu.prototype.za=function(n){jr(this.g,new X0)},lu.prototype.ya=function(){jr(this.g,"b")},wr(zr,function hv(){this.blockSize=-1}),zr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,c=0;c<e;){if(0==s)for(;c<=t;)J0(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(r[s++]=n.charCodeAt(c++),s==this.blockSize){J0(this,r),s=0;break}}else for(;c<e;)if(r[s++]=n[c++],s==this.blockSize){J0(this,r),s=0;break}}this.h=s,this.i+=e},zr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var eI={};function Ta(n){return-128<=n&&128>n?function d0(n,e){var t=eI;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new hn([0|e],0>e?-1:0)}):new hn([0|n],0>n?-1:0)}function Ro(n){if(isNaN(n)||!isFinite(n))return Wp;if(0>n)return Yr(Ro(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Zp;return new hn(e,0)}var Zp=4294967296,Wp=Ta(0),yC=Ta(1),bC=Ta(16777216);function Ca(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function to(n){return-1==n.h}function Yr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new hn(t,~n.h).add(yC)}function Qn(n,e){return n.add(Yr(e))}function Yp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Kp(n,e){this.g=n,this.h=e}function fv(n,e){if(Ca(e))throw Error("division by zero");if(Ca(n))return new Kp(Wp,Wp);if(to(n))return e=fv(Yr(n),e),new Kp(Yr(e.g),Yr(e.h));if(to(e))return e=fv(n,Yr(e)),new Kp(Yr(e.g),e.h);if(30<n.g.length){if(to(n)||to(e))throw Error("slowDivide_ only works with positive integers.");for(var t=yC,r=e;0>=r.X(n);)t=tI(t),r=tI(r);var s=ih(t,1),c=ih(r,1);for(r=ih(r,2),t=ih(t,2);!Ca(r);){var u=c.add(r);0>=u.X(n)&&(s=s.add(t),c=u),r=ih(r,1),t=ih(t,1)}return e=Qn(n,s.R(e)),new Kp(s,e)}for(s=Wp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(c=Ro(t)).R(e);to(u)||0<u.X(n);)u=(c=Ro(t-=r)).R(e);Ca(c)&&(c=yC),s=s.add(c),n=Qn(n,u)}return new Kp(s,n)}function tI(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new hn(t,n.h)}function ih(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],c=0;c<r;c++)s[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new hn(s,n.h)}(Ne=hn.prototype).ea=function(){if(to(this))return-Yr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Zp+r)*e,e*=Zp}return n},Ne.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ca(this))return"0";if(to(this))return"-"+Yr(this).toString(n);for(var e=Ro(Math.pow(n,6)),t=this,r="";;){var s=fv(t,e).g,c=((0<(t=Qn(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ca(t=s))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},Ne.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ne.X=function(n){return to(n=Qn(this,n))?-1:Ca(n)?0:1},Ne.abs=function(){return to(this)?Yr(this):this},Ne.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var c=r+(65535&this.D(s))+(65535&n.D(s)),u=(c>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=u>>>16,t[s]=(u&=65535)<<16|(c&=65535)}return new hn(t,-2147483648&t[t.length-1]?-1:0)},Ne.R=function(n){if(Ca(this)||Ca(n))return Wp;if(to(this))return to(n)?Yr(this).R(Yr(n)):Yr(Yr(this).R(n));if(to(n))return Yr(this.R(Yr(n)));if(0>this.X(bC)&&0>n.X(bC))return Ro(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var c=this.D(r)>>>16,u=65535&this.D(r),g=n.D(s)>>>16,y=65535&n.D(s);t[2*r+2*s]+=u*y,Yp(t,2*r+2*s),t[2*r+2*s+1]+=c*y,Yp(t,2*r+2*s+1),t[2*r+2*s+1]+=u*g,Yp(t,2*r+2*s+1),t[2*r+2*s+2]+=c*g,Yp(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new hn(t,0)},Ne.gb=function(n){return fv(this,n).h},Ne.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new hn(t,this.h&n.h)},Ne.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new hn(t,this.h|n.h)},Ne.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new hn(t,this.h^n.h)},qp.prototype.createWebChannel=qp.prototype.g,Ui.prototype.send=Ui.prototype.u,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,rv.NO_ERROR=0,rv.TIMEOUT=8,rv.HTTP_ERROR=6,nR.COMPLETE="complete",M0.EventType=Mp,Mp.OPEN="a",Mp.CLOSE="b",Mp.ERROR="c",Mp.MESSAGE="d",Tr.prototype.listen=Tr.prototype.O,Gn.prototype.listenOnce=Gn.prototype.P,Gn.prototype.getLastError=Gn.prototype.Sa,Gn.prototype.getLastErrorCode=Gn.prototype.Ia,Gn.prototype.getStatus=Gn.prototype.da,Gn.prototype.getResponseJson=Gn.prototype.Wa,Gn.prototype.getResponseText=Gn.prototype.ja,Gn.prototype.send=Gn.prototype.ha,Gn.prototype.setWithCredentials=Gn.prototype.Oa,zr.prototype.digest=zr.prototype.l,zr.prototype.reset=zr.prototype.reset,zr.prototype.update=zr.prototype.j,hn.prototype.add=hn.prototype.add,hn.prototype.multiply=hn.prototype.R,hn.prototype.modulo=hn.prototype.gb,hn.prototype.compare=hn.prototype.X,hn.prototype.toNumber=hn.prototype.ea,hn.prototype.toString=hn.prototype.toString,hn.prototype.getBits=hn.prototype.D,hn.fromNumber=Ro,hn.fromString=function vC(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Yr(vC(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ro(Math.pow(e,8)),r=Wp,s=0;s<n.length;s+=8){var c=Math.min(8,n.length-s),u=parseInt(n.substring(s,s+c),e);8>c?(c=Ro(Math.pow(e,c)),r=r.R(c).add(Ro(u))):r=(r=r.R(t)).add(Ro(u))}return r};var IC=Ao.createWebChannelTransport=function(){return new qp},EC=Ao.getStatEventTarget=function(){return Rp()},kc=Ao.ErrorCode=rv,fR=Ao.EventType=nR,pR=Ao.Event=eh,nI=Ao.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qp=(Ao.FetchXmlHttpFactory=Hp,Ao.WebChannel=M0),eO=Ao.XhrIo=Gn,rI=Ao.Md5=zr,Nc=Ao.Integer=hn;const pv="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let yi="10.7.0";const Fc=new Os.Yd("@firebase/firestore");function uu(){return Fc.logLevel}function me(n,...e){if(Fc.logLevel<=Os.in.DEBUG){const t=e.map(mv);Fc.debug(`Firestore (${yi}): ${n}`,...t)}}function rn(n,...e){if(Fc.logLevel<=Os.in.ERROR){const t=e.map(mv);Fc.error(`Firestore (${yi}): ${n}`,...t)}}function bi(n,...e){if(Fc.logLevel<=Os.in.WARN){const t=e.map(mv);Fc.warn(`Firestore (${yi}): ${n}`,...t)}}function mv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Be(n="Unexpected state"){const e=`FIRESTORE (${yi}) INTERNAL ASSERTION FAILED: `+n;throw rn(e),new Error(e)}function Ke(n,e){n||Be()}function Pe(n,e){return n}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends bn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wC{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const c=w=>this.i!==s?(s=this.i,t(w)):Promise.resolve();let u=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Cr,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const w=u;e.enqueueRetryable((0,he.Z)(function*(){yield w.promise,yield c(r.currentUser)}))},y=w=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Cr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke("string"==typeof r.accessToken),new iI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(null===e||"string"==typeof e),new mr(e)}}class TC{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gv{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new TC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=c=>{null!=c.error&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.R;return this.R=c.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const s=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?s(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke("string"==typeof t.token),this.R=t.token,new CC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class AC{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=vR(40);for(let c=0;c<s.length;++c)r.length<20&&s[c]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[c]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function oh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function SC(n){return n+"\0"}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new zn(0,0))}static max(){return new Xe(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Be(),void 0===r?r=e.length-t:r>e.length-t&&Be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const c=e.get(s),u=t.get(s);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Xp{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const oI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Xp{construct(e,t,r){return new Pn(e,t,r)}static isValidIdentifier(e){return oI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const c=()=>{if(0===r.length)throw new _e(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new _e(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[s+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new _e(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,s+=2}else"`"===g?(u=!u,s++):"."!==g||u?(r+=g,s++):(c(),s++)}if(c(),u)throw new _e(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(t)}static emptyPath(){return new Pn([])}}class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Qt.fromString(e))}static fromName(e){return new Oe(Qt.fromString(e).popFirst(5))}static empty(){return new Oe(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Qt(e.slice()))}}class Jp{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function sI(n){return n.fields.find(e=>2===e.kind)}function du(n){return n.fields.filter(e=>2!==e.kind)}Jp.UNKNOWN_ID=-1;class hu{constructor(e,t){this.fieldPath=e,this.kind=t}}class sh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sh(0,Ii.min())}}function xC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new Ii(s,Oe.empty(),e)}function RC(n){return new Ii(n.readTime,n.key,-1)}class Ii{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ii(Xe.min(),Oe.empty(),-1)}static max(){return new Ii(Xe.max(),Oe.empty(),-1)}}function fu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Oe.comparator(n.documentKey,e.documentKey),0!==t?t:yt(n.largestBatchId,e.largestBatchId))}const _v="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class em{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Da(n){return pu.apply(this,arguments)}function pu(){return pu=(0,he.Z)(function*(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==_v)throw n;me("LocalStore","Unexpectedly lost primary lease")}),pu.apply(this,arguments)}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,s)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,r)=>{t(e)})}static reject(e){return new W((t,r)=>{r(e)})}static waitFor(e){return new W((t,r)=>{let s=0,c=0,u=!1;e.forEach(g=>{++s,g.next(()=>{++c,u&&c===s&&t()},y=>r(y))}),u=!0,c===s&&t()})}static or(e){let t=W.resolve(!1);for(const r of e)t=t.next(s=>s?W.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,c)=>{r.push(t.call(this,s,c))}),this.waitFor(r)}static mapArray(e,t){return new W((r,s)=>{const c=e.length,u=new Array(c);let g=0;for(let y=0;y<c;y++){const w=y;t(e[w]).next(T=>{u[w]=T,++g,g===c&&r(u)},T=>s(T))}})}static doWhile(e,t){return new W((r,s)=>{const c=()=>{!0===e()?t().next(()=>{c()},s):r()};c()})}}class vv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Cr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new tm(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=aI(r.target.error);this.V.reject(new tm(e,s))}}static open(e,t,r,s){try{return new vv(t,e.transaction(s,r))}catch(c){throw new tm(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yv(t)}}class Ei{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Ei.S((0,bn.z$)())&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return me("SimpleDb","Removing database:",e),mu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,bn.hl)())return!1;if(Ei.C())return!0;const e=(0,bn.z$)(),t=Ei.S(e),r=0<t&&t<10,s=Ei.v(e),c=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,he.Z)(function*(){return t.db||(me("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{s(new tm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const g=u.target.error;s("VersionError"===g.name?new _e(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new _e(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new tm(e,g))},c.onupgradeneeded=u=>{me("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.p.N(u.target.result,c.transaction,u.oldVersion,t.version).next(()=>{me("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var c=this;return(0,he.Z)(function*(){const u="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.O(e);const y=vv.open(c.db,e,u?"readonly":"readwrite",r),w=s(y).next(T=>(y.g(),T)).catch(T=>(y.abort(T),W.reject(T))).toPromise();return w.catch(()=>{}),yield y.m,w}catch(y){const w=y,T="FirebaseError"!==w.name&&g<3;if(me("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),c.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class MC{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mu(this.k.delete())}}class tm extends _e{constructor(e,t){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Aa(n){return"IndexedDbTransactionError"===n.name}class yv{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(me("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mu(r)}add(e){return me("SimpleDb","ADD",this.store.name,e,e),mu(this.store.add(e))}get(e){return mu(this.store.get(e)).next(t=>(void 0===t&&(t=null),me("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return me("SimpleDb","DELETE",this.store.name,e),mu(this.store.delete(e))}count(){return me("SimpleDb","COUNT",this.store.name),mu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),c=[];return this.G(s,(u,g)=>{c.push(g)}).next(()=>c)}{const s=this.store.getAll(r.range);return new W((c,u)=>{s.onerror=g=>{u(g.target.error)},s.onsuccess=g=>{c(g.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new W((s,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}H(e,t){me("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const s=this.cursor(r);return this.G(s,(c,u,g)=>g.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.G(s,t)}Z(e){const t=this.cursor({});return new W((r,s)=>{t.onerror=c=>{const u=aI(c.target.error);s(u)},t.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(g=>{g?u.continue():r()}):r()}})}G(e,t){const r=[];return new W((s,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const g=u.target.result;if(!g)return void s();const y=new MC(g),w=t(g.primaryKey,g.value,y);if(w instanceof W){const T=w.catch(S=>(y.done(),W.reject(S)));r.push(T)}y.isDone?s():null===y.$?g.continue():g.continue(y.$)}}).next(()=>W.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mu(n){return new W((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=aI(r.target.error);t(s)}})}let PC=!1;function aI(n){const e=Ei.S((0,bn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PC||(PC=!0,setTimeout(()=>{throw r},0)),r}}return n}class yR{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;me("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,he.Z)(function*(){t.task=null;try{me("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){Aa(r)?me("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Da(r)}yield t.ee(6e4)}))}}class bR{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,he.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let s=t,c=!0;return W.doWhile(()=>!0===c&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return me("IndexBackiller",`Processing collection: ${u}`),this.re(e,u,s).next(g=>{s-=g,r.add(u)});c=!1})).next(()=>t-s)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ie(s,c)).next(g=>(me("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>u.size)}))}ie(e,t){let r=e;return t.changes.forEach((s,c)=>{const u=RC(c);fu(u,r)>0&&(r=u)}),new Ii(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let wi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.se(s),this.oe=s=>r.writeSequenceNumber(s))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Sa(n){return null==n}function Lc(n){return 0===n&&1/n==-1/0}function nm(n){return"number"==typeof n&&Number.isInteger(n)&&!Lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ti(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OC(e)),e=IR(n.get(t),e);return OC(e)}function IR(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const c=n.charAt(s);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function OC(n){return n+"\x01\x01"}function Mo(n){const e=n.length;if(Ke(e>=2),2===e)return Ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let s="";for(let c=0;c<e;){const u=n.indexOf("\x01",c);switch((u<0||u>t)&&Be(),n.charAt(u+1)){case"\x01":const g=n.substring(c,u);let y;0===s.length?y=g:(s+=g,y=s,s=""),r.push(y);break;case"\x10":s+=n.substring(c,u),s+="\0";break;case"\x11":s+=n.substring(c,u+1);break;default:Be()}c=u+2}return new Qt(r)}const kC=["userId","batchId"];function rm(n,e){return[n,Ti(e)]}function NC(n,e,t){return[n,Ti(e),t]}const ER={},FC=["prefixPath","collectionGroup","readTime","documentId"],wR=["prefixPath","collectionGroup","documentId"],TR=["collectionGroup","readTime","prefixPath","documentId"],ah=["canonicalId","targetId"],CR=["targetId","path"],cI=["path","targetId"],DR=["collectionId","parent"],lI=["indexId","uid"],LC=["uid","sequenceNumber"],VC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],UC=["indexId","uid","orderedDocumentKey"],im=["userId","collectionPath","documentId"],BC=["userId","collectionPath","largestBatchId"],ch=["userId","collectionGroup","largestBatchId"],lh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uI=[...lh,"documentOverlays"],om=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jC=om,AR=[...jC,"indexConfiguration","indexState","indexEntries"];class bv extends em{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Dr(n,e){const t=Pe(n);return Ei.M(t.ae,e)}function Iv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class In{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new In(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,s,c){this.key=e,this.value=t,this.color=r??Hr.RED,this.left=s??Hr.EMPTY,this.right=c??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,c){return new Hr(e??this.key,t??this.value,r??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===c?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Hr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(e,t,r,s,c){return this}insert(e,t,r){return new Hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HC(this.data.getIterator())}getIteratorFrom(e){return new HC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(s,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class HC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dh(n){return n.hasNext()?n.getNext():void 0}class Bi{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Bi([])}unionWith(e){let t=new fn(Pn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Bi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $C("Invalid base64 string: "+c):c}}(e);return new gr(t)}static fromUint8Array(e){const t=function(s){let c="";for(let u=0;u<s.length;++u)c+=String.fromCharCode(s[u]);return c}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const GC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vc(n){if(Ke(!!n),"string"==typeof n){let e=0;const t=GC.exec(n);if(Ke(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xn(n.seconds),nanos:Xn(n.nanos)}}function Xn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ra(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function Ev(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wv(n){const e=n.mapValue.fields.__previous_value__;return Ev(e)?wv(e):e}function sm(n){const e=Vc(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class SR{constructor(e,t,r,s,c,u,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=w}}class Uc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Uc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tv={nullValue:"NULL_VALUE"};function Ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ev(n)?4:hI(n)?9007199254740991:10:Be()}function Vs(n,e){if(n===e)return!0;const t=Ls(n);if(t!==Ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sm(n).isEqual(sm(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const u=Vc(s.timestampValue),g=Vc(c.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Ra(n.bytesValue).isEqual(Ra(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,c){return Xn(s.geoPointValue.latitude)===Xn(c.geoPointValue.latitude)&&Xn(s.geoPointValue.longitude)===Xn(c.geoPointValue.longitude)}(n,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Xn(s.integerValue)===Xn(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const u=Xn(s.doubleValue),g=Xn(c.doubleValue);return u===g?Lc(u)===Lc(g):isNaN(u)&&isNaN(g)}return!1}(n,e);case 9:return oh(n.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:return function(s,c){const u=s.mapValue.fields||{},g=c.mapValue.fields||{};if(Iv(u)!==Iv(g))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(void 0===g[y]||!Vs(u[y],g[y])))return!1;return!0}(n,e);default:return Be()}var c}function am(n,e){return void 0!==(n.values||[]).find(t=>Vs(t,e))}function Us(n,e){if(n===e)return 0;const t=Ls(n),r=Ls(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(c,u){const g=Xn(c.integerValue||c.doubleValue),y=Xn(u.integerValue||u.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(n,e);case 3:return Jn(n.timestampValue,e.timestampValue);case 4:return Jn(sm(n),sm(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(c,u){const g=Ra(c),y=Ra(u);return g.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(c,u){const g=c.split("/"),y=u.split("/");for(let w=0;w<g.length&&w<y.length;w++){const T=yt(g[w],y[w]);if(0!==T)return T}return yt(g.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,u){const g=yt(Xn(c.latitude),Xn(u.latitude));return 0!==g?g:yt(Xn(c.longitude),Xn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,u){const g=c.values||[],y=u.values||[];for(let w=0;w<g.length&&w<y.length;++w){const T=Us(g[w],y[w]);if(T)return T}return yt(g.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,u){if(c===Bc.mapValue&&u===Bc.mapValue)return 0;if(c===Bc.mapValue)return 1;if(u===Bc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),w=u.fields||{},T=Object.keys(w);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const P=yt(y[S],T[S]);if(0!==P)return P;const V=Us(g[y[S]],w[T[S]]);if(0!==V)return V}return yt(y.length,T.length)}(n.mapValue,e.mapValue);default:throw Be()}}function Jn(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return yt(n,e);const t=Vc(n),r=Vc(e),s=yt(t.seconds,r.seconds);return 0!==s?s:yt(t.nanos,r.nanos)}function gu(n){return dI(n)}function dI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Vc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ra(n.bytesValue).toBase64():"referenceValue"in n?Oe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const c of t.values||[])s?s=!1:r+=",",r+=dI(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",c=!0;for(const u of r)c?c=!1:s+=",",s+=`${u}:${dI(t.fields[u])}`;return s+"}"}(n.mapValue):Be()}function Wo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jc(n){return!!n&&"integerValue"in n}function zc(n){return!!n&&"arrayValue"in n}function fh(n){return!!n&&"nullValue"in n}function cm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lm(n){return!!n&&"mapValue"in n}function ph(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ph(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ph(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cv(n){return"nullValue"in n?Tv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wo(Uc.empty(),Oe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Be()}function fI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wo(Uc.empty(),Oe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bc:Be()}function pI(n,e){const t=Us(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function um(n,e){const t=Us(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ph(t)}setAll(e){let t=Pn.emptyPath(),r={},s=[];e.forEach((u,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,s),r={},s=[],t=g.popLast()}u?r[g.lastSegment()]=ph(u):s.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,s)}delete(e){const t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];lm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){xa(t,(s,c)=>e[s]=c);for(const s of r)delete e[s]}clone(){return new Zn(ph(this.value))}}function qC(n){const e=[];return xa(n.fields,(t,r)=>{const s=new Pn([t]);if(lm(r)){const c=qC(r.mapValue).fields;if(0===c.length)e.push(s);else for(const u of c)e.push(s.child(u))}else e.push(s)}),new Bi(e)}class Ht{constructor(e,t,r,s,c,u,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=c,this.data=u,this.documentState=g}static newInvalidDocument(e){return new Ht(e,0,Xe.min(),Xe.min(),Xe.min(),Zn.empty(),0)}static newFoundDocument(e,t,r,s){return new Ht(e,1,t,Xe.min(),r,s,0)}static newNoDocument(e,t){return new Ht(e,2,t,Xe.min(),Xe.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Xe.min(),Xe.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function ZC(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const c=e[s],u=n.position[s];if(r=c.field.isKeyField()?Oe.comparator(Oe.fromName(u.referenceValue),t.key):Us(u,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function Dv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vs(n.position[t],e.position[t]))return!1;return!0}class mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function WC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class YC{}class Gt extends YC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gI(e,t,r):"array-contains"===t?new xR(e,r):"in"===t?new XC(e,r):"not-in"===t?new gh(e,r):"array-contains-any"===t?new JC(e,r):new Gt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new KC(e,r):new QC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Us(t,this.value)):null!==t&&Ls(this.value)===Ls(t)&&this.matchesComparison(Us(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends YC{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new pn(e,t)}matches(e){return Ma(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ma(n){return"and"===n.op}function dm(n){return"or"===n.op}function hm(n){return _u(n)&&Ma(n)}function _u(n){for(const e of n.filters)if(e instanceof pn)return!1;return!0}function Av(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+gu(n.value);if(hm(n))return n.filters.map(e=>Av(e)).join(",");{const e=n.filters.map(t=>Av(t)).join(",");return`${n.op}(${e})`}}function mI(n,e){return n instanceof Gt?(r=n,(s=e)instanceof Gt&&r.op===s.op&&r.field.isEqual(s.field)&&Vs(r.value,s.value)):n instanceof pn?function(r,s){return s instanceof pn&&r.op===s.op&&r.filters.length===s.filters.length&&r.filters.reduce((c,u,g)=>c&&mI(u,s.filters[g]),!0)}(n,e):void Be();var r,s}function vu(n,e){const t=n.filters.concat(e);return pn.create(t,n.op)}function Sv(n){return n instanceof Gt?`${(t=n).field.canonicalString()} ${t.op} ${gu(t.value)}`:n instanceof pn?function(t){return t.op.toString()+" {"+t.getFilters().map(Sv).join(" ,")+"}"}(n):"Filter";var t}class gI extends Gt{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class KC extends Gt{constructor(e,t){super(e,"in",t),this.keys=_I(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QC extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=_I(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _I(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class xR extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zc(t)&&am(t.arrayValue,this.value)}}class XC extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&am(this.value.arrayValue,t)}}class gh extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!am(this.value.arrayValue,t)}}class JC extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>am(this.value.arrayValue,r))}}class RR{constructor(e,t=null,r=[],s=[],c=null,u=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=c,this.startAt=u,this.endAt=g,this.ce=null}}function vI(n,e=null,t=[],r=[],s=null,c=null,u=null){return new RR(n,e,t,r,s,c,u)}function yu(n){const e=Pe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Av(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),Sa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gu(r)).join(",")),e.ce=t}return e.ce}function _h(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dv(n.startAt,e.startAt)&&Dv(n.endAt,e.endAt)}function fm(n){return Oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xv(n,e){return n.filters.filter(t=>t instanceof Gt&&t.field.isEqual(e))}function MR(n,e,t){let r=Tv,s=!0;for(const c of xv(n,e)){let u=Tv,g=!0;switch(c.op){case"<":case"<=":u=Cv(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,g=!1;break;case"!=":case"not-in":u=Tv}pI({value:r,inclusive:s},{value:u,inclusive:g})<0&&(r=u,s=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];pI({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}return{value:r,inclusive:s}}function eD(n,e,t){let r=Bc,s=!0;for(const c of xv(n,e)){let u=Bc,g=!0;switch(c.op){case">=":case">":u=fI(c.value),g=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,g=!1;break;case"!=":case"not-in":u=Bc}um({value:r,inclusive:s},{value:u,inclusive:g})>0&&(r=u,s=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];um({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}return{value:r,inclusive:s}}class Bs{constructor(e,t=null,r=[],s=[],c=null,u="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=c,this.limitType=u,this.startAt=g,this.endAt=y,this.le=null,this.he=null,this.Pe=null}}function Rv(n,e,t,r,s,c,u,g){return new Bs(n,e,t,r,s,c,u,g)}function vh(n){return new Bs(n)}function tD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yI(n){return null!==n.collectionGroup}function yh(n){const e=Pe(n);if(null===e.le){e.le=[];const t=new Set;for(const c of e.explicitOrderBy)e.le.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let g=new fn(Pn.comparator);return u.filters.forEach(y=>{y.getFlattenedFilters().forEach(w=>{w.isInequality()&&(g=g.add(w.field))})}),g})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.le.push(new mh(c,r))}),t.has(Pn.keyField().canonicalString())||e.le.push(new mh(Pn.keyField(),r))}return e.le}function Ci(n){const e=Pe(n);return e.he||(e.he=function nD(n,e){if("F"===n.limitType)return vI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new mh(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new Hc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Hc(n.startAt.position,n.startAt.inclusive):null;return vI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,yh(n))),e.he}function bI(n,e){const t=n.filters.concat([e]);return new Bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mv(n,e,t){return new Bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pm(n,e){return _h(Ci(n),Ci(e))&&n.limitType===e.limitType}function rD(n){return`${yu(Ci(n))}|lt:${n.limitType}`}function bh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>Sv(s)).join(", ")}]`),Sa(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>gu(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>gu(s)).join(",")),`Target(${r})`}(Ci(n))}; limitType=${n.limitType})`}function mm(n,e){return e.isFoundDocument()&&function(r,s){const c=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Oe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,e)&&function(r,s){for(const c of yh(r))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(n,e)&&function(r,s){for(const c of r.filters)if(!c.matches(s))return!1;return!0}(n,e)&&(s=e,!((r=n).startAt&&!function(u,g,y){const w=ZC(u,g,y);return u.inclusive?w<=0:w<0}(r.startAt,yh(r),s)||r.endAt&&!function(u,g,y){const w=ZC(u,g,y);return u.inclusive?w>=0:w>0}(r.endAt,yh(r),s)));var r,s}function iD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oD(n){return(e,t)=>{let r=!1;for(const s of yh(n)){const c=PR(s,e,t);if(0!==c)return c;r=r||s.field.isKeyField()}return 0}}function PR(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(c,u,g){const y=u.data.field(c),w=g.data.field(c);return null!==y&&null!==w?Us(y,w):Be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be()}}class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,c]of r)if(this.equalsFn(s,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,r)=>{for(const[s,c]of r)e(s,c)})}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}const sD=new In(Oe.comparator);function Di(){return sD}const Oa=new In(Oe.comparator);function Ih(...n){let e=Oa;for(const t of n)e=e.insert(t.key,t);return e}function aD(n){let e=Oa;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yo(){return ka()}function II(){return ka()}function ka(){return new Pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const EI=new In(Oe.comparator),Eh=new fn(Oe.comparator);function xt(...n){let e=Eh;for(const t of n)e=e.add(t);return e}const wh=new fn(yt);function wI(){return wh}function gm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function _m(n){return{integerValue:""+n}}function Pv(n,e){return nm(e)?_m(e):gm(n,e)}class vm{constructor(){this._=void 0}}function OR(n,e,t){return n instanceof Na?function(s,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&Ev(c)&&(c=wv(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}}(t,e):n instanceof js?TI(n,e):n instanceof $c?lD(n,e):function(s,c){const u=cD(s,c),g=CI(u)+CI(s.Ie);return jc(u)&&jc(s.Ie)?_m(g):gm(s.serializer,g)}(n,e)}function kR(n,e,t){return n instanceof js?TI(n,e):n instanceof $c?lD(n,e):t}function cD(n,e){return n instanceof Th?jc(r=e)||(c=r)&&"doubleValue"in c?e:{integerValue:0}:null;var r,c}class Na extends vm{}class js extends vm{constructor(e){super(),this.elements=e}}function TI(n,e){const t=Ov(e);for(const r of n.elements)t.some(s=>Vs(s,r))||t.push(r);return{arrayValue:{values:t}}}class $c extends vm{constructor(e){super(),this.elements=e}}function lD(n,e){let t=Ov(e);for(const r of n.elements)t=t.filter(s=>!Vs(s,r));return{arrayValue:{values:t}}}class Th extends vm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function CI(n){return Xn(n.integerValue||n.doubleValue)}function Ov(n){return zc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ch{constructor(e,t){this.field=e,this.transform=t}}class NR{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fa(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class DI{}function kv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ah(n.key,Hn.none()):new Ko(n.key,n.data,Hn.none());{const t=n.data,r=Zn.empty();let s=new fn(Pn.comparator);for(let c of e.fields)if(!s.has(c)){let u=t.field(c);null===u&&c.length>1&&(c=c.popLast(),u=t.field(c)),null===u?r.delete(c):r.set(c,u),s=s.add(c)}return new La(n.key,r,new Bi(s.toArray()),Hn.none())}}function iO(n,e,t){n instanceof Ko?function(s,c,u){const g=s.value.clone(),y=hD(s.fieldTransforms,c,u.transformResults);g.setAll(y),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):n instanceof La?function(s,c,u){if(!Fa(s.precondition,c))return void c.convertToUnknownDocument(u.version);const g=hD(s.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(dD(s)),y.setAll(g),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dh(n,e,t,r){return n instanceof Ko?function(c,u,g,y){if(!Fa(c.precondition,u))return g;const w=c.value.clone(),T=Iu(c.fieldTransforms,y,u);return w.setAll(T),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof La?function(c,u,g,y){if(!Fa(c.precondition,u))return g;const w=Iu(c.fieldTransforms,y,u),T=u.data;return T.setAll(dD(c)),T.setAll(w),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===g?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(n,e,t,r):(g=t,Fa(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g);var u,g}function uD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),c=cD(r.transform,s||null);null!=c&&(null===t&&(t=Zn.empty()),t.set(r.field,c))}return t||null}function FR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===s||r&&s&&oh(r,s,(c,u)=>function bu(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(r=n.transform)instanceof js&&s instanceof js||r instanceof $c&&s instanceof $c?oh(r.elements,s.elements,Vs):r instanceof Th&&s instanceof Th?Vs(r.Ie,s.Ie):r instanceof Na&&s instanceof Na);var r,s}(c,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,s}class Ko extends DI{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class La extends DI{constructor(e,t,r,s,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hD(n,e,t){const r=new Map;Ke(n.length===t.length);for(let s=0;s<t.length;s++){const c=n[s],u=c.transform,g=e.data.field(c.field);r.set(c.field,kR(u,g,t[s]))}return r}function Iu(n,e,t){const r=new Map;for(const s of n){const c=s.transform,u=t.data.field(s.field);r.set(s.field,OR(c,u,e))}return r}class Ah extends DI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sh extends DI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xh{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(e.key)&&iO(c,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=II();return this.mutations.forEach(s=>{const c=e.get(s.key),u=c.overlayedDocument;let g=this.applyToLocalView(u,c.mutatedFields);g=t.has(s.key)?null:g;const y=kv(u,g);null!==y&&r.set(s.key,y),u.isValidDocument()||u.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xt())}isEqual(e){return this.batchId===e.batchId&&oh(this.mutations,e.mutations,(t,r)=>FR(t,r))&&oh(this.baseMutations,e.baseMutations,(t,r)=>FR(t,r))}}class ci{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length);let s=EI;const c=e.mutations;for(let u=0;u<c.length;u++)s=s.insert(c[u].key,r[u].version);return new ci(e,t,r,s)}}class Nv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class LR{constructor(e,t){this.count=e,this.unchangedNames=t}}var cr,qt;function AI(n){switch(n){default:return Be();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function SI(n){if(void 0===n)return rn("GRPC error has no .code"),K.UNKNOWN;switch(n){case cr.OK:return K.OK;case cr.CANCELLED:return K.CANCELLED;case cr.UNKNOWN:return K.UNKNOWN;case cr.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case cr.INTERNAL:return K.INTERNAL;case cr.UNAVAILABLE:return K.UNAVAILABLE;case cr.UNAUTHENTICATED:return K.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case cr.NOT_FOUND:return K.NOT_FOUND;case cr.ALREADY_EXISTS:return K.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return K.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case cr.ABORTED:return K.ABORTED;case cr.OUT_OF_RANGE:return K.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return K.UNIMPLEMENTED;case cr.DATA_LOSS:return K.DATA_LOSS;default:return Be()}}(qt=cr||(cr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function pD(){return new TextEncoder}const VR=new Nc([4294967295,4294967295],0);function Rh(n){const e=pD().encode(n),t=new rI;return t.update(e),new Uint8Array(t.digest())}function mD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nc([t,r],0),new Nc([s,c],0)]}class xI{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ym(`Invalid padding: ${t}`);if(r<0)throw new ym(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ym(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ym(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Nc.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(Nc.fromNumber(r)));return 1===s.compare(VR)&&(s=new Nc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Rh(e),[r,s]=mD(t);for(let c=0;c<this.hashCount;c++){const u=this.de(r,s,c);if(!this.Ae(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new xI(c,s,t);return r.forEach(g=>u.insert(g)),u}insert(e){if(0===this.Te)return;const t=Rh(e),[r,s]=mD(t);for(let c=0;c<this.hashCount;c++){const u=this.de(r,s,c);this.Re(u)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ym extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gc{constructor(e,t,r,s,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gc(Xe.min(),s,new In(yt),Di(),xt())}}class Mh{constructor(e,t,r,s,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Mh(r,t,xt(),xt(),xt())}}class bm{constructor(e,t,r,s){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=s}}class RI{constructor(e,t){this.targetId=e,this.fe=t}}class gD{constructor(e,t,r=gr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Ph{constructor(){this.ge=0,this.pe=vD(),this.ye=gr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xt(),t=xt(),r=xt();return this.pe.forEach((s,c)=>{switch(c){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Be()}}),new Mh(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=vD()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Im{constructor(e){this.Le=e,this.ke=new Map,this.qe=Di(),this.Qe=_D(),this.Ke=new In(yt)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.fe.count,s=this.Ye(t);if(s){const c=s.target;if(fm(c))if(0===r){const u=new Oe(c.path);this.We(t,u,Ht.newNoDocument(u,Xe.min()))}else Ke(1===r);else{const u=this.Ze(t);if(u!==r){const g=this.Xe(e),y=g?this.et(g,e,u):1;0!==y&&(this.He(t),this.Ke=this.Ke.insert(t,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:c=0}=t;let u,g;try{u=Ra(r).toUint8Array()}catch(y){if(y instanceof $C)return bi("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new xI(u,s,c)}catch(y){return bi(y instanceof ym?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return 0===g.Te?null:g}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(c=>{const u=this.Le.nt(),g=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.We(t,c,null),s++)}),s}it(e){const t=new Map;this.ke.forEach((c,u)=>{const g=this.Ye(u);if(g){if(c.current&&fm(g.target)){const y=new Oe(g.target.path);null!==this.qe.get(y)||this.st(u,y)||this.We(u,y,Ht.newNoDocument(y,e))}c.De&&(t.set(u,c.ve()),c.Fe())}});let r=xt();this.Qe.forEach((c,u)=>{let g=!0;u.forEachWhile(y=>{const w=this.Ye(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(g=!1,!1)}),g&&(r=r.add(c))}),this.qe.forEach((c,u)=>u.setReadTime(e));const s=new Gc(e,t,this.Ke,this.qe,r);return this.qe=Di(),this.Qe=_D(),this.Ke=new In(yt),s}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,t)?s.Me(t,1):s.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Ph,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new fn(yt),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||me("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ph),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _D(){return new In(Oe.comparator)}function vD(){return new In(Oe.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},yD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"};class ID{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function MI(n,e){return n.useProto3Json||Sa(e)?e:{value:e}}function Eu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ED(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BR(n,e){return Eu(n,e.toTimestamp())}function _r(n){return Ke(!!n),Xe.fromTimestamp(function(t){const r=Vc(t);return new zn(r.seconds,r.nanos)}(n))}function wD(n,e){return(r=n,new Qt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function jR(n){const e=Qt.fromString(n);return Ke(PD(e)),e}function Lv(n,e){return wD(n.databaseId,e.path)}function Qo(n,e){const t=jR(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(PI(t))}function Oh(n,e){return wD(n.databaseId,e)}function TD(n){const e=jR(n);return 4===e.length?Qt.emptyPath():PI(e)}function Em(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PI(n){return Ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kh(n,e,t){return{name:Lv(n,e),fields:t.value.mapValue.fields}}function CD(n,e,t){const r=Qo(n,e.name),s=_r(e.updateTime),c=e.createTime?_r(e.createTime):Xe.min(),u=new Zn({mapValue:{fields:e.fields}}),g=Ht.newFoundDocument(r,s,c,u);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function wm(n,e){let t;if(e instanceof Ko)t={update:kh(n,e.key,e.value)};else if(e instanceof Ah)t={delete:Lv(n,e.key)};else if(e instanceof La)t={update:kh(n,e.key,e.data),updateMask:NI(e.fieldMask)};else{if(!(e instanceof Sh))return Be();t={verify:Lv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,u){const g=u.transform;if(g instanceof Na)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof js)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof $c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Th)return{fieldPath:u.field.canonicalString(),increment:g.Ie};throw Be()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:BR(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Be()),t;var c}function DD(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Hn.updateTime(_r(c.updateTime)):void 0!==c.exists?Hn.exists(c.exists):Hn.none():Hn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,g){let y=null;"setToServerValue"in g?(Ke("REQUEST_TIME"===g.setToServerValue),y=new Na):"appendMissingElements"in g?y=new js(g.appendMissingElements.values||[]):"removeAllFromArray"in g?y=new $c(g.removeAllFromArray.values||[]):"increment"in g?y=new Th(u,g.increment):Be();const w=Pn.fromServerFormat(g.fieldPath);return new Ch(w,y)}(n,s)):[];var c;if(e.update){const s=Qo(n,e.update.name),c=new Zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Bi((e.updateMask.fieldPaths||[]).map(T=>Pn.fromServerFormat(T)));return new La(s,c,u,t,r)}return new Ko(s,c,t,r)}if(e.delete){const s=Qo(n,e.delete);return new Ah(s,t)}if(e.verify){const s=Qo(n,e.verify);return new Sh(s,t)}return Be()}function OI(n,e){return{documents:[Oh(n,e.path)]}}function kI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Oh(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Oh(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(y){if(0!==y.length)return MD(pn.create(y,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const c=function(y){if(0!==y.length)return y.map(w=>{return{field:qc((S=w).field),direction:xD(S.dir)};var S})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=MI(n,e.limit);return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),t;var y}function AD(n){let e=TD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let c=[];t.where&&(c=function(S){const P=SD(S);return P instanceof pn&&hm(P)?P.getFilters():[P]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(P=>{return new mh(wu((X=P).field),function(ce){switch(ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction));var X}));let g=null;t.limit&&(g=function(S){let P;return P="object"==typeof S?S.value:S,Sa(P)?null:P}(t.limit));let y=null;var S;t.startAt&&(y=new Hc((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new Hc(S.values||[],!S.before)}(t.endAt)),Rv(e,s,u,c,g,"F",y,w)}function SD(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wu(t.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wu(t.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=wu(t.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wu(t.unaryFilter.field);return Gt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Be()}}(n):void 0!==n.fieldFilter?Gt.create(wu((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return pn.create(t.compositeFilter.filters.map(r=>SD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be()}}(t.compositeFilter.op))}(n):Be();var t}function xD(n){return UR[n]}function GR(n){return yD[n]}function RD(n){return bD[n]}function qc(n){return{fieldPath:n.canonicalString()}}function wu(n){return Pn.fromServerFormat(n.fieldPath)}function MD(n){return n instanceof Gt?function(t){if("=="===t.op){if(cm(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NAN"}};if(fh(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(cm(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NOT_NAN"}};if(fh(t.value))return{unaryFilter:{field:qc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(t.field),op:GR(t.op),value:t.value}}}(n):n instanceof pn?function(t){const r=t.getFilters().map(s=>MD(s));return 1===r.length?r[0]:{compositeFilter:{op:RD(t.op),filters:r}}}(n):Be()}function NI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class zs{constructor(e,t,r,s,c=Xe.min(),u=Xe.min(),g=gr.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FI{constructor(e){this.ut=e}}function OD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Vv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Lv(c=n.ut,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Eu(c,u.version.toTimestamp()),createTime:Eu(c,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Va(e.version)};else{if(!e.isUnknownDocument())return Be();r.unknownDocument={path:t.path.toArray(),version:Va(e.version)}}var c,u;return r}function Vv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Va(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tu(n){const e=new zn(n.seconds,n.nanoseconds);return Xe.fromTimestamp(e)}function Zc(n,e){const t=(e.baseMutations||[]).map(c=>DD(n.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>DD(n.ut,c)),s=zn.fromMillis(e.localWriteTimeMs);return new xh(e.batchId,s,t,r)}function Cm(n){const e=Tu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Tu(n.lastLimboFreeSnapshotVersion):Xe.min();let r;return r=void 0!==n.query.documents?(Ke(1===(c=n.query).documents.length),Ci(vh(TD(c.documents[0])))):function(c){return Ci(AD(c))}(n.query),new zs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,gr.fromBase64String(n.resumeToken));var c}function kD(n,e){const t=Va(e.snapshotVersion),r=Va(e.lastLimboFreeSnapshotVersion);let s;s=fm(e.target)?OI(n.ut,e.target):kI(n.ut,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function LI(n){const e=AD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Mv(e,e.limit,"L"):e}function VI(n,e){return new Nv(e.largestBatchId,DD(n.ut,e.overlayMutation))}function ND(n,e){const t=e.path.lastSegment();return[n,Ti(e.path.popLast()),t]}function FD(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Va(r.readTime),documentKey:Ti(r.documentKey.path),largestBatchId:r.largestBatchId}}class ZR{getBundleMetadata(e,t){return LD(e).get(t).next(r=>{if(r)return{id:(c=r).bundleId,createTime:Tu(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return LD(e).put({bundleId:(s=t).id,createTime:Va(_r(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return UI(e).get(t).next(r=>{if(r)return{name:(c=r).name,query:LI(c.bundledQuery),readTime:Tu(c.readTime)};var c})}saveNamedQuery(e,t){return UI(e).put({name:(s=t).name,readTime:Va(_r(s.readTime)),bundledQuery:s.bundledQuery});var s}}function LD(n){return Dr(n,"bundles")}function UI(n){return Dr(n,"namedQueries")}class Dm{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Dm(e,t.uid||"")}getOverlay(e,t){return Am(e).get(ND(this.userId,t)).next(r=>r?VI(this.serializer,r):null)}getOverlays(e,t){const r=Yo();return W.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((c,u)=>{const g=new Nv(t,u);s.push(this.lt(e,g))}),W.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(u=>s.add(Ti(u.getCollectionPath())));const c=[];return s.forEach(u=>{const g=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(Am(e).H("collectionPathOverlayIndex",g))}),W.waitFor(c)}getOverlaysForCollection(e,t,r){const s=Yo(),c=Ti(t),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Am(e).W("collectionPathOverlayIndex",u).next(g=>{for(const y of g){const w=VI(this.serializer,y);s.set(w.getKey(),w)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const c=Yo();let u;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Am(e).Y({index:"collectionGroupOverlayIndex",range:g},(y,w,T)=>{const S=VI(this.serializer,w);c.size()<s||S.largestBatchId===u?(c.set(S.getKey(),S),u=S.largestBatchId):T.done()}).next(()=>c)}lt(e,t){return Am(e).put(function(s,c,u){const[g,y,w]=ND(c,u.mutation.key);return{userId:c,collectionPath:y,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:wm(s.ut,u.mutation)}}(this.serializer,this.userId,t))}}function Am(n){return Dr(n,"documentOverlays")}class Cu{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Xn(e.integerValue));else if("doubleValue"in e){const r=Xn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Lc(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ra(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?hI(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Be()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const s of Object.keys(r))this.At(s,t),this.Pt(r[s],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const s of r)this.Pt(s,t)}ft(e,t){this.Tt(t,37),Oe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function VD(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function UD(n){const e=64-function(r){let s=0;for(let c=0;c<8;++c){const u=VD(255&r[c]);if(s+=u,8!==u)break}return s}(n);return Math.ceil(e/8)}Cu.St=new Cu;class WR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const s=t.codePointAt(0);this.Dt(240|s>>>18),this.Dt(128|63&s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=t.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Nt(e){const t=this.Bt(e),r=UD(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}kt(e){const t=this.Bt(e),r=UD(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(c){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,c,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class BI{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class BD{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Du{constructor(){this.Wt=new WR,this.Gt=new BI(this.Wt),this.zt=new BD(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Wc{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wc(this.indexId,this.documentKey,this.arrayValue,r)}}function Yc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jI(n.arrayValue,e.arrayValue),0!==t?t:(t=jI(n.directionalValue,e.directionalValue),0!==t?t:Oe.comparator(n.documentKey,e.documentKey)))}function jI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zI{constructor(e){this.Jt=new fn((t,r)=>Pn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=sI(e);if(void 0!==t&&!this.tn(t))return!1;const r=du(e);let s=new Set,c=0,u=0;for(;c<r.length&&this.tn(r[c]);++c)s=s.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(this.Jt.size>0){const g=this.Jt.getIterator().getNext();if(!s.has(g.field.canonicalString())){const y=r[c];if(!this.nn(g,y)||!this.rn(this.Yt[u++],y))return!1}++c}for(;c<r.length;++c)if(u>=this.Yt.length||!this.rn(this.Yt[u++],r[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new fn(Pn.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new hu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new hu(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new hu(r.field,"asc"===r.dir?0:1)));return new Jp(Jp.UNKNOWN_ID,this.collectionId,t,sh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function HI(n){var e,t;if(Ke(n instanceof Gt||n instanceof pn),n instanceof Gt){if(n instanceof XC){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Gt.create(n.field,"==",c)))||[];return pn.create(s,"or")}return n}const r=n.filters.map(s=>HI(s));return pn.create(r,n.op)}function jD(n){if(0===n.getFilters().length)return[];const e=Bv(HI(n));return Ke(GI(e)),$I(e)||Uv(e)?[e]:e.getFilters()}function $I(n){return n instanceof Gt}function Uv(n){return n instanceof pn&&hm(n)}function GI(n){return $I(n)||Uv(n)||function(t){if(t instanceof pn&&dm(t)){for(const r of t.getFilters())if(!$I(r)&&!Uv(r))return!1;return!0}return!1}(n)}function Bv(n){if(Ke(n instanceof Gt||n instanceof pn),n instanceof Gt)return n;if(1===n.filters.length)return Bv(n.filters[0]);const e=n.filters.map(r=>Bv(r));let t=pn.create(e,n.op);return t=xm(t),GI(t)?t:(Ke(t instanceof pn),Ke(Ma(t)),Ke(t.filters.length>1),t.filters.reduce((r,s)=>Sm(r,s)))}function Sm(n,e){let t;return Ke(n instanceof Gt||n instanceof pn),Ke(e instanceof Gt||e instanceof pn),t=n instanceof Gt?e instanceof Gt?pn.create([n,e],"and"):qI(n,e):e instanceof Gt?qI(e,n):function(s,c){if(Ke(s.filters.length>0&&c.filters.length>0),Ma(s)&&Ma(c))return vu(s,c.getFilters());const u=dm(s)?s:c,g=dm(s)?c:s,y=u.filters.map(w=>Sm(w,g));return pn.create(y,"or")}(n,e),xm(t)}function qI(n,e){if(Ma(e))return vu(e,n.getFilters());{const t=e.filters.map(r=>Sm(n,r));return pn.create(t,"or")}}function xm(n){if(Ke(n instanceof Gt||n instanceof pn),n instanceof Gt)return n;const e=n.getFilters();if(1===e.length)return xm(e[0]);if(_u(n))return n;const t=e.map(s=>xm(s)),r=[];return t.forEach(s=>{s instanceof Gt?r.push(s):s instanceof pn&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:pn.create(r,n.op)}class zD{constructor(){this.on=new jv}addToCollectionParentIndex(e,t){return this.on.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Ii.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class jv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new fn(Qt.comparator),c=!s.has(r);return this.index[t]=s.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new fn(Qt.comparator)).toArray()}}const Rm=new Uint8Array(0);class HD{constructor(e,t){this.user=e,this.databaseId=t,this._n=new jv,this.an=new Pa(r=>yu(r),(r,s)=>_h(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const c={collectionId:r,parent:Ti(s)};return ZI(e).put(c)}return W.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[SC(t),""],!1,!0);return ZI(e).W(s).next(c=>{for(const u of c){if(u.collectionId!==t)break;r.push(Mo(u.parent))}return r})}addFieldIndex(e,t){const r=Mm(e),s={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(y=>[y.fieldPath.canonicalString(),y.kind])};var g;delete s.indexId;const c=r.add(s);if(t.indexState){const u=Nh(e);return c.next(g=>{u.put(FD(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Mm(e),s=Nh(e),c=Au(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Mm(e),r=Au(e),s=Nh(e);return t.H().next(()=>r.H()).next(()=>s.H())}createTargetIndexes(e,t){return W.forEach(this.un(t),r=>this.getIndexType(e,r).next(s=>{if(0===s||1===s){const c=new zI(r).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const r=Au(e);let s=!0;const c=new Map;return W.forEach(this.un(t),u=>this.cn(e,u).next(g=>{s&&(s=!!g),c.set(u,g)})).next(()=>{if(s){let u=xt();const g=[];return W.forEach(c,(y,w)=>{var xe;me("IndexedDbIndexManager",`Using index ${xe=y,`id=${xe.indexId}|cg=${xe.collectionGroup}|f=${xe.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${yu(t)}`);const T=function(xe,et){const bt=sI(et);if(void 0===bt)return null;for(const Jt of xv(xe,bt.fieldPath))switch(Jt.op){case"array-contains-any":return Jt.value.arrayValue.values||[];case"array-contains":return[Jt.value]}return null}(w,y),S=function(xe,et){const bt=new Map;for(const Jt of du(et))for(const Ar of xv(xe,Jt.fieldPath))switch(Ar.op){case"==":case"in":bt.set(Jt.fieldPath.canonicalString(),Ar.value);break;case"not-in":case"!=":return bt.set(Jt.fieldPath.canonicalString(),Ar.value),Array.from(bt.values())}return null}(w,y),P=function(xe,et){const bt=[];let Jt=!0;for(const Ar of du(et)){const Zs=0===Ar.kind?MR(xe,Ar.fieldPath,xe.startAt):eD(xe,Ar.fieldPath,xe.startAt);bt.push(Zs.value),Jt&&(Jt=Zs.inclusive)}return new Hc(bt,Jt)}(w,y),V=function(xe,et){const bt=[];let Jt=!0;for(const Ar of du(et)){const Zs=0===Ar.kind?eD(xe,Ar.fieldPath,xe.endAt):MR(xe,Ar.fieldPath,xe.endAt);bt.push(Zs.value),Jt&&(Jt=Zs.inclusive)}return new Hc(bt,Jt)}(w,y),X=this.ln(y,w,P),ne=this.ln(y,w,V),ce=this.hn(y,w,S),Te=this.Pn(y.indexId,T,X,P.inclusive,ne,V.inclusive,ce);return W.forEach(Te,je=>r.j(je,t.limit).next(xe=>{xe.forEach(et=>{const bt=Oe.fromSegments(et.documentKey);u.has(bt)||(u=u.add(bt),g.push(bt))})}))}).next(()=>g)}return W.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:jD(pn.create(e.filters,"and")).map(r=>vI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,s,c,u,g){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),w=y/(null!=t?t.length:1),T=[];for(let S=0;S<y;++S){const P=t?this.In(t[S/w]):Rm,V=this.Tn(e,P,r[S%w],s),X=this.En(e,P,c[S%w],u),ne=g.map(ce=>this.Tn(e,P,ce,!0));T.push(...this.createRange(V,X,ne))}return T}Tn(e,t,r,s){const c=new Wc(e,Oe.empty(),t,r);return s?c:c.Ht()}En(e,t,r,s){const c=new Wc(e,Oe.empty(),t,r);return s?c.Ht():c}cn(e,t){const r=new zI(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(c=>{let u=null;for(const g of c)r.en(g)&&(!u||g.fields.length>u.fields.length)&&(u=g);return u})}getIndexType(e,t){let r=2;const s=this.un(t);return W.forEach(s,c=>this.cn(e,c).next(u=>{u?0!==r&&u.fields.length<function(y){let w=new fn(Pn.comparator),T=!1;for(const S of y.filters)for(const P of S.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?T=!0:w=w.add(P.field));for(const S of y.orderBy)S.field.isKeyField()||(w=w.add(S.field));return w.size+(T?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}dn(e,t){const r=new Du;for(const s of du(e)){const c=t.data.field(s.fieldPath);if(null==c)return null;const u=r.jt(s.kind);Cu.St.ht(c,u)}return r.Ut()}In(e){const t=new Du;return Cu.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new Du;return Cu.St.ht(Wo(this.databaseId,t),r.jt(function(c){const u=du(c);return 0===u.length?0:u[u.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let s=[];s.push(new Du);let c=0;for(const u of du(e)){const g=r[c++];for(const y of s)if(this.Rn(t,u.fieldPath)&&zc(g))s=this.Vn(s,u,g);else{const w=y.jt(u.kind);Cu.St.ht(g,w)}}return this.mn(s)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const s=[...e],c=[];for(const u of r.arrayValue.values||[])for(const g of s){const y=new Du;y.seed(g.Ut()),Cu.St.ht(u,y.jt(t.kind)),c.push(y)}return c}Rn(e,t){return!!e.filters.find(r=>r instanceof Gt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Mm(e),s=Nh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const u=[];return W.forEach(c,g=>s.get([g.indexId,this.uid]).next(y=>{u.push(function(T,S){const P=S?new sh(S.sequenceNumber,new Ii(Tu(S.readTime),new Oe(Mo(S.documentKey)),S.largestBatchId)):sh.empty(),V=T.fields.map(([X,ne])=>new hu(Pn.fromServerFormat(X),ne));return new Jp(T.indexId,T.collectionGroup,V,P)}(g,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const c=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==c?c:yt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Mm(e),c=Nh(e);return this.fn(e).next(u=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>W.forEach(g,y=>c.put(FD(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return W.forEach(t,(s,c)=>{const u=r.get(s.collectionGroup);return(u?W.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),W.forEach(g,y=>this.gn(e,s,y).next(w=>{const T=this.pn(c,y);return w.isEqual(T)?W.resolve():this.yn(e,c,y,w,T)}))))})}wn(e,t,r,s){return Au(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,s){return Au(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const s=Au(e);let c=new fn(Yc);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(u,g)=>{c=c.add(new Wc(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}pn(e,t){let r=new fn(Yc);const s=this.dn(t,e);if(null==s)return r;const c=sI(t);if(null!=c){const u=e.data.field(c.fieldPath);if(zc(u))for(const g of u.arrayValue.values||[])r=r.add(new Wc(t.indexId,e.key,this.In(g),s))}else r=r.add(new Wc(t.indexId,e.key,Rm,s));return r}yn(e,t,r,s,c){me("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(y,w,T,S,P){const V=y.getIterator(),X=w.getIterator();let ne=dh(V),ce=dh(X);for(;ne||ce;){let Te=!1,je=!1;if(ne&&ce){const xe=T(ne,ce);xe<0?je=!0:xe>0&&(Te=!0)}else null!=ne?je=!0:Te=!0;Te?(S(ce),ce=dh(X)):je?(P(ne),ne=dh(V)):(ne=dh(V),ce=dh(X))}}(s,c,Yc,g=>{u.push(this.wn(e,t,r,g))},g=>{u.push(this.Sn(e,t,r,g))}),W.waitFor(u)}fn(e){let t=1;return Nh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,c)=>{c.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,g)=>Yc(u,g)).filter((u,g,y)=>!g||0!==Yc(u,y[g-1]));const s=[];s.push(e);for(const u of r){const g=Yc(u,e),y=Yc(u,t);if(0===g)s[0]=e.Ht();else if(g>0&&y<0)s.push(u),s.push(u.Ht());else if(y>0)break}s.push(t);const c=[];for(let u=0;u<s.length;u+=2){if(this.bn(s[u],s[u+1]))return[];c.push(IDBKeyRange.bound([s[u].indexId,this.uid,s[u].arrayValue,s[u].directionalValue,Rm,[]],[s[u+1].indexId,this.uid,s[u+1].arrayValue,s[u+1].directionalValue,Rm,[]]))}return c}bn(e,t){return Yc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($D)}getMinOffset(e,t){return W.mapArray(this.un(t),r=>this.cn(e,r).next(s=>s||Be())).next($D)}}function ZI(n){return Dr(n,"collectionParents")}function Au(n){return Dr(n,"indexEntries")}function Mm(n){return Dr(n,"indexConfiguration")}function Nh(n){return Dr(n,"indexState")}function $D(n){Ke(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;fu(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ii(e.readTime,e.documentKey,t)}const GD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qD(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),c=[],u=IDBKeyRange.only(t.batchId);let g=0;const y=r.Y({range:u},(T,S,P)=>(g++,P.delete()));c.push(y.next(()=>{Ke(1===g)}));const w=[];for(const T of t.mutations){const S=NC(e,T.key.path,t.batchId);c.push(s.delete(S)),w.push(T.key)}return W.waitFor(c).next(()=>w)}function zv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Be();e=n.noDocument}return JSON.stringify(e).length}li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(41943040,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);class Hv{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Dn={}}static ct(e,t,r,s){Ke(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Hv(c,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).Y({index:"userMutationsIndex",range:r},(s,c,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const c=Fh(e),u=Kc(e);return u.add({}).next(g=>{Ke("number"==typeof g);const y=new xh(g,t,r,s),w=function(V,X,ne){const ce=ne.baseMutations.map(je=>wm(V.ut,je)),Te=ne.mutations.map(je=>wm(V.ut,je));return{userId:X,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:ce,mutations:Te}}(this.serializer,this.userId,y),T=[];let S=new fn((P,V)=>yt(P.canonicalString(),V.canonicalString()));for(const P of s){const V=NC(this.userId,P.key.path,g);S=S.add(P.key.path.popLast()),T.push(u.put(w)),T.push(c.put(V,ER))}return S.forEach(P=>{T.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.Dn[g]=y.keys()}),W.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Kc(e).get(t).next(r=>r?(Ke(r.userId===this.userId),Zc(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?W.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Dn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Kc(e).Y({index:"userMutationsIndex",range:s},(u,g,y)=>{g.userId===this.userId&&(Ke(g.batchId>=r),c=Zc(this.serializer,g)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(s,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).W("userMutationsIndex",t).next(r=>r.map(s=>Zc(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=rm(this.userId,t.path),s=IDBKeyRange.lowerBound(r),c=[];return Fh(e).Y({range:s},(u,g,y)=>{const[w,T,S]=u,P=Mo(T);if(w===this.userId&&t.path.isEqual(P))return Kc(e).get(S).next(V=>{if(!V)throw Be();Ke(V.userId===this.userId),c.push(Zc(this.serializer,V))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(yt);const s=[];return t.forEach(c=>{const u=rm(this.userId,c.path),g=IDBKeyRange.lowerBound(u),y=Fh(e).Y({range:g},(w,T,S)=>{const[P,V,X]=w,ne=Mo(V);P===this.userId&&c.path.isEqual(ne)?r=r.add(X):S.done()});s.push(y)}),W.waitFor(s).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,c=rm(this.userId,r),u=IDBKeyRange.lowerBound(c);let g=new fn(yt);return Fh(e).Y({range:u},(y,w,T)=>{const[S,P,V]=y,X=Mo(P);S===this.userId&&r.isPrefixOf(X)?X.length===s&&(g=g.add(V)):T.done()}).next(()=>this.vn(e,g))}vn(e,t){const r=[],s=[];return t.forEach(c=>{s.push(Kc(e).get(c).next(u=>{if(null===u)throw Be();Ke(u.userId===this.userId),r.push(Zc(this.serializer,u))}))}),W.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return qD(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),W.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return W.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Fh(e).Y({range:r},(c,u,g)=>{if(c[0]===this.userId){const y=Mo(c[1]);s.push(y)}else g.done()}).next(()=>{Ke(0===s.length)})})}containsKey(e,t){return ZD(e,this.userId,t)}Mn(e){return WI(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZD(n,e,t){const r=rm(e,t.path),s=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return Fh(n).Y({range:c,J:!0},(g,y,w)=>{const[T,S,P]=g;T===e&&S===s&&(u=!0),w.done()}).next(()=>u)}function Kc(n){return Dr(n,"mutations")}function Fh(n){return Dr(n,"documentMutations")}function WI(n){return Dr(n,"mutationQueues")}class Qc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Qc(0)}static Nn(){return new Qc(-1)}}class WD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Qc(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Xe.fromTimestamp(new zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Ln(e,s)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Su(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Ke(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let s=0;const c=[];return Su(e).Y((u,g)=>{const y=Cm(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(s++,c.push(this.removeTargetData(e,y)))}).next(()=>W.waitFor(c)).next(()=>s)}forEachTarget(e,t){return Su(e).Y((r,s)=>{const c=Cm(s);t(c)})}Bn(e){return YI(e).get("targetGlobalKey").next(t=>(Ke(null!==t),t))}Ln(e,t){return YI(e).put("targetGlobalKey",t)}kn(e,t){return Su(e).put(kD(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=yu(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Su(e).Y({range:s,index:"queryTargetsIndex"},(u,g,y)=>{const w=Cm(g);_h(t,w.target)&&(c=w,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const s=[],c=Ua(e);return t.forEach(u=>{const g=Ti(u.path);s.push(c.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,u))}),W.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ua(e);return W.forEach(t,c=>{const u=Ti(c.path);return W.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Ua(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ua(e);let c=xt();return s.Y({range:r,J:!0},(u,g,y)=>{const w=Mo(u[1]),T=new Oe(w);c=c.add(T)}).next(()=>c)}containsKey(e,t){const r=Ti(t.path),s=IDBKeyRange.bound([r],[SC(r)],!1,!0);let c=0;return Ua(e).Y({index:"documentTargetsIndex",J:!0,range:s},([u,g],y,w)=>{0!==u&&(c++,w.done())}).next(()=>c>0)}_t(e,t){return Su(e).get(t).next(r=>r?Cm(r):null)}}function Su(n){return Dr(n,"targets")}function YI(n){return Dr(n,"targetGlobal")}function Ua(n){return Dr(n,"targetDocuments")}function KI([n,e],[t,r]){const s=yt(n,t);return 0===s?yt(e,r):s}class YD{constructor(e){this.Qn=e,this.buffer=new fn(KI),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();KI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,he.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Aa(r)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Da(r)}yield t.Gn(3e5)}))}}class KD{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return W.resolve(wi._e);const r=new YD(t);return this.zn.forEachTarget(e,s=>r.Un(s.sequenceNumber)).next(()=>this.zn.Hn(e,s=>r.Un(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(GD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GD):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,s,c,u,g,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),s=this.params.maximumSequenceNumbersToCollect):s=S,u=Date.now(),this.nthSequenceNumber(e,s))).next(S=>(r=S,g=Date.now(),this.removeTargets(e,r,t))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),uu()<=Os.in.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${s} in `+(g-u)+`ms\n\tRemoved ${c} targets in `+(y-g)+`ms\n\tRemoved ${S} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:S})))}}class YR{constructor(e,t){this.db=e,this.garbageCollector=function XI(n,e){return new KD(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,s)=>t(s))}addReference(e,t,r){return $v(e,r)}removeReference(e,t,r){return $v(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $v(e,t)}Xn(e,t){return function(s,c){let u=!1;return WI(s).Z(g=>ZD(s,g,c).next(y=>(y&&(u=!0),W.resolve(!y)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let c=0;return this.Zn(e,(u,g)=>{if(g<=t){const y=this.Xn(e,u).next(w=>{if(!w)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Xe.min()),Ua(e).delete([0,Ti(u.path)])))});s.push(y)}}).next(()=>W.waitFor(s)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $v(e,t)}Zn(e,t){const r=Ua(e);let s,c=wi._e;return r.Y({index:"documentTargetsIndex"},([u,g],{path:y,sequenceNumber:w})=>{0===u?(c!==wi._e&&t(new Oe(Mo(s)),c),c=w,s=y):c=wi._e}).next(()=>{c!==wi._e&&t(new Oe(Mo(s)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $v(n,e){return Ua(n).put((s=n.currentSequenceNumber,{targetId:0,path:Ti(e.path),sequenceNumber:s}));var s}class Gv{constructor(){this.changes=new Pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xc(e).put(r)}removeEntry(e,t,r){return Xc(e).delete(function(c,u){const g=c.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Vv(u),g[g.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=Ht.newInvalidDocument(t);return Xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(s,c)=>{r=this.tr(t,c)}).next(()=>r)}nr(e,t){let r={size:0,document:Ht.newInvalidDocument(t)};return Xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(s,c)=>{r={document:this.tr(t,c),size:zv(c)}}).next(()=>r)}getEntries(e,t){let r=Di();return this.rr(e,t,(s,c)=>{const u=this.tr(s,c);r=r.insert(s,u)}).next(()=>r)}ir(e,t){let r=Di(),s=new In(Oe.comparator);return this.rr(e,t,(c,u)=>{const g=this.tr(c,u);r=r.insert(c,g),s=s.insert(c,zv(u))}).next(()=>({documents:r,sr:s}))}rr(e,t,r){if(t.isEmpty())return W.resolve();let s=new fn(nE);t.forEach(y=>s=s.add(y));const c=IDBKeyRange.bound(Lh(s.first()),Lh(s.last())),u=s.getIterator();let g=u.getNext();return Xc(e).Y({index:"documentKeyIndex",range:c},(y,w,T)=>{const S=Oe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&nE(g,S)<0;)r(g,null),g=u.getNext();g&&g.isEqual(S)&&(r(g,w),g=u.hasNext()?u.getNext():null),g?T.U(Lh(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,s,c){const u=t.path,g=[u.popLast().toArray(),u.lastSegment(),Vv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],y=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xc(e).W(IDBKeyRange.bound(g,y,!0)).next(w=>{c?.incrementDocumentReadCount(w.length);let T=Di();for(const S of w){const P=this.tr(Oe.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);P.isFoundDocument()&&(mm(t,P)||s.has(P.key))&&(T=T.insert(P.key,P))}return T})}getAllFromCollectionGroup(e,t,r,s){let c=Di();const u=tE(t,r),g=tE(t,Ii.max());return Xc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,g,!0)},(y,w,T)=>{const S=this.tr(Oe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(S.key,S),c.size===s&&T.done()}).next(()=>c)}newChangeBuffer(e){return new JI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return eE(e).get("remoteDocumentGlobalKey").next(t=>(Ke(!!t),t))}er(e,t){return eE(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function qR(n,e){let t;if(e.document)t=CD(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Oe.fromSegments(e.noDocument.path),s=Tu(e.noDocument.readTime);t=Ht.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Be();{const r=Oe.fromSegments(e.unknownDocument.path),s=Tu(e.unknownDocument.version);t=Ht.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(s){const c=new zn(s[0],s[1]);return Xe.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Xe.min()))return r}return Ht.newInvalidDocument(e)}}function Zv(n){return new qv(n)}class JI extends Gv{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Pa(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new fn((c,u)=>yt(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const g=this.ar.get(c);if(t.push(this._r.removeEntry(e,c,g.readTime)),u.isValidDocument()){const y=OD(this._r.serializer,u);s=s.add(c.path.popLast());const w=zv(y);r+=w-g.size,t.push(this._r.addEntry(e,c,y))}else if(r-=g.size,this.trackRemovals){const y=OD(this._r.serializer,u.convertToNoDocument(Xe.min()));t.push(this._r.addEntry(e,c,y))}}),s.forEach(c=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),t.push(this._r.updateMetadata(e,r)),W.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:s})=>(s.forEach((c,u)=>{this.ar.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function eE(n){return Dr(n,"remoteDocumentGlobal")}function Xc(n){return Dr(n,"remoteDocumentsV14")}function Lh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tE(n,e){const t=e.documentKey.path.toArray();return[n,Vv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nE(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(s=yt(t[c],r[c]),s)return s;return s=yt(t.length,r.length),s||(s=yt(t[t.length-2],r[r.length-2]),s||yt(t[t.length-1],r[r.length-1]))}class QD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class XD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Dh(r.mutation,s,Bi.empty(),zn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xt()){const s=Yo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(c=>{let u=Ih();return c.forEach((g,y)=>{u=u.insert(g,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xt()))}populateOverlays(e,t,r){const s=[];return r.forEach(c=>{t.has(c)||s.push(c)}),this.documentOverlayCache.getOverlays(e,s).next(c=>{c.forEach((u,g)=>{t.set(u,g)})})}computeViews(e,t,r,s){let c=Di();const u=ka(),g=ka();return t.forEach((y,w)=>{const T=r.get(w.key);s.has(w.key)&&(void 0===T||T.mutation instanceof La)?c=c.insert(w.key,w):void 0!==T?(u.set(w.key,T.mutation.getFieldMask()),Dh(T.mutation,w,T.mutation.getFieldMask(),zn.now())):u.set(w.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((w,T)=>u.set(w,T)),t.forEach((w,T)=>{var S;return g.set(w,new QD(T,null!==(S=u.get(w))&&void 0!==S?S:null))}),g))}recalculateAndSaveOverlays(e,t){const r=ka();let s=new In((u,g)=>u-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const g of u)g.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||Bi.empty();T=g.applyToLocalView(w,T),r.set(y,T);const S=(s.get(g.batchId)||xt()).add(y);s=s.insert(g.batchId,S)})}).next(()=>{const u=[],g=s.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),w=y.key,T=y.value,S=II();T.forEach(P=>{if(!c.has(P)){const V=kv(t.get(P),r.get(P));null!==V&&S.set(P,V),c=c.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,S))}return W.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return Oe.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s);var u}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(c=>{const u=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-c.size):W.resolve(Yo());let g=-1,y=c;return u.next(w=>W.forEach(w,(T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(P=>{y=y.insert(T,P)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,y,w,xt())).next(T=>({batchId:g,changes:aD(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let s=Ih();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const c=t.collectionGroup;let u=Ih();return this.indexManager.getCollectionParents(e,c).next(g=>W.forEach(g,y=>{const w=(S=t,P=y.child(c),new Bs(P,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,P;return this.getDocumentsMatchingCollectionQuery(e,w,r,s).next(T=>{T.forEach((S,P)=>{u=u.insert(S,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,s))).next(u=>{c.forEach((y,w)=>{const T=w.getKey();null===u.get(T)&&(u=u.insert(T,Ht.newInvalidDocument(T)))});let g=Ih();return u.forEach((y,w)=>{const T=c.get(y);void 0!==T&&Dh(T.mutation,w,Bi.empty(),zn.now()),mm(t,w)&&(g=g.insert(y,w))}),g})}}class rE{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return W.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(s=t).id,version:s.version,createTime:_r(s.createTime)}),W.resolve();var s}getNamedQuery(e,t){return W.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(s=t).name,query:LI(s.bundledQuery),readTime:_r(s.readTime)}),W.resolve();var s}}class iE{constructor(){this.overlays=new In(Oe.comparator),this.lr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yo();return W.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,c)=>{this.lt(e,t,c)}),W.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.lr.get(r);return void 0!==s&&(s.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){const s=Yo(),c=t.length+1,u=new Oe(t.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const y=g.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&y.largestBatchId>r&&s.set(y.getKey(),y)}return W.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let c=new In((w,T)=>w-T);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=c.get(w.largestBatchId);null===T&&(T=Yo(),c=c.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const g=Yo(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>g.set(w,T)),!(g.size()>=s)););return W.resolve(g)}lt(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const u=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Nv(t,r));let c=this.lr.get(t);void 0===c&&(c=xt(),this.lr.set(t,c)),this.lr.set(t,c.add(r.key))}}class Wv{constructor(){this.hr=new fn(vr.Pr),this.Ir=new fn(vr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new vr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new vr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new Oe(new Qt([])),r=new vr(t,e),s=new vr(t,e+1),c=[];return this.Ir.forEachInRange([r,s],u=>{this.dr(u),c.push(u.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Oe(new Qt([])),r=new vr(t,e),s=new vr(t,e+1);let c=xt();return this.Ir.forEachInRange([r,s],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new vr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class vr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Oe.comparator(e.key,t.key)||yt(e.gr,t.gr)}static Tr(e,t){return yt(e.gr,t.gr)||Oe.comparator(e.key,t.key)}}class KR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new fn(vr.Pr)}checkEmpty(e){return W.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const c=this.pr;this.pr++;const u=new xh(c,t,r,s);this.mutationQueue.push(u);for(const g of s)this.yr=this.yr.add(new vr(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(u)}lookupMutationBatch(e,t){return W.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Sr(t+1),c=s<0?0:s;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vr(t,0),s=new vr(t,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([r,s],u=>{const g=this.wr(u.gr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(yt);return t.forEach(s=>{const c=new vr(s,0),u=new vr(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,u],g=>{r=r.add(g.gr)})}),W.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let c=r;Oe.isDocumentKey(c)||(c=c.child(""));const u=new vr(new Oe(c),0);let g=new fn(yt);return this.yr.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===s&&(g=g.add(y.gr)),!0)},u),W.resolve(this.br(g))}br(e){const t=[];return e.forEach(r=>{const s=this.wr(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return W.forEach(t.mutations,s=>{const c=new vr(s.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new vr(t,0),s=this.yr.firstAfterOrEqual(r);return W.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return W.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QR{constructor(e){this.Cr=e,this.docs=new In(Oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),c=s?s.size:0,u=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=Di();return t.forEach(s=>{const c=this.docs.get(s);r=r.insert(s,c?c.document.mutableCopy():Ht.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let c=Di();const u=t.path,g=new Oe(u.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:w,value:{document:T}}=y.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||fu(RC(T),r)<=0||(s.has(T.key)||mm(t,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,t,r,s){Be()}vr(e,t){return W.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oE(this)}getSize(e){return W.resolve(this.size)}}class oE extends Gv{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),W.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class XR{constructor(e){this.persistence=e,this.Fr=new Pa(t=>yu(t),_h),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Wv,this.targetCount=0,this.Nr=Qc.On()}forEachTarget(e,t){return this.Fr.forEach((r,s)=>t(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),W.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Qc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.kn(t),W.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let s=0;const c=[];return this.Fr.forEach((u,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Fr.delete(u),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),W.waitFor(c).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),W.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const s=this.persistence.referenceDelegate,c=[];return s&&t.forEach(u=>{c.push(s.markPotentiallyOrphaned(e,u))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this.Or.containsKey(t))}}class sE{constructor(e,t){this.Br={},this.overlays={},this.Lr=new wi(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new XR(this),this.indexManager=new zD,this.remoteDocumentCache=new QR(r=>this.referenceDelegate.Qr(r)),this.serializer=new FI(t),this.Kr=new rE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new KR(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const s=new xu(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(c=>this.referenceDelegate.Ur(s).next(()=>c)).toPromise().then(c=>(s.raiseOnCommittedEvent(),c))}Wr(e,t){return W.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class xu extends em{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.Gr=new Wv,this.zr=null}static jr(e){return new Pm(e)}get Hr(){if(this.zr)return this.zr;throw Be()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),W.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(c=>this.Hr.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Hr,r=>{const s=Oe.fromPath(r);return this.Jr(e,s).next(c=>{c||t.removeEntry(s,Xe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return W.or([()=>W.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class oO{constructor(e){this.serializer=e}N(e,t,r,s){const c=new vv("createOrUpgrade",t);var y;r<1&&s>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kC,{unique:!0}),y.createObjectStore("documentMutations"),Kv(e),function(y){y.createObjectStore("remoteDocuments")}(e));let u=W.resolve();return r<3&&s>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),Kv(e)),u=u.next(()=>function(y){const w=y.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xe.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",T)}(c))),r<4&&s>=4&&(0!==r&&(u=u.next(()=>function(y,w){return w.store("mutations").W().next(T=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kC,{unique:!0});const S=w.store("mutations"),P=T.map(V=>S.put(V));return W.waitFor(P)})}(e,c))),u=u.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(u=u.next(()=>this.Zr(c))),r<6&&s>=6&&(u=u.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),r<7&&s>=7&&(u=u.next(()=>this.ei(c))),r<8&&s>=8&&(u=u.next(()=>this.ti(e,c))),r<9&&s>=9&&(u=u.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(u=u.next(()=>this.ni(c))),r<11&&s>=11&&(u=u.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(u=u.next(()=>{!function(y){const w=y.createObjectStore("documentOverlays",{keyPath:im});w.createIndex("collectionPathOverlayIndex",BC,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",ch,{unique:!1})}(e)})),r<13&&s>=13&&(u=u.next(()=>function(y){const w=y.createObjectStore("remoteDocumentsV14",{keyPath:FC});w.createIndex("documentKeyIndex",wR),w.createIndex("collectionGroupIndex",TR)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(u=u.next(()=>this.ii(e,c))),r<15&&s>=15&&(u=u.next(()=>function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:lI}).createIndex("sequenceNumberIndex",LC,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:VC}).createIndex("documentKeyIndex",UC,{unique:!1})}(e))),u}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,s)=>{t+=zv(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(s=>W.forEach(s,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(g=>W.forEach(g,y=>{Ke(y.userId===c.userId);const w=Zc(this.serializer,y);return qD(e,c.userId,w).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const c=[];return r.Y((u,g)=>{const y=new Qt(u),w=[0,Ti(y)];c.push(t.get(w).next(T=>T?W.resolve():t.put({targetId:0,path:Ti(y),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>W.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:DR});const r=t.store("collectionParents"),s=new jv,c=u=>{if(s.add(u)){const g=u.lastSegment(),y=u.popLast();return r.put({collectionId:g,parent:Ti(y)})}};return t.store("remoteDocuments").Y({J:!0},(u,g)=>{const y=new Qt(u);return c(y.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([u,g,y],w)=>{const T=Mo(g);return c(T.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,s)=>{const c=Cm(s),u=kD(this.serializer,c);return t.put(u)})}ri(e,t){const r=t.store("remoteDocuments"),s=[];return r.Y((c,u)=>{const g=t.store("remoteDocumentsV14"),y=(S=u,S.document?new Oe(Qt.fromString(S.document.name).popFirst(5)):S.noDocument?Oe.fromSegments(S.noDocument.path):S.unknownDocument?Oe.fromSegments(S.unknownDocument.path):Be()).path.toArray(),w={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};var S;s.push(g.put(w))}).next(()=>W.waitFor(s))}ii(e,t){const r=t.store("mutations"),s=Zv(this.serializer),c=new sE(Pm.jr,this.serializer.ut);return r.W().next(u=>{const g=new Map;return u.forEach(y=>{var w;let T=null!==(w=g.get(y.userId))&&void 0!==w?w:xt();Zc(this.serializer,y).keys().forEach(S=>T=T.add(S)),g.set(y.userId,T)}),W.forEach(g,(y,w)=>{const T=new mr(w),S=Dm.ct(this.serializer,T),P=c.getIndexManager(T),V=Hv.ct(T,this.serializer,P,c.referenceDelegate);return new XD(s,V,S,P).recalculateAndSaveOverlaysForDocumentKeys(new bv(t,wi._e),y).next()})})}}function Kv(n){n.createObjectStore("targetDocuments",{keyPath:CR}).createIndex("documentTargetsIndex",cI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ah,{unique:!0}),n.createObjectStore("targetGlobal")}const Om="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aE{constructor(e,t,r,s,c,u,g,y,w,T,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=c,this.window=u,this.document=g,this.oi=w,this._i=T,this.ai=S,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=P=>Promise.resolve(),!aE.D())throw new _e(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YR(this,s),this.Ii=t+"main",this.serializer=new FI(y),this.Ti=new Ei(this.Ii,this.ai,new oO(this.serializer)),this.qr=new WD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zv(this.serializer),this.Kr=new ZR,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===T&&rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(K.FAILED_PRECONDITION,Om);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new wi(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,he.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,he.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,he.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>km(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Aa(e))return me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Vh(e).get("owner").next(t=>W.resolve(this.wi(t)))}Si(e){return km(e).delete(this.clientId)}bi(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Dr(r,"clientMetadata");return s.W().next(c=>{const u=e.Ci(c,18e5),g=c.filter(y=>-1===u.indexOf(y));return W.forEach(g,y=>s.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?W.resolve(!0):Vh(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new _e(K.FAILED_PRECONDITION,Om);return!1}}return!(!this.networkEnabled||!this.inForeground)||km(e).W().next(r=>void 0===this.Ci(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&me("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,he.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new bv(t,wi._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>km(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Hv.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new HD(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Dm.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){me("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",c=15===(y=this.ai)?AR:14===y?jC:13===y?om:12===y?uI:11===y?lh:void Be();var y;let u;return this.Ti.runTransaction(e,s,c,g=>(u=new bv(g,this.Lr?this.Lr.next():wi._e),"readwrite-primary"===t?this.fi(u).next(y=>!!y||this.gi(u)).next(y=>{if(!y)throw rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new _e(K.FAILED_PRECONDITION,_v);return r(u)}).next(y=>this.yi(u).next(()=>y)):this.Li(u).next(()=>r(u)))).then(g=>(u.raiseOnCommittedEvent(),g))}Li(e){return Vh(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(K.FAILED_PRECONDITION,Om)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vh(e).put("owner",t)}static D(){return Ei.D()}pi(e){const t=Vh(e);return t.get("owner").next(r=>this.wi(r)?(me("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):W.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(rn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,bn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return me("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){rn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vh(n){return Dr(n,"owner")}function km(n){return Dr(n,"clientMetadata")}function cE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Qv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=s}static Qi(e,t){let r=xt(),s=xt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new Qv(e,t.fromCache,r,s)}}class JR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JD{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,s){const c={result:null};return this.zi(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.ji(e,t,s,r).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new JR;return this.Hi(e,t,u).next(g=>{if(c.result=g,this.$i)return this.Ji(e,t,u,g.size)})}).next(()=>c.result)}Ji(e,t,r,s){return r.documentReadCount<this.Ui?(uu()<=Os.in.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",bh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),W.resolve()):(uu()<=Os.in.DEBUG&&me("QueryEngine","Query:",bh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(uu()<=Os.in.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",bh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):W.resolve())}zi(e,t){if(tD(t))return W.resolve(null);let r=Ci(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Mv(t,null,"F"),r=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=xt(...c);return this.Gi.getDocuments(e,u).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Yi(t,g);return this.Zi(t,w,u,y.readTime)?this.zi(e,Mv(t,null,"F")):this.Xi(e,w,t,y)}))})))}ji(e,t,r,s){return tD(t)||s.isEqual(Xe.min())?W.resolve(null):this.Gi.getDocuments(e,r).next(c=>{const u=this.Yi(t,c);return this.Zi(t,u,r,s)?W.resolve(null):(uu()<=Os.in.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bh(t)),this.Xi(e,u,t,xC(s,-1)).next(g=>g))})}Yi(e,t){let r=new fn(oD(e));return t.forEach((s,c)=>{mm(e,c)&&(r=r.add(c))}),r}Zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Hi(e,t,r){return uu()<=Os.in.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",bh(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ii.min(),r)}Xi(e,t,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}class Xv{constructor(e,t,r,s){this.persistence=e,this.es=t,this.serializer=s,this.ts=new In(yt),this.ns=new Pa(c=>yu(c),_h),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XD(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function lE(n,e,t,r){return new Xv(n,e,t,r)}function Jv(n,e){return ey.apply(this,arguments)}function ey(){return ey=(0,he.Z)(function*(n,e){const t=Pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(c=>(s=c,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],g=[];let y=xt();for(const w of s){u.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of c){g.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({_s:w,removedBatchIds:u,addedBatchIds:g}))})})}),ey.apply(this,arguments)}function uE(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function nA(n,e,t){let r=xt(),s=xt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let u=Di();return t.forEach((g,y)=>{const w=c.get(g);y.isFoundDocument()!==w.isFoundDocument()&&(s=s.add(g)),y.isNoDocument()&&y.version.isEqual(Xe.min())?(e.removeEntry(g,y.readTime),u=u.insert(g,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),u=u.insert(g,y)):me("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",y.version)}),{us:u,cs:s}})}function eM(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Uh(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.qr.getTargetData(r,e).next(c=>c?(s=c,W.resolve(s)):t.qr.allocateTargetId(r).next(u=>(s=new zs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ts.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function Bh(n,e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,he.Z)(function*(n,e,t){const r=Pe(n),s=r.ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Aa(u))throw u;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}),ty.apply(this,arguments)}function dE(n,e,t){const r=Pe(n);let s=Xe.min(),c=xt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(y,w,T){const S=Pe(y),P=S.ns.get(T);return void 0!==P?W.resolve(S.ts.get(P)):S.qr.getTargetData(w,T)}(r,u,Ci(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(u,g.targetId).next(y=>{c=y})}).next(()=>r.es.getDocumentsMatchingQuery(u,e,t?s:Xe.min(),t?c:xt())).next(g=>(iA(r,iD(e),g),{documents:g,ls:c})))}function hE(n,e){const t=Pe(n),r=Pe(t.qr),s=t.ts.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",c=>r._t(c,e).next(u=>u?u.target:null))}function rA(n,e){const t=Pe(n),r=t.rs.get(e)||Xe.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.ss.getAllFromCollectionGroup(s,e,xC(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(iA(t,e,s),s))}function iA(n,e,t){let r=n.rs.get(e)||Xe.min();t.forEach((s,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.rs.set(e,r)}function fE(){return fE=(0,he.Z)(function*(n,e,t,r){const s=Pe(n);let c=xt(),u=Di();for(const w of t){const T=e.hs(w.metadata.name);w.document&&(c=c.add(T));const S=e.Ps(w);S.setReadTime(e.Is(w.metadata.readTime)),u=u.insert(T,S)}const g=s.ss.newChangeBuffer({trackRemovals:!0}),y=yield Uh(s,(T=r,Ci(vh(Qt.fromString(`__bundle__/docs/${T}`)))));var T;return s.persistence.runTransaction("Apply bundle documents","readwrite",w=>nA(w,g,u).next(T=>(g.apply(w),T)).next(T=>s.qr.removeMatchingKeysForTargetId(w,y.targetId).next(()=>s.qr.addMatchingKeys(w,c,y.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(w,T.us,T.cs)).next(()=>T.us)))}),fE.apply(this,arguments)}function ny(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,he.Z)(function*(n,e,t=xt()){const r=yield Uh(n,Ci(LI(e.bundledQuery))),s=Pe(n);return s.persistence.runTransaction("Save named query","readwrite",c=>{const u=_r(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Kr.saveNamedQuery(c,e);const g=r.withResumeToken(gr.EMPTY_BYTE_STRING,u);return s.ts=s.ts.insert(g.targetId,g),s.qr.updateTargetData(c,g).next(()=>s.qr.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>s.qr.addMatchingKeys(c,t,r.targetId)).next(()=>s.Kr.saveNamedQuery(c,e))})}),oA.apply(this,arguments)}function tM(n,e){return`firestore_clients_${n}_${e}`}function sA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pE(n,e){return`firestore_targets_${n}_${e}`}class ry{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ts(e,t,r){const s=JSON.parse(r);let c,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(c=new _e(s.error.code,s.error.message))),u?new ry(e,t,s.state,c):(rn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let s,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new _e(r.error.code,r.error.message))),c?new Nm(e,r.state,s):(rn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,c=wI();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=nm(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return s?new Fm(e,c):(rn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iy{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iy(t.clientId,t.onlineState):(rn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mE{constructor(){this.activeTargetIds=wI()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gE{constructor(e,t,r,s,c){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new In(yt),this.started=!1,this.ps=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=tM(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new mE),this.Ss=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const t=yield e.syncEngine.Bi();for(const s of t){if(s===e.Rs)continue;const c=e.getItem(tM(e.persistenceKey,s));if(c){const u=Fm.Ts(s,c);u&&(e.gs=e.gs.insert(u.clientId,u))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const s=e.Ms(r);s&&e.xs(s)}for(const s of e.ps)e.fs(s);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pE(this.persistenceKey,e));if(r){const s=Nm.Ts(e,r);s&&(t=s.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pE(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Bs(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return me("SharedClientState","READ",e,t),t}setItem(e,t){me("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(me("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,he.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const s=t.Ks(r.key);return t.$s(s,null)}{const s=t.Us(r.key,r.newValue);if(s)return t.$s(s.clientId,s)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const s=t.Ws(r.key,r.newValue);if(s)return t.Gs(s)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const s=t.zs(r.key,r.newValue);if(s)return t.js(s)}}else if(r.key===t.Cs){if(null!==r.newValue){const s=t.Ms(r.newValue);if(s)return t.xs(s)}}else if(r.key===t.ws){const s=function(u){let g=wi._e;if(null!=u)try{const y=JSON.parse(u);Ke("number"==typeof y),g=y}catch(y){rn("SharedClientState","Failed to read sequence number from WebStorage",y)}return g}(r.newValue);s!==wi._e&&t.sequenceNumberHandler(s)}else if(r.key===t.vs){const s=t.Hs(r.newValue);yield Promise.all(s.map(c=>t.syncEngine.Js(c)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const s=new ry(this.currentUser,e,t,r),c=sA(this.persistenceKey,this.currentUser,e);this.setItem(c,s.Es())}Bs(e){const t=sA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const s=pE(this.persistenceKey,e),c=new Nm(e,t,r);this.setItem(s,c.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return Fm.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),s=Number(r[1]);return ry.Ts(new mr(void 0!==r[2]?r[2]:null),s,t)}zs(e,t){const r=this.Ds.exec(e),s=Number(r[1]);return Nm.Ts(s,t)}Ms(e){return iy.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,he.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),s=this.Os(this.gs),c=this.Os(r),u=[],g=[];return c.forEach(y=>{s.has(y)||u.push(y)}),s.forEach(y=>{c.has(y)||g.push(y)}),this.syncEngine.Xs(u,g).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=wI();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class aA{constructor(){this.eo=new mE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new mE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nM{ro(e){}shutdown(){}}class cA{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jc=null;function oy(){return null===Jc?Jc=268435456+Math.round(2147483648*Math.random()):Jc++,"0x"+Jc.toString(16)}const lA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uA{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Kr="WebChannelConnection";class dA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${s}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${c}`}get yo(){return!1}wo(t,r,s,c,u){const g=oy(),y=this.So(t,r);me("RestConnection",`Sending RPC '${t}' ${g}:`,y,s);const w={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(w,c,u),this.Do(t,y,w,s).then(T=>(me("RestConnection",`Received RPC '${t}' ${g}: `,T),T),T=>{throw bi("RestConnection",`RPC '${t}' ${g} failed with error: `,T,"url: ",y,"request:",s),T})}Co(t,r,s,c,u,g){return this.wo(t,r,s,c,u)}bo(t,r,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+yi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,u)=>t[u]=c),s&&s.headers.forEach((c,u)=>t[u]=c)}So(t,r){return`${this.mo}/v1/${r}:${lA[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,s){const c=oy();return new Promise((u,g)=>{const y=new eO;y.setWithCredentials(!0),y.listenOnce(fR.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const T=y.getResponseJson();me(Kr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),u(T);break;case kc.TIMEOUT:me(Kr,`RPC '${e}' ${c} timed out`),g(new _e(K.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const S=y.getStatus();if(me(Kr,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=P?.error;if(V&&V.status&&V.message){const X=function(ce){const Te=ce.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Te)>=0?Te:K.UNKNOWN}(V.status);g(new _e(X,V.message))}else g(new _e(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new _e(K.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{me(Kr,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(s);me(Kr,`RPC '${e}' ${c} sending request:`,s),y.send(t,"POST",w,r,15)})}vo(e,t,r){const s=oy(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=IC(),g=EC(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.useFetchStreams=!0),this.bo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const T=c.join("");me(Kr,`Creating RPC '${e}' stream ${s}: ${T}`,y);const S=u.createWebChannel(T,y);let P=!1,V=!1;const X=new uA({co:ce=>{V?me(Kr,`Not sending because RPC '${e}' stream ${s} is closed:`,ce):(P||(me(Kr,`Opening RPC '${e}' stream ${s} transport.`),S.open(),P=!0),me(Kr,`RPC '${e}' stream ${s} sending:`,ce),S.send(ce))},lo:()=>S.close()}),ne=(ce,Te,je)=>{ce.listen(Te,xe=>{try{je(xe)}catch(et){setTimeout(()=>{throw et},0)}})};return ne(S,Qp.EventType.OPEN,()=>{V||me(Kr,`RPC '${e}' stream ${s} transport opened.`)}),ne(S,Qp.EventType.CLOSE,()=>{V||(V=!0,me(Kr,`RPC '${e}' stream ${s} transport closed`),X.Ro())}),ne(S,Qp.EventType.ERROR,ce=>{V||(V=!0,bi(Kr,`RPC '${e}' stream ${s} transport errored:`,ce),X.Ro(new _e(K.UNAVAILABLE,"The operation could not be completed")))}),ne(S,Qp.EventType.MESSAGE,ce=>{var Te;if(!V){const je=ce.data[0];Ke(!!je);const et=je.error||(null===(Te=je[0])||void 0===Te?void 0:Te.error);if(et){me(Kr,`RPC '${e}' stream ${s} received error:`,et);const bt=et.status;let Jt=function(xL){const d1=cr[xL];if(void 0!==d1)return SI(d1)}(bt),Ar=et.message;void 0===Jt&&(Jt=K.INTERNAL,Ar="Unknown error status: "+bt+" with message "+et.message),V=!0,X.Ro(new _e(Jt,Ar)),S.close()}else me(Kr,`RPC '${e}' stream ${s} received:`,je),X.Vo(je)}}),ne(g,pR.STAT_EVENT,ce=>{ce.stat===nI.PROXY?me(Kr,`RPC '${e}' stream ${s} detected buffering proxy`):ce.stat===nI.NOPROXY&&me(Kr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{X.Ao()},0),X}}function hA(){return typeof window<"u"?window:null}function sy(){return typeof document<"u"?document:null}function ay(n){return new ID(n,!0)}class fA{constructor(e,t,r=1e3,s=1.5,c=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=s,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,t-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class pA{constructor(e,t,r,s,c,u,g,y){this.si=e,this.Ko=r,this.$o=s,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new fA(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,he.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,he.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,he.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(rn(t.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===K.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===t&&this.s_(r,s)},r=>{e(()=>{const s=new _e(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){var e=this;this.state=5,this.zo.ko((0,he.Z)(function*(){e.state=0,e.start()}))}o_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends pA{constructor(e,t,r,s,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=c}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function HR(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Be(),s=e.targetChange.targetIds||[],c=function(w,T){return w.useProto3Json?(Ke(void 0===T||"string"==typeof T),gr.fromBase64String(T||"")):(Ke(void 0===T||T instanceof Uint8Array),gr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&function(w){const T=void 0===w.code?K.UNKNOWN:SI(w.code);return new _e(T,w.message||"")}(u);t=new gD(r,s,c,g||null)}else if("documentChange"in e){const r=e.documentChange,s=Qo(n,r.document.name),c=_r(r.document.updateTime),u=r.document.createTime?_r(r.document.createTime):Xe.min(),g=new Zn({mapValue:{fields:r.document.fields}}),y=Ht.newFoundDocument(s,c,u,g);t=new bm(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,s=Qo(n,r.document),c=r.readTime?_r(r.readTime):Xe.min(),u=Ht.newNoDocument(s,c);t=new bm([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,s=Qo(n,r.document);t=new bm([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Be();{const r=e.filter,{count:s=0,unchangedNames:c}=r,u=new LR(s,c);t=new RI(r.targetId,u)}}var w;return t}(this.serializer,e),r=function(c){if(!("targetChange"in c))return Xe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?_r(u.readTime):Xe.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Em(this.serializer),t.addTarget=function(c,u){let g;const y=u.target;if(g=fm(y)?{documents:OI(c,y)}:{query:kI(c,y)},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=ED(c,u.resumeToken);const w=MI(c,u.expectedCount);null!==w&&(g.expectedCount=w)}else if(u.snapshotVersion.compareTo(Xe.min())>0){g.readTime=Eu(c,u.snapshotVersion.toTimestamp());const w=MI(c,u.expectedCount);null!==w&&(g.expectedCount=w)}return g}(this.serializer,e);const r=function Tm(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Em(this.serializer),t.removeTarget=e,this.e_(t)}}class iM extends pA{constructor(e,t,r,s,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function $R(n,e){return n&&n.length>0?(Ke(void 0!==e),n.map(t=>function(s,c){let u=_r(s.updateTime?s.updateTime:c);return u.isEqual(Xe.min())&&(u=_r(c)),new NR(u,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.I_(r,t)}return Ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Em(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wm(this.serializer,r))};this.e_(t)}}class oM extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new _e(K.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.wo(e,t,r,s,c)).catch(s=>{throw"FirebaseError"===s.name?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(K.UNKNOWN,s.toString())})}Co(e,t,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Co(e,t,r,c,u,s)).catch(c=>{throw"FirebaseError"===c.name?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(K.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class aM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(rn(t),this.f_=!1):me("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class _E{constructor(e,t,r,s,c){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(g=>{r.enqueueAndForget((0,he.Z)(function*(){var y;el(u)&&(me("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,he.Z)(function*(T){const S=Pe(T);S.C_.add(4),yield jh(S),S.M_.set("Unknown"),S.C_.delete(4),yield Ba(S)}),function w(T){return y.apply(this,arguments)})(u))}))}),this.M_=new aM(r,s)}}function Ba(n){return vE.apply(this,arguments)}function vE(){return vE=(0,he.Z)(function*(n){if(el(n))for(const e of n.v_)yield e(!0)}),vE.apply(this,arguments)}function jh(n){return yE.apply(this,arguments)}function yE(){return yE=(0,he.Z)(function*(n){for(const e of n.v_)yield e(!1)}),yE.apply(this,arguments)}function Mu(n,e){const t=Pe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),Um(t)?Vm(t):Hh(t).Ho()&&Lm(t,e))}function Pu(n,e){const t=Pe(n),r=Hh(t);t.D_.delete(e),r.Ho()&&bE(t,e),0===t.D_.size&&(r.Ho()?r.Zo():el(t)&&t.M_.set("Unknown"))}function Lm(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hh(n).u_(e)}function bE(n,e){n.x_.Oe(e),Hh(n).c_(e)}function Vm(n){n.x_=new Im({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Hh(n).start(),n.M_.g_()}function Um(n){return el(n)&&!Hh(n).jo()&&n.D_.size>0}function el(n){return 0===Pe(n).C_.size}function mA(n){n.x_=void 0}function cM(n){return IE.apply(this,arguments)}function IE(){return IE=(0,he.Z)(function*(n){n.D_.forEach((e,t)=>{Lm(n,e)})}),IE.apply(this,arguments)}function gA(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,he.Z)(function*(n,e){mA(n),Um(n)?(n.M_.w_(e),Vm(n)):n.M_.set("Unknown")}),Bm.apply(this,arguments)}function _A(n,e,t){return cy.apply(this,arguments)}function cy(){return cy=(0,he.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof gD&&2===e.state&&e.cause)try{yield(r=(0,he.Z)(function*(c,u){const g=u.cause;for(const y of u.targetIds)c.D_.has(y)&&(yield c.remoteSyncer.rejectListen(y,g),c.D_.delete(y),c.x_.removeTarget(y))}),function s(c,u){return r.apply(this,arguments)})(n,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jm(n,r)}else if(e instanceof bm?n.x_.$e(e):e instanceof RI?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Xe.min()))try{const r=yield uE(n.localStore);t.compareTo(r)>=0&&(yield function(c,u){const g=c.x_.it(u);return g.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.D_.get(w);T&&c.D_.set(w,T.withResumeToken(y.resumeToken,u))}}),g.targetMismatches.forEach((y,w)=>{const T=c.D_.get(y);if(!T)return;c.D_.set(y,T.withResumeToken(gr.EMPTY_BYTE_STRING,T.snapshotVersion)),bE(c,y);const S=new zs(T.target,y,w,T.sequenceNumber);Lm(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(r){me("RemoteStore","Failed to raise snapshot:",r),yield jm(n,r)}var r}),cy.apply(this,arguments)}function jm(n,e,t){return ly.apply(this,arguments)}function ly(){return ly=(0,he.Z)(function*(n,e,t){if(!Aa(e))throw e;n.C_.add(1),yield jh(n),n.M_.set("Offline"),t||(t=()=>uE(n.localStore)),n.asyncQueue.enqueueRetryable((0,he.Z)(function*(){me("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Ba(n)}))}),ly.apply(this,arguments)}function vA(n,e){return e().catch(t=>jm(n,t,e))}function Ou(n){return uy.apply(this,arguments)}function uy(){return uy=(0,he.Z)(function*(n){const e=Pe(n),t=tl(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;lM(e);)try{const s=yield eM(e.localStore,r);if(null===s){0===e.b_.length&&t.Zo();break}r=s.batchId,yA(e,s)}catch(s){yield jm(e,s)}bA(e)&&IA(e)}),uy.apply(this,arguments)}function lM(n){return el(n)&&n.b_.length<10}function yA(n,e){n.b_.push(e);const t=tl(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function bA(n){return el(n)&&!tl(n).jo()&&n.b_.length>0}function IA(n){tl(n).start()}function uM(n){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,he.Z)(function*(n){tl(n).E_()}),Qr.apply(this,arguments)}function zh(n){return EE.apply(this,arguments)}function EE(){return EE=(0,he.Z)(function*(n){const e=tl(n);for(const t of n.b_)e.P_(t.mutations)}),EE.apply(this,arguments)}function dM(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,he.Z)(function*(n,e,t){const r=n.b_.shift(),s=ci.from(r,e,t);yield vA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Ou(n)}),EA.apply(this,arguments)}function aO(n,e){return ku.apply(this,arguments)}function ku(){return ku=(0,he.Z)(function*(n,e){var t;e&&tl(n).h_&&(yield(t=(0,he.Z)(function*(s,c){if(AI(g=c.code)&&g!==K.ABORTED){const u=s.b_.shift();tl(s).Yo(),yield vA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,c)),yield Ou(s)}var g}),function r(s,c){return t.apply(this,arguments)})(n,e)),bA(n)&&IA(n)}),ku.apply(this,arguments)}function wA(n,e){return zm.apply(this,arguments)}function zm(){return zm=(0,he.Z)(function*(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=el(t);t.C_.add(3),yield jh(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Ba(t)}),zm.apply(this,arguments)}function wE(n,e){return dy.apply(this,arguments)}function dy(){return dy=(0,he.Z)(function*(n,e){const t=Pe(n);e?(t.C_.delete(2),yield Ba(t)):e||(t.C_.add(2),yield jh(t),t.M_.set("Unknown"))}),dy.apply(this,arguments)}function Hh(n){return n.O_||(n.O_=function(t,r,s){const c=Pe(t);return c.A_(),new rM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{ho:cM.bind(null,n),Io:gA.bind(null,n),a_:_A.bind(null,n)}),n.v_.push(function(){var e=(0,he.Z)(function*(t){t?(n.O_.Yo(),Um(n)?Vm(n):n.M_.set("Unknown")):(yield n.O_.stop(),mA(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function tl(n){return n.N_||(n.N_=function(t,r,s){const c=Pe(t);return c.A_(),new iM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{ho:uM.bind(null,n),Io:aO.bind(null,n),T_:zh.bind(null,n),I_:dM.bind(null,n)}),n.v_.push(function(){var e=(0,he.Z)(function*(t){t?(n.N_.Yo(),yield Ou(n)):(yield n.N_.stop(),n.b_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class TE{constructor(e,t,r,s,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,c){const u=Date.now()+r,g=new TE(e,t,u,s,c);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nl(n,e){if(rn("AsyncQueue",`${e}: ${n}`),Aa(n))return new _e(K.UNAVAILABLE,`${e}: ${n}`);throw n}class Nu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=Ih(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new Nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=r.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class TA{constructor(){this.B_=new In(Oe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Be():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ja{constructor(e,t,r,s,c,u,g,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,s,c){const u=[];return t.forEach(g=>{u.push({type:0,doc:g})}),new ja(e,t,Nu.emptySet(t),u,r,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class CE{constructor(){this.k_=void 0,this.listeners=[]}}class cO{constructor(){this.queries=new Pa(e=>rD(e),pm),this.onlineState="Unknown",this.q_=new Set}}function hy(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,he.Z)(function*(n,e){const t=Pe(n),r=e.query;let s=!1,c=t.queries.get(r);if(c||(s=!0,c=new CE),s)try{c.k_=yield t.onListen(r)}catch(u){const g=nl(u,`Initialization of query '${bh(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,c),c.listeners.push(e),e.Q_(t.onlineState),c.k_&&e.K_(c.k_)&&Hm(t)}),DE.apply(this,arguments)}function fy(n,e){return rl.apply(this,arguments)}function rl(){return rl=(0,he.Z)(function*(n,e){const t=Pe(n),r=e.query;let s=!1;const c=t.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),s=0===c.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),rl.apply(this,arguments)}function hM(n,e){const t=Pe(n);let r=!1;for(const s of e){const u=t.queries.get(s.query);if(u){for(const g of u.listeners)g.K_(s)&&(r=!0);u.k_=s}}r&&Hm(t)}function CA(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const c of s.listeners)c.onError(t);r.queries.delete(e)}function Hm(n){n.q_.forEach(e=>{e.next()})}class DA{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class fM{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class AA{constructor(e){this.serializer=e}hs(e){return Qo(this.serializer,e)}Ps(e){return e.metadata.exists?CD(this.serializer,e.document,!1):Ht.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return _r(e)}}class pM{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AE(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=Qt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new AA(this.serializer);for(const s of e)if(s.metadata.queries){const c=r.hs(s.metadata.name);for(const u of s.metadata.queries){const g=(t.get(u)||xt()).add(c);t.set(u,g)}}return t}complete(){var e=this;return(0,he.Z)(function*(){const t=yield function sO(n,e,t,r){return fE.apply(this,arguments)}(e.localStore,new AA(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const s of e.queries)yield ny(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function AE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class SE{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class xE{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xt(),this.mutatedKeys=xt(),this._a=oD(e),this.aa=new Nu(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new TA,s=t?t.aa:this.aa;let c=t?t.mutatedKeys:this.mutatedKeys,u=s,g=!1;const y="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,w="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,S)=>{const P=s.get(T),V=mm(this.query,S)?S:null,X=!!P&&this.mutatedKeys.has(P.key),ne=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ce=!1;P&&V?P.data.isEqual(V.data)?X!==ne&&(r.track({type:3,doc:V}),ce=!0):this.ha(P,V)||(r.track({type:2,doc:V}),ce=!0,(y&&this._a(V,y)>0||w&&this._a(V,w)<0)&&(g=!0)):!P&&V?(r.track({type:0,doc:V}),ce=!0):P&&!V&&(r.track({type:1,doc:P}),ce=!0,(y||w)&&(g=!0)),ce&&(V?(u=u.add(V),c=ne?c.add(T):c.delete(T)):(u=u.delete(T),c=c.delete(T)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const T="F"===this.query.limitType?u.last():u.first();u=u.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{aa:u,la:r,Zi:g,mutatedKeys:c}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const c=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const u=e.la.L_();u.sort((T,S)=>function(V,X){const ne=ce=>{switch(ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return ne(V)-ne(X)}(T.type,S.type)||this._a(T.doc,S.doc)),this.Pa(r),s=null!=s&&s;const g=t&&!s?this.Ia():[],y=0===this.oa.size&&this.current&&!s?1:0,w=y!==this.sa;return this.sa=y,0!==u.length||w?{snapshot:new ja(this.query,e.aa,c,u,e.mutatedKeys,0===y,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:g}:{Ta:g}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new TA,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new SA(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new SE(r))}),t}da(e){this.ia=e.ls,this.oa=xt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return ja.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class xA{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mM{constructor(e){this.key=e,this.Ra=!1}}class gM{constructor(e,t,r,s,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Va={},this.ma=new Pa(g=>rD(g),pm),this.fa=new Map,this.ga=new Set,this.pa=new In(Oe.comparator),this.ya=new Map,this.wa=new Wv,this.Sa={},this.ba=new Map,this.Da=Qc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function RA(n,e){return RE.apply(this,arguments)}function RE(){return RE=(0,he.Z)(function*(n,e){const t=zE(n);let r,s;const c=t.ma.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),s=c.view.Aa();else{const u=yield Uh(t.localStore,Ci(e)),g=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,s=yield py(t,e,r,"current"===g,u.resumeToken),t.isPrimaryClient&&Mu(t.remoteStore,u)}return s}),RE.apply(this,arguments)}function py(n,e,t,r,s){return my.apply(this,arguments)}function my(){return my=(0,he.Z)(function*(n,e,t,r,s){n.va=(S,P,V)=>{return(X=(0,he.Z)(function*(ce,Te,je,xe){let et=Te.view.ca(je);et.Zi&&(et=yield dE(ce.localStore,Te.query,!1).then(({documents:Zs})=>Te.view.ca(Zs,et)));const bt=xe&&xe.targetChanges.get(Te.targetId),Jt=xe&&null!=xe.targetMismatches.get(Te.targetId),Ar=Te.view.applyChanges(et,ce.isPrimaryClient,bt,Jt);return OE(ce,Te.targetId,Ar.Ta),Ar.snapshot}),function ne(ce,Te,je,xe){return X.apply(this,arguments)})(n,S,P,V);var X};const c=yield dE(n.localStore,e,!0),u=new xE(e,c.ls),g=u.ca(c.documents),y=Mh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),w=u.applyChanges(g,n.isPrimaryClient,y);OE(n,t,w.Ta);const T=new xA(e,t,u);return n.ma.set(e,T),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),w.snapshot}),my.apply(this,arguments)}function MA(n,e){return gy.apply(this,arguments)}function gy(){return gy=(0,he.Z)(function*(n,e){const t=Pe(n),r=t.ma.get(e),s=t.fa.get(r.targetId);if(s.length>1)return t.fa.set(r.targetId,s.filter(c=>!pm(c,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Bh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Pu(t.remoteStore,r.targetId),Fu(t,r.targetId)}).catch(Da))):(Fu(t,r.targetId),yield Bh(t.localStore,r.targetId,!0))}),gy.apply(this,arguments)}function ME(){return ME=(0,he.Z)(function*(n,e,t){const r=HE(n);try{const s=yield function(u,g){const y=Pe(u),w=zn.now(),T=g.reduce((V,X)=>V.add(X.key),xt());let S,P;return y.persistence.runTransaction("Locally write mutations","readwrite",V=>{let X=Di(),ne=xt();return y.ss.getEntries(V,T).next(ce=>{X=ce,X.forEach((Te,je)=>{je.isValidDocument()||(ne=ne.add(Te))})}).next(()=>y.localDocuments.getOverlayedDocuments(V,X)).next(ce=>{S=ce;const Te=[];for(const je of g){const xe=uD(je,S.get(je.key).overlayedDocument);null!=xe&&Te.push(new La(je.key,xe,qC(xe.value.mapValue),Hn.exists(!0)))}return y.mutationQueue.addMutationBatch(V,w,Te,g)}).next(ce=>{P=ce;const Te=ce.applyToLocalDocumentSet(S,ne);return y.documentOverlayCache.saveOverlays(V,ce.batchId,Te)})}).then(()=>({batchId:P.batchId,changes:aD(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,g,y){let w=u.Sa[u.currentUser.toKey()];w||(w=new In(yt)),w=w.insert(g,y),u.Sa[u.currentUser.toKey()]=w}(r,s.batchId,t),yield Po(r,s.changes),yield Ou(r.remoteStore)}catch(s){const c=nl(s,"Failed to persist write");t.reject(c)}}),ME.apply(this,arguments)}function vM(n,e){return _y.apply(this,arguments)}function _y(){return _y=(0,he.Z)(function*(n,e){const t=Pe(n);try{const r=yield function tA(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.ss.newChangeBuffer({trackRemovals:!0});s=t.ts;const g=[];e.targetChanges.forEach((T,S)=>{const P=s.get(S);if(!P)return;g.push(t.qr.removeMatchingKeys(c,T.removedDocuments,S).next(()=>t.qr.addMatchingKeys(c,T.addedDocuments,S)));let V=P.withSequenceNumber(c.currentSequenceNumber);var ne,ce,Te;null!==e.targetMismatches.get(S)?V=V.withResumeToken(gr.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),s=s.insert(S,V),ce=V,Te=T,(0===(ne=P).resumeToken.approximateByteSize()||ce.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&g.push(t.qr.updateTargetData(c,V))});let y=Di(),w=xt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(nA(c,u,e.documentUpdates).next(T=>{y=T.us,w=T.cs})),!r.isEqual(Xe.min())){const T=t.qr.getLastRemoteSnapshotVersion(c).next(S=>t.qr.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(T)}return W.waitFor(g).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,w)).next(()=>y)}).then(c=>(t.ts=s,c))}(t.localStore,e);e.targetChanges.forEach((s,c)=>{const u=t.ya.get(c);u&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ra=!0:s.modifiedDocuments.size>0?Ke(u.Ra):s.removedDocuments.size>0&&(Ke(u.Ra),u.Ra=!1))}),yield Po(t,r,e)}catch(r){yield Da(r)}}),_y.apply(this,arguments)}function yM(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ma.forEach((c,u)=>{const g=u.view.Q_(e);g.snapshot&&s.push(g.snapshot)}),function(u,g){const y=Pe(u);y.onlineState=g;let w=!1;y.queries.forEach((T,S)=>{for(const P of S.listeners)P.Q_(g)&&(w=!0)}),w&&Hm(y)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lO(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,he.Z)(function*(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ya.get(e),c=s&&s.key;if(c){let u=new In(Oe.comparator);u=u.insert(c,Ht.newNoDocument(c,Xe.min()));const g=xt().add(c),y=new Gc(Xe.min(),new Map,new In(yt),u,g);yield vM(r,y),r.pa=r.pa.remove(c),r.ya.delete(e),LA(r)}else yield Bh(r.localStore,e,!1).then(()=>Fu(r,e,t)).catch(Da)}),PA.apply(this,arguments)}function uO(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,he.Z)(function*(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=yield function eA(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),c=t.ss.newChangeBuffer({trackRemovals:!0});return function(g,y,w,T){const S=w.batch,P=S.keys();let V=W.resolve();return P.forEach(X=>{V=V.next(()=>T.getEntry(y,X)).next(ne=>{const ce=w.docVersions.get(X);Ke(null!==ce),ne.version.compareTo(ce)<0&&(S.applyToRemoteDocument(ne,w),ne.isValidDocument()&&(ne.setReadTime(w.commitVersion),T.addEntry(ne)))})}),V.next(()=>g.mutationQueue.removeMutationBatch(y,S))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let y=xt();for(let w=0;w<g.mutationResults.length;++w)g.mutationResults[w].transformResults.length>0&&(y=y.add(g.batch.mutations[w].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);NA(t,r,null),PE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Po(t,s)}catch(s){yield Da(s)}}),OA.apply(this,arguments)}function dO(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,he.Z)(function*(n,e,t){const r=Pe(n);try{const s=yield function(u,g){const y=Pe(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return y.mutationQueue.lookupMutationBatch(w,g).next(S=>(Ke(null!==S),T=S.keys(),y.mutationQueue.removeMutationBatch(w,S))).next(()=>y.mutationQueue.performConsistencyCheck(w)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(w,T,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>y.localDocuments.getDocuments(w,T))})}(r.localStore,e);NA(r,e,t),PE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Po(r,s)}catch(s){yield Da(s)}}),kA.apply(this,arguments)}function vy(){return vy=(0,he.Z)(function*(n,e){const t=Pe(n);el(t.remoteStore)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const g=Pe(u);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>g.mutationQueue.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const s=t.ba.get(r)||[];s.push(e),t.ba.set(r,s)}catch(r){const s=nl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),vy.apply(this,arguments)}function PE(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function NA(n,e,t){const r=Pe(n);let s=r.Sa[r.currentUser.toKey()];if(s){const c=s.get(e);c&&(t?c.reject(t):c.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function Fu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||FA(n,r)})}function FA(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Pu(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),LA(n))}function OE(n,e,t){for(const r of t)r instanceof SE?(n.wa.addReference(r.key,e),bM(n,r)):r instanceof SA?(me("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||FA(n,r.key)):Be()}function bM(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(me("SyncEngine","New document in limbo: "+t),n.ga.add(r),LA(n))}function LA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new Oe(Qt.fromString(e)),r=n.Da.next();n.ya.set(r,new mM(t)),n.pa=n.pa.insert(t,r),Mu(n.remoteStore,new zs(Ci(vh(t.path)),r,"TargetPurposeLimboResolution",wi._e))}}function Po(n,e,t){return kE.apply(this,arguments)}function kE(){return kE=(0,he.Z)(function*(n,e,t){const r=Pe(n),s=[],c=[],u=[];var g;r.ma.isEmpty()||(r.ma.forEach((g,y)=>{u.push(r.va(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){s.push(w);const T=Qv.Qi(y.targetId,w);c.push(T)}}))}),yield Promise.all(u),r.Va.a_(s),yield(g=(0,he.Z)(function*(w,T){const S=Pe(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>W.forEach(T,V=>W.forEach(V.ki,X=>S.persistence.referenceDelegate.addReference(P,V.targetId,X)).next(()=>W.forEach(V.qi,X=>S.persistence.referenceDelegate.removeReference(P,V.targetId,X)))))}catch(P){if(!Aa(P))throw P;me("LocalStore","Failed to update sequence numbers: "+P)}for(const P of T){const V=P.targetId;if(!P.fromCache){const X=S.ts.get(V),ce=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);S.ts=S.ts.insert(V,ce)}}}),function y(w,T){return g.apply(this,arguments)})(r.localStore,c))}),kE.apply(this,arguments)}function $m(n,e){return $h.apply(this,arguments)}function $h(){return $h=(0,he.Z)(function*(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=yield Jv(t.localStore,e);t.currentUser=e,(c=t).ba.forEach(g=>{g.forEach(y=>{y.reject(new _e(K.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Po(t,r._s)}var c}),$h.apply(this,arguments)}function IM(n,e){const t=Pe(n),r=t.ya.get(e);if(r&&r.Ra)return xt().add(r.key);{let s=xt();const c=t.fa.get(e);if(!c)return s;for(const u of c){const g=t.ma.get(u);s=s.unionWith(g.view.ua)}return s}}function EM(n,e){return NE.apply(this,arguments)}function NE(){return NE=(0,he.Z)(function*(n,e){const t=Pe(n),r=yield dE(t.localStore,e.query,!0),s=e.view.da(r);return t.isPrimaryClient&&OE(t,e.targetId,s.Ta),s}),NE.apply(this,arguments)}function wM(n,e){return FE.apply(this,arguments)}function FE(){return FE=(0,he.Z)(function*(n,e){const t=Pe(n);return rA(t.localStore,e).then(r=>Po(t,r))}),FE.apply(this,arguments)}function TM(n,e,t,r){return LE.apply(this,arguments)}function LE(){return LE=(0,he.Z)(function*(n,e,t,r){const s=Pe(n),c=yield function(g,y){const w=Pe(g),T=Pe(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>T.Cn(S,y).next(P=>P?w.localDocuments.getDocuments(S,P):W.resolve(null)))}(s.localStore,e);var y;null!==c?("pending"===t?yield Ou(s.remoteStore):"acknowledged"===t||"rejected"===t?(NA(s,e,r||null),PE(s,e),y=e,Pe(Pe(s.localStore).mutationQueue).Fn(y)):Be(),yield Po(s,c)):me("SyncEngine","Cannot apply mutation batch with id: "+e)}),LE.apply(this,arguments)}function VE(){return VE=(0,he.Z)(function*(n,e){const t=Pe(n);if(zE(t),HE(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield UA(t,r.toArray());t.Ca=!0,yield wE(t.remoteStore,!0);for(const c of s)Mu(t.remoteStore,c)}else if(!1===e&&!1!==t.Ca){const r=[];let s=Promise.resolve();t.fa.forEach((c,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then(()=>(Fu(t,u),Bh(t.localStore,u,!0))),Pu(t.remoteStore,u)}),yield s,yield UA(t,r),function(u){const g=Pe(u);g.ya.forEach((y,w)=>{Pu(g.remoteStore,w)}),g.wa.Vr(),g.ya=new Map,g.pa=new In(Oe.comparator)}(t),t.Ca=!1,yield wE(t.remoteStore,!1)}}),VE.apply(this,arguments)}function UA(n,e,t){return UE.apply(this,arguments)}function UE(){return UE=(0,he.Z)(function*(n,e,t){const r=Pe(n),s=[],c=[];for(const u of e){let g;const y=r.fa.get(u);if(y&&0!==y.length){g=yield Uh(r.localStore,Ci(y[0]));for(const w of y){const T=r.ma.get(w),S=yield EM(r,T);S.snapshot&&c.push(S.snapshot)}}else{const w=yield hE(r.localStore,u);g=yield Uh(r.localStore,w),yield py(r,BA(w),u,!1,g.resumeToken)}s.push(g)}return r.Va.a_(c),s}),UE.apply(this,arguments)}function BA(n){return Rv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function CM(n){return t=Pe(n).localStore,Pe(Pe(t).persistence).Bi();var t}function DM(n,e,t,r){return BE.apply(this,arguments)}function BE(){return BE=(0,he.Z)(function*(n,e,t,r){const s=Pe(n);if(s.Ca)return void me("SyncEngine","Ignoring unexpected query state notification.");const c=s.fa.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const u=yield rA(s.localStore,iD(c[0])),g=Gc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,gr.EMPTY_BYTE_STRING);yield Po(s,u,g);break}case"rejected":yield Bh(s.localStore,e,!0),Fu(s,e,r);break;default:Be()}}),BE.apply(this,arguments)}function AM(n,e,t){return jE.apply(this,arguments)}function jE(){return jE=(0,he.Z)(function*(n,e,t){const r=zE(n);if(r.Ca){for(const s of e){if(r.fa.has(s)){me("SyncEngine","Adding an already active target "+s);continue}const c=yield hE(r.localStore,s),u=yield Uh(r.localStore,c);yield py(r,BA(c),u.targetId,!1,u.resumeToken),Mu(r.remoteStore,u)}for(const s of t)r.fa.has(s)&&(yield Bh(r.localStore,s,!1).then(()=>{Pu(r.remoteStore,s),Fu(r,s)}).catch(Da))}}),jE.apply(this,arguments)}function zE(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lO.bind(null,e),e.Va.a_=hM.bind(null,e.eventManager),e.Va.Fa=CA.bind(null,e.eventManager),e}function HE(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class Gm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,he.Z)(function*(){t.serializer=ay(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return lE(this.persistence,new JD,e.initialUser,this.serializer)}createPersistence(e){return new sE(Pm.jr,this.serializer)}createSharedClientState(e){return new aA}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qm extends Gm{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield HE(r.xa.syncEngine),yield Ou(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return lE(this.persistence,new JD,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new QI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new bR(t,this.persistence);return new yR(e.asyncQueue,r)}createPersistence(e){const t=cE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new aE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,hA(),sy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new aA}}class zA extends qm{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e);const s=r.xa.syncEngine;r.sharedClientState instanceof gE&&(r.sharedClientState.syncEngine={Ys:TM.bind(null,s),Zs:DM.bind(null,s),Xs:AM.bind(null,s),Bi:CM.bind(null,s),Js:wM.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var c=(0,he.Z)(function*(u){yield function VA(n,e){return VE.apply(this,arguments)}(r.xa.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=hA();if(!gE.D(t))throw new _e(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Gh{initialize(e,t){var r=this;return(0,he.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>yM(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=$m.bind(null,r.syncEngine),yield wE(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cO}createDatastore(e){const t=ay(e.databaseInfo.databaseId),r=new dA(e.databaseInfo);return new oM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,s=this.datastore,c=e.asyncQueue,u=t=>yM(this.syncEngine,t,0),g=cA.D()?new cA:new nM,new _E(r,s,c,u,g);var r,s,c,u,g}createSyncEngine(e,t){return function(s,c,u,g,y,w,T){const S=new gM(s,c,u,g,y,w);return T&&(S.Ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,he.Z)(function*(r){const s=Pe(r);me("RemoteStore","RemoteStore shutting down."),s.C_.add(5),yield jh(s),s.F_.shutdown(),s.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function $E(n,e=10240){let t=0;return{read:()=>(0,he.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HA{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Cr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,he.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),s=Number(r);isNaN(s)&&e.Qa(`length string (${r}) is not valid number`);const c=yield e.Ka(s);return new fM(JSON.parse(c),t.length+s)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,he.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,he.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,he.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class fO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,he.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _e(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,he.Z)(function*(u,g){const y=Pe(u),w=Em(y.serializer)+"/documents",T={documents:g.map(X=>Lv(y.serializer,X))},S=yield y.Co("BatchGetDocuments",w,T,g.length),P=new Map;S.forEach(X=>{const ne=function zR(n,e){return"found"in e?function(r,s){Ke(!!s.found);const c=Qo(r,s.found.name),u=_r(s.found.updateTime),g=s.found.createTime?_r(s.found.createTime):Xe.min(),y=new Zn({mapValue:{fields:s.found.fields}});return Ht.newFoundDocument(c,u,g,y)}(n,e):"missing"in e?function(r,s){Ke(!!s.missing),Ke(!!s.readTime);const c=Qo(r,s.missing),u=_r(s.readTime);return Ht.newNoDocument(c,u)}(n,e):Be()}(y.serializer,X);P.set(ne.key.toString(),ne)});const V=[];return g.forEach(X=>{const ne=P.get(X.toString());Ke(!!ne),V.push(ne)}),V}),function c(u,g){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const c=Oe.fromPath(s);e.mutations.push(new Sh(c,e.precondition(c)))}),yield(r=(0,he.Z)(function*(c,u){const g=Pe(c),y=Em(g.serializer)+"/documents",w={writes:u.map(T=>wm(g.serializer,T))};yield g.wo("Commit",y,w)}),function s(c,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Be();t=Xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xe.min())?Hn.exists(!1):Hn.updateTime(t):Hn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xe.min()))throw new _e(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(t)}return Hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xM{constructor(e,t,r,s,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=c,this.Wa=r.maxAttempts,this.zo=new fA(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,he.Z)(function*(){const t=new fO(e.datastore),r=e.za(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(c=>{e.ja(c)}))}).catch(s=>{e.ja(s)})}))}za(e){try{const t=this.updateFunction(e);return!Sa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!AI(t)}return!1}}class $A{constructor(e,t,r,s){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=mr.UNAUTHENTICATED,this.clientId=AC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,he.Z)(function*(g){me("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(me("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=nl(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function Zm(n,e){return GE.apply(this,arguments)}function GE(){return GE=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,he.Z)(function*(c){r.isEqual(c)||(yield Jv(e.localStore,c),r=c)});return function(c){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),GE.apply(this,arguments)}function by(n,e){return qE.apply(this,arguments)}function qE(){return qE=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Ey(n);me("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>wA(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,c)=>wA(e.remoteStore,c)),n._onlineComponents=e}),qE.apply(this,arguments)}function Iy(n){return"FirebaseError"===n.name?n.code===K.FAILED_PRECONDITION||n.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Ey(n){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,he.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Iy(t))throw t;bi("Error using user provided cache. Falling back to memory cache: "+t),yield Zm(n,new Gm)}}else me("FirestoreClient","Using default OfflineComponentProvider"),yield Zm(n,new Gm);return n._offlineComponents}),Wm.apply(this,arguments)}function qh(n){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,he.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),yield by(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),yield by(n,new Gh))),n._onlineComponents}),ZE.apply(this,arguments)}function RM(n){return Ey(n).then(e=>e.persistence)}function Lu(n){return Ey(n).then(e=>e.localStore)}function GA(n){return qh(n).then(e=>e.remoteStore)}function qA(n){return qh(n).then(e=>e.syncEngine)}function Vu(n){return za.apply(this,arguments)}function za(){return za=(0,he.Z)(function*(n){const e=yield qh(n),t=e.eventManager;return t.onListen=RA.bind(null,e.syncEngine),t.onUnlisten=MA.bind(null,e.syncEngine),t}),za.apply(this,arguments)}function WA(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,u,g,y,w){const T=new yy({next:P=>{u.enqueueAndForget(()=>fy(c,S));const V=P.docs.has(g);!V&&P.fromCache?w.reject(new _e(K.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&P.fromCache&&y&&"server"===y.source?w.reject(new _e(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new DA(vh(g.path),T,{includeMetadataChanges:!0,J_:!0});return hy(c,S)}(yield Vu(n),n.asyncQueue,e,t,r)})),r.promise}function PM(n,e,t={}){const r=new Cr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,u,g,y,w){const T=new yy({next:P=>{u.enqueueAndForget(()=>fy(c,S)),P.fromCache&&"server"===y.source?w.reject(new _e(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new DA(g,T,{includeMetadataChanges:!0,J_:!0});return hy(c,S)}(yield Vu(n),n.asyncQueue,e,t,r)})),r.promise}function Ym(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const QA=new Map;function XA(n,e,t){if(!t)throw new _e(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LM(n,e,t,r){if(!0===e&&!0===r)throw new _e(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JA(n){if(!Oe.isDocumentKey(n))throw new _e(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cy(n){if(Oe.isDocumentKey(n))throw new _e(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Km(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Be()}function At(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Km(n);throw new _e(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YE(n,e){if(e<=0)throw new _e(K.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class eS{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ym(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new _e(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _e(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _e(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eS(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new gR;switch(r.type){case"firstParty":return new gv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=QA.get(t);r&&(me("ComponentProvider","Removing Datastore"),QA.delete(t),r.terminate())}(this),Promise.resolve()}}class Xr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class En{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Ha extends Xr{constructor(e,t,r){super(e,t,vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Oe(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function tS(n,e,...t){if(n=(0,bn.m9)(n),XA("collection","path",e),n instanceof Zh){const r=Qt.fromString(e,...t);return Cy(r),new Ha(n,null,r)}{if(!(n instanceof En||n instanceof Ha))throw new _e(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return Cy(r),new Ha(n.firestore,null,r)}}function Dy(n,e,...t){if(n=(0,bn.m9)(n),1===arguments.length&&(e=AC.newId()),XA("doc","path",e),n instanceof Zh){const r=Qt.fromString(e,...t);return JA(r),new En(n,null,new Oe(r))}{if(!(n instanceof En||n instanceof Ha))throw new _e(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return JA(r),new En(n.firestore,n instanceof Ha?n.converter:null,new Oe(r))}}function VM(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),(n instanceof En||n instanceof Ha)&&(e instanceof En||e instanceof Ha)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rS(n,e){return n=(0,bn.m9)(n),e=(0,bn.m9)(e),n instanceof Xr&&e instanceof Xr&&n.firestore===e.firestore&&pm(n._query,e._query)&&n.converter===e.converter}class pO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new fA(this,"async_queue_retry"),this.iu=()=>{const t=sy();t&&me("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=sy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=sy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Cr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,he.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Aa(t))throw t;me("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,rn("INTERNAL UNHANDLED ERROR: ",function(u){let g=u.message||"";return u.stack&&(g=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),g}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const s=TE.createAndSchedule(this,e,t,r,c=>this.au(c));return this.Xa.push(s),s}su(){this.eu&&Be()}verifyOperationInProgress(){}uu(){var e=this;return(0,he.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function Ay(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const s=t;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(n)}class mO{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class On extends Zh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new pO,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qm(this),this._firestoreClient.terminate()}}function er(n){return n._firestoreClient||Qm(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Qm(n){var e,t,r;const s=n._freezeSettings(),c=(y=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new SR(n._databaseId,y,n._persistenceKey,(T=s).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Ym(T.experimentalLongPollingOptions),T.useFetchStreams));var y,T;n._firestoreClient=new $A(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function QE(n,e,t){const r=new Cr;return n.asyncQueue.enqueue((0,he.Z)(function*(){try{yield Zm(n,t),yield by(n,e),r.resolve()}catch(s){const c=s;if(!Iy(c))throw c;bi("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function Xm(n){if(n._initialized||n._terminated)throw new _e(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(gr.fromBase64String(e))}catch(t){throw new _e(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $a(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ga{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wh{constructor(e){this._methodName=e}}class tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}const Jm=/^__.*__$/;class xy{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ko(e,this.data,t,this.fieldTransforms)}}class eg{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class rw{constructor(e,t,r,s,c,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new rw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return dw(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(nw(this.Iu)&&Jm.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class jM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ay(e)}pu(e,t,r,s=!1){return new rw({Iu:e,methodName:t,gu:r,path:Pn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(n){const e=n._freezeSettings(),t=ay(n._databaseId);return new jM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iw(n,e,t,r,s,c={}){const u=n.pu(c.merge||c.mergeFields?2:0,e,t,s);zu("Data must be an object, but it was:",u,r);const g=lw(r,u);let y,w;if(c.merge)y=new Bi(u.fieldMask),w=u.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const P=Hs(e,S,t);if(!u.contains(P))throw new _e(K.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);zM(T,P)||T.push(P)}y=new Bi(T),w=u.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,w=u.fieldTransforms;return new xy(new Zn(g),y,w)}class Bu extends Wh{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bu}}function oS(n,e,t){return new rw({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ry extends Wh{_toFieldTransform(e){return new Ch(e.path,new Na)}isEqual(e){return e instanceof Ry}}class sS extends Wh{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=oS(this,e,!0),r=this.yu.map(c=>ju(c,t)),s=new js(r);return new Ch(e.path,s)}isEqual(e){return this===e}}class ow extends Wh{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=oS(this,e,!0),r=this.yu.map(c=>ju(c,t)),s=new $c(r);return new Ch(e.path,s)}isEqual(e){return this===e}}class aS extends Wh{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Th(e.serializer,Pv(e.serializer,this.wu));return new Ch(e.path,t)}isEqual(e){return this===e}}function sw(n,e,t,r){const s=n.pu(1,e,t);zu("Data must be an object, but it was:",s,r);const c=[],u=Zn.empty();xa(r,(y,w)=>{const T=uw(e,y,t);w=(0,bn.m9)(w);const S=s.Ru(T);if(w instanceof Bu)c.push(T);else{const P=ju(w,S);null!=P&&(c.push(T),u.set(T,P))}});const g=new Bi(c);return new eg(u,g,s.fieldTransforms)}function aw(n,e,t,r,s,c){const u=n.pu(1,e,t),g=[Hs(e,r,t)],y=[s];if(c.length%2!=0)throw new _e(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<c.length;P+=2)g.push(Hs(e,c[P])),y.push(c[P+1]);const w=[],T=Zn.empty();for(let P=g.length-1;P>=0;--P)if(!zM(w,g[P])){const V=g[P];let X=y[P];X=(0,bn.m9)(X);const ne=u.Ru(V);if(X instanceof Bu)w.push(V);else{const ce=ju(X,ne);null!=ce&&(w.push(V),T.set(V,ce))}}const S=new Bi(w);return new eg(T,S,u.fieldTransforms)}function cw(n,e,t,r=!1){return ju(t,n.pu(r?4:3,e))}function ju(n,e){if(tg(n=(0,bn.m9)(n)))return zu("Unsupported field value:",e,n),lw(n,e);if(n instanceof Wh)return function(r,s){if(!nw(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,s){const c=[];let u=0;for(const g of r){let y=ju(g,s.Vu(u));null==y&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}}(n,e)}return function(r,s){if(null===(r=(0,bn.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Pv(s.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=zn.fromDate(r);return{timestampValue:Eu(s.serializer,c)}}if(r instanceof zn){const c=new zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eu(s.serializer,c)}}if(r instanceof tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $a)return{bytesValue:ED(s.serializer,r._byteString)};if(r instanceof En){const c=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw s.mu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wD(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${Km(r)}`)}(n,e)}function lw(n,e){const t={};return zC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(n,(r,s)=>{const c=ju(s,e.Eu(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function tg(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof tr||n instanceof $a||n instanceof En||n instanceof Wh)}function zu(n,e,t){if(!tg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const r=Km(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var s}function Hs(n,e,t){if((e=(0,bn.m9)(e))instanceof Ga)return e._internalPath;if("string"==typeof e)return uw(n,e);throw dw("Field path arguments must be of type string or ",n,!1,void 0,t)}const cS=new RegExp("[~\\*/\\[\\]]");function uw(n,e,t){if(e.search(cS)>=0)throw dw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ga(...e.split("."))._internalPath}catch{throw dw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dw(n,e,t,r,s){const c=r&&!r.isEmpty(),u=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${r}`),u&&(y+=` in document ${s}`),y+=")"),new _e(K.INVALID_ARGUMENT,g+n+y)}function zM(n,e){return n.some(t=>t.isEqual(e))}class ng{constructor(e,t,r,s,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HM extends ng{data(){return super.data()}}function hw(n,e){return"string"==typeof e?uw(n,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}function fw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class My extends rg{}function $s(n,e,...t){let r=[];e instanceof rg&&r.push(e),r=r.concat(t),function(c){const u=c.filter(y=>y instanceof ig).length,g=c.filter(y=>y instanceof Py).length;if(u>1||u>0&&g>0)throw new _e(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Py extends My{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Py(e,t,r)}_apply(e){const t=this._parse(e);return WM(e._query,t),new Xr(e.firestore,e.converter,bI(e._query,t))}_parse(e){const t=Yh(e.firestore);return function(c,u,g,y,w,T,S){let P;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new _e(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){hS(S,T);const V=[];for(const X of S)V.push(ZM(y,c,X));P={arrayValue:{values:V}}}else P=ZM(y,c,S)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||hS(S,T),P=cw(g,"where",S,"in"===T||"not-in"===T);return Gt.create(w,T,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ig extends rg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ig(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let u=s;const g=c.getFlattenedFilters();for(const y of g)WM(u,y),u=bI(u,y)}(e._query,t),new Xr(e.firestore,e.converter,bI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lS extends My{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lS(e,t)}_apply(e){const t=function(s,c,u){if(null!==s.startAt)throw new _e(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new _e(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mh(c,u)}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(s,c){const u=s.explicitOrderBy.concat([c]);return new Bs(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class og extends My{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new og(e,t,r)}_apply(e){return new Xr(e.firestore,e.converter,Mv(e._query,this._limit,this._limitType))}}class Oy extends My{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Oy(e,t,r)}_apply(e){const t=dS(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(c=t,new Bs((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class sg extends My{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new sg(e,t,r)}_apply(e){const t=dS(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(c=t,new Bs((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function dS(n,e,t,r){if(t[0]=(0,bn.m9)(t[0]),t[0]instanceof ng)return function(c,u,g,y,w){if(!y)throw new _e(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const T=[];for(const S of yh(c))if(S.field.isKeyField())T.push(Wo(u,y.key));else{const P=y.data.field(S.field);if(Ev(P))throw new _e(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const V=S.field.canonicalString();throw new _e(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(P)}return new Hc(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Yh(n.firestore);return function(u,g,y,w,T,S){const P=u.explicitOrderBy;if(T.length>P.length)throw new _e(K.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let X=0;X<T.length;X++){const ne=T[X];if(P[X].field.isKeyField()){if("string"!=typeof ne)throw new _e(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ne}`);if(!yI(u)&&-1!==ne.indexOf("/"))throw new _e(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ne}' contains a slash.`);const ce=u.path.child(Qt.fromString(ne));if(!Oe.isDocumentKey(ce))throw new _e(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const Te=new Oe(ce);V.push(Wo(g,Te))}else{const ce=cw(y,w,ne);V.push(ce)}}return new Hc(V,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function ZM(n,e,t){if("string"==typeof(t=(0,bn.m9)(t))){if(""===t)throw new _e(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yI(e)&&-1!==t.indexOf("/"))throw new _e(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!Oe.isDocumentKey(r))throw new _e(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wo(n,new Oe(r))}if(t instanceof En)return Wo(n,t._key);throw new _e(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Km(t)}.`)}function hS(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WM(n,e){const t=function(s,c){for(const u of s)for(const g of u.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(K.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mw{convertValue(e,t="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xa(e,(s,c)=>{r[s]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new tr(Xn(e.latitude),Xn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sm(e));default:return null}}convertTimestamp(e){const t=Vc(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);Ke(PD(r));const s=new Uc(r.get(1),r.get(3)),c=new Oe(r.popFirst(5));return s.isEqual(t)||rn(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function ky(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class fS extends mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}class Hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oo extends ng{constructor(e,t,r,s,c,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Kh extends Oo{data(e={}){return super.data(e)}}class qa{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Kh(this._firestore,this._userDataWriter,r.key,r,new Hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Kh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Hu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>c||3!==g.type).map(g=>{const y=new Kh(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Hu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,T=-1;return 0!==g.type&&(w=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),1!==g.type&&(u=u.add(g.doc),T=u.indexOf(g.doc.key)),{type:QM(g.type),doc:y,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}function mS(n,e){return n instanceof Oo&&e instanceof Oo?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qa&&e instanceof qa&&n._firestore===e._firestore&&rS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class il extends mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function _S(n,e,t){n=At(n,En);const r=At(n.firestore,On),s=ky(n.converter,e,t);return ag(r,[iw(Yh(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Hn.none())])}function eP(n,e,t,...r){n=At(n,En);const s=At(n.firestore,On),c=Yh(s);let u;return u="string"==typeof(e=(0,bn.m9)(e))||e instanceof Ga?aw(c,"updateDoc",n._key,e,t,r):sw(c,"updateDoc",n._key,e),ag(s,[u.toMutation(n._key,Hn.exists(!0))])}function vS(n,...e){var t,r,s;n=(0,bn.m9)(n);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Ay(e[u])||(c=e[u],u++);const g={includeMetadataChanges:c.includeMetadataChanges};if(Ay(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(s=S.complete)||void 0===s?void 0:s.bind(S)}let y,w,T;if(n instanceof En)w=At(n.firestore,On),T=vh(n._key.path),y={next:S=>{e[u]&&e[u](yS(w,n,S))},error:e[u+1],complete:e[u+2]};else{const S=At(n,Xr);w=At(S.firestore,On),T=S._query;const P=new il(w);y={next:V=>{e[u]&&e[u](new qa(w,P,S,V))},error:e[u+1],complete:e[u+2]},fw(n._query)}return function(P,V,X,ne){const ce=new yy(ne),Te=new DA(V,ce,X);return P.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return hy(yield Vu(P),Te)})),()=>{ce.Na(),P.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return fy(yield Vu(P),Te)}))}}(er(w),T,g,y)}function ag(n,e){return function(r,s){const c=new Cr;return r.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function _M(n,e,t){return ME.apply(this,arguments)}(yield qA(r),s,c)})),c.promise}(er(n),e)}function yS(n,e,t){const r=t.docs.get(e._key),s=new il(n);return new Oo(n,s,e._key,r,new Hu(t.hasPendingWrites,t.fromCache),e.converter)}const d={maxAttempts:5};class p{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yh(e)}set(e,t,r){this._verifyNotCommitted();const s=_(e,this._firestore),c=ky(s.converter,t,r),u=iw(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,r);return this._mutations.push(u.toMutation(s._key,Hn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const c=_(e,this._firestore);let u;return u="string"==typeof(t=(0,bn.m9)(t))||t instanceof Ga?aw(this._dataReader,"WriteBatch.update",c._key,t,r,s):sw(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(u.toMutation(c._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _(n,e){if((n=(0,bn.m9)(n)).firestore!==e)throw new _e(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class b extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Yh(t)}get(t){const r=_(t,this._firestore),s=new fS(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return Be();const u=c[0];if(u.isFoundDocument())return new ng(this._firestore,s,u.key,u,r.converter);if(u.isNoDocument())return new ng(this._firestore,s,r._key,null,r.converter);throw Be()})}set(t,r,s){const c=_(t,this._firestore),u=ky(c.converter,r,s),g=iw(this._dataReader,"Transaction.set",c._key,u,null!==c.converter,s);return this._transaction.set(c._key,g),this}update(t,r,s,...c){const u=_(t,this._firestore);let g;return g="string"==typeof(r=(0,bn.m9)(r))||r instanceof Ga?aw(this._dataReader,"Transaction.update",u._key,r,s,c):sw(this._dataReader,"Transaction.update",u._key,r),this._transaction.update(u._key,g),this}delete(t){const r=_(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_(e,this._firestore),r=new il(this._firestore);return super.get(e).then(s=>new Oo(this._firestore,r,t._key,s._document,new Hu(!1,!1),t.converter))}}function iP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function NO(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function FO(){if(!function hh(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){yi=$d.SDK_VERSION,(0,$d._registerComponent)(new AT.wA("firestore",(r,{instanceIdentifier:s,options:c})=>{const u=r.getProvider("app").getImmediate(),g=new On(new wC(r.getProvider("auth-internal")),new DC(r.getProvider("app-check-internal")),function(w,T){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new _e(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(w.options.projectId,T)}(u,s),u);return c=Object.assign({useFetchStreams:t},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),(0,$d.registerVersion)(pv,"4.4.0",e),(0,$d.registerVersion)(pv,"4.4.0","esm2017")}();class _w{constructor(e){this._delegate=e}static fromBase64String(e){return FO(),new _w($a.fromBase64String(e))}static fromUint8Array(e){return NO(),new _w($a.fromUint8Array(e))}toBase64(){return FO(),this._delegate.toBase64()}toUint8Array(){return NO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oP(n){return function C1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class D1{enableIndexedDbPersistence(e,t){return function UM(n,e){Xm(n=At(n,On));const t=er(n);if(t._uninitializedComponentsProvider)throw new _e(K.FAILED_PRECONDITION,"SDK cache is already specified.");bi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new Gh;return QE(t,s,new qm(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function BM(n){Xm(n=At(n,On));const e=er(n);if(e._uninitializedComponentsProvider)throw new _e(K.FAILED_PRECONDITION,"SDK cache is already specified.");bi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Gh;return QE(e,r,new zA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Uu(n){if(n._initialized&&!n._terminated)throw new _e(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(t=(0,he.Z)(function*(s){if(!Ei.D())return Promise.resolve();const c=s+"main";yield Ei.delete(c)}),function r(s){return t.apply(this,arguments)})(cE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class LO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&bi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function KE(n,e,t,r={}){var s;const c=(n=At(n,Zh))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let g,y;if("string"==typeof r.mockUserToken)g=r.mockUserToken,y=mr.MOCK_USER;else{g=(0,bn.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new _e(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mr(w)}n._authCredentials=new _R(new iI(g,y))}}(this._delegate,e,t,r)}enableNetwork(){return function XE(n){return function wy(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield RM(n),t=yield GA(n);return e.setNetworkEnabled(!0),function(s){const c=Pe(s);return c.C_.delete(0),Ba(c)}(t)}))}(er(n=At(n,On)))}(this._delegate)}disableNetwork(){return function JE(n){return function ZA(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield RM(n),t=yield GA(n);return e.setNetworkEnabled(!1),(r=(0,he.Z)(function*(c){const u=Pe(c);u.C_.add(0),yield jh(u),u.M_.set("Offline")}),function s(c){return r.apply(this,arguments)})(t);var r}))}(er(n=At(n,On)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function iS(n){return function(t){const r=new Cr;return t.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function hO(n,e){return vy.apply(this,arguments)}(yield qA(t),r)})),r.promise}(er(n=At(n,On)))}(this._delegate)}onSnapshotsInSync(e){return function nP(n,e){return function YA(n,e){const t=new yy(e);return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return s=yield Vu(n),c=t,Pe(s).q_.add(c),void c.next();var s,c})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return s=yield Vu(n),c=t,void Pe(s).q_.delete(c);var s,c}))}}(er(n=At(n,On)),Ay(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fy(this,tS(this._delegate,e))}catch(t){throw no(t,"collection()","Firestore.collection()")}}doc(e){try{return new Gs(this,Dy(this._delegate,e))}catch(t){throw no(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ro(this,function nS(n,e){if(n=At(n,Zh),XA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(K.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(r=e,new Bs(Qt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw no(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function E(n,e,t){n=At(n,On);const r=Object.assign(Object.assign({},d),t);return function(c){if(c.maxAttempts<1)throw new _e(K.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,u,g){const y=new Cr;return c.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const w=yield function WE(n){return qh(n).then(e=>e.datastore)}(c);new xM(c.asyncQueue,w,g,u,y).run()})),y.promise}(er(n),s=>e(new b(n,s)),r)}(this._delegate,t=>e(new VO(this,t)))}batch(){return er(this._delegate),new UO(new p(this._delegate,e=>ag(this._delegate,e)))}loadBundle(e){return function ew(n,e){const t=er(n=At(n,On)),r=new mO;return function OM(n,e,t,r){const s=function(u,g){let y;return y="string"==typeof u?pD().encode(u):u,T=function(T,S){if(T instanceof Uint8Array)return $E(T,S);if(T instanceof ArrayBuffer)return $E(new Uint8Array(T),S);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new HA(T,g);var T}(t,ay(e));n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function SM(n,e,t){const r=Pe(n);var s;(s=(0,he.Z)(function*(u,g,y){try{const w=yield g.getMetadata();if(yield function(X,ne){const ce=Pe(X),Te=_r(ne.createTime);return ce.persistence.runTransaction("hasNewerBundle","readonly",je=>ce.Kr.getBundleMetadata(je,ne.id)).then(je=>!!je&&je.createTime.compareTo(Te)>=0)}(u.localStore,w))return yield g.close(),y._completeWith({taskState:"Success",documentsLoaded:(X=w).totalDocuments,bytesLoaded:X.totalBytes,totalDocuments:X.totalDocuments,totalBytes:X.totalBytes}),Promise.resolve(new Set);y._updateProgress(AE(w));const T=new pM(w,u.localStore,g.serializer);let S=yield g.Ma();for(;S;){const V=yield T.ea(S);V&&y._updateProgress(V),S=yield g.Ma()}const P=yield T.complete();return yield Po(u,P.ra,void 0),yield function(X,ne){const ce=Pe(X);return ce.persistence.runTransaction("Save bundle","readwrite",Te=>ce.Kr.saveBundleMetadata(Te,ne))}(u.localStore,w),y._completeWith(P.progress),Promise.resolve(P.na)}catch(w){return bi("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w),Promise.resolve(new Set)}var X}),function c(u,g,y){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield qA(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function tw(n,e){return function kM(n,e){return n.asyncQueue.enqueue((0,he.Z)(function*(){return function(r,s){const c=Pe(r);return c.persistence.runTransaction("Get named query","readonly",u=>c.Kr.getNamedQuery(u,s))}(yield Lu(n),e)}))}(er(n=At(n,On)),e).then(t=>t?new Xr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ro(this,t):null)}}class IS extends mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new _w(new $a(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Gs.forKey(t,this.firestore,null)}}class VO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new IS(e)}get(e){const t=ug(e);return this._delegate.get(t).then(r=>new vw(this._firestore,new Oo(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=ug(e);return r?(iP("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const c=ug(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...s),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}}class UO{constructor(e){this._delegate=e}set(e,t,r){const s=ug(e);return r?(iP("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const c=ug(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...s),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Kh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let c=s.get(t);return c||(c=new lg(e,new IS(e),t),s.set(t,c)),c}}lg.INSTANCES=new WeakMap;class Gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Gs(t,new En(t._delegate,r,new Oe(e)))}static forKey(e,t,r){return new Gs(t,new En(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fy(this.firestore,tS(this._delegate,e))}catch(t){throw no(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,bn.m9)(e))instanceof En&&VM(this._delegate,e)}set(e,t){t=iP("DocumentReference.set",t);try{return t?_S(this._delegate,e,t):_S(this._delegate,e)}catch(r){throw no(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?eP(this._delegate,e):eP(this._delegate,e,t,...r)}catch(s){throw no(s,"updateDoc()","DocumentReference.update()")}}delete(){return function SO(n){return ag(At(n.firestore,On),[new Ah(n._key,Hn.none())])}(this._delegate)}onSnapshot(...e){const t=BO(e),r=jO(e,s=>new vw(this.firestore,new Oo(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return vS(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function XM(n){n=At(n,En);const e=At(n.firestore,On),t=er(e),r=new il(e);return function Ty(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(c,u,g){try{const y=yield function(T,S){const P=Pe(T);return P.persistence.runTransaction("read document","readonly",V=>P.localDocuments.getDocument(V,S))}(c,u);y.isFoundDocument()?g.resolve(y):y.isNoDocument()?g.resolve(null):g.reject(new _e(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=nl(y,`Failed to get document '${u} from cache`);g.reject(w)}}),function s(c,u,g){return r.apply(this,arguments)})(yield Lu(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Oo(e,r,n._key,s,new Hu(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gS(n){n=At(n,En);const e=At(n.firestore,On);return WA(er(e),n._key,{source:"server"}).then(t=>yS(e,n,t))}(this._delegate):function Ny(n){n=At(n,En);const e=At(n.firestore,On);return WA(er(e),n._key).then(t=>yS(e,n,t))}(this._delegate),t.then(r=>new vw(this.firestore,new Oo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function no(n,e,t){return n.message=n.message.replace(e,t),n}function BO(n){for(const e of n)if("object"==typeof e&&!oP(e))return e;return{}}function jO(n,e){var t,r;let s;return s=oP(n[0])?n[0]:oP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{s.next&&s.next(e(c))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class vw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Gs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mS(this._delegate,e._delegate)}}class yw extends vw{data(e){const t=this._delegate.data(e);return this._delegate._converter||function mR(n,e){n||Be()}(void 0!==t),t}}class ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IS(e)}where(e,t,r){try{return new ro(this.firestore,$s(this._delegate,function bO(n,e,t){const r=e,s=hw("where",n);return Py._create(s,r,t)}(e,t,r)))}catch(s){throw no(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ro(this.firestore,$s(this._delegate,function $M(n,e="asc"){const t=e,r=hw("orderBy",n);return lS._create(r,t)}(e,t)))}catch(r){throw no(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ro(this.firestore,$s(this._delegate,function EO(n){return YE("limit",n),og._create("limit",n,"F")}(e)))}catch(t){throw no(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ro(this.firestore,$s(this._delegate,function uS(n){return YE("limitToLast",n),og._create("limitToLast",n,"L")}(e)))}catch(t){throw no(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ro(this.firestore,$s(this._delegate,function wO(...n){return Oy._create("startAt",n,!0)}(...e)))}catch(t){throw no(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ro(this.firestore,$s(this._delegate,function GM(...n){return Oy._create("startAfter",n,!1)}(...e)))}catch(t){throw no(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ro(this.firestore,$s(this._delegate,function TO(...n){return sg._create("endBefore",n,!1)}(...e)))}catch(t){throw no(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ro(this.firestore,$s(this._delegate,function qM(...n){return sg._create("endAt",n,!0)}(...e)))}catch(t){throw no(t,"endAt()","Query.endAt()")}}isEqual(e){return rS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function JM(n){n=At(n,Xr);const e=At(n.firestore,On),t=er(e),r=new il(e);return function MM(n,e){const t=new Cr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(c,u,g){try{const y=yield dE(c,u,!0),w=new xE(u,y.ls),T=w.ca(y.documents),S=w.applyChanges(T,!1);g.resolve(S.snapshot)}catch(y){const w=nl(y,`Failed to execute query '${u} against cache`);g.reject(w)}}),function s(c,u,g){return r.apply(this,arguments)})(yield Lu(n),e,t);var r})),t.promise}(t,n._query).then(s=>new qa(e,r,n,s))}(this._delegate):"server"===e?.source?function AO(n){n=At(n,Xr);const e=At(n.firestore,On),t=er(e),r=new il(e);return PM(t,n._query,{source:"server"}).then(s=>new qa(e,r,n,s))}(this._delegate):function DO(n){n=At(n,Xr);const e=At(n.firestore,On),t=er(e),r=new il(e);return fw(n._query),PM(t,n._query).then(s=>new qa(e,r,n,s))}(this._delegate),t.then(r=>new sP(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=BO(e),r=jO(e,s=>new sP(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return vS(this._delegate,t,r)}withConverter(e){return new ro(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}class S1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new yw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new S1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new yw(this._firestore,r))})}isEqual(e){return mS(this._delegate,e._delegate)}}class Fy extends ro{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Gs(this.firestore,e):null}doc(e){try{return new Gs(this.firestore,void 0===e?Dy(this._delegate):Dy(this._delegate,e))}catch(t){throw no(t,"doc()","CollectionReference.doc()")}}add(e){return function tP(n,e){const t=At(n.firestore,On),r=Dy(n),s=ky(n.converter,e);return ag(t,[iw(Yh(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Gs(this.firestore,t))}isEqual(e){return VM(this._delegate,e._delegate)}withConverter(e){return new Fy(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function ug(n){return At(n,En)}class aP{constructor(...e){this._delegate=new Ga(...e)}static documentId(){return new aP(Pn.keyField().canonicalString())}isEqual(e){return(e=(0,bn.m9)(e))instanceof Ga&&this._delegate._internalPath.isEqual(e._internalPath)}}class dg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function x(){return new Ry("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new dg(e)}static delete(){const e=function C(){return new Bu("deleteField")}();return e._methodName="FieldValue.delete",new dg(e)}static arrayUnion(...e){const t=function M(...n){return new sS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new dg(t)}static arrayRemove(...e){const t=function N(...n){return new ow("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new dg(t)}static increment(e){const t=function U(n){return new aS("increment",n)}(e);return t._methodName="FieldValue.increment",new dg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const x1={Firestore:LO,GeoPoint:tr,Timestamp:zn,Blob:_w,Transaction:VO,WriteBatch:UO,DocumentReference:Gs,DocumentSnapshot:vw,Query:ro,QueryDocumentSnapshot:yw,QuerySnapshot:sP,CollectionReference:Fy,FieldPath:aP,FieldValue:dg,setLogLevel:function A1(n){!function Fs(n){Fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function zO(n,e){return function P1(n,e=N_){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function cP(n,e){return zO(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}!function M1(n){(function R1(n,e){n.INTERNAL.registerComponent(new AT.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},x1)))})(n,(e,t)=>new LO(e,t,new D1)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(Ps.Z);class HO{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:c}=YO(r,t);return new qO(s,c,this.afs)}snapshotChanges(){return function O1(n,e){return zO(n,e).pipe(qi(void 0),s0(),(0,vt.U)(t=>{const[r,s]=t;return s.exists?r?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return ln(this.ref.get(e)).pipe(Qi)}}function ES(n,e){return cP(n,e).pipe(qi(void 0),s0(),(0,vt.U)(t=>{const[r,s]=t,c=s.payload.docChanges(),u=c.map(g=>({type:g.type,payload:g}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,y)=>{const w=c.find(S=>S.doc.ref.isEqual(g.ref)),T=r?.payload.docs.find(S=>S.ref.isEqual(g.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(g.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(g.metadata)||u.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:g}})}),u}))}function $O(n,e,t){return ES(n,t).pipe(Gf((r,s)=>function k1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function N1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return lP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return lP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(c=>c.payload),e),[]),DT(),(0,vt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function lP(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function GO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qO{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ES(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(qi(void 0),s0(),Mn(([r,s])=>s.length>0||!r),(0,vt.U)(([,r])=>r),Qi)}auditTrail(e){return this.stateChanges(e).pipe(Gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GO(e);return $O(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return cP(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Qi)}get(e){return ln(this.query.get(e)).pipe(Qi)}add(e){return this.ref.add(e)}doc(e){return new HO(this.ref.doc(e),this.afs)}}class F1{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ES(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Mn(t=>t.length>0),Qi):ES(this.query,this.afs.schedulers.outsideAngular).pipe(Qi)}auditTrail(e){return this.stateChanges(e).pipe(Gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GO(e);return $O(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return cP(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(s=>e.idField?{[e.idField]:s.id,...s.data()}:s.data())),Qi)}get(e){return ln(this.query.get(e)).pipe(Qi)}}const ZO=new h.OlP("angularfire2.enableFirestorePersistence"),WO=new h.OlP("angularfire2.firestore.persistenceSettings"),L1=new h.OlP("angularfire2.firestore.settings"),V1=new h.OlP("angularfire2.firestore.use-emulator");function YO(n,e=(t=>t)){return{query:e(n),ref:n}}let uP=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,s,c,u,g,y,w,T,S,P,V,X,ne,ce,Te,je){this.schedulers=y;const xe=z_(t,g,r),et=T;S&&CT(xe,g,P,X,ne,ce,V,Te),[this.firestore,this.persistenceEnabled$]=t0(`${xe.name}.firestore`,"AngularFirestore",xe.name,()=>{const bt=g.runOutsideAngular(()=>xe.firestore());if(c&&bt.settings(c),et&&bt.useEmulator(...et),s&&!Qu(u)){const Jt=()=>{try{return ln(bt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Ar){return typeof console<"u"&&console.warn(Ar),Ye(!1)}};return[bt,g.runOutsideAngular(Jt)]}return[bt,Ye(!1)]},[c,et,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:u}=YO(s,r),g=this.schedulers.ngZone.run(()=>c);return new qO(g,u,this)}collectionGroup(t,r){const s=r||(u=>u),c=this.firestore.collectionGroup(t);return new F1(s(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new HO(s,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(h.LFG(Wd),h.LFG(j_,8),h.LFG(ZO,8),h.LFG(L1,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(V_),h.LFG(WO,8),h.LFG(V1,8),h.LFG(zx,8),h.LFG(wT,8),h.LFG($_,8),h.LFG(Ux,8),h.LFG(Bx,8),h.LFG(jx,8),h.LFG(TT,8),h.LFG(L_,8))};static \u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),U1=(()=>{class n{constructor(){Ps.Z.registerVersion("angularfire",Xb.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ZO,useValue:!0},{provide:WO,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.oAB({type:n});static \u0275inj=h.cJS({providers:[uP]})}return n})(),KO=(()=>{class n{constructor(t){this.firestore=t}getTratte(){return this.firestore.collection("tratte").valueChanges()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(uP))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(),h.hij(" ",t.note," ")}}const Qh=(n,e,t)=>({FCE:n,AMAT:e,atm:t}),wS=(n,e,t,r)=>({FCE:n,AMAT:e,atm:t,RFI:r});function j1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){const c=h.CHM(t).$implicit,u=h.oxw(2);return h.KtG(u.sendInfo(c.id))}),h._uU(5),h.qZA(),h.YNc(6,B1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){const c=h.CHM(t).$implicit,u=h.oxw(2);return h.KtG(u.sendInfo(c.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=e.$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.Oqu(t.gestore),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,wS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function z1(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,j1,18,25,"article",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}function H1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(),h.hij(" ",t.note," ")}}function $1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(5),h.qZA(),h.YNc(6,H1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=h.oxw().$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.hij(" ",t.gestore," "),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,wS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function G1(n,e){if(1&n&&(h.ynx(0),h.YNc(1,$1,18,25,"article",12),h.BQk()),2&n){const t=e.$implicit;h.xp6(),h.Q6J("ngIf","treno"==t.mezzo)}}function q1(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,G1,2,1,"ng-container",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}function Z1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(),h.hij(" ",t.note," ")}}function W1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(5),h.qZA(),h.YNc(6,Z1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=h.oxw().$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.hij(" ",t.gestore," "),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,wS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function Y1(n,e){if(1&n&&(h.ynx(0),h.YNc(1,W1,18,25,"article",12),h.BQk()),2&n){const t=e.$implicit;h.xp6(),h.Q6J("ngIf","tram"==t.mezzo)}}function K1(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,Y1,2,1,"ng-container",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}function Q1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(),h.hij(" ",t.note," ")}}function X1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(5),h.qZA(),h.YNc(6,Q1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=h.oxw().$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.hij(" ",t.gestore," "),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,wS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function J1(n,e){if(1&n&&(h.ynx(0),h.YNc(1,X1,18,25,"article",12),h.BQk()),2&n){const t=e.$implicit;h.xp6(),h.Q6J("ngIf","metro"==t.mezzo)}}function eN(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,J1,2,1,"ng-container",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}let dP,tN=(()=>{class n{constructor(t,r){this.firebase=t,this.router=r,this.listaTratte=[],this.sendID=new Kt.x,this.sendID$=this.sendID.asObservable(),this.activeTab="tab1"}ngOnInit(){this.firebase.getTratte().subscribe(t=>{this.listaTratte=t})}sendInfo(t){this.sendID.next(t),this.router.navigateByUrl(`/tratta/${t}`)}setActiveTab(t){this.activeTab=t}isActiveTab(t){return this.activeTab===t}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(KO),h.Y36(Do))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-tratte"]],decls:55,vars:12,consts:[["id","picture"],[1,"material-symbols-outlined","RFI"],["href","https://www.rfi.it/it.html","target","_blank"],[1,"material-symbols-outlined","FCE"],["href","https://www.circumetnea.it/","target","_blank"],[1,"material-symbols-outlined","AMAT"],["href","https://www.amat.pa.it/","target","_blank"],[1,"material-symbols-outlined","atm"],["href","https://www.atmmessinaspa.it/","target","_blank"],[1,"tabs"],[3,"click"],[1,"tab-content"],[4,"ngIf"],[2,"width","auto"],["role","alert","id","disclaimer",1,"alert","alert-warning"],[4,"ngFor","ngForOf"],[1,"blog-card","spring-fever"],[1,"title-content"],[3,"ngClass"],["class","intro",4,"ngIf"],[1,"intro"],[1,"card-info"],[3,"ngClass","click"],[1,"licon","icon-arr","icon-black"],[1,"gradient-overlay"],[1,"color-overlay"],[1,"material-symbols-outlined",3,"ngClass"]],template:function(r,s){1&r&&(h._UZ(0,"div",0),h.TgZ(1,"fieldset")(2,"legend"),h._uU(3,"Legenda"),h.qZA(),h.TgZ(4,"table")(5,"tr")(6,"td")(7,"span",1),h._uU(8," circle "),h.qZA()(),h.TgZ(9,"td")(10,"a",2),h._uU(11,"Rete Ferroviaria Italiana"),h.qZA()()(),h.TgZ(12,"tr")(13,"td")(14,"span",3),h._uU(15," circle "),h.qZA()(),h.TgZ(16,"td")(17,"a",4),h._uU(18,"Ferrovia Circumetnea"),h.qZA()()(),h.TgZ(19,"tr")(20,"td")(21,"span",5),h._uU(22," circle "),h.qZA()(),h.TgZ(23,"td")(24,"a",6),h._uU(25,"Azienda Municipalizzata Auto Trasporti "),h.TgZ(26,"i"),h._uU(27,"(Palermo)"),h.qZA()()()(),h.TgZ(28,"tr")(29,"td")(30,"span",7),h._uU(31," circle "),h.qZA()(),h.TgZ(32,"td")(33,"a",8),h._uU(34,"Azienda Trasporti Messina"),h.qZA()()()()(),h.TgZ(35,"ul",9)(36,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab1")}),h._uU(37," Tutti "),h.qZA(),h.TgZ(38,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab2")}),h._uU(39," Treno "),h.qZA(),h.TgZ(40,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab3")}),h._uU(41," Tram "),h.qZA(),h.TgZ(42,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab4")}),h._uU(43," Metro "),h.qZA()(),h.TgZ(44,"div",11),h.YNc(45,z1,4,1,"div",12)(46,q1,4,1,"div",12)(47,K1,4,1,"div",12)(48,eN,4,1,"div",12),h.qZA(),h.TgZ(49,"article",13)(50,"div",14)(51,"p")(52,"strong"),h._uU(53,"Disclaimer :"),h.qZA(),h._uU(54," Le canzoni presentate su SpotiRFI sono state scelte esclusivamente sulla base dell'adeguatezza del titolo con il nome delle stazioni ferroviarie. La scelta di una canzone non implica un'approvazione o un'adesione al testo, al significato o a qualsiasi altro aspetto della canzone stessa. Le canzoni sono fornite solo a scopo di intrattenimento e non intendono rappresentare o riflettere le opinioni di SpotiRFI. "),h.qZA()()()),2&r&&(h.xp6(36),h.ekj("active",s.isActiveTab("tab1")),h.xp6(2),h.ekj("active",s.isActiveTab("tab2")),h.xp6(2),h.ekj("active",s.isActiveTab("tab3")),h.xp6(2),h.ekj("active",s.isActiveTab("tab4")),h.xp6(3),h.Q6J("ngIf",s.isActiveTab("tab1")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab2")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab3")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab4")))},dependencies:[Pt,sn,Zu],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";#picture[_ngcontent-%COMP%]{background-image:url(104Agnone.ea135585ad9e7ea3.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}fieldset[_ngcontent-%COMP%]{width:35%;font-family:Merienda,cursive;border:.15em black solid;border-radius:1em;margin:3em auto 3em 3em}@media screen and (min-width: 768px) and (max-width: 1024px){fieldset[_ngcontent-%COMP%]{width:40%}}@media screen and (min-width: 281px) and (max-width: 767px){fieldset[_ngcontent-%COMP%]{width:70%;margin:3em auto}ul[_ngcontent-%COMP%]{overflow:scroll}}@media screen and (max-width: 280px){fieldset[_ngcontent-%COMP%]{width:80%;margin:3em auto}ul[_ngcontent-%COMP%]{overflow:scroll}}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{margin:.5em;font-weight:500}td[_ngcontent-%COMP%]{font-weight:600}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:currentColor;text-decoration:none}ul[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:row;list-style-type:none;font-size:16px;font-family:Merienda,cursive;font-weight:600;padding-inline-start:0}li[_ngcontent-%COMP%]{padding:.7em 2em;cursor:pointer}li.active[_ngcontent-%COMP%]{border-bottom:.1em #D62A42 solid;color:#d62a42}li[_ngcontent-%COMP%]:hover{background-color:#d62a420a}article[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;margin:auto auto 4rem;font-family:Merienda,cursive;width:500px}section[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}#disclaimer[_ngcontent-%COMP%]{margin:4em 1em 3.5em;text-align:justify}p[_ngcontent-%COMP%]{font-size:19px;line-height:1.6}.blog-card[_ngcontent-%COMP%]{max-width:475px;width:100%;height:450px;position:relative;font-family:"Droid Serif",serif;color:#fff;top:20%;right:0;left:0;margin:0 auto;overflow:hidden;border-radius:0;box-shadow:0 10px 20px -9px #00000080;text-align:center;transition:all .4s;background-size:100%}.blog-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;transition:all .2s;cursor:pointer}.blog-card[_ngcontent-%COMP%]   .color-overlay[_ngcontent-%COMP%]{background:rgba(64,84,94,.5);width:475px;height:450px;position:absolute;z-index:10;top:0;left:0;transition:background .3s cubic-bezier(.33,.66,.66,1)}.blog-card[_ngcontent-%COMP%]   .gradient-overlay[_ngcontent-%COMP%]{background-image:linear-gradient(transparent 0%,rgba(0,0,0,.6) 21%);width:475px;height:450px;position:absolute;top:350px;left:0;z-index:15}.blog-card[_ngcontent-%COMP%]:hover{box-shadow:0 18px 20px -9px #000a1ebf}.blog-card[_ngcontent-%COMP%]:hover   .card-info[_ngcontent-%COMP%]{opacity:1;bottom:90px}.blog-card[_ngcontent-%COMP%]:hover   .color-overlay[_ngcontent-%COMP%]{background:rgba(64,64,70,.8)}.blog-card[_ngcontent-%COMP%]:hover   .title-content[_ngcontent-%COMP%]{margin-top:90px}.title-content[_ngcontent-%COMP%]{text-align:center;margin:170px 0 0;position:absolute;z-index:20;width:100%;top:0;left:0;transition:all .6s}.blog-card[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_changeLetter .3s 1 linear;width:80%}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-size:1.9em;font-weight:400;letter-spacing:1px;font-family:Abril Fatface,serif;margin-bottom:0;display:inline-block}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-shadow:0px 0px 10px rgba(0,0,0,.5);transition:all .2s}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-shadow:0px 8px 20px rgba(0,0,0,.95)}h3[_ngcontent-%COMP%]:after{content:" ";display:block;width:10%;height:2px;margin:20px auto;border:0;background:#006564;transition:all .2s}h3.FCE[_ngcontent-%COMP%]:after{background:#065DA8}h3.AMAT[_ngcontent-%COMP%]:after{background:#00A0C7}h3.atm[_ngcontent-%COMP%]:after{background:#D60B25}@keyframes _ngcontent-%COMP%_changeLetter{0%{width:10%}to{width:80%}}.intro[_ngcontent-%COMP%]{width:170px;margin:0 auto;color:#ddd;font-style:italic;line-height:18px}h3[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{width:170px;margin:.3em auto;color:#ddd;font-family:"Droid Serif",serif;font-style:italic;font-size:14px;line-height:18px}.intro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd}.intro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-info[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;position:absolute;bottom:-40px;left:0;margin:0 auto;padding:0 50px;font-size:16px;line-height:24px;z-index:20;opacity:0;transition:bottom .64s,opacity .63s cubic-bezier(.33,.66,.66,1)}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100px;margin:15px auto;background:#fff;color:#444;padding:3px 10px;border-radius:2px;font-size:.8em}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#006564;color:#fff}.card-info[_ngcontent-%COMP%]   a.FCE[_ngcontent-%COMP%]:hover{background:#065DA8}.card-info[_ngcontent-%COMP%]   a.AMAT[_ngcontent-%COMP%]:hover{background:#00A0C7}.card-info[_ngcontent-%COMP%]   a.atm[_ngcontent-%COMP%]:hover{background:#D60B25}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{filter:brightness(10);opacity:1}.licon[_ngcontent-%COMP%]{position:relative;width:23px;height:15px;display:inline-block;vertical-align:middle}.licon[_ngcontent-%COMP%]:before{content:"";background:url(https://rawcdn.githack.com/Nodws/NodPen/ffad95aa5244b4b09a3c7c1508a018959bbedb7e/postItem/licons.svg?) -2px -6px no-repeat;background-size:250px;width:26px;height:20px;display:inline-block;vertical-align:middle;position:absolute;top:-3px;left:0}.icon-black[_ngcontent-%COMP%]{filter:brightness(0);opacity:.6}@media (max-width:750px){.utility-info[_ngcontent-%COMP%]{text-align:center}.utility-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin:0;box-sizing:border-box}.utility-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:49%;display:inline-block;box-sizing:border-box;margin:0}}@media (max-width:500px){.utility-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{width:100%}.card-info[_ngcontent-%COMP%]{display:none}.blog-card[_ngcontent-%COMP%]:hover   .title-content[_ngcontent-%COMP%], .title-content[_ngcontent-%COMP%]{margin-top:40px}.blog-card[_ngcontent-%COMP%]{height:300px}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em}.intro[_ngcontent-%COMP%]{font-size:.8em}}.material-symbols-outlined.RFI[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#006564;margin:.5em;float:left}.material-symbols-outlined.FCE[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#065da8;margin:.5em;float:left}.material-symbols-outlined.AMAT[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#00a0c7;margin:.5em;float:left}.material-symbols-outlined.atm[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#d60b25;margin:.5em;float:left}']})}return n})();try{dP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dP=!1}let bw,hg,hP,io=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?$i(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TS(n){return function nN(){if(null==bw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bw=!0}))}finally{bw=bw||!1}return bw}()?n:!!n.capture}function rN(){if(null==hg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hg=!1,hg;if("scrollBehavior"in document.documentElement.style)hg=!0;else{const n=Element.prototype.scrollTo;hg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hg}function fP(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Xh(n){return n.composedPath?n.composedPath()[0]:n.target}function pP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function JO(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ek(n){return Mn((e,t)=>n<=t)}let dN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[dN]})}return n})();function tk(n,e=0){return function fN(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function DS(n){return Array.isArray(n)?n:[n]}function $r(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Vy(n){return n instanceof h.SBq?n.nativeElement:n}const nk=new Set;let fg,mN=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_N}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function gN(n,e){if(!nk.has(n))try{fg||(fg=document.createElement("style"),e&&(fg.nonce=e),fg.setAttribute("type","text/css"),document.head.appendChild(fg)),fg.sheet&&(fg.sheet.insertRule(`@media ${n} {body{ }}`,0),nk.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(io),h.LFG(h.Ojb,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _N(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let vN=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Kt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rk(DS(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let c=uc(rk(DS(t)).map(u=>this._registerQuery(u).observable));return c=Uo(c.pipe(ii(1)),c.pipe(ek(1),function pN(n,e=N_){return(0,An.e)((t,r)=>{let s=null,c=null,u=null;const g=()=>{if(s){s.unsubscribe(),s=null;const w=c;c=null,r.next(w)}};function y(){const w=u+n,T=e.now();if(T<w)return s=this.schedule(void 0,w-T),void r.add(s);g()}t.subscribe((0,cn.x)(r,w=>{c=w,u=e.now(),s||(s=e.schedule(y,n),r.add(s))},()=>{g(),r.complete()},void 0,()=>{c=s=null}))})}(0))),c.pipe((0,vt.U)(u=>{const g={matches:!1,breakpoints:{}};return u.forEach(({matches:y,query:w})=>{g.matches=g.matches||y,g.breakpoints[w]=y}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new Un.y(u=>{const g=y=>this._zone.run(()=>u.next(y));return r.addListener(g),()=>{r.removeListener(g)}}).pipe(qi(r),(0,vt.U)(({matches:u})=>({query:t,matches:u})),yd(this._destroySubject)),mql:r};return this._queries.set(t,c),c}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(mN),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let mP=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function EN(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function IN(n){try{return n.frameElement}catch{return null}}(function RN(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===ak(r)||!this.isVisible(r)))return!1;let s=t.nodeName.toLowerCase(),c=ak(t);return t.hasAttribute("contenteditable")?-1!==c:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function SN(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==c:"video"===s?-1!==c&&(null!==c||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function xN(n){return!function TN(n){return function DN(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function wN(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function CN(n){return function AN(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sk(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(io))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function ak(n){if(!sk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class MN{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,s,c=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const s=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const s=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(s)return s}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ii(1)).subscribe(e)}}let ck=(()=>{class n{constructor(t,r,s){this._checker=t,this._ngZone=r,this._document=s}create(t,r=!1){return new MN(t,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(mP),h.LFG(h.R0b),h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lk(n){return 0===n.buttons||0===n.detail}function uk(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const PN=new h.OlP("cdk-input-modality-detector-options"),ON={ignoreKeys:[18,17,224,91,16]},Uy=TS({passive:!0,capture:!0});let kN=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,s,c){this._platform=t,this._mostRecentTarget=null,this._modality=new Ur.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(g=>g===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xh(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lk(u)?"keyboard":"mouse"),this._mostRecentTarget=Xh(u))},this._onTouchstart=u=>{uk(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xh(u))},this._options={...ON,...c},this.modalityDetected=this._modality.pipe(ek(1)),this.modalityChanged=this.modalityDetected.pipe(DT()),t.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Uy),s.addEventListener("mousedown",this._onMousedown,Uy),s.addEventListener("touchstart",this._onTouchstart,Uy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Uy),document.removeEventListener("mousedown",this._onMousedown,Uy),document.removeEventListener("touchstart",this._onTouchstart,Uy))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(io),h.LFG(h.R0b),h.LFG(ve),h.LFG(PN,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var AS=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(AS||{});const FN=new h.OlP("cdk-focus-monitor-default-options"),SS=TS({passive:!0,capture:!0});let gP=(()=>{class n{constructor(t,r,s,c,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Kt.x,this._rootNodeFocusAndBlurListener=g=>{for(let w=Xh(g);w;w=w.parentElement)"focus"===g.type?this._onFocus(g,w):this._onBlur(g,w)},this._document=c,this._detectionMode=u?.detectionMode||AS.IMMEDIATE}monitor(t,r=!1){const s=Vy(t);if(!this._platform.isBrowser||1!==s.nodeType)return Ye();const c=function oN(n){if(function iN(){if(null==hP){const n=typeof document<"u"?document.head:null;hP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hP}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return r&&(u.checkChildren=!0),u.subject;const g={checkChildren:r,subject:new Kt.x,rootNode:c};return this._elementInfo.set(s,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const r=Vy(t),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(t,r,s){const c=Vy(t);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([g,y])=>this._originChanged(g,r,y)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===AS.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===AS.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const s=this._elementInfo.get(r),c=Xh(t);!s||!s.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),s)}_onBlur(t,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,SS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,SS)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yd(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,SS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,SS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,s){this._setClasses(t,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((s,c)=>{(c===t||s.checkChildren&&c.contains(t))&&r.push([c,s])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const c=t.labels;if(c)for(let u=0;u<c.length;u++)if(c[u].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(h.R0b),h.LFG(io),h.LFG(kN),h.LFG(ve,8),h.LFG(FN,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pg=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(pg||{});const hk="cdk-high-contrast-black-on-white",fk="cdk-high-contrast-white-on-black",_P="cdk-high-contrast-active";let pk=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,h.f3M)(vN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return pg.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return pg.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return pg.BLACK_ON_WHITE}return pg.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(_P,hk,fk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===pg.BLACK_ON_WHITE?t.add(_P,hk):r===pg.WHITE_ON_BLACK&&t.add(_P,fk)}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(io),h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LN=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(pk))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[hN]})}return n})();const VN=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function UN(){return(0,h.f3M)(ve)}}),BN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let vP=(()=>{class n{constructor(t){this.value="ltr",this.change=new h.vpe,t&&(this.value=function jN(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?BN.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(VN,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ew=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const HN=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function zN(){return!0}});let By=(()=>{class n{constructor(t,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!pP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(pk),h.LFG(HN,8),h.LFG(ve))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[Ew,Ew]})}return n})();var qs=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(qs||{});class KN{constructor(e,t,r,s=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=s,this.state=qs.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const _k=TS({passive:!0,capture:!0});class QN{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Xh(e);t&&this._events.get(e.type)?.forEach((r,s)=>{(s===t||s.contains(t))&&r.forEach(c=>c.handleEvent(e))})}}addHandler(e,t,r,s){const c=this._events.get(t);if(c){const u=c.get(r);u?u.add(s):c.set(r,new Set([s]))}else this._events.set(t,new Map([[r,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,_k)})}removeHandler(e,t,r){const s=this._events.get(e);if(!s)return;const c=s.get(t);c&&(c.delete(r),0===c.size&&s.delete(t),0===s.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,_k)))}}const vk={enterDuration:225,exitDuration:150},yk=TS({passive:!0,capture:!0}),bk=["mousedown","touchstart"],Ik=["mouseup","mouseleave","touchend","touchcancel"];class xS{static#e=this._eventManager=new QN;constructor(e,t,r,s){this._target=e,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Vy(r))}fadeInRipple(e,t,r={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...vk,...r.animation};r.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const u=r.radius||function JN(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+s*s)}(e,t,s),g=e-s.left,y=t-s.top,w=c.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=g-u+"px",T.style.top=y-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T);const S=window.getComputedStyle(T),V=S.transitionDuration,X="none"===S.transitionProperty||"0s"===V||"0s, 0s"===V||0===s.width&&0===s.height,ne=new KN(this,T,r,X);T.style.transform="scale3d(1, 1, 1)",ne.state=qs.FADING_IN,r.persistent||(this._mostRecentTransientRipple=ne);let ce=null;return!X&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Te=()=>this._finishRippleTransition(ne),je=()=>this._destroyRipple(ne);T.addEventListener("transitionend",Te),T.addEventListener("transitioncancel",je),ce={onTransitionEnd:Te,onTransitionCancel:je}}),this._activeRipples.set(ne,ce),(X||!w)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(e.state===qs.FADING_OUT||e.state===qs.HIDDEN)return;const t=e.element,r={...vk,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=qs.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Vy(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,bk.forEach(r=>{xS._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ik.forEach(t=>{this._triggerElement.addEventListener(t,this,yk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===qs.FADING_IN?this._startFadeOutTransition(e):e.state===qs.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=qs.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=qs.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=lk(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===qs.VISIBLE||e.config.terminateOnPointerUp&&e.state===qs.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(bk.forEach(t=>xS._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Ik.forEach(t=>e.removeEventListener(t,this,yk)))}}const Ek=new h.OlP("mat-ripple-global-options");let eF=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,s,c,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new xS(this,r,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(io),h.Y36(Ek,8),h.Y36(h.QbO,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){2&r&&h.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),tF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[By,By]})}return n})();const wk={capture:!0},Tk=["focus","click","mouseenter","touchstart"],yP="mat-ripple-loader-uninitialized",bP="mat-ripple-loader-class-name",Ck="mat-ripple-loader-centered",RS="mat-ripple-loader-disabled";let nF=(()=>{class n{constructor(){this._document=(0,h.f3M)(ve,{optional:!0}),this._animationMode=(0,h.f3M)(h.QbO,{optional:!0}),this._globalRippleOptions=(0,h.f3M)(Ek,{optional:!0}),this._platform=(0,h.f3M)(io),this._ngZone=(0,h.f3M)(h.R0b),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const s=t.target.closest(`[${yP}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const t of Tk)this._document?.addEventListener(t,this._onInteraction,wk)})}ngOnDestroy(){const t=this._hosts.keys();for(const r of t)this.destroyRipple(r);for(const r of Tk)this._document?.removeEventListener(r,this._onInteraction,wk)}configureRipple(t,r){t.setAttribute(yP,""),(r.className||!t.hasAttribute(bP))&&t.setAttribute(bP,r.className||""),r.centered&&t.setAttribute(Ck,""),r.disabled&&t.setAttribute(RS,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){const s=this._hosts.get(t);s?s.disabled=r:r?t.setAttribute(RS,""):t.removeAttribute(RS)}_createRipple(t){if(!this._document)return;const r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",t.getAttribute(bP)),t.append(s);const c=new eF(new h.SBq(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=t,c.centered=t.hasAttribute(Ck),c.disabled=t.hasAttribute(RS),this.attachRipple(t,c),c}attachRipple(t,r){t.removeAttribute(yP),this._hosts.set(t,r)}destroyRipple(t){const r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Dk=["mat-button",""],Ak=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Sk=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],oF=new h.OlP("MAT_BUTTON_CONFIG"),sF=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let xk=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,s,c){this._elementRef=t,this._platform=r,this._ngZone=s,this._animationMode=c,this._focusMonitor=(0,h.f3M)(gP),this._rippleLoader=(0,h.f3M)(nF),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const u=(0,h.f3M)(oF,{optional:!0}),g=t.nativeElement,y=g.classList;this.disabledInteractive=u?.disabledInteractive??!1,this._rippleLoader?.configureRipple(g,{className:"mat-mdc-button-ripple"});for(const{attribute:w,mdcClasses:T}of sF)g.hasAttribute(w)&&y.add(...T)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275dir=h.lG2({type:n,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",h.VuI],disabled:["disabled","disabled",h.VuI],ariaDisabled:["aria-disabled","ariaDisabled",h.VuI],disabledInteractive:["disabledInteractive","disabledInteractive",h.VuI]},features:[h.Xq5]})}return n})(),aF=(()=>{class n extends xk{constructor(t,r,s,c){super(t,r,s,c),this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275dir=h.lG2({type:n,inputs:{tabIndex:["tabIndex","tabIndex",t=>null==t?void 0:(0,h.Cb_)(t)]},features:[h.Xq5,h.qOj]})}return n})(),Rk=(()=>{class n extends xk{constructor(t,r,s,c){super(t,r,s,c)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(io),h.Y36(h.R0b),h.Y36(h.QbO,8))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,s){2&r&&(h.uIk("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),h.Tol(s.color?"mat-"+s.color:""),h.ekj("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[h.qOj,h.jDz],attrs:Dk,ngContentSelectors:Sk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){1&r&&(h.F$t(Ak),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)),2&r&&h.ekj("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),cF=(()=>{class n extends aF{constructor(t,r,s,c){super(t,r,s,c)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(io),h.Y36(h.R0b),h.Y36(h.QbO,8))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,s){2&r&&(h.uIk("disabled",s._getDisabledAttribute())("tabindex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("aria-disabled",s._getDisabledAttribute()),h.Tol(s.color?"mat-"+s.color:""),h.ekj("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[h.qOj,h.jDz],attrs:Dk,ngContentSelectors:Sk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){1&r&&(h.F$t(Ak),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)),2&r&&h.ekj("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),uF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[By,tF,By]})}return n})(),dF=(()=>{class n{openEasterEgg(){window.open("https://github.com/chiaraferrara","_blank")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-chisiamo"]],decls:17,vars:0,consts:[["id","picture"],["id","content"],[1,"mb-4"],["href","https://www.instagram.com/explore/tags/ferrosessuale/top/","target","_blank","id","ferrosex"],[3,"click"],["href","https://github.com/gianmarco2307","mat-button","","target","_blank","id","GitHub"],["src","assets/github-mark.png","id","githubLogo"]],template:function(r,s){1&r&&(h._UZ(0,"div",0),h.TgZ(1,"div",1)(2,"h2"),h._uU(3,"Chi Sono"),h.qZA(),h.TgZ(4,"p",2),h._uU(5," Sono un appassionato di viaggi e di musica, con un "),h.TgZ(6,"a",3),h._uU(7,"amore particolare per le ferrovie"),h.qZA(),h._uU(8," . La passione per l'esplorazione e la scoperta mi ha portato a creare SpotiRFI, un progetto unico che unisce la bellezza del viaggio in treno con il potere evocativo della musica. Ogni stazione ferroviaria sulla mappa diventa una tappa di un viaggio musicale attraverso la Sicilia, offrendo un'esperienza unica che spero possa arricchire i vostri viaggi tanto quanto ha arricchito i miei. "),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"p"),h._uU(11," Se vuoi passa dal "),h.TgZ(12,"span",4),h.NdJ("click",function(){return s.openEasterEgg()}),h._uU(13,"mio "),h.qZA(),h.TgZ(14,"a",5),h._UZ(15,"img",6),h._uU(16,"GitHub"),h.qZA()()())},dependencies:[cF],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#picture[_ngcontent-%COMP%]{background-image:url(PMAgnone.c90becf0931e3593.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}h2[_ngcontent-%COMP%]{margin-top:2em;font-family:Merienda,cursive;font-weight:bolder}#content[_ngcontent-%COMP%]{max-width:58em;text-align:justify;margin:0 auto;padding:2em;font-size:18px;font-family:Merienda,cursive;line-height:1.7}#ferrosex[_ngcontent-%COMP%]{text-decoration:none;color:#000}#ferrosex[_ngcontent-%COMP%]:hover{color:#393939}#GitHub[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-weight:700}#githubLogo[_ngcontent-%COMP%]{height:24px;margin-right:10px}']})}return n})(),hF=(()=>{class n{constructor(t){this.path="";let r=t.path().split("/");this.path=r[1].toUpperCase()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ze))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-tabellone"]],decls:50,vars:1,consts:[["href","https://fonts.cdnfonts.com/css/caros","rel","stylesheet"],[1,"background"],[1,"riga"],[1,"binario"],[1,"destinazione"],[1,"pdest"],[1,"treno"],[1,"ptreno"],[1,"partenza"],[1,"ppart"],[1,"info"],[1,"pinfo"]],template:function(r,s){1&r&&(h._UZ(0,"link",0),h.TgZ(1,"div",1),h._UZ(2,"br"),h.TgZ(3,"div",2)(4,"div",3)(5,"h2")(6,"b"),h._uU(7,"1"),h.qZA()()(),h.TgZ(8,"div",4)(9,"p")(10,"b"),h._uU(11,"destinazione "),h.qZA(),h.TgZ(12,"i"),h._uU(13,"destination"),h.qZA()(),h.TgZ(14,"div",5)(15,"h4"),h._uU(16),h.qZA()()()(),h._UZ(17,"br"),h.TgZ(18,"div",2)(19,"div",6)(20,"p")(21,"b"),h._uU(22,"treno "),h.qZA(),h.TgZ(23,"i"),h._uU(24,"train"),h.qZA()(),h.TgZ(25,"div",7)(26,"h4"),h._uU(27,"SPOTIRFI"),h.qZA(),h.TgZ(28,"h5"),h._uU(29,"REG 21886"),h.qZA()()(),h.TgZ(30,"div",8)(31,"p")(32,"b"),h._uU(33,"partenza "),h.qZA(),h.TgZ(34,"i"),h._uU(35,"departure"),h.qZA()(),h.TgZ(36,"div",9)(37,"h4"),h._uU(38,"CANCELLATO"),h.qZA()()()(),h._UZ(39,"br"),h.TgZ(40,"div",2)(41,"div",10)(42,"p")(43,"b"),h._uU(44,"informazioni "),h.qZA(),h.TgZ(45,"i"),h._uU(46,"informations"),h.qZA()(),h.TgZ(47,"div",11)(48,"h4"),h._uU(49,"E' SEVERAMENTE VIETATO ATTRAVERSARE LA LINEA GIALLA"),h.qZA()()()()()),2&r&&(h.xp6(16),h.Oqu(s.path))},styles:['@import"https://fonts.cdnfonts.com/css/caros";.background[_ngcontent-%COMP%]{width:40em;height:20.35em;background-color:#000;margin:auto}.riga[_ngcontent-%COMP%]{border-top:.1em white solid;width:38em;margin:0 1em}.binario[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}h2[_ngcontent-%COMP%]{font-size:5em}.destinazione[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.destinazione[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pdest[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 20s linear infinite}.pdest[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em;overflow:hidden}.treno[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}.treno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ptreno[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:10.99em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ptreno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;margin-left:.2em;margin-bottom:.1em}.ptreno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1em;margin-left:.2em}.partenza[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.partenza[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ppart[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ppart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em}.info[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pinfo[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:38em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite;overflow:hidden}.pinfo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8em;white-space:nowrap;position:relative;animation:_ngcontent-%COMP%_scroll-left 20s linear infinite}@keyframes _ngcontent-%COMP%_lighting{0%{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}to{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(100%)}to{transform:translate(-100%)}}']})}return n})(),fF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-notfound"]],decls:6,vars:0,consts:[["controls","","autoplay",""],["src","assets/404.mp3","type","audio/mpeg"]],template:function(r,s){1&r&&(h.TgZ(0,"article"),h._UZ(1,"app-tabellone"),h.qZA(),h.TgZ(2,"article")(3,"audio",0),h._UZ(4,"source",1),h._uU(5," Il tuo browser non supporta l'elemento audio. "),h.qZA()())},dependencies:[hF],styles:["article[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;margin:6em;font-family:Merienda,cursive}"]})}return n})();function pF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",16),h.NdJ("click",function(){const c=h.CHM(t).$implicit,u=h.oxw(2).$implicit,g=h.oxw();return h.KtG(g.stationToModal(c,u.note))}),h._uU(1),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(),h.Oqu(t)}}function mF(n,e){if(1&n&&(h.TgZ(0,"div",13),h._UZ(1,"iframe",14)(2,"br")(3,"br")(4,"br"),h.TgZ(5,"ul"),h.YNc(6,pF,2,1,"li",15),h.qZA()()),2&n){const t=h.oxw().index,r=h.oxw();h.xp6(),h.Q6J("src",r.srcs[t],h.uOi),h.xp6(5),h.Q6J("ngForOf",r.stations[t])}}function gF(n,e){if(1&n&&(h.TgZ(0,"div",11),h.YNc(1,mF,7,2,"div",12),h.qZA()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(),h.Q6J("ngIf",t.id==r.id)}}const _F=[{path:"",component:wc},{path:"home",component:wc},{path:"tratte",component:tN},{path:"chisono",component:dF},{path:"tratta/:id",component:(()=>{class n{constructor(t,r,s){this.fireServ=t,this.route=r,this.sanitizer=s,this.id=null,this.tratte=[],this.stations=[],this.srcs=[],this.actualStation="",this.actualLine=""}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.fireServ.getTratte().subscribe(t=>{let r=0;for(let s of t){let c;this.trattaSrc=this.sanitizer.bypassSecurityTrustResourceUrl(s.src),this.srcs.push(this.trattaSrc),this.stations[r]=this.stations[r]||[],c=s.stations.split("_"),this.stations[r]=c,r++}this.tratte=t})}stationToModal(t,r){this.actualStation=t,this.actualLine=r}openMaps(){let t,r;r="AMAT"==this.actualLine?"fermata tram "+this.actualLine+" di "+this.actualStation+" Palermo":"atm"==this.actualLine?"fermata tram "+this.actualLine+" di "+this.actualStation+" Messina":"stazione di "+this.actualStation,t="https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(r),window.open(t,"_blank"),console.log(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(KO),h.Y36(fr),h.Y36(Vg))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-playlist-page"]],decls:15,vars:2,consts:[["class","container",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"container"],["class","incontainer",4,"ngIf"],[1,"incontainer"],["width","100%","height","500","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px",3,"src"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click"]],template:function(r,s){1&r&&(h.YNc(0,gF,2,1,"div",0),h.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),h._uU(6),h.qZA(),h._UZ(7,"button",6),h.qZA(),h.TgZ(8,"div",7),h._uU(9," ... "),h.qZA(),h.TgZ(10,"div",8)(11,"button",9),h._uU(12,"Close"),h.qZA(),h.TgZ(13,"button",10),h.NdJ("click",function(){return s.openMaps()}),h._uU(14,"Apri su Maps"),h.qZA()()()()()),2&r&&(h.Q6J("ngForOf",s.tratte),h.xp6(6),h.hij("Stazione di ",s.actualStation,""))},dependencies:[sn,Zu],styles:['@import"https://fonts.cdnfonts.com/css/futura-std-4";.container[_ngcontent-%COMP%]{align-items:center;width:55%;margin-bottom:4em;margin-top:6em}.incontainer[_ngcontent-%COMP%]{align-items:center;font-family:Futura Std,sans-serif;font-weight:700;font-size:x-large}.map[_ngcontent-%COMP%]{display:block;margin:auto;width:75%;height:auto}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:auto;width:max-content}li[_ngcontent-%COMP%]:before{content:"";border-radius:50%;width:.625em;height:.625em;background:red;display:inline-block;margin-right:.625em}li[_ngcontent-%COMP%]{margin:.625em 0;position:relative;cursor:pointer}li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:.125em;height:calc(100% + .625em);background:red;left:.25em;top:.625em}li[_ngcontent-%COMP%]:first-child:after{top:.625em}li[_ngcontent-%COMP%]:last-child:after{height:0}@media screen and (min-width: 1025px) and (max-width: 1300px){.container[_ngcontent-%COMP%]{align-items:center;width:72%}}@media screen and (min-width: 768px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{align-items:center;width:77%}}@media screen and (min-width: 281px) and (max-width: 767px){.container[_ngcontent-%COMP%]{align-items:center;width:90%}}@media screen and (max-width: 280px){.container[_ngcontent-%COMP%]{align-items:center;width:97%}}']})}return n})()},{path:"**",component:fF}];let vF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[R_.forRoot(_F),R_]})}return n})(),yF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:20,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body","fixed-top"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["src","assets/logocompatto.png","alt","Logo","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","tratte",1,"nav-link"],["routerLink","chisono",1,"nav-link"],["href","https://www.rfi.it/it.html","target","_blank",1,"nav-link"],["href","https://open.spotify.com/intl-it","target","_blank",1,"nav-link"]],template:function(r,s){1&r&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"button",4),h._UZ(5,"span",5),h.qZA(),h.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),h._uU(10,"Le tratte"),h.qZA()(),h.TgZ(11,"li",8)(12,"a",10),h._uU(13,"Chi sono"),h.qZA()(),h.TgZ(14,"li",8)(15,"a",11),h._uU(16," RFI "),h.qZA()(),h.TgZ(17,"li",8)(18,"a",12),h._uU(19," Spotify "),h.qZA()()()()()())},dependencies:[Gl],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#shareButton[_ngcontent-%COMP%]{color:transparent;background-color:transparent;border:transparent;float:right}nav[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px}']})}return n})();const bF=["addListener","removeListener"],IF=["addEventListener","removeEventListener"],EF=["on","off"];function IP(n,e,t,r){if((0,_n.m)(t)&&(r=t,t=void 0),r)return IP(n,e,t).pipe(ua(r));const[s,c]=function CF(n){return(0,_n.m)(n.addEventListener)&&(0,_n.m)(n.removeEventListener)}(n)?IF.map(u=>g=>n[u](e,g,t)):function wF(n){return(0,_n.m)(n.addListener)&&(0,_n.m)(n.removeListener)}(n)?bF.map(Mk(n,e)):function TF(n){return(0,_n.m)(n.on)&&(0,_n.m)(n.off)}(n)?EF.map(Mk(n,e)):[];if(!s&&yl(n))return Kn(u=>IP(u,e,t))(Ft(n));if(!s)throw new TypeError("Invalid event target");return new Un.y(u=>{const g=(...y)=>u.next(1<y.length?y:y[0]);return s(g),()=>c(g)})}function Mk(n,e){return t=>r=>n[t](e,r)}const Tw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Tw;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const s=e(c=>{t=void 0,n(c)});return new vn.w0(()=>t?.(s))},requestAnimationFrame(...n){const{delegate:e}=Tw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Tw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class AF extends Qb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;e=e||r.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,s){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw s}}}(class DF extends P_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Tw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var s;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==t&&(Tw.cancelAnimationFrame(t),e._scheduled=void 0)}});let EP,xF=1;const MS={};function Pk(n){return n in MS&&(delete MS[n],!0)}const RF={setImmediate(n){const e=xF++;return MS[e]=!0,EP||(EP=Promise.resolve()),EP.then(()=>Pk(e)&&n()),e},clearImmediate(n){Pk(n)}},{setImmediate:MF,clearImmediate:PF}=RF,PS={setImmediate(...n){const{delegate:e}=PS;return(e?.setImmediate||MF)(...n)},clearImmediate(n){const{delegate:e}=PS;return(e?.clearImmediate||PF)(n)},delegate:void 0};new class kF extends Qb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;e=e||r.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,s){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw s}}}(class OF extends P_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=PS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var s;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==t&&(PS.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Ok(n,e=N_){return function FF(n){return(0,An.e)((e,t)=>{let r=!1,s=null,c=null,u=!1;const g=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const w=s;s=null,t.next(w)}u&&t.complete()},y=()=>{c=null,u&&t.complete()};e.subscribe((0,cn.x)(t,w=>{r=!0,s=w,c||Ft(n(w)).subscribe(c=(0,cn.x)(t,g,y))},()=>{u=!0,(!r||!c||c.closed)&&t.complete()}))})}(()=>function VF(n=0,e,t=F_){let r=-1;return null!=e&&(Vf(e)?t=e:r=e),new Un.y(s=>{let c=function LF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let u=0;return t.schedule(function(){s.closed||(s.next(u++),0<=r?this.schedule(void 0,r):s.complete())},c)})}(n,e))}let BF=(()=>{class n{constructor(t,r,s){this._ngZone=t,this._platform=r,this._scrolled=new Kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Un.y(r=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(Ok(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ye()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const s=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Mn(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,t)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let s=Vy(r),c=t.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>IP(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(h.R0b),h.LFG(io),h.LFG(ve,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kk=(()=>{class n{constructor(t,r,s){this._platform=t,this._change=new Kt.x,this._changeListener=c=>{this._change.next(c)},this._document=s,r.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),s=t.documentElement,c=s.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||r.scrollY||s.scrollTop||0,left:-c.left||t.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ok(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(io),h.LFG(h.R0b),h.LFG(ve,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})(),Fk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[Ew,Nk,Ew,Nk]})}return n})();class wP{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class TP extends wP{constructor(e,t,r,s,c){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=s,this.projectableNodes=c}}class Lk extends wP{constructor(e,t,r,s){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=s}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zF extends wP{constructor(e){super(),this.element=e instanceof h.SBq?e.nativeElement:e}}class CP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof TP?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Lk?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zF?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class HF extends CP{constructor(e,t,r,s,c){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=s,this.attachDomPortal=u=>{const g=u.element,y=this._document.createComment("dom-portal");g.parentNode.insertBefore(y,g),this.outletElement.appendChild(g),this._attachedPortal=u,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(g,y)})},this._document=c}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=r.create(e.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(s=>this.outletElement.appendChild(s)),r.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(r);-1!==s&&t.remove(s)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let DP=(()=>{class n extends CP{constructor(t,r,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=c=>{const u=c.element,g=this._document.createComment("dom-portal");c.setAttachedHost(this),u.parentNode.insertBefore(g,u),this._getRootNode().appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(u,g)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,c=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(c,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(ve))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[h.qOj]})}return n})(),OS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const Vk=rN();class $F{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=$r(-this._previousScrollPosition.left),e.style.top=$r(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,s=this._document.body.style,c=r.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Vk&&(r.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Vk&&(r.scrollBehavior=c,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class GF{constructor(e,t,r,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Mn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Uk{enable(){}disable(){}attach(){}}function AP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Bk(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class qF{constructor(e,t,r,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:s}=this._viewportRuler.getViewportSize();AP(t,[{width:r,height:s,bottom:s,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ZF=(()=>{class n{constructor(t,r,s,c){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new Uk,this.close=u=>new GF(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new $F(this._viewportRuler,this._document),this.reposition=u=>new qF(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=c}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(BF),h.LFG(kk),h.LFG(h.R0b),h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jk{constructor(e){if(this.scrollStrategy=new Uk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class WF{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let zk=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YF=(()=>{class n extends zk{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=s=>{const c=this._attachedOverlays;for(let u=c.length-1;u>-1;u--)if(c[u]._keydownEvents.observers.length>0){const g=c[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(h.R0b,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KF=(()=>{class n extends zk{constructor(t,r,s){super(t),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=Xh(c)},this._clickListener=c=>{const u=Xh(c),g="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let w=y.length-1;w>-1;w--){const T=y[w];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(g))break;const S=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(c)):S.next(c)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(io),h.LFG(h.R0b,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kS=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||pP()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}const r=this._document.createElement("div");r.classList.add(t),pP()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ve),h.LFG(io))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class NS{constructor(e,t,r,s,c,u,g,y,w,T=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=s,this._ngZone=c,this._keyboardDispatcher=u,this._document=g,this._location=y,this._outsideClickDispatcher=w,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new Kt.x,this._attachments=new Kt.x,this._detachments=new Kt.x,this._locationChanges=vn.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Kt.x,this._outsidePointerEvents=new Kt.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ii(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=$r(this._config.width),e.height=$r(this._config.height),e.minWidth=$r(this._config.minWidth),e.minHeight=$r(this._config.minHeight),e.maxWidth=$r(this._config.maxWidth),e.maxHeight=$r(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const s=DS(t||[]).filter(c=>!!c);s.length&&(r?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(yd(ql(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Hk="cdk-overlay-connected-position-bounding-box",QF=/([A-Za-z%]+)$/;class XF{get positions(){return this._preferredPositions}constructor(e,t,r,s,c){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Kt.x,this._resizeSubscription=vn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Hk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,s=this._containerRect,c=[];let u;for(let g of this._preferredPositions){let y=this._getOriginPoint(e,s,g),w=this._getOverlayPoint(y,t,g),T=this._getOverlayFit(w,t,r,g);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,y);this._canFitWithFlexibleDimensions(T,w,r)?c.push({position:g,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,g)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:w,originPoint:y,position:g,overlayRect:t})}if(c.length){let g=null,y=-1;for(const w of c){const T=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);T>y&&(y=T,g=w)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&mg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Hk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let s,c;if("center"==r.originX)s=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,g=this._isRtl()?e.left:e.right;s="start"==r.originX?u:g}return t.left<0&&(s-=t.left),c="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(c-=t.top),{x:s,y:c}}_getOverlayPoint(e,t,r){let s,c;return s="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,c="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+s,y:e.y+c}}_getOverlayFit(e,t,r,s){const c=Gk(t);let{x:u,y:g}=e,y=this._getOffset(s,"x"),w=this._getOffset(s,"y");y&&(u+=y),w&&(g+=w);let P=0-g,V=g+c.height-r.height,X=this._subtractOverflows(c.width,0-u,u+c.width-r.width),ne=this._subtractOverflows(c.height,P,V),ce=X*ne;return{visibleArea:ce,isCompletelyWithinViewport:c.width*c.height===ce,fitsInViewportVertically:ne===c.height,fitsInViewportHorizontally:X==c.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const s=r.bottom-t.y,c=r.right-t.x,u=$k(this._overlayRef.getConfig().minHeight),g=$k(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=s)&&(e.fitsInViewportHorizontally||null!=g&&g<=c)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=Gk(t),c=this._viewportRect,u=Math.max(e.x+s.width-c.width,0),g=Math.max(e.y+s.height-c.height,0),y=Math.max(c.top-r.top-e.y,0),w=Math.max(c.left-r.left-e.x,0);let T=0,S=0;return T=s.width<=c.width?w||-u:e.x<this._viewportMargin?c.left-r.left-e.x:0,S=s.height<=c.height?y||-g:e.y<this._viewportMargin?c.top-r.top-e.y:0,this._previousPushAmount={x:T,y:S},{x:e.x+T,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),s=new WF(e,r);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,s=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let c=0;c<t.length;c++)t[c].style.transformOrigin=`${r} ${s}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,s=this._isRtl();let c,u,g,T,S,P;if("top"===t.overlayY)u=e.y,c=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)g=r.height-e.y+2*this._viewportMargin,c=r.height-g+this._viewportMargin;else{const V=Math.min(r.bottom-e.y+r.top,e.y),X=this._lastBoundingBoxSize.height;c=2*V,u=e.y-V,c>X&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-X/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)P=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)S=e.x,T=r.right-e.x;else{const V=Math.min(r.right-e.x+r.left,e.x),X=this._lastBoundingBoxSize.width;T=2*V,S=e.x-V,T>X&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-X/2)}return{top:u,left:S,bottom:g,right:P,width:T,height:c}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=$r(r.height),s.top=$r(r.top),s.bottom=$r(r.bottom),s.width=$r(r.width),s.left=$r(r.left),s.right=$r(r.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",c&&(s.maxHeight=$r(c)),u&&(s.maxWidth=$r(u))}this._lastBoundingBoxSize=r,mg(this._boundingBox.style,s)}_resetBoundingBoxStyles(){mg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){mg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},s=this._hasExactPosition(),c=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const T=this._viewportRuler.getViewportScrollPosition();mg(r,this._getExactOverlayY(t,e,T)),mg(r,this._getExactOverlayX(t,e,T))}else r.position="static";let g="",y=this._getOffset(t,"x"),w=this._getOffset(t,"y");y&&(g+=`translateX(${y}px) `),w&&(g+=`translateY(${w}px)`),r.transform=g.trim(),u.maxHeight&&(s?r.maxHeight=$r(u.maxHeight):c&&(r.maxHeight="")),u.maxWidth&&(s?r.maxWidth=$r(u.maxWidth):c&&(r.maxWidth="")),mg(this._pane.style,r)}_getExactOverlayY(e,t,r){let s={top:"",bottom:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":s.top=$r(c.y),s}_getExactOverlayX(e,t,r){let u,s={left:"",right:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":s.left=$r(c.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Bk(e,r),isOriginOutsideView:AP(e,r),isOverlayClipped:Bk(t,r),isOverlayOutsideView:AP(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,s)=>r-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&DS(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function mg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function $k(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(QF);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Gk(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const qk="cdk-global-overlay-wrapper";class JF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(qk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:s,height:c,maxWidth:u,maxHeight:g}=r,y=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==c&&"100vh"!==c||g&&"100%"!==g&&"100vh"!==g),T=this._xPosition,S=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let V="",X="",ne="";y?ne="flex-start":"center"===T?(ne="center",P?X=S:V=S):P?"left"===T||"end"===T?(ne="flex-end",V=S):("right"===T||"start"===T)&&(ne="flex-start",X=S):"left"===T||"start"===T?(ne="flex-start",V=S):("right"===T||"end"===T)&&(ne="flex-end",X=S),e.position=this._cssPosition,e.marginLeft=y?"0":V,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=y?"0":X,t.justifyContent=ne,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(qk),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let eL=(()=>{class n{constructor(t,r,s,c){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=c}global(){return new JF}flexibleConnectedTo(t){return new XF(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(kk),h.LFG(ve),h.LFG(io),h.LFG(kS))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tL=0,$u=(()=>{class n{constructor(t,r,s,c,u,g,y,w,T,S,P,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=u,this._injector=g,this._ngZone=y,this._document=w,this._directionality=T,this._location=S,this._outsideClickDispatcher=P,this._animationsModuleType=V}create(t){const r=this._createHostElement(),s=this._createPaneElement(r),c=this._createPortalOutlet(s),u=new jk(t);return u.direction=u.direction||this._directionality.value,new NS(c,r,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+tL++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new HF(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ZF),h.LFG(kS),h.LFG(h._Vd),h.LFG(eL),h.LFG(YF),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(ve),h.LFG(vP),h.LFG(ze),h.LFG(KF),h.LFG(h.QbO,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nL=new h.OlP("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,h.f3M)($u);return()=>n.scrollStrategies.reposition()}}),iL={provide:nL,deps:[$u],useFactory:function rL(n){return()=>n.scrollStrategies.reposition()}};let Zk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[$u,iL],imports:[Ew,OS,Fk,Fk]})}return n})();function oL(n,e){}class FS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Wk=(()=>{class n extends CP{constructor(t,r,s,c,u,g,y,w){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=u,this._ngZone=g,this._overlayRef=y,this._focusMonitor=w,this._platform=(0,h.f3M)(io),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,h.f3M)(h.sBO),this.attachDomPortal=T=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(T);return this._contentAttached(),S},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(r)}_focusByCssSelector(t,r){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const s=fP(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=fP();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=fP()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(ck),h.Y36(ve,8),h.Y36(FS),h.Y36(mP),h.Y36(h.R0b),h.Y36(NS),h.Y36(gP))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(1&r&&h.Gf(DP,7),2&r){let c;h.iGM(c=h.CRH())&&(s._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){2&r&&h.uIk("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[h.qOj,h.jDz],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){1&r&&h.YNc(0,oL,0,0,"ng-template",0)},dependencies:[DP],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class SP{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Kt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!JO(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const Yk=new h.OlP("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,h.f3M)($u);return()=>n.scrollStrategies.block()}}),sL=new h.OlP("DialogData"),aL=new h.OlP("DefaultDialogConfig");let lL=0,Kk=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,s,c,u,g){this._overlay=t,this._injector=r,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Kt.x,this._afterOpenedAtThisLevel=new Kt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qi(void 0))),this._scrollStrategy=g}open(t,r){(r={...this._defaultOptions||new FS,...r}).id=r.id||"cdk-dialog-"+lL++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),u=this._overlay.create(c),g=new SP(u,r),y=this._attachContainer(u,g,r);return g.containerInstance=y,this._attachDialogContent(t,g,y,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){xP(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){xP(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),xP(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new jk({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,s){const c=s.injector||s.viewContainerRef?.injector,u=[{provide:FS,useValue:s},{provide:SP,useValue:r},{provide:NS,useValue:t}];let g;s.container?"function"==typeof s.container?g=s.container:(g=s.container.type,u.push(...s.container.providers(s))):g=Wk;const y=new TP(g,s.viewContainerRef,h.zs3.create({parent:c||this._injector,providers:u}),s.componentFactoryResolver);return t.attach(y).instance}_attachDialogContent(t,r,s,c){if(t instanceof h.Rgc){const u=this._createInjector(c,r,s,void 0);let g={$implicit:c.data,dialogRef:r};c.templateContext&&(g={...g,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),s.attachTemplatePortal(new Lk(t,null,g,u))}else{const u=this._createInjector(c,r,s,this._injector),g=s.attachComponentPortal(new TP(t,c.viewContainerRef,u,c.componentFactoryResolver));r.componentRef=g,r.componentInstance=g.instance}}_createInjector(t,r,s,c){const u=t.injector||t.viewContainerRef?.injector,g=[{provide:sL,useValue:t.data},{provide:SP,useValue:r}];return t.providers&&("function"==typeof t.providers?g.push(...t.providers(r,t,s)):g.push(...t.providers)),t.direction&&(!u||!u.get(vP,null,{optional:!0}))&&g.push({provide:vP,useValue:{value:t.direction,change:Ye()}}),h.zs3.create({parent:u||c,providers:g})}_removeOpenDialog(t,r){const s=this.openDialogs.indexOf(t);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,u)=>{c?u.setAttribute("aria-hidden",c):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let s=r.length-1;s>-1;s--){const c=r[s];c!==t&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG($u),h.LFG(h.zs3),h.LFG(aL,8),h.LFG(n,12),h.LFG(kS),h.LFG(Yk))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xP(n,e){let t=n.length;for(;t--;)e(n[t])}let uL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[Kk],imports:[Zk,OS,LN,OS]})}return n})();function dL(n,e){}ee(825);class RP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const MP="mdc-dialog--open",Qk="mdc-dialog--opening",Xk="mdc-dialog--closing";let Jk=(()=>{class n extends Wk{constructor(t,r,s,c,u,g,y,w,T){super(t,r,s,c,u,g,y,T),this._animationMode=w,this._animationStateChanged=new h.vpe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?t1(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?t1(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(e1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Qk,MP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(MP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(MP),this._animationsEnabled?(this._hostElement.style.setProperty(e1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Xk)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Qk,Xk)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const r=super.attachComponentPortal(t);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(ck),h.Y36(ve,8),h.Y36(RP),h.Y36(mP),h.Y36(h.R0b),h.Y36(NS),h.Y36(h.QbO,8),h.Y36(gP))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(r,s){2&r&&(h.Ikx("id",s._config.id),h.uIk("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),h.ekj("_mat-animation-noopable",!s._animationsEnabled))},standalone:!0,features:[h.qOj,h.jDz],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,dL,0,0,"ng-template",2),h.qZA()())},dependencies:[DP],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();const e1="--mat-dialog-transition-duration";function t1(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?tk(n.substring(0,n.length-2)):n.endsWith("s")?1e3*tk(n.substring(0,n.length-1)):"0"===n?0:null}var LS=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(LS||{});class PP{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Kt.x,this._beforeClosed=new Kt.x,this._state=LS.OPEN,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Mn(s=>"opened"===s.state),ii(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Mn(s=>"closed"===s.state),ii(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ql(this.backdropClick(),this.keydownEvents().pipe(Mn(s=>27===s.keyCode&&!this.disableClose&&!JO(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),n1(this,"keydown"===s.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Mn(t=>"closing"===t.state),ii(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=LS.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=LS.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function n1(n,e,t){return n._closeInteractionType=e,n.close(t)}const pL=new h.OlP("MatMdcDialogData"),mL=new h.OlP("mat-mdc-dialog-default-options"),r1=new h.OlP("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,h.f3M)($u);return()=>n.scrollStrategies.block()}});let _L=0,VS=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,s,c,u,g,y,w){this._overlay=t,this._defaultOptions=c,this._scrollStrategy=u,this._parentDialog=g,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Kt.x,this._afterOpenedAtThisLevel=new Kt.x,this.dialogConfigClass=RP,this.afterAllClosed=bo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qi(void 0))),this._dialog=r.get(Kk),this._dialogRefConstructor=PP,this._dialogContainerType=Jk,this._dialogDataToken=pL}open(t,r){let s;(r={...this._defaultOptions||new RP,...r}).id=r.id||"mat-mdc-dialog-"+_L++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:FS,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(u,g,y)=>(s=new this._dialogRefConstructor(u,r,y),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:y},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentRef=c.componentRef,s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(s);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG($u),h.LFG(h.zs3),h.LFG(ze,8),h.LFG(mL,8),h.LFG(r1),h.LFG(n,12),h.LFG(kS),h.LFG(h.QbO,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vL=0,o1=(()=>{class n{constructor(t,r,s){this.dialogRef=t,this._elementRef=r,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=l1(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){n1(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(PP,8),h.Y36(h.SBq),h.Y36(VS))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,s){1&r&&h.NdJ("click",function(u){return s._onButtonClick(u)}),2&r&&h.uIk("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[h.TTD]})}return n})(),s1=(()=>{class n{constructor(t,r,s){this._dialogRef=t,this._elementRef=r,this._dialog=s,this.id="mat-mdc-dialog-title-"+vL++}ngOnInit(){this._dialogRef||(this._dialogRef=l1(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance;t&&Promise.resolve().then(()=>{t._removeAriaLabelledBy?.(this.id)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(PP,8),h.Y36(h.SBq),h.Y36(VS))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,s){2&r&&h.Ikx("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0})}return n})(),a1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return n})(),c1=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(r,s){2&r&&h.ekj("mat-mdc-dialog-actions-align-center","center"===s.align)("mat-mdc-dialog-actions-align-end","end"===s.align)},inputs:{align:"align"},standalone:!0})}return n})();function l1(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let yL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[VS],imports:[uL,Zk,OS,By,By]})}return n})(),bL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-disclaimer-dialog"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""]],template:function(r,s){1&r&&(h.TgZ(0,"h2",0),h._uU(1,"Disclaimer"),h.qZA(),h.TgZ(2,"mat-dialog-content"),h._uU(3,"SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti."),h.qZA(),h.TgZ(4,"mat-dialog-actions")(5,"button",1),h._uU(6,"Chiudi"),h.qZA()())},dependencies:[o1,s1,c1,a1,Rk]})}return n})(),IL=(()=>{class n{constructor(t){this.dialog=t}openDialog(){this.dialog.open(bL)}disclaimer(){window.alert("SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti.")}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(VS))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer"]],decls:66,vars:0,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body"],[1,"layout"],[1,"footer-wrapper","clearfix"],[1,"grid-3","footer-logo"],["href","#"],["alt","html layout logo","src","assets/logo.png"],[1,"footer-text"],["mat-button","",3,"click"],[1,"material-symbols-outlined"],[1,"grid-3"],[1,"footer-heading"],[1,"footermenu"],["routerLink","tratte"],["routerLink","chisono"],["href","https://www.rfi.it/it.html","target","_blank"],["href","https://open.spotify.com/intl-it","target","_blank"],[1,"footer-contact"],["href","./tratta/PalermoMessina"],["href","./tratta/AnelloPalermo"],["href","./tratta/AgrigentoPalermo"],["href","./tratta/SiracusaCaltanissetta"],["href","./tratta/CataniaGela"],[1,"footerblog"],["href","https://www.fsitaliane.it/content/dam/fsitaliane/Documents/impegno/per-lambiente/progetti/Atlante%20delle%20linee%20ferroviarie%20dismesse.pdf","target","_blank"],["href","https://epodweb.rfi.it/Download.ashx?q=lTmHEqG6%2FeC61zq42ZZheV8ouJSzS%2B5udsN2POFdeD4hdoONi5u5MvreFVXiIbvj","target","_blank"],["href","https://www.rfi.it/it/chi-siamo/Il-rapporto-con-lo-Stato-e-con-gli-stakeholder/il-piano-commerciale.html","target","_blank"]],template:function(r,s){1&r&&(h._UZ(0,"link",0),h.TgZ(1,"footer",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),h._UZ(6,"img",6),h.qZA(),h.TgZ(7,"p",7),h._uU(8," SpotiRFI: Un viaggio musicale unico attraverso le linee ferroviarie della Sicilia. Ogni stazione, una nuova canzone. "),h.qZA(),h.TgZ(9,"button",8),h.NdJ("click",function(){return s.openDialog()}),h.TgZ(10,"span",9),h._uU(11," info "),h.qZA()()(),h.TgZ(12,"div",10)(13,"p",11),h._uU(14,"pagine"),h.qZA(),h.TgZ(15,"ul",12)(16,"li")(17,"a",13),h._uU(18,"Le tratte"),h.qZA()(),h.TgZ(19,"li")(20,"a",14),h._uU(21,"Chi sono"),h.qZA()(),h.TgZ(22,"li")(23,"a",15),h._uU(24,"RFI"),h.qZA()(),h.TgZ(25,"li")(26,"a",16),h._uU(27,"Spotify"),h.qZA()()()(),h.TgZ(28,"div",10)(29,"p",11),h._uU(30,"link"),h.qZA(),h.TgZ(31,"ul",17)(32,"li")(33,"a",18),h._uU(34,"Palermo - Messina"),h.qZA()(),h.TgZ(35,"li")(36,"a",19),h._uU(37,"Anello Ferroviario Palermo"),h.qZA()(),h.TgZ(38,"li")(39,"a",20),h._uU(40,"Agrigento - Palermo"),h.qZA()(),h.TgZ(41,"li")(42,"a",21),h._uU(43,"Siracusa - Caltanissetta"),h.qZA()(),h.TgZ(44,"li")(45,"a",22),h._uU(46,"Catania - Gela"),h.qZA()()()(),h.TgZ(47,"div",10)(48,"p",11),h._uU(49,"link utili"),h.qZA(),h.TgZ(50,"ul",23)(51,"li")(52,"a",24),h._uU(53,"Linee dismesse"),h.qZA(),h.TgZ(54,"p"),h._uU(55,"FS Italiane"),h.qZA()(),h.TgZ(56,"li")(57,"a",25),h._uU(58,"Regolamento Circolazione Treni"),h.qZA(),h.TgZ(59,"p"),h._uU(60,"RFI"),h.qZA()(),h.TgZ(61,"li")(62,"a",26),h._uU(63,"Piano Commerciale"),h.qZA(),h.TgZ(64,"p"),h._uU(65,"RFI"),h.qZA()()()()()()())},dependencies:[Gl,Rk],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%]{list-style:none;text-decoration:none;margin:0}img[_ngcontent-%COMP%]{height:3.7em}html[_ngcontent-%COMP%]{overflow-y:scroll}body[_ngcontent-%COMP%]{background:#b7b7b7 none repeat scroll 0 0;font-family:Open Sans,sans-serif}ul[_ngcontent-%COMP%]{padding:0}.clearfix[_ngcontent-%COMP%]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.clearfix[_ngcontent-%COMP%]{display:inline-block}*[_ngcontent-%COMP%]   html[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{height:1%}.clearfix[_ngcontent-%COMP%]{display:block}.layout[_ngcontent-%COMP%]{margin:0 auto;max-width:1170px;width:100%;padding:0 15px}.grid-3[_ngcontent-%COMP%]{width:25%;float:left;min-height:1px;padding-left:15px;padding-right:15px;position:relative}.footer-wrapper[_ngcontent-%COMP%]{padding:100px 0}.footer-text[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;margin:40px 0 0;text-align:justify}footer[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{color:#e1e1e1;font:18px/19px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]{margin-top:32px}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{line-height:25px}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"-";margin:0 5px 0 0}.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;line-height:34px;text-transform:capitalize}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:0 8px 0 0;color:#fff}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c7c7c7;font:13px/28px Open Sans,sans-serif;letter-spacing:1.2px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b4b4b4;font:13px/18px Open Sans,sans-serif;letter-spacing:1.2px;padding-bottom:10px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c7c7c7;font:italic 12px/18px Open Sans,sans-serif}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#22c489}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 200,"GRAD" 200,"opsz" 24;color:#fff}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin:1em}@media (max-width:980px){.layout[_ngcontent-%COMP%]{width:767px}.grid-3[_ngcontent-%COMP%]{width:50%}.footer-heading[_ngcontent-%COMP%]{margin-top:18px}}@media (max-width:640px){.layout[_ngcontent-%COMP%]{width:300px}.grid-3[_ngcontent-%COMP%]{width:100%}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;float:none;line-height:25px}}']})}return n})(),EL=(()=>{class n{constructor(t){this.router=t,this.title="SpotiRFI",this.router.events.subscribe(r=>{r instanceof Yi&&window.scrollTo(0,0)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Do))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,s){1&r&&h._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[v,yF,IL]})}return n})();const wL_firebaseConfig={apiKey:"AIzaSyBhT4vrImMOpXLps9RtD_GROoPflfGtM4U",authDomain:"spotirfi-cd7a9.firebaseapp.com",databaseURL:"https://spotirfi-cd7a9-default-rtdb.firebaseio.com",projectId:"spotirfi-cd7a9",storageBucket:"spotirfi-cd7a9.appspot.com",messagingSenderId:"207743558815",appId:"1:207743558815:web:1d28c36da0a303fca7eeaa",measurementId:"G-8Z6DVSWE34"};class CL{constructor(e,t,r,s,c){this.doc=e,this.delegate=t,this.zone=r,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??ee.e(108).then(ee.bind(ee,108))).catch(t=>{throw new h.vHH(5300,!1)}).then(({\u0275createEngine:t,\u0275AnimationRendererFactory:r})=>{const s=t(this.animationType,this.doc),c=new r(this.delegate,s,this.zone);return this.delegate=c,c})}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(0===r.\u0275type)return r;"boolean"==typeof r.throwOnSyntheticProps&&(r.throwOnSyntheticProps=!1);const s=new DL(r);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{const u=c.createRenderer(e,t);s.use(u)}).catch(c=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}}class DL{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,null!==this.replay){for(const t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,s){this.delegate.insertBefore(e,t,r,s)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return null!==this.replay&&e.startsWith("@")}}function AL(n="animations"){return(0,h.MR2)([{provide:h.FYo,useFactory:(e,t,r)=>new CL(e,t,r,n),deps:[ve,ic,h.R0b]},{provide:h.QbO,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}let SL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n,bootstrap:[EL]});static#n=this.\u0275inj=h.cJS({providers:[uP,AL()],imports:[Fg,vF,kx.initializeApp(wL_firebaseConfig),U1,yL,uF]})}return n})();ia().bootstrapModule(SL).catch(n=>console.error(n))},619:(on,Qe,ee)=>{ee.d(Qe,{X:()=>fe});var h=ee(645);class fe extends h.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const Me=super._subscribe(be);return!Me.closed&&be.next(this._value),Me}getValue(){const{hasError:be,thrownError:Me,_value:ve}=this;if(be)throw Me;return this._throwIfClosed(),ve}next(be){super.next(this._value=be)}}},592:(on,Qe,ee)=>{ee.d(Qe,{y:()=>Ot});var h=ee(305),fe=ee(394),H=ee(850),be=ee(407),Me=ee(653),ve=ee(674),dt=ee(441);let Ot=(()=>{class ie{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const ft=new ie;return ft.source=this,ft.operator=ke,ft}subscribe(ke,ft,Rt){const ze=function j(ie){return ie&&ie instanceof h.Lv||function q(ie){return ie&&(0,ve.m)(ie.next)&&(0,ve.m)(ie.error)&&(0,ve.m)(ie.complete)}(ie)&&(0,fe.Nn)(ie)}(ke)?ke:new h.Hp(ke,ft,Rt);return(0,dt.x)(()=>{const{operator:it,source:en}=this;ze.add(it?it.call(ze,en):en?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(ke){try{return this._subscribe(ke)}catch(ft){ke.error(ft)}}forEach(ke,ft){return new(ft=He(ft))((Rt,ze)=>{const it=new h.Hp({next:en=>{try{ke(en)}catch(Sn){ze(Sn),it.unsubscribe()}},error:ze,complete:Rt});this.subscribe(it)})}_subscribe(ke){var ft;return null===(ft=this.source)||void 0===ft?void 0:ft.subscribe(ke)}[H.L](){return this}pipe(...ke){return(0,be.U)(ke)(this)}toPromise(ke){return new(ke=He(ke))((ft,Rt)=>{let ze;this.subscribe(it=>ze=it,it=>Rt(it),()=>ft(ze))})}}return ie.create=qe=>new ie(qe),ie})();function He(ie){var qe;return null!==(qe=ie??Me.config.Promise)&&void 0!==qe?qe:Promise}},645:(on,Qe,ee)=>{ee.d(Qe,{x:()=>dt});var h=ee(592),fe=ee(394);const be=(0,ee(306).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=ee(39),ve=ee(441);let dt=(()=>{class He extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ie=new Ot(this,this);return ie.operator=j,ie}_throwIfClosed(){if(this.closed)throw new be}next(j){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(j)}})}error(j){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ie}=this;for(;ie.length;)ie.shift().error(j)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ie,isStopped:qe,observers:ke}=this;return ie||qe?fe.Lc:(this.currentObservers=null,ke.push(j),new fe.w0(()=>{this.currentObservers=null,(0,Me.P)(ke,j)}))}_checkFinalizedStatuses(j){const{hasError:ie,thrownError:qe,isStopped:ke}=this;ie?j.error(qe):ke&&j.complete()}asObservable(){const j=new h.y;return j.source=this,j}}return He.create=(q,j)=>new Ot(q,j),He})();class Ot extends dt{constructor(q,j){super(),this.destination=q,this.source=j}next(q){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ie||ie.call(j,q)}error(q){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ie||ie.call(j,q)}complete(){var q,j;null===(j=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===j||j.call(q)}_subscribe(q){var j,ie;return null!==(ie=null===(j=this.source)||void 0===j?void 0:j.subscribe(q))&&void 0!==ie?ie:fe.Lc}}},305:(on,Qe,ee)=>{ee.d(Qe,{Hp:()=>Rt,Lv:()=>ie});var h=ee(674),fe=ee(394),H=ee(653),be=ee(894),Me=ee(420);const ve=He("C",void 0,void 0);function He(pt,Ae,tt){return{kind:pt,value:Ae,error:tt}}var q=ee(599),j=ee(441);class ie extends fe.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,fe.Nn)(Ae)&&Ae.add(this)):this.destination=Sn}static create(Ae,tt,Zt){return new Rt(Ae,tt,Zt)}next(Ae){this.isStopped?en(function Ot(pt){return He("N",pt,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?en(function dt(pt){return He("E",void 0,pt)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?en(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function ke(pt,Ae){return qe.call(pt,Ae)}class ft{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:tt}=this;if(tt.next)try{tt.next(Ae)}catch(Zt){ze(Zt)}}error(Ae){const{partialObserver:tt}=this;if(tt.error)try{tt.error(Ae)}catch(Zt){ze(Zt)}else ze(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(tt){ze(tt)}}}class Rt extends ie{constructor(Ae,tt,Zt){let We;if(super(),(0,h.m)(Ae)||!Ae)We={next:Ae??void 0,error:tt??void 0,complete:Zt??void 0};else{let Ee;this&&H.config.useDeprecatedNextContext?(Ee=Object.create(Ae),Ee.unsubscribe=()=>this.unsubscribe(),We={next:Ae.next&&ke(Ae.next,Ee),error:Ae.error&&ke(Ae.error,Ee),complete:Ae.complete&&ke(Ae.complete,Ee)}):We=Ae}this.destination=new ft(We)}}function ze(pt){H.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(pt):(0,be.h)(pt)}function en(pt,Ae){const{onStoppedNotification:tt}=H.config;tt&&q.z.setTimeout(()=>tt(pt,Ae))}const Sn={closed:!0,next:Me.Z,error:function it(pt){throw pt},complete:Me.Z}},394:(on,Qe,ee)=>{ee.d(Qe,{Lc:()=>ve,w0:()=>Me,Nn:()=>dt});var h=ee(674);const H=(0,ee(306).d)(He=>function(j){He(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ie,qe)=>`${qe+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var be=ee(39);class Me{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ke of j)ke.remove(this);else j.remove(this);const{initialTeardown:ie}=this;if((0,h.m)(ie))try{ie()}catch(ke){q=ke instanceof H?ke.errors:[ke]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const ke of qe)try{Ot(ke)}catch(ft){q=q??[],ft instanceof H?q=[...q,...ft.errors]:q.push(ft)}}if(q)throw new H(q)}}add(q){var j;if(q&&q!==this)if(this.closed)Ot(q);else{if(q instanceof Me){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(q)}}_hasParent(q){const{_parentage:j}=this;return j===q||Array.isArray(j)&&j.includes(q)}_addParent(q){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(q),j):j?[j,q]:q}_removeParent(q){const{_parentage:j}=this;j===q?this._parentage=null:Array.isArray(j)&&(0,be.P)(j,q)}remove(q){const{_finalizers:j}=this;j&&(0,be.P)(j,q),q instanceof Me&&q._removeParent(this)}}Me.EMPTY=(()=>{const He=new Me;return He.closed=!0,He})();const ve=Me.EMPTY;function dt(He){return He instanceof Me||He&&"closed"in He&&(0,h.m)(He.remove)&&(0,h.m)(He.add)&&(0,h.m)(He.unsubscribe)}function Ot(He){(0,h.m)(He)?He():He.unsubscribe()}},653:(on,Qe,ee)=>{ee.d(Qe,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},251:(on,Qe,ee)=>{ee.d(Qe,{x:()=>fe});var h=ee(305);function fe(be,Me,ve,dt,Ot){return new H(be,Me,ve,dt,Ot)}class H extends h.Lv{constructor(Me,ve,dt,Ot,He,q){super(Me),this.onFinalize=He,this.shouldUnsubscribe=q,this._next=ve?function(j){try{ve(j)}catch(ie){Me.error(ie)}}:super._next,this._error=Ot?function(j){try{Ot(j)}catch(ie){Me.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=dt?function(){try{dt()}catch(j){Me.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},398:(on,Qe,ee)=>{ee.d(Qe,{U:()=>H});var h=ee(360),fe=ee(251);function H(be,Me){return(0,h.e)((ve,dt)=>{let Ot=0;ve.subscribe((0,fe.x)(dt,He=>{dt.next(be.call(Me,He,Ot++))}))})}},599:(on,Qe,ee)=>{ee.d(Qe,{z:()=>h});const h={setTimeout(fe,H,...be){const{delegate:Me}=h;return Me?.setTimeout?Me.setTimeout(fe,H,...be):setTimeout(fe,H,...be)},clearTimeout(fe){const{delegate:H}=h;return(H?.clearTimeout||clearTimeout)(fe)},delegate:void 0}},850:(on,Qe,ee)=>{ee.d(Qe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},39:(on,Qe,ee)=>{function h(fe,H){if(fe){const be=fe.indexOf(H);0<=be&&fe.splice(be,1)}}ee.d(Qe,{P:()=>h})},306:(on,Qe,ee)=>{function h(fe){const be=fe(Me=>{Error.call(Me),Me.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}ee.d(Qe,{d:()=>h})},441:(on,Qe,ee)=>{ee.d(Qe,{O:()=>be,x:()=>H});var h=ee(653);let fe=null;function H(Me){if(h.config.useDeprecatedSynchronousErrorHandling){const ve=!fe;if(ve&&(fe={errorThrown:!1,error:null}),Me(),ve){const{errorThrown:dt,error:Ot}=fe;if(fe=null,dt)throw Ot}}else Me()}function be(Me){h.config.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=Me)}},737:(on,Qe,ee)=>{function h(fe){return fe}ee.d(Qe,{y:()=>h})},674:(on,Qe,ee)=>{function h(fe){return"function"==typeof fe}ee.d(Qe,{m:()=>h})},360:(on,Qe,ee)=>{ee.d(Qe,{A:()=>fe,e:()=>H});var h=ee(674);function fe(be){return(0,h.m)(be?.lift)}function H(be){return Me=>{if(fe(Me))return Me.lift(function(ve){try{return be(ve,this)}catch(dt){this.error(dt)}});throw new TypeError("Unable to lift unknown Observable type")}}},420:(on,Qe,ee)=>{function h(){}ee.d(Qe,{Z:()=>h})},407:(on,Qe,ee)=>{ee.d(Qe,{U:()=>H,z:()=>fe});var h=ee(737);function fe(...be){return H(be)}function H(be){return 0===be.length?h.y:1===be.length?be[0]:function(ve){return be.reduce((dt,Ot)=>Ot(dt),ve)}}},894:(on,Qe,ee)=>{ee.d(Qe,{h:()=>H});var h=ee(653),fe=ee(599);function H(be){fe.z.setTimeout(()=>{const{onUnhandledError:Me}=h.config;if(!Me)throw be;Me(be)})}},825:(on,Qe,ee)=>{ee.d(Qe,{IO:()=>qe,SB:()=>dt,X$:()=>fe,ZE:()=>Zt,ZN:()=>tt,eR:()=>He,jt:()=>H,k1:()=>We,l3:()=>h,oB:()=>ve,pV:()=>j,ru:()=>be,vP:()=>Me});const h="*";function fe(Ee,F){return{type:7,name:Ee,definitions:F,options:{}}}function H(Ee,F=null){return{type:4,styles:F,timings:Ee}}function be(Ee,F=null){return{type:3,steps:Ee,options:F}}function Me(Ee,F=null){return{type:2,steps:Ee,options:F}}function ve(Ee){return{type:6,styles:Ee,offset:null}}function dt(Ee,F,Re){return{type:0,name:Ee,styles:F,options:Re}}function He(Ee,F,Re=null){return{type:1,expr:Ee,animation:F,options:Re}}function j(Ee=null){return{type:9,options:Ee}}function qe(Ee,F,Re=null){return{type:11,selector:Ee,animation:F,options:Re}}class tt{constructor(F=0,Re=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=F+Re}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(F=>F()),this._onDoneFns=[])}onStart(F){this._originalOnStartFns.push(F),this._onStartFns.push(F)}onDone(F){this._originalOnDoneFns.push(F),this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(F=>F()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(F){this._position=this.totalTime?F*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(F){const Re="start"==F?this._onStartFns:this._onDoneFns;Re.forEach(It=>It()),Re.length=0}}class Zt{constructor(F){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=F;let Re=0,It=0,xn=0;const ei=this.players.length;0==ei?queueMicrotask(()=>this._onFinish()):this.players.forEach(Sr=>{Sr.onDone(()=>{++Re==ei&&this._onFinish()}),Sr.onDestroy(()=>{++It==ei&&this._onDestroy()}),Sr.onStart(()=>{++xn==ei&&this._onStart()})}),this.totalTime=this.players.reduce((Sr,xr)=>Math.max(Sr,xr.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(F=>F()),this._onDoneFns=[])}init(){this.players.forEach(F=>F.init())}onStart(F){this._onStartFns.push(F)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(F=>F()),this._onStartFns=[])}onDone(F){this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(F=>F.play())}pause(){this.players.forEach(F=>F.pause())}restart(){this.players.forEach(F=>F.restart())}finish(){this._onFinish(),this.players.forEach(F=>F.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(F=>F.destroy()),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}reset(){this.players.forEach(F=>F.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(F){const Re=F*this.totalTime;this.players.forEach(It=>{const xn=It.totalTime?Math.min(1,Re/It.totalTime):1;It.setPosition(xn)})}getPosition(){const F=this.players.reduce((Re,It)=>null===Re||It.totalTime>Re.totalTime?It:Re,null);return null!=F?F.getPosition():0}beforeDestroy(){this.players.forEach(F=>{F.beforeDestroy&&F.beforeDestroy()})}triggerCallback(F){const Re="start"==F?this._onStartFns:this._onDoneFns;Re.forEach(It=>It()),Re.length=0}}const We="!"},212:(on,Qe,ee)=>{ee.d(Qe,{QbO:()=>op,tb:()=>qh,AFp:()=>Vl,ip1:()=>Ey,hGG:()=>yO,z2F:()=>za,Ojb:()=>sp,sBO:()=>YT,Sil:()=>OE,_Vd:()=>ql,EJc:()=>QA,Xts:()=>ws,SBq:()=>vp,lqb:()=>Wr,qLn:()=>Dc,vpe:()=>Ji,XFs:()=>Pt,OlP:()=>Ut,zs3:()=>gi,ZZ4:()=>c0,aQg:()=>l0,soG:()=>Ym,YKP:()=>Pm,h0i:()=>xu,R0b:()=>jn,FiY:()=>pa,Lbi:()=>Ia,g9A:()=>ip,Qsj:()=>ET,FYo:()=>r0,JOm:()=>f_,q3G:()=>wc,tp0:()=>Rl,Rgc:()=>Ba,dDg:()=>GE,eoX:()=>by,q4F:()=>PE,GfV:()=>vy,s_b:()=>om,ifc:()=>os,T8G:()=>oC,VuI:()=>vS,MMx:()=>km,Lck:()=>Yv,eFA:()=>Zh,f3M:()=>Vt,X6Q:()=>Dy,$WT:()=>hi,MR2:()=>Id,Cb_:()=>nP,_c5:()=>Ga,qFp:()=>OO,r_H:()=>Db,rg0:()=>CT,c2e:()=>Fu,zSh:()=>Ol,wAp:()=>Ko,I6F:()=>Po,vHH:()=>Se,lri:()=>$A,rWj:()=>Zm,JZr:()=>ui,EiD:()=>Dx,mCW:()=>S_,qzn:()=>vi,JVY:()=>BP,pB0:()=>aT,eBb:()=>zP,L6k:()=>jP,LAX:()=>sT,cg1:()=>kv,kuF:()=>Pr,kL8:()=>Dh,dqk:()=>ir,Z0I:()=>Nt,eJc:()=>Ho,QGY:()=>BI,F4k:()=>BD,RDi:()=>$o,AaK:()=>Nn,z3N:()=>Rs,qOj:()=>cv,Xq5:()=>q0,TTD:()=>ra,jDz:()=>Qv,xp6:()=>LT,uIk:()=>ru,Tol:()=>uu,ekj:()=>mr,Suo:()=>jm,Xpm:()=>ec,lG2:()=>tc,Yz7:()=>z,cJS:()=>Ue,oAB:()=>ri,Yjl:()=>mf,Y36:()=>Ac,_UZ:()=>Pv,BQk:()=>js,ynx:()=>Na,qZA:()=>_m,TgZ:()=>gm,EpF:()=>CI,n5z:()=>_d,Ikx:()=>Ov,LFG:()=>ur,$8M:()=>qi,$Z:()=>VT,NdJ:()=>Du,CRH:()=>ly,oxw:()=>jD,Hsn:()=>GI,F$t:()=>Uv,Q6J:()=>rI,kEZ:()=>Fm,l5B:()=>iy,iGM:()=>_A,KtG:()=>Lg,CHM:()=>ab,uOi:()=>Kb,P3R:()=>O_,Udp:()=>pv,YNc:()=>hh,_uU:()=>KD,Oqu:()=>Gv,hij:()=>qv,AsE:()=>Zv,lnq:()=>JI,Gf:()=>cy});let fe=null,be=1;function ve(i){const o=fe;return fe=i,o}function qe(i){if((!tt(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==be)){if(!i.producerMustRecompute(i)&&!en(i))return i.dirty=!1,void(i.lastCleanEpoch=be);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=be}}function en(i){Zt(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],l=i.producerLastReadVersion[o];if(l!==a.version||(qe(a),l!==a.version))return!0}return!1}function Ae(i,o){if(function We(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Zt(i),1===i.liveConsumerNode.length)for(let l=0;l<i.producerNode.length;l++)Ae(i.producerNode[l],i.producerIndexOfThis[l]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const l=i.liveConsumerIndexOfThis[o],d=i.liveConsumerNode[o];Zt(d),d.producerIndexOfThis[l]=o}}function tt(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Zt(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Sr=null;var wn=ee(645),Rr=ee(394),Mr=ee(619),mn=ee(398);function Et(i){for(let o in i)if(i[o]===Et)return o;throw Error("Could not find renamed property on target object.")}function Gr(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function Nn(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Nn).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function oo(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const so=Et({__forward_ref__:Et});function Ws(i){return i.__forward_ref__=Ws,i.toString=function(){return Nn(this())},i}function Ve(i){return kt(i)?i():i}function kt(i){return"function"==typeof i&&i.hasOwnProperty(so)&&i.__forward_ref__===Ws}function mt(i){return i&&!!i.\u0275providers}const ui="https://g.co/ng/security#xss";class Se extends Error{constructor(o,a){super(Pr(o,a)),this.code=o}}function Pr(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}const Fn=Et({\u0275cmp:Et}),Jo=Et({\u0275dir:Et}),tn=Et({\u0275pipe:Et}),es=Et({\u0275mod:Et}),gt=Et({\u0275fac:Et}),Or=Et({__NG_ELEMENT_ID__:Et}),ao=Et({__NG_ENV_ID__:Et});function st(i){return"string"==typeof i?i:null==i?"":String(i)}function Ya(i,o){throw new Se(-201,!1)}function rt(i,o){null==i&&function Ze(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function z(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ue(i){return{providers:i.providers||[],imports:i.imports||[]}}function ut(i){return zt(i,Hi)||zt(i,qu)}function Nt(i){return null!==ut(i)}function zt(i,o){return i.hasOwnProperty(o)?i[o]:null}function gn(i){return i&&(i.hasOwnProperty(ns)||i.hasOwnProperty(gg))?i[ns]:null}const Hi=Et({\u0275prov:Et}),ns=Et({\u0275inj:Et}),qu=Et({ngInjectableDef:Et}),gg=Et({ngInjectorDef:Et});var Pt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Pt||{});let ef;function tf(){return ef}function ti(i){const o=ef;return ef=i,o}function sn(i,o,a){const l=ut(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Pt.Optional?null:void 0!==o?o:void Ya()}const ir=globalThis;class Ut{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=z({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cl={},ni="__NG_DI_FLAG__",Yu="ngTempTokenPath",Gy=/\n/gm,sf="__source";let rs;function ho(i){const o=rs;return rs=i,o}function Zy(i,o=Pt.Default){if(void 0===rs)throw new Se(-203,!1);return null===rs?sn(i,void 0,o):rs.get(i,o&Pt.Optional?null:void 0,o)}function ur(i,o=Pt.Default){return(tf()||Zy)(Ve(i),o)}function Vt(i,o=Pt.Default){return ur(i,Ku(o))}function Ku(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function ll(i){const o=[];for(let a=0;a<i.length;a++){const l=Ve(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Se(900,!1);let d,p=Pt.Default;for(let _=0;_<l.length;_++){const b=l[_],E=af(b);"number"==typeof E?-1===E?d=b.token:p|=E:d=b}o.push(ur(d,p))}else o.push(ur(l))}return o}function is(i,o){return i[ni]=o,i.prototype[ni]=o,i}function af(i){return i[ni]}function ko(i){return{toString:i}.toString()}var Ks=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Ks||{}),os=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(os||{});const Si={},Yt=[];function Xa(i,o,a){let l=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}a=d+1}}function ul(i,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],_=a[l++],b=a[l++];i.setAttribute(o,_,b,p)}else{const p=d,_=a[++l];Yy(p)?i.setProperty(o,p,_):i.setAttribute(o,p,_),l++}}return l}function lf(i){return 3===i||4===i||6===i}function Yy(i){return 64===i.charCodeAt(0)}function Qs(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Xs(i,a,d,null,-1===a||2===a?o[++l]:null)}}return i}function Xs(i,o,a,l,d){let p=0,_=i.length;if(-1===o)_=-1;else for(;p<i.length;){const b=i[p++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=p-1;break}}}for(;p<i.length;){const b=i[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,o),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}const fo="ng-template";function uf(i,o,a){let l=0,d=!0;for(;l<i.length;){let p=i[l++];if("string"==typeof p&&d){const _=i[l++];if(a&&"class"===p&&-1!==Xa(_.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<i.length&&"string"==typeof(p=i[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function bg(i){return 4===i.type&&i.value!==fo}function $i(i,o,a){return o===(4!==i.type||a?i.value:fo)}function Qu(i,o,a){let l=4;const d=i.attrs||[],p=function hf(i){for(let o=0;o<i.length;o++)if(lf(i[o]))return o;return i.length}(d);let _=!1;for(let b=0;b<o.length;b++){const E=o[b];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!$i(i,E,a)||""===E&&1===o.length){if(xi(l))return!1;_=!0}}else{const C=8&l?E:o[++b];if(8&l&&null!==i.attrs){if(!uf(i.attrs,C,a)){if(xi(l))return!1;_=!0}continue}const M=Cw(8&l?"class":E,d,bg(i),a);if(-1===M){if(xi(l))return!1;_=!0;continue}if(""!==C){let N;N=M>p?"":d[M+1].toLowerCase();const U=8&l?N:null;if(U&&-1!==Xa(U,C,0)||2&l&&C!==N){if(xi(l))return!1;_=!0}}}}else{if(!_&&!xi(l)&&!xi(E))return!1;if(_&&xi(E))continue;_=!1,l=E|1&l}}return xi(l)||_}function xi(i){return 0==(1&i)}function Cw(i,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const _=o[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function Qy(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function df(i,o,a=!1){for(let l=0;l<o.length;l++)if(Qu(i,o[l],a))return!0;return!1}function Xy(i,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function Xu(i,o){return i?":not("+o.trim()+")":o}function Ja(i){let o=i[0],a=1,l=2,d="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const b=i[++a];d+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!xi(_)&&(o+=Xu(p,d),d=""),l=_,p=p||!xi(l);a++}return""!==d&&(o+=Xu(p,d)),o}function ec(i){return ko(()=>{const o=dl(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ks.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||os.Emulated,styles:i.styles||Yt,_:null,schemas:i.schemas||null,tView:null,id:""};Ig(a);const l=i.dependencies;return a.directiveDefs=Ju(l,!1),a.pipeDefs=Ju(l,!0),a.id=function Ri(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Aw(i){return Mt(i)||or(i)}function pf(i){return null!==i}function ri(i){return ko(()=>({type:i.type,bootstrap:i.bootstrap||Yt,declarations:i.declarations||Yt,imports:i.imports||Yt,exports:i.exports||Yt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Js(i,o){if(null==i)return Si;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}function tc(i){return ko(()=>{const o=dl(i);return Ig(o),o})}function mf(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Mt(i){return i[Fn]||null}function or(i){return i[Jo]||null}function kr(i){return i[tn]||null}function hi(i){const o=Mt(i)||or(i)||kr(i);return null!==o&&o.standalone}function Nr(i,o){const a=i[es]||null;if(!a&&!0===o)throw new Error(`Type ${Nn(i)} does not have '\u0275mod' property.`);return a}function dl(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Si,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Yt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Js(i.inputs,o),outputs:Js(i.outputs),debugInfo:null}}function Ig(i){i.features?.forEach(o=>o(i))}function Ju(i,o){if(!i)return null;const a=o?kr:Aw;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(pf)}const Rn=0,we=1,nt=2,Tn=3,Mi=4,yr=5,po=6,ea=7,at=8,Fr=9,Pi=10,_t=11,hl=12,_f=13,nc=14,Cn=15,ss=16,ta=17,mo=18,rc=19,ed=20,go=21,td=22,Gi=23,ct=25,nd=1,fi=7,cs=9,Vn=10;var fl=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(fl||{});function qr(i){return Array.isArray(i)&&"object"==typeof i[nd]}function br(i){return Array.isArray(i)&&!0===i[nd]}function Eg(i){return 0!=(4&i.flags)}function ls(i){return i.componentOffset>-1}function vf(i){return 1==(1&i.flags)}function Oi(i){return!!i.template}function yf(i){return 0!=(512&i[nt])}function ds(i,o){return i.hasOwnProperty(gt)?i[gt]:null}class If{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ra(){return Ef}function Ef(i){return i.type.prototype.ngOnChanges&&(i.setInput=rd),hs}function hs(){const i=Pg(this),o=i?.current;if(o){const a=i.previous;if(a===Si)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function rd(i,o,a,l){const d=this.declaredInputs[a],p=Pg(i)||function nb(i,o){return i[wf]=o}(i,{previous:Si,current:null}),_=p.current||(p.current={}),b=p.previous,E=b[d];_[d]=new If(E&&E.currentValue,o,b===Si),i[l]=o}ra.ngInherit=!0;const wf="__ngSimpleChanges__";function Pg(i){return i[wf]||null}const No=function(i,o,a){};let ic=!1;function Dn(i){for(;Array.isArray(i);)i=i[Rn];return i}function id(i,o){return Dn(o[i])}function Lr(i,o){return Dn(o[i.index])}function od(i,o){return i.data[o]}function sr(i,o){const a=o[i];return qr(a)?a:a[Rn]}function Sf(i){return 128==(128&i[nt])}function Lo(i,o){return null==o?null:i[o]}function kg(i){i[ta]=0}function Pw(i){1024&i[nt]||(i[nt]|=1024,Sf(i)&&oc(i))}function sd(i){return 9216&i[nt]||i[Gi]?.dirty}function gl(i){sd(i)?oc(i):64&i[nt]&&(function Cf(){return ic}()?(i[nt]|=1024,oc(i)):i[Pi].changeDetectionScheduler?.notify())}function oc(i){i[Pi].changeDetectionScheduler?.notify();let o=fs(i);for(;null!==o&&!(8192&o[nt])&&(o[nt]|=8192,Sf(o));)o=fs(o)}function ia(i,o){if(256==(256&i[nt]))throw new Se(911,!1);null===i[go]&&(i[go]=[]),i[go].push(o)}function fs(i){const o=i[Tn];return br(o)?o[Tn]:o}const lt={lFrame:Il(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xf(){return lt.bindingsEnabled}function oa(){return null!==lt.skipHydrationRootTNode}function oe(){return lt.lFrame.lView}function Bt(){return lt.lFrame.tView}function ab(i){return lt.lFrame.contextLView=i,i[at]}function Lg(i){return lt.lFrame.contextLView=null,i}function an(){let i=cb();for(;null!==i&&64===i.type;)i=i.parent;return i}function cb(){return lt.lFrame.currentTNode}function _o(i,o){const a=lt.lFrame;a.currentTNode=i,a.isParent=o}function sc(){return lt.lFrame.isParent}function _l(){lt.lFrame.isParent=!1}function dr(){const i=lt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function ms(){return lt.lFrame.bindingIndex}function vo(){return lt.lFrame.bindingIndex++}function gs(i){const o=lt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function vl(i,o){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,_n(o)}function _n(i){lt.lFrame.currentDirectiveIndex=i}function aa(){return lt.lFrame.currentQueryIndex}function yl(i){lt.lFrame.currentQueryIndex=i}function bl(i){const o=i[we];return 2===o.type?o.declTNode:1===o.type?i[yr]:null}function Of(i,o,a){if(a&Pt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&Pt.Host||(d=bl(p),null===d||(p=p[nc],10&d.type))););if(null===d)return!1;o=d,i=p}const l=lt.lFrame=kf();return l.currentTNode=o,l.lView=i,!0}function dd(i){const o=kf(),a=i[we];lt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function kf(){const i=lt.lFrame,o=null===i?null:i.child;return null===o?Il(i):o}function Il(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Bg(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Nf=Bg;function hd(){const i=Bg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ir(){return lt.lFrame.selectedIndex}function _s(i){lt.lFrame.selectedIndex=i}function Ft(){const i=lt.lFrame;return od(i.tView,i.selectedIndex)}let zg=!0;function ac(){return zg}function Vr(i){zg=i}function cn(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:C,ngOnDestroy:x}=p;_&&(i.contentHooks??=[]).push(-a,_),b&&((i.contentHooks??=[]).push(a,b),(i.contentCheckHooks??=[]).push(a,b)),E&&(i.viewHooks??=[]).push(-a,E),C&&((i.viewHooks??=[]).push(a,C),(i.viewCheckHooks??=[]).push(a,C)),null!=x&&(i.destroyHooks??=[]).push(a,x)}}function Ni(i,o,a){cc(i,o,3,a)}function Vo(i,o,a,l){(3&i[nt])===a&&cc(i,o,a,l)}function wl(i,o){let a=i[nt];(3&a)===o&&(a&=16383,a+=1,i[nt]=a)}function cc(i,o,a,l){const p=l??-1,_=o.length-1;let b=0;for(let E=void 0!==l?65535&i[ta]:0;E<_;E++)if("number"==typeof o[E+1]){if(b=o[E],null!=l&&b>=l)break}else o[E]<0&&(i[ta]+=65536),(b<p||-1==p)&&(Lf(i,a,o,E),i[ta]=(4294901760&i[ta])+E+2),E++}function vs(i,o){No(4,i,o);const a=ve(null);try{o.call(i)}finally{ve(a),No(5,i,o)}}function Lf(i,o,a,l){const d=a[l]<0,p=a[l+1],b=i[d?-a[l]:a[l]];d?i[nt]>>14<i[ta]>>16&&(3&i[nt])===o&&(i[nt]+=16384,vs(b,p)):vs(b,p)}const ca=-1;class Tl{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ye(i){return i!==ca}function Ur(i){return 32767&i}function la(i,o){let a=function Bf(i){return i>>16}(i),l=o;for(;a>0;)l=l[nc],a--;return l}let jf=!0;function ys(i){const o=jf;return jf=i,o}const Hg=255,yo=5;let vt=0;const Fi={};function ua(i,o){const a=uc(i,o);if(-1!==a)return a;const l=o[we];l.firstCreatePass&&(i.injectorIndex=o.length,fd(l.data,i),fd(o,null),fd(l.blueprint,null));const d=pd(i,o),p=i.injectorIndex;if(Ye(d)){const _=Ur(d),b=la(d,o),E=b[we].data;for(let C=0;C<8;C++)o[p+C]=b[_+C]|E[_+C]}return o[p+8]=d,p}function fd(i,o){i.push(0,0,0,0,0,0,0,0,o)}function uc(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function pd(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=ii(d),null===l)return ca;if(a++,d=d[nc],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return ca}function md(i,o,a){!function pb(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Or)&&(l=a[Or]),null==l&&(l=a[Or]=vt++);const d=l&Hg;o.data[i+(d>>yo)]|=1<<d}(i,o,a)}function Cl(i,o,a){if(a&Pt.Optional||void 0!==i)return i;Ya()}function $g(i,o,a,l){if(a&Pt.Optional&&void 0===l&&(l=null),!(a&(Pt.Self|Pt.Host))){const d=i[Fr],p=ti(void 0);try{return d?d.get(o,l,a&Pt.Optional):sn(o,l,a&Pt.Optional)}finally{ti(p)}}return Cl(l,0,a)}function Kn(i,o,a,l=Pt.Default,d){if(null!==i){if(2048&o[nt]&&!(l&Pt.Self)){const _=function hr(i,o,a,l,d){let p=i,_=o;for(;null!==p&&null!==_&&2048&_[nt]&&!(512&_[nt]);){const b=da(p,_,a,l|Pt.Self,Fi);if(b!==Fi)return b;let E=p.parent;if(!E){const C=_[ed];if(C){const x=C.get(a,Fi,l);if(x!==Fi)return x}E=ii(_),_=_[nc]}p=E}return d}(i,o,a,l,Fi);if(_!==Fi)return _}const p=da(i,o,a,l,Fi);if(p!==Fi)return p}return $g(o,a,l,d)}function da(i,o,a,l,d){const p=function Hf(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Or)?i[Or]:void 0;return"number"==typeof o?o>=0?o&Hg:gd:o}(a);if("function"==typeof p){if(!Of(o,i,l))return l&Pt.Host?Cl(d,0,l):$g(o,a,l,d);try{let _;if(_=p(l),null!=_||l&Pt.Optional)return _;Ya()}finally{Nf()}}else if("number"==typeof p){let _=null,b=uc(i,o),E=ca,C=l&Pt.Host?o[Cn][yr]:null;for((-1===b||l&Pt.SkipSelf)&&(E=-1===b?pd(i,o):o[b+8],E!==ca&&pi(l,!1)?(_=o[we],b=Ur(E),o=la(E,o)):b=-1);-1!==b;){const x=o[we];if(bs(p,b,x.data)){const M=mb(b,o,a,_,l,C);if(M!==Fi)return M}E=o[b+8],E!==ca&&pi(l,o[we].data[b+8]===C)&&bs(p,b,o)?(_=x,b=Ur(E),o=la(E,o)):b=-1}}return d}function mb(i,o,a,l,d,p){const _=o[we],b=_.data[i+8],x=Uo(b,_,a,null==l?ls(b)&&jf:l!=_&&0!=(3&b.type),d&Pt.Host&&p===b);return null!==x?bo(o,_,x,b):Fi}function Uo(i,o,a,l,d){const p=i.providerIndexes,_=o.data,b=1048575&p,E=i.directiveStart,x=p>>20,N=d?b+x:i.directiveEnd;for(let U=l?b:b+x;U<N;U++){const Q=_[U];if(U<E&&a===Q||U>=E&&Q.type===a)return U}if(d){const U=_[E];if(U&&Oi(U)&&U.type===a)return E}return null}function bo(i,o,a,l){let d=i[a];const p=o.data;if(function hb(i){return i instanceof Tl}(d)){const _=d;_.resolving&&function zi(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Se(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Lt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():st(i)}(p[a]));const b=ys(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?ti(_.injectImpl):null;Of(i,l,Pt.Default);try{d=i[a]=_.factory(void 0,p,i,l),o.firstCreatePass&&a>=l.directiveStart&&function An(i,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const _=Ef(o);(a.preOrderHooks??=[]).push(i,_),(a.preOrderCheckHooks??=[]).push(i,_)}d&&(a.preOrderHooks??=[]).push(0-i,d),p&&((a.preOrderHooks??=[]).push(i,p),(a.preOrderCheckHooks??=[]).push(i,p))}(a,p[a],o)}finally{null!==C&&ti(C),ys(b),_.resolving=!1,Nf()}}return d}function bs(i,o,a){return!!(a[o+(i>>yo)]&1<<i)}function pi(i,o){return!(i&Pt.Self||i&Pt.Host&&o)}class vn{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Kn(this._tNode,this._lView,o,Ku(l),a)}}function gd(){return new vn(an(),oe())}function _d(i){return ko(()=>{const o=i.prototype.constructor,a=o[gt]||Kt(o),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[gt]||Kt(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Kt(i){return kt(i)?()=>{const o=Kt(Ve(i));return o&&o()}:ds(i)}function ii(i){const o=i[we],a=o.type;return 2===a?o.declTNode:1===a?i[yr]:null}function qi(i){return function zf(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(lf(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(an(),i)}const Bo="__parameters__";function Eo(i,o,a){return ko(()=>{const l=function Io(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return b.annotation=_,b;function b(E,C,x){const M=E.hasOwnProperty(Bo)?E[Bo]:Object.defineProperty(E,Bo,{value:[]})[Bo];for(;M.length<=x;)M.push(null);return(M[x]=M[x]||[]).push(_),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function Zr(i,o){i.forEach(a=>Array.isArray(a)?Zr(a,o):o(a))}function Dl(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Al(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Br(i,o,a){let l=jo(i,o);return l>=0?i[1|l]=a:(l=~l,function Zf(i,o,a,l){let d=i.length;if(d==o)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Wf(i,o){const a=jo(i,o);if(a>=0)return i[1|a]}function jo(i,o){return function pc(i,o,a){let l=0,d=i.length>>a;for(;d!==l;){const p=l+(d-l>>1),_=i[p<<a];if(o===_)return p<<a;_>o?d=p:l=p+1}return~(d<<a)}(i,o,1)}const pa=is(Eo("Optional"),8),Rl=is(Eo("SkipSelf"),4),ws=new Ut("ENVIRONMENT_INITIALIZER"),Qf=new Ut("INJECTOR",-1),Xf=new Ut("INJECTOR_DEF_TYPES");class To{get(o,a=cl){if(a===cl){const l=new Error(`NullInjectorError: No provider for ${Nn(o)}!`);throw l.name="NullInjectorError",l}return a}}function Id(i){return{\u0275providers:i}}function Jf(...i){return{\u0275providers:Ml(0,i),\u0275fromNgModule:!0}}function Ml(i,...o){const a=[],l=new Set;let d;const p=_=>{a.push(_)};return Zr(o,_=>{const b=_;Ts(b,p,[],l)&&(d||=[],d.push(b))}),void 0!==d&&Pl(d,p),a}function Pl(i,o){for(let a=0;a<i.length;a++){const{ngModule:l,providers:d}=i[a];vc(d,p=>{o(p,l)})}}function Ts(i,o,a,l){if(!(i=Ve(i)))return!1;let d=null,p=gn(i);const _=!p&&Mt(i);if(p||_){if(_&&!_.standalone)return!1;d=i}else{const E=i.ngModule;if(p=gn(E),!p)return!1;d=E}const b=l.has(d);if(_){if(b)return!1;if(l.add(d),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const C of E)Ts(C,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let C;l.add(d);try{Zr(p.imports,x=>{Ts(x,o,a,l)&&(C||=[],C.push(x))})}finally{}void 0!==C&&Pl(C,o)}if(!b){const C=ds(d)||(()=>new d);o({provide:d,useFactory:C,deps:Yt},d),o({provide:Xf,useValue:d,multi:!0},d),o({provide:ws,useValue:()=>ur(d),multi:!0},d)}const E=p.providers;if(null!=E&&!b){const C=i;vc(E,x=>{o(x,C)})}}}return d!==i&&void 0!==i.providers}function vc(i,o){for(let a of i)mt(a)&&(a=a.\u0275providers),Array.isArray(a)?vc(a,o):o(a)}const t_=Et({provide:String,useValue:Et});function ep(i){return null!==i&&"object"==typeof i&&t_ in i}function _a(i){return"function"==typeof i}const Ol=new Ut("Set Injector scope."),Ds={},Cb={};let kl;function wd(){return void 0===kl&&(kl=new To),kl}class Wr{}class va extends Wr{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dd(o,_=>this.processProvider(_)),this.records.set(Qf,Ki(void 0,this)),d.has("environment")&&this.records.set(Wr,Ki(void 0,this));const p=this.records.get(Ol);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Xf,Yt,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=ho(this),l=ti(void 0);try{return o()}finally{ho(a),ti(l)}}get(o,a=cl,l=Pt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ao))return o[ao](this);l=Ku(l);const p=ho(this),_=ti(void 0);try{if(!(l&Pt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function Cd(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ut}(o)&&ut(o);E=C&&this.injectableDefInScope(C)?Ki(As(o),Ds):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&Pt.Self?wd():this.parent).get(o,a=l&Pt.Optional&&a===cl?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[Yu]=b[Yu]||[]).unshift(Nn(o)),p)throw b;return function Wy(i,o,a,l){const d=i[Yu];throw o[sf]&&d.unshift(o[sf]),i.message=function cf(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=Nn(o);if(Array.isArray(o))d=o.map(Nn).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];p.push(_+":"+("string"==typeof b?JSON.stringify(b):Nn(b)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Gy,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Yu]=null,i}(b,o,"R3InjectorError",this.source)}throw b}finally{ti(_),ho(p)}}resolveInjectorInitializers(){const o=ho(this),a=ti(void 0);try{const d=this.get(ws,Yt,Pt.Self);for(const p of d)p()}finally{ho(o),ti(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(Nn(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(o){let a=_a(o=Ve(o))?o:Ve(o&&o.provide);const l=function Td(i){return ep(i)?Ki(void 0,i.useValue):Ki(function Yi(i,o,a){let l;if(_a(i)){const d=Ve(i);return ds(d)||As(d)}if(ep(i))l=()=>Ve(i.useValue);else if(function n_(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...ll(i.deps||[]));else if(function Cs(i){return!(!i||!i.useExisting)}(i))l=()=>ur(Ve(i.useExisting));else{const d=Ve(i&&(i.useClass||i.provide));if(!function ya(i){return!!i.deps}(i))return ds(d)||As(d);l=()=>new d(...ll(i.deps))}return l}(i),Ds)}(o);if(!_a(o)&&!0===o.multi){let d=this.records.get(a);d||(d=Ki(void 0,Ds,!0),d.factory=()=>ll(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Ds&&(a.value=Cb,a.value=a.factory()),"object"==typeof a.value&&a.value&&function yc(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Ve(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function As(i){const o=ut(i),a=null!==o?o.factory:ds(i);if(null!==a)return a;if(i instanceof Ut)throw new Se(204,!1);if(i instanceof Function)return function Co(i){if(i.length>0)throw new Se(204,!1);const a=function Wn(i){return i&&(i[Hi]||i[qu])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Se(204,!1)}function Ki(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function Dd(i,o){for(const a of i)Array.isArray(a)?Dd(a,o):a&&mt(a)?Dd(a.\u0275providers,o):o(a)}function Db(i,o){i instanceof va&&i.assertNotDestroyed();const l=ho(i),d=ti(void 0);try{return o()}finally{ho(l),ti(d)}}function Sd(i,o=null,a=null,l){const d=Ss(i,o,a,l);return d.resolveInjectorInitializers(),d}function Ss(i,o=null,a=null,l,d=new Set){const p=[a||Yt,Jf(i)];return l=l||("object"==typeof i?void 0:Nn(i)),new va(p,o||wd(),l||null,d)}let Rd,gi=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=cl;static#t=this.NULL=new To;static create(a,l){if(Array.isArray(a))return Sd({name:""},l,a,"");{const d=a.name??"";return Sd({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=z({token:i,providedIn:"any",factory:()=>ur(Qf)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function Ho(i){return!!Nr(i)}function $o(i){Rd=i}const Vl=new Ut("AppId",{providedIn:"root",factory:()=>Md}),Md="ng",ip=new Ut("Platform Initializer"),Ia=new Ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),op=new Ut("AnimationModuleType"),sp=new Ut("CSP nonce",{providedIn:"root",factory:()=>function fr(){if(void 0!==Rd)return Rd;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function R(i){return i instanceof Function?i():i}function d_(i){return 128==(128&i.flags)}var f_=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(f_||{});const YS=/^>|^->|<!--|-->|--!>|<!-$/g,KS=/(<|>)/g,QS="\u200b$1\u200b";const Pb=new Map;let zw=0;const kb="__ngContext__";function si(i,o){qr(o)?(i[kb]=o[rc],function Vd(i){Pb.set(i[rc],i)}(o)):i[kb]=o}let Vb;function dp(i,o){return Vb(i,o)}function jl(i,o,a,l,d){if(null!=l){let p,_=!1;br(l)?p=l:qr(l)&&(_=!0,l=l[Rn]);const b=Dn(l);0===i&&null!==a?null==d?jb(o,a,b):zl(o,a,b,d||null,!0):1===i&&null!==a?zl(o,a,b,d||null,!0):2===i?function pp(i,o,a){const l=Bd(i,o);l&&function ux(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,b,_):3===i&&o.destroyNode(b),null!=p&&function dx(i,o,a,l,d){const p=a[fi];p!==Dn(a)&&jl(o,i,l,p,d);for(let b=Vn;b<a.length;b++){const E=a[b];w_(E[we],E,i,o,l,p)}}(o,i,p,a,d)}}function Ub(i,o){return i.createComment(function XS(i){return i.replace(YS,o=>o.replace(KS,QS))}(o))}function __(i,o,a){return i.createElement(o,a)}function Ww(i,o){o[Pi].changeDetectionScheduler?.notify(),w_(i,o,o[_t],2,null,null)}function Yw(i,o){const a=i[cs],l=a.indexOf(o);a.splice(l,1)}function hp(i,o){if(i.length<=Vn)return;const a=Vn+o,l=i[a];if(l){const d=l[ss];null!==d&&d!==i&&Yw(d,l),o>0&&(i[a-1][Mi]=l[Mi]);const p=Al(i,Vn+o);!function v_(i,o){Ww(i,o),o[Rn]=null,o[yr]=null}(l[we],l);const _=p[mo];null!==_&&_.detachView(p[we]),l[Tn]=null,l[Mi]=null,l[nt]&=-129}return l}function y_(i,o){if(!(256&o[nt])){const a=o[_t];a.destroyNode&&w_(i,o,a,3,null,null),function sx(i){let o=i[hl];if(!o)return b_(i[we],i);for(;o;){let a=null;if(qr(o))a=o[hl];else{const l=o[Vn];l&&(a=l)}if(!a){for(;o&&!o[Mi]&&o!==i;)qr(o)&&b_(o[we],o),o=o[Tn];null===o&&(o=i),qr(o)&&b_(o[we],o),a=o&&o[Mi]}o=a}}(o)}}function b_(i,o){if(!(256&o[nt])){o[nt]&=-129,o[nt]|=256,o[Gi]&&function Sn(i){if(Zt(i),tt(i))for(let o=0;o<i.producerNode.length;o++)Ae(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}(o[Gi]),function lx(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Tl)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const b=d[p[_]],E=p[_+1];No(4,b,E);try{E.call(b)}finally{No(5,b,E)}}else{No(4,d,p);try{p.call(d)}finally{No(5,d,p)}}}}}(i,o),function FP(i,o){const a=i.cleanup,l=o[ea];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+3];_>=0?l[_]():l[-_].unsubscribe(),p+=2}else a[p].call(l[a[p+1]]);null!==l&&(o[ea]=null);const d=o[go];if(null!==d){o[go]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(i,o),1===o[we].type&&o[_t].destroy();const a=o[ss];if(null!==a&&br(o[Tn])){a!==o[Tn]&&Yw(a,o);const l=o[mo];null!==l&&l.detachView(i)}!function JS(i){Pb.delete(i[rc])}(o)}}function Bb(i,o,a){return function Kw(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[Rn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=i.data[l.directiveStart+d];if(p===os.None||p===os.Emulated)return null}return Lr(l,a)}}(i,o.parent,a)}function zl(i,o,a,l,d){i.insertBefore(o,a,l,d)}function jb(i,o,a){i.appendChild(o,a)}function Qw(i,o,a,l,d){null!==l?zl(i,o,a,l,d):jb(i,o,a)}function Bd(i,o){return i.parentNode(o)}function Jw(i,o,a){return $l(i,o,a)}let fp,Ic,D_,$l=function Hl(i,o,a){return 40&i.type?Lr(i,a):null};function I_(i,o,a,l){const d=Bb(i,l,o),p=o[_t],b=Jw(l.parent||o[yr],l,o);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)Qw(p,d,a[E],b,!1);else Qw(p,d,a,b,!1);void 0!==fp&&fp(p,l,o,a,d)}function jd(i,o){if(null!==o){const a=o.type;if(3&a)return Lr(o,i);if(4&a)return zb(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return jd(i,l);{const d=i[o.index];return br(d)?zb(-1,d):Dn(d)}}if(32&a)return dp(o,i)()||Dn(i[o.index]);{const l=E_(i,o);return null!==l?Array.isArray(l)?l[0]:jd(fs(i[Cn]),l):jd(i,o.next)}}return null}function E_(i,o){return null!==o?i[Cn][yr].projection[o.projection]:null}function zb(i,o){const a=Vn+i+1;if(a<o.length){const l=o[a],d=l[we].firstChild;if(null!==d)return jd(l,d)}return o[fi]}function $b(i,o,a,l,d,p,_){for(;null!=a;){const b=l[a.index],E=a.type;if(_&&0===o&&(b&&si(Dn(b),l),a.flags|=2),32!=(32&a.flags))if(8&E)$b(i,o,a.child,l,d,p,!1),jl(o,i,d,b,p);else if(32&E){const C=dp(a,l);let x;for(;x=C();)jl(o,i,d,x,p);jl(o,i,d,b,p)}else 16&E?tT(i,o,l,a,d,p):jl(o,i,d,b,p);a=_?a.projectionNext:a.next}}function w_(i,o,a,l,d,p){$b(a,l,i.firstChild,o,d,p,!1)}function tT(i,o,a,l,d,p){const _=a[Cn],E=_[yr].projection[l.projection];if(Array.isArray(E))for(let C=0;C<E.length;C++)jl(o,i,d,E[C],p);else{let C=E;const x=_[Tn];d_(l)&&(C.flags|=128),$b(i,o,C,x,d,p,!0)}}function Gb(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function nT(i,o,a){const{mergedAttrs:l,classes:d,styles:p}=a;null!==l&&ul(i,o,l),null!==d&&Gb(i,o,d),null!==p&&function fx(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function zd(i){return function C_(){if(void 0===Ic&&(Ic=null,ir.trustedTypes))try{Ic=ir.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ic}()?.createHTML(i)||i}function qb(i){return function Gl(){if(void 0===D_&&(D_=null,ir.trustedTypes))try{D_=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return D_}()?.createScriptURL(i)||i}class Hd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ui})`}}class VP extends Hd{getTypeName(){return"HTML"}}class _x extends Hd{getTypeName(){return"Style"}}class Zb extends Hd{getTypeName(){return"Script"}}class oT extends Hd{getTypeName(){return"URL"}}class UP extends Hd{getTypeName(){return"ResourceURL"}}function Rs(i){return i instanceof Hd?i.changingThisBreaksApplicationSecurity:i}function vi(i,o){const a=function vx(i){return i instanceof Hd&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ui})`)}return a===o}function BP(i){return new VP(i)}function jP(i){return new _x(i)}function zP(i){return new Zb(i)}function sT(i){return new oT(i)}function aT(i){return new UP(i)}class yx{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(zd(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class bx{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=zd(o),a}}const cT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function S_(i){return(i=String(i)).match(cT)?i:"unsafe:"+i}function Ec(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function x_(...i){const o={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const Ix=Ec("area,br,col,hr,img,wbr"),lT=Ec("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uT=Ec("rp,rt"),R_=x_(Ix,x_(lT,Ec("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x_(uT,Ec("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x_(uT,lT)),Wb=Ec("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dT=x_(Wb,Ec("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ec("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wx=Ec("script,style,template");class hT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!R_.hasOwnProperty(a))return this.sanitizedSomething=!0,!wx.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let d=0;d<l.length;d++){const p=l.item(d),_=p.name,b=_.toLowerCase();if(!dT.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let E=p.value;Wb[b]&&(E=S_(E)),this.buf.push(" ",_,'="',Cx(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();R_.hasOwnProperty(a)&&!Ix.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Cx(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Tx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZP=/([^\#-~ |!])/g;function Cx(i){return i.replace(/&/g,"&amp;").replace(Tx,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ZP,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yb;function Dx(i,o){let a=null;try{Yb=Yb||function A_(i){const o=new bx(i);return function HP(){try{return!!(new window.DOMParser).parseFromString(zd(""),"text/html")}catch{return!1}}()?new yx(o):o}(i);let l=o?String(o):"";a=Yb.getInertBodyElement(l);let d=5,p=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=p,p=a.innerHTML,a=Yb.getInertBodyElement(l)}while(l!==p);return zd((new hT).sanitizeChildren(fT(a)||a))}finally{if(a){const l=fT(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function fT(i){return"content"in i&&function WP(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var wc=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(wc||{});function pT(i){const o=mp();return o?o.sanitize(wc.URL,i)||"":vi(i,"URL")?Rs(i):S_(st(i))}function Kb(i){const o=mp();if(o)return qb(o.sanitize(wc.RESOURCE_URL,i)||"");if(vi(i,"ResourceURL"))return qb(Rs(i));throw new Se(904,!1)}function O_(i,o,a){return function xx(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Kb:pT}(o,a)(i)}function mp(){const i=oe();return i&&i[Pi].sanitizer}class mT{}let yT=()=>null;function Ps(i,o,a=!1){return yT(i,o,a)}class kx{}class t0{}class QP{resolveComponentFactory(o){throw function Nx(i){const o=Error(`No component factory found for ${Nn(i)}.`);return o.ngComponent=i,o}(o)}}let ql=(()=>{class i{static#e=this.NULL=new QP}return i})();function Lx(){return Zl(an(),oe())}function Zl(i,o){return new vp(Lr(i,o))}let vp=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Lx}return i})();function n0(i){return i instanceof vp?i.nativeElement:i}class r0{}let ET=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Vx(){const i=oe(),a=sr(an().index,i);return(qr(a)?a:i)[_t]}()}return i})(),wT=(()=>{class i{static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:()=>null})}return i})();const $_={};function CT(i){const o=ve(null);try{return i()}finally{ve(o)}}function o0(i){return!!a0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function a0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}class he{constructor(){}supports(o){return o0(o)}create(o){return new Os(o)}}const AT=(i,o)=>o;class Os{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||AT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<Ne(l,d,p)?a:l,b=Ne(_,d,p),E=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const C=b-d,x=E-d;if(C!=x){for(let N=0;N<C;N++){const U=N<p.length?p[N]:p[N]=0,Q=U+N;x<=Q&&Q<C&&(p[N]=U+1)}p[_.previousIndex]=x-C}}b!==E&&o(_,b,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!o0(o))throw new Se(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],_=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,b),l=!0),a=a._next}else d=0,function DT(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{_=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new bn(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ao),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ao),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bn{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hx{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Ao{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new Hx,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ne(i,o,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class G_{constructor(){}supports(o){return o instanceof Map||a0(o)}create(){return new wt}}class wt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||a0(o)))throw new Se(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new q_(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class q_{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yd(){return new c0([new he])}let c0=(()=>{class i{static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:Yd});constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Yd()),deps:[[i,new Rl,new pa]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Se(901,!1)}}return i})();function xT(){return new l0([new G_])}let l0=(()=>{class i{static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:xT});constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||xT()),deps:[[i,new Rl,new pa]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Se(901,!1)}}return i})();function pr(i,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];null!==p&&l.push(Dn(p)),br(p)&&yp(p,l);const _=a.type;if(8&_)pr(i,o,a.child,l);else if(32&_){const b=dp(a,o);let E;for(;E=b();)l.push(E)}else if(16&_){const b=E_(o,a);if(Array.isArray(b))l.push(...b);else{const E=fs(o[Cn]);pr(E[we],E,b,l,!0)}}a=d?a.projectionNext:a.next}return l}function yp(i,o){for(let a=Vn;a<i.length;a++){const l=i[a],d=l[we].firstChild;null!==d&&pr(l[we],l,d,o)}i[fi]!==i[Rn]&&o.push(i[fi])}let wr=[];const u0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{oc(i.lView)},consumerOnSignalRead(){this.lView[Gi]=this}};function PT(i){return bp(i[hl])}function Kd(i){return bp(i[Mi])}function bp(i){for(;null!==i&&!br(i);)i=i[Mi];return i}function d0(i){return i.ngOriginalError}class Dc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&d0(o);for(;a&&d0(a);)a=d0(a);return a||null}}const Wl=new Ut("",{providedIn:"root",factory:()=>Vt(Dc).handleError.bind(void 0)}),h0=new Ut("",{providedIn:"root",factory:()=>!1}),Dt={};function LT(i=1){Ep(Bt(),oe(),Ir()+i,!1)}function Ep(i,o,a,l){if(!l)if(3==(3&o[nt])){const p=i.preOrderCheckHooks;null!==p&&Ni(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Vo(o,p,0,a)}_s(a)}function Ac(i,o=Pt.Default){const a=oe();return null===a?ur(i,o):Kn(an(),a,Ve(i),o)}function VT(){throw new Error("invalid")}function wp(i,o,a,l,d,p,_,b,E,C,x){const M=o.blueprint.slice();return M[Rn]=d,M[nt]=204|l,(null!==C||i&&2048&i[nt])&&(M[nt]|=2048),kg(M),M[Tn]=M[nc]=i,M[at]=a,M[Pi]=_||i&&i[Pi],M[_t]=b||i&&i[_t],M[Fr]=E||i&&i[Fr]||null,M[yr]=p,M[rc]=function p_(){return zw++}(),M[po]=x,M[ed]=C,M[Cn]=2==o.type?i[Cn]:M,M}function Yl(i,o,a,l,d){let p=i.data[o];if(null===p)p=function Xd(i,o,a,l,d){const p=cb(),_=sc(),E=i.data[o]=function E0(i,o,a,l,d,p){let _=o?o.injectorIndex:-1,b=0;return oa()&&(b|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,d);return null===i.firstChild&&(i.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E,E.prev=p)),E}(i,o,a,l,d),function Ow(){return lt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const _=function sa(){const i=lt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return _o(p,!0),p}function Kl(i,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),i.blueprint.push(l),i.data.push(null);return d}function K_(i,o,a,l,d){const p=Ir(),_=2&l;try{_s(-1),_&&o.length>ct&&Ep(i,o,ct,!1),No(_?2:0,d),a(l,d)}finally{_s(p),No(_?3:1,d)}}function Tp(i,o,a){if(Eg(o)){const l=ve(null);try{const p=o.directiveEnd;for(let _=o.directiveStart;_<p;_++){const b=i.data[_];b.contentQueries&&b.contentQueries(1,a[_],_)}}finally{ve(l)}}}function Cp(i,o,a){xf()&&(function Ap(i,o,a,l){const d=a.directiveStart,p=a.directiveEnd;ls(a)&&function Sp(i,o,a){const l=Lr(o,i),d=g0(a);let _=16;a.signals?_=4096:a.onPush&&(_=64);const b=tv(i,wp(i,d,null,_,l,o,null,i[Pi].rendererFactory.createRenderer(l,a),null,null,null));i[o.index]=b}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||ua(a,o),si(l,o);const _=a.initialInputs;for(let b=d;b<p;b++){const E=i.data[b],C=bo(o,i,b,a);si(C,o),null!==_&&GT(0,b-d,C,E,0,_),Oi(E)&&(sr(a.index,o)[at]=bo(o,i,b,a))}}(i,o,a,Lr(a,o)),64==(64&a.flags)&&J_(i,o,a))}function Q_(i,o,a=Lr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],b=-1===_?a(o,i):i[_];i[d++]=b}}}function g0(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=_0(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function _0(i,o,a,l,d,p,_,b,E,C,x){const M=ct+l,N=M+d,U=function BT(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:Dt);return a}(M,N),Q="function"==typeof C?C():C;return U[we]={type:i,blueprint:U,template:a,queries:null,viewQuery:b,declTNode:o,data:U.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Q,incompleteFirstPass:!1,ssrId:x}}let y0=()=>null;function Tr(i,o,a,l){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===l?jr(a,o,d,p):l.hasOwnProperty(d)&&jr(a,o,l[d],p)}return a}function jr(i,o,a,l){i.hasOwnProperty(a)?i[a].push(o,l):i[a]=[o,l]}function Xi(i,o,a,l,d,p,_,b){const E=Lr(o,a);let x,C=o.inputs;!b&&null!=C&&(x=C[l])?(nv(i,a,x,l,d),ls(o)&&function Yx(i,o){const a=sr(o,i);16&a[nt]||(a[nt]|=64)}(a,o.index)):3&o.type&&(l=function w0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,o.value||"",l):d,p.setProperty(E,l,d))}function T0(i,o,a,l){if(xf()){const d=null===l?null:{"":-1},p=function Jx(i,o){const a=i.directiveRegistry;let l=null,d=null;if(a)for(let p=0;p<a.length;p++){const _=a[p];if(df(o,_.selectors,!1))if(l||(l=[]),Oi(_))if(null!==_.findHostDirectiveDefs){const b=[];d=d||new Map,_.findHostDirectiveDefs(_,b,d),l.unshift(...b,_),Jd(i,o,b.length)}else l.unshift(_),Jd(i,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,l,d),l.push(_)}return null===l?null:[l,d]}(i,a);let _,b;null===p?_=b=null:[_,b]=p,null!==_&&zT(i,o,a,_,d,b),d&&function C0(i,o,a){if(o){const l=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new Se(-301,!1);l.push(o[d],p)}}}(a,l,d)}a.mergedAttrs=Qs(a.mergedAttrs,a.attrs)}function zT(i,o,a,l,d,p){for(let C=0;C<l.length;C++)md(ua(a,o),i,l[C].type);!function $T(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let C=0;C<l.length;C++){const x=l[C];x.providersResolver&&x.providersResolver(x)}let _=!1,b=!1,E=Kl(i,o,l.length,null);for(let C=0;C<l.length;C++){const x=l[C];a.mergedAttrs=Qs(a.mergedAttrs,x.hostAttrs),eR(i,a,o,E,x),D0(E,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const M=x.type.prototype;!_&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),_=!0),!b&&(M.ngOnChanges||M.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),b=!0),E++}!function X_(i,o,a){const d=o.directiveEnd,p=i.data,_=o.attrs,b=[];let E=null,C=null;for(let x=o.directiveStart;x<d;x++){const M=p[x],N=a?a.get(M):null,Q=N?N.outputs:null;E=Tr(M.inputs,x,E,N?N.inputs:null),C=Tr(M.outputs,x,C,Q);const ye=null===E||null===_||bg(o)?null:tR(E,x,_);b.push(ye)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=8),E.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=E,o.outputs=C}(i,a,p)}function J_(i,o,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,_=function Un(){return lt.lFrame.currentDirectiveIndex}();try{_s(p);for(let b=l;b<d;b++){const E=i.data[b],C=o[b];_n(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&HT(E,C)}}finally{_s(-1),_n(_)}}function HT(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Jd(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function D0(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Oi(o)&&(a[""]=i)}}function eR(i,o,a,l,d){i.data[l]=d;const p=d.factory||(d.factory=ds(d.type)),_=new Tl(p,Oi(d),Ac);i.blueprint[l]=_,a[l]=_,function Xx(i,o,a,l,d){const p=d.hostBindings;if(p){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const b=~o.index;(function Dp(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=b&&_.push(b),_.push(a,l,p)}}(i,o,l,Kl(i,a,d.hostVars,Dt),d)}function qo(i,o,a,l,d,p){const _=Lr(i,o);!function ev(i,o,a,l,d,p,_){if(null==p)i.removeAttribute(o,d,a);else{const b=null==_?st(p):_(p,l||"",d);i.setAttribute(o,d,b,a)}}(o[_t],_,p,i.value,a,l,d)}function GT(i,o,a,l,d,p){const _=p[o];if(null!==_)for(let b=0;b<_.length;)xp(l,a,_[b++],_[b++],_[b++])}function xp(i,o,a,l,d){const p=ve(null);try{const _=i.inputTransforms;null!==_&&_.hasOwnProperty(l)&&(d=_[l].call(o,d)),null!==i.setInput?i.setInput(o,d,a,l):o[l]=d}finally{ve(p)}}function tR(i,o,a){let l=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const _=i[p];for(let b=0;b<_.length;b+=2)if(_[b]===o){l.push(p,_[b+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function qT(i,o,a,l){return[i,!0,0,o,null,l,null,a,null,null]}function Ql(i,o){const a=i.contentQueries;if(null!==a){const l=ve(null);try{for(let d=0;d<a.length;d+=2){const _=a[d+1];if(-1!==_){const b=i.data[_];yl(a[d]),b.contentQueries(2,o[_],_)}}}finally{ve(l)}}}function tv(i,o){return i[hl]?i[_f][Mi]=o:i[hl]=o,i[_f]=o,o}function A0(i,o,a){yl(0);const l=ve(null);try{o(i,a)}finally{ve(l)}}function S0(i){return i[ea]||(i[ea]=[])}function Rp(i){return i.cleanup||(i.cleanup=[])}function Sc(i,o){const a=i[Fr],l=a?a.get(Dc,null):null;l&&l.handleError(o)}function nv(i,o,a,l,d){for(let p=0;p<a.length;){const _=a[p++],b=a[p++];xp(i.data[_],o[_],l,b,d)}}function $n(i,o,a){const l=id(o,i);!function Zw(i,o,a){i.setValue(o,a)}(i[_t],l,a)}function R0(i,o,a,l){const d=o[nt];if(256==(256&d))return;o[Pi].inlineEffectRunner?.flush(),dd(o);let _=null,b=null;(function WT(i){return 2!==i.type})(i)&&(b=function Cc(i){return i[Gi]??function Gx(i){const o=wr.pop()??Object.create(u0);return o.lView=i,o}(i)}(o),_=function ze(i){return i&&(i.nextProducerIndex=0),ve(i)}(b));try{kg(o),function Mf(i){return lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&K_(i,o,a,2,l);const E=3==(3&d);if(E){const M=i.preOrderCheckHooks;null!==M&&Ni(o,M,null)}else{const M=i.preOrderHooks;null!==M&&Vo(o,M,0,null),wl(o,0)}if(function Mp(i){for(let o=PT(i);null!==o;o=Kd(o)){if(!(o[nt]&fl.HasTransplantedViews))continue;const a=o[cs];for(let l=0;l<a.length;l++){Pw(a[l])}}}(o),M0(o,0),null!==i.contentQueries&&Ql(i,o),E){const M=i.contentCheckHooks;null!==M&&Ni(o,M)}else{const M=i.contentHooks;null!==M&&Vo(o,M,1),wl(o,1)}!function UT(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)_s(~d);else{const p=d,_=a[++l],b=a[++l];vl(_,p),b(2,o[p])}}}finally{_s(-1)}}(i,o);const C=i.components;null!==C&&Op(o,C,0);const x=i.viewQuery;if(null!==x&&A0(2,x,l),E){const M=i.viewCheckHooks;null!==M&&Ni(o,M)}else{const M=i.viewHooks;null!==M&&Vo(o,M,2),wl(o,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[td]){for(const M of o[td])M();o[td]=null}o[nt]&=-73}catch(E){throw oc(o),E}finally{null!==b&&(function it(i,o){if(ve(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(tt(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Ae(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}(b,_),function RT(i){i.lView[Gi]!==i&&(i.lView=null,wr.push(i))}(b)),hd()}}function M0(i,o){for(let a=PT(i);null!==a;a=Kd(a))for(let l=Vn;l<a.length;l++)iv(a[l],o)}function P0(i,o,a){iv(sr(o,i),a)}function iv(i,o){Sf(i)&&Pp(i,o)}function Pp(i,o){const l=i[we],d=i[nt],p=i[Gi];let _=!!(0===o&&16&d);if(_||=!!(64&d&&0===o),_||=!!(1024&d),_||=!(!p?.dirty||!en(p)),p&&(p.dirty=!1),i[nt]&=-9217,_)R0(l,i,l.template,i[at]);else if(8192&d){M0(i,1);const b=l.components;null!==b&&Op(i,b,1)}}function Op(i,o,a){for(let l=0;l<o.length;l++)P0(i,o[l],a)}function Ea(i){for(i[Pi].changeDetectionScheduler?.notify();i;){i[nt]|=64;const o=fs(i);if(yf(i)&&!o)return i;i=o}return null}class th{get rootNodes(){const o=this._lView,a=o[we];return pr(a,o,a.firstChild,[])}constructor(o,a,l=!0){this._lView=o,this._cdRefInjectingView=a,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[at]}set context(o){this._lView[at]=o}get destroyed(){return 256==(256&this._lView[nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Tn];if(br(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(hp(o,l),Al(a,l))}this._attachedToViewContainer=!1}y_(this._lView[we],this._lView)}onDestroy(o){ia(this._lView,o)}markForCheck(){Ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[nt]&=-129}reattach(){gl(this._lView),this._lView[nt]|=128}detectChanges(){this._lView[nt]|=1024,function Xl(i,o=!0){const a=i[Pi],l=a.rendererFactory;l.begin?.();try{!function rv(i){Pp(i,0);let o=0;for(;sd(i);){if(100===o)throw new Se(103,!1);o++,Pp(i,1)}}(i)}catch(p){throw o&&Sc(i,p),p}finally{l.end?.(),a.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ww(this._lView[we],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=o,gl(this._lView)}}let YT=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=KT}return i})();function KT(i){return function O0(i,o,a){if(ls(i)&&!a){const l=sr(i.index,o);return new th(l,l)}return 47&i.type?new th(o[Cn],o):null}(an(),oe(),16==(16&i))}let ov=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=XT;static#t=this.__NG_ENV_ID__=a=>a}return i})();class kp extends ov{constructor(o){super(),this._lView=o}onDestroy(o){return ia(this._lView,o),()=>function ad(i,o){if(null===i[go])return;const a=i[go].indexOf(o);-1!==a&&i[go].splice(a,1)}(this._lView,o)}}function XT(){return new kp(oe())}const L0=new Set;function eu(i){L0.has(i)||(L0.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function Zo(i){return o=>{setTimeout(i,void 0,o)}}const Ji=class tu extends wn.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,p=a||(()=>null),_=l;if(o&&"object"==typeof o){const E=o;d=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=Zo(p),d&&(d=Zo(d)),_&&(_=Zo(_)));const b=super.subscribe({next:d,error:p,complete:_});return o instanceof Rr.w0&&o.add(b),b}};function Fp(...i){}class jn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ji(!1),this.onMicrotaskEmpty=new Ji(!1),this.onStable=new Ji(!1),this.onError=new Ji(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function eC(){const i="function"==typeof ir.requestAnimationFrame;let o=ir[i?"requestAnimationFrame":"setTimeout"],a=ir[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function tC(i){const o=()=>{!function aR(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ir,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,V0(i),i.isCheckStableRunning=!0,nu(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),V0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,_,b)=>{if(function Vp(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(b))return a.invokeTask(d,p,_,b);try{return nC(i),a.invokeTask(d,p,_,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),rC(i)}},onInvoke:(a,l,d,p,_,b,E)=>{try{return nC(i),a.invoke(d,p,_,b,E)}finally{i.shouldCoalesceRunChangeDetection&&o(),rC(i)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,V0(i),nu(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jn.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(jn.isInAngularZone())throw new Se(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,Lp,Fp,Fp);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const Lp={};function nu(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function V0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function nC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function rC(i){i._nesting--,nu(i)}class iC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ji,this.onMicrotaskEmpty=new Ji,this.onStable=new Ji,this.onError=new Ji}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}var Rc=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Rc||{});const U0={destroy(){}};function oC(i,o){!o&&function Nl(i){if(!tf()&&!function qy(){return rs}())throw new Se(-203,!1)}();const a=o?.injector??Vt(gi);if(!function O(i){return"browser"===(i??Vt(gi)).get(Ia)}(a))return U0;eu("NgAfterNextRender");const l=a.get(Up),d=l.handler??=new j0,p=o?.phase??Rc.MixedReadWrite,_=()=>{d.unregister(E),b()},b=a.get(ov).onDestroy(_),E=new sC(a,p,()=>{_(),i()});return d.register(E),{destroy:_}}class sC{constructor(o,a,l){this.phase=a,this.callbackFn=l,this.zone=o.get(jn),this.errorHandler=o.get(Dc,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){this.errorHandler?.handleError(o)}}}class j0{constructor(){this.executingCallbacks=!1,this.buckets={[Rc.EarlyRead]:new Set,[Rc.Write]:new Set,[Rc.MixedReadWrite]:new Set,[Rc.Read]:new Set},this.deferredCallbacks=new Set}register(o){(this.executingCallbacks?this.deferredCallbacks:this.buckets[o.phase]).add(o)}unregister(o){this.buckets[o.phase].delete(o),this.deferredCallbacks.delete(o)}execute(){let o=!1;this.executingCallbacks=!0;for(const a of Object.values(this.buckets))for(const l of a)o=!0,l.invoke();this.executingCallbacks=!1;for(const a of this.deferredCallbacks)this.buckets[a.phase].add(a);return this.deferredCallbacks.clear(),o}destroy(){for(const o of Object.values(this.buckets))o.clear();this.deferredCallbacks.clear()}}let Up=(()=>{class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const d of a)d();return!!this.handler?.execute()||a.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:()=>new i})}return i})();function aC(i,o){const a=sr(o,i),l=a[we];!function cC(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(l,a);const d=a[Rn];null!==d&&null===a[po]&&(a[po]=Ps(d,a[Fr])),Bp(l,a,a[at])}function Bp(i,o,a){dd(o);try{const l=i.viewQuery;null!==l&&A0(1,l,a);const d=i.template;null!==d&&K_(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ql(i,o),i.staticViewQueries&&A0(2,i.viewQuery,a);const p=i.components;null!==p&&function z0(i,o){for(let a=0;a<o.length;a++)aC(i,o[a])}(o,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[nt]&=-5,hd()}}function jp(i,o,a){let l=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?p=b:1==p?d=oo(d,b):2==p&&(l=oo(l,b+": "+o[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}class H0 extends ql{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Mt(o);return new zp(a,this.ngModule)}}function lC(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class lR{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=Ku(l);const d=this.injector.get(o,$_,l);return d!==$_||a===$_?d:this.parentInjector.get(o,a,l)}}class zp extends t0{get inputs(){const o=this.componentDef,a=o.inputTransforms,l=lC(o.inputs);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return lC(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ff(i){return i.map(Ja).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let p=(d=d||this.ngModule)instanceof Wr?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new lR(o,p):o,b=_.get(r0,null);if(null===b)throw new Se(407,!1);const M={rendererFactory:b,sanitizer:_.get(wT,null),inlineEffectRunner:null,afterRenderEventManager:_.get(Up,null),changeDetectionScheduler:_.get(mT,null)},N=b.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",Q=l?function jT(i,o,a,l){const p=l.get(h0,!1)||a===os.ShadowDom,_=i.selectRootElement(o,p);return function v0(i){y0(i)}(_),_}(N,l,this.componentDef.encapsulation,_):__(N,U,function cR(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(U));let ye=512;this.componentDef.signals?ye|=4096:this.componentDef.onPush||(ye|=16);let De=null;null!==Q&&(De=Ps(Q,_,!0));const Ge=_0(0,null,null,1,0,null,null,null,null,null,null),ge=wp(null,Ge,null,ye,null,null,M,N,_,null,De);let Tt,$t;dd(ge);try{const Xt=this.componentDef;let Jr,cg=null;Xt.findHostDirectiveDefs?(Jr=[],cg=new Map,Xt.findHostDirectiveDefs(Xt,Jr,cg),Jr.push(Xt)):Jr=[Xt];const kO=function Hp(i,o){const a=i[we],l=ct;return i[l]=o,Yl(a,l,2,"#host",null)}(ge,Q),gw=function av(i,o,a,l,d,p,_){const b=d[we];!function $0(i,o,a,l){for(const d of i)o.mergedAttrs=Qs(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(jp(o,o.mergedAttrs,!0),null!==a&&nT(l,a,o))}(l,i,o,_);let E=null;null!==o&&(E=Ps(o,d[Fr]));const C=p.rendererFactory.createRenderer(o,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const M=wp(d,g0(a),null,x,d[i.index],i,p,C,null,null,E);return b.firstCreatePass&&Jd(b,i,l.length-1),tv(d,M),d[i.index]=M}(kO,Q,Xt,Jr,ge,M,N);$t=od(Ge,ct),Q&&function $p(i,o,a,l){if(l)ul(i,a,["ng-version","17.0.9"]);else{const{attrs:d,classes:p}=function Dw(i){const o=[],a=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++l]):8===d&&a.push(p);else{if(!xi(d))break;d=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ul(i,a,d),p&&p.length>0&&Gb(i,a,p.join(" "))}}(N,Xt,Q,l),void 0!==a&&function Gp(i,o,a){const l=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];l.push(null!=p?Array.from(p):null)}}($t,this.ngContentSelectors,a),Tt=function uC(i,o,a,l,d,p){const _=an(),b=d[we],E=Lr(_,d);zT(b,d,_,a,null,l);for(let x=0;x<a.length;x++)si(bo(d,b,_.directiveStart+x,_),d);J_(b,d,_),E&&si(E,d);const C=bo(d,b,_.directiveStart+_.componentOffset,_);if(i[at]=d[at]=C,null!==p)for(const x of p)x(C,o);return Tp(b,_,i),C}(gw,Xt,Jr,cg,ge,[uR]),Bp(Ge,ge,null)}finally{hd()}return new sv(this.componentType,Tt,Zl($t,ge),ge,$t)}}class sv extends kx{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new th(d,void 0,!1),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const p=this._rootLView;nv(p[we],p,d,o,a),this.previousInputValues.set(o,a),Ea(sr(this._tNode.index,p))}}get injector(){return new vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function uR(){const i=an();cn(oe()[we],i)}function cv(i){let o=function Gn(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let d;if(Oi(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Se(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=lv(i.inputs),_.inputTransforms=lv(i.inputTransforms),_.declaredInputs=lv(i.declaredInputs),_.outputs=lv(i.outputs);const b=d.hostBindings;b&&hC(i,b);const E=d.viewQuery,C=d.contentQueries;if(E&&hR(i,E),C&&dC(i,C),Gr(i.inputs,d.inputs),Gr(i.declaredInputs,d.declaredInputs),Gr(i.outputs,d.outputs),null!==d.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),Gr(_.inputTransforms,d.inputTransforms)),Oi(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const b=p[_];b&&b.ngInherit&&b(i),b===cv&&(a=!1)}}o=Object.getPrototypeOf(o)}!function dR(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Qs(d.hostAttrs,a=Qs(a,d.hostAttrs))}}(l)}function lv(i){return i===Si?{}:i===Yt?[]:i}function hR(i,o){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function dC(i,o){const a=i.contentQueries;i.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function hC(i,o){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function q0(i){const o=i.inputConfig,a={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[2]&&(a[l]=d[2])}i.inputTransforms=a}function So(i,o,a){return i[o]=a}function ar(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Ns(i,o,a,l){const d=ar(i,o,a);return ar(i,o+1,l)||d}function dv(i,o,a,l,d){const p=Ns(i,o,a,l);return ar(i,o+2,d)||p}function ru(i,o,a,l){const d=oe();return ar(d,vo(),o)&&(Bt(),qo(Ft(),d,i,o,a,l)),ru}function hv(i,o){return i<<17|o<<2}function zr(i){return i>>17&32767}function eI(i){return 2|i}function Ta(i){return(131068&i)>>2}function Ro(i,o){return-131069&i|o<<2}function Zp(i){return 1|i}function to(i,o,a,l){const d=i[a+1],p=null===o;let _=l?zr(d):Ta(d),b=!1;for(;0!==_&&(!1===b||p);){const C=i[_+1];Yr(i[_],o)&&(b=!0,i[_+1]=l?Zp(C):eI(C)),_=l?zr(C):Ta(C)}b&&(i[a+1]=l?eI(d):Zp(d))}function Yr(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&jo(i,o)>=0}const Qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yp(i){return i.substring(Qn.key,Qn.keyEnd)}function tI(i,o){const a=Qn.textEnd;return a===o?-1:(o=Qn.keyEnd=function fR(i,o,a){for(;o<a&&i.charCodeAt(o)>32;)o++;return o}(i,Qn.key=o,a),kc(i,o,a))}function kc(i,o,a){for(;o<a&&i.charCodeAt(o)<=32;)o++;return o}function rI(i,o,a){const l=oe();return ar(l,vo(),o)&&Xi(Bt(),Ft(),l,i,o,l[_t],a,!1),rI}function Nc(i,o,a,l,d){const _=d?"class":"style";nv(i,a,o.inputs[_],_,l)}function pv(i,o,a){return me(i,o,a,!1),pv}function mr(i,o){return me(i,o,null,!0),mr}function uu(i){!function rn(i,o,a,l){const d=Bt(),p=gs(2);d.firstUpdatePass&&mv(d,null,p,l);const _=oe();if(a!==Dt&&ar(_,p,a)){const b=d.data[Ir()];if(DC(b,l)&&!bi(d,p)){let E=l?b.classesWithoutHost:b.stylesWithoutHost;null!==E&&(a=oo(E,a||"")),Nc(d,b,_,a,l)}else!function _R(i,o,a,l,d,p,_,b){d===Dt&&(d=Yt);let E=0,C=0,x=0<d.length?d[0]:null,M=0<p.length?p[0]:null;for(;null!==x||null!==M;){const N=E<d.length?d[E+1]:void 0,U=C<p.length?p[C+1]:void 0;let ye,Q=null;x===M?(E+=2,C+=2,N!==U&&(Q=M,ye=U)):null===M||null!==x&&x<M?(E+=2,Q=x):(C+=2,Q=M,ye=U),null!==Q&&wC(i,o,a,l,Q,ye,_,b),x=E<d.length?d[E]:null,M=C<p.length?p[C]:null}}(d,b,_,_[_t],_[p+1],_[p+1]=function Cr(i,o,a){if(null==a||""===a)return Yt;const l=[],d=Rs(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)i(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&i(l,p,d[p]);else"string"==typeof d&&o(l,d);return l}(i,o,a),l,p)}}(gR,Fs,i,!0)}function Fs(i,o){for(let a=function fv(i){return function EC(i){Qn.key=0,Qn.keyEnd=0,Qn.value=0,Qn.valueEnd=0,Qn.textEnd=i.length}(i),tI(i,kc(i,0,Qn.textEnd))}(o);a>=0;a=tI(o,a))Br(i,Yp(o),!0)}function me(i,o,a,l){const d=oe(),p=Bt(),_=gs(2);p.firstUpdatePass&&mv(p,i,_,l),o!==Dt&&ar(d,_,o)&&wC(p,p.data[Ir()],d,d[_t],i,d[_+1]=function CC(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Nn(Rs(i)))),i}(o,a),l,_)}function bi(i,o){return o>=i.expandoStartIndex}function mv(i,o,a,l){const d=i.data;if(null===d[a+1]){const p=d[Ir()],_=bi(i,a);DC(p,l)&&null===o&&!_&&(o=!1),o=function Be(i,o,a,l){const d=function Pf(i){const o=lt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=_e(a=K(null,i,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==d)if(a=K(d,i,o,a,l),null===p){let E=function Ke(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Ta(l))return i[zr(l)]}(i,o,l);void 0!==E&&Array.isArray(E)&&(E=K(null,i,o,E[1],l),E=_e(E,o.attrs,l),function mR(i,o,a,l){i[zr(a?o.classBindings:o.styleBindings)]=l}(i,o,l,E))}else p=function Pe(i,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=_e(l,i[p].hostAttrs,a);return _e(l,o.attrs,a)}(i,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function bC(i,o,a,l,d,p){let _=p?o.classBindings:o.styleBindings,b=zr(_),E=Ta(_);i[l]=a;let x,C=!1;if(Array.isArray(a)?(x=a[1],(null===x||jo(a,x)>0)&&(C=!0)):x=a,d)if(0!==E){const N=zr(i[b+1]);i[l+1]=hv(N,b),0!==N&&(i[N+1]=Ro(i[N+1],l)),i[b+1]=function hn(i,o){return 131071&i|o<<17}(i[b+1],l)}else i[l+1]=hv(b,0),0!==b&&(i[b+1]=Ro(i[b+1],l)),b=l;else i[l+1]=hv(E,0),0===b?b=l:i[E+1]=Ro(i[E+1],l),E=l;C&&(i[l+1]=eI(i[l+1])),to(i,x,l,!0),to(i,x,l,!1),function Ca(i,o,a,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&jo(p,o)>=0&&(a[l+1]=Zp(a[l+1]))}(o,x,i,l,p),_=hv(b,E),p?o.classBindings=_:o.styleBindings=_}(d,p,o,a,_,l)}}function K(i,o,a,l,d){let p=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(p=o[b],l=_e(l,p.hostAttrs,d),p!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function _e(i,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Br(i,_,!!a||o[++p]))}return void 0===i?null:i}function gR(i,o,a){const l=String(o);""!==l&&!l.includes(" ")&&Br(i,l,a)}function wC(i,o,a,l,d,p,_,b){if(!(3&o.type))return;const E=i.data,C=E[b+1],x=function vC(i){return 1==(1&i)}(C)?TC(E,o,a,d,Ta(C),_):void 0;gv(x)||(gv(p)||function J0(i){return 2==(2&i)}(C)&&(p=TC(E,null,a,d,b,_)),function hx(i,o,a,l,d){if(o)d?i.addClass(a,l):i.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:f_.DashCase;null==d?i.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=f_.Important),i.setStyle(a,l,d,p))}}(l,_,id(Ir(),a),d,p))}function TC(i,o,a,l,d,p){const _=null===o;let b;for(;d>0;){const E=i[d],C=Array.isArray(E),x=C?E[1]:E,M=null===x;let N=a[d+1];N===Dt&&(N=M?Yt:void 0);let U=M?Wf(N,l):x===l?N:void 0;if(C&&!gv(U)&&(U=Wf(E,l)),gv(U)&&(b=U,_))return b;const Q=i[d+1];d=_?zr(Q):Ta(Q)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(b=Wf(E,l))}return b}function gv(i){return void 0!==i}function DC(i,o){return 0!=(i.flags&(o?8:16))}function ch(i,o){return!o||null===o.firstChild||d_(i)}function lh(i,o,a,l=!0){const d=o[we];if(function ax(i,o,a,l){const d=Vn+l,p=a.length;l>0&&(a[d-1][Mi]=o),l<p-Vn?(o[Mi]=a[d],Dl(a,Vn+l,o)):(a.push(o),o[Mi]=null),o[Tn]=a;const _=o[ss];null!==_&&a!==_&&function cx(i,o){const a=i[cs];o[Cn]!==o[Tn][Tn][Cn]&&(i[nt]|=fl.HasTransplantedViews),null===a?i[cs]=[o]:a.push(o)}(_,o);const b=o[mo];null!==b&&b.insertView(i),gl(o),o[nt]|=128}(d,o,i,a),l){const _=zb(a,i),b=o[_t],E=Bd(b,i[fi]);null!==E&&function ox(i,o,a,l,d,p){l[Rn]=d,l[yr]=o,w_(i,l,a,1,d,p)}(d,i[yr],b,o,E,_)}const p=o[po];null!==p&&null!==p.firstChild&&(p.firstChild=null)}let om=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=jC}return i})();function jC(){return xa(an(),oe())}const AR=om,bv=class extends AR{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new vn(this._hostTNode,this._hostLView)}get parentInjector(){const o=pd(this._hostTNode,this._hostLView);if(Ye(o)){const a=la(o,this._hostLView),l=Ur(o);return new vn(a[we].data[l+8],a)}return new vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Dr(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(o,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const b=o.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(b,d,ch(this._hostTNode,null)),b}createComponent(o,a,l,d,p){const _=o&&!function wo(i){return"function"==typeof i}(o);let b;if(_)b=a;else{const Q=a||{};b=Q.index,l=Q.injector,d=Q.projectableNodes,p=Q.environmentInjector||Q.ngModuleRef}const E=_?o:new zp(Mt(o)),C=l||this.parentInjector;if(!p&&null==E.ngModule){const ye=(_?C:this.parentInjector).get(Wr,null);ye&&(p=ye)}Mt(E.componentType??{});const U=E.create(C,d,null,p);return this.insertImpl(U.hostView,b,ch(this._hostTNode,null)),U}insert(o,a){return this.insertImpl(o,a,!0)}insertImpl(o,a,l){const d=o._lView;if(function Mw(i){return br(i[Tn])}(d)){const b=this.indexOf(o);if(-1!==b)this.detach(b);else{const E=d[Tn],C=new bv(E,E[yr],E[Tn]);C.detach(C.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;return lh(_,d,p,l),o.attachToViewContainerRef(),Dl(Iv(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Dr(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=hp(this._lContainer,a);l&&(Al(Iv(this._lContainer),a),y_(l[we],l))}detach(o){const a=this._adjustIndex(o,-1),l=hp(this._lContainer,a);return l&&null!=Al(Iv(this._lContainer),a)?new th(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Dr(i){return i[8]}function Iv(i){return i[8]||(i[8]=[])}function xa(i,o){let a;const l=o[i.index];return br(l)?a=l:(a=qT(l,o,null,i),o[i.index]=a,tv(o,a)),In(a,o,i,l),new bv(a,i,o)}let In=function fn(i,o,a,l){if(i[fi])return;let d;d=8&a.type?Dn(l):function zC(i,o){const a=i[_t],l=a.createComment(""),d=Lr(o,i);return zl(a,Bd(a,d),l,function Xw(i,o){return i.nextSibling(o)}(a,d),!1),l}(o,a),i[fi]=d},uh=()=>!1;function hh(i,o,a,l,d,p,_,b){const E=oe(),C=Bt(),x=i+ct,M=C.firstCreatePass?function $C(i,o,a,l,d,p,_,b,E){const C=o.consts,x=Yl(o,i,4,_||null,Lo(C,b));T0(o,a,x,Lo(C,E)),cn(o,x);const M=x.tView=_0(2,x,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C,null);return null!==o.queries&&(o.queries.template(o,x),M.queries=o.queries.embeddedTView(x)),x}(x,C,E,o,a,l,d,p,_):C.data[x];_o(M,!1);const N=gr(C,E,M,i);ac()&&I_(C,E,N,M),si(N,E);const U=qT(N,E,N,M);return E[x]=U,tv(E,U),function Hr(i,o,a){return uh(i,o,a)}(U,M,E),vf(M)&&Cp(C,E,M),null!=_&&Q_(E,M,b),hh}let gr=function GC(i,o,a,l){return Vr(!0),o[_t].createComment("")};function gm(i,o,a,l){const d=oe(),p=Bt(),_=ct+i,b=d[_t],E=p.firstCreatePass?function wI(i,o,a,l,d,p){const _=o.consts,E=Yl(o,i,2,l,Lo(_,d));return T0(o,a,E,Lo(_,p)),null!==E.attrs&&jp(E,E.attrs,!1),null!==E.mergedAttrs&&jp(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(_,p,d,o,a,l):p.data[_],C=vm(p,d,E,b,o,i);d[_]=C;const x=vf(E);return _o(E,!0),nT(b,C,E),32!=(32&E.flags)&&ac()&&I_(p,d,C,E),0===function cd(){return lt.lFrame.elementDepthCount}()&&si(C,d),function ZS(){lt.lFrame.elementDepthCount++}(),x&&(Cp(p,d,E),Tp(p,E,d)),null!==l&&Q_(d,E),gm}function _m(){let i=an();sc()?_l():(i=i.parent,_o(i,!1));const o=i;(function ki(i){return lt.skipHydrationRootTNode===i})(o)&&function ld(){lt.skipHydrationRootTNode=null}(),function ps(){lt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(cn(a,i),Eg(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Uf(i){return 0!=(8&i.flags)}(o)&&Nc(a,o,oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function fb(i){return 0!=(16&i.flags)}(o)&&Nc(a,o,oe(),o.stylesWithoutHost,!1),_m}function Pv(i,o,a,l){return gm(i,o,a,l),_m(),Pv}let vm=(i,o,a,l,d,p)=>(Vr(!0),__(l,d,function El(){return lt.lFrame.currentNamespace}()));function Na(i,o,a){const l=oe(),d=Bt(),p=i+ct,_=d.firstCreatePass?function cD(i,o,a,l,d){const p=o.consts,_=Lo(p,l),b=Yl(o,i,8,"ng-container",_);return null!==_&&jp(b,_,!0),T0(o,a,b,Lo(p,d)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,d,l,o,a):d.data[p];_o(_,!0);const b=$c(d,l,_,i);return l[p]=b,ac()&&I_(d,l,b,_),si(b,l),vf(_)&&(Cp(d,l,_),Tp(d,_,l)),null!=a&&Q_(l,_),Na}function js(){let i=an();const o=Bt();return sc()?_l():(i=i.parent,_o(i,!1)),o.firstCreatePass&&(cn(o,i),Eg(i)&&o.queries.elementEnd(i)),js}let $c=(i,o,a,l)=>(Vr(!0),Ub(o[_t],""));function CI(){return oe()}function Ov(i,o,a){const l=oe();return ar(l,vo(),o)&&Xi(Bt(),Ft(),l,i,o,l[_t],a,!0),Ov}const bu=void 0;var Hn=["en",[["a","p"],["AM","PM"],bu],[["AM","PM"],bu,bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bu,"{1} 'at' {0}",bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NR(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Fa={};function kv(i){const o=function La(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=uD(o);if(a)return a;const l=o.split("-")[0];if(a=uD(l),a)return a;if("en"===l)return Hn;throw new Se(701,!1)}function Dh(i){return kv(i)[Ko.PluralCase]}function uD(i){return i in Fa||(Fa[i]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[i]),Fa[i]}var Ko=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Ko||{});const Iu="en-US";let Nv=Iu;function BI(i){return!!i&&"function"==typeof i.then}function BD(i){return!!i&&"function"==typeof i.subscribe}function Du(i,o,a,l){const d=oe(),p=Bt(),_=an();return function jI(i,o,a,l,d,p,_){const b=vf(l),C=i.firstCreatePass&&Rp(i),x=o[at],M=S0(o);let N=!0;if(3&l.type||_){const ye=Lr(l,o),De=_?_(ye):ye,Ge=M.length,ge=_?$t=>_(Dn($t[l.index])):l.index;let Tt=null;if(!_&&b&&(Tt=function Yc(i,o,a,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===l){const b=o[ea],E=d[p+2];return b.length>E?b[E]:null}"string"==typeof _&&(p+=2)}return null}(i,o,d,l.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=p,Tt.__ngLastListenerFn__=p,N=!1;else{p=HI(l,o,x,p,!1);const $t=a.listen(De,d,p);M.push(p,$t),C&&C.push(d,ge,Ge,Ge+1)}}else p=HI(l,o,x,p,!1);const U=l.outputs;let Q;if(N&&null!==U&&(Q=U[d])){const ye=Q.length;if(ye)for(let De=0;De<ye;De+=2){const Xt=o[Q[De]][Q[De+1]].subscribe(p),Jr=M.length;M.push(p,Xt),C&&C.push(d,l.index,Jr,-(Jr+1))}}}(p,d,d[_t],_,i,o,l),Du}function zI(i,o,a,l){try{return No(6,o,a),!1!==a(l)}catch(d){return Sc(i,d),!1}finally{No(7,o,a)}}function HI(i,o,a,l,d){return function p(_){if(_===Function)return l;Ea(i.componentOffset>-1?sr(i.index,o):o);let E=zI(o,a,l,_),C=p.__ngNextListenerFn__;for(;C;)E=zI(o,a,C,_)&&E,C=C.__ngNextListenerFn__;return d&&!1===E&&_.preventDefault(),E}}function jD(i=1){return function jg(i){return(lt.lFrame.contextLView=function Ng(i,o){for(;i>0;)o=o[nc],i--;return o}(i,lt.lFrame.contextLView))[at]}(i)}function $I(i,o){let a=null;const l=function Ky(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(i);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===l?df(i,p,!0):Xy(l,p))return d}else a=d}return a}function Uv(i){const o=oe()[Cn][yr];if(!o.projection){const l=o.projection=function Zi(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(i?i.length:1,null),d=l.slice();let p=o.child;for(;null!==p;){const _=i?$I(p,i):0;null!==_&&(d[_]?d[_].projectionNext=p:l[_]=p,d[_]=p),p=p.next}}}function GI(i,o=0,a){const l=oe(),d=Bt(),p=Yl(d,ct+i,16,null,a||null);null===p.projection&&(p.projection=o),_l(),(!l[po]||oa())&&32!=(32&p.flags)&&function T_(i,o,a){tT(o[_t],0,o,a,Bb(i,a,o),Jw(a.parent||o[yr],a,o))}(d,l,p)}function KD(i,o=""){const a=oe(),l=Bt(),d=i+ct,p=l.firstCreatePass?Yl(l,d,1,o,null):l.data[d],_=XI(l,a,p,o,i);a[d]=_,ac()&&I_(l,a,_,p),_o(p,!1)}let XI=(i,o,a,l,d)=>(Vr(!0),function g_(i,o){return i.createText(o)}(o[_t],l));function Gv(i){return qv("",i,""),Gv}function qv(i,o,a){const l=oe(),d=function ou(i,o,a,l){return ar(i,vo(),a)?o+st(a)+l:Dt}(l,i,o,a);return d!==Dt&&$n(l,Ir(),d),qv}function Zv(i,o,a,l,d){const p=oe(),_=function Pc(i,o,a,l,d,p){const b=Ns(i,ms(),a,d);return gs(2),b?o+st(a)+l+st(d)+p:Dt}(p,i,o,a,l,d);return _!==Dt&&$n(p,Ir(),_),Zv}function JI(i,o,a,l,d,p,_){const b=oe(),E=function Oc(i,o,a,l,d,p,_,b){const C=dv(i,ms(),a,d,_);return gs(3),C?o+st(a)+l+st(d)+p+st(_)+b:Dt}(b,i,o,a,l,d,p,_);return E!==Dt&&$n(b,Ir(),E),JI}class xu{}class Pm{}function Yv(i,o){return new Kv(i,o??null,[])}class Kv extends xu{constructor(o,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new H0(this);const d=Nr(o);this._bootstrapComponents=R(d.bootstrap),this._r3Injector=Ss(o,a,[{provide:xu,useValue:this},{provide:ql,useValue:this.componentFactoryResolver},...l],Nn(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Om extends Pm{constructor(o){super(),this.moduleType=o}create(o){return new Kv(this.moduleType,o,[])}}class Vh extends xu{constructor(o){super(),this.componentFactoryResolver=new H0(this),this.instance=null;const a=new va([...o.providers,{provide:xu,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],o.parent||wd(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function km(i,o,a=null){return new Vh({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let cE=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=Ml(0,a.type),d=l.length>0?km([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:i,providedIn:"environment",factory:()=>new i(ur(Wr))})}return i})();function Qv(i){eu("NgStandalone"),i.getStandaloneInjector=o=>o.get(cE).getOrCreateStandaloneInjector(i)}function Fm(i,o,a,l,d,p){return function uA(i,o,a,l,d,p,_,b){const E=o+a;return dv(i,E,d,p,_)?So(i,E+3,b?l.call(b,d,p,_):l(d,p,_)):Jc(i,E+3)}(oe(),dr(),i,o,a,l,d,p)}function iy(i,o,a,l,d,p,_){return function Kr(i,o,a,l,d,p,_,b,E){const C=o+a;return function eo(i,o,a,l,d,p){const _=Ns(i,o,a,l);return Ns(i,o+2,d,p)||_}(i,C,d,p,_,b)?So(i,C+4,E?l.call(E,d,p,_,b):l(d,p,_,b)):Jc(i,C+4)}(oe(),dr(),i,o,a,l,d,p,_)}function Jc(i,o){const a=i[o];return a===Dt?void 0:a}function aM(){return this._results[Symbol.iterator]()}class _E{static#e=Symbol.iterator;get changes(){return this._changes??=new Ji}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=_E.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=aM)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){this.dirty=!1;const l=function oi(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function _b(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(this._results,l,a))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ba=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=yE}return i})();const vE=Ba,jh=class extends vE{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,l){const d=function im(i,o,a,l){const d=o.tView,b=wp(i,d,a,4096&i[nt]?4096:16,null,o,null,null,null,l?.injector??null,l?.dehydratedView??null);b[ss]=i[o.index];const C=i[mo];return null!==C&&(b[mo]=C.createEmbeddedView(d)),Bp(d,b,a),b}(this._declarationLView,this._declarationTContainer,o,{injector:a,dehydratedView:l});return new th(d)}};function yE(){return Mu(an(),oe())}function Mu(i,o){return 4&i.type?new jh(o,i,Zl(i,o)):null}class Pu{constructor(o){this.queryList=o,this.matches=null}clone(){return new Pu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new Lm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==yA(o,a).matches&&this.queries[a].setDirty()}}class bE{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Vm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Vm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Um{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Um(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,el(a,p)),this.matchTNodeWithReadOption(o,a,Uo(a,o,p,!1,!1))}else l===Ba?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Uo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===vp||d===om||d===Ba&&4&a.type)this.addMatch(a.index,-2);else{const p=Uo(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function el(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function cM(i,o,a,l){return-1===a?function mA(i,o){return 11&i.type?Zl(i,o):4&i.type?Mu(i,o):null}(o,i):-2===a?function IE(i,o,a){return a===vp?Zl(o,i):a===Ba?Mu(o,i):a===om?xa(o,i):void 0}(i,o,l):bo(i,i[we],a,o)}function gA(i,o,a,l){const d=o[mo].queries[l];if(null===d.matches){const p=i.data,_=a.matches,b=[];for(let E=0;E<_.length;E+=2){const C=_[E];b.push(C<0?null:cM(o,p[C],_[E+1],a.metadata.read))}d.matches=b}return d.matches}function Bm(i,o,a,l){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const _=gA(i,o,d,a);for(let b=0;b<p.length;b+=2){const E=p[b];if(E>0)l.push(_[b/2]);else{const C=p[b+1],x=o[-E];for(let M=Vn;M<x.length;M++){const N=x[M];N[ss]===N[Tn]&&Bm(N[we],N,C,l)}if(null!==x[cs]){const M=x[cs];for(let N=0;N<M.length;N++){const U=M[N];Bm(U[we],U,C,l)}}}}}return l}function _A(i){const o=oe(),a=Bt(),l=aa();yl(l+1);const d=yA(a,l);if(i.dirty&&function Af(i){return 4==(4&i[nt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Bm(a,o,l,[]):gA(a,o,d,l);i.reset(p,n0),i.notifyOnChanges()}return!0}return!1}function cy(i,o,a){const l=Bt();l.firstCreatePass&&(uy(l,new bE(i,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),Ou(l,oe(),o)}function jm(i,o,a,l){const d=Bt();if(d.firstCreatePass){const p=an();uy(d,new bE(o,a,l),p.index),function lM(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Ou(d,oe(),a)}function ly(){return function vA(i,o){return i[mo].queries[o].queryList}(oe(),aa())}function Ou(i,o,a){const l=new _E(4==(4&a));(function I0(i,o,a,l){const d=S0(o);d.push(a),i.firstCreatePass&&Rp(i).push(l,d.length-1)})(i,o,l,l.destroy),null===o[mo]&&(o[mo]=new Lm),o[mo].queries.push(new Pu(l))}function uy(i,o,a){null===i.queries&&(i.queries=new Vm),i.queries.track(new Um(o,a))}function yA(i,o){return i.queries.getByIndex(o)}class vy{constructor(o){this.full=o;const a=o.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}const PE=new vy("17.0.9");let Fu=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();class FA{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let OE=(()=>{class i{compileModuleSync(a){return new Om(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=R(Nr(a).declarations).reduce((_,b)=>{const E=Mt(b);return E&&_.push(new zp(E)),_},[]);return new FA(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Po=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mr.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const $A=new Ut(""),Zm=new Ut("");let Iy,GE=(()=>{class i{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Iy||(function qE(i){Iy=i}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}static#e=this.\u0275fac=function(l){return new(l||i)(ur(jn),ur(by),ur(Zm))};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac})}return i})(),by=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Iy?.findTestabilityInTree(this,a,l)??null}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Ey=new Ut("Application Initializer");let Wm=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=Vt(Ey,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const p=d();if(BI(p))a.push(p);else if(BD(p)){const _=new Promise((b,E)=>{p.subscribe({complete:b,error:E})});a.push(_)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const qh=new Ut("appBootstrapListener");function Vu(i,o){return Array.isArray(o)?o.reduce(Vu,i):{...i,...o}}let za=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(Wl),this.afterRenderEffectManager=Vt(Up),this.componentTypes=[],this.components=[],this.isStable=Vt(Po).hasPendingTasks.pipe((0,mn.U)(a=>!a)),this._injector=Vt(Wr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof t0;if(!this._injector.get(Wm).done)throw!d&&hi(a),new Se(405,!1);let _;_=d?a:this._injector.get(ql).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const b=function GA(i){return i.isBoundToModule}(_)?void 0:this._injector.get(xu),C=_.create(gi.NULL,[],l||_.selector,b),x=C.location.nativeElement,M=C.injector.get($A,null);return M?.registerApplication(x),C.onDestroy(()=>{this.detachView(C.hostView),wy(this.components,C),M?.unregisterApplication(x)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{try{this.afterRenderEffectManager.execute()}catch(a){this.internalErrorHandler(a)}this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;wy(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(qh,[]);[...this._bootstrapListeners,...l].forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>wy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function wy(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let MM=(()=>{class i{constructor(){this.zone=Vt(jn),this.applicationRef=Vt(za)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function OM(){const i=Vt(jn),o=Vt(Dc);return a=>i.runOutsideAngular(()=>o.handleError(a))}let NM=(()=>{class i{constructor(){this.subscription=new Rr.w0,this.initialized=!1,this.zone=Vt(jn),this.pendingTasks=Vt(Po)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{jn.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{jn.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Ym=new Ut("LocaleId",{providedIn:"root",factory:()=>Vt(Ym,Pt.Optional|Pt.SkipSelf)||function FM(){return typeof $localize<"u"&&$localize.locale||Iu}()}),QA=new Ut("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Cy=new Ut("PlatformDestroyListeners");let Km=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function xc(i="zone.js",o){return"noop"===i?new iC:"zone.js"===i?new jn(o):i}(l?.ngZone,function KA(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return d.run(()=>{const p=function aE(i,o,a){return new Kv(i,o,a)}(a.moduleType,this.injector,function YA(i){return[{provide:jn,useFactory:i},{provide:ws,multi:!0,useFactory:()=>{const o=Vt(MM,{optional:!0});return()=>o.initialize()}},{provide:ws,multi:!0,useFactory:()=>{const o=Vt(NM);return()=>{o.initialize()}}},{provide:Wl,useFactory:OM}]}(()=>d)),_=p.injector.get(Dc,null);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:E=>{_.handleError(E)}});p.onDestroy(()=>{wy(this._modules,p),b.unsubscribe()})}),function WE(i,o,a){try{const l=a();return BI(l)?l.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(_,d,()=>{const b=p.injector.get(Wm);return b.runInitializers(),b.donePromise.then(()=>(function fD(i){rt(i,"Expected localeId to be defined"),"string"==typeof i&&(Nv=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ym,Iu)||Iu),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,l=[]){const d=Vu({},l);return function ZE(i,o,a){const l=new Om(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(za);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Se(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Cy,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||i)(ur(gi))};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),At=null;const YE=new Ut("AllowMultipleToken");function Zh(i,o,a=[]){const l=`Platform: ${o}`,d=new Ut(l);return(p=[])=>{let _=En();if(!_||_.injector.get(YE,!1)){const b=[...a,...p,{provide:d,useValue:!0}];i?i(b):function eS(i){if(At&&!At.get(YE,!1))throw new Se(400,!1);(function Lu(){!function Za(i){Sr=i}(()=>{throw new Se(600,!1)})})(),At=i;const o=i.get(Km);(function nS(i){i.get(ip,null)?.forEach(a=>a())})(i)}(function KE(i=[],o){return gi.create({name:o,providers:[{provide:Ol,useValue:"platform"},{provide:Cy,useValue:new Set([()=>At=null])},...i]})}(b,l))}return function Xr(i){const o=En();if(!o)throw new Se(401,!1);return o}()}}function En(){return At?.get(Km)??null}function Dy(){return!1}const Ga=Zh(null,"core",[]);let yO=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(l){return new(l||i)(ur(za))};static#t=this.\u0275mod=ri({type:i});static#n=this.\u0275inj=Ue({})}return i})();function vS(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function nP(i,o=NaN){return isNaN(parseFloat(i))||isNaN(Number(i))?o:Number(i)}function OO(i){const o=Mt(i);if(!o)return null;const a=new zp(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},106:(on,Qe,ee)=>{ee.d(Qe,{Z:()=>ft});var h=ee(58),fe=ee(537),H=ee(534),be=ee(879);class Me{constructor(ze,it){this._delegate=ze,this.firebase=it,(0,H._addComponent)(ze,new fe.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(ze,it=H._DEFAULT_ENTRY_NAME){var en;this._delegate.checkDestroyed();const Sn=this._delegate.container.getProvider(ze);return!Sn.isInitialized()&&"EXPLICIT"===(null===(en=Sn.getComponent())||void 0===en?void 0:en.instantiationMode)&&Sn.initialize(),Sn.getImmediate({identifier:it})}_removeServiceInstance(ze,it=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(it)}_addComponent(ze){(0,H._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,H._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const dt=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function He(){const Rt=function Ot(Rt){const ze={},it={__esModule:!0,initializeApp:function pt(We,Ee={}){const F=H.initializeApp(We,Ee);if((0,h.r3)(ze,F.name))return ze[F.name];const Re=new Rt(F,it);return ze[F.name]=Re,Re},app:Sn,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function tt(We){const Ee=We.name,F=Ee.replace("-compat","");if(H._registerComponent(We)&&"PUBLIC"===We.type){const Re=(It=Sn())=>{if("function"!=typeof It[F])throw dt.create("invalid-app-argument",{appName:Ee});return It[F]()};void 0!==We.serviceProps&&(0,h.ZB)(Re,We.serviceProps),it[F]=Re,Rt.prototype[F]=function(...It){return this._getService.bind(this,Ee).apply(this,We.multipleInstances?It:[])}}return"PUBLIC"===We.type?it[F]:null},removeApp:function en(We){delete ze[We]},useAsService:function Zt(We,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:H}};function Sn(We){if(!(0,h.r3)(ze,We=We||H._DEFAULT_ENTRY_NAME))throw dt.create("no-app",{appName:We});return ze[We]}return it.default=it,Object.defineProperty(it,"apps",{get:function Ae(){return Object.keys(ze).map(We=>ze[We])}}),Sn.App=Rt,it}(Me);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function ze(it){(0,h.ZB)(Rt,it)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Rt}(),j=new be.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=q;!function ke(Rt){(0,H.registerVersion)("@firebase/app-compat","0.2.25",Rt)}()},534:(on,Qe,ee)=>{ee.r(Qe),ee.d(Qe,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>ao,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>ui,_addOrOverwriteComponent:()=>Se,_apps:()=>mt,_clearComponents:()=>tn,_components:()=>Xo,_getProvider:()=>Fn,_registerComponent:()=>Pr,_removeServiceInstance:()=>Jo,deleteApp:()=>co,getApp:()=>Lt,getApps:()=>ol,initializeApp:()=>st,onLog:()=>ts,registerVersion:()=>lo,setLogLevel:()=>Ya});var h=ee(861),fe=ee(537),H=ee(879),be=ee(58);const Me=(re,z)=>z.some(Ie=>re instanceof Ie);let ve,dt;const q=new WeakMap,j=new WeakMap,ie=new WeakMap,qe=new WeakMap,ke=new WeakMap;let ze={get(re,z,Ie){if(re instanceof IDBTransaction){if("done"===z)return j.get(re);if("objectStoreNames"===z)return re.objectStoreNames||ie.get(re);if("store"===z)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return pt(re[z])},set:(re,z,Ie)=>(re[z]=Ie,!0),has:(re,z)=>re instanceof IDBTransaction&&("done"===z||"store"===z)||z in re};function Sn(re){return"function"==typeof re?function en(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return dt||(dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...z){return re.apply(Ae(this),z),pt(q.get(this))}:function(...z){return pt(re.apply(Ae(this),z))}:function(z,...Ie){const Ue=re.call(Ae(this),z,...Ie);return ie.set(Ue,z.sort?z.sort():[z]),pt(Ue)}}(re):(re instanceof IDBTransaction&&function Rt(re){if(j.has(re))return;const z=new Promise((Ie,Ue)=>{const ut=()=>{re.removeEventListener("complete",Nt),re.removeEventListener("error",zt),re.removeEventListener("abort",zt)},Nt=()=>{Ie(),ut()},zt=()=>{Ue(re.error||new DOMException("AbortError","AbortError")),ut()};re.addEventListener("complete",Nt),re.addEventListener("error",zt),re.addEventListener("abort",zt)});j.set(re,z)}(re),Me(re,function Ot(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,ze):re)}function pt(re){if(re instanceof IDBRequest)return function ft(re){const z=new Promise((Ie,Ue)=>{const ut=()=>{re.removeEventListener("success",Nt),re.removeEventListener("error",zt)},Nt=()=>{Ie(pt(re.result)),ut()},zt=()=>{Ue(re.error),ut()};re.addEventListener("success",Nt),re.addEventListener("error",zt)});return z.then(Ie=>{Ie instanceof IDBCursor&&q.set(Ie,re)}).catch(()=>{}),ke.set(z,re),z}(re);if(qe.has(re))return qe.get(re);const z=Sn(re);return z!==re&&(qe.set(re,z),ke.set(z,re)),z}const Ae=re=>ke.get(re),We=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],F=new Map;function Re(re,z){if(!(re instanceof IDBDatabase)||z in re||"string"!=typeof z)return;if(F.get(z))return F.get(z);const Ie=z.replace(/FromIndex$/,""),Ue=z!==Ie,ut=Ee.includes(Ie);if(!(Ie in(Ue?IDBIndex:IDBObjectStore).prototype)||!ut&&!We.includes(Ie))return;const Nt=function(){var zt=(0,h.Z)(function*(Wn,...gn){const Hi=this.transaction(Wn,ut?"readwrite":"readonly");let ns=Hi.store;return Ue&&(ns=ns.index(gn.shift())),(yield Promise.all([ns[Ie](...gn),ut&&Hi.done]))[0]});return function(gn){return zt.apply(this,arguments)}}();return F.set(z,Nt),Nt}!function it(re){ze=re(ze)}(re=>({...re,get:(z,Ie,Ue)=>Re(z,Ie)||re.get(z,Ie,Ue),has:(z,Ie)=>!!Re(z,Ie)||re.has(z,Ie)}));class It{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(Ie=>{if(function xn(re){const z=re.getComponent();return"VERSION"===z?.type}(Ie)){const Ue=Ie.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(Ie=>Ie).join(" ")}}const ei="@firebase/app",xr=new H.Yd("@firebase/app"),Ve="[DEFAULT]",kt={[ei]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,Xo=new Map;function ui(re,z){try{re.container.addComponent(z)}catch(Ie){xr.debug(`Component ${z.name} failed to register with FirebaseApp ${re.name}`,Ie)}}function Se(re,z){re.container.addOrOverwriteComponent(z)}function Pr(re){const z=re.name;if(Xo.has(z))return xr.debug(`There were multiple attempts to register component ${z}.`),!1;Xo.set(z,re);for(const Ie of mt.values())ui(Ie,re);return!0}function Fn(re,z){const Ie=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Ie&&Ie.triggerHeartbeat(),re.container.getProvider(z)}function Jo(re,z,Ie=Ve){Fn(re,z).clearInstance(Ie)}function tn(){Xo.clear()}const gt=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Or{constructor(z,Ie,Ue){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},Ie),this._name=Ie.name,this._automaticDataCollectionEnabled=Ie.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}const ao="10.7.1";function st(re,z={}){let Ie=re;"object"!=typeof z&&(z={name:z});const Ue=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},z),ut=Ue.name;if("string"!=typeof ut||!ut)throw gt.create("bad-app-name",{appName:String(ut)});if(Ie||(Ie=(0,be.aH)()),!Ie)throw gt.create("no-options");const Nt=mt.get(ut);if(Nt){if((0,be.vZ)(Ie,Nt.options)&&(0,be.vZ)(Ue,Nt.config))return Nt;throw gt.create("duplicate-app",{appName:ut})}const zt=new fe.H0(ut);for(const gn of Xo.values())zt.addComponent(gn);const Wn=new Or(Ie,Ue,zt);return mt.set(ut,Wn),Wn}function Lt(re=Ve){const z=mt.get(re);if(!z&&re===Ve&&(0,be.aH)())return st();if(!z)throw gt.create("no-app",{appName:re});return z}function ol(){return Array.from(mt.values())}function co(re){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(re){const z=re.name;mt.has(z)&&(mt.delete(z),yield Promise.all(re.container.getProviders().map(Ie=>Ie.delete())),re.isDeleted=!0)})).apply(this,arguments)}function lo(re,z,Ie){var Ue;let ut=null!==(Ue=kt[re])&&void 0!==Ue?Ue:re;Ie&&(ut+=`-${Ie}`);const Nt=ut.match(/\s|\//),zt=z.match(/\s|\//);if(Nt||zt){const Wn=[`Unable to register library "${ut}" with version "${z}":`];return Nt&&Wn.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),Nt&&zt&&Wn.push("and"),zt&&Wn.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void xr.warn(Wn.join(" "))}Pr(new fe.wA(`${ut}-version`,()=>({library:ut,version:z}),"VERSION"))}function ts(re,z){if(null!==re&&"function"!=typeof re)throw gt.create("invalid-log-argument");(0,H.Am)(re,z)}function Ya(re){(0,H.Ub)(re)}const lr="firebase-heartbeat-database",Gu=1,L="firebase-heartbeat-store";let k=null;function B(){return k||(k=function tt(re,z,{blocked:Ie,upgrade:Ue,blocking:ut,terminated:Nt}={}){const zt=indexedDB.open(re,z),Wn=pt(zt);return Ue&&zt.addEventListener("upgradeneeded",gn=>{Ue(pt(zt.result),gn.oldVersion,gn.newVersion,pt(zt.transaction),gn)}),Ie&&zt.addEventListener("blocked",gn=>Ie(gn.oldVersion,gn.newVersion,gn)),Wn.then(gn=>{Nt&&gn.addEventListener("close",()=>Nt()),ut&&gn.addEventListener("versionchange",Hi=>ut(Hi.oldVersion,Hi.newVersion,Hi))}).catch(()=>{}),Wn}(lr,Gu,{upgrade:(re,z)=>{0===z&&re.createObjectStore(L)}}).catch(re=>{throw gt.create("idb-open",{originalErrorMessage:re.message})})),k}function Y(){return(Y=(0,h.Z)(function*(re){try{return yield(yield B()).transaction(L).objectStore(L).get(Ct(re))}catch(z){if(z instanceof be.ZR)xr.warn(z.message);else{const Ie=gt.create("idb-get",{originalErrorMessage:z?.message});xr.warn(Ie.message)}}})).apply(this,arguments)}function Le(re,z){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(re,z){try{const Ue=(yield B()).transaction(L,"readwrite");yield Ue.objectStore(L).put(z,Ct(re)),yield Ue.done}catch(Ie){if(Ie instanceof be.ZR)xr.warn(Ie.message);else{const Ue=gt.create("idb-set",{originalErrorMessage:Ie?.message});xr.warn(Ue.message)}}})).apply(this,arguments)}function Ct(re){return`${re.name}!${re.options.appId}`}class rr{constructor(z){this.container=z,this._heartbeatsCache=null;const Ie=this.container.getProvider("app").getImmediate();this._storage=new uo(Ie),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var z=this;return(0,h.Z)(function*(){var Ie,Ue;const Nt=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=rt();if((null!=(null===(Ie=z._heartbeatsCache)||void 0===Ie?void 0:Ie.heartbeats)||(z._heartbeatsCache=yield z._heartbeatsCachePromise,null!=(null===(Ue=z._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)))&&z._heartbeatsCache.lastSentHeartbeatDate!==zt&&!z._heartbeatsCache.heartbeats.some(Wn=>Wn.date===zt))return z._heartbeatsCache.heartbeats.push({date:zt,agent:Nt}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(Wn=>{const gn=new Date(Wn.date).valueOf();return Date.now()-gn<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,h.Z)(function*(){var Ie;if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null==(null===(Ie=z._heartbeatsCache)||void 0===Ie?void 0:Ie.heartbeats)||0===z._heartbeatsCache.heartbeats.length)return"";const Ue=rt(),{heartbeatsToSend:ut,unsentEntries:Nt}=function Ze(re,z=1024){const Ie=[];let Ue=re.slice();for(const ut of re){const Nt=Ie.find(zt=>zt.agent===ut.agent);if(Nt){if(Nt.dates.push(ut.date),Ys(Ie)>z){Nt.dates.pop();break}}else if(Ie.push({agent:ut.agent,dates:[ut.date]}),Ys(Ie)>z){Ie.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:Ie,unsentEntries:Ue}}(z._heartbeatsCache.heartbeats),zt=(0,be.L)(JSON.stringify({version:2,heartbeats:ut}));return z._heartbeatsCache.lastSentHeartbeatDate=Ue,Nt.length>0?(z._heartbeatsCache.heartbeats=Nt,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),zt})()}}function rt(){return(new Date).toISOString().substring(0,10)}class uo{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,h.Z)(function*(){if(yield z._canUseIndexedDBPromise){const Ue=yield function de(re){return Y.apply(this,arguments)}(z.app);return Ue?.heartbeats?Ue:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(z){var Ie=this;return(0,h.Z)(function*(){var Ue;if(yield Ie._canUseIndexedDBPromise){const Nt=yield Ie.read();return Le(Ie.app,{lastSentHeartbeatDate:null!==(Ue=z.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Nt.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var Ie=this;return(0,h.Z)(function*(){var Ue;if(yield Ie._canUseIndexedDBPromise){const Nt=yield Ie.read();return Le(Ie.app,{lastSentHeartbeatDate:null!==(Ue=z.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...z.heartbeats]})}})()}}function Ys(re){return(0,be.L)(JSON.stringify({version:2,heartbeats:re})).length}!function Jh(re){Pr(new fe.wA("platform-logger",z=>new It(z),"PRIVATE")),Pr(new fe.wA("heartbeat",z=>new rr(z),"PRIVATE")),lo(ei,"0.9.25",re),lo(ei,"0.9.25","esm2017"),lo("fire-js","")}("")},537:(on,Qe,ee)=>{ee.d(Qe,{H0:()=>Ot,wA:()=>H});var h=ee(861),fe=ee(58);class H{constructor(q,j,ie){this.name=q,this.instanceFactory=j,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const be="[DEFAULT]";class Me{constructor(q,j){this.name=q,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const j=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(j)){const ie=new fe.BH;if(this.instancesDeferred.set(j,ie),this.isInitialized(j)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:j});qe&&ie.resolve(qe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(q){var j;const ie=this.normalizeInstanceIdentifier(q?.identifier),qe=null!==(j=q?.optional)&&void 0!==j&&j;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if(qe)return null;throw ke}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function dt(He){return"EAGER"===He.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[j,ie]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(j);try{const ke=this.getOrInitializeService({instanceIdentifier:qe});ie.resolve(ke)}catch{}}}}clearInstance(q=be){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,h.Z)(function*(){const j=Array.from(q.instances.values());yield Promise.all([...j.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...j.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=be){return this.instances.has(q)}getOptions(q=be){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:j={}}=q,ie=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ie,options:j});for(const[ke,ft]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&ft.resolve(qe);return qe}onInit(q,j){var ie;const qe=this.normalizeInstanceIdentifier(j),ke=null!==(ie=this.onInitCallbacks.get(qe))&&void 0!==ie?ie:new Set;ke.add(q),this.onInitCallbacks.set(qe,ke);const ft=this.instances.get(qe);return ft&&q(ft,qe),()=>{ke.delete(q)}}invokeOnInitCallbacks(q,j){const ie=this.onInitCallbacks.get(j);if(ie)for(const qe of ie)try{qe(q,j)}catch{}}getOrInitializeService({instanceIdentifier:q,options:j={}}){let ie=this.instances.get(q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(He=q,He===be?void 0:He),options:j}),this.instances.set(q,ie),this.instancesOptions.set(q,j),this.invokeOnInitCallbacks(ie,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ie)}catch{}var He;return ie||null}normalizeInstanceIdentifier(q=be){return this.component?this.component.multipleInstances?q:be:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ot{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const j=this.getProvider(q.name);if(j.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);j.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const j=new Me(q,this);return this.providers.set(q,j),j}getProviders(){return Array.from(this.providers.values())}}},879:(on,Qe,ee)=>{ee.d(Qe,{Am:()=>He,Ub:()=>Ot,Yd:()=>dt,in:()=>fe});const h=[];var fe=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(fe||{});const H={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},be=fe.INFO,Me={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ve=(q,j,...ie)=>{if(j<q.logLevel)return;const qe=(new Date).toISOString(),ke=Me[j];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ke](`[${qe}]  ${q.name}:`,...ie)};class dt{constructor(j){this.name=j,this._logLevel=be,this._logHandler=ve,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in fe))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?H[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...j),this._logHandler(this,fe.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...j),this._logHandler(this,fe.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...j),this._logHandler(this,fe.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...j),this._logHandler(this,fe.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...j),this._logHandler(this,fe.ERROR,...j)}}function Ot(q){h.forEach(j=>{j.setLogLevel(q)})}function He(q,j){for(const ie of h){let qe=null;j&&j.level&&(qe=H[j.level]),ie.userLogHandler=null===q?null:(ke,ft,...Rt)=>{const ze=Rt.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");ft>=(qe??ke.logLevel)&&q({level:fe[ft].toLowerCase(),message:ze,args:Rt,type:ke.name})}}}},230:(on,Qe,ee)=>{ee.r(Qe);var h=ee(861),fe=ee(106),H=ee(58),be=ee(534),Me=ee(879),ve=ee(582),dt=ee(537);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ft=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Rt=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),en=new Me.Yd("@firebase/auth");function pt(v,...f){en.logLevel<=Me.in.ERROR&&en.error(`Auth (${be.SDK_VERSION}): ${v}`,...f)}function Ae(v,...f){throw Ee(v,...f)}function tt(v,...f){return Ee(v,...f)}function Zt(v,f,m){const I=Object.assign(Object.assign({},Rt()),{[f]:m});return new H.LL("auth","Firebase",I).create(f,{appName:v.name})}function We(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(v,"argument-error"),Zt(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ee(v,...f){if("string"!=typeof v){const m=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return ze.create(v,...f)}function F(v,f,...m){if(!v)throw Ee(f,...m)}function Re(v){const f="INTERNAL ASSERTION FAILED: "+v;throw pt(f),new Error(f)}function It(v,f){v||Re(f)}function xn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ei(){return"http:"===Sr()||"https:"===Sr()}function Sr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ji{constructor(f,m){this.shortDelay=f,this.longDelay=m,It(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function xr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ei()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function J(v,f){It(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class te{static initialize(f,m,I){this.fetchImpl=f,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ae=new ji(3e4,6e4);function ue(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function pe(v,f,m,I){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(v,f,m,I,D={}){return jt(v,D,(0,h.Z)(function*(){let R={},O={};I&&("GET"===f?O=I:R={body:JSON.stringify(I)});const G=(0,H.xO)(Object.assign({key:v.config.apiKey},O)).slice(1),se=yield v._getAdditionalHeaders();return se["Content-Type"]="application/json",v.languageCode&&(se["X-Firebase-Locale"]=v.languageCode),te.fetch()(kn(v,v.config.apiHost,m,G),Object.assign({method:f,headers:se,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function jt(v,f,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(v,f,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},le),f);try{const D=new Rr(v),R=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const O=yield R.json();if("needConfirmation"in O)throw Mr(v,"account-exists-with-different-credential",O);if(R.ok&&!("errorMessage"in O))return O;{const G=R.ok?O.errorMessage:O.error.message,[se,Ce]=G.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===se)throw Mr(v,"credential-already-in-use",O);if("EMAIL_EXISTS"===se)throw Mr(v,"email-already-in-use",O);if("USER_DISABLED"===se)throw Mr(v,"user-disabled",O);const Fe=I[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(Ce)throw Zt(v,Fe,Ce);Ae(v,Fe)}}catch(D){if(D instanceof H.ZR)throw D;Ae(v,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function Je(v,f,m,I){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(v,f,m,I,D={}){const R=yield pe(v,f,m,I,D);return"mfaPendingCredential"in R&&Ae(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function kn(v,f,m,I){const D=`${f}${m}?${I}`;return v.config.emulator?J(v.config,D):`${v.config.apiScheme}://${D}`}function wn(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(tt(this.auth,"network-request-failed")),ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mr(v,f,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const D=tt(v,f,I);return D.customData._tokenResponse=m,D}function mn(v){return void 0!==v&&void 0!==v.getResponse}function Et(v){return void 0!==v&&void 0!==v.enterprise}class Gr{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return wn(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function oo(){return(oo=(0,h.Z)(function*(v){return(yield pe(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wa(v,f){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(v,f){return pe(v,"GET","/v2/recaptchaConfig",ue(v,f))})).apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Se(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Jo(){return(Jo=(0,h.Z)(function*(v,f=!1){const m=(0,H.m9)(v),I=yield m.getIdToken(f),D=es(I);F(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const R="object"==typeof D.firebase?D.firebase:void 0,O=R?.sign_in_provider;return{claims:D,token:I,authTime:Se(tn(D.auth_time)),issuedAtTime:Se(tn(D.iat)),expirationTime:Se(tn(D.exp)),signInProvider:O||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function tn(v){return 1e3*Number(v)}function es(v){const[f,m,I]=v.split(".");if(void 0===f||void 0===m||void 0===I)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,H.tV)(m);return D?JSON.parse(D):(pt("Failed to decode base64 JWT payload"),null)}catch(D){return pt("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Or(v,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(I){throw I instanceof H.ZR&&function st({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Lt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),I)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class ol{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Se(this.lastLoginAt),this.creationTime=Se(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function co(v){return zi.apply(this,arguments)}function zi(){return zi=(0,h.Z)(function*(v){var f;const m=v.auth,I=yield v.getIdToken(),D=yield Or(v,function Xo(v,f){return ui.apply(this,arguments)}(m,{idToken:I}));F(D?.users.length,m,"internal-error");const R=D.users[0];v._notifyReloadListener(R);const O=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?function lr(v){return v.map(f=>{var{providerId:m}=f,I=(0,ve._T)(f,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(R.providerUserInfo):[],G=function Ya(v,f){return[...v.filter(I=>!f.some(D=>D.providerId===I.providerId)),...f]}(v.providerData,O),Fe=!!v.isAnonymous&&!(v.email&&R.passwordHash||G?.length),$e={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:G,metadata:new ol(R.createdAt,R.lastLoginAt),isAnonymous:Fe};Object.assign(v,$e)}),zi.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(v){const f=(0,H.m9)(v);yield co(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function L(){return(L=(0,h.Z)(function*(v,f){const m=yield jt(v,{},(0,h.Z)(function*(){const I=(0,H.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:R}=v.config,O=kn(v,D,"/v1/token",`key=${R}`),G=yield v._getAdditionalHeaders();return G["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(O,{method:"POST",headers:G,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(v,f){return pe(v,"POST","/v2/accounts:revokeToken",ue(v,f))})).apply(this,arguments)}class de{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){F(f.idToken,"internal-error"),F(typeof f.idToken<"u","internal-error"),F(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function gt(v){const f=es(v);return F(f,"internal-error"),F(typeof f.exp<"u","internal-error"),F(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var I=this;return(0,h.Z)(function*(){return F(!I.accessToken||I.refreshToken,f,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var I=this;return(0,h.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:O}=yield function Gu(v,f){return L.apply(this,arguments)}(f,m);I.updateTokensAndExpiration(D,R,Number(O))})()}updateTokensAndExpiration(f,m,I){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,m){const{refreshToken:I,accessToken:D,expirationTime:R}=m,O=new de;return I&&(F("string"==typeof I,"internal-error",{appName:f}),O.refreshToken=I),D&&(F("string"==typeof D,"internal-error",{appName:f}),O.accessToken=D),R&&(F("number"==typeof R,"internal-error",{appName:f}),O.expirationTime=R),O}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new de,this.toJSON())}_performRefresh(){return Re("not implemented")}}function Y(v,f){F("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Le{constructor(f){var{uid:m,auth:I,stsTokenManager:D}=f,R=(0,ve._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new ol(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const I=yield Or(m,m.stsTokenManager.getToken(m.auth,f));return F(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(f){return function Fn(v){return Jo.apply(this,arguments)}(this,f)}reload(){return function lo(v){return ts.apply(this,arguments)}(this)}_assign(f){this!==f&&(F(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Le(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var I=this;return(0,h.Z)(function*(){let D=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),D=!0),m&&(yield co(I)),yield I.auth._persistUserIfCurrent(I),D&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield Or(f,function Ws(v,f){return Ve.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var I,D,R,O,G,se,Ce,Fe;const $e=null!==(I=m.displayName)&&void 0!==I?I:void 0,dn=null!==(D=m.email)&&void 0!==D?D:void 0,_i=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Pd=null!==(O=m.photoURL)&&void 0!==O?O:void 0,s_=null!==(G=m.tenantId)&&void 0!==G?G:void 0,xb=null!==(se=m._redirectEventId)&&void 0!==se?se:void 0,a_=null!==(Ce=m.createdAt)&&void 0!==Ce?Ce:void 0,Bw=null!==(Fe=m.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:ap,emailVerified:Rb,isAnonymous:Od,providerData:c_,stsTokenManager:cp}=m;F(ap&&cp,f,"internal-error");const Li=de.fromJSON(this.name,cp);F("string"==typeof ap,f,"internal-error"),Y($e,f.name),Y(dn,f.name),F("boolean"==typeof Rb,f,"internal-error"),F("boolean"==typeof Od,f,"internal-error"),Y(_i,f.name),Y(Pd,f.name),Y(s_,f.name),Y(xb,f.name),Y(a_,f.name),Y(Bw,f.name);const l_=new Le({uid:ap,auth:f,email:dn,emailVerified:Rb,displayName:$e,isAnonymous:Od,photoURL:Pd,phoneNumber:_i,tenantId:s_,stsTokenManager:Li,createdAt:a_,lastLoginAt:Bw});return c_&&Array.isArray(c_)&&(l_.providerData=c_.map(kd=>Object.assign({},kd))),xb&&(l_._redirectEventId=xb),l_}static _fromIdTokenResponse(f,m,I=!1){return(0,h.Z)(function*(){const D=new de;D.updateFromServerResponse(m);const R=new Le({uid:m.localId,auth:f,stsTokenManager:D,isAnonymous:I});return yield co(R),R})()}}const ht=new Map;function Ct(v){It(v instanceof Function,"Expected a class definition");let f=ht.get(v);return f?(It(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,ht.set(v,f),f)}const Ln=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,I){var D=this;return(0,h.Z)(function*(){D.storage[m]=I})()}_get(m){var I=this;return(0,h.Z)(function*(){const D=I.storage[m];return void 0===D?null:D})()}_remove(m){var I=this;return(0,h.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function rr(v,f,m){return`firebase:${v}:${f}:${m}`}class rt{constructor(f,m,I){this.persistence=f,this.auth=m,this.userKey=I;const{config:D,name:R}=this.auth;this.fullUserKey=rr(this.userKey,D.apiKey,R),this.fullPersistenceKey=rr("persistence",D.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Le._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,I="authUser"){return(0,h.Z)(function*(){if(!m.length)return new rt(Ct(Ln),f,I);const D=(yield Promise.all(m.map(function(){var Ce=(0,h.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return Ce.apply(this,arguments)}}()))).filter(Ce=>Ce);let R=D[0]||Ct(Ln);const O=rr(I,f.config.apiKey,f.name);let G=null;for(const Ce of m)try{const Fe=yield Ce._get(O);if(Fe){const $e=Le._fromJSON(f,Fe);Ce!==R&&(G=$e),R=Ce;break}}catch{}const se=D.filter(Ce=>Ce._shouldAllowMigration);return R._shouldAllowMigration&&se.length?(R=se[0],G&&(yield R._set(O,G.toJSON())),yield Promise.all(m.map(function(){var Ce=(0,h.Z)(function*(Fe){if(Fe!==R)try{yield Fe._remove(O)}catch{}});return function(Fe){return Ce.apply(this,arguments)}}())),new rt(R,f,I)):new rt(R,f,I)})()}}function Ze(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(re(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(uo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ie(f))return"Blackberry";if(Ue(f))return"Webos";if(Ys(f))return"Safari";if((f.includes("chrome/")||Jh(f))&&!f.includes("edge/"))return"Chrome";if(z(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function uo(v=(0,H.z$)()){return/firefox\//i.test(v)}function Ys(v=(0,H.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Jh(v=(0,H.z$)()){return/crios\//i.test(v)}function re(v=(0,H.z$)()){return/iemobile/i.test(v)}function z(v=(0,H.z$)()){return/android/i.test(v)}function Ie(v=(0,H.z$)()){return/blackberry/i.test(v)}function Ue(v=(0,H.z$)()){return/webos/i.test(v)}function ut(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function gn(v=(0,H.z$)()){return ut(v)||z(v)||Ue(v)||Ie(v)||/windows phone/i.test(v)||re(v)}function ns(v,f=[]){let m;switch(v){case"Browser":m=Ze((0,H.z$)());break;case"Worker":m=`${Ze((0,H.z$)())}-${v}`;break;default:m=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${be.SDK_VERSION}/${I}`}class qu{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const I=R=>new Promise((O,G)=>{try{O(f(R))}catch(se){G(se)}});I.onAbort=m,this.queue.push(I);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===f)return;const I=[];try{for(const D of m.queue)yield D(f),D.onAbort&&I.push(D.onAbort)}catch(D){I.reverse();for(const R of I)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}function Pt(){return(Pt=(0,h.Z)(function*(v,f={}){return pe(v,"GET","/v2/passwordPolicy",ue(v,f))})).apply(this,arguments)}class tf{constructor(f){var m,I,D,R;const O=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=O.minPasswordLength)&&void 0!==m?m:6,O.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=O.maxPasswordLength),void 0!==O.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=O.containsLowercaseCharacter),void 0!==O.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=O.containsUppercaseCharacter),void 0!==O.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=O.containsNumericCharacter),void 0!==O.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=O.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(D=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==D?D:"",this.forceUpgradeOnSignin=null!==(R=f.forceUpgradeOnSignin)&&void 0!==R&&R,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,I,D,R,O,G;const se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,se),this.validatePasswordCharacterOptions(f,se),se.isValid&&(se.isValid=null===(m=se.meetsMinPasswordLength)||void 0===m||m),se.isValid&&(se.isValid=null===(I=se.meetsMaxPasswordLength)||void 0===I||I),se.isValid&&(se.isValid=null===(D=se.containsLowercaseLetter)||void 0===D||D),se.isValid&&(se.isValid=null===(R=se.containsUppercaseLetter)||void 0===R||R),se.isValid&&(se.isValid=null===(O=se.containsNumericCharacter)||void 0===O||O),se.isValid&&(se.isValid=null===(G=se.containsNonAlphanumericCharacter)||void 0===G||G),se}validatePasswordLengthOptions(f,m){const I=this.customStrengthOptions.minPasswordLength,D=this.customStrengthOptions.maxPasswordLength;I&&(m.meetsMinPasswordLength=f.length>=I),D&&(m.meetsMaxPasswordLength=f.length<=D)}validatePasswordCharacterOptions(f,m){let I;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let D=0;D<f.length;D++)I=f.charAt(D),this.updatePasswordCharacterOptionsStatuses(m,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,m,I,D,R){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=D)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=R))}}class ti{constructor(f,m,I,D){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _g(this),this.idTokenSubscription=new _g(this),this.beforeStateQueue=new qu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(f,m){var I=this;return m&&(this._popupRedirectResolver=Ct(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var D,R;if(!I._deleted&&(I.persistenceManager=yield rt.create(I,f),!I._deleted)){if(null!==(D=I._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(R=I.currentUser)||void 0===R?void 0:R.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var I;const D=yield m.assertedPersistence.getCurrentUser();let R=D,O=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const G=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,se=R?._redirectEventId,Ce=yield m.tryRedirectSignIn(f);(!G||G===se)&&Ce?.user&&(R=Ce.user,O=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(O)try{yield m.beforeStateQueue.runMiddleware(R)}catch(G){R=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(G))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return F(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield co(f)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Za(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const I=f?(0,H.m9)(f):null;return I&&F(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(f,m=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return f&&F(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(Ct(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,h.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const I=m._getPasswordPolicyInternal();return I.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,h.Z)(function*(){const m=yield function gg(v){return Pt.apply(this,arguments)}(f),I=new tf(m);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new H.LL("auth","Firebase",f())}onAuthStateChanged(f,m,I){return this.registerStateListener(this.authStateSubscription,f,m,I)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,I){return this.registerStateListener(this.idTokenSubscription,f,m,I)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,h.Z)(function*(){if(m.currentUser){const I=yield m.currentUser.getIdToken(),D={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=m.tenantId&&(D.tenantId=m.tenantId),yield function k(v,f){return B.apply(this,arguments)}(m,D)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var I=this;return(0,h.Z)(function*(){const D=yield I.getOrInitRedirectPersistenceManager(m);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const I=f&&Ct(f)||m._popupRedirectResolver;F(I,m,"argument-error"),m.redirectPersistenceManager=yield rt.create(m,[Ct(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var I,D;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===f?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,I,D){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m);let O=!1;const G=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(G,this,"internal-error"),G.then(()=>{O||R(this.currentUser)}),"function"==typeof m){const se=f.addObserver(m,I,D);return()=>{O=!0,se()}}{const se=f.addObserver(m);return()=>{O=!0,se()}}}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ns(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const D=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();D&&(I["X-Firebase-Client"]=D);const R=yield f._getAppCheckToken();return R&&(I["X-Firebase-AppCheck"]=R),I})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var m;const I=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function Sn(v,...f){en.logLevel<=Me.in.WARN&&en.warn(`Auth (${be.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function sn(v){return(0,H.m9)(v)}class _g{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zu(v){return new Promise((f,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=D=>{const R=tt("internal-error");R.customData=D,m(R)},I.type="text/javascript",I.charset="UTF-8",function ir(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)})}function jy(v){return`__${v}${Math.floor(1e6*Math.random())}`}class al{constructor(f){this.type="recaptcha-enterprise",this.auth=sn(f)}verify(f="verify",m=!1){var I=this;return(0,h.Z)(function*(){function R(){return R=(0,h.Z)(function*(G){if(!m){if(null==G.tenantId&&null!=G._agentRecaptchaConfig)return G._agentRecaptchaConfig.siteKey;if(null!=G.tenantId&&void 0!==G._tenantRecaptchaConfigs[G.tenantId])return G._tenantRecaptchaConfigs[G.tenantId].siteKey}return new Promise(function(){var se=(0,h.Z)(function*(Ce,Fe){Wa(G,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($e=>{if(void 0!==$e.recaptchaKey){const dn=new Gr($e);return null==G.tenantId?G._agentRecaptchaConfig=dn:G._tenantRecaptchaConfigs[G.tenantId]=dn,Ce(dn.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch($e=>{Fe($e)})});return function(Ce,Fe){return se.apply(this,arguments)}}())}),R.apply(this,arguments)}function O(G,se,Ce){const Fe=window.grecaptcha;Et(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute(G,{action:f}).then($e=>{se($e)}).catch(()=>{se("NO_RECAPTCHA")})}):Ce(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((G,se)=>{(function D(G){return R.apply(this,arguments)})(I.auth).then(Ce=>{if(!m&&Et(window.grecaptcha))O(Ce,G,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));Zu("https://www.google.com/recaptcha/enterprise.js?render="+Ce).then(()=>{O(Ce,G,se)}).catch(Fe=>{se(Fe)})}}).catch(Ce=>{se(Ce)})})})()}}function Wu(v,f,m){return rf.apply(this,arguments)}function rf(){return(rf=(0,h.Z)(function*(v,f,m,I=!1){const D=new al(v);let R;try{R=yield D.verify(m)}catch{R=yield D.verify(m,!0)}const O=Object.assign({},f);return Object.assign(O,I?{captchaResp:R}:{captchaResponse:R}),Object.assign(O,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(O,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),O})).apply(this,arguments)}function Ka(v,f,m,I){return zy.apply(this,arguments)}function zy(){return zy=(0,h.Z)(function*(v,f,m,I){var D;if(null!==(D=v._getRecaptchaConfig())&&void 0!==D&&D.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const R=yield Wu(v,f,m,"getOobCode"===m);return I(v,R)}return I(v,f).catch(function(){var R=(0,h.Z)(function*(O){if("auth/missing-recaptcha-token"===O.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const G=yield Wu(v,f,m,"getOobCode"===m);return I(v,G)}return Promise.reject(O)});return function(O){return R.apply(this,arguments)}}())}),zy.apply(this,arguments)}function ni(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function vg(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Qa{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Re("not implemented")}_getIdTokenResponse(f){return Re("not implemented")}_linkToIdToken(f,m){return Re("not implemented")}_getReauthenticationResolver(f){return Re("not implemented")}}function sf(v,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:resetPassword",ue(v,f))})).apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zy(v,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",ue(v,f))})).apply(this,arguments)}function Ku(v,f){return ll.apply(this,arguments)}function ll(){return(ll=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithPassword",ue(v,f))})).apply(this,arguments)}function is(v,f){return af.apply(this,arguments)}function af(){return(af=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:sendOobCode",ue(v,f))})).apply(this,arguments)}function cf(){return(cf=(0,h.Z)(function*(v,f){return is(v,f)})).apply(this,arguments)}function ko(v,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(v,f){return is(v,f)})).apply(this,arguments)}function os(v,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(v,f){return is(v,f)})).apply(this,arguments)}function Xa(){return(Xa=(0,h.Z)(function*(v,f){return is(v,f)})).apply(this,arguments)}function lf(){return(lf=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithEmailLink",ue(v,f))})).apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithEmailLink",ue(v,f))})).apply(this,arguments)}class Xs extends Qa{constructor(f,m,I,D=null){super("password",I),this._email=f,this._password=m,this._tenantId=D}static _fromEmailAndPassword(f,m){return new Xs(f,m,"password")}static _fromEmailAndCode(f,m,I=null){return new Xs(f,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return Ka(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ku);case"emailLink":return function ul(v,f){return lf.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return Ka(f,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zy);case"emailLink":return function Yy(v,f){return Qs.apply(this,arguments)}(f,{idToken:m,email:I._email,oobCode:I._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function fo(v,f){return uf.apply(this,arguments)}function uf(){return(uf=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithIdp",ue(v,f))})).apply(this,arguments)}class $i extends Qa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new $i(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:D}=m,R=(0,ve._T)(m,["providerId","signInMethod"]);if(!I||!D)return null;const O=new $i(I,D);return O.idToken=R.idToken||void 0,O.accessToken=R.accessToken||void 0,O.secret=R.secret,O.nonce=R.nonce,O.pendingToken=R.pendingToken||null,O}_getIdTokenResponse(f){return fo(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,fo(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,fo(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,H.xO)(m)}return f}}function xi(){return(xi=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:sendVerificationCode",ue(v,f))})).apply(this,arguments)}function df(){return(df=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,f))})).apply(this,arguments)}function hf(){return(hf=(0,h.Z)(function*(v,f){const m=yield Je(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,f));if(m.temporaryProof)throw Mr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Qy={USER_NOT_FOUND:"user-not-found"};function Xu(){return(Xu=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Qy)})).apply(this,arguments)}class Ja extends Qa{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ja({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ja({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Cw(v,f){return df.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Ky(v,f){return hf.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xy(v,f){return Xu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:I,verificationCode:D}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:I,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:I,phoneNumber:D,temporaryProof:R}=f;return I||m||D||R?new Ja({verificationId:m,verificationCode:I,phoneNumber:D,temporaryProof:R}):null}}class ec{constructor(f){var m,I,D,R,O,G;const se=(0,H.zd)((0,H.pd)(f)),Ce=null!==(m=se.apiKey)&&void 0!==m?m:null,Fe=null!==(I=se.oobCode)&&void 0!==I?I:null,$e=function ff(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=se.mode)&&void 0!==D?D:null);F(Ce&&Fe&&$e,"argument-error"),this.apiKey=Ce,this.operation=$e,this.code=Fe,this.continueUrl=null!==(R=se.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(O=se.languageCode)&&void 0!==O?O:null,this.tenantId=null!==(G=se.tenantId)&&void 0!==G?G:null}static parseLink(f){const m=function Dw(v){const f=(0,H.zd)((0,H.pd)(v)).link,m=f?(0,H.zd)((0,H.pd)(f)).deep_link_id:null,I=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(I?(0,H.zd)((0,H.pd)(I)).link:null)||I||m||f||v}(f);try{return new ec(m)}catch{return null}}}let pf=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return Xs._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const D=ec.parseLink(I);return F(D,"argument-error"),Xs._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ri{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Js extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class tc extends Js{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return F("providerId"in m&&"signInMethod"in m,"argument-error"),$i._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return F(f.idToken||f.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return tc.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return tc.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:D,pendingToken:R,nonce:O,providerId:G}=f;if(!I&&!D&&!m&&!R||!G)return null;try{return new tc(G)._credential({idToken:m,accessToken:I,nonce:O,pendingToken:R})}catch{return null}}}let mf=(()=>{class v extends Js{constructor(){super("facebook.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Mt=(()=>{class v extends Js{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:D}=m;if(!I&&!D)return null;try{return v.credential(I,D)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),or=(()=>{class v extends Js{constructor(){super("github.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class hi extends Qa{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return fo(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,fo(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,fo(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:D,pendingToken:R}=m;return I&&D&&R&&I===D?new hi(I,R):null}static _create(f,m){return new hi(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dl extends ri{constructor(f){F(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return dl.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return dl.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=hi.fromJSON(f);return F(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:I}=f;if(!m||!I)return null;try{return hi._create(I,m)}catch{return null}}}let Ig=(()=>{class v extends Js{constructor(){super("twitter.com")}static credential(m,I){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:D}=m;if(!I||!D)return null;try{return v.credential(I,D)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ju(v,f){return gf.apply(this,arguments)}function gf(){return(gf=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signUp",ue(v,f))})).apply(this,arguments)}class Ri{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,I,D=!1){return(0,h.Z)(function*(){const R=yield Le._fromIdTokenResponse(f,I,D),O=Rn(I);return new Ri({user:R,providerId:O,_tokenResponse:I,operationType:m})})()}static _forOperation(f,m,I){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const D=Rn(I);return new Ri({user:f,providerId:D,_tokenResponse:I,operationType:m})})()}}function Rn(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function nt(){return(nt=(0,h.Z)(function*(v){var f;const m=sn(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Ri({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Ju(m,{returnSecureToken:!0}),D=yield Ri._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Tn extends H.ZR{constructor(f,m,I,D){var R;super(m.code,m.message),this.operationType=I,this.user=D,Object.setPrototypeOf(this,Tn.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,m,I,D){return new Tn(f,m,I,D)}}function Mi(v,f,m,I){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Tn._fromErrorAndOperation(v,R,f,I):R})}function yr(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function ea(){return ea=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v);yield Pi(!0,m,f);const{providerUserInfo:I}=yield function kt(v,f){return mt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),D=yr(I||[]);return m.providerData=m.providerData.filter(R=>D.has(R.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ea.apply(this,arguments)}function at(v,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(v,f,m=!1){const I=yield Or(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return Ri._forOperation(v,"link",I)})).apply(this,arguments)}function Pi(v,f,m){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(v,f,m){yield co(f);const D=!1===v?"provider-already-linked":"no-such-provider";F(yr(f.providerData).has(m)===v,f.auth,D)})).apply(this,arguments)}function hl(v,f){return _f.apply(this,arguments)}function _f(){return(_f=(0,h.Z)(function*(v,f,m=!1){const{auth:I}=v,D="reauthenticate";try{const R=yield Or(v,Mi(I,D,f,v),m);F(R.idToken,I,"internal-error");const O=es(R.idToken);F(O,I,"internal-error");const{sub:G}=O;return F(v.uid===G,I,"user-mismatch"),Ri._forOperation(v,D,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ae(I,"user-mismatch"),R}})).apply(this,arguments)}function nc(v,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(v,f,m=!1){const I="signIn",D=yield Mi(v,I,f),R=yield Ri._fromIdTokenResponse(v,I,D);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function ss(v,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(v,f){return nc(sn(v),f)})).apply(this,arguments)}function mo(v,f){return rc.apply(this,arguments)}function rc(){return(rc=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v);return yield Pi(!1,m,f.providerId),at(m,f)})).apply(this,arguments)}function ed(v,f){return go.apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(v,f){return hl((0,H.m9)(v),f)})).apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithCustomToken",ue(v,f))})).apply(this,arguments)}function nd(){return nd=(0,h.Z)(function*(v,f){const m=sn(v),I=yield function td(v,f){return Gi.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),D=yield Ri._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(D.user),D}),nd.apply(this,arguments)}class as{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?fi._fromServerResponse(f,m):"totpInfo"in m?na._fromServerResponse(f,m):Ae(f,"internal-error")}}class fi extends as{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new fi(m)}}class na extends as{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new na(m)}}function cs(v,f,m){var I;F((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),F(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(F(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(F(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Vn(v){return fl.apply(this,arguments)}function fl(){return(fl=(0,h.Z)(function*(v){const f=sn(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(v,f,m){const I=sn(v),D={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&cs(I,D,m),yield Ka(I,D,"getOobCode",ko)})).apply(this,arguments)}function ls(){return ls=(0,h.Z)(function*(v,f,m){yield sf((0,H.m9)(v),{oobCode:f,newPassword:m}).catch(function(){var I=(0,h.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&Vn(v),D});return function(D){return I.apply(this,arguments)}}())}),ls.apply(this,arguments)}function Oi(){return Oi=(0,h.Z)(function*(v,f){yield function yg(v,f){return Vt.apply(this,arguments)}((0,H.m9)(v),{oobCode:f})}),Oi.apply(this,arguments)}function yf(v,f){return bf.apply(this,arguments)}function bf(){return(bf=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v),I=yield sf(m,{oobCode:f}),D=I.requestType;switch(F(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":F(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":F(I.mfaInfo,m,"internal-error");default:F(I.email,m,"internal-error")}let R=null;return I.mfaInfo&&(R=as._fromServerResponse(sn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:R},operation:D}})).apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(v,f){const{data:m}=yield yf((0,H.m9)(v),f);return m.email})).apply(this,arguments)}function Tg(){return(Tg=(0,h.Z)(function*(v,f,m){const I=sn(v),O=yield Ka(I,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ju).catch(se=>{throw"auth/password-does-not-meet-requirements"===se.code&&Vn(v),se}),G=yield Ri._fromIdTokenResponse(I,"signIn",O);return yield I._updateCurrentUser(G.user),G})).apply(this,arguments)}function Jy(){return(Jy=(0,h.Z)(function*(v,f,m){const I=sn(v),D={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function R(O,G){F(G.handleCodeInApp,I,"argument-error"),G&&cs(I,O,G)})(D,m),yield Ka(I,D,"getOobCode",os)})).apply(this,arguments)}function eb(){return(eb=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v),D=pf.credentialWithLink(f,m||xn());return F(D._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ss(I,D)})).apply(this,arguments)}function tb(){return(tb=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:createAuthUri",ue(v,f))})).apply(this,arguments)}function ml(){return ml=(0,h.Z)(function*(v,f){const I={identifier:f,continueUri:ei()?xn():"http://localhost"},{signinMethods:D}=yield function $S(v,f){return tb.apply(this,arguments)}((0,H.m9)(v),I);return D||[]}),ml.apply(this,arguments)}function Dg(){return Dg=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&cs(m.auth,D,f);const{email:R}=yield function Wy(v,f){return cf.apply(this,arguments)}(m.auth,D);R!==v.email&&(yield v.reload())}),Dg.apply(this,arguments)}function us(){return us=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&cs(I.auth,R,m);const{email:O}=yield function Yt(v,f){return Xa.apply(this,arguments)}(I.auth,R);O!==v.email&&(yield v.reload())}),us.apply(this,arguments)}function xg(){return(xg=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Rg(){return Rg=(0,h.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const I=(0,H.m9)(v),R={idToken:yield I.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},O=yield Or(I,function Sg(v,f){return xg.apply(this,arguments)}(I.auth,R));I.displayName=O.displayName||null,I.photoURL=O.photoUrl||null;const G=I.providerData.find(({providerId:se})=>"password"===se);G&&(G.displayName=I.displayName,G.photoURL=I.photoURL),yield I._updateTokensIfNecessary(O)}),Rg.apply(this,arguments)}function If(v,f,m){return ra.apply(this,arguments)}function ra(){return ra=(0,h.Z)(function*(v,f,m){const{auth:I}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(R.email=f),m&&(R.password=m);const O=yield Or(v,function qy(v,f){return ho.apply(this,arguments)}(I,R));yield v._updateTokensIfNecessary(O,!0)}),ra.apply(this,arguments)}class hs{constructor(f,m,I={}){this.isNewUser=f,this.providerId=m,this.profile=I}}class rd extends hs{constructor(f,m,I,D){super(f,m,I),this.username=D}}class wf extends hs{constructor(f,m){super(f,"facebook.com",m)}}class Pg extends rd{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class nb extends hs{constructor(f,m){super(f,"google.com",m)}}class Tf extends rd{constructor(f,m,I){super(f,"twitter.com",m,I)}}function rb(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ef(v){var f,m;if(!v)return null;const{providerId:I}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const O=null===(m=null===(f=es(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(O)return new hs(R,"anonymous"!==O&&"custom"!==O?O:null)}if(!I)return null;switch(I){case"facebook.com":return new wf(R,D);case"github.com":return new Pg(R,D);case"google.com":return new nb(R,D);case"twitter.com":return new Tf(R,D,v.screenName||null);case"custom":case"anonymous":return new hs(R,null);default:return new hs(R,I,D)}}(m)}class sr{constructor(f,m,I){this.type=f,this.credential=m,this.user=I}static _fromIdtoken(f,m){return new sr("enroll",f,m)}static _fromMfaPendingCredential(f){return new sr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,I;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return sr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return sr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Af{constructor(f,m,I){this.session=f,this.hints=m,this.signInResolver=I}static _fromError(f,m){const I=sn(f),D=m.customData._serverResponse,R=(D.mfaInfo||[]).map(G=>as._fromServerResponse(I,G));F(D.mfaPendingCredential,I,"internal-error");const O=sr._fromMfaPendingCredential(D.mfaPendingCredential);return new Af(O,R,function(){var G=(0,h.Z)(function*(se){const Ce=yield se._process(I,O);delete D.mfaInfo,delete D.mfaPendingCredential;const Fe=Object.assign(Object.assign({},D),{idToken:Ce.idToken,refreshToken:Ce.refreshToken});switch(m.operationType){case"signIn":const $e=yield Ri._fromIdTokenResponse(I,m.operationType,Fe);return yield I._updateCurrentUser($e.user),$e;case"reauthenticate":return F(m.user,I,"internal-error"),Ri._forOperation(m.user,m.operationType,Fe);default:Ae(I,"internal-error")}});return function(se){return G.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}class sd{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>as._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new sd(f)}getSession(){var f=this;return(0,h.Z)(function*(){return sr._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var I=this;return(0,h.Z)(function*(){const D=f,R=yield I.getSession(),O=yield Or(I.user,D._process(I.user.auth,R,m));return yield I.user._updateTokensIfNecessary(O),I.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const I="string"==typeof f?f:f.uid,D=yield m.user.getIdToken();try{const R=yield Or(m.user,function Ng(v,f){return pe(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ue(v,f))}(m.user.auth,{idToken:D,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:O})=>O!==I),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const gl=new WeakMap,ia="__sak";class ad{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ia,"1"),this.storage.removeItem(ia),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const cd=(()=>{class v extends ad{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fs(){const v=(0,H.z$)();return Ys(v)||ut(v)}()&&function Hi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const D=this.storage.getItem(I),R=this.localCache[I];D!==R&&m(I,R,D)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((G,se,Ce)=>{this.notifyListeners(G,Ce)});const D=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const G=this.storage.getItem(D);if(m.newValue!==G)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!I)return}const R=()=>{const G=this.storage.getItem(D);!I&&this.localCache[D]===G||this.notifyListeners(D,G)},O=this.storage.getItem(D);!function Wn(){return(0,H.w1)()&&10===document.documentMode}()||O===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,I){this.localCache[m]=I;const D=this.listeners[m];if(D)for(const R of Array.from(D))R(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var D=()=>super._set,R=this;return(0,h.Z)(function*(){yield D().call(R,m,I),R.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,D=this;return(0,h.Z)(function*(){const R=yield I().call(D,m);return D.localCache[m]=JSON.stringify(R),R})()}_remove(m){var I=()=>super._remove,D=this;return(0,h.Z)(function*(){yield I().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),ps=(()=>{class v extends ad{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let oa=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(R=>R.isListeningto(m));if(I)return I;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,h.Z)(function*(){const D=m,{eventId:R,eventType:O,data:G}=D.data,se=I.handlersMap[O];if(!se?.size)return;D.ports[0].postMessage({status:"ack",eventId:R,eventType:O});const Ce=Array.from(se).map(function(){var $e=(0,h.Z)(function*(dn){return dn(D.origin,G)});return function(dn){return $e.apply(this,arguments)}}()),Fe=yield function xf(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return f.apply(this,arguments)}}()))}(Ce);D.ports[0].postMessage({status:"done",eventId:R,eventType:O,response:Fe})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ki(v="",f=10){let m="";for(let I=0;I<f;I++)m+=Math.floor(10*Math.random());return v+m}class sb{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,I=50){var D=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let O,G;return new Promise((se,Ce)=>{const Fe=ki("",20);R.port1.start();const $e=setTimeout(()=>{Ce(new Error("unsupported_event"))},I);G={messageChannel:R,onMessage(dn){const _i=dn;if(_i.data.eventId===Fe)switch(_i.data.status){case"ack":clearTimeout($e),O=setTimeout(()=>{Ce(new Error("timeout"))},3e3);break;case"done":clearTimeout(O),se(_i.data.response);break;default:clearTimeout($e),clearTimeout(O),Ce(new Error("invalid_response"))}}},D.handlers.add(G),R.port1.addEventListener("message",G.onMessage),D.target.postMessage({eventType:f,eventId:Fe,data:m},[R.port2])}).finally(()=>{G&&D.removeMessageHandler(G)})})()}}function Yn(){return window}function ld(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function Bt(){return(Bt=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const an="firebaseLocalStorageDb",sa="firebaseLocalStorage",_o="fbase_key";class sc{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function _l(v,f){return v.transaction([sa],f?"readwrite":"readonly").objectStore(sa)}function Ug(){const v=indexedDB.open(an,1);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(sa,{keyPath:_o})}catch(D){m(D)}}),v.addEventListener("success",(0,h.Z)(function*(){const I=v.result;I.objectStoreNames.contains(sa)?f(I):(I.close(),yield function Vg(){const v=indexedDB.deleteDatabase(an);return new sc(v).toPromise()}(),f(yield Ug()))}))})}function ud(v,f,m){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(v,f,m){const I=_l(v,!0).put({[_o]:f,value:m});return new sc(I).toPromise()})).apply(this,arguments)}function Mf(){return(Mf=(0,h.Z)(function*(v,f){const m=_l(v,!1).get(f),I=yield new sc(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function vo(v,f){const m=_l(v,!0).delete(f);return new sc(m).toPromise()}const vl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Ug()),m.db})()}_withRetries(m){var I=this;return(0,h.Z)(function*(){let D=0;for(;;)try{const R=yield I._openDb();return yield m(R)}catch(R){if(D++>3)throw R;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return ld()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=oa._getInstance(function Lg(){return ld()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(D,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(D,R){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(D,R){return["keyChanged"]});return function(D,R){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var I,D;if(m.activeServiceWorker=yield function oe(){return Bt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new sb(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);R&&null!==(I=R[0])&&void 0!==I&&I.fulfilled&&null!==(D=R[0])&&void 0!==D&&D.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function ab(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ug();return yield ud(m,ia,"1"),yield vo(m,ia),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(R=>ud(R,m,I)),D.localCache[m]=I,D.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,h.Z)(function*(){const D=yield I._withRetries(R=>function ms(v,f){return Mf.apply(this,arguments)}(R,m));return I.localCache[m]=D,D})()}_remove(m){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(D=>vo(D,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const I=yield m._withRetries(O=>{const G=_l(O,!1).getAll();return new sc(G).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const D=[],R=new Set;if(0!==I.length)for(const{fbase_key:O,value:G}of I)R.add(O),JSON.stringify(m.localCache[O])!==JSON.stringify(G)&&(m.notifyListeners(O,G),D.push(O));for(const O of Object.keys(m.localCache))m.localCache[O]&&!R.has(O)&&(m.notifyListeners(O,null),D.push(O));return D})()}notifyListeners(m,I){this.localCache[m]=I;const D=this.listeners[m];if(D)for(const R of Array.from(D))R(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),bl=1e12;class Of{constructor(f){this.auth=f,this.counter=bl,this._widgets=new Map}render(f,m){const I=this.counter;return this._widgets.set(I,new dd(f,this.auth.name,m||{})),this.counter++,I}reset(f){var m;const I=f||bl;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(f){var m;return(null===(m=this._widgets.get(f||bl))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var I;return null===(I=m._widgets.get(f||bl))||void 0===I||I.execute(),""})()}}class dd{constructor(f,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;F(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kf(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Il=jy("rcb"),Bg=new ji(3e4,6e4);class hd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Yn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return F(function jg(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&mn(Yn().grecaptcha)?Promise.resolve(Yn().grecaptcha):new Promise((I,D)=>{const R=Yn().setTimeout(()=>{D(tt(f,"network-request-failed"))},Bg.get());Yn()[Il]=()=>{Yn().clearTimeout(R),delete Yn()[Il];const G=Yn().grecaptcha;if(!G||!mn(G))return void D(tt(f,"internal-error"));const se=G.render;G.render=(Ce,Fe)=>{const $e=se(Ce,Fe);return this.counter++,$e},this.hostLanguage=m,I(G)},Zu(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Il,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),D(tt(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Yn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ir{load(f){return(0,h.Z)(function*(){return new Of(f)})()}clearedOneInstance(){}}const _s="recaptcha",Ft={theme:"light",type:"image"};class lb{constructor(f,m,I=Object.assign({},Ft)){this.parameters=I,this.type=_s,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sn(f),this.isInvisible="invisible"===this.parameters.size,F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof m?document.getElementById(m):m;F(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ir:new hd,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(m)||new Promise(R=>{const O=G=>{G&&(f.tokenChangeListeners.delete(O),R(G))};f.tokenChangeListeners.add(O),f.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof f)f(m);else if("string"==typeof f){const I=Yn()[f];"function"==typeof I&&I(m)}}}assertNotDestroyed(){F(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){F(ei()&&!ld(),f.auth,"internal-error"),yield function ub(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Nn(v){return oo.apply(this,arguments)}(f.auth);F(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ff{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ja._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function El(){return(El=(0,h.Z)(function*(v,f,m){const I=sn(v),D=yield cn(I,f,(0,H.m9)(m));return new Ff(D,R=>ss(I,R))})).apply(this,arguments)}function ac(){return(ac=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);yield Pi(!1,I,"phone");const D=yield cn(I.auth,f,(0,H.m9)(m));return new Ff(D,R=>mo(I,R))})).apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v),D=yield cn(I.auth,f,(0,H.m9)(m));return new Ff(D,R=>ed(I,R))})).apply(this,arguments)}function cn(v,f,m){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,h.Z)(function*(v,f,m){var I;const D=yield m.verify();try{let R;if(F("string"==typeof D,v,"argument-error"),F(m.type===_s,v,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const O=R.session;if("phoneNumber"in R)return F("enroll"===O.type,v,"internal-error"),(yield function Mw(v,f){return pe(v,"POST","/v2/accounts/mfaEnrollment:start",ue(v,f))}(v,{idToken:O.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{F("signin"===O.type,v,"internal-error");const G=(null===(I=R.multiFactorHint)||void 0===I?void 0:I.uid)||R.multiFactorUid;return F(G,v,"missing-multi-factor-info"),(yield function Un(v,f){return pe(v,"POST","/v2/accounts/mfaSignIn:start",ue(v,f))}(v,{mfaPendingCredential:O.credential,mfaEnrollmentId:G,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:O}=yield function Qu(v,f){return xi.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:D});return O}}finally{m._reset()}}),Ni.apply(this,arguments)}function wl(){return(wl=(0,h.Z)(function*(v,f){yield at((0,H.m9)(v),f)})).apply(this,arguments)}let cc=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=sn(m)}verifyPhoneNumber(m,I){return cn(this.auth,m,(0,H.m9)(I))}static credential(m,I){return Ja._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:D}=m;return I&&D?Ja._fromTokenResponse(I,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function vs(v,f){return f?Ct(f):(F(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Lf extends Qa{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return fo(f,this._buildIdpRequest())}_linkToIdToken(f,m){return fo(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return fo(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function ca(v){return nc(v.auth,new Lf(v),v.bypassAuthState)}function Tl(v){const{auth:f,user:m}=v;return F(m,f,"internal-error"),hl(m,new Lf(v),v.bypassAuthState)}function hb(v){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(v){const{auth:f,user:m}=v;return F(m,f,"internal-error"),at(m,new Lf(v),v.bypassAuthState)})).apply(this,arguments)}class Vf{constructor(f,m,I,D,R=!1){this.auth=f,this.resolver=I,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(I,D){f.pendingPromise={resolve:I,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(I,D){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:D,postBody:R,tenantId:O,error:G,type:se}=f;if(G)return void m.reject(G);const Ce={auth:m.auth,requestUri:I,sessionId:D,tenantId:O||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(se)(Ce))}catch(Fe){m.reject(Fe)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ca;case"linkViaPopup":case"linkViaRedirect":return hb;case"reauthViaPopup":case"reauthViaRedirect":return Tl;default:Ae(this.auth,"internal-error")}}resolve(f){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){It(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uf=new ji(2e3,1e4);function lc(){return(lc=(0,h.Z)(function*(v,f,m){const I=sn(v);We(v,f,ri);const D=vs(I,m);return new la(I,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function Ye(){return(Ye=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);We(I.auth,f,ri);const D=vs(I.auth,m);return new la(I.auth,"reauthViaPopup",f,D,I).executeNotNull()})).apply(this,arguments)}function Bf(){return(Bf=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);We(I.auth,f,ri);const D=vs(I.auth,m);return new la(I.auth,"linkViaPopup",f,D,I).executeNotNull()})).apply(this,arguments)}let la=(()=>{class v extends Vf{constructor(m,I,D,R,O){super(m,I,R,O),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const I=yield m.execute();return F(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,h.Z)(function*(){It(1===m.filter.length,"Popup operations only handle one event");const I=ki();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(tt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,D;this.pollId=null!==(D=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Uf.get())};m()}}return v.currentPopupAction=null,v})();const jf="pendingRedirect",ys=new Map;class Fw extends Vf{constructor(f,m,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let I=ys.get(m.auth._key());if(!I){try{const R=(yield function Hg(v,f){return yo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;I=()=>Promise.resolve(R)}catch(D){I=()=>Promise.reject(D)}ys.set(m.auth._key(),I)}return m.bypassAuthState||ys.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(I,f);if("unknown"!==f.type){if(f.eventId){const D=yield I.auth._redirectUserForId(f.eventId);if(D)return I.user=D,m().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function yo(){return(yo=(0,h.Z)(function*(v,f){const m=uc(f),I=fd(v);if(!(yield I._isAvailable()))return!1;const D="true"===(yield I._get(m));return yield I._remove(m),D})).apply(this,arguments)}function vt(v,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(v,f){return fd(v)._set(uc(f),"true")})).apply(this,arguments)}function ua(v,f){ys.set(v._key(),f)}function fd(v){return Ct(v._redirectPersistence)}function uc(v){return rr(jf,v.config.apiKey,v.name)}function pd(v,f,m){return function md(v,f,m){return zf.apply(this,arguments)}(v,f,m)}function zf(){return(zf=(0,h.Z)(function*(v,f,m){const I=sn(v);We(v,f,ri),yield I._initializationPromise;const D=vs(I,m);return yield vt(D,I),D._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function Cl(v,f,m){return function $g(v,f,m){return Kn.apply(this,arguments)}(v,f,m)}function Kn(){return(Kn=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);We(I.auth,f,ri),yield I.auth._initializationPromise;const D=vs(I.auth,m);yield vt(D,I.auth);const R=yield dc(I);return D._openRedirect(I.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function da(v,f,m){return function mb(v,f,m){return Uo.apply(this,arguments)}(v,f,m)}function Uo(){return(Uo=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);We(I.auth,f,ri),yield I.auth._initializationPromise;const D=vs(I.auth,m);yield Pi(!1,I,f.providerId),yield vt(D,I.auth);const R=yield dc(I);return D._openRedirect(I.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Hf(){return(Hf=(0,h.Z)(function*(v,f){return yield sn(v)._initializationPromise,bs(v,f,!1)})).apply(this,arguments)}function bs(v,f){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(v,f,m=!1){const I=sn(v),D=vs(I,f),O=yield new Fw(I,D,m).execute();return O&&!m&&(delete O.user._redirectEventId,yield I._persistUserIfCurrent(O.user),yield I._setRedirectUser(null,f)),O})).apply(this,arguments)}function dc(v){return Is.apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(v){const f=ki(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class gd{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(m=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function hr(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kt(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var I;if(f.error&&!Kt(f)){const D=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(tt(this.auth,D))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const I=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_d(f))}saveEventToCache(f){this.cachedEventUids.add(_d(f)),this.lastProcessedEventTime=Date.now()}}function _d(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Kt({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function ii(v){return qi.apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(v,f={}){return pe(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Mn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bo=/^https?/;function vd(){return(vd=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield ii(v);for(const m of f)try{if(Io(m))return}catch{}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function Io(v){const f=xn(),{protocol:m,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const O=new URL(v);return""===O.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&O.hostname===I}if(!Bo.test(m))return!1;if(Mn.test(v))return I===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(I)}const Eo=new ji(3e4,6e4);function Er(){const v=Yn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let $f=null;const Gg=new ji(5e3,15e3),Lw="__/auth/iframe",Vw="emulator/auth/iframe",qg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yd(v){const f=v.config;F(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?J(f,Vw):`https://${v.config.authDomain}/${Lw}`,I={apiKey:f.apiKey,appName:v.name,v:be.SDK_VERSION},D=fc.get(v.config.apiHost);D&&(I.eid=D);const R=v._getFrameworks();return R.length&&(I.fw=R.join(",")),`${m}?${(0,H.xO)(I).slice(1)}`}function yn(){return yn=(0,h.Z)(function*(v){const f=yield function Gf(v){return $f=$f||function hc(v){return new Promise((f,m)=>{var I,D,R;function O(){Er(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Er(),m(tt(v,"network-request-failed"))},timeout:Eo.get()})}if(null!==(D=null===(I=Yn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(R=Yn().gapi)||void 0===R||!R.load){const G=jy("iframefcb");return Yn()[G]=()=>{gapi.load?O():m(tt(v,"network-request-failed"))},Zu(`https://apis.google.com/js/api.js?onload=${G}`).catch(se=>m(se))}O()}}).catch(f=>{throw $f=null,f})}(v),$f}(v),m=Yn().gapi;return F(m,v,"internal-error"),f.open({where:document.body,url:yd(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qg,dontclear:!0},I=>new Promise(function(){var D=(0,h.Z)(function*(R,O){yield I.restyle({setHideOnLeave:!1});const G=tt(v,"network-request-failed"),se=Yn().setTimeout(()=>{O(G)},Gg.get());function Ce(){Yn().clearTimeout(se),R(I)}I.ping(Ce).then(Ce,()=>{O(G)})});return function(R,O){return D.apply(this,arguments)}}()))}),yn.apply(this,arguments)}const gb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qf="__/auth/handler",vb="emulator/auth/handler",Zf=encodeURIComponent("fac");function Zg(v,f,m,I,D,R){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(v,f,m,I,D,R){F(v.config.authDomain,v,"auth-domain-config-required"),F(v.config.apiKey,v,"invalid-api-key");const O={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:be.SDK_VERSION,eventId:D};if(f instanceof ri){f.setDefaultLanguage(v.languageCode),O.providerId=f.providerId||"",(0,H.xb)(f.getCustomParameters())||(O.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fe,$e]of Object.entries(R||{}))O[Fe]=$e}if(f instanceof Js){const Fe=f.getScopes().filter($e=>""!==$e);Fe.length>0&&(O.scopes=Fe.join(","))}v.tenantId&&(O.tid=v.tenantId);const G=O;for(const Fe of Object.keys(G))void 0===G[Fe]&&delete G[Fe];const se=yield v._getAppCheckToken(),Ce=se?`#${Zf}=${encodeURIComponent(se)}`:"";return`${function Wf({config:v}){return v.emulator?J(v,vb):`https://${v.authDomain}/${qf}`}(v)}?${(0,H.xO)(G).slice(1)}${Ce}`})).apply(this,arguments)}const jo="webStorageSupport",pc=class yb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=bs,this._overrideRedirectResult=ua}_openPopup(f,m,I,D){var R=this;return(0,h.Z)(function*(){var O;It(null===(O=R.eventManagers[f._key()])||void 0===O?void 0:O.manager,"_initialize() not called before _openPopup()");const G=yield Zg(f,m,I,xn(),D);return function Al(v,f,m,I=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),O=Math.max((window.screen.availWidth-I)/2,0).toString();let G="";const se=Object.assign(Object.assign({},gb),{width:I.toString(),height:D.toString(),top:R,left:O}),Ce=(0,H.z$)().toLowerCase();m&&(G=Jh(Ce)?"_blank":m),uo(Ce)&&(f=f||"http://localhost",se.scrollbars="yes");const Fe=Object.entries(se).reduce((dn,[_i,Pd])=>`${dn}${_i}=${Pd},`,"");if(function zt(v=(0,H.z$)()){var f;return ut(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ce)&&"_self"!==G)return function Zi(v,f){const m=document.createElement("a");m.href=v,m.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(f||"",G),new Dl(null);const $e=window.open(f||"",G,Fe);F($e,v,"popup-blocked");try{$e.focus()}catch{}return new Dl($e)}(f,G,ki())})()}_openRedirect(f,m,I,D){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),function Rf(v){Yn().location.href=v}(yield Zg(f,m,I,xn(),D)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:D,promise:R}=this.eventManagers[m];return D?Promise.resolve(D):(It(R,"If manager is not set, promise should be"),R)}const I=this.initAndGetManager(f);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const I=yield function St(v){return yn.apply(this,arguments)}(f),D=new gd(f);return I.register("authEvent",R=>(F(R?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:D},m.iframes[f._key()]=I,D})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(jo,{type:jo},D=>{var R;const O=null===(R=D?.[0])||void 0===R?void 0:R[jo];void 0!==O&&m(!!O),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ha(v){return vd.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return gn()||Ys()||ut()}};class mc{constructor(f){this.factorId=f}_process(f,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,I);case"signin":return this._finalizeSignIn(f,m.credential);default:return Re("unexpected MultiFactorSessionType")}}}class nn extends mc{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new nn(f)}_finalizeEnroll(f,m,I){return function Lo(v,f){return pe(v,"POST","/v2/accounts/mfaEnrollment:finalize",ue(v,f))}(f,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function _n(v,f){return pe(v,"POST","/v2/accounts/mfaSignIn:finalize",ue(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sl=(()=>{class v{constructor(){}static assertion(m){return nn._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var fa="@firebase/auth";class pa{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(I=>{f(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Es(){return window}(0,H.Pz)("authIdTokenMaxAge"),function Rl(v){(0,be._registerComponent)(new dt.wA("auth",(f,{options:m})=>{const I=f.getProvider("app").getImmediate(),D=f.getProvider("heartbeat"),R=f.getProvider("app-check-internal"),{apiKey:O,authDomain:G}=I.options;F(O&&!O.includes(":"),"invalid-api-key",{appName:I.name});const se={apiKey:O,authDomain:G,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ns(v)},Ce=new ti(I,D,R,se);return function BS(v,f){const m=f?.persistence||[],I=(Array.isArray(m)?m:[m]).map(Ct);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,f?.popupRedirectResolver)}(Ce,m),Ce},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,I)=>{f.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new dt.wA("auth-internal",f=>{const m=sn(f.getProvider("auth").getImmediate());return new pa(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(fa,"1.5.1",function xl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,be.registerVersion)(fa,"1.5.1","esm2017")}("Browser");function ga(){return ga=(0,h.Z)(function*(v,f,m){var I;const{BuildInfo:D}=Es();It(f.sessionId,"AuthEvent did not contain a session ID");const R=yield function wb(v){return Kf.apply(this,arguments)}(f.sessionId),O={};return ut()?O.ibi=D.packageName:z()?O.apn=D.packageName:Ae(v,"operation-not-supported-in-this-environment"),D.displayName&&(O.appDisplayName=D.displayName),O.sessionId=R,Zg(v,m,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,O)}),ga.apply(this,arguments)}function Xg(){return(Xg=(0,h.Z)(function*(v){const{BuildInfo:f}=Es(),m={};ut()?m.iosBundleId=f.packageName:z()?m.androidPackageName=f.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield ii(v,m)})).apply(this,arguments)}function e_(){return(e_=(0,h.Z)(function*(v,f,m){const{cordova:I}=Es();let D=()=>{};try{yield new Promise((R,O)=>{let G=null;function se(){var $e;R();const dn=null===($e=I.plugins.browsertab)||void 0===$e?void 0:$e.close;"function"==typeof dn&&dn(),"function"==typeof m?.close&&m.close()}function Ce(){G||(G=window.setTimeout(()=>{O(tt(v,"redirect-cancelled-by-user"))},2e3))}function Fe(){"visible"===document?.visibilityState&&Ce()}f.addPassiveListener(se),document.addEventListener("resume",Ce,!1),z()&&document.addEventListener("visibilitychange",Fe,!1),D=()=>{f.removePassiveListener(se),document.removeEventListener("resume",Ce,!1),document.removeEventListener("visibilitychange",Fe,!1),G&&window.clearTimeout(G)}})}finally{D()}})).apply(this,arguments)}function Kf(){return(Kf=(0,h.Z)(function*(v){const f=function ws(v){if(It(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),m=new Uint8Array(f);for(let I=0;I<v.length;I++)m[I]=v.charCodeAt(I);return m}(v),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Xf extends gd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Jf(v){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,h.Z)(function*(v){const f=yield Ed()._get(vc(v));return f&&(yield Ed()._remove(vc(v))),f})).apply(this,arguments)}function Ts(){const v=[];for(let m=0;m<20;m++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function Ed(){return Ct(cd)}function vc(v){return rr("authEvent",v.config.apiKey,v.name)}function Cs(v){if(!v?.includes("?"))return{};const[f,...m]=v.split("?");return(0,H.zd)(m.join("?"))}const Tb=class _a{constructor(){this._redirectPersistence=ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bs,this._overrideRedirectResult=ua}_initialize(f){var m=this;return(0,h.Z)(function*(){const I=f._key();let D=m.eventManagers.get(I);return D||(D=new Xf(f),m.eventManagers.set(I,D),m.attachCallbackListeners(f,D)),D})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,I,D){var R=this;return(0,h.Z)(function*(){!function Eb(v){var f,m,I,D,R,O,G,se,Ce,Fe;const $e=Es();F("function"==typeof(null===(f=$e?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),F(typeof(null===(m=$e?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),F("function"==typeof(null===(R=null===(D=null===(I=$e?.cordova)||void 0===I?void 0:I.plugins)||void 0===D?void 0:D.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(se=null===(G=null===(O=$e?.cordova)||void 0===O?void 0:O.plugins)||void 0===G?void 0:G.browsertab)||void 0===se?void 0:se.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(Fe=null===(Ce=$e?.cordova)||void 0===Ce?void 0:Ce.InAppBrowser)||void 0===Fe?void 0:Fe.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const O=yield R._initialize(f);yield O.initialized(),O.resetRedirect(),function pb(){ys.clear()}(),yield R._originValidation(f);const G=function To(v,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Ts(),postBody:null,tenantId:v.tenantId,error:tt(v,"no-auth-event")}}(f,I,D);yield function Id(v,f){return Ed()._set(vc(v),f)}(f,G);const se=yield function _c(v,f,m){return ga.apply(this,arguments)}(f,G,m),Ce=yield function Jg(v){const{cordova:f}=Es();return new Promise(m=>{f.plugins.browsertab.isAvailable(I=>{let D=null;I?f.plugins.browsertab.openUrl(v):D=f.InAppBrowser.open(v,function Nt(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(D)})})}(se);return function Ib(v,f,m){return e_.apply(this,arguments)}(f,O,Ce)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yf(v){return Xg.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:I,handleOpenURL:D,BuildInfo:R}=Es(),O=setTimeout((0,h.Z)(function*(){yield Jf(f),m.onEvent(Ol())}),500),G=function(){var Fe=(0,h.Z)(function*($e){clearTimeout(O);const dn=yield Jf(f);let _i=null;dn&&$e?.url&&(_i=function Pl(v,f){var m,I;const D=function ep(v){const f=Cs(v),m=f.link?decodeURIComponent(f.link):void 0,I=Cs(m).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Cs(D).link||D||I||m||v}(f);if(D.includes("/__/auth/callback")){const R=Cs(D),O=R.firebaseError?function t_(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,G=null===(I=null===(m=O?.code)||void 0===m?void 0:m.split("auth/"))||void 0===I?void 0:I[1],se=G?tt(G):null;return se?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:se,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:D,postBody:null}}return null}(dn,$e.url)),m.onEvent(_i||Ol())});return function(dn){return Fe.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,G);const se=D,Ce=`${R.packageName.toLowerCase()}://`;Es().handleOpenURL=function(){var Fe=(0,h.Z)(function*($e){if($e.toLowerCase().startsWith(Ce)&&G({url:$e}),"function"==typeof se)try{se($e)}catch(dn){console.error(dn)}});return function($e){return Fe.apply(this,arguments)}}()}};function Ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tt("no-auth-event")}}function Wr(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function As(v=(0,H.z$)()){return!("file:"!==Wr()&&"ionic:"!==Wr()&&"capacitor:"!==Wr()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function ya(){try{const v=self.localStorage,f=ki();if(v)return v.setItem(f,"1"),v.removeItem(f),!function Ki(v=(0,H.z$)()){return function Td(){return(0,H.w1)()&&11===document?.documentMode}()||function Yi(v=(0,H.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,H.hl)()}catch{return yc()&&(0,H.hl)()}return!1}function yc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cd(){return(function va(){return"http:"===Wr()||"https:"===Wr()}()||(0,H.ru)()||As())&&!function Co(){return(0,H.b$)()||(0,H.UG)()}()&&ya()&&!yc()}function Dd(){return As()&&typeof document<"u"}function Nl(){return(Nl=(0,h.Z)(function*(){return!!Dd()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const mi={LOCAL:"local",NONE:"none",SESSION:"session"},Fl=F,tp="persistence";function Ad(v){return np.apply(this,arguments)}function np(){return(np=(0,h.Z)(function*(v){yield v._initializationPromise;const f=rp(),m=rr(tp,v.config.apiKey,v.name);f&&f.setItem(m,v._getPersistence())})).apply(this,arguments)}function rp(){var v;try{return(null===(v=function r_(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Sd=F;class Ss{constructor(){this.browserResolver=Ct(pc),this.cordovaResolver=Ct(Tb),this.underlyingResolver=null,this._redirectPersistence=ps,this._completeRedirectFn=bs,this._overrideRedirectResult=ua}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,I,D){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,m,I,D)})()}_openRedirect(f,m,I,D){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,m,I,D)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Dd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Db(){return Nl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function gi(v){return v.unwrap()}function Ho(v){return Ll(v)}function Ll(v){const{_tokenResponse:f}=v instanceof H.ZR?v.customData:v;if(!f)return null;if(!(v instanceof H.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return cc.credentialFromResult(v);const m=f.providerId;if(!m||m===He.PASSWORD)return null;let I;switch(m){case He.GOOGLE:I=Mt;break;case He.FACEBOOK:I=mf;break;case He.GITHUB:I=or;break;case He.TWITTER:I=Ig;break;default:const{oauthIdToken:D,oauthAccessToken:R,oauthTokenSecret:O,pendingToken:G,nonce:se}=f;return R||O||D||G?G?m.startsWith("saml.")?hi._create(m,G):$i._fromParams({providerId:m,signInMethod:m,pendingToken:G,idToken:D,accessToken:R}):new tc(m).credential({idToken:D,accessToken:R,rawNonce:se}):null}return v instanceof H.ZR?I.credentialFromError(v):I.credentialFromResult(v)}function un(v,f){return f.catch(m=>{throw m instanceof H.ZR&&function bc(v,f){var m;const I=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Rd(v,function Sf(v,f){var m;const I=(0,H.m9)(v),D=f;return F(f.customData.operationType,I,"argument-error"),F(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),Af._fromError(I,D)}(v,f));else if(I){const D=Ll(f),R=f;D&&(R.credential=D,R.tenantId=I.tenantId||void 0,R.email=I.email||void 0,R.phoneNumber=I.phoneNumber||void 0)}}(v,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:Ho(m),additionalUserInfo:rb(m),user:$o.getOrCreate(D)}})}function xs(v,f){return xd.apply(this,arguments)}function xd(){return(xd=(0,h.Z)(function*(v,f){const m=yield f;return{verificationId:m.verificationId,confirm:I=>un(v,m.confirm(I))}})).apply(this,arguments)}class Rd{constructor(f,m){this.resolver=m,this.auth=function ba(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return un(gi(this.auth),this.resolver.resolveSignIn(f))}}class $o{constructor(f){this._delegate=f,this.multiFactor=function oc(v){const f=(0,H.m9)(v);return gl.has(f)||gl.set(f,sd._fromUser(f)),gl.get(f)}(f)}static getOrCreate(f){return $o.USER_MAP.has(f)||$o.USER_MAP.set(f,new $o(f)),$o.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return un(m.auth,mo(m._delegate,f))})()}linkWithPhoneNumber(f,m){var I=this;return(0,h.Z)(function*(){return xs(I.auth,function zg(v,f,m){return ac.apply(this,arguments)}(I._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return un(m.auth,function Ur(v,f,m){return Bf.apply(this,arguments)}(m._delegate,f,Ss))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Ad(sn(m.auth)),da(m._delegate,f,Ss)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return un(m.auth,ed(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return xs(this.auth,function Vr(v,f,m){return An.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return un(this.auth,function Nw(v,f,m){return Ye.apply(this,arguments)}(this._delegate,f,Ss))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Ad(sn(m.auth)),Cl(m._delegate,f,Ss)})()}sendEmailVerification(f){return function qS(v,f){return Dg.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function po(v,f){return ea.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Mg(v,f){return If((0,H.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function ds(v,f){return If((0,H.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Vo(v,f){return wl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function xw(v,f){return Rg.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ag(v,f,m){return us.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$o.USER_MAP=new WeakMap;const fr=F;let Vl=(()=>{class v{constructor(m,I){if(this.app=m,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;fr(D,"invalid-api-key",{appName:m.name}),fr(D,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?Ss:void 0;this._delegate=I.initialize({options:{persistence:ip(D,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(ft),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$o.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,I){!function cl(v,f,m){const I=sn(v);F(I._canInitEmulator,I,"emulator-config-failed"),F(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const D=!!m?.disableWarnings,R=ni(f),{host:O,port:G}=function Yu(v){const f=ni(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(I);if(D){const R=D[1];return{host:R,port:vg(I.substr(R.length+1))}}{const[R,O]=I.split(":");return{host:R,port:vg(O)}}}(f);I.config.emulator={url:`${R}//${O}${null===G?"":`:${G}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:O,port:G,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Gy(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,I)}applyActionCode(m){return function vf(v,f){return Oi.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return yf(this._delegate,m)}confirmPasswordReset(m,I){return function Eg(v,f,m){return ls.apply(this,arguments)}(this._delegate,m,I)}createUserWithEmailAndPassword(m,I){var D=this;return(0,h.Z)(function*(){return un(D._delegate,function wg(v,f,m){return Tg.apply(this,arguments)}(D._delegate,m,I))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function GS(v,f){return ml.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function zS(v,f){const m=ec.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){fr(Cd(),m._delegate,"operation-not-supported-in-this-environment");const I=yield function bo(v,f){return Hf.apply(this,arguments)}(m._delegate,Ss);return I?un(m._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Ds(v,f){sn(v)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,I,D){const{next:R,error:O,complete:G}=Md(m,I,D);return this._delegate.onAuthStateChanged(R,O,G)}onIdTokenChanged(m,I,D){const{next:R,error:O,complete:G}=Md(m,I,D);return this._delegate.onIdTokenChanged(R,O,G)}sendSignInLinkToEmail(m,I){return function jS(v,f,m){return Jy.apply(this,arguments)}(this._delegate,m,I)}sendPasswordResetEmail(m,I){return function qr(v,f,m){return br.apply(this,arguments)}(this._delegate,m,I||void 0)}setPersistence(m){var I=this;return(0,h.Z)(function*(){let D;switch(function Ab(v,f){Fl(Object.values(mi).includes(f),v,"invalid-persistence-type"),(0,H.b$)()?Fl(f!==mi.SESSION,v,"unsupported-persistence-type"):(0,H.UG)()?Fl(f===mi.NONE,v,"unsupported-persistence-type"):yc()?Fl(f===mi.NONE||f===mi.LOCAL&&(0,H.hl)(),v,"unsupported-persistence-type"):Fl(f===mi.NONE||ya(),v,"unsupported-persistence-type")}(I._delegate,m),m){case mi.SESSION:D=ps;break;case mi.LOCAL:D=(yield Ct(vl)._isAvailable())?vl:cd;break;case mi.NONE:D=Ln;break;default:return Ae("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return un(this._delegate,function we(v){return nt.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return un(this._delegate,ss(this._delegate,m))}signInWithCustomToken(m){return un(this._delegate,function ct(v,f){return nd.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,I){return un(this._delegate,function Cg(v,f,m){return ss((0,H.m9)(v),pf.credential(f,m)).catch(function(){var I=(0,h.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&Vn(v),D});return function(D){return I.apply(this,arguments)}}())}(this._delegate,m,I))}signInWithEmailLink(m,I){return un(this._delegate,function HS(v,f,m){return eb.apply(this,arguments)}(this._delegate,m,I))}signInWithPhoneNumber(m,I){return xs(this._delegate,function db(v,f,m){return El.apply(this,arguments)}(this._delegate,m,I))}signInWithPopup(m){var I=this;return(0,h.Z)(function*(){return fr(Cd(),I._delegate,"operation-not-supported-in-this-environment"),un(I._delegate,function fb(v,f,m){return lc.apply(this,arguments)}(I._delegate,m,Ss))})()}signInWithRedirect(m){var I=this;return(0,h.Z)(function*(){return fr(Cd(),I._delegate,"operation-not-supported-in-this-environment"),yield Ad(I._delegate),pd(I._delegate,m,Ss)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Sw(v,f){return pl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=mi,v})();function Md(v,f,m){let I=v;"function"!=typeof v&&({next:I,error:f,complete:m}=v);const D=I;return{next:O=>D(O&&$o.getOrCreate(O)),error:f,complete:m}}function ip(v,f){const m=function i_(v,f){const m=rp();if(!m)return[];const I=rr(tp,v,f);switch(m.getItem(I)){case mi.NONE:return[Ln];case mi.LOCAL:return[vl,ps];case mi.SESSION:return[ps];default:return[]}}(v,f);if(typeof self<"u"&&!m.includes(vl)&&m.push(vl),typeof window<"u")for(const I of[cd,ps])m.includes(I)||m.push(I);return m.includes(Ln)||m.push(Ln),m}class Ia{constructor(){this.providerId="phone",this._delegate=new cc(gi(fe.Z.auth()))}static credential(f,m){return cc.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ia.PHONE_SIGN_IN_METHOD=cc.PHONE_SIGN_IN_METHOD,Ia.PROVIDER_ID=cc.PROVIDER_ID;const Sb=F;class op{constructor(f,m,I=fe.Z.app()){var D;Sb(null===(D=I.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new lb(I.auth(),f,m),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function o_(v){v.INTERNAL.registerComponent(new dt.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Vl(m,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:pf,FacebookAuthProvider:mf,GithubAuthProvider:or,GoogleAuthProvider:Mt,OAuthProvider:tc,SAMLAuthProvider:dl,PhoneAuthProvider:Ia,PhoneMultiFactorGenerator:Sl,RecaptchaVerifier:op,TwitterAuthProvider:Ig,Auth:Vl,AuthCredential:Qa,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.1")}(fe.Z)},861:(on,Qe,ee)=>{function h(H,be,Me,ve,dt,Ot,He){try{var q=H[Ot](He),j=q.value}catch(ie){return void Me(ie)}q.done?be(j):Promise.resolve(j).then(ve,dt)}function fe(H){return function(){var be=this,Me=arguments;return new Promise(function(ve,dt){var Ot=H.apply(be,Me);function He(j){h(Ot,ve,dt,He,q,"next",j)}function q(j){h(Ot,ve,dt,He,q,"throw",j)}He(void 0)})}}ee.d(Qe,{Z:()=>fe})},582:(on,Qe,ee)=>{function be(J,te){var le={};for(var ae in J)Object.prototype.hasOwnProperty.call(J,ae)&&te.indexOf(ae)<0&&(le[ae]=J[ae]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols(J);ue<ae.length;ue++)te.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call(J,ae[ue])&&(le[ae[ue]]=J[ae[ue]])}return le}function ie(J,te,le,ae){return new(le||(le=Promise))(function(pe,ot){function jt(Wt){try{Je(ae.next(Wt))}catch(kn){ot(kn)}}function nr(Wt){try{Je(ae.throw(Wt))}catch(kn){ot(kn)}}function Je(Wt){Wt.done?pe(Wt.value):function ue(pe){return pe instanceof le?pe:new le(function(ot){ot(pe)})}(Wt.value).then(jt,nr)}Je((ae=ae.apply(J,te||[])).next())})}function pt(J){return this instanceof pt?(this.v=J,this):new pt(J)}function Ae(J,te,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=le.apply(J,te||[]),pe=[];return ue={},ot("next"),ot("throw"),ot("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function ot(wn){ae[wn]&&(ue[wn]=function(Rr){return new Promise(function(Mr,mn){pe.push([wn,Rr,Mr,mn])>1||jt(wn,Rr)})})}function jt(wn,Rr){try{!function nr(wn){wn.value instanceof pt?Promise.resolve(wn.value.v).then(Je,Wt):kn(pe[0][2],wn)}(ae[wn](Rr))}catch(Mr){kn(pe[0][3],Mr)}}function Je(wn){jt("next",wn)}function Wt(wn){jt("throw",wn)}function kn(wn,Rr){wn(Rr),pe.shift(),pe.length&&jt(pe[0][0],pe[0][1])}}function Zt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,te=J[Symbol.asyncIterator];return te?te.call(J):(J=function Rt(J){var te="function"==typeof Symbol&&Symbol.iterator,le=te&&J[te],ae=0;if(le)return le.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ae>=J.length&&(J=void 0),{value:J&&J[ae++],done:!J}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),le={},ae("next"),ae("throw"),ae("return"),le[Symbol.asyncIterator]=function(){return this},le);function ae(pe){le[pe]=J[pe]&&function(ot){return new Promise(function(jt,nr){!function ue(pe,ot,jt,nr){Promise.resolve(nr).then(function(Je){pe({value:Je,done:jt})},ot)}(jt,nr,(ot=J[pe](ot)).done,ot.value)})}}}ee.d(Qe,{FC:()=>Ae,KL:()=>Zt,_T:()=>be,mG:()=>ie,qq:()=>pt}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=428)}]);