"use strict";(self.webpackChunkSpotyRFI=self.webpackChunkSpotyRFI||[]).push([[179],{58:(on,Xe,ee)=>{ee.d(Xe,{BH:()=>tt,G6:()=>Gi,L:()=>He,LL:()=>pe,Pz:()=>Ae,Sg:()=>Gt,UG:()=>F,ZB:()=>ie,ZR:()=>ue,aH:()=>mt,b$:()=>Nn,eu:()=>te,hl:()=>J,jU:()=>Re,m9:()=>Zu,ne:()=>ts,pd:()=>Ot,r3:()=>pn,ru:()=>Tt,tV:()=>q,uI:()=>Ee,vZ:()=>lo,w1:()=>Tr,xO:()=>Qs,xb:()=>Hr,z$:()=>Ye,zd:()=>Ve});const be=function(L){const k=[];let B=0;for(let de=0;de<L.length;de++){let Y=L.charCodeAt(de);Y<128?k[B++]=Y:Y<2048?(k[B++]=Y>>6|192,k[B++]=63&Y|128):55296==(64512&Y)&&de+1<L.length&&56320==(64512&L.charCodeAt(de+1))?(Y=65536+((1023&Y)<<10)+(1023&L.charCodeAt(++de)),k[B++]=Y>>18|240,k[B++]=Y>>12&63|128,k[B++]=Y>>6&63|128,k[B++]=63&Y|128):(k[B++]=Y>>12|224,k[B++]=Y>>6&63|128,k[B++]=63&Y|128)}return k},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,k){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Y=0;Y<L.length;Y+=3){const Le=L[Y],ht=Y+1<L.length,At=ht?L[Y+1]:0,mi=Y+2<L.length,Hn=mi?L[Y+2]:0;let Ze=(15&At)<<2|Hn>>6,mo=63&Hn;mi||(mo=64,ht||(Ze=64)),de.push(B[Le>>2],B[(3&Le)<<4|At>>4],B[Ze],B[mo])}return de.join("")},encodeString(L,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(L):this.encodeByteArray(be(L),k)},decodeString(L,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(L):function(L){const k=[];let B=0,de=0;for(;B<L.length;){const Y=L[B++];if(Y<128)k[de++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Le=L[B++];k[de++]=String.fromCharCode((31&Y)<<6|63&Le)}else if(Y>239&&Y<365){const mi=((7&Y)<<18|(63&L[B++])<<12|(63&L[B++])<<6|63&L[B++])-65536;k[de++]=String.fromCharCode(55296+(mi>>10)),k[de++]=String.fromCharCode(56320+(1023&mi))}else{const Le=L[B++],ht=L[B++];k[de++]=String.fromCharCode((15&Y)<<12|(63&Le)<<6|63&ht)}}return k.join("")}(this.decodeStringToByteArray(L,k))},decodeStringToByteArray(L,k){this.init_();const B=k?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Y=0;Y<L.length;){const Le=B[L.charAt(Y++)],At=Y<L.length?B[L.charAt(Y)]:0;++Y;const Hn=Y<L.length?B[L.charAt(Y)]:64;++Y;const rt=Y<L.length?B[L.charAt(Y)]:64;if(++Y,null==Le||null==At||null==Hn||null==rt)throw new dt;de.push(Le<<2|At>>4),64!==Hn&&(de.push(At<<4&240|Hn>>2),64!==rt&&de.push(Hn<<6&192|rt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(L){return function(L){const k=be(L);return ge.encodeByteArray(k,!0)}(L).replace(/\./g,"")},q=function(L){try{return ge.decodeString(L,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function ie(L,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return k}for(const B in k)!k.hasOwnProperty(B)||!Ge(B)||(L[B]=ie(L[B],k[B]));return L}function Ge(L){return"__proto__"!==L}const it=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const L=process.env.__FIREBASE_DEFAULTS__;return L?JSON.parse(L):void 0})()||(()=>{if(typeof document>"u")return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=L&&q(L[1]);return k&&JSON.parse(k)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},mt=()=>{var L;return null===(L=it())||void 0===L?void 0:L.config},Ae=L=>{var k;return null===(k=it())||void 0===k?void 0:k[`_${L}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,B)=>{this.resolve=k,this.reject=B})}wrapCallback(k){return(B,de)=>{B?this.reject(B):this.resolve(de),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(B):k(B,de))}}}function Gt(L,k){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=k||"demo-project",Y=L.iat||0,Le=L.sub||L.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Y,exp:Y+3600,auth_time:Y,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},L);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(ht)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function F(){var L;const k=null===(L=it())||void 0===L?void 0:L.forceEnvironment;if("node"===k)return!0;if("browser"===k)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return"object"==typeof self&&self.self===self}function Tt(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function Nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tr(){const L=Ye();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Gi(){return!F()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((L,k)=>{try{let B=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(de);Y.onsuccess=()=>{Y.result.close(),B||self.indexedDB.deleteDatabase(de),L(!0)},Y.onupgradeneeded=()=>{B=!1},Y.onerror=()=>{var Le;k((null===(Le=Y.error)||void 0===Le?void 0:Le.message)||"")}}catch(B){k(B)}})}class ue extends Error{constructor(k,B,de){super(B),this.code=k,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(k,B,de){this.service=k,this.serviceName=B,this.errors=de}create(k,...B){const de=B[0]||{},Y=`${this.service}/${k}`,Le=this.errors[k],ht=Le?function ot(L,k){return L.replace(zt,(B,de)=>{const Y=k[de];return null!=Y?String(Y):`<${de}?>`})}(Le,de):"Error";return new ue(Y,`${this.serviceName}: ${ht} (${Y}).`,de)}}const zt=/\{\$([^}]+)}/g;function pn(L,k){return Object.prototype.hasOwnProperty.call(L,k)}function Hr(L){for(const k in L)if(Object.prototype.hasOwnProperty.call(L,k))return!1;return!0}function lo(L,k){if(L===k)return!0;const B=Object.keys(L),de=Object.keys(k);for(const Y of B){if(!de.includes(Y))return!1;const Le=L[Y],ht=k[Y];if(Za(Le)&&Za(ht)){if(!lo(Le,ht))return!1}else if(Le!==ht)return!1}for(const Y of de)if(!B.includes(Y))return!1;return!0}function Za(L){return null!==L&&"object"==typeof L}function Qs(L){const k=[];for(const[B,de]of Object.entries(L))Array.isArray(de)?de.forEach(Y=>{k.push(encodeURIComponent(B)+"="+encodeURIComponent(Y))}):k.push(encodeURIComponent(B)+"="+encodeURIComponent(de));return k.length?"&"+k.join("&"):""}function Ve(L){const k={};return L.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Y,Le]=de.split("=");k[decodeURIComponent(Y)]=decodeURIComponent(Le)}}),k}function Ot(L){const k=L.indexOf("?");if(!k)return"";const B=L.indexOf("#",k);return L.substring(k,B>0?B:void 0)}function ts(L,k){const B=new pi(L,k);return B.subscribe.bind(B)}class pi{constructor(k,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{k(this)}).catch(de=>{this.error(de)})}next(k){this.forEachObserver(B=>{B.next(k)})}error(k){this.forEachObserver(B=>{B.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,B,de){let Y;if(void 0===k&&void 0===B&&void 0===de)throw new Error("Missing Observer.");Y=function Sr(L,k){if("object"!=typeof L||null===L)return!1;for(const B of k)if(B in L&&"function"==typeof L[B])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:B,complete:de},void 0===Y.next&&(Y.next=zn),void 0===Y.error&&(Y.error=zn),void 0===Y.complete&&(Y.complete=zn);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Le}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,k)}sendOne(k,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{B(this.observers[k])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function Zu(L){return L&&L._delegate?L._delegate:L}},428:(on,Xe,ee)=>{var h=ee(212);let fe=null;function H(){return fe}class Me{}const ge=new h.OlP("DocumentToken");let dt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(He),providedIn:"platform"})}return n})();const Pt=new h.OlP("Location Initialized");let He=(()=>{class n extends dt{constructor(){super(),this._doc=(0,h.f3M)(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function q(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function j(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ie(n){return n&&"?"!==n[0]?"?"+n:n}let Ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(pt),providedIn:"root"})}return n})();const ke=new h.OlP("appBaseHref");let pt=(()=>{class n extends Ge{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return q(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ie(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,c){const u=this.prepareExternalUrl(s+ie(c));this._platformLocation.pushState(t,r,u)}replaceState(t,r,s,c){const u=this.prepareExternalUrl(s+ie(c));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(dt),h.LFG(ke,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xt=(()=>{class n extends Ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=q(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,c){let u=this.prepareExternalUrl(s+ie(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,s,c){let u=this.prepareExternalUrl(s+ie(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(dt),h.LFG(ke,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})(),ze=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function mt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(kn(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ie(r))}normalize(t){return n.stripTrailingSlash(function Jt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,kn(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ie(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}static#e=this.normalizeQueryParams=ie;static#t=this.joinWithSlash=q;static#n=this.stripTrailingSlash=j;static#r=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ge))};static#i=this.\u0275prov=h.Yz7({token:n,factory:()=>function it(){return new ze((0,h.LFG)(Ge))}(),providedIn:"root"})}return n})();function kn(n){return n.replace(/\/index.html$/,"")}const Wu=/\s+/,fg=[];let Mt=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=fg,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Wu):fg}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Wu):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Wu).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(h.Qsj))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class ei{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,c,u)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new ei(s.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===c?void 0:c);else if(null!==c){const g=r.get(c);r.move(g,u),pg(g,s)}});for(let s=0,c=r.length;s<c;s++){const g=r.get(s).context;g.index=s,g.count=c,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{pg(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function pg(n,e){n.context.$implicit=e.item}let el=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Hy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Hy{constructor(){this.$implicit=null,this.ngIf=null}}function Vt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let ea=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const ta="browser";function Wi(n){return n===ta}function Xu(n){return"server"===n}let Xy=(()=>{class n{static#e=this.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>Wi((0,h.f3M)(h.Lbi))?new hf((0,h.f3M)(ge),window):new eb})}return n})();class hf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Jy(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const c=s.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],s-c[1])}}class eb{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class wg extends Me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tg extends wg{static makeCurrent(){!function be(n){fe||(fe=n)}(new Tg)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cg(){return fs=fs||document.querySelector("base"),fs?fs.getAttribute("href"):null}();return null==t?null:function Dg(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function os(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let fs=null,Ag=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Sg=new h.OlP("EventManagerPlugins");let ps=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Sg),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class If{constructor(e){this._doc=e}}const sa="ng-app-id";let Ef=(()=>{class n{constructor(t,r,s,c={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xu(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${sa}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const c=s.get(t);return c.usage+=r,c.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,c=s?.get(r);if(c?.parentNode===t)return s.delete(r),c.removeAttribute(sa),c;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(sa,this.appId),t.appendChild(u),u}}addStyleToHost(t,r){const s=this.getStyleElement(t,r),c=this.styleRef,u=c.get(r)?.elements;u?u.push(s):c.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},id=/%COMP%/g,ob=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Rg(n,e){return e.map(t=>t.replace(id,n))}let rc=(()=>{class n{constructor(t,r,s,c,u,g,y,w=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=u,this.platformId=g,this.ngZone=y,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Xu(g),this.defaultRenderer=new Cf(t,u,y,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof ab?s.applyToHost(t):s instanceof Or&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let c=s.get(r.id);if(!c){const u=this.doc,g=this.ngZone,y=this.eventManager,w=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:c=new ab(y,w,r,this.appId,T,u,g,S);break;case h.ifc.ShadowDom:return new od(y,w,t,r,u,g,this.nonce,S);default:c=new Or(y,w,r,T,u,g,S)}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ps),h.LFG(Ef),h.LFG(h.AFp),h.LFG(ob),h.LFG(ge),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();class Cf{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ms[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Df(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Df(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const c=ms[s];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=ms[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=H().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Df(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class od extends Cf{constructor(e,t,r,s,c,u,g,y){super(e,c,u,y),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Rg(s.id,s.styles);for(const T of w){const S=document.createElement("style");g&&S.setAttribute("nonce",g),S.textContent=T,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Or extends Cf{constructor(e,t,r,s,c,u,g,y){super(e,c,u,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=y?Rg(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ab extends Or{constructor(e,t,r,s,c,u,g,y){const w=s+"-"+r.id;super(e,t,r,c,u,g,y,w),this.contentAttr=function Fo(n){return"_ngcontent-%COMP%".replace(id,n)}(w),this.hostAttr=function sb(n){return"_nghost-%COMP%".replace(id,n)}(w)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let sd=(()=>{class n extends If{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const Lo=["alt","control","meta","shift"],rr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Af={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Sf=(()=>{class n extends If{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const c=n.parseEventName(r),u=n.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const c=n._normalizeKey(r.pop());let u="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),u="code."),Lo.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),u+=w+".")}),u+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=s,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let s=rr[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(s=t.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Lo.forEach(u=>{u!==s&&(0,Af[u])(t)&&(c+=u+".")}),c+=s,c===r)}static eventCallback(t,r,s){return c=>{n.matchEventFullKeyCode(c,t)&&s.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();const aa=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:ta},{provide:h.g9A,useValue:function Pg(){Tg.makeCurrent()},multi:!0},{provide:ge,useFactory:function dl(){return(0,h.RDi)(document),document},deps:[]}]),cd=new h.OlP(""),gs=[{provide:h.rWj,useClass:class kw{addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const c=e.findTestabilityInTree(r,s);if(null==c)throw new h.vHH(5103,!1);return c},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let c=s.length,u=!1;const g=function(y){u=u||y,c--,0==c&&r(u)};s.forEach(y=>{y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],lt=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ad(){return new h.qLn},deps:[]},{provide:Sg,useClass:sd,multi:!0,deps:[ge,h.R0b,h.Lbi]},{provide:Sg,useClass:Sf,multi:!0,deps:[ge]},rc,Ef,ps,{provide:h.FYo,useExisting:rc},{provide:class Ju{},useClass:Ag,deps:[]},[]];let Og=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(cd,12))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[...lt,...gs],imports:[ea,h.hGG]})}return n})(),xf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new r:function _s(){return new xf((0,h.LFG)(ge))}(),s},providedIn:"root"})}return n})();typeof window<"u"&&window;let Ng=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new(r||n):h.LFG(dd),s},providedIn:"root"})}return n})(),dd=(()=>{class n extends Ng{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new h.vHH(5200,!1);case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new h.vHH(5201,!1);default:throw new h.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:function(r){let s=null;return s=r?new r:function Fg(n){return new dd(n.get(ge))}(h.LFG(h.zs3)),s},providedIn:"root"})}return n})();var Gn=ee(592),vn=ee(674),ua=ee(582);const pl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ml(n){return(0,vn.m)(n?.then)}var Of=ee(850);function hd(n){return(0,vn.m)(n[Of.L])}function kf(n){return Symbol.asyncIterator&&(0,vn.m)(n?.[Symbol.asyncIterator])}function gl(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nf=function Lg(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fd(n){return(0,vn.m)(n?.[Nf])}function Vg(n){return(0,ua.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:s}=yield(0,ua.qq)(t.read());if(s)return yield(0,ua.qq)(void 0);yield yield(0,ua.qq)(r)}}finally{t.releaseLock()}})}function _r(n){return(0,vn.m)(n?.getReader)}var bs=ee(894);function Nt(n){if(n instanceof Gn.y)return n;if(null!=n){if(hd(n))return function db(n){return new Gn.y(e=>{const t=n[Of.L]();if((0,vn.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(pl(n))return function hb(n){return new Gn.y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ml(n))return function Ff(n){return new Gn.y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,bs.h)})}(n);if(kf(n))return _l(n);if(fd(n))return function fb(n){return new Gn.y(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(_r(n))return function Ug(n){return _l(Vg(n))}(n)}throw gl(n)}function _l(n){return new Gn.y(e=>{(function sc(n,e){var t,r,s,c;return(0,ua.mG)(this,void 0,void 0,function*(){try{for(t=(0,ua.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(u){s={error:u}}finally{try{r&&!r.done&&(c=t.return)&&(yield c.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function kr(n,e,t,r=0,s=!1){const c=e.schedule(function(){t(),s?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(c),!s)return c}var Rn=ee(360),cn=ee(251);function Li(n,e=0){return(0,Rn.e)((t,r)=>{t.subscribe((0,cn.x)(r,s=>kr(r,n,()=>r.next(s),e),()=>kr(r,n,()=>r.complete(),e),s=>kr(r,n,()=>r.error(s),e)))})}function Uo(n,e=0){return(0,Rn.e)((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function da(n,e){if(!n)throw new Error("Iterable cannot be null");return new Gn.y(t=>{kr(t,e,()=>{const r=n[Symbol.asyncIterator]();kr(t,e,()=>{r.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function ln(n,e){return e?function pb(n,e){if(null!=n){if(hd(n))return function vl(n,e){return Nt(n).pipe(Uo(e),Li(e))}(n,e);if(pl(n))return function Is(n,e){return new Gn.y(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ml(n))return function ac(n,e){return Nt(n).pipe(Uo(e),Li(e))}(n,e);if(kf(n))return da(n,e);if(fd(n))return function Lf(n,e){return new Gn.y(t=>{let r;return kr(t,e,()=>{r=n[Nf](),kr(t,e,()=>{let s,c;try{({value:s,done:c}=r.next())}catch(u){return void t.error(u)}c?t.complete():t.next(s)},0,!0)}),()=>(0,vn.m)(r?.return)&&r.return()})}(n,e);if(_r(n))return function yl(n,e){return da(Vg(n),e)}(n,e)}throw gl(n)}(n,e):Nt(n)}function Vf(n){return n&&(0,vn.m)(n.schedule)}function Uf(n){return n[n.length-1]}function cc(n){return Vf(Uf(n))?n.pop():void 0}function Ke(...n){return ln(n,cc(n))}var Nr=ee(619);const{isArray:Bf}=Array,{getPrototypeOf:ha,prototype:jf,keys:Es}=Object;var wo=ee(737),It=ee(398);const{isArray:Vi}=Array;function fa(n){return(0,It.U)(e=>function gb(n,e){return Vi(e)?n(...e):n(e)}(n,e))}function lc(...n){const e=cc(n),t=function mb(n){return(0,vn.m)(Uf(n))?n.pop():void 0}(n),{args:r,keys:s}=function jw(n){if(1===n.length){const e=n[0];if(Bf(e))return{args:e,keys:null};if(function Bg(n){return n&&"object"==typeof n&&ha(n)===jf}(e)){const t=Es(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return ln([],e);const c=new Gn.y(function md(n,e,t=wo.y){return r=>{gd(e,()=>{const{length:s}=n,c=new Array(s);let u=s,g=s;for(let y=0;y<s;y++)gd(e,()=>{const w=ln(n[y],e);let T=!1;w.subscribe((0,cn.x)(r,S=>{c[y]=S,T||(T=!0,g--),g||r.next(t(c.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,s?u=>function pd(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}(s,u):wo.y));return t?c.pipe(fa(t)):c}function gd(n,e,t){n?kr(t,n,e):e()}const bl=(0,ee(306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Kn(n,e,t=1/0){return(0,vn.m)(e)?Kn((r,s)=>(0,It.U)((c,u)=>e(r,c,s,u))(Nt(n(r,s))),t):("number"==typeof e&&(t=e),(0,Rn.e)((r,s)=>function jg(n,e,t,r,s,c,u,g){const y=[];let w=0,T=0,S=!1;const P=()=>{S&&!y.length&&!w&&e.complete()},V=ne=>w<r?X(ne):y.push(ne),X=ne=>{c&&e.next(ne),w++;let ce=!1;Nt(t(ne,T++)).subscribe((0,cn.x)(e,Te=>{s?.(Te),c?V(Te):e.next(Te)},()=>{ce=!0},void 0,()=>{if(ce)try{for(w--;y.length&&w<r;){const Te=y.shift();u?kr(e,u,()=>X(Te)):X(Te)}P()}catch(Te){e.error(Te)}}))};return n.subscribe((0,cn.x)(e,V,()=>{S=!0,P()})),()=>{g?.()}}(r,s,n,t)))}function pa(n=1/0){return Kn(wo.y,n)}function Bo(...n){return function _b(){return pa(1)}()(ln(n,cc(n)))}function To(n){return new Gn.y(e=>{Nt(n()).subscribe(e)})}var Hf=ee(407);function ws(n,e){const t=(0,vn.m)(n)?n:()=>n,r=s=>s.error(t());return new Gn.y(e?s=>e.schedule(r,0,s):r)}const vi=new Gn.y(n=>n.complete());var yn=ee(394);function _d(){return(0,Rn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,c=t;t=null,s&&(!c||s===c)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class vd extends Gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Rn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yn.w0.EMPTY)}return e}refCount(){return _d()(this)}}var Wt=ee(645);function dr(n,e){return(0,Rn.e)((t,r)=>{let s=null,c=0,u=!1;const g=()=>u&&!s&&r.complete();t.subscribe((0,cn.x)(r,y=>{s?.unsubscribe();let w=0;const T=c++;Nt(n(y,T)).subscribe(s=(0,cn.x)(r,S=>r.next(e?e(y,S,T,w++):S),()=>{s=null,g()}))},()=>{u=!0,g()}))})}function ri(n){return n<=0?()=>vi:(0,Rn.e)((e,t)=>{let r=0;e.subscribe((0,cn.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Ki(...n){const e=cc(n);return(0,Rn.e)((t,r)=>{(e?Bo(n,t,e):Bo(n,t)).subscribe(r)})}function Ln(n,e){return(0,Rn.e)((t,r)=>{let s=0;t.subscribe((0,cn.x)(r,c=>n.call(e,c,s++)&&r.next(c)))})}function jo(n){return(0,Rn.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function ma(n=yd){return(0,Rn.e)((e,t)=>{let r=!1;e.subscribe((0,cn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function yd(){return new bl}function Co(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((s,c)=>n(s,c,r)):wo.y,ri(1),t?jo(e):ma(()=>new bl))}function Do(n,e){return(0,vn.m)(e)?Kn(n,e,1):Kn(n,1)}function vr(n,e,t){const r=(0,vn.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Rn.e)((s,c)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let g=!0;s.subscribe((0,cn.x)(c,y=>{var w;null===(w=r.next)||void 0===w||w.call(r,y),c.next(y)},()=>{var y;g=!1,null===(y=r.complete)||void 0===y||y.call(r),c.complete()},y=>{var w;g=!1,null===(w=r.error)||void 0===w||w.call(r,y),c.error(y)},()=>{var y,w;g&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):wo.y}function dc(n){return(0,Rn.e)((e,t)=>{let c,r=null,s=!1;r=e.subscribe((0,cn.x)(t,void 0,void 0,u=>{c=Nt(n(u,dc(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,c.subscribe(t))})}function Gf(n,e){return(0,Rn.e)(function $f(n,e,t,r,s){return(c,u)=>{let g=t,y=e,w=0;c.subscribe((0,cn.x)(u,T=>{const S=w++;y=g?n(y,T,S):(g=!0,T),r&&u.next(y)},s&&(()=>{g&&u.next(y),u.complete()})))}}(n,e,arguments.length>=2,!0))}function zg(n){return n<=0?()=>vi:(0,Rn.e)((e,t)=>{let r=[];e.subscribe((0,cn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function Hg(n){return(0,Rn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var hc=ee(420);function bd(n){return(0,Rn.e)((e,t)=>{Nt(n).subscribe((0,cn.x)(t,()=>t.complete(),hc.Z)),!t.closed&&e.subscribe(t)})}const St="primary",bn=Symbol("RouteTitle");class vb{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ao(n){return new vb(n)}function yb(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let c=0;c<r.length;c++){const u=r[c],g=n[c];if(u.startsWith(":"))s[u.substring(1)]=g;else if(u!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Gr(n,e){const t=n?Il(n):void 0,r=e?Il(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let c=0;c<t.length;c++)if(s=t[c],!El(n[s],e[s]))return!1;return!0}function Il(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function El(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,c)=>r[c]===s)}return n===e}function Qi(n){return function Pf(n){return!!n&&(n instanceof Gn.y||(0,vn.m)(n.lift)&&(0,vn.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?ln(Promise.resolve(n)):Ke(n)}const qf={exact:function Fr(n,e,t){if(!Ho(n.segments,e.segments)||!fc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Fr(n.children[r],e.children[r],t))return!1;return!0},subset:zo},bb={exact:function $g(n,e){return Gr(n,e)},subset:function Wf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>El(n[t],e[t]))},ignored:()=>!0};function Zf(n,e,t){return qf[t.paths](n.root,e.root,t.matrixParams)&&bb[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zo(n,e,t){return Ib(n,e,e.segments,t)}function Ib(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Ho(s,t)||e.hasChildren()||!fc(s,t,r))}if(n.segments.length===t.length){if(!Ho(n.segments,t)||!fc(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!zo(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Ho(n.segments,s)&&fc(n.segments,s,r)&&n.children[St])&&Ib(n.children[St],e,c,r)}}function fc(n,e,t){return e.every((r,s)=>bb[t](n[s].parameters,r.parameters))}class pc{constructor(e=new tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ao(this.queryParams)),this._queryParamMap}toString(){return qg.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _a(this)}}class wl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ao(this.parameters)),this._parameterMap}toString(){return Cs(this)}}function Ho(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Xi=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>new ga,providedIn:"root"})}return n})();class ga{parse(e){const t=new Kf(e);return new pc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Tl(e.root,!0)}`,r=function gc(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(s=>`${Id(t)}=${Id(s)}`).join("&"):`${Id(t)}=${Id(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Zg(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qg=new ga;function _a(n){return n.segments.map(e=>Cs(e)).join("/")}function Tl(n,e){if(!n.hasChildren())return _a(n);if(e){const t=n.children[St]?Tl(n.children[St],!1):"",r=[];return Object.entries(n.children).forEach(([s,c])=>{s!==St&&r.push(`${s}:${Tl(c,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gg(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===St&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==St&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===St?[Tl(n.children[St],!1)]:[`${s}:${Tl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${_a(n)}/${t[0]}`:`${_a(n)}/(${t.join("//")})`}}function Cl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Id(n){return Cl(n).replace(/%3B/gi,";")}function mc(n){return Cl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function va(n){return decodeURIComponent(n)}function Wg(n){return va(n.replace(/\+/g,"%20"))}function Cs(n){return`${mc(n.path)}${function Eb(n){return Object.entries(n).map(([e,t])=>`;${mc(e)}=${mc(t)}`).join("")}(n.parameters)}`}const ya=/^[^\/()?;#]+/;function Yf(n){const e=n.match(ya);return e?e[0]:""}const Yg=/^[^\/()?;=#]+/,wb=/^[^=?&#]+/,Tb=/^[^&#]+/;class Kf{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new tn(e,t)),r}parseSegment(){const e=Yf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new wl(va(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Kg(n){const e=n.match(Yg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Yf(this.remaining);s&&(r=s,this.capture(r))}e[va(t)]=va(r)}parseQueryParam(e){const t=function Qg(n){const e=n.match(wb);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Cb(n){const e=n.match(Tb);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const s=Wg(t),c=Wg(r);if(e.hasOwnProperty(s)){let u=e[s];Array.isArray(u)||(u=[u],e[s]=u),u.push(c)}else e[s]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yf(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new h.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=St);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[St]:new tn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function Ds(n){return n.segments.length>0?new tn([],{[St]:n}):n}function Qf(n){const e={};for(const[r,s]of Object.entries(n.children)){const c=Qf(s);if(r===St&&0===c.segments.length&&c.hasChildren())for(const[u,g]of Object.entries(c.children))e[u]=g;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function Xf(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}function So(n){return n instanceof pc}function Jf(n){let e;const s=Ds(function t(c){const u={};for(const y of c.children){const w=t(y);u[y.outlet]=w}const g=new tn(c.url,u);return c===n&&(e=g),g}(n.root));return e??s}function Dl(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return wd(s,s,s,t,r);const c=function ep(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xg(!0,0,n);let e=0,t=!1;const r=n.reduce((s,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Object.entries(c.outlets).forEach(([y,w])=>{g[y]="string"==typeof w?w.split("/"):w}),[...s,{outlets:g}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===u?(c.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,c]},[]);return new Xg(t,e,r)}(e);if(c.toRoot())return wd(s,s,new tn([],{}),t,r);const u=function Jg(n,e,t){if(n.isAbsolute)return new Ss(e,!0,0);if(!t)return new Ss(e,!1,NaN);if(null===t.parent)return new Ss(t,!0,0);const r=Al(n.commands[0])?0:1;return function ba(n,e,t){let r=n,s=e,c=t;for(;c>s;){if(c-=s,r=r.parent,!r)throw new h.vHH(4005,!1);s=r.segments.length}return new Ss(r,!1,s-c)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(c,s,n),g=u.processChildren?xs(u.segmentGroup,u.index,c.commands):Sl(u.segmentGroup,u.index,c.commands);return wd(s,u.segmentGroup,g,t,r)}function Al(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function As(n){return"object"==typeof n&&null!=n&&n.outlets}function wd(n,e,t,r,s){let u,c={};r&&Object.entries(r).forEach(([y,w])=>{c[y]=Array.isArray(w)?w.map(T=>`${T}`):`${w}`}),u=n===e?t:_c(n,e,t);const g=Ds(Qf(u));return new pc(g,c,s)}function _c(n,e,t){const r={};return Object.entries(n.children).forEach(([s,c])=>{r[s]=c===e?t:_c(c,e,t)}),new tn(n.segments,r)}class Xg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Al(r[0]))throw new h.vHH(4003,!1);const s=r.find(As);if(s&&s!==r.at(-1))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ss{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Sl(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return xs(n,e,t);const r=function Ab(n,e,t){let r=0,s=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return c;const u=n.segments[s],g=t[r];if(As(g))break;const y=`${g}`,w=r<t.length-1?t[r+1]:null;if(s>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!Ia(y,w,u))return c;r+=2}else{if(!Ia(y,{},u))return c;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new tn(n.segments.slice(0,r.pathIndex),{});return c.children[St]=new tn(n.segments.slice(r.pathIndex),n.children),xs(c,0,s)}return r.match&&0===s.length?new tn(n.segments,{}):r.match&&!n.hasChildren()?xl(n,e,t):r.match?xs(n,0,s):xl(n,e,t)}function xs(n,e,t){if(0===t.length)return new tn(n.segments,{});{const r=function Db(n){return As(n[0])?n[0].outlets:{[St]:n}}(t),s={};if(Object.keys(r).some(c=>c!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const c=xs(n.children[St],e,t);return new tn(n.segments,c.children)}return Object.entries(r).forEach(([c,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(s[c]=Sl(n.children[c],e,u))}),Object.entries(n.children).forEach(([c,u])=>{void 0===r[c]&&(s[c]=u)}),new tn(n.segments,s)}}function xl(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const c=t[s];if(As(c)){const y=Td(c.outlets);return new tn(r,y)}if(0===s&&Al(t[0])){r.push(new wl(n.segments[e].path,qr(t[0]))),s++;continue}const u=As(c)?c.outlets[St]:`${c}`,g=s<t.length-1?t[s+1]:null;u&&g&&Al(g)?(r.push(new wl(u,qr(g))),s+=2):(r.push(new wl(u,{})),s++)}return new tn(r,{})}function Td(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=xl(new tn([],{}),0,r))}),e}function qr(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ia(n,e,t){return n==t.path&&Gr(e,t.parameters)}const Rs="imperative";class xo{constructor(e,t){this.id=e,this.url=t}}class Cd extends xo{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ji extends xo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eo extends xo{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ea extends xo{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class vc extends xo{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dd extends xo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ad extends xo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sb extends xo{constructor(e,t,r,s,c){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rl extends xo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e_ extends xo{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ml{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xb{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rp{}class xd{constructor(e){this.url=e}}class bi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wa,this.attachRef=null}}let wa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bi,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class $o{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Pl(e,this._root).map(t=>t.value)}}function yc(n,e){if(n===e.value)return e;for(const t of e.children){const r=yc(n,t);if(r)return r}return null}function Pl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pl(n,t);if(r.length)return r.unshift(e),r}return[]}class un{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ps(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rd extends $o{constructor(e,t){super(e),this.snapshot=t,Ta(this,e)}toString(){return this.snapshot.toString()}}function Md(n){const e=function Go(n){const c=new Pd([],{},{},"",{},St,n,null,{});return new ip("",new un(c,[]))}(n),t=new Nr.X([new wl("",{})]),r=new Nr.X({}),s=new Nr.X({}),c=new Nr.X({}),u=new Nr.X(""),g=new hr(t,r,c,u,s,St,n,e.root);return g.snapshot=e.root,new Rd(new un(g,[]),e)}class hr{constructor(e,t,r,s,c,u,g,y){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=c,this.outlet=u,this.component=g,this._futureSnapshot=y,this.title=this.dataSubject?.pipe((0,It.U)(w=>w[bn]))??Ke(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>Ao(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>Ao(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ol(n,e,t="emptyOnly"){let r;const{routeConfig:s}=n;return r=null===e||"always"!==t&&""!==s?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...s?.data,...n._resolvedData}},s&&n_(s)&&(r.resolve[bn]=s.title),r}class Pd{get title(){return this.data?.[bn]}constructor(e,t,r,s,c,u,g,y,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=c,this.outlet=u,this.component=g,this.routeConfig=y,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ao(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ao(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ip extends $o{constructor(e,t){super(t),this.url=e,Ta(this,t)}toString(){return Rb(this._root)}}function Ta(n,e){e.value._routerState=n,e.children.forEach(t=>Ta(n,t))}function Rb(n){const e=n.children.length>0?` { ${n.children.map(Rb).join(", ")} } `:"";return`${n.value}${e}`}function op(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gr(e.params,t.params)||n.paramsSubject.next(t.params),function ii(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function sp(n,e){const t=Gr(n.params,e.params)&&function $w(n,e){return Ho(n,e)&&n.every((t,r)=>Gr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sp(n.parent,e.parent))}function n_(n){return"string"==typeof n.title||null===n.title}let v=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(wa),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(m,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const s=this.location,u=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new f(t,g,s.injector);this.activated=s.createComponent(u,{index:s.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]})}return n})();class f{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hr?this.route:e===wa?this.childContexts:this.parent.get(e,t)}}const m=new h.OlP("");let I=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=lc([r.queryParams,r.params,r.data]).pipe(dr(([c,u,g],y)=>(g={...c,...u,...g},0===y?Ke(g):Promise.resolve(g)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const u=(0,h.qFp)(r.component);if(u)for(const{templateName:g}of u.inputs)t.activatedComponentRef.setInput(g,c[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function R(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function O(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return R(n,r,s);return R(n,r)})}(n,e,t);return new un(r,s)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(g=>R(n,g)),u}}const r=function G(n){return new hr(new Nr.X(n.url),new Nr.X(n.params),new Nr.X(n.queryParams),new Nr.X(n.fragment),new Nr.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(c=>R(n,c));return new un(r,s)}}const se="ngNavigationCancelingError";function Ce(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Fe(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function Fe(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[se]=!0,r.cancellationCode=e,t&&(r.url=t),r}function hn(n){return n&&n[se]}let Ii=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},dependencies:[v],encapsulation:2})}return n})();function cp(n){const e=n.children&&n.children.map(cp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=Ii),t}function Ui(n){return n.outlet||St}function Nd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class PP{constructor(e,t,r,s,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=c}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),op(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Ps(t);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,s[u],r),delete s[u]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const s=e.value,c=t?t.value:null;if(s===c)if(s.component){const u=r.getContext(s.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,c=Ps(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);if(r&&r.outlet){const u=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,c=Ps(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=Ps(t);e.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],r),this.forwardEvent(new np(c.value.snapshot))}),e.children.length&&this.forwardEvent(new xb(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,c=t?t.value:null;if(op(s),s===c)if(s.component){const u=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const u=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(g.contexts),u.attachRef=g.componentRef,u.route=g.route.value,u.outlet&&u.outlet.attach(g.componentRef,g.route.value),op(g.route.value),this.activateChildRoutes(e,null,u.children)}else{const g=Nd(s.snapshot);u.attachRef=null,u.route=s,u.injector=g,u.outlet&&u.outlet.activateWith(s,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class qw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kl{constructor(e,t){this.component=e,this.route=t}}function a_(n,e,t){const r=n._root;return Fd(r,e?e._root:null,t,[r.value])}function Nl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Fd(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ps(e);return n.children.forEach(u=>{(function lp(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,u=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const y=function OS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ho(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sp(n,e)||!Gr(n.queryParams,e.queryParams);default:return!sp(n,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new qw(r)):(c.data=u.data,c._resolvedData=u._resolvedData),Fd(n,e,c.component?g?g.children:null:t,r,s),y&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new kl(g.outlet.component,u))}else u&&Ld(e,g,s),s.canActivateChecks.push(new qw(r)),Fd(n,null,c.component?g?g.children:null:t,r,s)})(u,c[u.value.outlet],t,r.concat([u.value]),s),delete c[u.value.outlet]}),Object.entries(c).forEach(([u,g])=>Ld(g,t.getContext(u),s)),s}function Ld(n,e,t){const r=Ps(n),s=n.value;Object.entries(r).forEach(([c,u])=>{Ld(u,s.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new kl(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Vd(n){return"function"==typeof n}function Zw(n){return n instanceof bl||"EmptyError"===n?.name}const d_=Symbol("INITIAL_VALUE");function Ud(){return dr(n=>lc(n.map(e=>e.pipe(ri(1),Ki(d_)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===d_)return d_;if(!1===t||t instanceof pc)return t}return!0}),Ln(e=>e!==d_),ri(1)))}function Lb(n){return(0,Hf.z)(vr(e=>{if(So(e))throw Ce(0,e)}),(0,It.U)(e=>!0===e))}class Vb{constructor(e){this.segmentGroup=e||null}}class h_ extends Error{constructor(e){super(),this.urlTree=e}}function Bd(n){return ws(new Vb(n))}class zS{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ke(r);if(s.numberOfChildren>1||!s.children[St])return ws(new h.vHH(4e3,!1));s=s.children[St]}}applyRedirectCommands(e,t,r){const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new h_(s);return s}applyRedirectCreateUrlTree(e,t,r,s){const c=this.createSegmentGroup(e,t.root,r,s);return new pc(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,c])=>{if("string"==typeof c&&c.startsWith(":")){const g=c.substring(1);r[s]=t[g]}else r[s]=c}),r}createSegmentGroup(e,t,r,s){const c=this.createSegments(e,t.segments,r,s);let u={};return Object.entries(t.children).forEach(([g,y])=>{u[g]=this.createSegmentGroup(e,y,r,s)}),new tn(c,u)}createSegments(e,t,r,s){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,s):this.findOrReturn(c,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new h.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const Ub={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bb(n,e,t,r,s){const c=dp(n,e,t);return c.matched?(r=function Od(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Kw(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?Ke(s.map(u=>{const g=Nl(u,n);return Qi(function FS(n){return n&&Vd(n.canMatch)}(g)?g.canMatch(e,t):(0,h.r_H)(n,()=>g(e,t)))})).pipe(Ud(),Lb()):Ke(!0)}(r,e,t).pipe((0,It.U)(u=>!0===u?c:{...Ub}))):Ke(c)}function dp(n,e,t){if("**"===e.path)return function HS(n){return{matched:!0,parameters:n.at(-1)?.parameters??{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ub}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||yb)(t,n,e);if(!s)return{...Ub};const c={};Object.entries(s.posParams??{}).forEach(([g,y])=>{c[g]=y.path});const u=s.consumed.length>0?{...c,...s.consumed[s.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:u,positionalParamSegments:s.posParams??{}}}function Fl(n,e,t,r){return t.length>0&&function jb(n,e,t){return t.some(r=>m_(n,e,r)&&Ui(r)!==St)}(n,t,r)?{segmentGroup:new tn(e,Xw(r,new tn(t,n.children))),slicedSegments:[]}:0===t.length&&function p_(n,e,t){return t.some(r=>m_(n,e,r))}(n,t,r)?{segmentGroup:new tn(n.segments,f_(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new tn(n.segments,n.children),slicedSegments:t}}function f_(n,e,t,r){const s={};for(const c of t)if(m_(n,e,c)&&!r[Ui(c)]){const u=new tn([],{});s[Ui(c)]=u}return{...r,...s}}function Xw(n,e){const t={};t[St]=e;for(const r of n)if(""===r.path&&Ui(r)!==St){const s=new tn([],{});t[Ui(r)]=s}return t}function m_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class GS{}class eT{constructor(e,t,r,s,c,u,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=u,this.urlSerializer=g,this.applyRedirects=new zS(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new h.vHH(4002,`'${e.segmentGroup}'`)}recognize(){const e=Fl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,It.U)(t=>{const r=new Pd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),s=new un(r,t),c=new ip("",s),u=function Ed(n,e,t=null,r=null){return Dl(Jf(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(c._root,null),{state:c,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,St).pipe(dc(r=>{if(r instanceof h_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vb?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,s=Ol(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),e.children.forEach(c=>this.inheritParamsAndData(c,r))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0).pipe((0,It.U)(c=>c instanceof un?[c]:[]))}processChildren(e,t,r){const s=[];for(const c of Object.keys(r.children))"primary"===c?s.unshift(c):s.push(c);return ln(s).pipe(Do(c=>{const u=r.children[c],g=function s_(n,e){const t=n.filter(r=>Ui(r)===e);return t.push(...n.filter(r=>Ui(r)!==e)),t}(t,c);return this.processSegmentGroup(e,g,u,c)}),Gf((c,u)=>(c.push(...u),c)),jo(null),function zw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ln((s,c)=>n(s,c,r)):wo.y,zg(1),t?jo(e):ma(()=>new bl))}(),Kn(c=>{if(null===c)return Bd(r);const u=__(c);return function hp(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(u),Ke(u)}))}processSegment(e,t,r,s,c,u){return ln(t).pipe(Do(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,s,c,u).pipe(dc(y=>{if(y instanceof Vb)return Ke(null);throw y}))),Co(g=>!!g),dc(g=>{if(Zw(g))return function Jw(n,e,t){return 0===e.length&&!n.children[t]}(r,s,c)?Ke(new GS):Bd(r);throw g}))}processSegmentAgainstRoute(e,t,r,s,c,u,g){return function $S(n,e,t,r){return!!(Ui(n)===r||r!==St&&m_(e,t,n))&&dp(e,n,t).matched}(r,s,c,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,c,u):this.allowRedirects&&g?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,c,u):Bd(s):Bd(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,c,u){const{matched:g,consumedSegments:y,positionalParamSegments:w,remainingSegments:T}=dp(t,s,c);if(!g)return Bd(t);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const S=this.applyRedirects.applyRedirectCommands(y,s.redirectTo,w);return this.applyRedirects.lineralizeSegments(s,S).pipe(Kn(P=>this.processSegment(e,r,t,P.concat(T),u,!1)))}matchSegmentAgainstRoute(e,t,r,s,c){const u=Bb(t,r,s,e);return"**"===r.path&&(t.children={}),u.pipe(dr(g=>g.matched?this.getChildConfig(e=r._injector??e,r,s).pipe(dr(({routes:y})=>{const w=r._loadedInjector??e,{consumedSegments:T,remainingSegments:S,parameters:P}=g,V=new Pd(T,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function WS(n){return n.data||{}}(r),Ui(r),r.component??r._loadedComponent??null,r,function zb(n){return n.resolve||{}}(r)),{segmentGroup:X,slicedSegments:ne}=Fl(t,T,S,y);if(0===ne.length&&X.hasChildren())return this.processChildren(w,y,X).pipe((0,It.U)(Te=>null===Te?null:new un(V,Te)));if(0===y.length&&0===ne.length)return Ke(new un(V,[]));const ce=Ui(r)===c;return this.processSegment(w,y,X,ne,ce?St:c,!0).pipe((0,It.U)(Te=>new un(V,Te instanceof un?[Te]:[])))})):Bd(t)))}getChildConfig(e,t,r){return t.children?Ke({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ke({routes:t._loadedRoutes,injector:t._loadedInjector}):function up(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?Ke(!0):Ke(s.map(u=>{const g=Nl(u,n);return Qi(function l_(n){return n&&Vd(n.canLoad)}(g)?g.canLoad(e,t):(0,h.r_H)(n,()=>g(e,t)))})).pipe(Ud(),Lb())}(e,t,r).pipe(Kn(s=>s?this.configLoader.loadChildren(e,t).pipe(vr(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function Qw(n){return ws(Fe(!1,3))}())):Ke({routes:[],injector:e})}}function g_(n){const e=n.value.routeConfig;return e&&""===e.path}function __(n){const e=[],t=new Set;for(const r of n){if(!g_(r)){e.push(r);continue}const s=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=__(r.children);e.push(new un(r.value,s))}return e.filter(r=>!t.has(r))}function Hb(n){const e=n.children.map(t=>Hb(t)).flat();return[n,...e]}function jd(n){return dr(e=>{const t=n(e);return t?ln(t).pipe((0,It.U)(()=>e)):Ke(e)})}let rT=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===St);return r}getResolvedTitleForRoute(t){return t.data[bn]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(iT),providedIn:"root"})}return n})(),iT=(()=>{class n extends rT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(xf))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Vl=new h.OlP("",{providedIn:"root",factory:()=>({})}),Ul=new h.OlP("ROUTES");let fp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ke(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qi(t.loadComponent()).pipe((0,It.U)(zd),vr(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),Hg(()=>{this.componentLoaders.delete(t)})),s=new vd(r,()=>new Wt.x).pipe(_d());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ke({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function oT(n,e,t,r){return Qi(n.loadChildren()).pipe((0,It.U)(zd),Kn(s=>s instanceof h.YKP||Array.isArray(s)?Ke(s):ln(e.compileModuleAsync(s))),(0,It.U)(s=>{r&&r(n);let c,u,g=!1;return Array.isArray(s)?(u=s,!0):(c=s.create(t).injector,u=c.get(Ul,[],{optional:!0,self:!0}).flat()),{routes:u.map(cp),injector:c}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Hg(()=>{this.childrenLoaders.delete(r)})),u=new vd(c,()=>new Wt.x).pipe(_d());return this.childrenLoaders.set(r,u),u}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zd(n){return function v_(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let y_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)($b),providedIn:"root"})}return n})(),$b=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pp=new h.OlP(""),Gb=new h.OlP("");function qb(n,e,t){const r=n.get(Gb),s=n.get(ge);return n.get(h.R0b).runOutsideAngular(()=>{if(!s.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let c;const u=new Promise(w=>{c=w}),g=s.startViewTransition(()=>(c(),function b_(n){return new Promise(e=>{(0,h.T8G)(e,{injector:n})})}(n))),{onViewTransitionCreated:y}=r;return y&&(0,h.r_H)(n,()=>y({transition:g,from:e,to:t})),u})}let I_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Wt.x,this.transitionAbortSubject=new Wt.x,this.configLoader=(0,h.f3M)(fp),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Xi),this.rootContexts=(0,h.f3M)(wa),this.location=(0,h.f3M)(ze),this.inputBindingEnabled=null!==(0,h.f3M)(m,{optional:!0}),this.titleStrategy=(0,h.f3M)(rT),this.options=(0,h.f3M)(Vl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,h.f3M)(y_),this.createViewTransition=(0,h.f3M)(pp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ke(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Ml(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new yi(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,s){return this.transitions=new Nr.X({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(c=>0!==c.id),(0,It.U)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),dr(c=>{this.currentTransition=c;let u=!1,g=!1;return Ke(c).pipe(vr(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dr(y=>{const w=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(y.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new Ea(y.id,this.urlSerializer.serialize(y.rawUrl),S,0)),y.resolve(null),vi}if(this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Ke(y).pipe(dr(S=>{const P=this.transitions?.getValue();return this.events.next(new Cd(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions?.getValue()?vi:Promise.resolve(S)}),function tT(n,e,t,r,s,c){return Kn(u=>function qS(n,e,t,r,s,c,u="emptyOnly"){return new eT(n,e,t,r,s,u,c).recognize()}(n,e,t,r,u.extractedUrl,s,c).pipe((0,It.U)(({state:g,tree:y})=>({...u,targetSnapshot:g,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),vr(S=>{c.targetSnapshot=S.targetSnapshot,c.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects};const P=new Dd(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:S,extractedUrl:P,source:V,restoredState:X,extras:ne}=y,ce=new Cd(S,this.urlSerializer.serialize(P),V,X);this.events.next(ce);const Te=Md(this.rootComponentType).snapshot;return this.currentTransition=c={...y,targetSnapshot:Te,urlAfterRedirects:P,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=P,Ke(c)}{const S="";return this.events.next(new Ea(y.id,this.urlSerializer.serialize(y.extractedUrl),S,1)),y.resolve(null),vi}}),vr(y=>{const w=new Ad(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),(0,It.U)(y=>(this.currentTransition=c={...y,guards:a_(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},c)),function Ww(n,e){return Kn(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?Ke({...t,guardsResult:!0}):function VS(n,e,t,r){return ln(n).pipe(Kn(s=>function oi(n,e,t,r,s){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?Ke(c.map(g=>{const y=Nd(e)??s,w=Nl(g,y);return Qi(function NS(n){return n&&Vd(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):(0,h.r_H)(y,()=>w(n,e,t,r))).pipe(Co())})).pipe(Ud()):Ke(!0)}(s.component,s.route,t,e,r)),Co(s=>!0!==s,!0))}(u,r,s,n).pipe(Kn(g=>g&&function c_(n){return"boolean"==typeof n}(g)?function US(n,e,t,r){return ln(e).pipe(Do(s=>Bo(function Nb(n,e){return null!==n&&e&&e(new tp(n)),Ke(!0)}(s.route.parent,r),function Bi(n,e){return null!==n&&e&&e(new Sd(n)),Ke(!0)}(s.route,r),function Fb(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function Ob(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>To(()=>Ke(u.guards.map(y=>{const w=Nd(u.node)??t,T=Nl(y,w);return Qi(function kS(n){return n&&Vd(n.canActivateChild)}(T)?T.canActivateChild(r,n):(0,h.r_H)(w,()=>T(r,n))).pipe(Co())})).pipe(Ud())));return Ke(c).pipe(Ud())}(n,s.path,t),function Yw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ke(!0);const s=r.map(c=>To(()=>{const u=Nd(e)??t,g=Nl(c,u);return Qi(function u_(n){return n&&Vd(n.canActivate)}(g)?g.canActivate(e,n):(0,h.r_H)(u,()=>g(e,n))).pipe(Co())}));return Ke(s).pipe(Ud())}(n,s.route,t))),Co(s=>!0!==s,!0))}(r,c,n,e):Ke(g)),(0,It.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,y=>this.events.next(y)),vr(y=>{if(c.guardsResult=y.guardsResult,So(y.guardsResult))throw Ce(0,y.guardsResult);const w=new Sb(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(w)}),Ln(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),jd(y=>{if(y.guards.canActivateChecks.length)return Ke(y).pipe(vr(w=>{const T=new Rl(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(T)}),dr(w=>{let T=!1;return Ke(w).pipe(function Ll(n,e){return Kn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return Ke(t);const c=new Set(s.map(y=>y.route)),u=new Set;for(const y of c)if(!u.has(y))for(const w of Hb(y))u.add(w);let g=0;return ln(u).pipe(Do(y=>c.has(y)?function nT(n,e,t,r){const s=n.routeConfig,c=n._resolve;return void 0!==s?.title&&!n_(s)&&(c[bn]=s.title),function YS(n,e,t,r){const s=Il(n);if(0===s.length)return Ke({});const c={};return ln(s).pipe(Kn(u=>function kP(n,e,t,r){const s=Nd(e)??r,c=Nl(n,s);return Qi(c.resolve?c.resolve(e,t):(0,h.r_H)(s,()=>c(e,t)))}(n[u],e,t,r).pipe(Co(),vr(g=>{c[u]=g}))),zg(1),function Hw(n){return(0,It.U)(()=>n)}(c),dc(u=>Zw(u)?vi:ws(u)))}(c,n,e,r).pipe((0,It.U)(u=>(n._resolvedData=u,n.data=Ol(n,n.parent,t).resolve,null)))}(y,r,n,e):(y.data=Ol(y,y.parent,n).resolve,Ke(void 0))),vr(()=>g++),zg(1),Kn(y=>g===u.size?Ke(t):vi))})}(this.paramsInheritanceStrategy,this.environmentInjector),vr({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(w,"",2)}}))}),vr(w=>{const T=new e_(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(T)}))}),jd(y=>{const w=T=>{const S=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(T.routeConfig).pipe(vr(P=>{T.component=P}),(0,It.U)(()=>{})));for(const P of T.children)S.push(...w(P));return S};return lc(w(y.targetSnapshot.root)).pipe(jo(null),ri(1))}),jd(()=>this.afterPreactivation()),dr(()=>{const{currentSnapshot:y,targetSnapshot:w}=c,T=this.createViewTransition?.(this.environmentInjector,y.root,w.root);return T?ln(T).pipe((0,It.U)(()=>c)):Ke(c)}),(0,It.U)(y=>{const w=function D(n,e,t){const r=R(n,e._root,t?t._root:void 0);return new Rd(r,e)}(t.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=c={...y,targetRouterState:w},this.currentNavigation.targetRouterState=w,c}),vr(()=>{this.events.next(new rp)}),((n,e,t,r)=>(0,It.U)(s=>(new PP(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),ri(1),vr({next:y=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ji(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),this.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{u=!0}}),bd(this.transitionAbortSubject.pipe(vr(y=>{throw y}))),Hg(()=>{u||g||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),dc(y=>{if(g=!0,hn(y))this.events.next(new eo(c.id,this.urlSerializer.serialize(c.extractedUrl),y.message,y.cancellationCode)),function $e(n){return hn(n)&&So(n.url)}(y)?this.events.next(new xd(y.url)):c.resolve(!1);else{this.events.next(new vc(c.id,this.urlSerializer.serialize(c.extractedUrl),y,c.targetSnapshot??void 0));try{c.resolve(t.errorHandler(y))}catch(w){c.reject(w)}}return vi}))}))}cancelNavigationTransition(t,r,s){const c=new eo(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(c),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sT(n){return n!==Rs}let KS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(XS),providedIn:"root"})}return n})();class QS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XS=(()=>{class n extends QS{static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}})();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:()=>(0,h.f3M)(aT),providedIn:"root"})}return n})(),aT=(()=>{class n extends Zb{constructor(){super(...arguments),this.location=(0,h.f3M)(ze),this.urlSerializer=(0,h.f3M)(Xi),this.options=(0,h.f3M)(Vl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,h.f3M)(y_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Md(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Cd)this.stateMemento=this.createStateMemento();else if(t instanceof Ea)this.rawUrlTree=r.initialUrl;else if(t instanceof Dd){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else t instanceof rp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof eo&&(3===t.code||2===t.code)?this.restoreHistory(r):t instanceof vc?this.restoreHistory(r,!0):t instanceof Ji&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",u)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(s,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===t.finalUrl&&0===c&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}})();static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(bc||{});function E_(n,e){n.events.pipe(Ln(t=>t instanceof Ji||t instanceof eo||t instanceof vc||t instanceof Ea),(0,It.U)(t=>t instanceof Ji||t instanceof Ea?bc.COMPLETE:t instanceof eo&&(0===t.code||1===t.code)?bc.REDIRECTING:bc.FAILED),Ln(t=>t!==bc.REDIRECTING),ri(1)).subscribe(()=>{e()})}function Hd(n){throw n}const JS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ex={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ro=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,h.f3M)(h.c2e),this.stateManager=(0,h.f3M)(Zb),this.options=(0,h.f3M)(Vl,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,h.f3M)(I_),this.urlSerializer=(0,h.f3M)(Xi),this.location=(0,h.f3M)(ze),this.urlHandlingStrategy=(0,h.f3M)(y_),this._events=new Wt.x,this.errorHandler=this.options.errorHandler||Hd,this.navigated=!1,this.routeReuseStrategy=(0,h.f3M)(KS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,h.f3M)(Ul,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,h.f3M)(m,{optional:!0}),this.eventsSubscription=new yn.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==s&&null!==c)if(this.stateManager.handleRouterEvent(r,c),r instanceof eo&&0!==r.code&&1!==r.code)this.navigated=!0;else if(r instanceof Ji)this.navigated=!0;else if(r instanceof xd){const u=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),g={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sT(s.source)};this.scheduleNavigation(u,Rs,null,g,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function w_(n){return!(n instanceof rp||n instanceof xd)})(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)}))}navigateToSyncWithBrowser(t,r,s){const c={replaceUrl:!0},u=s?.navigationId?s:null;if(s){const y={...s};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(c.state=y)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:s,queryParams:c,fragment:u,queryParamsHandling:g,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:u;let S,T=null;switch(g){case"merge":T={...this.currentUrlTree.queryParams,...c};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}null!==T&&(T=this.removeEmptyProps(T));try{S=Jf(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),S=this.currentUrlTree.root}return Dl(S,t,T,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=So(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,Rs,null,r)}navigate(t,r={skipLocationChange:!1}){return function tx(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let s;if(s=!0===r?{...JS}:!1===r?{...ex}:r,So(t))return Zf(this.currentUrlTree,t,s);const c=this.parseUrl(t);return Zf(this.currentUrlTree,c,s)}removeEmptyProps(t){return Object.entries(t).reduce((r,[s,c])=>(null!=c&&(r[s]=c),r),{})}scheduleNavigation(t,r,s,c,u){if(this.disposed)return Promise.resolve(!1);let g,y,w;u?(g=u.resolve,y=u.reject,w=u.promise):w=new Promise((S,P)=>{g=S,y=P});const T=this.pendingTasks.add();return E_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:g,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(S=>Promise.reject(S))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bl=(()=>{class n{constructor(t,r,s,c,u,g){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=c,this.el=u,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Wt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const y=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof Ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,c,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||c||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,c=this.el.nativeElement;null!==r?s.setAttribute(c,t,r):s.removeAttribute(c,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ro),h.Y36(hr),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ge))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){1&r&&h.NdJ("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&r&&h.uIk("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]})}return n})();class Wb{}let nx=(()=>{class n{constructor(t,r,s,c,u){this.router=t,this.injector=s,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof Ji),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,h.MMx)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,g=c._loadedInjector??u;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(u,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(g,c.children??c._loadedRoutes))}return ln(s).pipe(pa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ke(null);const c=s.pipe(Kn(u=>null===u?Ke(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));return r.loadComponent&&!r._loadedComponent?ln([c,this.loader.loadComponent(r)]).pipe(pa()):c})}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ro),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Wb),h.LFG(fp))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Yb=new h.OlP("");let uT=(()=>{class n{constructor(t,r,s,c,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ji?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ea&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof t_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new t_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac})}return n})();function Ei(n,e){return{\u0275kind:n,\u0275providers:e}}function dT(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Ro),s=n.get(hT);1===n.get(T_)&&r.initialNavigation(),n.get(fT,null,h.XFs.Optional)?.setUpPreloading(),n.get(Yb,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const hT=new h.OlP("",{factory:()=>new Wt.x}),T_=new h.OlP("",{providedIn:"root",factory:()=>1}),fT=new h.OlP("");function C_(n){return Ei(0,[{provide:fT,useExisting:nx},{provide:Wb,useExisting:n}])}function mT(n){return Ei(9,[{provide:pp,useValue:qb},{provide:Gb,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const ax=new h.OlP("ROUTER_FORROOT_GUARD"),jP=[ze,{provide:Xi,useClass:ga},Ro,wa,{provide:hr,useFactory:function Os(n){return n.routerState.root},deps:[Ro]},fp,[]];let A_=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jP,[],{provide:Ul,multi:!0,useValue:t},{provide:ax,useFactory:gT,deps:[[Ro,new h.FiY,new h.tp0]]},{provide:Vl,useValue:r||{}},r?.useHash?{provide:Ge,useClass:xt}:{provide:Ge,useClass:pt},{provide:Yb,useFactory:()=>{const n=(0,h.f3M)(Xy),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Vl),r=(0,h.f3M)(I_),s=(0,h.f3M)(Xi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new uT(s,r,n,e,t)}},r?.preloadingStrategy?C_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?cx(r):[],r?.bindToComponentInputs?Ei(8,[I,{provide:m,useExisting:I}]).\u0275providers:[],r?.enableViewTransitions?mT().\u0275providers:[],[{provide:_T,useFactory:dT},{provide:h.tb,multi:!0,useExisting:_T}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ul,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ax,8))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();function gT(n){return"guarded"}function cx(n){return["disabled"===n.initialNavigation?Ei(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Ro);return()=>{e.setUpLocationChangeListener()}}},{provide:T_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ei(2,[{provide:T_,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Pt,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(Ro),c=e.get(hT);E_(s,()=>{r(!0)}),e.get(I_).afterPreactivation=()=>(r(!0),c.closed?Ke(void 0):c),s.initialNavigation()}))}}]).\u0275providers:[]]}const _T=new h.OlP("");function jl(n,e){1&n&&(h.TgZ(0,"div")(1,"article")(2,"section",5)(3,"h2"),h._uU(4,"Benvenuto su SpotiRFI! \u{1f684}\u{1f3b5}"),h.qZA(),h.TgZ(5,"p"),h._uU(6," SpotiRFI \xe8 un viaggio unico attraverso la musica e le linee ferroviarie della Sicilia. Ogni stazione ferroviaria sulla mappa \xe8 associata a una canzone che porta il suo nome"),h.TgZ(7,"span",6),h._uU(8," * "),h.qZA(),h._uU(9,", creando un'esperienza musicale che riflette il viaggio attraverso la nostra bellissima regione. "),h.qZA(),h.TgZ(10,"a",7)(11,"span",8),h._uU(12," open_in_new "),h.qZA()()(),h.TgZ(13,"section"),h._UZ(14,"img",9),h.qZA()()())}function hx(n,e){1&n&&(h.TgZ(0,"div")(1,"article")(2,"section"),h._UZ(3,"img",10),h.qZA(),h.TgZ(4,"section",5)(5,"h2"),h._uU(6,"Come funziona? \u{1f9d0}"),h.qZA(),h.TgZ(7,"p"),h._uU(8," Scegli una linea ferroviaria sulla mappa e inizia il tuo viaggio musicale. Ad ogni fermata, ti verr\xe0 presentata una canzone che porta il nome della stazione. Puoi ascoltare la canzone mentre leggi informazioni sulla stazione e sulla sua storia. "),h.qZA(),h.TgZ(9,"a",11)(10,"span",8),h._uU(11," open_in_new "),h.qZA()()()()())}function fx(n,e){1&n&&(h.TgZ(0,"div")(1,"article")(2,"section"),h._UZ(3,"img",12),h.qZA(),h.TgZ(4,"section",5)(5,"h2"),h._uU(6,"Perch\xe9 SpotiRFI? \u{1f914}"),h.qZA(),h.TgZ(7,"p",13),h._uU(8," La musica e i viaggi sono due esperienze che possono portarci in luoghi che non abbiamo mai visitato. SpotiRFI combina queste due esperienze in un unico viaggio, permettendoti di esplorare la Sicilia attraverso le sue linee ferroviarie e la sua musica. "),h.qZA(),h.TgZ(9,"a",14)(10,"span",8),h._uU(11," open_in_new "),h.qZA()()()()())}let Xb=(()=>{class n{constructor(){this.activeTab="tab1",this.title="app"}ngAfterViewInit(){$(function(){$('[data-toggle="popover"]').popover()})}openLink(t){window.open(t,"_blank")}setActiveTab(t){this.activeTab=t}isActiveTab(t){return this.activeTab===t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:12,vars:9,consts:[["id","picture"],[1,"tabs"],[3,"click"],[1,"tab-content"],[4,"ngIf"],[1,"text"],["id","popover","data-bs-container","body","data-toggle","popover","data-bs-placement","bottom","data-bs-content","Non sono attualmente previsti i posti di movimento, solo STAZIONI e FERMATE. Non sono considerate le linee dismesse. Sono considerate le linee non attive IN FASE DI RIPRISTINO",1,"btn"],["href","https://normativaesercizio.rfi.it/NormativaEsercizio/detail.xhtml?doctype=FCL&compartimento=PA","target","_blank",1,"btn","btn-about"],[1,"material-symbols-outlined"],["src","assets/lineesiciliane.png","alt","Mappa linee ferroviarie siciliane di RFI"],["src","https://www.palermomania.it/public/news/image/images/metro.jpg","alt","Cartello passante ferroviario di Palermo"],["href","https://www.palermomania.it/","target","_blank",1,"btn","btn-about"],["src","https://www.stagniweb.it/altro/orizzf/636gioi0.jpg","alt","Locomotiva E636.010 in transito a Gioiosa Marea(ME)"],[1,"mb-4"],["href","https://www.stagniweb.it/foto6.asp?File=orizzf&Inizio=68&Righe=10&InizioI=1&RigheI=150&Col=5&Titolo=0","target","_blank",1,"btn","btn-about"]],template:function(r,s){1&r&&(h._UZ(0,"div",0),h.TgZ(1,"ul",1)(2,"li",2),h.NdJ("click",function(){return s.setActiveTab("tab1")}),h._uU(3," Benvenuto "),h.qZA(),h.TgZ(4,"li",2),h.NdJ("click",function(){return s.setActiveTab("tab2")}),h._uU(5," Come funziona? "),h.qZA(),h.TgZ(6,"li",2),h.NdJ("click",function(){return s.setActiveTab("tab3")}),h._uU(7," Perch\xe9 SpotiRFI? "),h.qZA()(),h.TgZ(8,"div",3),h.YNc(9,jl,15,0,"div",4)(10,hx,12,0,"div",4)(11,fx,12,0,"div",4),h.qZA()),2&r&&(h.xp6(2),h.ekj("active",s.isActiveTab("tab1")),h.xp6(2),h.ekj("active",s.isActiveTab("tab2")),h.xp6(2),h.ekj("active",s.isActiveTab("tab3")),h.xp6(3),h.Q6J("ngIf",s.isActiveTab("tab1")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab2")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab3")))},dependencies:[el],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";ul[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:row;list-style-type:none;font-size:16px;font-family:Merienda,cursive;font-weight:600;padding-inline-start:0}li[_ngcontent-%COMP%]{padding:.7em 2em;cursor:pointer}li.active[_ngcontent-%COMP%]{border-bottom:.1em #D62A42 solid;color:#d62a42}li[_ngcontent-%COMP%]:hover{background-color:#d62a420a}#popover[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;padding:0 0 0 5px}article[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px;font-weight:500;width:90%;margin:2em auto 1em;display:flex;flex-flow:row wrap}h2[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:20px;font-weight:600}section[_ngcontent-%COMP%]{width:50%;text-align:justify}.text[_ngcontent-%COMP%]{padding:1em}section[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%}#picture[_ngcontent-%COMP%]{background-image:url(464Torrenova.fba869a43b0a2ef9.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}@media screen and (min-width: 768px) and (max-width: 1024px){article[_ngcontent-%COMP%]{width:95%}}@media screen and (min-width: 281px) and (max-width: 767px){article[_ngcontent-%COMP%]{width:95%}}@media screen and (max-width: 280px){article[_ngcontent-%COMP%]{width:97%}}']})}return n})();var Ec=ee(534);(0,Ec.registerVersion)("firebase","10.7.1","app");class gx extends yn.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const S_={setInterval(n,e,...t){const{delegate:r}=S_;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=S_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var yT=ee(39);class Jb extends gx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const s=this.id,c=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(c,s,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,r=0){return S_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&S_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,r=!1;try{this.work(e)}catch(c){r=!0,s=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,yT.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const zl={now:()=>(zl.delegate||Date).now(),delegate:void 0};class Gd{constructor(e,t=Gd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gd.now=zl.now;class e0 extends Gd{constructor(e,t=Gd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const x_=new class ZP extends e0{}(class qP extends Jb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Hl=new e0(Jb),t0=Hl,wc=new h.GfV("ANGULARFIRE2_VERSION");class gp{constructor(){return((n,e)=>{const t=(0,Ec.getApps)(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r})(qd)}}const qd="app-check";function Tc(){}class R_{zone;delegate;constructor(e,t=x_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const s=this.zone;return this.delegate.schedule(function(u){s.runGuarded(()=>{e.apply(this,[u])})},t,r)}}class M_{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tc,{},Tc,Tc)),t.pipe(vr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _x=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new R_(Zone.current)),this.insideAngular=t.run(()=>new R_(Zone.current,Hl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(h.LFG(h.R0b))};static \u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function to(n){return function n0(n){return function(t){return(t=t.lift(new M_(n.ngZone))).pipe(Uo(n.outsideAngular),Li(n.insideAngular))}}(function Cc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Dc=ee(106);Dc.Z.registerVersion("firebase","10.7.1","app-compat");const P_=["ngOnDestroy"];class o0{constructor(e){return e}}const Zd=new h.OlP("angularfire2.app.options"),Gl=new h.OlP("angularfire2.app.name");function s0(n,e,t){const s="object"==typeof t&&t||{};s.name=s.name||"string"==typeof t&&t||"[DEFAULT]";const u=Dc.Z.apps.filter(g=>g&&g.name===s.name)[0]||e.runOutsideAngular(()=>Dc.Z.initializeApp(n,s));try{if(JSON.stringify(n)!==JSON.stringify(u.options)){const g=!!module.hot;wT("error",`${u.name} Firebase App already initialized with different options${g?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new o0(u)}const wT=(n,...e)=>{(0,h.X6Q)()&&typeof console<"u"&&console[n](...e)},Ix={provide:o0,useFactory:s0,deps:[Zd,h.R0b,[new h.FiY,Gl]]};let TT=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Zd,useValue:t},{provide:Gl,useValue:r}]}}constructor(t){Dc.Z.registerVersion("angularfire",wc.full,"core"),Dc.Z.registerVersion("angularfire",wc.full,"app-compat"),Dc.Z.registerVersion("angular",h.q4F.full,t.toString())}static \u0275fac=function(r){return new(r||n)(h.LFG(h.Lbi))};static \u0275mod=h.oAB({type:n});static \u0275inj=h.cJS({providers:[Ix]})}return n})();function Ex(n,e,t,r,s){const[,c,u]=globalThis.\u0275AngularfireInstanceCache.find(g=>g[0]===n)||[];if(c)return function wx(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(s,u)||(CT("error",`${e} was already initialized on the ${t} Firebase App with different settings.${vp?" You may need to reload as Firebase is not HMR aware.":""}`),CT("warn",{is:s,was:u})),c;{const g=r();return globalThis.\u0275AngularfireInstanceCache.push([n,g,s]),g}}const vp=typeof module<"u"&&!!module.hot,CT=(n,...e)=>{(0,h.X6Q)()&&typeof console<"u"&&console[n](...e)};function ql(...n){const e=cc(n),t=function Bw(n,e){return"number"==typeof Uf(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Nt(r[0]):pa(t)(ln(r,e)):vi}globalThis.\u0275AngularfireInstanceCache||=[],ee(230);class Tx extends Wt.x{constructor(e=1/0,t=1/0,r=zl){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:c,_windowTime:u}=this;t||(r.push(e),!s&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,c=s.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,c=(s?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!s){const u=t.now();let g=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)g=y;g&&r.splice(0,g+1)}}}var a0=ee(305);function c0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new a0.Hp({next:()=>{r.unsubscribe(),n()}});return Nt(e(...t)).subscribe(r)}function DT(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,function Cx(n={}){const{connector:e=(()=>new Wt.x),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=n;return c=>{let u,g,y,w=0,T=!1,S=!1;const P=()=>{g?.unsubscribe(),g=void 0},V=()=>{P(),u=y=void 0,T=S=!1},X=()=>{const ne=u;V(),ne?.unsubscribe()};return(0,Rn.e)((ne,ce)=>{w++,!S&&!T&&P();const Te=y=y??e();ce.add(()=>{w--,0===w&&!S&&!T&&(g=c0(X,s))}),Te.subscribe(ce),!u&&w>0&&(u=new a0.Hp({next:je=>Te.next(je),error:je=>{S=!0,P(),g=c0(V,t,je),Te.error(je)},complete:()=>{T=!0,P(),g=c0(V,r),Te.complete()}}),Nt(ne).subscribe(u))})(c)}}({connector:()=>new Tx(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function O_(n,e){return(0,vn.m)(e)?dr(()=>n,e):dr(()=>n)}const Dx=new h.OlP("angularfire2.auth.use-emulator"),Ax=new h.OlP("angularfire2.auth.settings"),AT=new h.OlP("angularfire2.auth.tenant-id"),ST=new h.OlP("angularfire2.auth.langugage-code"),Sx=new h.OlP("angularfire2.auth.use-device-language"),bp=new h.OlP("angularfire.auth.persistence"),xT=(n,e,t,r,s,c,u,g)=>Ex(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=s,c&&y.useDeviceLanguage(),u)for(const[w,T]of Object.entries(u))y.settings[w]=T;return g&&y.setPersistence(g),y},[t,r,s,c,u,g]);let RT=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,s,c,u,g,y,w,T,S,P,V){const X=new Wt.x,ne=Ke(void 0).pipe(Li(u.outsideAngular),dr(()=>c.runOutsideAngular(()=>Promise.resolve().then(ee.bind(ee,230)))),(0,It.U)(()=>s0(t,c,r)),(0,It.U)(ce=>xT(ce,c,g,w,T,S,y,P)),DT({bufferSize:1,refCount:!1}));if(Xu(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{ne.pipe(Co()).subscribe();const ce=ne.pipe(dr(xe=>xe.getRedirectResult().then(et=>et,()=>null)),to,DT({bufferSize:1,refCount:!1})),Te=ne.pipe(dr(xe=>new Gn.y(et=>({unsubscribe:c.runOutsideAngular(()=>xe.onAuthStateChanged(wt=>et.next(wt),wt=>et.error(wt),()=>et.complete()))})))),je=ne.pipe(dr(xe=>new Gn.y(et=>({unsubscribe:c.runOutsideAngular(()=>xe.onIdTokenChanged(wt=>et.next(wt),wt=>et.error(wt),()=>et.complete()))}))));this.authState=ce.pipe(O_(Te),Uo(u.outsideAngular),Li(u.insideAngular)),this.user=ce.pipe(O_(je),Uo(u.outsideAngular),Li(u.insideAngular)),this.idToken=this.user.pipe(dr(xe=>xe?ln(xe.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(dr(xe=>xe?ln(xe.getIdTokenResult()):Ke(null))),this.credential=ql(ce,X,this.authState.pipe(Ln(xe=>!xe))).pipe((0,It.U)(xe=>xe?.user?xe:null),Uo(u.outsideAngular),Li(u.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(s,c)=>t.runOutsideAngular(()=>{if(n[c])return r?.spy?.get&&r.spy.get(c,n[c]),n[c];if(P_.indexOf(c)>-1)return()=>{};const u=e.toPromise().then(g=>{const y=g?.[c];return"function"==typeof y?y.bind(g):y?.then?y.then(w=>t.run(()=>w)):t.run(()=>y)});return new Proxy(()=>{},{get:(g,y)=>u[y],apply:(g,y,w)=>u.then(T=>{const S=T?.(...w);return r?.spy?.apply&&r.spy.apply(c,w,S),S})})})}))(this,ne,c,{spy:{apply:(ce,Te,je)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&je.then(xe=>X.next(xe))}}})}static \u0275fac=function(r){return new(r||n)(h.LFG(Zd),h.LFG(Gl,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_x),h.LFG(Dx,8),h.LFG(Ax,8),h.LFG(AT,8),h.LFG(ST,8),h.LFG(Sx,8),h.LFG(bp,8),h.LFG(gp,8))};static \u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function k_(){return(0,Rn.e)((n,e)=>{let t,r=!1;n.subscribe((0,cn.x)(e,s=>{const c=t;t=s,r&&e.next([c,s]),r=!0}))})}function PT(n,e=wo.y){return n=n??xx,(0,Rn.e)((t,r)=>{let s,c=!0;t.subscribe((0,cn.x)(r,u=>{const g=e(u);(c||!n(s,g))&&(c=!1,s=g,r.next(u))}))})}function xx(n,e){return n===e}var Ne,he=ee(861),OT=ee(537),qo=ee(879),mn=ee(58),kT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zo={},N_=N_||{},yt=kT||self;function l0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Wd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var d0="closure_uid_"+(1e9*Math.random()>>>0),Ip=0;function NT(n,e,t){return n.call.apply(n.bind,arguments)}function FT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function si(n,e,t){return(si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NT:FT).apply(null,arguments)}function F_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Lr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,c){for(var u=Array(arguments.length-2),g=2;g<arguments.length;g++)u[g-2]=arguments[g];return e.prototype[s].apply(r,u)}}function Ac(){this.s=this.s,this.o=this.o}Ac.prototype.s=!1,Ac.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function u0(n){Object.prototype.hasOwnProperty.call(n,d0)&&n[d0]||(n[d0]=++Ip)}(this)},Ac.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function L_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function h0(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(l0(r)){const s=n.length||0,c=r.length||0;n.length=s+c;for(let u=0;u<c;u++)n[s+u]=r[u]}else n.push(r)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var VT=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};yt.addEventListener("test",t,e),yt.removeEventListener("test",t,e)}catch{}return n}();function V_(n){return/^[\s\xa0]*$/.test(n)}function Yd(){var n=yt.navigator;return n&&(n=n.userAgent)?n:""}function Wr(n){return-1!=Yd().indexOf(n)}function U_(n){return U_[" "](n),n}U_[" "]=function(){};var zT,n,UT=Wr("Opera"),Zl=Wr("Trident")||Wr("MSIE"),BT=Wr("Edge"),f0=BT||Zl,jT=Wr("Gecko")&&!(-1!=Yd().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),Mx=-1!=Yd().toLowerCase().indexOf("webkit")&&!Wr("Edge");function p0(){var n=yt.document;return n?n.documentMode:void 0}e:{var m0="",HT=(n=Yd(),jT?/rv:([^\);]+)(\)|;)/.exec(n):BT?/Edge\/([\d\.]+)/.exec(n):Zl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Mx?/WebKit\/(\S+)/.exec(n):UT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HT&&(m0=HT?HT[1]:""),Zl){var $T=p0();if(null!=$T&&$T>parseFloat(m0)){zT=String($T);break e}}zT=m0}var JP=yt.document&&Zl&&(p0()||parseInt(zT,10))||void 0;function ft(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jT){e:{try{U_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ft.$.h.call(this)}}Lr(ft,Zr);var GT={2:"touch",3:"pen",4:"mouse"};ft.prototype.h=function(){ft.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kd="closure_listenable_"+(1e6*Math.random()|0),Qd=0;function qT(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Qd,this.fa=this.ia=!1}function z_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Xd(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function H_(n){const e={};for(const t in n)e[t]=n[t];return e}const eh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _0(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let c=0;c<eh.length;c++)t=eh[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function th(n){this.src=n,this.g={},this.h=0}function Ep(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],s=LT(r,e);(c=0<=s)&&Array.prototype.splice.call(r,s,1),c&&(z_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wp(n,e,t,r){for(var s=0;s<n.length;++s){var c=n[s];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==r)return s}return-1}th.prototype.add=function(n,e,t,r,s){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var u=wp(n,e,r,s);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new qT(e,this.src,c,!!r,s)).ia=t,n.push(e)),e};var $_="closure_lm_"+(1e6*Math.random()|0),Tp={};function ZT(n,e,t,r,s){if(r&&r.once)return v0(n,e,t,r,s);if(Array.isArray(e)){for(var c=0;c<e.length;c++)ZT(n,e[c],t,r,s);return null}return t=b0(t),n&&n[Kd]?n.O(e,t,Wd(r)?!!r.capture:!!r,s):WT(n,e,t,!1,r,s)}function WT(n,e,t,r,s,c){if(!e)throw Error("Invalid event type");var u=Wd(s)?!!s.capture:!!s,g=G_(n);if(g||(n[$_]=g=new th(n)),(t=g.add(e,t,r,u,c)).proxy)return t;if(r=function Px(){const e=Ox;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)VT||(s=u),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(KT(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function v0(n,e,t,r,s){if(Array.isArray(e)){for(var c=0;c<e.length;c++)v0(n,e[c],t,r,s);return null}return t=b0(t),n&&n[Kd]?n.P(e,t,Wd(r)?!!r.capture:!!r,s):WT(n,e,t,!0,r,s)}function YT(n,e,t,r,s){if(Array.isArray(e))for(var c=0;c<e.length;c++)YT(n,e[c],t,r,s);else r=Wd(r)?!!r.capture:!!r,t=b0(t),n&&n[Kd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wp(c=n.g[e],t,r,s))&&(z_(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=G_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wp(e,t,r,s)),(t=-1<n?e[n]:null)&&y0(t))}function y0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Kd])Ep(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KT(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=G_(e))?(Ep(t,n),0==t.h&&(t.src=null,e[$_]=null)):z_(n)}}}function KT(n){return n in Tp?Tp[n]:Tp[n]="on"+n}function Ox(n,e){if(n.fa)n=!0;else{e=new ft(e,this);var t=n.listener,r=n.la||n.src;n.ia&&y0(n),n=t.call(r,e)}return n}function G_(n){return(n=n[$_])instanceof th?n:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function b0(n){return"function"==typeof n?n:(n[q_]||(n[q_]=function(e){return n.handleEvent(e)}),n[q_])}function Vr(){Ac.call(this),this.i=new th(this),this.S=this,this.J=null}function fn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var s=e;_0(e=new Zr(r,n),s)}if(s=!0,t)for(var c=t.length-1;0<=c;c--){var u=e.g=t[c];s=Z_(u,r,!0,e)&&s}if(s=Z_(u=e.g=n,r,!0,e)&&s,s=Z_(u,r,!1,e)&&s,t)for(c=0;c<t.length;c++)s=Z_(u=e.g=t[c],r,!1,e)&&s}function Z_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==t){var g=u.listener,y=u.la||u.src;u.ia&&Ep(n.i,u),s=!1!==g.call(y,r)&&s}}return s&&!r.defaultPrevented}Lr(Vr,Ac),Vr.prototype[Kd]=!0,Vr.prototype.removeEventListener=function(n,e,t,r){YT(this,n,e,t,r)},Vr.prototype.N=function(){if(Vr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)z_(t[r]);delete n.g[e],n.h--}}this.J=null},Vr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var I0=yt.JSON.stringify;function E0(){var n=Ap;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var XT=new class eO{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new kx,n=>n.reset());class kx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nx(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function JT(n){yt.setTimeout(()=>{throw n},0)}let Cp,Dp=!1,Ap=new class QT{constructor(){this.h=this.g=null}add(e,t){const r=XT.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},eC=()=>{const n=yt.Promise.resolve(void 0);Cp=()=>{n.then(Fx)}};var Fx=()=>{for(var n;n=E0();){try{n.h.call(n.g)}catch(t){JT(t)}var e=XT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Dp=!1};function W_(n,e){Vr.call(this),this.h=n||1,this.g=e||yt,this.j=si(this.qb,this),this.l=Date.now()}function w0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function T0(n,e,t){if("function"==typeof n)t&&(n=si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=si(n.handleEvent,n)}return 2147483647<Number(e)?-1:yt.setTimeout(n,e||0)}function Wo(n){n.g=T0(()=>{n.g=null,n.i&&(n.i=!1,Wo(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lr(W_,Vr),(Ne=W_.prototype).ga=!1,Ne.T=null,Ne.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fn(this,"tick"),this.ga&&(w0(this),this.start()))}},Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ne.N=function(){W_.$.N.call(this),w0(this),delete this.g};class C0 extends Ac{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sp(n){Ac.call(this),this.h=n,this.g={}}Lr(Sp,Ac);var D0=[];function tC(n,e,t,r){Array.isArray(t)||(t&&(D0[0]=t.toString()),t=D0);for(var s=0;s<t.length;s++){var c=ZT(e,t[s],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function A0(n){Xd(n.g,function(e,t){this.g.hasOwnProperty(t)&&y0(e)},n),n.g={}}function xp(){this.g=!0}function Rp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<s.length;u++)s[u]=""}}}return I0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Sp.prototype.N=function(){Sp.$.N.call(this),A0(this)},Sp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xp.prototype.Ea=function(){this.g=!1},xp.prototype.info=function(){};var Sc={},Mp=null;function nh(){return Mp=Mp||new Vr}function ks(n){Zr.call(this,Sc.Ta,n)}function Pp(n){const e=nh();fn(e,new ks(e))}function K_(n,e){Zr.call(this,Sc.STAT_EVENT,n),this.stat=e}function wi(n){const e=nh();fn(e,new K_(e,n))}function Lx(n,e){Zr.call(this,Sc.Ua,n),this.size=e}function Op(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){n()},e)}Sc.Ta="serverreachability",Lr(ks,Zr),Sc.STAT_EVENT="statevent",Lr(K_,Zr),Sc.Ua="timingevent",Lr(Lx,Zr);var Q_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function R0(){}function M0(){}R0.prototype.h=null;var Kl,Wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function X_(){Zr.call(this,"d")}function Yl(){Zr.call(this,"c")}function kp(){}function Np(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Sp(this),this.P=Vx,this.V=new W_(n=f0?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oC}function oC(){this.i=null,this.g="",this.h=!1}Lr(X_,Zr),Lr(Yl,Zr),Lr(kp,R0),kp.prototype.g=function(){return new XMLHttpRequest},kp.prototype.i=function(){return{}},Kl=new kp;var Vx=45e3,sC={},aC={};function cC(n,e,t){n.L=1,n.A=tv(Ca(e)),n.u=t,n.S=!0,Fp(n,null)}function Fp(n,e){n.G=Date.now(),Lp(n),n.B=Ca(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),F0(t.i,"t",r),n.o=0,t=n.l.J,n.h=new oC,n.g=G0(n.l,t?e:null,!n.u),0<n.O&&(n.M=new C0(si(n.Pa,n,n.g),n.O)),tC(n.U,n.g,"readystatechange",n.nb),e=n.I?H_(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Pp(),function Y_(n,e,t,r,s,c){n.info(function(){if(n.g)if(c)for(var u="",g=c.split("&"),y=0;y<g.length;y++){var w=g[y].split("=");if(1<w.length){var T=w[0];w=w[1];var S=T.split("_");u=2<=S.length&&"type"==S[1]?u+(T+"=")+w+"&":u+(T+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.v,n.B,n.m,n.W,n.u)}function lC(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function uC(n,e,t){let s,r=!0;for(;!n.J&&n.o<t.length;){if(s=tO(n,t),s==aC){4==e&&(n.s=4,wi(14),r=!1),Rp(n.j,n.m,null,"[Incomplete Response]");break}if(s==sC){n.s=4,wi(15),Rp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rp(n.j,n.m,s,null),P0(n,s)}lC(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,wi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Mc(e),e.M=!0,wi(11))):(Rp(n.j,n.m,t,"[Invalid Chunked Response]"),Ql(n),Vp(n))}function tO(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?aC:(t=Number(e.substring(t,r)),isNaN(t)?sC:(r+=1)+t>e.length?aC:(e=e.slice(r,r+t),n.o=r+t,e))}function Lp(n){n.Y=Date.now()+n.P,dC(n,n.P)}function dC(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Op(si(n.lb,n),e)}function J_(n){n.C&&(yt.clearTimeout(n.C),n.C=null)}function Vp(n){0==n.l.H||n.J||j0(n.l,n)}function Ql(n){J_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,w0(n.V),A0(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function P0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||nv(t.i,n)))if(!n.K&&nv(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;xa(t),ru(t)}Rc(t),wi(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Op(si(t.ib,t),6e3));if(1>=jp(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Pc(t,11)}else if((n.K||t.g==n)&&xa(t),!V_(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let w=s[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const T=w[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const S=w[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.L=r=1.5*P,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const X=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var c=r.i;c.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(rv(c,c.h),c.h=null))}if(r.F){const ne=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.Da=ne,In(r.I,r.F,ne))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=$0(r,r.J?r.pa:null,r.Y),u.K){bC(r.i,u);var g=u,y=r.L;y&&g.setTimeout(y),g.C&&(J_(g),Lp(g)),r.g=u}else su(r);0<t.j.length&&oh(t)}else"stop"!=w[0]&&"close"!=w[0]||Pc(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Pc(t,7):Sa(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Pp()}catch{}}function fC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(l0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Xl(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(l0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(l0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,c=0;c<s;c++)e.call(void 0,r[c],t&&t[c],n)}(Ne=Np.prototype).setTimeout=function(n){this.P=n},Ne.nb=function(n){n=n.target;const e=this.M;e&&3==Fs(n)?e.l():this.Pa(n)},Ne.Pa=function(n){try{if(n==this.g)e:{const T=Fs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||f0||this.g&&(this.h.h||this.g.ja()||Yx(this.g)))){this.J||4!=T||7==e||Pp(),J_(this);var t=this.g.da();this.ca=t;t:if(lC(this)){var r=Yx(this.g);n="";var s=r.length,c=4==Fs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ql(this),Vp(this);var u="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==s-1});r.length=0,this.h.g+=n,this.o=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function S0(n,e,t,r,s,c,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+c+" "+u})}(this.j,this.v,this.B,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V_(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.s=3,wi(12),Ql(this),Vp(this);break e}Rp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,P0(this,t)}this.S?(uC(this,T,u),f0&&this.i&&3==T&&(tC(this.U,this.V,"tick",this.mb),this.V.start())):(Rp(this.j,this.m,u,null),P0(this,u)),4==T&&Ql(this),this.i&&!this.J&&(4==T?j0(this.l,this):(this.i=!1,Lp(this)))}else(function AC(n){const e={};n=(n.g&&2<=Fs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(V_(n[r]))continue;var t=Nx(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[s]||[];e[s]=c,c.push(t)}!function Jd(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.s=3,wi(12)):(this.s=0,wi(13)),Ql(this),Vp(this)}}}catch{}},Ne.mb=function(){if(this.g){var n=Fs(this.g),e=this.g.ja();this.o<e.length&&(J_(this),uC(this,n,e),this.i&&4!=n&&Lp(this))}},Ne.cancel=function(){this.J=!0,Ql(this)},Ne.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function nC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Pp(),wi(17)),Ql(this),this.s=2,Vp(this)):dC(this,this.Y-n)};var ev=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof xc){this.h=n.h,O0(this,n.j),this.s=n.s,this.g=n.g,qn(this,n.m),this.l=n.l;var e=n.i,t=new rh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),pC(this,t),this.o=n.o}else n&&(e=String(n).match(ev))?(this.h=!1,O0(this,e[1]||"",!0),this.s=Up(e[2]||""),this.g=Up(e[3]||"",!0),qn(this,e[4]),this.l=Up(e[5]||"",!0),pC(this,e[6]||"",!0),this.o=Up(e[7]||"")):(this.h=!1,this.i=new rh(null,this.h))}function Ca(n){return new xc(n)}function O0(n,e,t){n.j=t?Up(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qn(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pC(n,e,t){e instanceof rh?(n.i=e,function Bp(n,e){e&&!n.j&&(Da(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(_C(this,r),F0(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Jl(e,Bx)),n.i=new rh(e,n.h))}function In(n,e,t){n.i.set(e,t)}function tv(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Up(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jl(e,k0,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jl(e,k0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jl(t,"/"==t.charAt(0)?Ux:gC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jl(t,eu)),n.join("")};var k0=/[#\/\?@]/g,gC=/[#\?:]/g,Ux=/[#\?]/g,Bx=/[#\?@]/g,eu=/#/g;function rh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Da(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ns(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var c=n[t].substring(0,r);s=n[t].substring(r+1)}else c=n[t];e(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _C(n,e){Da(n),e=tu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function N0(n,e){return Da(n),e=tu(n,e),n.g.has(e)}function F0(n,e,t){_C(n,e),0<t.length&&(n.i=null,n.g.set(tu(n,e),L_(t)),n.h+=t.length)}function tu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(Ne=rh.prototype).add=function(n,e){Da(this),this.i=null,n=tu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ne.forEach=function(n,e){Da(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Ne.ta=function(){Da(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let c=0;c<s.length;c++)t.push(e[r])}return t},Ne.Z=function(n){Da(this);let e=[];if("string"==typeof n)N0(this,n)&&(e=e.concat(this.g.get(tu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ne.set=function(n,e){return Da(this),this.i=null,N0(this,n=tu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ne.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var s=c;""!==u[r]&&(s+="="+encodeURIComponent(String(u[r]))),n.push(s)}}return this.i=n.join("&")};var jx=class{constructor(n,e){this.g=n,this.map=e}};function vC(n){this.l=n||L0,n=yt.PerformanceNavigationTiming?0<(n=yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(yt.g&&yt.g.Ka&&yt.g.Ka()&&yt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var L0=10;function yC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jp(n){return n.h?1:n.g?n.g.size:0}function nv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rv(n,e){n.g?n.g.add(e):n.h=e}function bC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function IC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return L_(n.i)}vC.prototype.cancel=function(){if(this.i=IC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var zp=class{stringify(n){return yt.JSON.stringify(n,void 0)}parse(n){return yt.JSON.parse(n,void 0)}};function zx(){this.g=new zp}function Hx(n,e,t){const r=t||"";try{fC(n,function(s,c){let u=s;Wd(s)&&(u=I0(s)),e.push(r+c+"="+encodeURIComponent(u))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function iv(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Hp(n){this.l=n.ec||null,this.j=n.ob||!1}function ov(n,e){Vr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=V0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lr(Hp,R0),Hp.prototype.g=function(){return new ov(this.l,this.j)},Hp.prototype.i=function(n){return function(){return n}}({}),Lr(ov,Vr);var V0=0;function EC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ih(n){n.readyState=4,n.l=null,n.j=null,n.A=null,nu(n)}function nu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ne=ov.prototype).open=function(n,e){if(this.readyState!=V0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,nu(this)},Ne.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ih(this)),this.readyState=V0},Ne.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,nu(this)),this.g&&(this.readyState=3,nu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;EC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ne.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ih(this):nu(this),3==this.readyState&&EC(this)}},Ne.Za=function(n){this.g&&(this.response=this.responseText=n,ih(this))},Ne.Ya=function(n){this.g&&(this.response=n,ih(this))},Ne.ka=function(){this.g&&ih(this)},Ne.setRequestHeader=function(n,e){this.v.append(n,e)},Ne.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ne.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ov.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Gx=yt.JSON.parse;function Vn(n){Vr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wC,this.L=this.M=!1}Lr(Vn,Vr);var wC="",qx=/^https?$/i,Zx=["POST","PUT"];function TC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,CC(n),$p(n)}function CC(n){n.F||(n.F=!0,fn(n,"complete"),fn(n,"error"))}function DC(n){if(n.h&&typeof N_<"u"&&(!n.C[1]||4!=Fs(n)||2!=n.da()))if(n.v&&4==Fs(n))T0(n.La,0,n);else if(fn(n,"readystatechange"),4==Fs(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var s=String(n.I).match(ev)[1]||null;!s&&yt.self&&yt.self.location&&(s=yt.self.location.protocol.slice(0,-1)),r=!qx.test(s?s.toLowerCase():"")}t=r}if(t)fn(n,"complete"),fn(n,"success");else{n.m=6;try{var c=2<Fs(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",CC(n)}}finally{$p(n)}}}function $p(n,e){if(n.g){U0(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fn(n,"ready");try{t.onreadystatechange=r}catch{}}}function U0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(yt.clearTimeout(n.A),n.A=null)}function Fs(n){return n.g?n.g.readyState:0}function Yx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case wC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function B0(n){let e="";return Xd(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Mo(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=B0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function Aa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ir(n){this.Ga=0,this.j=[],this.l=new xp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Aa("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Aa("baseRetryDelayMs",5e3,n),this.hb=Aa("retryDelaySeedMs",1e4,n),this.eb=Aa("forwardChannelMaxRetries",2,n),this.xa=Aa("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new vC(n&&n.concurrentRequestLimit),this.Ja=new zx,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sa(n){if(no(n),3==n.H){var e=n.W++,t=Ca(n.I);if(In(t,"SID",n.K),In(t,"RID",e),In(t,"TYPE","terminate"),Ls(n,t),(e=new Np(n,n.l,e)).L=2,e.A=tv(Ca(t)),t=!1,yt.navigator&&yt.navigator.sendBeacon)try{t=yt.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&yt.Image&&((new Image).src=e.A,t=!0),t||(e.g=G0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Lp(e)}H0(n)}function ru(n){n.g&&(Mc(n),n.g.cancel(),n.g=null)}function no(n){ru(n),n.u&&(yt.clearTimeout(n.u),n.u=null),xa(n),n.i.cancel(),n.m&&("number"==typeof n.m&&yt.clearTimeout(n.m),n.m=null)}function oh(n){if(!yC(n.i)&&!n.m){n.m=!0;var e=n.Na;Cp||eC(),Dp||(Cp(),Dp=!0),Ap.add(e,n),n.C=0}}function iu(n,e){var t;t=e?e.m:n.W++;const r=Ca(n.I);In(r,"SID",n.K),In(r,"RID",t),In(r,"AID",n.V),Ls(n,r),n.o&&n.s&&Mo(r,n.o,n.s),t=new Np(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ou(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),rv(n.i,t),cC(t,r,e)}function Ls(n,e){n.na&&Xd(n.na,function(t,r){In(e,r,t)}),n.h&&fC({},function(t,r){In(e,r,t)})}function ou(n,e,t){t=Math.min(n.j.length,t);var r=n.h?si(n.h.Va,n.h,n):null;e:{var s=n.j;let c=-1;for(;;){const u=["count="+t];-1==c?0<t?(c=s[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let g=!0;for(let y=0;y<t;y++){let w=s[y].g;const T=s[y].map;if(w-=c,0>w)c=Math.max(0,s[y].g-100),g=!1;else try{Hx(T,u,"req"+w+"_")}catch{r&&r(T)}}if(g){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function su(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Cp||eC(),Dp||(Cp(),Dp=!0),Ap.add(e,n),n.A=0}}function Rc(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Op(si(n.Ma,n),z0(n,n.A)),n.A++,0))}function Mc(n){null!=n.B&&(yt.clearTimeout(n.B),n.B=null)}function au(n){n.g=new Np(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ca(n.wa);In(e,"RID","rpc"),In(e,"SID",n.K),In(e,"AID",n.V),In(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&In(e,"TO",n.qa),In(e,"TYPE","xmlhttp"),Ls(n,e),n.o&&n.s&&Mo(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=tv(Ca(e)),t.u=null,t.S=!0,Fp(t,n)}function xa(n){null!=n.v&&(yt.clearTimeout(n.v),n.v=null)}function j0(n,e){var t=null;if(n.g==e){xa(n),Mc(n),n.g=null;var r=2}else{if(!nv(n.i,e))return;t=e.F,bC(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var s=n.C;fn(r=nh(),new Lx(r,t)),oh(n)}else su(n);else if(3==(s=e.s)||0==s&&0<e.ca||!(1==r&&function sh(n,e){return!(jp(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Op(si(n.Na,n,e),z0(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Pc(n,5);break;case 4:Pc(n,10);break;case 3:Pc(n,6);break;default:Pc(n,2)}}function z0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Pc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=si(n.pb,n);t||(t=new xc("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||O0(t,"https"),tv(t)),function $x(n,e){const t=new xp;if(yt.Image){const r=new Image;r.onload=F_(iv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=F_(iv,t,r,"TestLoadImage: error",!1,e),r.onabort=F_(iv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=F_(iv,t,r,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else wi(2);n.H=0,n.h&&n.h.za(e),H0(n),no(n)}function H0(n){if(n.H=0,n.ma=[],n.h){const e=IC(n.i);(0!=e.length||0!=n.j.length)&&(h0(n.ma,e),h0(n.ma,n.j),n.i.i.length=0,L_(n.j),n.j.length=0),n.h.ya()}}function $0(n,e,t){var r=t instanceof xc?Ca(t):new xc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),qn(r,r.m);else{var s=yt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var c=new xc(null);r&&O0(c,r),e&&(c.g=e),s&&qn(c,s),t&&(c.l=t),r=c}return e=n.Da,(t=n.F)&&e&&In(r,t,e),In(r,"VER",n.ra),Ls(n,r),r}function G0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(n.Ha&&!n.va?new Hp({ob:t}):n.va)).Oa(n.J),e}function q0(){}function Gp(){if(Zl&&!(10<=Number(JP)))throw Error("Environmental error: no available transport.")}function ji(n,e){Vr.call(this),this.g=new ir(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!V_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!V_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ah(this)}function qp(n){X_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ra(){Yl.call(this),this.status=1}function ah(n){this.g=n}function ro(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ma(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],u=(e=n.g[0])+(c^(t=n.g[1])&((s=n.g[2])^c))+r[0]+3614090360&4294967295;u=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=(t=(s=(c=(e=t+(u<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(s^c))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^c&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^c&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^c&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(s^c))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^s^c)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^c)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=s+(c^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(s^(t|~c))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~c))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~c))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(c|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=t+((u=e+(s^(t|~c))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((s=c+((u=s+(e^(c|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+c&4294967295}function nn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var c=0|n[s];r&&c==e||(t[s]=c,r=!1)}this.g=t}(Ne=Vn.prototype).Oa=function(n){this.M=n},Ne.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Kl.g(),this.C=function iC(n){return n.h||(n.h=n.i())}(this.u?this.u:Kl),this.g.onreadystatechange=si(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void TC(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),s=yt.FormData&&n instanceof yt.FormData,!(0<=LT(Zx,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of t)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U0(this),0<this.B&&((this.L=function Wx(n){return Zl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=si(this.ua,this)):this.A=T0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){TC(this,c)}},Ne.ua=function(){typeof N_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))},Ne.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fn(this,"complete"),fn(this,"abort"),$p(this))},Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$p(this,!0)),Vn.$.N.call(this)},Ne.La=function(){this.s||(this.G||this.v||this.l?DC(this):this.kb())},Ne.kb=function(){DC(this)},Ne.isActive=function(){return!!this.g},Ne.da=function(){try{return 2<Fs(this)?this.g.status:-1}catch{return-1}},Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ne.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Gx(e)}},Ne.Ia=function(){return this.m},Ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ne=ir.prototype).ra=8,Ne.H=1,Ne.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Np(this,this.l,n);let c=this.s;if(this.U&&(c?(c=H_(c),_0(c,this.U)):c=this.U),null!==this.o||this.O||(s.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ou(this,s,e),In(t=Ca(this.I),"RID",n),In(t,"CVER",22),this.F&&In(t,"X-HTTP-Session-Id",this.F),Ls(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(B0(c)))+"&"+e:this.o&&Mo(t,this.o,c)),rv(this.i,s),this.bb&&In(t,"TYPE","init"),this.P?(In(t,"$req",e),In(t,"SID","null"),s.aa=!0,cC(s,t,null)):cC(s,t,e),this.H=2}}else 3==this.H&&(n?iu(this,n):0==this.j.length||yC(this.i)||iu(this))},Ne.Ma=function(){if(this.u=null,au(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Op(si(this.jb,this),n)}},Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wi(10),ru(this),au(this))},Ne.ib=function(){null!=this.v&&(this.v=null,ru(this),Rc(this),wi(19))},Ne.pb=function(n){n?(this.l.info("Successfully pinged google.com"),wi(2)):(this.l.info("Failed to ping google.com"),wi(1))},Ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ne=q0.prototype).Ba=function(){},Ne.Aa=function(){},Ne.za=function(){},Ne.ya=function(){},Ne.isActive=function(){return!0},Ne.Va=function(){},Gp.prototype.g=function(n,e){return new ji(n,e)},Lr(ji,Vr),ji.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;wi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$0(n,null,n.Y),oh(n)},ji.prototype.close=function(){Sa(this.g)},ji.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=I0(n),n=t);e.j.push(new jx(e.fb++,n)),3==e.H&&oh(e)},ji.prototype.N=function(){this.g.h=null,delete this.j,Sa(this.g),delete this.g,ji.$.N.call(this)},Lr(qp,X_),Lr(Ra,Yl),Lr(ah,q0),ah.prototype.Ba=function(){fn(this.g,"a")},ah.prototype.Aa=function(n){fn(this.g,new qp(n))},ah.prototype.za=function(n){fn(this.g,new Ra)},ah.prototype.ya=function(){fn(this.g,"b")},Lr(ro,function Kx(){this.blockSize=-1}),ro.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ro.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,c=0;c<e;){if(0==s)for(;c<=t;)Ma(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(r[s++]=n.charCodeAt(c++),s==this.blockSize){Ma(this,r),s=0;break}}else for(;c<e;)if(r[s++]=n[c++],s==this.blockSize){Ma(this,r),s=0;break}}this.h=s,this.i+=e},ro.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Qx={};function Zp(n){return-128<=n&&128>n?function B_(n,e){var t=Qx;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new nn([0|e],0>e?-1:0)}):new nn([0|n],0>n?-1:0)}function Pa(n){if(isNaN(n)||!isFinite(n))return ch;if(0>n)return Yr(Pa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Z0;return new nn(e,0)}var Z0=4294967296,ch=Zp(0),sv=Zp(1),SC=Zp(16777216);function En(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function io(n){return-1==n.h}function Yr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new nn(t,~n.h).add(sv)}function av(n,e){return n.add(Yr(e))}function Wp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Yp(n,e){this.g=n,this.h=e}function Kp(n,e){if(En(e))throw Error("division by zero");if(En(n))return new Yp(ch,ch);if(io(n))return e=Kp(Yr(n),e),new Yp(Yr(e.g),Yr(e.h));if(io(e))return e=Kp(n,Yr(e)),new Yp(Yr(e.g),e.h);if(30<n.g.length){if(io(n)||io(e))throw Error("slowDivide_ only works with positive integers.");for(var t=sv,r=e;0>=r.X(n);)t=W0(t),r=W0(r);var s=Yo(t,1),c=Yo(r,1);for(r=Yo(r,2),t=Yo(t,2);!En(r);){var u=c.add(r);0>=u.X(n)&&(s=s.add(t),c=u),r=Yo(r,1),t=Yo(t,1)}return e=av(n,s.R(e)),new Yp(s,e)}for(s=ch;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(c=Pa(t)).R(e);io(u)||0<u.X(n);)u=(c=Pa(t-=r)).R(e);En(c)&&(c=sv),s=s.add(c),n=av(n,u)}return new Yp(s,n)}function W0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new nn(t,n.h)}function Yo(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],c=0;c<r;c++)s[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new nn(s,n.h)}(Ne=nn.prototype).ea=function(){if(io(this))return-Yr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Z0+r)*e,e*=Z0}return n},Ne.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(En(this))return"0";if(io(this))return"-"+Yr(this).toString(n);for(var e=Pa(Math.pow(n,6)),t=this,r="";;){var s=Kp(t,e).g,c=((0<(t=av(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(En(t=s))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},Ne.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ne.X=function(n){return io(n=av(this,n))?-1:En(n)?0:1},Ne.abs=function(){return io(this)?Yr(this):this},Ne.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var c=r+(65535&this.D(s))+(65535&n.D(s)),u=(c>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=u>>>16,t[s]=(u&=65535)<<16|(c&=65535)}return new nn(t,-2147483648&t[t.length-1]?-1:0)},Ne.R=function(n){if(En(this)||En(n))return ch;if(io(this))return io(n)?Yr(this).R(Yr(n)):Yr(Yr(this).R(n));if(io(n))return Yr(this.R(Yr(n)));if(0>this.X(SC)&&0>n.X(SC))return Pa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var c=this.D(r)>>>16,u=65535&this.D(r),g=n.D(s)>>>16,y=65535&n.D(s);t[2*r+2*s]+=u*y,Wp(t,2*r+2*s),t[2*r+2*s+1]+=c*y,Wp(t,2*r+2*s+1),t[2*r+2*s+1]+=u*g,Wp(t,2*r+2*s+1),t[2*r+2*s+2]+=c*g,Wp(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new nn(t,0)},Ne.gb=function(n){return Kp(this,n).h},Ne.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new nn(t,this.h&n.h)},Ne.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new nn(t,this.h|n.h)},Ne.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new nn(t,this.h^n.h)},Gp.prototype.createWebChannel=Gp.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,Q_.NO_ERROR=0,Q_.TIMEOUT=8,Q_.HTTP_ERROR=6,x0.COMPLETE="complete",M0.EventType=Wl,Wl.OPEN="a",Wl.CLOSE="b",Wl.ERROR="c",Wl.MESSAGE="d",Vr.prototype.listen=Vr.prototype.O,Vn.prototype.listenOnce=Vn.prototype.P,Vn.prototype.getLastError=Vn.prototype.Sa,Vn.prototype.getLastErrorCode=Vn.prototype.Ia,Vn.prototype.getStatus=Vn.prototype.da,Vn.prototype.getResponseJson=Vn.prototype.Wa,Vn.prototype.getResponseText=Vn.prototype.ja,Vn.prototype.send=Vn.prototype.ha,Vn.prototype.setWithCredentials=Vn.prototype.Oa,ro.prototype.digest=ro.prototype.l,ro.prototype.reset=ro.prototype.reset,ro.prototype.update=ro.prototype.j,nn.prototype.add=nn.prototype.add,nn.prototype.multiply=nn.prototype.R,nn.prototype.modulo=nn.prototype.gb,nn.prototype.compare=nn.prototype.X,nn.prototype.toNumber=nn.prototype.ea,nn.prototype.toString=nn.prototype.toString,nn.prototype.getBits=nn.prototype.D,nn.fromNumber=Pa,nn.fromString=function Xx(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Yr(Xx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Pa(Math.pow(e,8)),r=ch,s=0;s<n.length;s+=8){var c=Math.min(8,n.length-s),u=parseInt(n.substring(s,s+c),e);8>c?(c=Pa(Math.pow(e,c)),r=r.R(c).add(Pa(u))):r=(r=r.R(t)).add(Pa(u))}return r};var Jx=Zo.createWebChannelTransport=function(){return new Gp},eR=Zo.getStatEventTarget=function(){return nh()},cv=Zo.ErrorCode=Q_,tR=Zo.EventType=x0,xC=Zo.Event=Sc,nR=Zo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lh=(Zo.FetchXmlHttpFactory=Hp,Zo.WebChannel=M0),Y0=Zo.XhrIo=Vn,K0=Zo.Md5=ro,Ti=Zo.Integer=nn;const MC="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let Ci="10.7.0";const Ur=new qo.Yd("@firebase/firestore");function ai(){return Ur.logLevel}function ye(n,...e){if(Ur.logLevel<=qo.in.DEBUG){const t=e.map(Q0);Ur.debug(`Firestore (${Ci}): ${n}`,...t)}}function or(n,...e){if(Ur.logLevel<=qo.in.ERROR){const t=e.map(Q0);Ur.error(`Firestore (${Ci}): ${n}`,...t)}}function zi(n,...e){if(Ur.logLevel<=qo.in.WARN){const t=e.map(Q0);Ur.warn(`Firestore (${Ci}): ${n}`,...t)}}function Q0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Be(n="Unexpected state"){const e=`FIRESTORE (${Ci}) INTERNAL ASSERTION FAILED: `+n;throw or(e),new Error(e)}function We(n,e){n||Be()}function Pe(n,e){return n}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class X0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yr.UNAUTHENTICATED))}shutdown(){}}class lv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rR{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const c=w=>this.i!==s?(s=this.i,t(w)):Promise.resolve();let u=new br;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new br,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const w=u;e.enqueueRetryable((0,he.Z)(function*(){yield w.promise,yield c(r.currentUser)}))},y=w=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new br)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We("string"==typeof r.accessToken),new X0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(null===e||"string"==typeof e),new yr(e)}}class kC{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iR{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new kC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=c=>{null!=c.error&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.R;return this.R=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const s=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>s(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?s(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We("string"==typeof t.token),this.R=t.token,new NC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class FC{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=sR(40);for(let c=0;c<s.length;++c)r.length<20&&s[c]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[c]%62))}return r}}function Et(n,e){return n<e?-1:n>e?1:0}function uh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function LC(n){return n+"\0"}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Zn(0,0))}static max(){return new Qe(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Be(),void 0===r?r=e.length-t:r>e.length-t&&Be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const c=e.get(s),u=t.get(s);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Xp{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const rO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Xp{construct(e,t,r){return new Un(e,t,r)}static isValidIdentifier(e){return rO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const c=()=>{if(0===r.length)throw new _e(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new _e(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[s+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new _e(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,s+=2}else"`"===g?(u=!u,s++):"."!==g||u?(r+=g,s++):(c(),s++)}if(c(),u)throw new _e(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(t)}static emptyPath(){return new Un([])}}class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Qt.fromString(e))}static fromName(e){return new Oe(Qt.fromString(e).popFirst(5))}static empty(){return new Oe(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Qt(e.slice()))}}class Jp{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function J0(n){return n.fields.find(e=>2===e.kind)}function dh(n){return n.fields.filter(e=>2!==e.kind)}Jp.UNKNOWN_ID=-1;class cu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Oc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Oc(0,ci.min())}}function hh(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Qe.fromTimestamp(1e9===r?new Zn(t+1,0):new Zn(t,r));return new ci(s,Oe.empty(),e)}function uv(n){return new ci(n.readTime,n.key,-1)}class ci{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ci(Qe.min(),Oe.empty(),-1)}static max(){return new ci(Qe.max(),Oe.empty(),-1)}}function dv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Oe.comparator(n.documentKey,e.documentKey),0!==t?t:Et(n.largestBatchId,e.largestBatchId))}const fh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function kc(n){return lu.apply(this,arguments)}function lu(){return lu=(0,he.Z)(function*(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==fh)throw n;ye("LocalStore","Unexpectedly lost primary lease")}),lu.apply(this,arguments)}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,s)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,r)=>{t(e)})}static reject(e){return new W((t,r)=>{r(e)})}static waitFor(e){return new W((t,r)=>{let s=0,c=0,u=!1;e.forEach(g=>{++s,g.next(()=>{++c,u&&c===s&&t()},y=>r(y))}),u=!0,c===s&&t()})}static or(e){let t=W.resolve(!1);for(const r of e)t=t.next(s=>s?W.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,c)=>{r.push(t.call(this,s,c))}),this.waitFor(r)}static mapArray(e,t){return new W((r,s)=>{const c=e.length,u=new Array(c);let g=0;for(let y=0;y<c;y++){const w=y;t(e[w]).next(T=>{u[w]=T,++g,g===c&&r(u)},T=>s(T))}})}static doWhile(e,t){return new W((r,s)=>{const c=()=>{!0===e()?t().next(()=>{c()},s):r()};c()})}}class hv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new br,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new em(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=tm(r.target.error);this.V.reject(new em(e,s))}}static open(e,t,r,s){try{return new hv(t,e.transaction(s,r))}catch(c){throw new em(t,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lR(t)}}class Po{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Po.S((0,mn.z$)())&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ye("SimpleDb","Removing database:",e),uu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,mn.hl)())return!1;if(Po.C())return!0;const e=(0,mn.z$)(),t=Po.S(e),r=0<t&&t<10,s=Po.v(e),c=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,he.Z)(function*(){return t.db||(ye("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{s(new em(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const g=u.target.error;s("VersionError"===g.name?new _e(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new _e(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new em(e,g))},c.onupgradeneeded=u=>{ye("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.p.N(u.target.result,c.transaction,u.oldVersion,t.version).next(()=>{ye("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var c=this;return(0,he.Z)(function*(){const u="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.O(e);const y=hv.open(c.db,e,u?"readonly":"readwrite",r),w=s(y).next(T=>(y.g(),T)).catch(T=>(y.abort(T),W.reject(T))).toPromise();return w.catch(()=>{}),yield y.m,w}catch(y){const w=y,T="FirebaseError"!==w.name&&g<3;if(ye("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),c.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fv{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return uu(this.k.delete())}}class em extends _e{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Nc(n){return"IndexedDbTransactionError"===n.name}class lR{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ye("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),uu(r)}add(e){return ye("SimpleDb","ADD",this.store.name,e,e),uu(this.store.add(e))}get(e){return uu(this.store.get(e)).next(t=>(void 0===t&&(t=null),ye("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ye("SimpleDb","DELETE",this.store.name,e),uu(this.store.delete(e))}count(){return ye("SimpleDb","COUNT",this.store.name),uu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),c=[];return this.G(s,(u,g)=>{c.push(g)}).next(()=>c)}{const s=this.store.getAll(r.range);return new W((c,u)=>{s.onerror=g=>{u(g.target.error)},s.onsuccess=g=>{c(g.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new W((s,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}H(e,t){ye("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const s=this.cursor(r);return this.G(s,(c,u,g)=>g.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.G(s,t)}Z(e){const t=this.cursor({});return new W((r,s)=>{t.onerror=c=>{const u=tm(c.target.error);s(u)},t.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(g=>{g?u.continue():r()}):r()}})}G(e,t){const r=[];return new W((s,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const g=u.target.result;if(!g)return void s();const y=new fv(g),w=t(g.primaryKey,g.value,y);if(w instanceof W){const T=w.catch(S=>(y.done(),W.reject(S)));r.push(T)}y.isDone?s():null===y.$?g.continue():g.continue(y.$)}}).next(()=>W.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uu(n){return new W((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=tm(r.target.error);t(s)}})}let VC=!1;function tm(n){const e=Po.S((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VC||(VC=!0,setTimeout(()=>{throw r},0)),r}}return n}class nm{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;ye("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,he.Z)(function*(){t.task=null;try{ye("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){Nc(r)?ye("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield kc(r)}yield t.ee(6e4)}))}}class pv{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,he.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let s=t,c=!0;return W.doWhile(()=>!0===c&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return ye("IndexBackiller",`Processing collection: ${u}`),this.re(e,u,s).next(g=>{s-=g,r.add(u)});c=!1})).next(()=>t-s)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ie(s,c)).next(g=>(ye("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>u.size)}))}ie(e,t){let r=e;return t.changes.forEach((s,c)=>{const u=uv(c);dv(u,r)>0&&(r=u)}),new ci(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let li=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.se(s),this.oe=s=>r.writeSequenceNumber(s))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function mv(n){return null==n}function rm(n){return 0===n&&1/n==-1/0}function UC(n){return"number"==typeof n&&Number.isInteger(n)&&!rm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Br(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tI(e)),e=uR(n.get(t),e);return tI(e)}function uR(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const c=n.charAt(s);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function tI(n){return n+"\x01\x01"}function Vs(n){const e=n.length;if(We(e>=2),2===e)return We("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let s="";for(let c=0;c<e;){const u=n.indexOf("\x01",c);switch((u<0||u>t)&&Be(),n.charAt(u+1)){case"\x01":const g=n.substring(c,u);let y;0===s.length?y=g:(s+=g,y=s,s=""),r.push(y);break;case"\x10":s+=n.substring(c,u),s+="\0";break;case"\x11":s+=n.substring(c,u+1);break;default:Be()}c=u+2}return new Qt(r)}const BC=["userId","batchId"];function im(n,e){return[n,Br(e)]}function jC(n,e,t){return[n,Br(e),t]}const dR={},ph=["prefixPath","collectionGroup","readTime","documentId"],hR=["prefixPath","collectionGroup","documentId"],nI=["collectionGroup","readTime","prefixPath","documentId"],fR=["canonicalId","targetId"],rI=["targetId","path"],zC=["path","targetId"],HC=["collectionId","parent"],$C=["indexId","uid"],om=["uid","sequenceNumber"],GC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mh=["indexId","uid","orderedDocumentKey"],sm=["userId","collectionPath","documentId"],iI=["userId","collectionPath","largestBatchId"],gv=["userId","collectionGroup","largestBatchId"],qC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pR=[...qC,"documentOverlays"],oI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sI=oI,aI=[...sI,"indexConfiguration","indexState","indexEntries"];class _v extends eI{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function jr(n,e){const t=Pe(n);return Po.M(t.ae,e)}function cI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wn{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vv(this.root,e,this.comparator,!1)}getReverseIterator(){return new vv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vv(this.root,e,this.comparator,!0)}}class vv{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&s&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,r,s,c){this.key=e,this.value=t,this.color=r??Kr.RED,this.left=s??Kr.EMPTY,this.right=c??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,c){return new Kr(e??this.key,t??this.value,r??this.color,s??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===c?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Kr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(e,t,r,s,c){return this}insert(e,t,r){return new Kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZC(this.data.getIterator())}getIteratorFrom(e){return new ZC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(s,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class ZC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ko(n){return n.hasNext()?n.getNext():void 0}class Di{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Di([])}unionWith(e){let t=new gn(Un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class uI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uI("Invalid base64 string: "+c):c}}(e);return new Ir(t)}static fromUint8Array(e){const t=function(s){let c="";for(let u=0;u<s.length;++u)c+=String.fromCharCode(s[u]);return c}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fc(n){if(We(!!n),"string"==typeof n){let e=0;const t=gR.exec(n);if(We(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qn(n.seconds),nanos:Qn(n.nanos)}}function Qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oa(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function yv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bv(n){const e=n.mapValue.fields.__previous_value__;return yv(e)?bv(e):e}function am(n){const e=Fc(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}class _R{constructor(e,t,r,s,c,u,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=w}}class Bs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Iv={nullValue:"NULL_VALUE"};function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yv(n)?4:fI(n)?9007199254740991:10:Be()}function dn(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return am(n).isEqual(am(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const u=Fc(s.timestampValue),g=Fc(c.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Oa(n.bytesValue).isEqual(Oa(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,c){return Qn(s.geoPointValue.latitude)===Qn(c.geoPointValue.latitude)&&Qn(s.geoPointValue.longitude)===Qn(c.geoPointValue.longitude)}(n,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return Qn(s.integerValue)===Qn(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const u=Qn(s.doubleValue),g=Qn(c.doubleValue);return u===g?rm(u)===rm(g):isNaN(u)&&isNaN(g)}return!1}(n,e);case 9:return uh(n.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:return function(s,c){const u=s.mapValue.fields||{},g=c.mapValue.fields||{};if(cI(u)!==cI(g))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(void 0===g[y]||!dn(u[y],g[y])))return!1;return!0}(n,e);default:return Be()}var c}function gh(n,e){return void 0!==(n.values||[]).find(t=>dn(t,e))}function Vc(n,e){if(n===e)return 0;const t=js(n),r=js(e);if(t!==r)return Et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,e.booleanValue);case 2:return function(c,u){const g=Qn(c.integerValue||c.doubleValue),y=Qn(u.integerValue||u.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(n,e);case 3:return sr(n.timestampValue,e.timestampValue);case 4:return sr(am(n),am(e));case 5:return Et(n.stringValue,e.stringValue);case 6:return function(c,u){const g=Oa(c),y=Oa(u);return g.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(c,u){const g=c.split("/"),y=u.split("/");for(let w=0;w<g.length&&w<y.length;w++){const T=Et(g[w],y[w]);if(0!==T)return T}return Et(g.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,u){const g=Et(Qn(c.latitude),Qn(u.latitude));return 0!==g?g:Et(Qn(c.longitude),Qn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,u){const g=c.values||[],y=u.values||[];for(let w=0;w<g.length&&w<y.length;++w){const T=Vc(g[w],y[w]);if(T)return T}return Et(g.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,u){if(c===Lc.mapValue&&u===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(u===Lc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),w=u.fields||{},T=Object.keys(w);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const P=Et(y[S],T[S]);if(0!==P)return P;const V=Vc(g[y[S]],w[T[S]]);if(0!==V)return V}return Et(y.length,T.length)}(n.mapValue,e.mapValue);default:throw Be()}}function sr(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Et(n,e);const t=Fc(n),r=Fc(e),s=Et(t.seconds,r.seconds);return 0!==s?s:Et(t.nanos,r.nanos)}function zs(n){return Uc(n)}function Uc(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oa(n.bytesValue).toBase64():"referenceValue"in n?Oe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const c of t.values||[])s?s=!1:r+=",",r+=Uc(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",c=!0;for(const u of r)c?c=!1:s+=",",s+=`${u}:${Uc(t.fields[u])}`;return s+"}"}(n.mapValue):Be()}function Qo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _h(n){return!!n&&"integerValue"in n}function vh(n){return!!n&&"arrayValue"in n}function dI(n){return!!n&&"nullValue"in n}function hI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hu(n){return!!n&&"mapValue"in n}function fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Us(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ev(n){return"nullValue"in n?Iv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qo(Bs.empty(),Oe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Be()}function pu(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qo(Bs.empty(),Oe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Lc:Be()}function WC(n,e){const t=Vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function oo(n,e){const t=Vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Un.emptyPath(),r={},s=[];e.forEach((u,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,s),r={},s=[],t=g.popLast()}u?r[g.lastSegment()]=fu(u):s.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,s)}delete(e){const t=this.field(e.popLast());hu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];hu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Us(t,(s,c)=>e[s]=c);for(const s of r)delete e[s]}clone(){return new Qr(fu(this.value))}}function YC(n){const e=[];return Us(n.fields,(t,r)=>{const s=new Un([t]);if(hu(r)){const c=YC(r.mapValue).fields;if(0===c.length)e.push(s);else for(const u of c)e.push(s.child(u))}else e.push(s)}),new Di(e)}class Tn{constructor(e,t,r,s,c,u,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=c,this.data=u,this.documentState=g}static newInvalidDocument(e){return new Tn(e,0,Qe.min(),Qe.min(),Qe.min(),Qr.empty(),0)}static newFoundDocument(e,t,r,s){return new Tn(e,1,t,Qe.min(),r,s,0)}static newNoDocument(e,t){return new Tn(e,2,t,Qe.min(),Qe.min(),Qr.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Qe.min(),Qe.min(),Qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,t){this.position=e,this.inclusive=t}}function pI(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const c=e[s],u=n.position[s];if(r=c.field.isKeyField()?Oe.comparator(Oe.fromName(u.referenceValue),t.key):Vc(u,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function KC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!dn(n.position[t],e.position[t]))return!1;return!0}class wv{constructor(e,t="asc"){this.field=e,this.dir=t}}function vR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class cm{}class Bt extends cm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new QC(e,t,r):"array-contains"===t?new XC(e,r):"in"===t?new JC(e,r):"not-in"===t?new IR(e,r):"array-contains-any"===t?new ER(e,r):new Bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new yR(e,r):new bR(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vc(t,this.value)):null!==t&&js(this.value)===js(t)&&this.matchesComparison(Vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rn extends cm{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new rn(e,t)}matches(e){return Xo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Xo(n){return"and"===n.op}function Tv(n){return"or"===n.op}function Cv(n){return mu(n)&&Xo(n)}function mu(n){for(const e of n.filters)if(e instanceof rn)return!1;return!0}function lm(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+zs(n.value);if(Cv(n))return n.filters.map(e=>lm(e)).join(",");{const e=n.filters.map(t=>lm(t)).join(",");return`${n.op}(${e})`}}function Dv(n,e){return n instanceof Bt?(r=n,(s=e)instanceof Bt&&r.op===s.op&&r.field.isEqual(s.field)&&dn(r.value,s.value)):n instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.filters.length===s.filters.length&&r.filters.reduce((c,u,g)=>c&&Dv(u,s.filters[g]),!0)}(n,e):void Be();var r,s}function mI(n,e){const t=n.filters.concat(e);return rn.create(t,n.op)}function gI(n){return n instanceof Bt?`${(t=n).field.canonicalString()} ${t.op} ${zs(t.value)}`:n instanceof rn?function(t){return t.op.toString()+" {"+t.getFilters().map(gI).join(" ,")+"}"}(n):"Filter";var t}class QC extends Bt{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class yR extends Bt{constructor(e,t){super(e,"in",t),this.keys=gu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bR extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=gu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gu(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class XC extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vh(t)&&gh(t.arrayValue,this.value)}}class JC extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gh(this.value.arrayValue,t)}}class IR extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gh(this.value.arrayValue,t)}}class ER extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gh(this.value.arrayValue,r))}}class eD{constructor(e,t=null,r=[],s=[],c=null,u=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=c,this.startAt=u,this.endAt=g,this.ce=null}}function Av(n,e=null,t=[],r=[],s=null,c=null,u=null){return new eD(n,e,t,r,s,c,u)}function _u(n){const e=Pe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),mv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zs(r)).join(",")),e.ce=t}return e.ce}function Sv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Dv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KC(n.startAt,e.startAt)&&KC(n.endAt,e.endAt)}function xv(n){return Oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function um(n,e){return n.filters.filter(t=>t instanceof Bt&&t.field.isEqual(e))}function Rv(n,e,t){let r=Iv,s=!0;for(const c of um(n,e)){let u=Iv,g=!0;switch(c.op){case"<":case"<=":u=Ev(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,g=!1;break;case"!=":case"not-in":u=Iv}WC({value:r,inclusive:s},{value:u,inclusive:g})<0&&(r=u,s=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];WC({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}return{value:r,inclusive:s}}function tD(n,e,t){let r=Lc,s=!0;for(const c of um(n,e)){let u=Lc,g=!0;switch(c.op){case">=":case">":u=pu(c.value),g=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,g=!1;break;case"!=":case"not-in":u=Lc}oo({value:r,inclusive:s},{value:u,inclusive:g})>0&&(r=u,s=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];oo({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}return{value:r,inclusive:s}}class Na{constructor(e,t=null,r=[],s=[],c=null,u="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=c,this.limitType=u,this.startAt=g,this.endAt=y,this.le=null,this.he=null,this.Pe=null}}function nD(n,e,t,r,s,c,u,g){return new Na(n,e,t,r,s,c,u,g)}function yh(n){return new Na(n)}function rD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function _I(n){return null!==n.collectionGroup}function bh(n){const e=Pe(n);if(null===e.le){e.le=[];const t=new Set;for(const c of e.explicitOrderBy)e.le.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let g=new gn(Un.comparator);return u.filters.forEach(y=>{y.getFlattenedFilters().forEach(w=>{w.isInequality()&&(g=g.add(w.field))})}),g})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.le.push(new wv(c,r))}),t.has(Un.keyField().canonicalString())||e.le.push(new wv(Un.keyField(),r))}return e.le}function Ai(n){const e=Pe(n);return e.he||(e.he=function iD(n,e){if("F"===n.limitType)return Av(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new wv(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new ka(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ka(n.startAt.position,n.startAt.inclusive):null;return Av(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,bh(n))),e.he}function vI(n,e){const t=n.filters.concat([e]);return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mv(n,e,t){return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dm(n,e){return Sv(Ai(n),Ai(e))&&n.limitType===e.limitType}function oD(n){return`${_u(Ai(n))}|lt:${n.limitType}`}function Ih(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>gI(s)).join(", ")}]`),mv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>zs(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>zs(s)).join(",")),`Target(${r})`}(Ai(n))}; limitType=${n.limitType})`}function hm(n,e){return e.isFoundDocument()&&function(r,s){const c=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Oe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,e)&&function(r,s){for(const c of bh(r))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(n,e)&&function(r,s){for(const c of r.filters)if(!c.matches(s))return!1;return!0}(n,e)&&(s=e,!((r=n).startAt&&!function(u,g,y){const w=pI(u,g,y);return u.inclusive?w<=0:w<0}(r.startAt,bh(r),s)||r.endAt&&!function(u,g,y){const w=pI(u,g,y);return u.inclusive?w>=0:w>0}(r.endAt,bh(r),s)));var r,s}function sD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yI(n){return(e,t)=>{let r=!1;for(const s of bh(n)){const c=aD(s,e,t);if(0!==c)return c;r=r||s.field.isKeyField()}return 0}}function aD(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(c,u,g){const y=u.data.field(c),w=g.data.field(c);return null!==y&&null!==w?Vc(y,w):Be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be()}}class ui{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,c]of r)if(this.equalsFn(s,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return void(s[c]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,r)=>{for(const[s,c]of r)e(s,c)})}isEmpty(){return lI(this.inner)}size(){return this.innerSize}}const cD=new wn(Oe.comparator);function Hi(){return cD}const bI=new wn(Oe.comparator);function Eh(...n){let e=bI;for(const t of n)e=e.insert(t.key,t);return e}function wh(n){let e=bI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oo(){return Th()}function vu(){return Th()}function Th(){return new ui(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ch=new wn(Oe.comparator),wR=new gn(Oe.comparator);function Dt(...n){let e=wR;for(const t of n)e=e.add(t);return e}const Pv=new gn(Et);function fm(){return Pv}function II(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rm(e)?"-0":e}}function lD(n){return{integerValue:""+n}}function uD(n,e){return UC(e)?lD(e):II(n,e)}class Ov{constructor(){this._=void 0}}function kv(n,e,t){return n instanceof yu?function(s,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&yv(c)&&(c=bv(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}}(t,e):n instanceof bu?dD(n,e):n instanceof Bc?Fv(n,e):function(s,c){const u=EI(s,c),g=jc(u)+jc(s.Ie);return _h(u)&&_h(s.Ie)?lD(g):II(s.serializer,g)}(n,e)}function Nv(n,e,t){return n instanceof bu?dD(n,e):n instanceof Bc?Fv(n,e):t}function EI(n,e){return n instanceof Iu?_h(r=e)||(c=r)&&"doubleValue"in c?e:{integerValue:0}:null;var r,c}class yu extends Ov{}class bu extends Ov{constructor(e){super(),this.elements=e}}function dD(n,e){const t=hD(e);for(const r of n.elements)t.some(s=>dn(s,r))||t.push(r);return{arrayValue:{values:t}}}class Bc extends Ov{constructor(e){super(),this.elements=e}}function Fv(n,e){let t=hD(e);for(const r of n.elements)t=t.filter(s=>!dn(s,r));return{arrayValue:{values:t}}}class Iu extends Ov{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function jc(n){return Qn(n.integerValue||n.doubleValue)}function hD(n){return vh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pm{constructor(e,t){this.field=e,this.transform=t}}class iO{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class mm{}function TI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Er(n.key,Mn.none()):new Ah(n.key,n.data,Mn.none());{const t=n.data,r=Qr.empty();let s=new gn(Un.comparator);for(let c of e.fields)if(!s.has(c)){let u=t.field(c);null===u&&c.length>1&&(c=c.popLast(),u=t.field(c)),null===u?r.delete(c):r.set(c,u),s=s.add(c)}return new $i(n.key,r,new Di(s.toArray()),Mn.none())}}function oO(n,e,t){n instanceof Ah?function(s,c,u){const g=s.value.clone(),y=gm(s.fieldTransforms,c,u.transformResults);g.setAll(y),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):n instanceof $i?function(s,c,u){if(!wI(s.precondition,c))return void c.convertToUnknownDocument(u.version);const g=gm(s.fieldTransforms,c,u.transformResults),y=c.data;y.setAll(pD(s)),y.setAll(g),c.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hs(n,e,t,r){return n instanceof Ah?function(c,u,g,y){if(!wI(c.precondition,u))return g;const w=c.value.clone(),T=_m(c.fieldTransforms,y,u);return w.setAll(T),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof $i?function(c,u,g,y){if(!wI(c.precondition,u))return g;const w=_m(c.fieldTransforms,y,u),T=u.data;return T.setAll(pD(c)),T.setAll(w),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===g?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(n,e,t,r):(g=t,wI(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g);var u,g}function TR(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),c=EI(r.transform,s||null);null!=c&&(null===t&&(t=Qr.empty()),t.set(r.field,c))}return t||null}function fD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===s||r&&s&&uh(r,s,(c,u)=>function Dh(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(r=n.transform)instanceof bu&&s instanceof bu||r instanceof Bc&&s instanceof Bc?uh(r.elements,s.elements,dn):r instanceof Iu&&s instanceof Iu?dn(r.Ie,s.Ie):r instanceof yu&&s instanceof yu);var r,s}(c,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,s}class Ah extends mm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $i extends mm{constructor(e,t,r,s,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gm(n,e,t){const r=new Map;We(n.length===t.length);for(let s=0;s<t.length;s++){const c=n[s],u=c.transform,g=e.data.field(c.field);r.set(c.field,Nv(u,g,t[s]))}return r}function _m(n,e,t){const r=new Map;for(const s of n){const c=s.transform,u=t.data.field(s.field);r.set(s.field,kv(c,u,e))}return r}class Er extends mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lv extends mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vv{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const c=this.mutations[s];c.key.isEqual(e.key)&&oO(c,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hs(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hs(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vu();return this.mutations.forEach(s=>{const c=e.get(s.key),u=c.overlayedDocument;let g=this.applyToLocalView(u,c.mutatedFields);g=t.has(s.key)?null:g;const y=TI(u,g);null!==y&&r.set(s.key,y),u.isValidDocument()||u.convertToNoDocument(Qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dt())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,(t,r)=>fD(t,r))&&uh(this.baseMutations,e.baseMutations,(t,r)=>fD(t,r))}}class CI{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){We(e.mutations.length===r.length);let s=Ch;const c=e.mutations;for(let u=0;u<c.length;u++)s=s.insert(c[u].key,r[u].version);return new CI(e,t,r,s)}}class Uv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gD{constructor(e,t){this.count=e,this.unchangedNames=t}}var ar,Yt;function _D(n){switch(n){default:return Be();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function vD(n){if(void 0===n)return or("GRPC error has no .code"),Q.UNKNOWN;switch(n){case ar.OK:return Q.OK;case ar.CANCELLED:return Q.CANCELLED;case ar.UNKNOWN:return Q.UNKNOWN;case ar.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ar.INTERNAL:return Q.INTERNAL;case ar.UNAVAILABLE:return Q.UNAVAILABLE;case ar.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ar.NOT_FOUND:return Q.NOT_FOUND;case ar.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ar.ABORTED:return Q.ABORTED;case ar.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ar.DATA_LOSS:return Q.DATA_LOSS;default:return Be()}}(Yt=ar||(ar={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function yD(){return new TextEncoder}const CR=new Ti([4294967295,4294967295],0);function bD(n){const e=yD().encode(n),t=new K0;return t.update(e),new Uint8Array(t.digest())}function vm(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ti([t,r],0),new Ti([s,c],0)]}class Bv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sh(`Invalid padding: ${t}`);if(r<0)throw new Sh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Sh(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ti.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(Ti.fromNumber(r)));return 1===s.compare(CR)&&(s=new Ti([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=bD(e),[r,s]=vm(t);for(let c=0;c<this.hashCount;c++){const u=this.de(r,s,c);if(!this.Ae(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Bv(c,s,t);return r.forEach(g=>u.insert(g)),u}insert(e){if(0===this.Te)return;const t=bD(e),[r,s]=vm(t);for(let c=0;c<this.hashCount;c++){const u=this.de(r,s,c);this.Re(u)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,t,r,s,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ym.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xh(Qe.min(),s,new wn(Et),Hi(),Dt())}}class ym{constructor(e,t,r,s,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ym(r,t,Dt(),Dt(),Dt())}}class Hc{constructor(e,t,r,s){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=s}}class Rh{constructor(e,t){this.targetId=e,this.fe=t}}class ID{constructor(e,t,r=Ir.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ED{constructor(){this.ge=0,this.pe=AI(),this.ye=Ir.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Dt(),t=Dt(),r=Dt();return this.pe.forEach((s,c)=>{switch(c){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Be()}}),new ym(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=AI()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,We(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class DR{constructor(e){this.Le=e,this.ke=new Map,this.qe=Hi(),this.Qe=DI(),this.Ke=new wn(Et)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.fe.count,s=this.Ye(t);if(s){const c=s.target;if(xv(c))if(0===r){const u=new Oe(c.path);this.We(t,u,Tn.newNoDocument(u,Qe.min()))}else We(1===r);else{const u=this.Ze(t);if(u!==r){const g=this.Xe(e),y=g?this.et(g,e,u):1;0!==y&&(this.He(t),this.Ke=this.Ke.insert(t,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:c=0}=t;let u,g;try{u=Oa(r).toUint8Array()}catch(y){if(y instanceof uI)return zi("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Bv(u,s,c)}catch(y){return zi(y instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return 0===g.Te?null:g}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(c=>{const u=this.Le.nt(),g=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.We(t,c,null),s++)}),s}it(e){const t=new Map;this.ke.forEach((c,u)=>{const g=this.Ye(u);if(g){if(c.current&&xv(g.target)){const y=new Oe(g.target.path);null!==this.qe.get(y)||this.st(u,y)||this.We(u,y,Tn.newNoDocument(y,e))}c.De&&(t.set(u,c.ve()),c.Fe())}});let r=Dt();this.Qe.forEach((c,u)=>{let g=!0;u.forEachWhile(y=>{const w=this.Ye(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(g=!1,!1)}),g&&(r=r.add(c))}),this.qe.forEach((c,u)=>u.setReadTime(e));const s=new xh(e,t,this.Ke,this.qe,r);return this.qe=Hi(),this.Qe=DI(),this.Ke=new wn(Et),s}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,t)?s.Me(t,1):s.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ED,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new gn(Et),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ED),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function DI(){return new wn(Oe.comparator)}function AI(){return new wn(Oe.comparator)}const wD={asc:"ASCENDING",desc:"DESCENDING"},AR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class SR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function SI(n,e){return n.useProto3Json||mv(e)?e:{value:e}}function bm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sO(n,e){return bm(n,e.toTimestamp())}function fr(n){return We(!!n),Qe.fromTimestamp(function(t){const r=Fc(t);return new Zn(r.seconds,r.nanos)}(n))}function jv(n,e){return(r=n,new Qt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Im(n){const e=Qt.fromString(n);return We(RD(e)),e}function Em(n,e){return jv(n.databaseId,e.path)}function $s(n,e){const t=Im(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(CD(t))}function zv(n,e){return jv(n.databaseId,e)}function Mh(n){const e=Im(n);return 4===e.length?Qt.emptyPath():CD(e)}function wm(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CD(n){return We(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function DD(n,e,t){return{name:Em(n,e),fields:t.value.mapValue.fields}}function AD(n,e,t){const r=$s(n,e.name),s=fr(e.updateTime),c=e.createTime?fr(e.createTime):Qe.min(),u=new Qr({mapValue:{fields:e.fields}}),g=Tn.newFoundDocument(r,s,c,u);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Ph(n,e){let t;if(e instanceof Ah)t={update:DD(n,e.key,e.value)};else if(e instanceof Er)t={delete:Em(n,e.key)};else if(e instanceof $i)t={update:DD(n,e.key,e.data),updateMask:xD(e.fieldMask)};else{if(!(e instanceof Lv))return Be();t={verify:Em(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,u){const g=u.transform;if(g instanceof yu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Iu)return{fieldPath:u.field.canonicalString(),increment:g.Ie};throw Be()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:sO(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Be()),t;var c}function xI(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Mn.updateTime(fr(c.updateTime)):void 0!==c.exists?Mn.exists(c.exists):Mn.none():Mn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,g){let y=null;"setToServerValue"in g?(We("REQUEST_TIME"===g.setToServerValue),y=new yu):"appendMissingElements"in g?y=new bu(g.appendMissingElements.values||[]):"removeAllFromArray"in g?y=new Bc(g.removeAllFromArray.values||[]):"increment"in g?y=new Iu(u,g.increment):Be();const w=Un.fromServerFormat(g.fieldPath);return new pm(w,y)}(n,s)):[];var c;if(e.update){const s=$s(n,e.update.name),c=new Qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Di((e.updateMask.fieldPaths||[]).map(T=>Un.fromServerFormat(T)));return new $i(s,c,u,t,r)}return new Ah(s,c,t,r)}if(e.delete){const s=$s(n,e.delete);return new Er(s,t)}if(e.verify){const s=$s(n,e.verify);return new Lv(s,t)}return Be()}function Oh(n,e){return{documents:[zv(n,e.path)]}}function RI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=zv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(y){if(0!==y.length)return OI(rn.create(y,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const c=function(y){if(0!==y.length)return y.map(w=>{return{field:Gs((S=w).field),direction:OR(S.dir)};var S})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=SI(n,e.limit);return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),t;var y}function MI(n){let e=Mh(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){We(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let c=[];t.where&&(c=function(S){const P=PI(S);return P instanceof rn&&Cv(P)?P.getFilters():[P]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(P=>{return new wv(kh((X=P).field),function(ce){switch(ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction));var X}));let g=null;t.limit&&(g=function(S){let P;return P="object"==typeof S?S.value:S,mv(P)?null:P}(t.limit));let y=null;var S;t.startAt&&(y=new ka((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new ka(S.values||[],!S.before)}(t.endAt)),nD(e,s,u,c,g,"F",y,w)}function PI(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=kh(t.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=kh(t.unaryFilter.field);return Bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=kh(t.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=kh(t.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Be()}}(n):void 0!==n.fieldFilter?Bt.create(kh((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return rn.create(t.compositeFilter.filters.map(r=>PI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be()}}(t.compositeFilter.op))}(n):Be();var t}function OR(n){return wD[n]}function SD(n){return AR[n]}function kR(n){return TD[n]}function Gs(n){return{fieldPath:n.canonicalString()}}function kh(n){return Un.fromServerFormat(n.fieldPath)}function OI(n){return n instanceof Bt?function(t){if("=="===t.op){if(hI(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(dI(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hI(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(dI(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:SD(t.op),value:t.value}}}(n):n instanceof rn?function(t){const r=t.getFilters().map(s=>OI(s));return 1===r.length?r[0]:{compositeFilter:{op:kR(t.op),filters:r}}}(n):Be()}function xD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fa{constructor(e,t,r,s,c=Qe.min(),u=Qe.min(),g=Ir.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MD{constructor(e){this.ut=e}}function PD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Tm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Em(c=n.ut,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:bm(c,u.version.toTimestamp()),createTime:bm(c,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Eu(e.version)};else{if(!e.isUnknownDocument())return Be();r.unknownDocument={path:t.path.toArray(),version:Eu(e.version)}}var c,u;return r}function Tm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Eu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wu(n){const e=new Zn(n.seconds,n.nanoseconds);return Qe.fromTimestamp(e)}function Tu(n,e){const t=(e.baseMutations||[]).map(c=>xI(n.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>xI(n.ut,c)),s=Zn.fromMillis(e.localWriteTimeMs);return new Vv(e.batchId,s,t,r)}function Cm(n){const e=wu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?wu(n.lastLimboFreeSnapshotVersion):Qe.min();let r;return r=void 0!==n.query.documents?(We(1===(c=n.query).documents.length),Ai(yh(Mh(c.documents[0])))):function(c){return Ai(MI(c))}(n.query),new Fa(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ir.fromBase64String(n.resumeToken));var c}function OD(n,e){const t=Eu(e.snapshotVersion),r=Eu(e.lastLimboFreeSnapshotVersion);let s;s=xv(e.target)?Oh(n.ut,e.target):RI(n.ut,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_u(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function NI(n){const e=MI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Mv(e,e.limit,"L"):e}function FI(n,e){return new Uv(e.largestBatchId,xI(n.ut,e.overlayMutation))}function kD(n,e){const t=e.path.lastSegment();return[n,Br(e.path.popLast()),t]}function LI(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Eu(r.readTime),documentKey:Br(r.documentKey.path),largestBatchId:r.largestBatchId}}class ND{getBundleMetadata(e,t){return FD(e).get(t).next(r=>{if(r)return{id:(c=r).bundleId,createTime:wu(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return FD(e).put({bundleId:(s=t).id,createTime:Eu(fr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return LD(e).get(t).next(r=>{if(r)return{name:(c=r).name,query:NI(c.bundledQuery),readTime:wu(c.readTime)};var c})}saveNamedQuery(e,t){return LD(e).put({name:(s=t).name,readTime:Eu(fr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function FD(n){return jr(n,"bundles")}function LD(n){return jr(n,"namedQueries")}class Dm{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Dm(e,t.uid||"")}getOverlay(e,t){return Am(e).get(kD(this.userId,t)).next(r=>r?FI(this.serializer,r):null)}getOverlays(e,t){const r=Oo();return W.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((c,u)=>{const g=new Uv(t,u);s.push(this.lt(e,g))}),W.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(u=>s.add(Br(u.getCollectionPath())));const c=[];return s.forEach(u=>{const g=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(Am(e).H("collectionPathOverlayIndex",g))}),W.waitFor(c)}getOverlaysForCollection(e,t,r){const s=Oo(),c=Br(t),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Am(e).W("collectionPathOverlayIndex",u).next(g=>{for(const y of g){const w=FI(this.serializer,y);s.set(w.getKey(),w)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const c=Oo();let u;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Am(e).Y({index:"collectionGroupOverlayIndex",range:g},(y,w,T)=>{const S=FI(this.serializer,w);c.size()<s||S.largestBatchId===u?(c.set(S.getKey(),S),u=S.largestBatchId):T.done()}).next(()=>c)}lt(e,t){return Am(e).put(function(s,c,u){const[g,y,w]=kD(c,u.mutation.key);return{userId:c,collectionPath:y,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Ph(s.ut,u.mutation)}}(this.serializer,this.userId,t))}}function Am(n){return jr(n,"documentOverlays")}class Cu{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Qn(e.integerValue));else if("doubleValue"in e){const r=Qn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),rm(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Oa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?fI(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Be()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const s of Object.keys(r))this.At(s,t),this.Pt(r[s],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const s of r)this.Pt(s,t)}ft(e,t){this.Tt(t,37),Oe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function VI(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function UI(n){const e=64-function(r){let s=0;for(let c=0;c<8;++c){const u=VI(255&r[c]);if(s+=u,8!==u)break}return s}(n);return Math.ceil(e/8)}Cu.St=new Cu;class BI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const s=t.codePointAt(0);this.Dt(240|s>>>18),this.Dt(128|63&s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=t.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Nt(e){const t=this.Bt(e),r=UI(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}kt(e){const t=this.Bt(e),r=UI(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(c){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,c,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class VD{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class NR{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Nh{constructor(){this.Wt=new BI,this.Gt=new VD(this.Wt),this.zt=new NR(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class $c{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new $c(this.indexId,this.documentKey,this.arrayValue,r)}}function La(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jI(n.arrayValue,e.arrayValue),0!==t?t:(t=jI(n.directionalValue,e.directionalValue),0!==t?t:Oe.comparator(n.documentKey,e.documentKey)))}function jI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class UD{constructor(e){this.Jt=new gn((t,r)=>Un.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(We(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=J0(e);if(void 0!==t&&!this.tn(t))return!1;const r=dh(e);let s=new Set,c=0,u=0;for(;c<r.length&&this.tn(r[c]);++c)s=s.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(this.Jt.size>0){const g=this.Jt.getIterator().getNext();if(!s.has(g.field.canonicalString())){const y=r[c];if(!this.nn(g,y)||!this.rn(this.Yt[u++],y))return!1}++c}for(;c<r.length;++c)if(u>=this.Yt.length||!this.rn(this.Yt[u++],r[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new gn(Un.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new cu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new cu(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new cu(r.field,"asc"===r.dir?0:1)));return new Jp(Jp.UNKNOWN_ID,this.collectionId,t,Oc.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function zI(n){var e,t;if(We(n instanceof Bt||n instanceof rn),n instanceof Bt){if(n instanceof JC){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Bt.create(n.field,"==",c)))||[];return rn.create(s,"or")}return n}const r=n.filters.map(s=>zI(s));return rn.create(r,n.op)}function BD(n){if(0===n.getFilters().length)return[];const e=$v(zI(n));return We(HI(e)),Hv(e)||Sm(e)?[e]:e.getFilters()}function Hv(n){return n instanceof Bt}function Sm(n){return n instanceof rn&&Cv(n)}function HI(n){return Hv(n)||Sm(n)||function(t){if(t instanceof rn&&Tv(t)){for(const r of t.getFilters())if(!Hv(r)&&!Sm(r))return!1;return!0}return!1}(n)}function $v(n){if(We(n instanceof Bt||n instanceof rn),n instanceof Bt)return n;if(1===n.filters.length)return $v(n.filters[0]);const e=n.filters.map(r=>$v(r));let t=rn.create(e,n.op);return t=xm(t),HI(t)?t:(We(t instanceof rn),We(Xo(t)),We(t.filters.length>1),t.filters.reduce((r,s)=>Gv(r,s)))}function Gv(n,e){let t;return We(n instanceof Bt||n instanceof rn),We(e instanceof Bt||e instanceof rn),t=n instanceof Bt?e instanceof Bt?rn.create([n,e],"and"):$I(n,e):e instanceof Bt?$I(e,n):function(s,c){if(We(s.filters.length>0&&c.filters.length>0),Xo(s)&&Xo(c))return mI(s,c.getFilters());const u=Tv(s)?s:c,g=Tv(s)?c:s,y=u.filters.map(w=>Gv(w,g));return rn.create(y,"or")}(n,e),xm(t)}function $I(n,e){if(Xo(e))return mI(e,n.getFilters());{const t=e.filters.map(r=>Gv(n,r));return rn.create(t,"or")}}function xm(n){if(We(n instanceof Bt||n instanceof rn),n instanceof Bt)return n;const e=n.getFilters();if(1===e.length)return xm(e[0]);if(mu(n))return n;const t=e.map(s=>xm(s)),r=[];return t.forEach(s=>{s instanceof Bt?r.push(s):s instanceof rn&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:rn.create(r,n.op)}class jD{constructor(){this.on=new qv}addToCollectionParentIndex(e,t){return this.on.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(ci.min())}updateCollectionGroup(e,t,r){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class qv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new gn(Qt.comparator),c=!s.has(r);return this.index[t]=s.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new gn(Qt.comparator)).toArray()}}const Rm=new Uint8Array(0);class FR{constructor(e,t){this.user=e,this.databaseId=t,this._n=new qv,this.an=new ui(r=>_u(r),(r,s)=>Sv(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const c={collectionId:r,parent:Br(s)};return zD(e).put(c)}return W.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[LC(t),""],!1,!0);return zD(e).W(s).next(c=>{for(const u of c){if(u.collectionId!==t)break;r.push(Vs(u.parent))}return r})}addFieldIndex(e,t){const r=Mm(e),s={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(y=>[y.fieldPath.canonicalString(),y.kind])};var g;delete s.indexId;const c=r.add(s);if(t.indexState){const u=Lh(e);return c.next(g=>{u.put(LI(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Mm(e),s=Lh(e),c=Fh(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Mm(e),r=Fh(e),s=Lh(e);return t.H().next(()=>r.H()).next(()=>s.H())}createTargetIndexes(e,t){return W.forEach(this.un(t),r=>this.getIndexType(e,r).next(s=>{if(0===s||1===s){const c=new UD(r).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,t){const r=Fh(e);let s=!0;const c=new Map;return W.forEach(this.un(t),u=>this.cn(e,u).next(g=>{s&&(s=!!g),c.set(u,g)})).next(()=>{if(s){let u=Dt();const g=[];return W.forEach(c,(y,w)=>{var xe;ye("IndexedDbIndexManager",`Using index ${xe=y,`id=${xe.indexId}|cg=${xe.collectionGroup}|f=${xe.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${_u(t)}`);const T=function(xe,et){const wt=J0(et);if(void 0===wt)return null;for(const Xt of um(xe,wt.fieldPath))switch(Xt.op){case"array-contains-any":return Xt.value.arrayValue.values||[];case"array-contains":return[Xt.value]}return null}(w,y),S=function(xe,et){const wt=new Map;for(const Xt of dh(et))for(const wr of um(xe,Xt.fieldPath))switch(wr.op){case"==":case"in":wt.set(Xt.fieldPath.canonicalString(),wr.value);break;case"not-in":case"!=":return wt.set(Xt.fieldPath.canonicalString(),wr.value),Array.from(wt.values())}return null}(w,y),P=function(xe,et){const wt=[];let Xt=!0;for(const wr of dh(et)){const Ks=0===wr.kind?Rv(xe,wr.fieldPath,xe.startAt):tD(xe,wr.fieldPath,xe.startAt);wt.push(Ks.value),Xt&&(Xt=Ks.inclusive)}return new ka(wt,Xt)}(w,y),V=function(xe,et){const wt=[];let Xt=!0;for(const wr of dh(et)){const Ks=0===wr.kind?tD(xe,wr.fieldPath,xe.endAt):Rv(xe,wr.fieldPath,xe.endAt);wt.push(Ks.value),Xt&&(Xt=Ks.inclusive)}return new ka(wt,Xt)}(w,y),X=this.ln(y,w,P),ne=this.ln(y,w,V),ce=this.hn(y,w,S),Te=this.Pn(y.indexId,T,X,P.inclusive,ne,V.inclusive,ce);return W.forEach(Te,je=>r.j(je,t.limit).next(xe=>{xe.forEach(et=>{const wt=Oe.fromSegments(et.documentKey);u.has(wt)||(u=u.add(wt),g.push(wt))})}))}).next(()=>g)}return W.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:BD(rn.create(e.filters,"and")).map(r=>Av(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,s,c,u,g){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),w=y/(null!=t?t.length:1),T=[];for(let S=0;S<y;++S){const P=t?this.In(t[S/w]):Rm,V=this.Tn(e,P,r[S%w],s),X=this.En(e,P,c[S%w],u),ne=g.map(ce=>this.Tn(e,P,ce,!0));T.push(...this.createRange(V,X,ne))}return T}Tn(e,t,r,s){const c=new $c(e,Oe.empty(),t,r);return s?c:c.Ht()}En(e,t,r,s){const c=new $c(e,Oe.empty(),t,r);return s?c.Ht():c}cn(e,t){const r=new UD(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(c=>{let u=null;for(const g of c)r.en(g)&&(!u||g.fields.length>u.fields.length)&&(u=g);return u})}getIndexType(e,t){let r=2;const s=this.un(t);return W.forEach(s,c=>this.cn(e,c).next(u=>{u?0!==r&&u.fields.length<function(y){let w=new gn(Un.comparator),T=!1;for(const S of y.filters)for(const P of S.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?T=!0:w=w.add(P.field));for(const S of y.orderBy)S.field.isKeyField()||(w=w.add(S.field));return w.size+(T?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}dn(e,t){const r=new Nh;for(const s of dh(e)){const c=t.data.field(s.fieldPath);if(null==c)return null;const u=r.jt(s.kind);Cu.St.ht(c,u)}return r.Ut()}In(e){const t=new Nh;return Cu.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new Nh;return Cu.St.ht(Qo(this.databaseId,t),r.jt(function(c){const u=dh(c);return 0===u.length?0:u[u.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let s=[];s.push(new Nh);let c=0;for(const u of dh(e)){const g=r[c++];for(const y of s)if(this.Rn(t,u.fieldPath)&&vh(g))s=this.Vn(s,u,g);else{const w=y.jt(u.kind);Cu.St.ht(g,w)}}return this.mn(s)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const s=[...e],c=[];for(const u of r.arrayValue.values||[])for(const g of s){const y=new Nh;y.seed(g.Ut()),Cu.St.ht(u,y.jt(t.kind)),c.push(y)}return c}Rn(e,t){return!!e.filters.find(r=>r instanceof Bt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Mm(e),s=Lh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const u=[];return W.forEach(c,g=>s.get([g.indexId,this.uid]).next(y=>{u.push(function(T,S){const P=S?new Oc(S.sequenceNumber,new ci(wu(S.readTime),new Oe(Vs(S.documentKey)),S.largestBatchId)):Oc.empty(),V=T.fields.map(([X,ne])=>new cu(Un.fromServerFormat(X),ne));return new Jp(T.indexId,T.collectionGroup,V,P)}(g,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const c=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==c?c:Et(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Mm(e),c=Lh(e);return this.fn(e).next(u=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>W.forEach(g,y=>c.put(LI(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return W.forEach(t,(s,c)=>{const u=r.get(s.collectionGroup);return(u?W.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),W.forEach(g,y=>this.gn(e,s,y).next(w=>{const T=this.pn(c,y);return w.isEqual(T)?W.resolve():this.yn(e,c,y,w,T)}))))})}wn(e,t,r,s){return Fh(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,s){return Fh(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const s=Fh(e);let c=new gn(La);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(u,g)=>{c=c.add(new $c(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}pn(e,t){let r=new gn(La);const s=this.dn(t,e);if(null==s)return r;const c=J0(t);if(null!=c){const u=e.data.field(c.fieldPath);if(vh(u))for(const g of u.arrayValue.values||[])r=r.add(new $c(t.indexId,e.key,this.In(g),s))}else r=r.add(new $c(t.indexId,e.key,Rm,s));return r}yn(e,t,r,s,c){ye("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(y,w,T,S,P){const V=y.getIterator(),X=w.getIterator();let ne=Ko(V),ce=Ko(X);for(;ne||ce;){let Te=!1,je=!1;if(ne&&ce){const xe=T(ne,ce);xe<0?je=!0:xe>0&&(Te=!0)}else null!=ne?je=!0:Te=!0;Te?(S(ce),ce=Ko(X)):je?(P(ne),ne=Ko(V)):(ne=Ko(V),ce=Ko(X))}}(s,c,La,g=>{u.push(this.wn(e,t,r,g))},g=>{u.push(this.Sn(e,t,r,g))}),W.waitFor(u)}fn(e){let t=1;return Lh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,c)=>{c.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,g)=>La(u,g)).filter((u,g,y)=>!g||0!==La(u,y[g-1]));const s=[];s.push(e);for(const u of r){const g=La(u,e),y=La(u,t);if(0===g)s[0]=e.Ht();else if(g>0&&y<0)s.push(u),s.push(u.Ht());else if(y>0)break}s.push(t);const c=[];for(let u=0;u<s.length;u+=2){if(this.bn(s[u],s[u+1]))return[];c.push(IDBKeyRange.bound([s[u].indexId,this.uid,s[u].arrayValue,s[u].directionalValue,Rm,[]],[s[u+1].indexId,this.uid,s[u+1].arrayValue,s[u+1].directionalValue,Rm,[]]))}return c}bn(e,t){return La(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(HD)}getMinOffset(e,t){return W.mapArray(this.un(t),r=>this.cn(e,r).next(s=>s||Be())).next(HD)}}function zD(n){return jr(n,"collectionParents")}function Fh(n){return jr(n,"indexEntries")}function Mm(n){return jr(n,"indexConfiguration")}function Lh(n){return jr(n,"indexState")}function HD(n){We(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;dv(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new ci(e.readTime,e.documentKey,t)}const $D={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class di{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function GD(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),c=[],u=IDBKeyRange.only(t.batchId);let g=0;const y=r.Y({range:u},(T,S,P)=>(g++,P.delete()));c.push(y.next(()=>{We(1===g)}));const w=[];for(const T of t.mutations){const S=jC(e,T.key.path,t.batchId);c.push(s.delete(S)),w.push(T.key)}return W.waitFor(c).next(()=>w)}function Zv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Be();e=n.noDocument}return JSON.stringify(e).length}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(41943040,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class Wv{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Dn={}}static ct(e,t,r,s){We(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Wv(c,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).Y({index:"userMutationsIndex",range:r},(s,c,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const c=Du(e),u=Va(e);return u.add({}).next(g=>{We("number"==typeof g);const y=new Vv(g,t,r,s),w=function(V,X,ne){const ce=ne.baseMutations.map(je=>Ph(V.ut,je)),Te=ne.mutations.map(je=>Ph(V.ut,je));return{userId:X,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:ce,mutations:Te}}(this.serializer,this.userId,y),T=[];let S=new gn((P,V)=>Et(P.canonicalString(),V.canonicalString()));for(const P of s){const V=jC(this.userId,P.key.path,g);S=S.add(P.key.path.popLast()),T.push(u.put(w)),T.push(c.put(V,dR))}return S.forEach(P=>{T.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.Dn[g]=y.keys()}),W.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Va(e).get(t).next(r=>r?(We(r.userId===this.userId),Tu(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?W.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Dn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Va(e).Y({index:"userMutationsIndex",range:s},(u,g,y)=>{g.userId===this.userId&&(We(g.batchId>=r),c=Tu(this.serializer,g)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Va(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(s,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).W("userMutationsIndex",t).next(r=>r.map(s=>Tu(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=im(this.userId,t.path),s=IDBKeyRange.lowerBound(r),c=[];return Du(e).Y({range:s},(u,g,y)=>{const[w,T,S]=u,P=Vs(T);if(w===this.userId&&t.path.isEqual(P))return Va(e).get(S).next(V=>{if(!V)throw Be();We(V.userId===this.userId),c.push(Tu(this.serializer,V))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(Et);const s=[];return t.forEach(c=>{const u=im(this.userId,c.path),g=IDBKeyRange.lowerBound(u),y=Du(e).Y({range:g},(w,T,S)=>{const[P,V,X]=w,ne=Vs(V);P===this.userId&&c.path.isEqual(ne)?r=r.add(X):S.done()});s.push(y)}),W.waitFor(s).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,c=im(this.userId,r),u=IDBKeyRange.lowerBound(c);let g=new gn(Et);return Du(e).Y({range:u},(y,w,T)=>{const[S,P,V]=y,X=Vs(P);S===this.userId&&r.isPrefixOf(X)?X.length===s&&(g=g.add(V)):T.done()}).next(()=>this.vn(e,g))}vn(e,t){const r=[],s=[];return t.forEach(c=>{s.push(Va(e).get(c).next(u=>{if(null===u)throw Be();We(u.userId===this.userId),r.push(Tu(this.serializer,u))}))}),W.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return GD(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),W.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return W.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Du(e).Y({range:r},(c,u,g)=>{if(c[0]===this.userId){const y=Vs(c[1]);s.push(y)}else g.done()}).next(()=>{We(0===s.length)})})}containsKey(e,t){return GI(e,this.userId,t)}Mn(e){return qI(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function GI(n,e,t){const r=im(e,t.path),s=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return Du(n).Y({range:c,J:!0},(g,y,w)=>{const[T,S,P]=g;T===e&&S===s&&(u=!0),w.done()}).next(()=>u)}function Va(n){return jr(n,"mutations")}function Du(n){return jr(n,"documentMutations")}function qI(n){return jr(n,"mutationQueues")}class Gc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Gc(0)}static Nn(){return new Gc(-1)}}class qD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Gc(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Qe.fromTimestamp(new Zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Ln(e,s)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Au(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(We(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let s=0;const c=[];return Au(e).Y((u,g)=>{const y=Cm(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(s++,c.push(this.removeTargetData(e,y)))}).next(()=>W.waitFor(c)).next(()=>s)}forEachTarget(e,t){return Au(e).Y((r,s)=>{const c=Cm(s);t(c)})}Bn(e){return ZI(e).get("targetGlobalKey").next(t=>(We(null!==t),t))}Ln(e,t){return ZI(e).put("targetGlobalKey",t)}kn(e,t){return Au(e).put(OD(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_u(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Au(e).Y({range:s,index:"queryTargetsIndex"},(u,g,y)=>{const w=Cm(g);Sv(t,w.target)&&(c=w,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const s=[],c=Ua(e);return t.forEach(u=>{const g=Br(u.path);s.push(c.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,u))}),W.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ua(e);return W.forEach(t,c=>{const u=Br(c.path);return W.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Ua(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ua(e);let c=Dt();return s.Y({range:r,J:!0},(u,g,y)=>{const w=Vs(u[1]),T=new Oe(w);c=c.add(T)}).next(()=>c)}containsKey(e,t){const r=Br(t.path),s=IDBKeyRange.bound([r],[LC(r)],!1,!0);let c=0;return Ua(e).Y({index:"documentTargetsIndex",J:!0,range:s},([u,g],y,w)=>{0!==u&&(c++,w.done())}).next(()=>c>0)}_t(e,t){return Au(e).get(t).next(r=>r?Cm(r):null)}}function Au(n){return jr(n,"targets")}function ZI(n){return jr(n,"targetGlobal")}function Ua(n){return jr(n,"targetDocuments")}function WI([n,e],[t,r]){const s=Et(n,t);return 0===s?Et(e,r):s}class ZD{constructor(e){this.Qn=e,this.buffer=new gn(WI),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();WI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,he.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Nc(r)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield kc(r)}yield t.Gn(3e5)}))}}class LR{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return W.resolve(li._e);const r=new ZD(t);return this.zn.forEachTarget(e,s=>r.Un(s.sequenceNumber)).next(()=>this.zn.Hn(e,s=>r.Un(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve($D)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$D):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,s,c,u,g,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),s=this.params.maximumSequenceNumbersToCollect):s=S,u=Date.now(),this.nthSequenceNumber(e,s))).next(S=>(r=S,g=Date.now(),this.removeTargets(e,r,t))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),ai()<=qo.in.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${s} in `+(g-u)+`ms\n\tRemoved ${c} targets in `+(y-g)+`ms\n\tRemoved ${S} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:S})))}}class Kv{constructor(e,t){this.db=e,this.garbageCollector=function Yv(n,e){return new LR(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,s)=>t(s))}addReference(e,t,r){return Vh(e,r)}removeReference(e,t,r){return Vh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vh(e,t)}Xn(e,t){return function(s,c){let u=!1;return qI(s).Z(g=>GI(s,g,c).next(y=>(y&&(u=!0),W.resolve(!y)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let c=0;return this.Zn(e,(u,g)=>{if(g<=t){const y=this.Xn(e,u).next(w=>{if(!w)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Qe.min()),Ua(e).delete([0,Br(u.path)])))});s.push(y)}}).next(()=>W.waitFor(s)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vh(e,t)}Zn(e,t){const r=Ua(e);let s,c=li._e;return r.Y({index:"documentTargetsIndex"},([u,g],{path:y,sequenceNumber:w})=>{0===u?(c!==li._e&&t(new Oe(Vs(s)),c),c=w,s=y):c=li._e}).next(()=>{c!==li._e&&t(new Oe(Vs(s)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vh(n,e){return Ua(n).put((s=n.currentSequenceNumber,{targetId:0,path:Br(e.path),sequenceNumber:s}));var s}class Qv{constructor(){this.changes=new ui(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?W.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qc(e).put(r)}removeEntry(e,t,r){return qc(e).delete(function(c,u){const g=c.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Tm(u),g[g.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=Tn.newInvalidDocument(t);return qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Uh(t))},(s,c)=>{r=this.tr(t,c)}).next(()=>r)}nr(e,t){let r={size:0,document:Tn.newInvalidDocument(t)};return qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Uh(t))},(s,c)=>{r={document:this.tr(t,c),size:Zv(c)}}).next(()=>r)}getEntries(e,t){let r=Hi();return this.rr(e,t,(s,c)=>{const u=this.tr(s,c);r=r.insert(s,u)}).next(()=>r)}ir(e,t){let r=Hi(),s=new wn(Oe.comparator);return this.rr(e,t,(c,u)=>{const g=this.tr(c,u);r=r.insert(c,g),s=s.insert(c,Zv(u))}).next(()=>({documents:r,sr:s}))}rr(e,t,r){if(t.isEmpty())return W.resolve();let s=new gn(Xv);t.forEach(y=>s=s.add(y));const c=IDBKeyRange.bound(Uh(s.first()),Uh(s.last())),u=s.getIterator();let g=u.getNext();return qc(e).Y({index:"documentKeyIndex",range:c},(y,w,T)=>{const S=Oe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&Xv(g,S)<0;)r(g,null),g=u.getNext();g&&g.isEqual(S)&&(r(g,w),g=u.hasNext()?u.getNext():null),g?T.U(Uh(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,s,c){const u=t.path,g=[u.popLast().toArray(),u.lastSegment(),Tm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],y=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qc(e).W(IDBKeyRange.bound(g,y,!0)).next(w=>{c?.incrementDocumentReadCount(w.length);let T=Hi();for(const S of w){const P=this.tr(Oe.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);P.isFoundDocument()&&(hm(t,P)||s.has(P.key))&&(T=T.insert(P.key,P))}return T})}getAllFromCollectionGroup(e,t,r,s){let c=Hi();const u=QD(t,r),g=QD(t,ci.max());return qc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,g,!0)},(y,w,T)=>{const S=this.tr(Oe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(S.key,S),c.size===s&&T.done()}).next(()=>c)}newChangeBuffer(e){return new KD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return KI(e).get("remoteDocumentGlobalKey").next(t=>(We(!!t),t))}er(e,t){return KI(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function kI(n,e){let t;if(e.document)t=AD(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Oe.fromSegments(e.noDocument.path),s=wu(e.noDocument.readTime);t=Tn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Be();{const r=Oe.fromSegments(e.unknownDocument.path),s=wu(e.unknownDocument.version);t=Tn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(s){const c=new Zn(s[0],s[1]);return Qe.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Qe.min()))return r}return Tn.newInvalidDocument(e)}}function YI(n){return new YD(n)}class KD extends Qv{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ui(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new gn((c,u)=>Et(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const g=this.ar.get(c);if(t.push(this._r.removeEntry(e,c,g.readTime)),u.isValidDocument()){const y=PD(this._r.serializer,u);s=s.add(c.path.popLast());const w=Zv(y);r+=w-g.size,t.push(this._r.addEntry(e,c,y))}else if(r-=g.size,this.trackRemovals){const y=PD(this._r.serializer,u.convertToNoDocument(Qe.min()));t.push(this._r.addEntry(e,c,y))}}),s.forEach(c=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),t.push(this._r.updateMetadata(e,r)),W.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:s})=>(s.forEach((c,u)=>{this.ar.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function KI(n){return jr(n,"remoteDocumentGlobal")}function qc(n){return jr(n,"remoteDocumentsV14")}function Uh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QD(n,e){const t=e.documentKey.path.toArray();return[n,Tm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Xv(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(s=Et(t[c],r[c]),s)return s;return s=Et(t.length,r.length),s||(s=Et(t[t.length-2],r[r.length-2]),s||Et(t[t.length-1],r[r.length-1]))}class QI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class XI{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Hs(r.mutation,s,Di.empty(),Zn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Dt()){const s=Oo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(c=>{let u=Eh();return c.forEach((g,y)=>{u=u.insert(g,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Dt()))}populateOverlays(e,t,r){const s=[];return r.forEach(c=>{t.has(c)||s.push(c)}),this.documentOverlayCache.getOverlays(e,s).next(c=>{c.forEach((u,g)=>{t.set(u,g)})})}computeViews(e,t,r,s){let c=Hi();const u=Th(),g=Th();return t.forEach((y,w)=>{const T=r.get(w.key);s.has(w.key)&&(void 0===T||T.mutation instanceof $i)?c=c.insert(w.key,w):void 0!==T?(u.set(w.key,T.mutation.getFieldMask()),Hs(T.mutation,w,T.mutation.getFieldMask(),Zn.now())):u.set(w.key,Di.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((w,T)=>u.set(w,T)),t.forEach((w,T)=>{var S;return g.set(w,new QI(T,null!==(S=u.get(w))&&void 0!==S?S:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Th();let s=new wn((u,g)=>u-g),c=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const g of u)g.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||Di.empty();T=g.applyToLocalView(w,T),r.set(y,T);const S=(s.get(g.batchId)||Dt()).add(y);s=s.insert(g.batchId,S)})}).next(()=>{const u=[],g=s.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),w=y.key,T=y.value,S=vu();T.forEach(P=>{if(!c.has(P)){const V=TI(t.get(P),r.get(P));null!==V&&S.set(P,V),c=c.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,S))}return W.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return Oe.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_I(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s);var u}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(c=>{const u=s-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-c.size):W.resolve(Oo());let g=-1,y=c;return u.next(w=>W.forEach(w,(T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(P=>{y=y.insert(T,P)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,y,w,Dt())).next(T=>({batchId:g,changes:wh(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let s=Eh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const c=t.collectionGroup;let u=Eh();return this.indexManager.getCollectionParents(e,c).next(g=>W.forEach(g,y=>{const w=(S=t,P=y.child(c),new Na(P,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,P;return this.getDocumentsMatchingCollectionQuery(e,w,r,s).next(T=>{T.forEach((S,P)=>{u=u.insert(S,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,s))).next(u=>{c.forEach((y,w)=>{const T=w.getKey();null===u.get(T)&&(u=u.insert(T,Tn.newInvalidDocument(T)))});let g=Eh();return u.forEach((y,w)=>{const T=c.get(y);void 0!==T&&Hs(T.mutation,w,Di.empty(),Zn.now()),hm(t,w)&&(g=g.insert(y,w))}),g})}}class JI{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return W.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(s=t).id,version:s.version,createTime:fr(s.createTime)}),W.resolve();var s}getNamedQuery(e,t){return W.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(s=t).name,query:NI(s.bundledQuery),readTime:fr(s.readTime)}),W.resolve();var s}}class VR{constructor(){this.overlays=new wn(Oe.comparator),this.lr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oo();return W.forEach(t,s=>this.getOverlay(e,s).next(c=>{null!==c&&r.set(s,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,c)=>{this.lt(e,t,c)}),W.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.lr.get(r);return void 0!==s&&(s.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(r)),W.resolve()}getOverlaysForCollection(e,t,r){const s=Oo(),c=t.length+1,u=new Oe(t.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const y=g.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&y.largestBatchId>r&&s.set(y.getKey(),y)}return W.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let c=new wn((w,T)=>w-T);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=c.get(w.largestBatchId);null===T&&(T=Oo(),c=c.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const g=Oo(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>g.set(w,T)),!(g.size()>=s)););return W.resolve(g)}lt(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const u=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Uv(t,r));let c=this.lr.get(t);void 0===c&&(c=Dt(),this.lr.set(t,c)),this.lr.set(t,c.add(r.key))}}class eE{constructor(){this.hr=new gn(pr.Pr),this.Ir=new gn(pr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new pr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new pr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new Oe(new Qt([])),r=new pr(t,e),s=new pr(t,e+1),c=[];return this.Ir.forEachInRange([r,s],u=>{this.dr(u),c.push(u.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Oe(new Qt([])),r=new pr(t,e),s=new pr(t,e+1);let c=Dt();return this.Ir.forEachInRange([r,s],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new pr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Oe.comparator(e.key,t.key)||Et(e.gr,t.gr)}static Tr(e,t){return Et(e.gr,t.gr)||Oe.comparator(e.key,t.key)}}class UR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new gn(pr.Pr)}checkEmpty(e){return W.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const c=this.pr;this.pr++;const u=new Vv(c,t,r,s);this.mutationQueue.push(u);for(const g of s)this.yr=this.yr.add(new pr(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(u)}lookupMutationBatch(e,t){return W.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Sr(t+1),c=s<0?0:s;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pr(t,0),s=new pr(t,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([r,s],u=>{const g=this.wr(u.gr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(Et);return t.forEach(s=>{const c=new pr(s,0),u=new pr(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,u],g=>{r=r.add(g.gr)})}),W.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let c=r;Oe.isDocumentKey(c)||(c=c.child(""));const u=new pr(new Oe(c),0);let g=new gn(Et);return this.yr.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===s&&(g=g.add(y.gr)),!0)},u),W.resolve(this.br(g))}br(e){const t=[];return e.forEach(r=>{const s=this.wr(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){We(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return W.forEach(t.mutations,s=>{const c=new pr(s.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new pr(t,0),s=this.yr.firstAfterOrEqual(r);return W.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return W.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class BR{constructor(e){this.Cr=e,this.docs=new wn(Oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),c=s?s.size:0,u=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return W.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=Hi();return t.forEach(s=>{const c=this.docs.get(s);r=r.insert(s,c?c.document.mutableCopy():Tn.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let c=Hi();const u=t.path,g=new Oe(u.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:w,value:{document:T}}=y.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||dv(uv(T),r)<=0||(s.has(T.key)||hm(t,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,t,r,s){Be()}vr(e,t){return W.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Su(this)}getSize(e){return W.resolve(this.size)}}class Su extends Qv{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),W.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class XD{constructor(e){this.persistence=e,this.Fr=new ui(t=>_u(t),Sv),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new eE,this.targetCount=0,this.Nr=Gc.On()}forEachTarget(e,t){return this.Fr.forEach((r,s)=>t(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),W.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Gc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.kn(t),W.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,r){let s=0;const c=[];return this.Fr.forEach((u,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Fr.delete(u),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),W.waitFor(c).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return W.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),W.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const s=this.persistence.referenceDelegate,c=[];return s&&t.forEach(u=>{c.push(s.markPotentiallyOrphaned(e,u))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return W.resolve(r)}containsKey(e,t){return W.resolve(this.Or.containsKey(t))}}class tE{constructor(e,t){this.Br={},this.overlays={},this.Lr=new li(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new XD(this),this.indexManager=new jD,this.remoteDocumentCache=new BR(r=>this.referenceDelegate.Qr(r)),this.serializer=new MD(t),this.Kr=new JI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new UR(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new cO(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(c=>this.referenceDelegate.Ur(s).next(()=>c)).toPromise().then(c=>(s.raiseOnCommittedEvent(),c))}Wr(e,t){return W.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class cO extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class Bh{constructor(e){this.persistence=e,this.Gr=new eE,this.zr=null}static jr(e){return new Bh(e)}get Hr(){if(this.zr)return this.zr;throw Be()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),W.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),W.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(c=>this.Hr.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Hr,r=>{const s=Oe.fromPath(r);return this.Jr(e,s).next(c=>{c||t.removeEntry(s,Qe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return W.or([()=>W.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class jR{constructor(e){this.serializer=e}N(e,t,r,s){const c=new hv("createOrUpgrade",t);var y;r<1&&s>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BC,{unique:!0}),y.createObjectStore("documentMutations"),nE(e),function(y){y.createObjectStore("remoteDocuments")}(e));let u=W.resolve();return r<3&&s>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),nE(e)),u=u.next(()=>function(y){const w=y.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qe.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",T)}(c))),r<4&&s>=4&&(0!==r&&(u=u.next(()=>function(y,w){return w.store("mutations").W().next(T=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BC,{unique:!0});const S=w.store("mutations"),P=T.map(V=>S.put(V));return W.waitFor(P)})}(e,c))),u=u.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(u=u.next(()=>this.Zr(c))),r<6&&s>=6&&(u=u.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),r<7&&s>=7&&(u=u.next(()=>this.ei(c))),r<8&&s>=8&&(u=u.next(()=>this.ti(e,c))),r<9&&s>=9&&(u=u.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(u=u.next(()=>this.ni(c))),r<11&&s>=11&&(u=u.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(u=u.next(()=>{!function(y){const w=y.createObjectStore("documentOverlays",{keyPath:sm});w.createIndex("collectionPathOverlayIndex",iI,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",gv,{unique:!1})}(e)})),r<13&&s>=13&&(u=u.next(()=>function(y){const w=y.createObjectStore("remoteDocumentsV14",{keyPath:ph});w.createIndex("documentKeyIndex",hR),w.createIndex("collectionGroupIndex",nI)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(u=u.next(()=>this.ii(e,c))),r<15&&s>=15&&(u=u.next(()=>function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:$C}).createIndex("sequenceNumberIndex",om,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:GC}).createIndex("documentKeyIndex",mh,{unique:!1})}(e))),u}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,s)=>{t+=Zv(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(s=>W.forEach(s,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(g=>W.forEach(g,y=>{We(y.userId===c.userId);const w=Tu(this.serializer,y);return GD(e,c.userId,w).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const c=[];return r.Y((u,g)=>{const y=new Qt(u),w=[0,Br(y)];c.push(t.get(w).next(T=>T?W.resolve():t.put({targetId:0,path:Br(y),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>W.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:HC});const r=t.store("collectionParents"),s=new qv,c=u=>{if(s.add(u)){const g=u.lastSegment(),y=u.popLast();return r.put({collectionId:g,parent:Br(y)})}};return t.store("remoteDocuments").Y({J:!0},(u,g)=>{const y=new Qt(u);return c(y.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([u,g,y],w)=>{const T=Vs(g);return c(T.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,s)=>{const c=Cm(s),u=OD(this.serializer,c);return t.put(u)})}ri(e,t){const r=t.store("remoteDocuments"),s=[];return r.Y((c,u)=>{const g=t.store("remoteDocumentsV14"),y=(S=u,S.document?new Oe(Qt.fromString(S.document.name).popFirst(5)):S.noDocument?Oe.fromSegments(S.noDocument.path):S.unknownDocument?Oe.fromSegments(S.unknownDocument.path):Be()).path.toArray(),w={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};var S;s.push(g.put(w))}).next(()=>W.waitFor(s))}ii(e,t){const r=t.store("mutations"),s=YI(this.serializer),c=new tE(Bh.jr,this.serializer.ut);return r.W().next(u=>{const g=new Map;return u.forEach(y=>{var w;let T=null!==(w=g.get(y.userId))&&void 0!==w?w:Dt();Tu(this.serializer,y).keys().forEach(S=>T=T.add(S)),g.set(y.userId,T)}),W.forEach(g,(y,w)=>{const T=new yr(w),S=Dm.ct(this.serializer,T),P=c.getIndexManager(T),V=Wv.ct(T,this.serializer,P,c.referenceDelegate);return new XI(s,V,S,P).recalculateAndSaveOverlaysForDocumentKeys(new _v(t,li._e),y).next()})})}}function nE(n){n.createObjectStore("targetDocuments",{keyPath:rI}).createIndex("documentTargetsIndex",zC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fR,{unique:!0}),n.createObjectStore("targetGlobal")}const Jv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rE{constructor(e,t,r,s,c,u,g,y,w,T,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=c,this.window=u,this.document=g,this.oi=w,this._i=T,this.ai=S,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=P=>Promise.resolve(),!rE.D())throw new _e(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kv(this,s),this.Ii=t+"main",this.serializer=new MD(y),this.Ti=new Po(this.Ii,this.ai,new jR(this.serializer)),this.qr=new qD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YI(this.serializer),this.Kr=new ND,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===T&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(Q.FAILED_PRECONDITION,Jv);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new li(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,he.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,he.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,he.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ey(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Nc(e))return ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return zh(e).get("owner").next(t=>W.resolve(this.wi(t)))}Si(e){return ey(e).delete(this.clientId)}bi(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=jr(r,"clientMetadata");return s.W().next(c=>{const u=e.Ci(c,18e5),g=c.filter(y=>-1===u.indexOf(y));return W.forEach(g,y=>s.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?W.resolve(!0):zh(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new _e(Q.FAILED_PRECONDITION,Jv);return!1}}return!(!this.networkEnabled||!this.inForeground)||ey(e).W().next(r=>void 0===this.Ci(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ye("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,he.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new _v(t,li._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ey(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Wv.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FR(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Dm.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){ye("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",c=15===(y=this.ai)?aI:14===y?sI:13===y?oI:12===y?pR:11===y?qC:void Be();var y;let u;return this.Ti.runTransaction(e,s,c,g=>(u=new _v(g,this.Lr?this.Lr.next():li._e),"readwrite-primary"===t?this.fi(u).next(y=>!!y||this.gi(u)).next(y=>{if(!y)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new _e(Q.FAILED_PRECONDITION,fh);return r(u)}).next(y=>this.yi(u).next(()=>y)):this.Li(u).next(()=>r(u)))).then(g=>(u.raiseOnCommittedEvent(),g))}Li(e){return zh(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(Q.FAILED_PRECONDITION,Jv)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zh(e).put("owner",t)}static D(){return Po.D()}pi(e){const t=zh(e);return t.get("owner").next(r=>this.wi(r)?(ye("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):W.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(or(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,mn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ye("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zh(n){return jr(n,"owner")}function ey(n){return jr(n,"clientMetadata")}function iE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Hh{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=s}static Qi(e,t){let r=Dt(),s=Dt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:s=s.add(c.doc.key)}return new Hh(e,t.fromCache,r,s)}}class JD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ty{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,s){const c={result:null};return this.zi(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.ji(e,t,s,r).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new JD;return this.Hi(e,t,u).next(g=>{if(c.result=g,this.$i)return this.Ji(e,t,u,g.size)})}).next(()=>c.result)}Ji(e,t,r,s){return r.documentReadCount<this.Ui?(ai()<=qo.in.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ih(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),W.resolve()):(ai()<=qo.in.DEBUG&&ye("QueryEngine","Query:",Ih(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(ai()<=qo.in.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ih(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):W.resolve())}zi(e,t){if(rD(t))return W.resolve(null);let r=Ai(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Mv(t,null,"F"),r=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Dt(...c);return this.Gi.getDocuments(e,u).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.Yi(t,g);return this.Zi(t,w,u,y.readTime)?this.zi(e,Mv(t,null,"F")):this.Xi(e,w,t,y)}))})))}ji(e,t,r,s){return rD(t)||s.isEqual(Qe.min())?W.resolve(null):this.Gi.getDocuments(e,r).next(c=>{const u=this.Yi(t,c);return this.Zi(t,u,r,s)?W.resolve(null):(ai()<=qo.in.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ih(t)),this.Xi(e,u,t,hh(s,-1)).next(g=>g))})}Yi(e,t){let r=new gn(yI(e));return t.forEach((s,c)=>{hm(e,c)&&(r=r.add(c))}),r}Zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)}Hi(e,t,r){return ai()<=qo.in.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ih(t)),this.Gi.getDocumentsMatchingQuery(e,t,ci.min(),r)}Xi(e,t,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}class eA{constructor(e,t,r,s){this.persistence=e,this.es=t,this.serializer=s,this.ts=new wn(Et),this.ns=new ui(c=>_u(c),Sv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XI(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function oE(n,e,t,r){return new eA(n,e,t,r)}function sE(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,he.Z)(function*(n,e){const t=Pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(c=>(s=c,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],g=[];let y=Dt();for(const w of s){u.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of c){g.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({_s:w,removedBatchIds:u,addedBatchIds:g}))})})}),ny.apply(this,arguments)}function tA(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function nA(n,e,t){let r=Dt(),s=Dt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let u=Hi();return t.forEach((g,y)=>{const w=c.get(g);y.isFoundDocument()!==w.isFoundDocument()&&(s=s.add(g)),y.isNoDocument()&&y.version.isEqual(Qe.min())?(e.removeEntry(g,y.readTime),u=u.insert(g,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),u=u.insert(g,y)):ye("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",y.version)}),{us:u,cs:s}})}function rA(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pm(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.qr.getTargetData(r,e).next(c=>c?(s=c,W.resolve(s)):t.qr.allocateTargetId(r).next(u=>(s=new Fa(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ts.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function xu(n,e,t){return aE.apply(this,arguments)}function aE(){return aE=(0,he.Z)(function*(n,e,t){const r=Pe(n),s=r.ts.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Nc(u))throw u;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}),aE.apply(this,arguments)}function ry(n,e,t){const r=Pe(n);let s=Qe.min(),c=Dt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(y,w,T){const S=Pe(y),P=S.ns.get(T);return void 0!==P?W.resolve(S.ts.get(P)):S.qr.getTargetData(w,T)}(r,u,Ai(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(u,g.targetId).next(y=>{c=y})}).next(()=>r.es.getDocumentsMatchingQuery(u,e,t?s:Qe.min(),t?c:Dt())).next(g=>(Om(r,sD(e),g),{documents:g,ls:c})))}function $R(n,e){const t=Pe(n),r=Pe(t.qr),s=t.ts.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",c=>r._t(c,e).next(u=>u?u.target:null))}function iA(n,e){const t=Pe(n),r=t.rs.get(e)||Qe.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.ss.getAllFromCollectionGroup(s,e,hh(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Om(t,e,s),s))}function Om(n,e,t){let r=n.rs.get(e)||Qe.min();t.forEach((s,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.rs.set(e,r)}function oA(){return oA=(0,he.Z)(function*(n,e,t,r){const s=Pe(n);let c=Dt(),u=Hi();for(const w of t){const T=e.hs(w.metadata.name);w.document&&(c=c.add(T));const S=e.Ps(w);S.setReadTime(e.Is(w.metadata.readTime)),u=u.insert(T,S)}const g=s.ss.newChangeBuffer({trackRemovals:!0}),y=yield Pm(s,(T=r,Ai(yh(Qt.fromString(`__bundle__/docs/${T}`)))));var T;return s.persistence.runTransaction("Apply bundle documents","readwrite",w=>nA(w,g,u).next(T=>(g.apply(w),T)).next(T=>s.qr.removeMatchingKeysForTargetId(w,y.targetId).next(()=>s.qr.addMatchingKeys(w,c,y.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(w,T.us,T.cs)).next(()=>T.us)))}),oA.apply(this,arguments)}function GR(n,e){return cE.apply(this,arguments)}function cE(){return cE=(0,he.Z)(function*(n,e,t=Dt()){const r=yield Pm(n,Ai(NI(e.bundledQuery))),s=Pe(n);return s.persistence.runTransaction("Save named query","readwrite",c=>{const u=fr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Kr.saveNamedQuery(c,e);const g=r.withResumeToken(Ir.EMPTY_BYTE_STRING,u);return s.ts=s.ts.insert(g.targetId,g),s.qr.updateTargetData(c,g).next(()=>s.qr.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>s.qr.addMatchingKeys(c,t,r.targetId)).next(()=>s.Kr.saveNamedQuery(c,e))})}),cE.apply(this,arguments)}function sA(n,e){return`firestore_clients_${n}_${e}`}function aA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function iy(n,e){return`firestore_targets_${n}_${e}`}class km{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ts(e,t,r){const s=JSON.parse(r);let c,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(c=new _e(s.error.code,s.error.message))),u?new km(e,t,s.state,c):(or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let s,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new _e(r.error.code,r.error.message))),c?new Nm(e,r.state,s):(or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,c=fm();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=UC(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return s?new oy(e,c):(or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lE(t.clientId,t.onlineState):(or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uE{constructor(){this.activeTargetIds=fm()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dE{constructor(e,t,r,s,c){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new wn(Et),this.started=!1,this.ps=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=sA(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new uE),this.Ss=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const t=yield e.syncEngine.Bi();for(const s of t){if(s===e.Rs)continue;const c=e.getItem(sA(e.persistenceKey,s));if(c){const u=oy.Ts(s,c);u&&(e.gs=e.gs.insert(u.clientId,u))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const s=e.Ms(r);s&&e.xs(s)}for(const s of e.ps)e.fs(s);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(iy(this.persistenceKey,e));if(r){const s=Nm.Ts(e,r);s&&(t=s.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iy(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Bs(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ye("SharedClientState","READ",e,t),t}setItem(e,t){ye("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ye("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ye("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,he.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const s=t.Ks(r.key);return t.$s(s,null)}{const s=t.Us(r.key,r.newValue);if(s)return t.$s(s.clientId,s)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const s=t.Ws(r.key,r.newValue);if(s)return t.Gs(s)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const s=t.zs(r.key,r.newValue);if(s)return t.js(s)}}else if(r.key===t.Cs){if(null!==r.newValue){const s=t.Ms(r.newValue);if(s)return t.xs(s)}}else if(r.key===t.ws){const s=function(u){let g=li._e;if(null!=u)try{const y=JSON.parse(u);We("number"==typeof y),g=y}catch(y){or("SharedClientState","Failed to read sequence number from WebStorage",y)}return g}(r.newValue);s!==li._e&&t.sequenceNumberHandler(s)}else if(r.key===t.vs){const s=t.Hs(r.newValue);yield Promise.all(s.map(c=>t.syncEngine.Js(c)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const s=new km(this.currentUser,e,t,r),c=aA(this.persistenceKey,this.currentUser,e);this.setItem(c,s.Es())}Bs(e){const t=aA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const s=iy(this.persistenceKey,e),c=new Nm(e,t,r);this.setItem(s,c.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return oy.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),s=Number(r[1]);return km.Ts(new yr(void 0!==r[2]?r[2]:null),s,t)}zs(e,t){const r=this.Ds.exec(e),s=Number(r[1]);return Nm.Ts(s,t)}Ms(e){return lE.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,he.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);ye("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),s=this.Os(this.gs),c=this.Os(r),u=[],g=[];return c.forEach(y=>{s.has(y)||u.push(y)}),s.forEach(y=>{c.has(y)||g.push(y)}),this.syncEngine.Xs(u,g).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=fm();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class $h{constructor(){this.eo=new uE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new uE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cA{ro(e){}shutdown(){}}class hE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fm=null;function sy(){return null===Fm?Fm=268435456+Math.round(2147483648*Math.random()):Fm++,"0x"+Fm.toString(16)}const lA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qR{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const hi="WebChannelConnection";class uO extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${s}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${c}`}get yo(){return!1}wo(t,r,s,c,u){const g=sy(),y=this.So(t,r);ye("RestConnection",`Sending RPC '${t}' ${g}:`,y,s);const w={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(w,c,u),this.Do(t,y,w,s).then(T=>(ye("RestConnection",`Received RPC '${t}' ${g}: `,T),T),T=>{throw zi("RestConnection",`RPC '${t}' ${g} failed with error: `,T,"url: ",y,"request:",s),T})}Co(t,r,s,c,u,g){return this.wo(t,r,s,c,u)}bo(t,r,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ci,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,u)=>t[u]=c),s&&s.headers.forEach((c,u)=>t[u]=c)}So(t,r){return`${this.mo}/v1/${r}:${lA[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,s){const c=sy();return new Promise((u,g)=>{const y=new Y0;y.setWithCredentials(!0),y.listenOnce(tR.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case cv.NO_ERROR:const T=y.getResponseJson();ye(hi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),u(T);break;case cv.TIMEOUT:ye(hi,`RPC '${e}' ${c} timed out`),g(new _e(Q.DEADLINE_EXCEEDED,"Request time out"));break;case cv.HTTP_ERROR:const S=y.getStatus();if(ye(hi,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=P?.error;if(V&&V.status&&V.message){const X=function(ce){const Te=ce.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Te)>=0?Te:Q.UNKNOWN}(V.status);g(new _e(X,V.message))}else g(new _e(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new _e(Q.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{ye(hi,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(s);ye(hi,`RPC '${e}' ${c} sending request:`,s),y.send(t,"POST",w,r,15)})}vo(e,t,r){const s=sy(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Jx(),g=eR(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.useFetchStreams=!0),this.bo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const T=c.join("");ye(hi,`Creating RPC '${e}' stream ${s}: ${T}`,y);const S=u.createWebChannel(T,y);let P=!1,V=!1;const X=new qR({co:ce=>{V?ye(hi,`Not sending because RPC '${e}' stream ${s} is closed:`,ce):(P||(ye(hi,`Opening RPC '${e}' stream ${s} transport.`),S.open(),P=!0),ye(hi,`RPC '${e}' stream ${s} sending:`,ce),S.send(ce))},lo:()=>S.close()}),ne=(ce,Te,je)=>{ce.listen(Te,xe=>{try{je(xe)}catch(et){setTimeout(()=>{throw et},0)}})};return ne(S,lh.EventType.OPEN,()=>{V||ye(hi,`RPC '${e}' stream ${s} transport opened.`)}),ne(S,lh.EventType.CLOSE,()=>{V||(V=!0,ye(hi,`RPC '${e}' stream ${s} transport closed`),X.Ro())}),ne(S,lh.EventType.ERROR,ce=>{V||(V=!0,zi(hi,`RPC '${e}' stream ${s} transport errored:`,ce),X.Ro(new _e(Q.UNAVAILABLE,"The operation could not be completed")))}),ne(S,lh.EventType.MESSAGE,ce=>{var Te;if(!V){const je=ce.data[0];We(!!je);const et=je.error||(null===(Te=je[0])||void 0===Te?void 0:Te.error);if(et){ye(hi,`RPC '${e}' stream ${s} received error:`,et);const wt=et.status;let Xt=function(ML){const y1=ar[ML];if(void 0!==y1)return vD(y1)}(wt),wr=et.message;void 0===Xt&&(Xt=Q.INTERNAL,wr="Unknown error status: "+wt+" with message "+et.message),V=!0,X.Ro(new _e(Xt,wr)),S.close()}else ye(hi,`RPC '${e}' stream ${s} received:`,je),X.Vo(je)}}),ne(g,xC.STAT_EVENT,ce=>{ce.stat===nR.PROXY?ye(hi,`RPC '${e}' stream ${s} detected buffering proxy`):ce.stat===nR.NOPROXY&&ye(hi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{X.Ao()},0),X}}function ZR(){return typeof window<"u"?window:null}function ay(){return typeof document<"u"?document:null}function Lm(n){return new SR(n,!0)}class fE{constructor(e,t,r=1e3,s=1.5,c=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=s,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class uA{constructor(e,t,r,s,c,u,g,y){this.si=e,this.Ko=r,this.$o=s,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new fE(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,he.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,he.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,he.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===Q.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===t&&this.s_(r,s)},r=>{e(()=>{const s=new _e(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){var e=this;this.state=5,this.zo.ko((0,he.Z)(function*(){e.state=0,e.start()}))}o_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WR extends uA{constructor(e,t,r,s,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=c}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function RR(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Be(),s=e.targetChange.targetIds||[],c=function(w,T){return w.useProto3Json?(We(void 0===T||"string"==typeof T),Ir.fromBase64String(T||"")):(We(void 0===T||T instanceof Uint8Array),Ir.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&function(w){const T=void 0===w.code?Q.UNKNOWN:vD(w.code);return new _e(T,w.message||"")}(u);t=new ID(r,s,c,g||null)}else if("documentChange"in e){const r=e.documentChange,s=$s(n,r.document.name),c=fr(r.document.updateTime),u=r.document.createTime?fr(r.document.createTime):Qe.min(),g=new Qr({mapValue:{fields:r.document.fields}}),y=Tn.newFoundDocument(s,c,u,g);t=new Hc(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,s=$s(n,r.document),c=r.readTime?fr(r.readTime):Qe.min(),u=Tn.newNoDocument(s,c);t=new Hc([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,s=$s(n,r.document);t=new Hc([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Be();{const r=e.filter,{count:s=0,unchangedNames:c}=r,u=new gD(s,c);t=new Rh(r.targetId,u)}}var w;return t}(this.serializer,e),r=function(c){if(!("targetChange"in c))return Qe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Qe.min():u.readTime?fr(u.readTime):Qe.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=wm(this.serializer),t.addTarget=function(c,u){let g;const y=u.target;if(g=xv(y)?{documents:Oh(c,y)}:{query:RI(c,y)},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=xR(c,u.resumeToken);const w=SI(c,u.expectedCount);null!==w&&(g.expectedCount=w)}else if(u.snapshotVersion.compareTo(Qe.min())>0){g.readTime=bm(c,u.snapshotVersion.toTimestamp());const w=SI(c,u.expectedCount);null!==w&&(g.expectedCount=w)}return g}(this.serializer,e);const r=function PR(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=wm(this.serializer),t.removeTarget=e,this.e_(t)}}class Vm extends uA{constructor(e,t,r,s,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function MR(n,e){return n&&n.length>0?(We(void 0!==e),n.map(t=>function(s,c){let u=fr(s.updateTime?s.updateTime:c);return u.isEqual(Qe.min())&&(u=fr(c)),new iO(u,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.I_(r,t)}return We(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=wm(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ph(this.serializer,r))};this.e_(t)}}class YR extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new _e(Q.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.wo(e,t,r,s,c)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(Q.UNKNOWN,s.toString())})}Co(e,t,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Co(e,t,r,c,u,s)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(Q.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class KR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(or(t),this.f_=!1):ye("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class QR{constructor(e,t,r,s,c){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(g=>{r.enqueueAndForget((0,he.Z)(function*(){var y;Wc(u)&&(ye("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,he.Z)(function*(T){const S=Pe(T);S.C_.add(4),yield Zc(S),S.M_.set("Unknown"),S.C_.delete(4),yield Um(S)}),function w(T){return y.apply(this,arguments)})(u))}))}),this.M_=new KR(r,s)}}function Um(n){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,he.Z)(function*(n){if(Wc(n))for(const e of n.v_)yield e(!0)}),Gh.apply(this,arguments)}function Zc(n){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,he.Z)(function*(n){for(const e of n.v_)yield e(!1)}),Bm.apply(this,arguments)}function jm(n,e){const t=Pe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),gE(t)?mE(t):Yc(t).Ho()&&zm(t,e))}function Mu(n,e){const t=Pe(n),r=Yc(t);t.D_.delete(e),r.Ho()&&dA(t,e),0===t.D_.size&&(r.Ho()?r.Zo():Wc(t)&&t.M_.set("Unknown"))}function zm(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yc(n).u_(e)}function dA(n,e){n.x_.Oe(e),Yc(n).c_(e)}function mE(n){n.x_=new DR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Yc(n).start(),n.M_.g_()}function gE(n){return Wc(n)&&!Yc(n).jo()&&n.D_.size>0}function Wc(n){return 0===Pe(n).C_.size}function _E(n){n.x_=void 0}function vE(n){return cy.apply(this,arguments)}function cy(){return cy=(0,he.Z)(function*(n){n.D_.forEach((e,t)=>{zm(n,e)})}),cy.apply(this,arguments)}function hA(n,e){return ly.apply(this,arguments)}function ly(){return ly=(0,he.Z)(function*(n,e){_E(n),gE(n)?(n.M_.w_(e),mE(n)):n.M_.set("Unknown")}),ly.apply(this,arguments)}function fA(n,e,t){return yE.apply(this,arguments)}function yE(){return yE=(0,he.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof ID&&2===e.state&&e.cause)try{yield(r=(0,he.Z)(function*(c,u){const g=u.cause;for(const y of u.targetIds)c.D_.has(y)&&(yield c.remoteSyncer.rejectListen(y,g),c.D_.delete(y),c.x_.removeTarget(y))}),function s(c,u){return r.apply(this,arguments)})(n,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hm(n,r)}else if(e instanceof Hc?n.x_.$e(e):e instanceof Rh?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Qe.min()))try{const r=yield tA(n.localStore);t.compareTo(r)>=0&&(yield function(c,u){const g=c.x_.it(u);return g.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.D_.get(w);T&&c.D_.set(w,T.withResumeToken(y.resumeToken,u))}}),g.targetMismatches.forEach((y,w)=>{const T=c.D_.get(y);if(!T)return;c.D_.set(y,T.withResumeToken(Ir.EMPTY_BYTE_STRING,T.snapshotVersion)),dA(c,y);const S=new Fa(T.target,y,w,T.sequenceNumber);zm(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),yield Hm(n,r)}var r}),yE.apply(this,arguments)}function Hm(n,e,t){return uy.apply(this,arguments)}function uy(){return uy=(0,he.Z)(function*(n,e,t){if(!Nc(e))throw e;n.C_.add(1),yield Zc(n),n.M_.set("Offline"),t||(t=()=>tA(n.localStore)),n.asyncQueue.enqueueRetryable((0,he.Z)(function*(){ye("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Um(n)}))}),uy.apply(this,arguments)}function pA(n,e){return e().catch(t=>Hm(n,t,e))}function Pu(n){return bE.apply(this,arguments)}function bE(){return bE=(0,he.Z)(function*(n){const e=Pe(n),t=Ba(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;XR(e);)try{const s=yield rA(e.localStore,r);if(null===s){0===e.b_.length&&t.Zo();break}r=s.batchId,JR(e,s)}catch(s){yield Hm(e,s)}fi(e)&&Ou(e)}),bE.apply(this,arguments)}function XR(n){return Wc(n)&&n.b_.length<10}function JR(n,e){n.b_.push(e);const t=Ba(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function fi(n){return Wc(n)&&!Ba(n).jo()&&n.b_.length>0}function Ou(n){Ba(n).start()}function eM(n){return IE.apply(this,arguments)}function IE(){return IE=(0,he.Z)(function*(n){Ba(n).E_()}),IE.apply(this,arguments)}function dO(n){return mA.apply(this,arguments)}function mA(){return mA=(0,he.Z)(function*(n){const e=Ba(n);for(const t of n.b_)e.P_(t.mutations)}),mA.apply(this,arguments)}function $m(n,e,t){return EE.apply(this,arguments)}function EE(){return EE=(0,he.Z)(function*(n,e,t){const r=n.b_.shift(),s=CI.from(r,e,t);yield pA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Pu(n)}),EE.apply(this,arguments)}function wE(n,e){return TE.apply(this,arguments)}function TE(){return TE=(0,he.Z)(function*(n,e){var t;e&&Ba(n).h_&&(yield(t=(0,he.Z)(function*(s,c){if(_D(g=c.code)&&g!==Q.ABORTED){const u=s.b_.shift();Ba(s).Yo(),yield pA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,c)),yield Pu(s)}var g}),function r(s,c){return t.apply(this,arguments)})(n,e)),fi(n)&&Ou(n)}),TE.apply(this,arguments)}function CE(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,he.Z)(function*(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const r=Wc(t);t.C_.add(3),yield Zc(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Um(t)}),DE.apply(this,arguments)}function AE(n,e){return SE.apply(this,arguments)}function SE(){return SE=(0,he.Z)(function*(n,e){const t=Pe(n);e?(t.C_.delete(2),yield Um(t)):e||(t.C_.add(2),yield Zc(t),t.M_.set("Unknown"))}),SE.apply(this,arguments)}function Yc(n){return n.O_||(n.O_=function(t,r,s){const c=Pe(t);return c.A_(),new WR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{ho:vE.bind(null,n),Io:hA.bind(null,n),a_:fA.bind(null,n)}),n.v_.push(function(){var e=(0,he.Z)(function*(t){t?(n.O_.Yo(),gE(n)?mE(n):n.M_.set("Unknown")):(yield n.O_.stop(),_E(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Ba(n){return n.N_||(n.N_=function(t,r,s){const c=Pe(t);return c.A_(),new Vm(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,s)}(n.datastore,n.asyncQueue,{ho:eM.bind(null,n),Io:wE.bind(null,n),T_:dO.bind(null,n),I_:$m.bind(null,n)}),n.v_.push(function(){var e=(0,he.Z)(function*(t){t?(n.N_.Yo(),yield Pu(n)):(yield n.N_.stop(),n.b_.length>0&&(ye("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class xE{constructor(e,t,r,s,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=c,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,c){const u=Date.now()+r,g=new xE(e,t,u,s,c);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ja(n,e){if(or("AsyncQueue",`${e}: ${n}`),Nc(n))return new _e(Q.UNAVAILABLE,`${e}: ${n}`);throw n}class Kc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=Eh(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new Kc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,c=r.getNext().key;if(!s.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Kc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class tM{constructor(){this.B_=new wn(Oe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Be():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ku{constructor(e,t,r,s,c,u,g,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,s,c){const u=[];return t.forEach(g=>{u.push({type:0,doc:g})}),new ku(e,t,Kc.emptySet(t),u,r,s,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class nM{constructor(){this.k_=void 0,this.listeners=[]}}class gA{constructor(){this.queries=new ui(e=>oD(e),dm),this.onlineState="Unknown",this.q_=new Set}}function Qc(n,e){return RE.apply(this,arguments)}function RE(){return RE=(0,he.Z)(function*(n,e){const t=Pe(n),r=e.query;let s=!1,c=t.queries.get(r);if(c||(s=!0,c=new nM),s)try{c.k_=yield t.onListen(r)}catch(u){const g=ja(u,`Initialization of query '${Ih(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,c),c.listeners.push(e),e.Q_(t.onlineState),c.k_&&e.K_(c.k_)&&ME(t)}),RE.apply(this,arguments)}function dy(n,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,he.Z)(function*(n,e){const t=Pe(n),r=e.query;let s=!1;const c=t.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),s=0===c.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),Gm.apply(this,arguments)}function hO(n,e){const t=Pe(n);let r=!1;for(const s of e){const u=t.queries.get(s.query);if(u){for(const g of u.listeners)g.K_(s)&&(r=!0);u.k_=s}}r&&ME(t)}function rM(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const c of s.listeners)c.onError(t);r.queries.delete(e)}function ME(n){n.q_.forEach(e=>{e.next()})}class PE{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class _A{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class OE{constructor(e){this.serializer=e}hs(e){return $s(this.serializer,e)}Ps(e){return e.metadata.exists?AD(this.serializer,e.document,!1):Tn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return fr(e)}}class iM{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kE(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=Qt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new OE(this.serializer);for(const s of e)if(s.metadata.queries){const c=r.hs(s.metadata.name);for(const u of s.metadata.queries){const g=(t.get(u)||Dt()).add(c);t.set(u,g)}}return t}complete(){var e=this;return(0,he.Z)(function*(){const t=yield function lO(n,e,t,r){return oA.apply(this,arguments)}(e.localStore,new OE(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const s of e.queries)yield GR(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function kE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class NE{constructor(e){this.key=e}}class vA{constructor(e){this.key=e}}class yA{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Dt(),this.mutatedKeys=Dt(),this._a=yI(e),this.aa=new Kc(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new tM,s=t?t.aa:this.aa;let c=t?t.mutatedKeys:this.mutatedKeys,u=s,g=!1;const y="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,w="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,S)=>{const P=s.get(T),V=hm(this.query,S)?S:null,X=!!P&&this.mutatedKeys.has(P.key),ne=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ce=!1;P&&V?P.data.isEqual(V.data)?X!==ne&&(r.track({type:3,doc:V}),ce=!0):this.ha(P,V)||(r.track({type:2,doc:V}),ce=!0,(y&&this._a(V,y)>0||w&&this._a(V,w)<0)&&(g=!0)):!P&&V?(r.track({type:0,doc:V}),ce=!0):P&&!V&&(r.track({type:1,doc:P}),ce=!0,(y||w)&&(g=!0)),ce&&(V?(u=u.add(V),c=ne?c.add(T):c.delete(T)):(u=u.delete(T),c=c.delete(T)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const T="F"===this.query.limitType?u.last():u.first();u=u.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{aa:u,la:r,Zi:g,mutatedKeys:c}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const c=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const u=e.la.L_();u.sort((T,S)=>function(V,X){const ne=ce=>{switch(ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return ne(V)-ne(X)}(T.type,S.type)||this._a(T.doc,S.doc)),this.Pa(r),s=null!=s&&s;const g=t&&!s?this.Ia():[],y=0===this.oa.size&&this.current&&!s?1:0,w=y!==this.sa;return this.sa=y,0!==u.length||w?{snapshot:new ku(this.query,e.aa,c,u,e.mutatedKeys,0===y,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:g}:{Ta:g}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new tM,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Dt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new vA(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new NE(r))}),t}da(e){this.ia=e.ls,this.oa=Dt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return ku.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class bA{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oM{constructor(e){this.key=e,this.Ra=!1}}class IA{constructor(e,t,r,s,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Va={},this.ma=new ui(g=>oD(g),dm),this.fa=new Map,this.ga=new Set,this.pa=new wn(Oe.comparator),this.ya=new Map,this.wa=new eE,this.Sa={},this.ba=new Map,this.Da=Gc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function EA(n,e){return hy.apply(this,arguments)}function hy(){return hy=(0,he.Z)(function*(n,e){const t=WE(n);let r,s;const c=t.ma.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),s=c.view.Aa();else{const u=yield Pm(t.localStore,Ai(e)),g=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,s=yield fy(t,e,r,"current"===g,u.resumeToken),t.isPrimaryClient&&jm(t.remoteStore,u)}return s}),hy.apply(this,arguments)}function fy(n,e,t,r,s){return FE.apply(this,arguments)}function FE(){return FE=(0,he.Z)(function*(n,e,t,r,s){n.va=(S,P,V)=>{return(X=(0,he.Z)(function*(ce,Te,je,xe){let et=Te.view.ca(je);et.Zi&&(et=yield ry(ce.localStore,Te.query,!1).then(({documents:Ks})=>Te.view.ca(Ks,et)));const wt=xe&&xe.targetChanges.get(Te.targetId),Xt=xe&&null!=xe.targetMismatches.get(Te.targetId),wr=Te.view.applyChanges(et,ce.isPrimaryClient,wt,Xt);return Zh(ce,Te.targetId,wr.Ta),wr.snapshot}),function ne(ce,Te,je,xe){return X.apply(this,arguments)})(n,S,P,V);var X};const c=yield ry(n.localStore,e,!0),u=new yA(e,c.ls),g=u.ca(c.documents),y=ym.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),w=u.applyChanges(g,n.isPrimaryClient,y);Zh(n,t,w.Ta);const T=new bA(e,t,u);return n.ma.set(e,T),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),w.snapshot}),FE.apply(this,arguments)}function sM(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,he.Z)(function*(n,e){const t=Pe(n),r=t.ma.get(e),s=t.fa.get(r.targetId);if(s.length>1)return t.fa.set(r.targetId,s.filter(c=>!dm(c,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Mu(t.remoteStore,r.targetId),qh(t,r.targetId)}).catch(kc))):(qh(t,r.targetId),yield xu(t.localStore,r.targetId,!0))}),wA.apply(this,arguments)}function CA(){return CA=(0,he.Z)(function*(n,e,t){const r=gy(n);try{const s=yield function(u,g){const y=Pe(u),w=Zn.now(),T=g.reduce((V,X)=>V.add(X.key),Dt());let S,P;return y.persistence.runTransaction("Locally write mutations","readwrite",V=>{let X=Hi(),ne=Dt();return y.ss.getEntries(V,T).next(ce=>{X=ce,X.forEach((Te,je)=>{je.isValidDocument()||(ne=ne.add(Te))})}).next(()=>y.localDocuments.getOverlayedDocuments(V,X)).next(ce=>{S=ce;const Te=[];for(const je of g){const xe=TR(je,S.get(je.key).overlayedDocument);null!=xe&&Te.push(new $i(je.key,xe,YC(xe.value.mapValue),Mn.exists(!0)))}return y.mutationQueue.addMutationBatch(V,w,Te,g)}).next(ce=>{P=ce;const Te=ce.applyToLocalDocumentSet(S,ne);return y.documentOverlayCache.saveOverlays(V,ce.batchId,Te)})}).then(()=>({batchId:P.batchId,changes:wh(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,g,y){let w=u.Sa[u.currentUser.toKey()];w||(w=new wn(Et)),w=w.insert(g,y),u.Sa[u.currentUser.toKey()]=w}(r,s.batchId,t),yield ko(r,s.changes),yield Pu(r.remoteStore)}catch(s){const c=ja(s,"Failed to persist write");t.reject(c)}}),CA.apply(this,arguments)}function aM(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,he.Z)(function*(n,e){const t=Pe(n);try{const r=yield function HR(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.ss.newChangeBuffer({trackRemovals:!0});s=t.ts;const g=[];e.targetChanges.forEach((T,S)=>{const P=s.get(S);if(!P)return;g.push(t.qr.removeMatchingKeys(c,T.removedDocuments,S).next(()=>t.qr.addMatchingKeys(c,T.addedDocuments,S)));let V=P.withSequenceNumber(c.currentSequenceNumber);var ne,ce,Te;null!==e.targetMismatches.get(S)?V=V.withResumeToken(Ir.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),s=s.insert(S,V),ce=V,Te=T,(0===(ne=P).resumeToken.approximateByteSize()||ce.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&g.push(t.qr.updateTargetData(c,V))});let y=Hi(),w=Dt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(nA(c,u,e.documentUpdates).next(T=>{y=T.us,w=T.cs})),!r.isEqual(Qe.min())){const T=t.qr.getLastRemoteSnapshotVersion(c).next(S=>t.qr.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(T)}return W.waitFor(g).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,w)).next(()=>y)}).then(c=>(t.ts=s,c))}(t.localStore,e);e.targetChanges.forEach((s,c)=>{const u=t.ya.get(c);u&&(We(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ra=!0:s.modifiedDocuments.size>0?We(u.Ra):s.removedDocuments.size>0&&(We(u.Ra),u.Ra=!1))}),yield ko(t,r,e)}catch(r){yield kc(r)}}),DA.apply(this,arguments)}function cM(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ma.forEach((c,u)=>{const g=u.view.Q_(e);g.snapshot&&s.push(g.snapshot)}),function(u,g){const y=Pe(u);y.onlineState=g;let w=!1;y.queries.forEach((T,S)=>{for(const P of S.listeners)P.Q_(g)&&(w=!0)}),w&&ME(y)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fO(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,he.Z)(function*(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ya.get(e),c=s&&s.key;if(c){let u=new wn(Oe.comparator);u=u.insert(c,Tn.newNoDocument(c,Qe.min()));const g=Dt().add(c),y=new xh(Qe.min(),new Map,new wn(Et),u,g);yield aM(r,y),r.pa=r.pa.remove(c),r.ya.delete(e),Nu(r)}else yield xu(r.localStore,e,!1).then(()=>qh(r,e,t)).catch(kc)}),AA.apply(this,arguments)}function pO(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,he.Z)(function*(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=yield function zR(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),c=t.ss.newChangeBuffer({trackRemovals:!0});return function(g,y,w,T){const S=w.batch,P=S.keys();let V=W.resolve();return P.forEach(X=>{V=V.next(()=>T.getEntry(y,X)).next(ne=>{const ce=w.docVersions.get(X);We(null!==ce),ne.version.compareTo(ce)<0&&(S.applyToRemoteDocument(ne,w),ne.isValidDocument()&&(ne.setReadTime(w.commitVersion),T.addEntry(ne)))})}),V.next(()=>g.mutationQueue.removeMutationBatch(y,S))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let y=Dt();for(let w=0;w<g.mutationResults.length;++w)g.mutationResults[w].transformResults.length>0&&(y=y.add(g.batch.mutations[w].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);UE(t,r,null),VE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ko(t,s)}catch(s){yield kc(s)}}),SA.apply(this,arguments)}function xA(n,e,t){return LE.apply(this,arguments)}function LE(){return LE=(0,he.Z)(function*(n,e,t){const r=Pe(n);try{const s=yield function(u,g){const y=Pe(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return y.mutationQueue.lookupMutationBatch(w,g).next(S=>(We(null!==S),T=S.keys(),y.mutationQueue.removeMutationBatch(w,S))).next(()=>y.mutationQueue.performConsistencyCheck(w)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(w,T,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>y.localDocuments.getDocuments(w,T))})}(r.localStore,e);UE(r,e,t),VE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ko(r,s)}catch(s){yield kc(s)}}),LE.apply(this,arguments)}function py(){return py=(0,he.Z)(function*(n,e){const t=Pe(n);Wc(t.remoteStore)||ye("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const g=Pe(u);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>g.mutationQueue.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const s=t.ba.get(r)||[];s.push(e),t.ba.set(r,s)}catch(r){const s=ja(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),py.apply(this,arguments)}function VE(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function UE(n,e,t){const r=Pe(n);let s=r.Sa[r.currentUser.toKey()];if(s){const c=s.get(e);c&&(t?c.reject(t):c.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function qh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||lM(n,r)})}function lM(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Mu(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),Nu(n))}function Zh(n,e,t){for(const r of t)r instanceof NE?(n.wa.addReference(r.key,e),uM(n,r)):r instanceof vA?(ye("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||lM(n,r.key)):Be()}function uM(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(ye("SyncEngine","New document in limbo: "+t),n.ga.add(r),Nu(n))}function Nu(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new Oe(Qt.fromString(e)),r=n.Da.next();n.ya.set(r,new oM(t)),n.pa=n.pa.insert(t,r),jm(n.remoteStore,new Fa(Ai(yh(t.path)),r,"TargetPurposeLimboResolution",li._e))}}function ko(n,e,t){return BE.apply(this,arguments)}function BE(){return BE=(0,he.Z)(function*(n,e,t){const r=Pe(n),s=[],c=[],u=[];var g;r.ma.isEmpty()||(r.ma.forEach((g,y)=>{u.push(r.va(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){s.push(w);const T=Hh.Qi(y.targetId,w);c.push(T)}}))}),yield Promise.all(u),r.Va.a_(s),yield(g=(0,he.Z)(function*(w,T){const S=Pe(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>W.forEach(T,V=>W.forEach(V.ki,X=>S.persistence.referenceDelegate.addReference(P,V.targetId,X)).next(()=>W.forEach(V.qi,X=>S.persistence.referenceDelegate.removeReference(P,V.targetId,X)))))}catch(P){if(!Nc(P))throw P;ye("LocalStore","Failed to update sequence numbers: "+P)}for(const P of T){const V=P.targetId;if(!P.fromCache){const X=S.ts.get(V),ce=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);S.ts=S.ts.insert(V,ce)}}}),function y(w,T){return g.apply(this,arguments)})(r.localStore,c))}),BE.apply(this,arguments)}function dM(n,e){return jE.apply(this,arguments)}function jE(){return jE=(0,he.Z)(function*(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const r=yield sE(t.localStore,e);t.currentUser=e,(c=t).ba.forEach(g=>{g.forEach(y=>{y.reject(new _e(Q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ko(t,r._s)}var c}),jE.apply(this,arguments)}function hM(n,e){const t=Pe(n),r=t.ya.get(e);if(r&&r.Ra)return Dt().add(r.key);{let s=Dt();const c=t.fa.get(e);if(!c)return s;for(const u of c){const g=t.ma.get(u);s=s.unionWith(g.view.ua)}return s}}function fM(n,e){return zE.apply(this,arguments)}function zE(){return zE=(0,he.Z)(function*(n,e){const t=Pe(n),r=yield ry(t.localStore,e.query,!0),s=e.view.da(r);return t.isPrimaryClient&&Zh(t,e.targetId,s.Ta),s}),zE.apply(this,arguments)}function pM(n,e){return my.apply(this,arguments)}function my(){return my=(0,he.Z)(function*(n,e){const t=Pe(n);return iA(t.localStore,e).then(r=>ko(t,r))}),my.apply(this,arguments)}function mM(n,e,t,r){return HE.apply(this,arguments)}function HE(){return HE=(0,he.Z)(function*(n,e,t,r){const s=Pe(n),c=yield function(g,y){const w=Pe(g),T=Pe(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>T.Cn(S,y).next(P=>P?w.localDocuments.getDocuments(S,P):W.resolve(null)))}(s.localStore,e);var y;null!==c?("pending"===t?yield Pu(s.remoteStore):"acknowledged"===t||"rejected"===t?(UE(s,e,r||null),VE(s,e),y=e,Pe(Pe(s.localStore).mutationQueue).Fn(y)):Be(),yield ko(s,c)):ye("SyncEngine","Cannot apply mutation batch with id: "+e)}),HE.apply(this,arguments)}function $E(){return $E=(0,he.Z)(function*(n,e){const t=Pe(n);if(WE(t),gy(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield RA(t,r.toArray());t.Ca=!0,yield AE(t.remoteStore,!0);for(const c of s)jm(t.remoteStore,c)}else if(!1===e&&!1!==t.Ca){const r=[];let s=Promise.resolve();t.fa.forEach((c,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then(()=>(qh(t,u),xu(t.localStore,u,!0))),Mu(t.remoteStore,u)}),yield s,yield RA(t,r),function(u){const g=Pe(u);g.ya.forEach((y,w)=>{Mu(g.remoteStore,w)}),g.wa.Vr(),g.ya=new Map,g.pa=new wn(Oe.comparator)}(t),t.Ca=!1,yield AE(t.remoteStore,!1)}}),$E.apply(this,arguments)}function RA(n,e,t){return GE.apply(this,arguments)}function GE(){return GE=(0,he.Z)(function*(n,e,t){const r=Pe(n),s=[],c=[];for(const u of e){let g;const y=r.fa.get(u);if(y&&0!==y.length){g=yield Pm(r.localStore,Ai(y[0]));for(const w of y){const T=r.ma.get(w),S=yield fM(r,T);S.snapshot&&c.push(S.snapshot)}}else{const w=yield $R(r.localStore,u);g=yield Pm(r.localStore,w),yield fy(r,MA(w),u,!1,g.resumeToken)}s.push(g)}return r.Va.a_(c),s}),GE.apply(this,arguments)}function MA(n){return nD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _M(n){return t=Pe(n).localStore,Pe(Pe(t).persistence).Bi();var t}function vM(n,e,t,r){return qE.apply(this,arguments)}function qE(){return qE=(0,he.Z)(function*(n,e,t,r){const s=Pe(n);if(s.Ca)return void ye("SyncEngine","Ignoring unexpected query state notification.");const c=s.fa.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const u=yield iA(s.localStore,sD(c[0])),g=xh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ir.EMPTY_BYTE_STRING);yield ko(s,u,g);break}case"rejected":yield xu(s.localStore,e,!0),qh(s,e,r);break;default:Be()}}),qE.apply(this,arguments)}function yM(n,e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,he.Z)(function*(n,e,t){const r=WE(n);if(r.Ca){for(const s of e){if(r.fa.has(s)){ye("SyncEngine","Adding an already active target "+s);continue}const c=yield $R(r.localStore,s),u=yield Pm(r.localStore,c);yield fy(r,MA(c),u.targetId,!1,u.resumeToken),jm(r.remoteStore,u)}for(const s of t)r.fa.has(s)&&(yield xu(r.localStore,s,!1).then(()=>{Mu(r.remoteStore,s),qh(r,s)}).catch(kc))}}),ZE.apply(this,arguments)}function WE(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fO.bind(null,e),e.Va.a_=hO.bind(null,e.eventManager),e.Va.Fa=rM.bind(null,e.eventManager),e}function gy(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xA.bind(null,e),e}class qm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,he.Z)(function*(){t.serializer=Lm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return oE(this.persistence,new ty,e.initialUser,this.serializer)}createPersistence(e){return new tE(Bh.jr,this.serializer)}createSharedClientState(e){return new $h}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _y extends qm{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield gy(r.xa.syncEngine),yield Pu(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return oE(this.persistence,new ty,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new WD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new pv(t,this.persistence);return new nm(e.asyncQueue,r)}createPersistence(e){const t=iE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new rE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ZR(),ay(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $h}}class PA extends _y{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e);const s=r.xa.syncEngine;r.sharedClientState instanceof dE&&(r.sharedClientState.syncEngine={Ys:mM.bind(null,s),Zs:vM.bind(null,s),Xs:yM.bind(null,s),Bi:_M.bind(null,s),Js:pM.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var c=(0,he.Z)(function*(u){yield function gM(n,e){return $E.apply(this,arguments)}(r.xa.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ZR();if(!dE.D(t))throw new _e(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=iE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Fu{initialize(e,t){var r=this;return(0,he.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>cM(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=dM.bind(null,r.syncEngine),yield AE(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gA}createDatastore(e){const t=Lm(e.databaseInfo.databaseId),r=new uO(e.databaseInfo);return new YR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,s=this.datastore,c=e.asyncQueue,u=t=>cM(this.syncEngine,t,0),g=hE.D()?new hE:new cA,new QR(r,s,c,u,g);var r,s,c,u,g}createSyncEngine(e,t){return function(s,c,u,g,y,w,T){const S=new IA(s,c,u,g,y,w);return T&&(S.Ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,he.Z)(function*(r){const s=Pe(r);ye("RemoteStore","RemoteStore shutting down."),s.C_.add(5),yield Zc(s),s.F_.shutdown(),s.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function IM(n,e=10240){let t=0;return{read:()=>(0,he.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class OA{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new br,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,he.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),s=Number(r);isNaN(s)&&e.Qa(`length string (${r}) is not valid number`);const c=yield e.Ka(s);return new _A(JSON.parse(c),t.length+s)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,he.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,he.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,he.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class kA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,he.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _e(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,he.Z)(function*(u,g){const y=Pe(u),w=wm(y.serializer)+"/documents",T={documents:g.map(X=>Em(y.serializer,X))},S=yield y.Co("BatchGetDocuments",w,T,g.length),P=new Map;S.forEach(X=>{const ne=function aO(n,e){return"found"in e?function(r,s){We(!!s.found);const c=$s(r,s.found.name),u=fr(s.found.updateTime),g=s.found.createTime?fr(s.found.createTime):Qe.min(),y=new Qr({mapValue:{fields:s.found.fields}});return Tn.newFoundDocument(c,u,g,y)}(n,e):"missing"in e?function(r,s){We(!!s.missing),We(!!s.readTime);const c=$s(r,s.missing),u=fr(s.readTime);return Tn.newNoDocument(c,u)}(n,e):Be()}(y.serializer,X);P.set(ne.key.toString(),ne)});const V=[];return g.forEach(X=>{const ne=P.get(X.toString());We(!!ne),V.push(ne)}),V}),function c(u,g){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Er(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const c=Oe.fromPath(s);e.mutations.push(new Lv(c,e.precondition(c)))}),yield(r=(0,he.Z)(function*(c,u){const g=Pe(c),y=wm(g.serializer)+"/documents",w={writes:u.map(T=>Ph(g.serializer,T))};yield g.wo("Commit",y,w)}),function s(c,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Be();t=Qe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qe.min())?Mn.exists(!1):Mn.updateTime(t):Mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qe.min()))throw new _e(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(t)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EM{constructor(e,t,r,s,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=c,this.Wa=r.maxAttempts,this.zo=new fE(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,he.Z)(function*(){const t=new kA(e.datastore),r=e.za(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(c=>{e.ja(c)}))}).catch(s=>{e.ja(s)})}))}za(e){try{const t=this.updateFunction(e);return!mv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_D(t)}return!1}}class NA{constructor(e,t,r,s){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=yr.UNAUTHENTICATED,this.clientId=FC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,he.Z)(function*(g){ye("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(ye("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=ja(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function yy(n,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,he.Z)(function*(c){r.isEqual(c)||(yield sE(e.localStore,c),r=c)});return function(c){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Zm.apply(this,arguments)}function by(n,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KE(n);ye("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>CE(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,c)=>CE(e.remoteStore,c)),n._onlineComponents=e}),Wm.apply(this,arguments)}function Iy(n){return"FirebaseError"===n.name?n.code===Q.FAILED_PRECONDITION||n.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function KE(n){return FA.apply(this,arguments)}function FA(){return FA=(0,he.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Iy(t))throw t;zi("Error using user provided cache. Falling back to memory cache: "+t),yield yy(n,new qm)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),yield yy(n,new qm);return n._offlineComponents}),FA.apply(this,arguments)}function Ym(n){return QE.apply(this,arguments)}function QE(){return QE=(0,he.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield by(n,n._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),yield by(n,new Fu))),n._onlineComponents}),QE.apply(this,arguments)}function wM(n){return KE(n).then(e=>e.persistence)}function Lu(n){return KE(n).then(e=>e.localStore)}function XE(n){return Ym(n).then(e=>e.remoteStore)}function za(n){return Ym(n).then(e=>e.syncEngine)}function Vu(n){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,he.Z)(function*(n){const e=yield Ym(n),t=e.eventManager;return t.onListen=EA.bind(null,e.syncEngine),t.onUnlisten=sM.bind(null,e.syncEngine),t}),Wh.apply(this,arguments)}function JE(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,u,g,y,w){const T=new vy({next:P=>{u.enqueueAndForget(()=>dy(c,S));const V=P.docs.has(g);!V&&P.fromCache?w.reject(new _e(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&P.fromCache&&y&&"server"===y.source?w.reject(new _e(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new PE(yh(g.path),T,{includeMetadataChanges:!0,J_:!0});return Qc(c,S)}(yield Vu(n),n.asyncQueue,e,t,r)})),r.promise}function LA(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,u,g,y,w){const T=new vy({next:P=>{u.enqueueAndForget(()=>dy(c,S)),P.fromCache&&"server"===y.source?w.reject(new _e(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new PE(g,T,{includeMetadataChanges:!0,J_:!0});return Qc(c,S)}(yield Vu(n),n.asyncQueue,e,t,r)})),r.promise}function RM(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UA=new Map;function Qm(n,e,t){if(!t)throw new _e(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ew(n,e,t,r){if(!0===e&&!0===r)throw new _e(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ha(n){if(!Oe.isDocumentKey(n))throw new _e(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tw(n){if(Oe.isDocumentKey(n))throw new _e(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Be()}function jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wy(n);throw new _e(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nw(n,e){if(e<=0)throw new _e(Q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class BA{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ew("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=RM(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new _e(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _e(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _e(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BA(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new OC;switch(r.type){case"firstParty":return new iR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=UA.get(t);r&&(ye("ComponentProvider","Removing Datastore"),UA.delete(t),r.terminate())}(this),Promise.resolve()}}class Xr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class Pn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class qs extends Xr{constructor(e,t,r){super(e,t,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Oe(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function PM(n,e,...t){if(n=(0,mn.m9)(n),Qm("collection","path",e),n instanceof Uu){const r=Qt.fromString(e,...t);return tw(r),new qs(n,null,r)}{if(!(n instanceof Pn||n instanceof qs))throw new _e(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return tw(r),new qs(n.firestore,null,r)}}function rw(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=FC.newId()),Qm("doc","path",e),n instanceof Uu){const r=Qt.fromString(e,...t);return Ha(r),new Pn(n,null,new Oe(r))}{if(!(n instanceof Pn||n instanceof qs))throw new _e(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return Ha(r),new Pn(n.firestore,n instanceof qs?n.converter:null,new Oe(r))}}function iw(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof Pn||n instanceof qs)&&(e instanceof Pn||e instanceof qs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jA(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof Xr&&e instanceof Xr&&n.firestore===e.firestore&&dm(n._query,e._query)&&n.converter===e.converter}class yO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new fE(this,"async_queue_retry"),this.iu=()=>{const t=ay();t&&ye("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=ay();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=ay();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new br;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,he.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Nc(t))throw t;ye("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,or("INTERNAL UNHANDLED ERROR: ",function(u){let g=u.message||"";return u.stack&&(g=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),g}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const s=xE.createAndSchedule(this,e,t,r,c=>this.au(c));return this.Xa.push(s),s}su(){this.eu&&Be()}verifyOperationInProgress(){}uu(){var e=this;return(0,he.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function zA(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const s=t;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(n)}class bO{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class On extends Uu{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new yO,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sw(this),this._firestoreClient.terminate()}}function Xn(n){return n._firestoreClient||sw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sw(n){var e,t,r;const s=n._freezeSettings(),c=(y=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _R(n._databaseId,y,n._persistenceKey,(T=s).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,RM(T.experimentalLongPollingOptions),T.useFetchStreams));var y,T;n._firestoreClient=new NA(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function Ty(n,e,t){const r=new br;return n.asyncQueue.enqueue((0,he.Z)(function*(){try{yield yy(n,t),yield by(n,e),r.resolve()}catch(s){const c=s;if(!Iy(c))throw c;zi("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function kM(n){if(n._initialized||n._terminated)throw new _e(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(Ir.fromBase64String(e))}catch(t){throw new _e(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $a(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cn{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zs{constructor(e){this._methodName=e}}class ju{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}const $A=/^__.*__$/;class CO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $i(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ah(e,this.data,t,this.fieldTransforms)}}class GA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $i(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class dw{constructor(e,t,r,s,c,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new dw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return My(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(FM(this.Iu)&&$A.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class hw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lm(e)}pu(e,t,r,s=!1){return new dw({Iu:e,methodName:t,gu:r,path:Un.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(n){const e=n._freezeSettings(),t=Lm(n._databaseId);return new hw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jm(n,e,t,r,s,c={}){const u=n.pu(c.merge||c.mergeFields?2:0,e,t,s);ZA("Data must be an object, but it was:",u,r);const g=Hu(r,u);let y,w;if(c.merge)y=new Di(u.fieldMask),w=u.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const P=xy(e,S,t);if(!u.contains(P))throw new _e(Q.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);UM(T,P)||T.push(P)}y=new Di(T),w=u.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,w=u.fieldTransforms;return new CO(new Qr(g),y,w)}class Yh extends Zs{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function Dy(n,e,t){return new dw({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ay extends Zs{_toFieldTransform(e){return new pm(e.path,new yu)}isEqual(e){return e instanceof Ay}}class LM extends Zs{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Dy(this,e,!0),r=this.yu.map(c=>Jo(c,t)),s=new bu(r);return new pm(e.path,s)}isEqual(e){return this===e}}class VM extends Zs{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Dy(this,e,!0),r=this.yu.map(c=>Jo(c,t)),s=new Bc(r);return new pm(e.path,s)}isEqual(e){return this===e}}class qA extends Zs{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Iu(e.serializer,uD(e.serializer,this.wu));return new pm(e.path,t)}isEqual(e){return this===e}}function fw(n,e,t,r){const s=n.pu(1,e,t);ZA("Data must be an object, but it was:",s,r);const c=[],u=Qr.empty();Us(r,(y,w)=>{const T=Ry(e,y,t);w=(0,mn.m9)(w);const S=s.Ru(T);if(w instanceof Yh)c.push(T);else{const P=Jo(w,S);null!=P&&(c.push(T),u.set(T,P))}});const g=new Di(c);return new GA(u,g,s.fieldTransforms)}function Sy(n,e,t,r,s,c){const u=n.pu(1,e,t),g=[xy(e,r,t)],y=[s];if(c.length%2!=0)throw new _e(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<c.length;P+=2)g.push(xy(e,c[P])),y.push(c[P+1]);const w=[],T=Qr.empty();for(let P=g.length-1;P>=0;--P)if(!UM(w,g[P])){const V=g[P];let X=y[P];X=(0,mn.m9)(X);const ne=u.Ru(V);if(X instanceof Yh)w.push(V);else{const ce=Jo(X,ne);null!=ce&&(w.push(V),T.set(V,ce))}}const S=new Di(w);return new GA(T,S,u.fieldTransforms)}function eg(n,e,t,r=!1){return Jo(t,n.pu(r?4:3,e))}function Jo(n,e){if(pw(n=(0,mn.m9)(n)))return ZA("Unsupported field value:",e,n),Hu(n,e);if(n instanceof Zs)return function(r,s){if(!FM(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,s){const c=[];let u=0;for(const g of r){let y=Jo(g,s.Vu(u));null==y&&(y={nullValue:"NULL_VALUE"}),c.push(y),u++}return{arrayValue:{values:c}}}(n,e)}return function(r,s){if(null===(r=(0,mn.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return uD(s.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=Zn.fromDate(r);return{timestampValue:bm(s.serializer,c)}}if(r instanceof Zn){const c=new Zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bm(s.serializer,c)}}if(r instanceof ju)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $a)return{bytesValue:xR(s.serializer,r._byteString)};if(r instanceof Pn){const c=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(c))throw s.mu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jv(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${wy(r)}`)}(n,e)}function Hu(n,e){const t={};return lI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(n,(r,s)=>{const c=Jo(s,e.Eu(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function pw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof ju||n instanceof $a||n instanceof Pn||n instanceof Zs)}function ZA(n,e,t){if(!pw(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const r=wy(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var s}function xy(n,e,t){if((e=(0,mn.m9)(e))instanceof Cn)return e._internalPath;if("string"==typeof e)return Ry(n,e);throw My("Field path arguments must be of type string or ",n,!1,void 0,t)}const DO=new RegExp("[~\\*/\\[\\]]");function Ry(n,e,t){if(e.search(DO)>=0)throw My(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cn(...e.split("."))._internalPath}catch{throw My(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function My(n,e,t,r,s){const c=r&&!r.isEmpty(),u=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${r}`),u&&(y+=` in document ${s}`),y+=")"),new _e(Q.INVALID_ARGUMENT,g+n+y)}function UM(n,e){return n.some(t=>t.isEqual(e))}class Kh{constructor(e,t,r,s,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mw extends Kh{data(){return super.data()}}function gw(n,e){return"string"==typeof e?Ry(n,e):e instanceof Cn?e._internalPath:e._delegate._internalPath}function Py(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WA{}class Oy extends WA{}function $u(n,e,...t){let r=[];e instanceof WA&&r.push(e),r=r.concat(t),function(c){const u=c.filter(y=>y instanceof ng).length,g=c.filter(y=>y instanceof tg).length;if(u>1||u>0&&g>0)throw new _e(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class tg extends Oy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new tg(e,t,r)}_apply(e){const t=this._parse(e);return XA(e._query,t),new Xr(e.firestore,e.converter,vI(e._query,t))}_parse(e){const t=zu(e.firestore);return function(c,u,g,y,w,T,S){let P;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new _e(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){QA(S,T);const V=[];for(const X of S)V.push(_w(y,c,X));P={arrayValue:{values:V}}}else P=_w(y,c,S)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||QA(S,T),P=eg(g,"where",S,"in"===T||"not-in"===T);return Bt.create(w,T,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ng extends WA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ng(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let u=s;const g=c.getFlattenedFilters();for(const y of g)XA(u,y),u=vI(u,y)}(e._query,t),new Xr(e.firestore,e.converter,vI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class YA extends Oy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new YA(e,t)}_apply(e){const t=function(s,c,u){if(null!==s.startAt)throw new _e(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new _e(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wv(c,u)}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(s,c){const u=s.explicitOrderBy.concat([c]);return new Na(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class ky extends Oy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ky(e,t,r)}_apply(e){return new Xr(e.firestore,e.converter,Mv(e._query,this._limit,this._limitType))}}class rg extends Oy{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rg(e,t,r)}_apply(e){const t=$M(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(c=t,new Na((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class Ny extends Oy{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ny(e,t,r)}_apply(e){const t=$M(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(c=t,new Na((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function $M(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof Kh)return function(c,u,g,y,w){if(!y)throw new _e(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const T=[];for(const S of bh(c))if(S.field.isKeyField())T.push(Qo(u,y.key));else{const P=y.data.field(S.field);if(yv(P))throw new _e(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const V=S.field.canonicalString();throw new _e(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}T.push(P)}return new ka(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=zu(n.firestore);return function(u,g,y,w,T,S){const P=u.explicitOrderBy;if(T.length>P.length)throw new _e(Q.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let X=0;X<T.length;X++){const ne=T[X];if(P[X].field.isKeyField()){if("string"!=typeof ne)throw new _e(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ne}`);if(!_I(u)&&-1!==ne.indexOf("/"))throw new _e(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ne}' contains a slash.`);const ce=u.path.child(Qt.fromString(ne));if(!Oe.isDocumentKey(ce))throw new _e(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const Te=new Oe(ce);V.push(Qo(g,Te))}else{const ce=eg(y,w,ne);V.push(ce)}}return new ka(V,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function _w(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new _e(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_I(e)&&-1!==t.indexOf("/"))throw new _e(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!Oe.isDocumentKey(r))throw new _e(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qo(n,new Oe(r))}if(t instanceof Pn)return Qo(n,t._key);throw new _e(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wy(t)}.`)}function QA(n,e){if(!Array.isArray(n)||0===n.length)throw new _e(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XA(n,e){const t=function(s,c){for(const u of s)for(const g of u.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _e(Q.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Fy{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Us(e,(s,c)=>{r[s]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new ju(Qn(e.latitude),Qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(am(e));default:return null}}convertTimestamp(e){const t=Fc(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);We(RD(r));const s=new Bs(r.get(1),r.get(3)),c=new Oe(r.popFirst(5));return s.isEqual(t)||or(`Document ${c} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Ly(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class JA extends Fy{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}class Xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends Kh{constructor(e,t,r,s,c,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ig extends Ga{data(e={}){return super.data(e)}}class es{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Xc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ig(this._firestore,this._userDataWriter,r.key,r,new Xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new ig(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Xc(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>c||3!==g.type).map(g=>{const y=new ig(s._firestore,s._userDataWriter,g.doc.key,g.doc,new Xc(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,T=-1;return 0!==g.type&&(w=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),1!==g.type&&(u=u.add(g.doc),T=u.indexOf(g.doc.key)),{type:WM(g.type),doc:y,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}function eS(n,e){return n instanceof Ga&&e instanceof Ga?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof es&&e instanceof es&&n._firestore===e._firestore&&jA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Gu extends Fy{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function nS(n,e,t){n=jt(n,Pn);const r=jt(n.firestore,On),s=Ly(n.converter,e,t);return og(r,[Jm(zu(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Mn.none())])}function rS(n,e,t,...r){n=jt(n,Pn);const s=jt(n.firestore,On),c=zu(s);let u;return u="string"==typeof(e=(0,mn.m9)(e))||e instanceof Cn?Sy(c,"updateDoc",n._key,e,t,r):fw(c,"updateDoc",n._key,e),og(s,[u.toMutation(n._key,Mn.exists(!0))])}function XM(n,...e){var t,r,s;n=(0,mn.m9)(n);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||zA(e[u])||(c=e[u],u++);const g={includeMetadataChanges:c.includeMetadataChanges};if(zA(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(s=S.complete)||void 0===s?void 0:s.bind(S)}let y,w,T;if(n instanceof Pn)w=jt(n.firestore,On),T=yh(n._key.path),y={next:S=>{e[u]&&e[u](bw(w,n,S))},error:e[u+1],complete:e[u+2]};else{const S=jt(n,Xr);w=jt(S.firestore,On),T=S._query;const P=new Gu(w);y={next:V=>{e[u]&&e[u](new es(w,P,S,V))},error:e[u+1],complete:e[u+2]},Py(n._query)}return function(P,V,X,ne){const ce=new vy(ne),Te=new PE(V,ce,X);return P.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return Qc(yield Vu(P),Te)})),()=>{ce.Na(),P.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return dy(yield Vu(P),Te)}))}}(Xn(w),T,g,y)}function og(n,e){return function(r,s){const c=new br;return r.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function TA(n,e,t){return CA.apply(this,arguments)}(yield za(r),s,c)})),c.promise}(Xn(n),e)}function bw(n,e,t){const r=t.docs.get(e._key),s=new Gu(n);return new Ga(n,s,e._key,r,new Xc(t.hasPendingWrites,t.fromCache),e.converter)}const b={maxAttempts:5};class E{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zu(e)}set(e,t,r){this._verifyNotCommitted();const s=C(e,this._firestore),c=Ly(s.converter,t,r),u=Jm(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,r);return this._mutations.push(u.toMutation(s._key,Mn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const c=C(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof Cn?Sy(this._dataReader,"WriteBatch.update",c._key,t,r,s):fw(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(u.toMutation(c._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=C(e,this._firestore);return this._mutations=this._mutations.concat(new Er(t._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function C(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new _e(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class x extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=zu(t)}get(t){const r=C(t,this._firestore),s=new JA(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return Be();const u=c[0];if(u.isFoundDocument())return new Kh(this._firestore,s,u.key,u,r.converter);if(u.isNoDocument())return new Kh(this._firestore,s,r._key,null,r.converter);throw Be()})}set(t,r,s){const c=C(t,this._firestore),u=Ly(c.converter,r,s),g=Jm(this._dataReader,"Transaction.set",c._key,u,null!==c.converter,s);return this._transaction.set(c._key,g),this}update(t,r,s,...c){const u=C(t,this._firestore);let g;return g="string"==typeof(r=(0,mn.m9)(r))||r instanceof Cn?Sy(this._dataReader,"Transaction.update",u._key,r,s,c):fw(this._dataReader,"Transaction.update",u._key,r),this._transaction.update(u._key,g),this}delete(t){const r=C(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=C(e,this._firestore),r=new Gu(this._firestore);return super.get(e).then(s=>new Ga(this._firestore,r,t._key,s._document,new Xc(!1,!1),t.converter))}}function tP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function HO(){if(typeof Uint8Array>"u")throw new _e("unimplemented","Uint8Arrays are not available in this environment.")}function $O(){if(!function mR(){return typeof atob<"u"}())throw new _e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Ci=Ec.SDK_VERSION,(0,Ec._registerComponent)(new OT.wA("firestore",(r,{instanceIdentifier:s,options:c})=>{const u=r.getProvider("app").getImmediate(),g=new On(new rR(r.getProvider("auth-internal")),new oR(r.getProvider("app-check-internal")),function(w,T){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new _e(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(w.options.projectId,T)}(u,s),u);return c=Object.assign({useFetchStreams:t},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),(0,Ec.registerVersion)(MC,"4.4.0",e),(0,Ec.registerVersion)(MC,"4.4.0","esm2017")}();class Ew{constructor(e){this._delegate=e}static fromBase64String(e){return $O(),new Ew($a.fromBase64String(e))}static fromUint8Array(e){return HO(),new Ew($a.fromUint8Array(e))}toBase64(){return $O(),this._delegate.toBase64()}toUint8Array(){return HO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nP(n){return function A1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class S1{enableIndexedDbPersistence(e,t){return function Bu(n,e){kM(n=jt(n,On));const t=Xn(n);if(t._uninitializedComponentsProvider)throw new _e(Q.FAILED_PRECONDITION,"SDK cache is already specified.");zi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new Fu;return Ty(t,s,new _y(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function HA(n){kM(n=jt(n,On));const e=Xn(n);if(e._uninitializedComponentsProvider)throw new _e(Q.FAILED_PRECONDITION,"SDK cache is already specified.");zi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Fu;return Ty(e,r,new PA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function aw(n){if(n._initialized&&!n._terminated)throw new _e(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(t=(0,he.Z)(function*(s){if(!Po.D())return Promise.resolve();const c=s+"main";yield Po.delete(c)}),function r(s){return t.apply(this,arguments)})(iE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class GO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function MM(n,e,t,r={}){var s;const c=(n=jt(n,Uu))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let g,y;if("string"==typeof r.mockUserToken)g=r.mockUserToken,y=yr.MOCK_USER;else{g=(0,mn.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new _e(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new yr(w)}n._authCredentials=new lv(new X0(g,y))}}(this._delegate,e,t,r)}enableNetwork(){return function cw(n){return function TM(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield wM(n),t=yield XE(n);return e.setNetworkEnabled(!0),function(s){const c=Pe(s);return c.C_.delete(0),Um(c)}(t)}))}(Xn(n=jt(n,On)))}(this._delegate)}disableNetwork(){return function lw(n){return function CM(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield wM(n),t=yield XE(n);return e.setNetworkEnabled(!1),(r=(0,he.Z)(function*(c){const u=Pe(c);u.C_.add(0),yield Zc(u),u.M_.set("Offline")}),function s(c){return r.apply(this,arguments)})(t);var r}))}(Xn(n=jt(n,On)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ew("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OM(n){return function(t){const r=new br;return t.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function mO(n,e){return py.apply(this,arguments)}(yield za(t),r)})),r.promise}(Xn(n=jt(n,On)))}(this._delegate)}onSnapshotsInSync(e){return function FO(n,e){return function VA(n,e){const t=new vy(e);return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return s=yield Vu(n),c=t,Pe(s).q_.add(c),void c.next();var s,c})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return s=yield Vu(n),c=t,void Pe(s).q_.delete(c);var s,c}))}}(Xn(n=jt(n,On)),zA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vy(this,PM(this._delegate,e))}catch(t){throw so(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ws(this,rw(this._delegate,e))}catch(t){throw so(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ao(this,function vO(n,e){if(n=jt(n,Uu),Qm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _e(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(r=e,new Na(Qt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw so(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function M(n,e,t){n=jt(n,On);const r=Object.assign(Object.assign({},b),t);return function(c){if(c.maxAttempts<1)throw new _e(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,u,g){const y=new br;return c.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const w=yield function Km(n){return Ym(n).then(e=>e.datastore)}(c);new EM(c.asyncQueue,w,g,u,y).run()})),y.promise}(Xn(n),s=>e(new x(n,s)),r)}(this._delegate,t=>e(new qO(this,t)))}batch(){return Xn(this._delegate),new ZO(new E(this._delegate,e=>og(this._delegate,e)))}loadBundle(e){return function wO(n,e){const t=Xn(n=jt(n,On)),r=new bO;return function AM(n,e,t,r){const s=function(u,g){let y;return y="string"==typeof u?yD().encode(u):u,T=function(T,S){if(T instanceof Uint8Array)return IM(T,S);if(T instanceof ArrayBuffer)return IM(new Uint8Array(T),S);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new OA(T,g);var T}(t,Lm(e));n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function YE(n,e,t){const r=Pe(n);var s;(s=(0,he.Z)(function*(u,g,y){try{const w=yield g.getMetadata();if(yield function(X,ne){const ce=Pe(X),Te=fr(ne.createTime);return ce.persistence.runTransaction("hasNewerBundle","readonly",je=>ce.Kr.getBundleMetadata(je,ne.id)).then(je=>!!je&&je.createTime.compareTo(Te)>=0)}(u.localStore,w))return yield g.close(),y._completeWith({taskState:"Success",documentsLoaded:(X=w).totalDocuments,bytesLoaded:X.totalBytes,totalDocuments:X.totalDocuments,totalBytes:X.totalBytes}),Promise.resolve(new Set);y._updateProgress(kE(w));const T=new iM(w,u.localStore,g.serializer);let S=yield g.Ma();for(;S;){const V=yield T.ea(S);V&&y._updateProgress(V),S=yield g.Ma()}const P=yield T.complete();return yield ko(u,P.ra,void 0),yield function(X,ne){const ce=Pe(X);return ce.persistence.runTransaction("Save bundle","readwrite",Te=>ce.Kr.saveBundleMetadata(Te,ne))}(u.localStore,w),y._completeWith(P.progress),Promise.resolve(P.na)}catch(w){return zi("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w),Promise.resolve(new Set)}var X}),function c(u,g,y){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield za(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function TO(n,e){return function SM(n,e){return n.asyncQueue.enqueue((0,he.Z)(function*(){return function(r,s){const c=Pe(r);return c.persistence.runTransaction("Get named query","readonly",u=>c.Kr.getNamedQuery(u,s))}(yield Lu(n),e)}))}(Xn(n=jt(n,On)),e).then(t=>t?new Xr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ao(this,t):null)}}class sS extends Fy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ew(new $a(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ws.forKey(t,this.firestore,null)}}class qO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sS(e)}get(e){const t=ag(e);return this._delegate.get(t).then(r=>new ww(this._firestore,new Ga(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=ag(e);return r?(tP("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const c=ag(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...s),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}}class ZO{constructor(e){this._delegate=e}set(e,t,r){const s=ag(e);return r?(tP("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const c=ag(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...s),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ig(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=sg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let c=s.get(t);return c||(c=new sg(e,new sS(e),t),s.set(t,c)),c}}sg.INSTANCES=new WeakMap;class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new _e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ws(t,new Pn(t._delegate,r,new Oe(e)))}static forKey(e,t,r){return new Ws(t,new Pn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Vy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vy(this.firestore,PM(this._delegate,e))}catch(t){throw so(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof Pn&&iw(this._delegate,e)}set(e,t){t=tP("DocumentReference.set",t);try{return t?nS(this._delegate,e,t):nS(this._delegate,e)}catch(r){throw so(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?rS(this._delegate,e):rS(this._delegate,e,t,...r)}catch(s){throw so(s,"updateDoc()","DocumentReference.update()")}}delete(){return function QM(n){return og(jt(n.firestore,On),[new Er(n._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const t=WO(e),r=YO(e,s=>new ww(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return XM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function YM(n){n=jt(n,Pn);const e=jt(n.firestore,On),t=Xn(e),r=new Gu(e);return function gO(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(c,u,g){try{const y=yield function(T,S){const P=Pe(T);return P.persistence.runTransaction("read document","readonly",V=>P.localDocuments.getDocument(V,S))}(c,u);y.isFoundDocument()?g.resolve(y):y.isNoDocument()?g.resolve(null):g.reject(new _e(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=ja(y,`Failed to get document '${u} from cache`);g.reject(w)}}),function s(c,u,g){return r.apply(this,arguments)})(yield Lu(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Ga(e,r,n._key,s,new Xc(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function PO(n){n=jt(n,Pn);const e=jt(n.firestore,On);return JE(Xn(e),n._key,{source:"server"}).then(t=>bw(e,n,t))}(this._delegate):function tS(n){n=jt(n,Pn);const e=jt(n.firestore,On);return JE(Xn(e),n._key).then(t=>bw(e,n,t))}(this._delegate),t.then(r=>new ww(this.firestore,new Ga(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?sg.getInstance(this.firestore,e):null))}}function so(n,e,t){return n.message=n.message.replace(e,t),n}function WO(n){for(const e of n)if("object"==typeof e&&!nP(e))return e;return{}}function YO(n,e){var t,r;let s;return s=nP(n[0])?n[0]:nP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{s.next&&s.next(e(c))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class ww{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ws(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eS(this._delegate,e._delegate)}}class Tw extends ww{data(e){const t=this._delegate.data(e);return this._delegate._converter||function Qp(n,e){n||Be()}(void 0!==t),t}}class ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sS(e)}where(e,t,r){try{return new ao(this.firestore,$u(this._delegate,function AO(n,e,t){const r=e,s=gw("where",n);return tg._create(s,r,t)}(e,t,r)))}catch(s){throw so(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ao(this.firestore,$u(this._delegate,function KA(n,e="asc"){const t=e,r=gw("orderBy",n);return YA._create(r,t)}(e,t)))}catch(r){throw so(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ao(this.firestore,$u(this._delegate,function xO(n){return nw("limit",n),ky._create("limit",n,"F")}(e)))}catch(t){throw so(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ao(this.firestore,$u(this._delegate,function jM(n){return nw("limitToLast",n),ky._create("limitToLast",n,"L")}(e)))}catch(t){throw so(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ao(this.firestore,$u(this._delegate,function RO(...n){return rg._create("startAt",n,!0)}(...e)))}catch(t){throw so(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ao(this.firestore,$u(this._delegate,function zM(...n){return rg._create("startAfter",n,!1)}(...e)))}catch(t){throw so(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ao(this.firestore,$u(this._delegate,function MO(...n){return Ny._create("endBefore",n,!1)}(...e)))}catch(t){throw so(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ao(this.firestore,$u(this._delegate,function HM(...n){return Ny._create("endAt",n,!0)}(...e)))}catch(t){throw so(t,"endAt()","Query.endAt()")}}isEqual(e){return jA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function OO(n){n=jt(n,Xr);const e=jt(n.firestore,On),t=Xn(e),r=new Gu(e);return function DM(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(c,u,g){try{const y=yield ry(c,u,!0),w=new yA(u,y.ls),T=w.ca(y.documents),S=w.applyChanges(T,!1);g.resolve(S.snapshot)}catch(y){const w=ja(y,`Failed to execute query '${u} against cache`);g.reject(w)}}),function s(c,u,g){return r.apply(this,arguments)})(yield Lu(n),e,t);var r})),t.promise}(t,n._query).then(s=>new es(e,r,n,s))}(this._delegate):"server"===e?.source?function kO(n){n=jt(n,Xr);const e=jt(n.firestore,On),t=Xn(e),r=new Gu(e);return LA(t,n._query,{source:"server"}).then(s=>new es(e,r,n,s))}(this._delegate):function KM(n){n=jt(n,Xr);const e=jt(n.firestore,On),t=Xn(e),r=new Gu(e);return Py(n._query),LA(t,n._query).then(s=>new es(e,r,n,s))}(this._delegate),t.then(r=>new rP(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=WO(e),r=YO(e,s=>new rP(this.firestore,new es(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return XM(this._delegate,t,r)}withConverter(e){return new ao(this.firestore,this._delegate.withConverter(e?sg.getInstance(this.firestore,e):null))}}class R1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new R1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Tw(this._firestore,r))})}isEqual(e){return eS(this._delegate,e._delegate)}}class Vy extends ao{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ws(this.firestore,e):null}doc(e){try{return new Ws(this.firestore,void 0===e?rw(this._delegate):rw(this._delegate,e))}catch(t){throw so(t,"doc()","CollectionReference.doc()")}}add(e){return function NO(n,e){const t=jt(n.firestore,On),r=rw(n),s=Ly(n.converter,e);return og(t,[Jm(zu(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ws(this.firestore,t))}isEqual(e){return iw(this._delegate,e._delegate)}withConverter(e){return new Vy(this.firestore,this._delegate.withConverter(e?sg.getInstance(this.firestore,e):null))}}function ag(n){return jt(n,Pn)}class iP{constructor(...e){this._delegate=new Cn(...e)}static documentId(){return new iP(Un.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof Cn&&this._delegate._internalPath.isEqual(e._internalPath)}}class cg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function U(){return new Ay("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cg(e)}static delete(){const e=function N(){return new Yh("deleteField")}();return e._methodName="FieldValue.delete",new cg(e)}static arrayUnion(...e){const t=function K(...n){return new LM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new cg(t)}static arrayRemove(...e){const t=function ve(...n){return new VM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new cg(t)}static increment(e){const t=function De(n){return new qA("increment",n)}(e);return t._methodName="FieldValue.increment",new cg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const M1={Firestore:GO,GeoPoint:ju,Timestamp:Zn,Blob:Ew,Transaction:qO,WriteBatch:ZO,DocumentReference:Ws,DocumentSnapshot:ww,Query:ao,QueryDocumentSnapshot:Tw,QuerySnapshot:rP,CollectionReference:Vy,FieldPath:iP,FieldValue:cg,setLogLevel:function x1(n){!function PC(n){Ur.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function KO(n,e){return function k1(n,e=Hl){return new Gn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function oP(n,e){return KO(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}!function O1(n){(function P1(n,e){n.INTERNAL.registerComponent(new OT.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},M1)))})(n,(e,t)=>new GO(e,t,new S1)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(Dc.Z);class QO{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:c}=rk(r,t);return new ek(s,c,this.afs)}snapshotChanges(){return function N1(n,e){return KO(n,e).pipe(Ki(void 0),k_(),(0,It.U)(t=>{const[r,s]=t;return s.exists?r?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return ln(this.ref.get(e)).pipe(to)}}function aS(n,e){return oP(n,e).pipe(Ki(void 0),k_(),(0,It.U)(t=>{const[r,s]=t,c=s.payload.docChanges(),u=c.map(g=>({type:g.type,payload:g}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,y)=>{const w=c.find(S=>S.doc.ref.isEqual(g.ref)),T=r?.payload.docs.find(S=>S.ref.isEqual(g.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(g.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(g.metadata)||u.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:g}})}),u}))}function XO(n,e,t){return aS(n,t).pipe(Gf((r,s)=>function F1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function L1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(c=>c.payload),e),[]),PT(),(0,It.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function sP(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function JO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ek{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=aS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Ki(void 0),k_(),Ln(([r,s])=>s.length>0||!r),(0,It.U)(([,r])=>r),to)}auditTrail(e){return this.stateChanges(e).pipe(Gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=JO(e);return XO(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return oP(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),to)}get(e){return ln(this.query.get(e)).pipe(to)}add(e){return this.ref.add(e)}doc(e){return new QO(this.ref.doc(e),this.afs)}}class V1{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aS(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ln(t=>t.length>0),to):aS(this.query,this.afs.schedulers.outsideAngular).pipe(to)}auditTrail(e){return this.stateChanges(e).pipe(Gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=JO(e);return XO(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return oP(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(r=>r.payload.docs.map(s=>e.idField?{[e.idField]:s.id,...s.data()}:s.data())),to)}get(e){return ln(this.query.get(e)).pipe(to)}}const tk=new h.OlP("angularfire2.enableFirestorePersistence"),nk=new h.OlP("angularfire2.firestore.persistenceSettings"),U1=new h.OlP("angularfire2.firestore.settings"),B1=new h.OlP("angularfire2.firestore.use-emulator");function rk(n,e=(t=>t)){return{query:e(n),ref:n}}let aP=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,s,c,u,g,y,w,T,S,P,V,X,ne,ce,Te,je){this.schedulers=y;const xe=s0(t,g,r),et=T;S&&xT(xe,g,P,X,ne,ce,V,Te),[this.firestore,this.persistenceEnabled$]=Ex(`${xe.name}.firestore`,"AngularFirestore",xe.name,()=>{const wt=g.runOutsideAngular(()=>xe.firestore());if(c&&wt.settings(c),et&&wt.useEmulator(...et),s&&!Xu(u)){const Xt=()=>{try{return ln(wt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(wr){return typeof console<"u"&&console.warn(wr),Ke(!1)}};return[wt,g.runOutsideAngular(Xt)]}return[wt,Ke(!1)]},[c,et,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:u}=rk(s,r),g=this.schedulers.ngZone.run(()=>c);return new ek(g,u,this)}collectionGroup(t,r){const s=r||(u=>u),c=this.firestore.collectionGroup(t);return new V1(s(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new QO(s,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(h.LFG(Zd),h.LFG(Gl,8),h.LFG(tk,8),h.LFG(U1,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(_x),h.LFG(nk,8),h.LFG(B1,8),h.LFG(RT,8),h.LFG(Dx,8),h.LFG(Ax,8),h.LFG(AT,8),h.LFG(ST,8),h.LFG(Sx,8),h.LFG(bp,8),h.LFG(gp,8))};static \u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),j1=(()=>{class n{constructor(){Dc.Z.registerVersion("angularfire",wc.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tk,useValue:!0},{provide:nk,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.oAB({type:n});static \u0275inj=h.cJS({providers:[aP]})}return n})(),ik=(()=>{class n{constructor(t){this.firestore=t}getTratte(){return this.firestore.collection("tratte").valueChanges()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(aP))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(),h.hij(" ",t.note," ")}}const Qh=(n,e,t)=>({FCE:n,AMAT:e,atm:t}),cS=(n,e,t,r)=>({FCE:n,AMAT:e,atm:t,RFI:r});function H1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){const c=h.CHM(t).$implicit,u=h.oxw(2);return h.KtG(u.sendInfo(c.id))}),h._uU(5),h.qZA(),h.YNc(6,z1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){const c=h.CHM(t).$implicit,u=h.oxw(2);return h.KtG(u.sendInfo(c.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=e.$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.Oqu(t.gestore),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,cS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function $1(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,H1,18,25,"article",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}function G1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(),h.hij(" ",t.note," ")}}function q1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(5),h.qZA(),h.YNc(6,G1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=h.oxw().$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.hij(" ",t.gestore," "),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,cS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function Z1(n,e){if(1&n&&(h.ynx(0),h.YNc(1,q1,18,25,"article",12),h.BQk()),2&n){const t=e.$implicit;h.xp6(),h.Q6J("ngIf","treno"==t.mezzo)}}function W1(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,Z1,2,1,"ng-container",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}function Y1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(),h.hij(" ",t.note," ")}}function K1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(5),h.qZA(),h.YNc(6,Y1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=h.oxw().$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.hij(" ",t.gestore," "),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,cS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function Q1(n,e){if(1&n&&(h.ynx(0),h.YNc(1,K1,18,25,"article",12),h.BQk()),2&n){const t=e.$implicit;h.xp6(),h.Q6J("ngIf","tram"==t.mezzo)}}function X1(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,Q1,2,1,"ng-container",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}function J1(n,e){if(1&n&&(h.TgZ(0,"div",20),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(),h.hij(" ",t.note," ")}}function eN(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"article")(1,"div",16)(2,"div",17)(3,"h3",18)(4,"a",10),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(5),h.qZA(),h.YNc(6,J1,2,1,"div",19),h.qZA(),h.TgZ(7,"div",20),h._uU(8),h.qZA()(),h.TgZ(9,"div",21),h._uU(10),h.TgZ(11,"a",22),h.NdJ("click",function(){h.CHM(t);const s=h.oxw().$implicit,c=h.oxw(2);return h.KtG(c.sendInfo(s.id))}),h._uU(12,"Playlist"),h._UZ(13,"span",23),h.qZA()(),h._UZ(14,"div",24),h.TgZ(15,"div",25)(16,"span",26),h._uU(17," circle "),h.qZA()()()()}if(2&n){const t=h.oxw().$implicit;h.xp6(),h.Udp("background","url("+t.srcimg+") center no-repeat"),h.xp6(2),h.Q6J("ngClass",h.kEZ(12,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(2),h.AsE("",t.partenza," - ",t.destinazione,""),h.xp6(),h.Q6J("ngIf",""!==t.note),h.xp6(2),h.hij(" ",t.gestore," "),h.xp6(2),h.lnq(" Vivi il viaggio da ",t.partenza," a ",t.destinazione," ",t.note," con questa playlist "),h.xp6(),h.Q6J("ngClass",h.kEZ(16,Qh,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore)),h.xp6(5),h.Q6J("ngClass",h.l5B(20,cS,"FCE"==t.gestore,"AMAT"==t.gestore,"atm"==t.gestore,"RFI"==t.gestore))}}function tN(n,e){if(1&n&&(h.ynx(0),h.YNc(1,eN,18,25,"article",12),h.BQk()),2&n){const t=e.$implicit;h.xp6(),h.Q6J("ngIf","metro"==t.mezzo)}}function nN(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"br"),h.TgZ(2,"section"),h.YNc(3,tN,2,1,"ng-container",15),h.qZA()()),2&n){const t=h.oxw();h.xp6(3),h.Q6J("ngForOf",t.listaTratte)}}let cP,rN=(()=>{class n{constructor(t,r){this.firebase=t,this.router=r,this.listaTratte=[],this.sendID=new Wt.x,this.sendID$=this.sendID.asObservable(),this.activeTab="tab1"}ngOnInit(){this.firebase.getTratte().subscribe(t=>{this.listaTratte=t})}sendInfo(t){this.sendID.next(t),this.router.navigateByUrl(`/tratta/${t}`)}setActiveTab(t){this.activeTab=t}isActiveTab(t){return this.activeTab===t}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ik),h.Y36(Ro))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-tratte"]],decls:55,vars:12,consts:[["id","picture"],[1,"material-symbols-outlined","RFI"],["href","https://www.rfi.it/it.html","target","_blank"],[1,"material-symbols-outlined","FCE"],["href","https://www.circumetnea.it/","target","_blank"],[1,"material-symbols-outlined","AMAT"],["href","https://www.amat.pa.it/","target","_blank"],[1,"material-symbols-outlined","atm"],["href","https://www.atmmessinaspa.it/","target","_blank"],[1,"tabs"],[3,"click"],[1,"tab-content"],[4,"ngIf"],[2,"width","auto"],["role","alert","id","disclaimer",1,"alert","alert-warning"],[4,"ngFor","ngForOf"],[1,"blog-card","spring-fever"],[1,"title-content"],[3,"ngClass"],["class","intro",4,"ngIf"],[1,"intro"],[1,"card-info"],[3,"ngClass","click"],[1,"licon","icon-arr","icon-black"],[1,"gradient-overlay"],[1,"color-overlay"],[1,"material-symbols-outlined",3,"ngClass"]],template:function(r,s){1&r&&(h._UZ(0,"div",0),h.TgZ(1,"fieldset")(2,"legend"),h._uU(3,"Legenda"),h.qZA(),h.TgZ(4,"table")(5,"tr")(6,"td")(7,"span",1),h._uU(8," circle "),h.qZA()(),h.TgZ(9,"td")(10,"a",2),h._uU(11,"Rete Ferroviaria Italiana"),h.qZA()()(),h.TgZ(12,"tr")(13,"td")(14,"span",3),h._uU(15," circle "),h.qZA()(),h.TgZ(16,"td")(17,"a",4),h._uU(18,"Ferrovia Circumetnea"),h.qZA()()(),h.TgZ(19,"tr")(20,"td")(21,"span",5),h._uU(22," circle "),h.qZA()(),h.TgZ(23,"td")(24,"a",6),h._uU(25,"Azienda Municipalizzata Auto Trasporti "),h.TgZ(26,"i"),h._uU(27,"(Palermo)"),h.qZA()()()(),h.TgZ(28,"tr")(29,"td")(30,"span",7),h._uU(31," circle "),h.qZA()(),h.TgZ(32,"td")(33,"a",8),h._uU(34,"Azienda Trasporti Messina"),h.qZA()()()()(),h.TgZ(35,"ul",9)(36,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab1")}),h._uU(37," Tutti "),h.qZA(),h.TgZ(38,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab2")}),h._uU(39," Treno "),h.qZA(),h.TgZ(40,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab3")}),h._uU(41," Tram "),h.qZA(),h.TgZ(42,"li",10),h.NdJ("click",function(){return s.setActiveTab("tab4")}),h._uU(43," Metro "),h.qZA()(),h.TgZ(44,"div",11),h.YNc(45,$1,4,1,"div",12)(46,W1,4,1,"div",12)(47,X1,4,1,"div",12)(48,nN,4,1,"div",12),h.qZA(),h.TgZ(49,"article",13)(50,"div",14)(51,"p")(52,"strong"),h._uU(53,"Disclaimer :"),h.qZA(),h._uU(54," Le canzoni presentate su SpotiRFI sono state scelte esclusivamente sulla base dell'adeguatezza del titolo con il nome delle stazioni ferroviarie. La scelta di una canzone non implica un'approvazione o un'adesione al testo, al significato o a qualsiasi altro aspetto della canzone stessa. Le canzoni sono fornite solo a scopo di intrattenimento e non intendono rappresentare o riflettere le opinioni di SpotiRFI. "),h.qZA()()()),2&r&&(h.xp6(36),h.ekj("active",s.isActiveTab("tab1")),h.xp6(2),h.ekj("active",s.isActiveTab("tab2")),h.xp6(2),h.ekj("active",s.isActiveTab("tab3")),h.xp6(2),h.ekj("active",s.isActiveTab("tab4")),h.xp6(3),h.Q6J("ngIf",s.isActiveTab("tab1")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab2")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab3")),h.xp6(),h.Q6J("ngIf",s.isActiveTab("tab4")))},dependencies:[Mt,sn,el],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";@import"//fonts.googleapis.com/css?family=Abril+Fatface|Droid+Serif:400,700,400italic,700italic";#picture[_ngcontent-%COMP%]{background-image:url(104Agnone.ea135585ad9e7ea3.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}fieldset[_ngcontent-%COMP%]{width:35%;font-family:Merienda,cursive;border:.15em black solid;border-radius:1em;margin:3em auto 3em 3em}@media screen and (min-width: 768px) and (max-width: 1024px){fieldset[_ngcontent-%COMP%]{width:40%}}@media screen and (min-width: 281px) and (max-width: 767px){fieldset[_ngcontent-%COMP%]{width:70%;margin:3em auto}ul[_ngcontent-%COMP%]{overflow:scroll}}@media screen and (max-width: 280px){fieldset[_ngcontent-%COMP%]{width:80%;margin:3em auto}ul[_ngcontent-%COMP%]{overflow:scroll}}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{margin:.5em;font-weight:500}td[_ngcontent-%COMP%]{font-weight:600}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:currentColor;text-decoration:none}ul[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-direction:row;list-style-type:none;font-size:16px;font-family:Merienda,cursive;font-weight:600;padding-inline-start:0}li[_ngcontent-%COMP%]{padding:.7em 2em;cursor:pointer}li.active[_ngcontent-%COMP%]{border-bottom:.1em #D62A42 solid;color:#d62a42}li[_ngcontent-%COMP%]:hover{background-color:#d62a420a}article[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;margin:auto auto 4rem;font-family:Merienda,cursive;width:500px}section[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}#disclaimer[_ngcontent-%COMP%]{margin:4em 1em 3.5em;text-align:justify}p[_ngcontent-%COMP%]{font-size:19px;line-height:1.6}.blog-card[_ngcontent-%COMP%]{max-width:475px;width:100%;height:450px;position:relative;font-family:"Droid Serif",serif;color:#fff;top:20%;right:0;left:0;margin:0 auto;overflow:hidden;border-radius:0;box-shadow:0 10px 20px -9px #00000080;text-align:center;transition:all .4s;background-size:100%}.blog-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;transition:all .2s;cursor:pointer}.blog-card[_ngcontent-%COMP%]   .color-overlay[_ngcontent-%COMP%]{background:rgba(64,84,94,.5);width:475px;height:450px;position:absolute;z-index:10;top:0;left:0;transition:background .3s cubic-bezier(.33,.66,.66,1)}.blog-card[_ngcontent-%COMP%]   .gradient-overlay[_ngcontent-%COMP%]{background-image:linear-gradient(transparent 0%,rgba(0,0,0,.6) 21%);width:475px;height:450px;position:absolute;top:350px;left:0;z-index:15}.blog-card[_ngcontent-%COMP%]:hover{box-shadow:0 18px 20px -9px #000a1ebf}.blog-card[_ngcontent-%COMP%]:hover   .card-info[_ngcontent-%COMP%]{opacity:1;bottom:90px}.blog-card[_ngcontent-%COMP%]:hover   .color-overlay[_ngcontent-%COMP%]{background:rgba(64,64,70,.8)}.blog-card[_ngcontent-%COMP%]:hover   .title-content[_ngcontent-%COMP%]{margin-top:90px}.title-content[_ngcontent-%COMP%]{text-align:center;margin:170px 0 0;position:absolute;z-index:20;width:100%;top:0;left:0;transition:all .6s}.blog-card[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_changeLetter .3s 1 linear;width:80%}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-size:1.9em;font-weight:400;letter-spacing:1px;font-family:Abril Fatface,serif;margin-bottom:0;display:inline-block}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-shadow:0px 0px 10px rgba(0,0,0,.5);transition:all .2s}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-shadow:0px 8px 20px rgba(0,0,0,.95)}h3[_ngcontent-%COMP%]:after{content:" ";display:block;width:10%;height:2px;margin:20px auto;border:0;background:#006564;transition:all .2s}h3.FCE[_ngcontent-%COMP%]:after{background:#065DA8}h3.AMAT[_ngcontent-%COMP%]:after{background:#00A0C7}h3.atm[_ngcontent-%COMP%]:after{background:#D60B25}@keyframes _ngcontent-%COMP%_changeLetter{0%{width:10%}to{width:80%}}.intro[_ngcontent-%COMP%]{width:170px;margin:0 auto;color:#ddd;font-style:italic;line-height:18px}h3[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{width:170px;margin:.3em auto;color:#ddd;font-family:"Droid Serif",serif;font-style:italic;font-size:14px;line-height:18px}.intro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ddd}.intro[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-info[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;position:absolute;bottom:-40px;left:0;margin:0 auto;padding:0 50px;font-size:16px;line-height:24px;z-index:20;opacity:0;transition:bottom .64s,opacity .63s cubic-bezier(.33,.66,.66,1)}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:100px;margin:15px auto;background:#fff;color:#444;padding:3px 10px;border-radius:2px;font-size:.8em}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#006564;color:#fff}.card-info[_ngcontent-%COMP%]   a.FCE[_ngcontent-%COMP%]:hover{background:#065DA8}.card-info[_ngcontent-%COMP%]   a.AMAT[_ngcontent-%COMP%]:hover{background:#00A0C7}.card-info[_ngcontent-%COMP%]   a.atm[_ngcontent-%COMP%]:hover{background:#D60B25}.card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{filter:brightness(10);opacity:1}.licon[_ngcontent-%COMP%]{position:relative;width:23px;height:15px;display:inline-block;vertical-align:middle}.licon[_ngcontent-%COMP%]:before{content:"";background:url(https://rawcdn.githack.com/Nodws/NodPen/ffad95aa5244b4b09a3c7c1508a018959bbedb7e/postItem/licons.svg?) -2px -6px no-repeat;background-size:250px;width:26px;height:20px;display:inline-block;vertical-align:middle;position:absolute;top:-3px;left:0}.icon-black[_ngcontent-%COMP%]{filter:brightness(0);opacity:.6}@media (max-width:750px){.utility-info[_ngcontent-%COMP%]{text-align:center}.utility-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin:0;box-sizing:border-box}.utility-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:49%;display:inline-block;box-sizing:border-box;margin:0}}@media (max-width:500px){.utility-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{width:100%}.card-info[_ngcontent-%COMP%]{display:none}.blog-card[_ngcontent-%COMP%]:hover   .title-content[_ngcontent-%COMP%], .title-content[_ngcontent-%COMP%]{margin-top:40px}.blog-card[_ngcontent-%COMP%]{height:300px}.blog-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em}.intro[_ngcontent-%COMP%]{font-size:.8em}}.material-symbols-outlined.RFI[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#006564;margin:.5em;float:left}.material-symbols-outlined.FCE[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#065da8;margin:.5em;float:left}.material-symbols-outlined.AMAT[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#00a0c7;margin:.5em;float:left}.material-symbols-outlined.atm[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 24;color:#d60b25;margin:.5em;float:left}']})}return n})();try{cP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cP=!1}let Cw,lg,lP,co=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Wi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(h.Lbi))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lS(n){return function iN(){if(null==Cw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cw=!0}))}finally{Cw=Cw||!1}return Cw}()?n:!!n.capture}function oN(){if(null==lg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lg=!1,lg;if("scrollBehavior"in document.documentElement.style)lg=!0;else{const n=Element.prototype.scrollTo;lg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return lg}function uP(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Xh(n){return n.composedPath?n.composedPath()[0]:n.target}function dP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ak(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ck(n){return Ln((e,t)=>n<=t)}let fN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[fN]})}return n})();function lk(n,e=0){return function mN(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function dS(n){return Array.isArray(n)?n:[n]}function zr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function By(n){return n instanceof h.SBq?n.nativeElement:n}const uk=new Set;let ug,_N=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yN}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function vN(n,e){if(!uk.has(n))try{ug||(ug=document.createElement("style"),e&&(ug.nonce=e),ug.setAttribute("type","text/css"),document.head.appendChild(ug)),ug.sheet&&(ug.sheet.insertRule(`@media ${n} {body{ }}`,0),uk.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(co),h.LFG(h.Ojb,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yN(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let bN=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Wt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return dk(dS(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let c=lc(dk(dS(t)).map(u=>this._registerQuery(u).observable));return c=Bo(c.pipe(ri(1)),c.pipe(ck(1),function gN(n,e=Hl){return(0,Rn.e)((t,r)=>{let s=null,c=null,u=null;const g=()=>{if(s){s.unsubscribe(),s=null;const w=c;c=null,r.next(w)}};function y(){const w=u+n,T=e.now();if(T<w)return s=this.schedule(void 0,w-T),void r.add(s);g()}t.subscribe((0,cn.x)(r,w=>{c=w,u=e.now(),s||(s=e.schedule(y,n),r.add(s))},()=>{g(),r.complete()},void 0,()=>{c=s=null}))})}(0))),c.pipe((0,It.U)(u=>{const g={matches:!1,breakpoints:{}};return u.forEach(({matches:y,query:w})=>{g.matches=g.matches||y,g.breakpoints[w]=y}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new Gn.y(u=>{const g=y=>this._zone.run(()=>u.next(y));return r.addListener(g),()=>{r.removeListener(g)}}).pipe(Ki(r),(0,It.U)(({matches:u})=>({query:t,matches:u})),bd(this._destroySubject)),mql:r};return this._queries.set(t,c),c}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(_N),h.LFG(h.R0b))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let hP=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function TN(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function wN(n){try{return n.frameElement}catch{return null}}(function PN(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===mk(r)||!this.isVisible(r)))return!1;let s=t.nodeName.toLowerCase(),c=mk(t);return t.hasAttribute("contenteditable")?-1!==c:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function RN(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==c:"video"===s?-1!==c&&(null!==c||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function MN(n){return!function DN(n){return function SN(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function CN(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function AN(n){return function xN(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||pk(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(co))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function mk(n){if(!pk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ON{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,s,c=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const s=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const s=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(s)return s}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ri(1)).subscribe(e)}}let gk=(()=>{class n{constructor(t,r,s){this._checker=t,this._ngZone=r,this._document=s}create(t,r=!1){return new ON(t,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(hP),h.LFG(h.R0b),h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _k(n){return 0===n.buttons||0===n.detail}function vk(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kN=new h.OlP("cdk-input-modality-detector-options"),NN={ignoreKeys:[18,17,224,91,16]},jy=lS({passive:!0,capture:!0});let FN=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,s,c){this._platform=t,this._mostRecentTarget=null,this._modality=new Nr.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(g=>g===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xh(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_k(u)?"keyboard":"mouse"),this._mostRecentTarget=Xh(u))},this._onTouchstart=u=>{vk(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xh(u))},this._options={...NN,...c},this.modalityDetected=this._modality.pipe(ck(1)),this.modalityChanged=this.modalityDetected.pipe(PT()),t.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,jy),s.addEventListener("mousedown",this._onMousedown,jy),s.addEventListener("touchstart",this._onTouchstart,jy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jy),document.removeEventListener("mousedown",this._onMousedown,jy),document.removeEventListener("touchstart",this._onTouchstart,jy))}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(co),h.LFG(h.R0b),h.LFG(ge),h.LFG(kN,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hS=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(hS||{});const VN=new h.OlP("cdk-focus-monitor-default-options"),fS=lS({passive:!0,capture:!0});let fP=(()=>{class n{constructor(t,r,s,c,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Wt.x,this._rootNodeFocusAndBlurListener=g=>{for(let w=Xh(g);w;w=w.parentElement)"focus"===g.type?this._onFocus(g,w):this._onBlur(g,w)},this._document=c,this._detectionMode=u?.detectionMode||hS.IMMEDIATE}monitor(t,r=!1){const s=By(t);if(!this._platform.isBrowser||1!==s.nodeType)return Ke();const c=function aN(n){if(function sN(){if(null==lP){const n=typeof document<"u"?document.head:null;lP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lP}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return r&&(u.checkChildren=!0),u.subject;const g={checkChildren:r,subject:new Wt.x,rootNode:c};return this._elementInfo.set(s,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const r=By(t),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(t,r,s){const c=By(t);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([g,y])=>this._originChanged(g,r,y)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===hS.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===hS.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const s=this._elementInfo.get(r),c=Xh(t);!s||!s.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),s)}_onBlur(t,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,fS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,fS)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bd(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,s){this._setClasses(t,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((s,c)=>{(c===t||s.checkChildren&&c.contains(t))&&r.push([c,s])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const c=t.labels;if(c)for(let u=0;u<c.length;u++)if(c[u].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(h.R0b),h.LFG(co),h.LFG(FN),h.LFG(ge,8),h.LFG(VN,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dg=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(dg||{});const bk="cdk-high-contrast-black-on-white",Ik="cdk-high-contrast-white-on-black",pP="cdk-high-contrast-active";let Ek=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,h.f3M)(bN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return dg.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return dg.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return dg.BLACK_ON_WHITE}return dg.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(pP,bk,Ik),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===dg.BLACK_ON_WHITE?t.add(pP,bk):r===dg.WHITE_ON_BLACK&&t.add(pP,Ik)}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(co),h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UN=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ek))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[pN]})}return n})();const BN=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function jN(){return(0,h.f3M)(ge)}}),zN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mP=(()=>{class n{constructor(t){this.value="ltr",this.change=new h.vpe,t&&(this.value=function HN(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?zN.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(BN,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Aw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const GN=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function $N(){return!0}});let zy=(()=>{class n{constructor(t,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!dP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(Ek),h.LFG(GN,8),h.LFG(ge))};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[Aw,Aw]})}return n})();var Ys=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ys||{});class XN{constructor(e,t,r,s=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=s,this.state=Ys.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ck=lS({passive:!0,capture:!0});class JN{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Xh(e);t&&this._events.get(e.type)?.forEach((r,s)=>{(s===t||s.contains(t))&&r.forEach(c=>c.handleEvent(e))})}}addHandler(e,t,r,s){const c=this._events.get(t);if(c){const u=c.get(r);u?u.add(s):c.set(r,new Set([s]))}else this._events.set(t,new Map([[r,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Ck)})}removeHandler(e,t,r){const s=this._events.get(e);if(!s)return;const c=s.get(t);c&&(c.delete(r),0===c.size&&s.delete(t),0===s.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Ck)))}}const Dk={enterDuration:225,exitDuration:150},Ak=lS({passive:!0,capture:!0}),Sk=["mousedown","touchstart"],xk=["mouseup","mouseleave","touchend","touchcancel"];class pS{static#e=this._eventManager=new JN;constructor(e,t,r,s){this._target=e,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=By(r))}fadeInRipple(e,t,r={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...Dk,...r.animation};r.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const u=r.radius||function tF(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+s*s)}(e,t,s),g=e-s.left,y=t-s.top,w=c.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=g-u+"px",T.style.top=y-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(T);const S=window.getComputedStyle(T),V=S.transitionDuration,X="none"===S.transitionProperty||"0s"===V||"0s, 0s"===V||0===s.width&&0===s.height,ne=new XN(this,T,r,X);T.style.transform="scale3d(1, 1, 1)",ne.state=Ys.FADING_IN,r.persistent||(this._mostRecentTransientRipple=ne);let ce=null;return!X&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Te=()=>this._finishRippleTransition(ne),je=()=>this._destroyRipple(ne);T.addEventListener("transitionend",Te),T.addEventListener("transitioncancel",je),ce={onTransitionEnd:Te,onTransitionCancel:je}}),this._activeRipples.set(ne,ce),(X||!w)&&this._finishRippleTransition(ne),ne}fadeOutRipple(e){if(e.state===Ys.FADING_OUT||e.state===Ys.HIDDEN)return;const t=e.element,r={...Dk,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=Ys.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=By(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Sk.forEach(r=>{pS._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xk.forEach(t=>{this._triggerElement.addEventListener(t,this,Ak)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ys.FADING_IN?this._startFadeOutTransition(e):e.state===Ys.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Ys.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ys.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=_k(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!vk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Ys.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ys.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Sk.forEach(t=>pS._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&xk.forEach(t=>e.removeEventListener(t,this,Ak)))}}const Rk=new h.OlP("mat-ripple-global-options");let nF=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,s,c,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new pS(this,r,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(co),h.Y36(Rk,8),h.Y36(h.QbO,8))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){2&r&&h.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),rF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[zy,zy]})}return n})();const Mk={capture:!0},Pk=["focus","click","mouseenter","touchstart"],gP="mat-ripple-loader-uninitialized",_P="mat-ripple-loader-class-name",Ok="mat-ripple-loader-centered",mS="mat-ripple-loader-disabled";let iF=(()=>{class n{constructor(){this._document=(0,h.f3M)(ge,{optional:!0}),this._animationMode=(0,h.f3M)(h.QbO,{optional:!0}),this._globalRippleOptions=(0,h.f3M)(Rk,{optional:!0}),this._platform=(0,h.f3M)(co),this._ngZone=(0,h.f3M)(h.R0b),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const s=t.target.closest(`[${gP}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const t of Pk)this._document?.addEventListener(t,this._onInteraction,Mk)})}ngOnDestroy(){const t=this._hosts.keys();for(const r of t)this.destroyRipple(r);for(const r of Pk)this._document?.removeEventListener(r,this._onInteraction,Mk)}configureRipple(t,r){t.setAttribute(gP,""),(r.className||!t.hasAttribute(_P))&&t.setAttribute(_P,r.className||""),r.centered&&t.setAttribute(Ok,""),r.disabled&&t.setAttribute(mS,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){const s=this._hosts.get(t);s?s.disabled=r:r?t.setAttribute(mS,""):t.removeAttribute(mS)}_createRipple(t){if(!this._document)return;const r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",t.getAttribute(_P)),t.append(s);const c=new nF(new h.SBq(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=t,c.centered=t.hasAttribute(Ok),c.disabled=t.hasAttribute(mS),this.attachRipple(t,c),c}attachRipple(t,r){t.removeAttribute(gP),this._hosts.set(t,r)}destroyRipple(t){const r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kk=["mat-button",""],Nk=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Fk=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],aF=new h.OlP("MAT_BUTTON_CONFIG"),cF=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Lk=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,s,c){this._elementRef=t,this._platform=r,this._ngZone=s,this._animationMode=c,this._focusMonitor=(0,h.f3M)(fP),this._rippleLoader=(0,h.f3M)(iF),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const u=(0,h.f3M)(aF,{optional:!0}),g=t.nativeElement,y=g.classList;this.disabledInteractive=u?.disabledInteractive??!1,this._rippleLoader?.configureRipple(g,{className:"mat-mdc-button-ripple"});for(const{attribute:w,mdcClasses:T}of cF)g.hasAttribute(w)&&y.add(...T)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275dir=h.lG2({type:n,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",h.VuI],disabled:["disabled","disabled",h.VuI],ariaDisabled:["aria-disabled","ariaDisabled",h.VuI],disabledInteractive:["disabledInteractive","disabledInteractive",h.VuI]},features:[h.Xq5]})}return n})(),lF=(()=>{class n extends Lk{constructor(t,r,s,c){super(t,r,s,c),this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){h.$Z()};static#t=this.\u0275dir=h.lG2({type:n,inputs:{tabIndex:["tabIndex","tabIndex",t=>null==t?void 0:(0,h.Cb_)(t)]},features:[h.Xq5,h.qOj]})}return n})(),Vk=(()=>{class n extends Lk{constructor(t,r,s,c){super(t,r,s,c)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(co),h.Y36(h.R0b),h.Y36(h.QbO,8))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,s){2&r&&(h.uIk("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),h.Tol(s.color?"mat-"+s.color:""),h.ekj("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[h.qOj,h.jDz],attrs:kk,ngContentSelectors:Fk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){1&r&&(h.F$t(Nk),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)),2&r&&h.ekj("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),uF=(()=>{class n extends lF{constructor(t,r,s,c){super(t,r,s,c)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(co),h.Y36(h.R0b),h.Y36(h.QbO,8))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,s){2&r&&(h.uIk("disabled",s._getDisabledAttribute())("tabindex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("aria-disabled",s._getDisabledAttribute()),h.Tol(s.color?"mat-"+s.color:""),h.ekj("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[h.qOj,h.jDz],attrs:kk,ngContentSelectors:Fk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,s){1&r&&(h.F$t(Nk),h._UZ(0,"span",0),h.Hsn(1),h.TgZ(2,"span",1),h.Hsn(3,1),h.qZA(),h.Hsn(4,2),h._UZ(5,"span",2)(6,"span",3)),2&r&&h.ekj("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),hF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[zy,rF,zy]})}return n})(),fF=(()=>{class n{openEasterEgg(){window.open("https://github.com/chiaraferrara","_blank")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-chisiamo"]],decls:17,vars:0,consts:[["id","picture"],["id","content"],[1,"mb-4"],["href","https://www.instagram.com/explore/tags/ferrosessuale/top/","target","_blank","id","ferrosex"],[3,"click"],["href","https://github.com/gianmarco2307","mat-button","","target","_blank","id","GitHub"],["src","assets/github-mark.png","id","githubLogo"]],template:function(r,s){1&r&&(h._UZ(0,"div",0),h.TgZ(1,"div",1)(2,"h2"),h._uU(3,"Chi Sono"),h.qZA(),h.TgZ(4,"p",2),h._uU(5," Sono un appassionato di viaggi e di musica, con un "),h.TgZ(6,"a",3),h._uU(7,"amore particolare per le ferrovie"),h.qZA(),h._uU(8," . La passione per l'esplorazione e la scoperta mi ha portato a creare SpotiRFI, un progetto unico che unisce la bellezza del viaggio in treno con il potere evocativo della musica. Ogni stazione ferroviaria sulla mappa diventa una tappa di un viaggio musicale attraverso la Sicilia, offrendo un'esperienza unica che spero possa arricchire i vostri viaggi tanto quanto ha arricchito i miei. "),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"p"),h._uU(11," Se vuoi passa dal "),h.TgZ(12,"span",4),h.NdJ("click",function(){return s.openEasterEgg()}),h._uU(13,"mio "),h.qZA(),h.TgZ(14,"a",5),h._UZ(15,"img",6),h._uU(16,"GitHub"),h.qZA()()())},dependencies:[uF],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#picture[_ngcontent-%COMP%]{background-image:url(PMAgnone.c90becf0931e3593.JPG);width:100%;height:82%;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center;background-attachment:fixed;z-index:0}h2[_ngcontent-%COMP%]{margin-top:2em;font-family:Merienda,cursive;font-weight:bolder}#content[_ngcontent-%COMP%]{max-width:58em;text-align:justify;margin:0 auto;padding:2em;font-size:18px;font-family:Merienda,cursive;line-height:1.7}#ferrosex[_ngcontent-%COMP%]{text-decoration:none;color:#000}#ferrosex[_ngcontent-%COMP%]:hover{color:#393939}#GitHub[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-weight:700}#githubLogo[_ngcontent-%COMP%]{height:24px;margin-right:10px}']})}return n})(),pF=(()=>{class n{constructor(t){this.path="";let r=t.path().split("/");this.path=r[1].toUpperCase()}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ze))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-tabellone"]],decls:50,vars:1,consts:[["href","https://fonts.cdnfonts.com/css/caros","rel","stylesheet"],[1,"background"],[1,"riga"],[1,"binario"],[1,"destinazione"],[1,"pdest"],[1,"treno"],[1,"ptreno"],[1,"partenza"],[1,"ppart"],[1,"info"],[1,"pinfo"]],template:function(r,s){1&r&&(h._UZ(0,"link",0),h.TgZ(1,"div",1),h._UZ(2,"br"),h.TgZ(3,"div",2)(4,"div",3)(5,"h2")(6,"b"),h._uU(7,"1"),h.qZA()()(),h.TgZ(8,"div",4)(9,"p")(10,"b"),h._uU(11,"destinazione "),h.qZA(),h.TgZ(12,"i"),h._uU(13,"destination"),h.qZA()(),h.TgZ(14,"div",5)(15,"h4"),h._uU(16),h.qZA()()()(),h._UZ(17,"br"),h.TgZ(18,"div",2)(19,"div",6)(20,"p")(21,"b"),h._uU(22,"treno "),h.qZA(),h.TgZ(23,"i"),h._uU(24,"train"),h.qZA()(),h.TgZ(25,"div",7)(26,"h4"),h._uU(27,"SPOTIRFI"),h.qZA(),h.TgZ(28,"h5"),h._uU(29,"REG 21886"),h.qZA()()(),h.TgZ(30,"div",8)(31,"p")(32,"b"),h._uU(33,"partenza "),h.qZA(),h.TgZ(34,"i"),h._uU(35,"departure"),h.qZA()(),h.TgZ(36,"div",9)(37,"h4"),h._uU(38,"CANCELLATO"),h.qZA()()()(),h._UZ(39,"br"),h.TgZ(40,"div",2)(41,"div",10)(42,"p")(43,"b"),h._uU(44,"informazioni "),h.qZA(),h.TgZ(45,"i"),h._uU(46,"informations"),h.qZA()(),h.TgZ(47,"div",11)(48,"h4"),h._uU(49,"E' SEVERAMENTE VIETATO ATTRAVERSARE LA LINEA GIALLA"),h.qZA()()()()()),2&r&&(h.xp6(16),h.Oqu(s.path))},styles:['@import"https://fonts.cdnfonts.com/css/caros";.background[_ngcontent-%COMP%]{width:40em;height:20.35em;background-color:#000;margin:auto}.riga[_ngcontent-%COMP%]{border-top:.1em white solid;width:38em;margin:0 1em}.binario[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}h2[_ngcontent-%COMP%]{font-size:5em}.destinazione[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.destinazione[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pdest[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 20s linear infinite}.pdest[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em;overflow:hidden}.treno[_ngcontent-%COMP%]{color:#fff;font-family:Caros,sans-serif;width:11.5em;float:left}.treno[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ptreno[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:10.99em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ptreno[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;margin-left:.2em;margin-bottom:.1em}.ptreno[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1em;margin-left:.2em}.partenza[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.partenza[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.ppart[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin-left:11em;width:27em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite}.ppart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2.4em}.info[_ngcontent-%COMP%]{color:#fff;width:61em;float:initial}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:x-small;font-family:Caros,sans-serif}.pinfo[_ngcontent-%COMP%]{background-color:#484848;color:#484848;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;width:38em;height:3em;float:initial;animation:_ngcontent-%COMP%_lighting 15s linear infinite;overflow:hidden}.pinfo[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.8em;white-space:nowrap;position:relative;animation:_ngcontent-%COMP%_scroll-left 20s linear infinite}@keyframes _ngcontent-%COMP%_lighting{0%{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}to{color:#fff900;text-shadow:0 0 7px #fff900,0 0 50px #ff6c00}}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(100%)}to{transform:translate(-100%)}}']})}return n})(),mF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-notfound"]],decls:6,vars:0,consts:[["controls","","autoplay",""],["src","assets/404.mp3","type","audio/mpeg"]],template:function(r,s){1&r&&(h.TgZ(0,"article"),h._UZ(1,"app-tabellone"),h.qZA(),h.TgZ(2,"article")(3,"audio",0),h._UZ(4,"source",1),h._uU(5," Il tuo browser non supporta l'elemento audio. "),h.qZA()())},dependencies:[pF],styles:["article[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;margin:6em;font-family:Merienda,cursive}"]})}return n})();function gF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",16),h.NdJ("click",function(){const c=h.CHM(t).$implicit,u=h.oxw(2).$implicit,g=h.oxw();return h.KtG(g.stationToModal(c,u.note))}),h._uU(1),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(),h.Oqu(t)}}function _F(n,e){if(1&n&&(h.TgZ(0,"div",13),h._UZ(1,"iframe",14)(2,"br")(3,"br")(4,"br"),h.TgZ(5,"ul"),h.YNc(6,gF,2,1,"li",15),h.qZA()()),2&n){const t=h.oxw().index,r=h.oxw();h.xp6(),h.Q6J("src",r.srcs[t],h.uOi),h.xp6(5),h.Q6J("ngForOf",r.stations[t])}}function vF(n,e){if(1&n&&(h.TgZ(0,"div",11),h.YNc(1,_F,7,2,"div",12),h.qZA()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(),h.Q6J("ngIf",t.id==r.id)}}const yF=[{path:"",component:Xb},{path:"home",component:Xb},{path:"tratte",component:rN},{path:"chisono",component:fF},{path:"tratta/:id",component:(()=>{class n{constructor(t,r,s){this.fireServ=t,this.route=r,this.sanitizer=s,this.id=null,this.tratte=[],this.stations=[],this.srcs=[],this.actualStation="",this.actualLine=""}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.fireServ.getTratte().subscribe(t=>{let r=0;for(let s of t){let c;this.trattaSrc=this.sanitizer.bypassSecurityTrustResourceUrl(s.src),this.srcs.push(this.trattaSrc),this.stations[r]=this.stations[r]||[],c=s.stations.split("_"),this.stations[r]=c,r++}this.tratte=t})}stationToModal(t,r){this.actualStation=t,this.actualLine=r}openMaps(){let t,r;r="AMAT"==this.actualLine?"fermata tram "+this.actualLine+" di "+this.actualStation+" Palermo":"atm"==this.actualLine?"fermata tram "+this.actualLine+" di "+this.actualStation+" Messina":"stazione di "+this.actualStation,t="https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(r),window.open(t,"_blank"),console.log(t)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(ik),h.Y36(hr),h.Y36(Ng))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-playlist-page"]],decls:15,vars:2,consts:[["class","container",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"container"],["class","incontainer",4,"ngIf"],[1,"incontainer"],["width","100%","height","500","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px",3,"src"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"click"]],template:function(r,s){1&r&&(h.YNc(0,vF,2,1,"div",0),h.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),h._uU(6),h.qZA(),h._UZ(7,"button",6),h.qZA(),h.TgZ(8,"div",7),h._uU(9," ... "),h.qZA(),h.TgZ(10,"div",8)(11,"button",9),h._uU(12,"Close"),h.qZA(),h.TgZ(13,"button",10),h.NdJ("click",function(){return s.openMaps()}),h._uU(14,"Apri su Maps"),h.qZA()()()()()),2&r&&(h.Q6J("ngForOf",s.tratte),h.xp6(6),h.hij("Stazione di ",s.actualStation,""))},dependencies:[sn,el],styles:['@import"https://fonts.cdnfonts.com/css/futura-std-4";.container[_ngcontent-%COMP%]{align-items:center;width:55%;margin-bottom:4em;margin-top:6em}.incontainer[_ngcontent-%COMP%]{align-items:center;font-family:Futura Std,sans-serif;font-weight:700;font-size:x-large}.map[_ngcontent-%COMP%]{display:block;margin:auto;width:75%;height:auto}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:auto;width:max-content}li[_ngcontent-%COMP%]:before{content:"";border-radius:50%;width:.625em;height:.625em;background:red;display:inline-block;margin-right:.625em}li[_ngcontent-%COMP%]{margin:.625em 0;position:relative;cursor:pointer}li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:.125em;height:calc(100% + .625em);background:red;left:.25em;top:.625em}li[_ngcontent-%COMP%]:first-child:after{top:.625em}li[_ngcontent-%COMP%]:last-child:after{height:0}@media screen and (min-width: 1025px) and (max-width: 1300px){.container[_ngcontent-%COMP%]{align-items:center;width:72%}}@media screen and (min-width: 768px) and (max-width: 1024px){.container[_ngcontent-%COMP%]{align-items:center;width:77%}}@media screen and (min-width: 281px) and (max-width: 767px){.container[_ngcontent-%COMP%]{align-items:center;width:90%}}@media screen and (max-width: 280px){.container[_ngcontent-%COMP%]{align-items:center;width:97%}}']})}return n})()},{path:"**",component:mF}];let bF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[A_.forRoot(yF),A_]})}return n})(),IF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:20,vars:0,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body","fixed-top"],[1,"container-fluid"],["routerLink","home",1,"navbar-brand"],["src","assets/logocompatto.png","alt","Logo","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","tratte",1,"nav-link"],["routerLink","chisono",1,"nav-link"],["href","https://www.rfi.it/it.html","target","_blank",1,"nav-link"],["href","https://open.spotify.com/intl-it","target","_blank",1,"nav-link"]],template:function(r,s){1&r&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),h._UZ(3,"img",3),h.qZA(),h.TgZ(4,"button",4),h._UZ(5,"span",5),h.qZA(),h.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),h._uU(10,"Le tratte"),h.qZA()(),h.TgZ(11,"li",8)(12,"a",10),h._uU(13,"Chi sono"),h.qZA()(),h.TgZ(14,"li",8)(15,"a",11),h._uU(16," RFI "),h.qZA()(),h.TgZ(17,"li",8)(18,"a",12),h._uU(19," Spotify "),h.qZA()()()()()())},dependencies:[Bl],styles:['@import"https://fonts.googleapis.com/css2?family=Merienda&family=Tilt+Neon&family=Ubuntu:ital,wght@1,500&family=Young+Serif&display=swap";#shareButton[_ngcontent-%COMP%]{color:transparent;background-color:transparent;border:transparent;float:right}nav[_ngcontent-%COMP%]{font-family:Merienda,cursive;font-size:16px}']})}return n})();const EF=["addListener","removeListener"],wF=["addEventListener","removeEventListener"],TF=["on","off"];function vP(n,e,t,r){if((0,vn.m)(t)&&(r=t,t=void 0),r)return vP(n,e,t).pipe(fa(r));const[s,c]=function AF(n){return(0,vn.m)(n.addEventListener)&&(0,vn.m)(n.removeEventListener)}(n)?wF.map(u=>g=>n[u](e,g,t)):function CF(n){return(0,vn.m)(n.addListener)&&(0,vn.m)(n.removeListener)}(n)?EF.map(Uk(n,e)):function DF(n){return(0,vn.m)(n.on)&&(0,vn.m)(n.off)}(n)?TF.map(Uk(n,e)):[];if(!s&&pl(n))return Kn(u=>vP(u,e,t))(Nt(n));if(!s)throw new TypeError("Invalid event target");return new Gn.y(u=>{const g=(...y)=>u.next(1<y.length?y:y[0]);return s(g),()=>c(g)})}function Uk(n,e){return t=>r=>n[t](e,r)}const xw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=xw;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const s=e(c=>{t=void 0,n(c)});return new yn.w0(()=>t?.(s))},requestAnimationFrame(...n){const{delegate:e}=xw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=xw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class xF extends e0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;e=e||r.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,s){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw s}}}(class SF extends Jb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=xw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var s;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==t&&(xw.cancelAnimationFrame(t),e._scheduled=void 0)}});let yP,MF=1;const gS={};function Bk(n){return n in gS&&(delete gS[n],!0)}const PF={setImmediate(n){const e=MF++;return gS[e]=!0,yP||(yP=Promise.resolve()),yP.then(()=>Bk(e)&&n()),e},clearImmediate(n){Bk(n)}},{setImmediate:OF,clearImmediate:kF}=PF,_S={setImmediate(...n){const{delegate:e}=_S;return(e?.setImmediate||OF)(...n)},clearImmediate(n){const{delegate:e}=_S;return(e?.clearImmediate||kF)(n)},delegate:void 0};new class FF extends e0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;e=e||r.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,s){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw s}}}(class NF extends Jb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=_S.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var s;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(s=c[c.length-1])||void 0===s?void 0:s.id)!==t&&(_S.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function jk(n,e=Hl){return function VF(n){return(0,Rn.e)((e,t)=>{let r=!1,s=null,c=null,u=!1;const g=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const w=s;s=null,t.next(w)}u&&t.complete()},y=()=>{c=null,u&&t.complete()};e.subscribe((0,cn.x)(t,w=>{r=!0,s=w,c||Nt(n(w)).subscribe(c=(0,cn.x)(t,g,y))},()=>{u=!0,(!r||!c||c.closed)&&t.complete()}))})}(()=>function BF(n=0,e,t=t0){let r=-1;return null!=e&&(Vf(e)?t=e:r=e),new Gn.y(s=>{let c=function UF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let u=0;return t.schedule(function(){s.closed||(s.next(u++),0<=r?this.schedule(void 0,r):s.complete())},c)})}(n,e))}let zF=(()=>{class n{constructor(t,r,s){this._ngZone=t,this._platform=r,this._scrolled=new Wt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Gn.y(r=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(jk(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const s=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ln(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,t)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let s=By(r),c=t.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vP(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(h.R0b),h.LFG(co),h.LFG(ge,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zk=(()=>{class n{constructor(t,r,s){this._platform=t,this._change=new Wt.x,this._changeListener=c=>{this._change.next(c)},this._document=s,r.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),s=t.documentElement,c=s.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||r.scrollY||s.scrollTop||0,left:-c.left||t.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(jk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(co),h.LFG(h.R0b),h.LFG(ge,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})(),$k=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({imports:[Aw,Hk,Aw,Hk]})}return n})();class bP{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class IP extends bP{constructor(e,t,r,s,c){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=s,this.projectableNodes=c}}class Gk extends bP{constructor(e,t,r,s){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=s}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class $F extends bP{constructor(e){super(),this.element=e instanceof h.SBq?e.nativeElement:e}}class EP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof IP?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Gk?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof $F?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class GF extends EP{constructor(e,t,r,s,c){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=s,this.attachDomPortal=u=>{const g=u.element,y=this._document.createComment("dom-portal");g.parentNode.insertBefore(y,g),this.outletElement.appendChild(g),this._attachedPortal=u,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(g,y)})},this._document=c}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=r.create(e.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(s=>this.outletElement.appendChild(s)),r.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(r);-1!==s&&t.remove(s)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let wP=(()=>{class n extends EP{constructor(t,r,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new h.vpe,this.attachDomPortal=c=>{const u=c.element,g=this._document.createComment("dom-portal");c.setAttachedHost(this),u.parentNode.insertBefore(g,u),this._getRootNode().appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(u,g)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,c=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(c,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h._Vd),h.Y36(h.s_b),h.Y36(ge))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[h.qOj]})}return n})(),vS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({})}return n})();const qk=oN();class qF{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=zr(-this._previousScrollPosition.left),e.style.top=zr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,s=this._document.body.style,c=r.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),qk&&(r.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qk&&(r.scrollBehavior=c,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class ZF{constructor(e,t,r,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ln(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Zk{enable(){}disable(){}attach(){}}function TP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Wk(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class WF{constructor(e,t,r,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:s}=this._viewportRuler.getViewportSize();TP(t,[{width:r,height:s,bottom:s,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YF=(()=>{class n{constructor(t,r,s,c){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new Zk,this.close=u=>new ZF(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new qF(this._viewportRuler,this._document),this.reposition=u=>new WF(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=c}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(zF),h.LFG(zk),h.LFG(h.R0b),h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Yk{constructor(e){if(this.scrollStrategy=new Zk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class KF{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Kk=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QF=(()=>{class n extends Kk{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=s=>{const c=this._attachedOverlays;for(let u=c.length-1;u>-1;u--)if(c[u]._keydownEvents.observers.length>0){const g=c[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge),h.LFG(h.R0b,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XF=(()=>{class n extends Kk{constructor(t,r,s){super(t),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=Xh(c)},this._clickListener=c=>{const u=Xh(c),g="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let w=y.length-1;w>-1;w--){const T=y[w];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(g))break;const S=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(c)):S.next(c)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge),h.LFG(co),h.LFG(h.R0b,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yS=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||dP()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].remove()}const r=this._document.createElement("div");r.classList.add(t),dP()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(ge),h.LFG(co))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bS{constructor(e,t,r,s,c,u,g,y,w,T=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=s,this._ngZone=c,this._keyboardDispatcher=u,this._document=g,this._location=y,this._outsideClickDispatcher=w,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new Wt.x,this._attachments=new Wt.x,this._detachments=new Wt.x,this._locationChanges=yn.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Wt.x,this._outsidePointerEvents=new Wt.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ri(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=zr(this._config.width),e.height=zr(this._config.height),e.minWidth=zr(this._config.minWidth),e.minHeight=zr(this._config.minHeight),e.maxWidth=zr(this._config.maxWidth),e.maxHeight=zr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const s=dS(t||[]).filter(c=>!!c);s.length&&(r?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(bd(ql(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Qk="cdk-overlay-connected-position-bounding-box",JF=/([A-Za-z%]+)$/;class eL{get positions(){return this._preferredPositions}constructor(e,t,r,s,c){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Wt.x,this._resizeSubscription=yn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Qk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,s=this._containerRect,c=[];let u;for(let g of this._preferredPositions){let y=this._getOriginPoint(e,s,g),w=this._getOverlayPoint(y,t,g),T=this._getOverlayFit(w,t,r,g);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,y);this._canFitWithFlexibleDimensions(T,w,r)?c.push({position:g,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,g)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:w,originPoint:y,position:g,overlayRect:t})}if(c.length){let g=null,y=-1;for(const w of c){const T=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);T>y&&(y=T,g=w)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Qk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let s,c;if("center"==r.originX)s=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,g=this._isRtl()?e.left:e.right;s="start"==r.originX?u:g}return t.left<0&&(s-=t.left),c="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(c-=t.top),{x:s,y:c}}_getOverlayPoint(e,t,r){let s,c;return s="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,c="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+s,y:e.y+c}}_getOverlayFit(e,t,r,s){const c=Jk(t);let{x:u,y:g}=e,y=this._getOffset(s,"x"),w=this._getOffset(s,"y");y&&(u+=y),w&&(g+=w);let P=0-g,V=g+c.height-r.height,X=this._subtractOverflows(c.width,0-u,u+c.width-r.width),ne=this._subtractOverflows(c.height,P,V),ce=X*ne;return{visibleArea:ce,isCompletelyWithinViewport:c.width*c.height===ce,fitsInViewportVertically:ne===c.height,fitsInViewportHorizontally:X==c.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const s=r.bottom-t.y,c=r.right-t.x,u=Xk(this._overlayRef.getConfig().minHeight),g=Xk(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=s)&&(e.fitsInViewportHorizontally||null!=g&&g<=c)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=Jk(t),c=this._viewportRect,u=Math.max(e.x+s.width-c.width,0),g=Math.max(e.y+s.height-c.height,0),y=Math.max(c.top-r.top-e.y,0),w=Math.max(c.left-r.left-e.x,0);let T=0,S=0;return T=s.width<=c.width?w||-u:e.x<this._viewportMargin?c.left-r.left-e.x:0,S=s.height<=c.height?y||-g:e.y<this._viewportMargin?c.top-r.top-e.y:0,this._previousPushAmount={x:T,y:S},{x:e.x+T,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),s=new KF(e,r);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,s=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let c=0;c<t.length;c++)t[c].style.transformOrigin=`${r} ${s}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,s=this._isRtl();let c,u,g,T,S,P;if("top"===t.overlayY)u=e.y,c=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)g=r.height-e.y+2*this._viewportMargin,c=r.height-g+this._viewportMargin;else{const V=Math.min(r.bottom-e.y+r.top,e.y),X=this._lastBoundingBoxSize.height;c=2*V,u=e.y-V,c>X&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-X/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)P=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)S=e.x,T=r.right-e.x;else{const V=Math.min(r.right-e.x+r.left,e.x),X=this._lastBoundingBoxSize.width;T=2*V,S=e.x-V,T>X&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-X/2)}return{top:u,left:S,bottom:g,right:P,width:T,height:c}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=zr(r.height),s.top=zr(r.top),s.bottom=zr(r.bottom),s.width=zr(r.width),s.left=zr(r.left),s.right=zr(r.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",c&&(s.maxHeight=zr(c)),u&&(s.maxWidth=zr(u))}this._lastBoundingBoxSize=r,hg(this._boundingBox.style,s)}_resetBoundingBoxStyles(){hg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},s=this._hasExactPosition(),c=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const T=this._viewportRuler.getViewportScrollPosition();hg(r,this._getExactOverlayY(t,e,T)),hg(r,this._getExactOverlayX(t,e,T))}else r.position="static";let g="",y=this._getOffset(t,"x"),w=this._getOffset(t,"y");y&&(g+=`translateX(${y}px) `),w&&(g+=`translateY(${w}px)`),r.transform=g.trim(),u.maxHeight&&(s?r.maxHeight=zr(u.maxHeight):c&&(r.maxHeight="")),u.maxWidth&&(s?r.maxWidth=zr(u.maxWidth):c&&(r.maxWidth="")),hg(this._pane.style,r)}_getExactOverlayY(e,t,r){let s={top:"",bottom:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":s.top=zr(c.y),s}_getExactOverlayX(e,t,r){let u,s={left:"",right:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":s.left=zr(c.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Wk(e,r),isOriginOutsideView:TP(e,r),isOverlayClipped:Wk(t,r),isOverlayOutsideView:TP(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,s)=>r-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&dS(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function hg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Xk(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(JF);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Jk(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const e1="cdk-global-overlay-wrapper";class tL{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(e1),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:s,height:c,maxWidth:u,maxHeight:g}=r,y=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==c&&"100vh"!==c||g&&"100%"!==g&&"100vh"!==g),T=this._xPosition,S=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let V="",X="",ne="";y?ne="flex-start":"center"===T?(ne="center",P?X=S:V=S):P?"left"===T||"end"===T?(ne="flex-end",V=S):("right"===T||"start"===T)&&(ne="flex-start",X=S):"left"===T||"start"===T?(ne="flex-start",V=S):("right"===T||"end"===T)&&(ne="flex-end",X=S),e.position=this._cssPosition,e.marginLeft=y?"0":V,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=y?"0":X,t.justifyContent=ne,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(e1),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let nL=(()=>{class n{constructor(t,r,s,c){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=c}global(){return new tL}flexibleConnectedTo(t){return new eL(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(zk),h.LFG(ge),h.LFG(co),h.LFG(yS))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rL=0,qu=(()=>{class n{constructor(t,r,s,c,u,g,y,w,T,S,P,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=u,this._injector=g,this._ngZone=y,this._document=w,this._directionality=T,this._location=S,this._outsideClickDispatcher=P,this._animationsModuleType=V}create(t){const r=this._createHostElement(),s=this._createPaneElement(r),c=this._createPortalOutlet(s),u=new Yk(t);return u.direction=u.direction||this._directionality.value,new bS(c,r,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+rL++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new GF(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(YF),h.LFG(yS),h.LFG(h._Vd),h.LFG(nL),h.LFG(QF),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(ge),h.LFG(mP),h.LFG(ze),h.LFG(XF),h.LFG(h.QbO,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const iL=new h.OlP("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,h.f3M)(qu);return()=>n.scrollStrategies.reposition()}}),sL={provide:iL,deps:[qu],useFactory:function oL(n){return()=>n.scrollStrategies.reposition()}};let t1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[qu,sL],imports:[Aw,vS,$k,$k]})}return n})();function aL(n,e){}class IS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let n1=(()=>{class n extends EP{constructor(t,r,s,c,u,g,y,w){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=u,this._ngZone=g,this._overlayRef=y,this._focusMonitor=w,this._platform=(0,h.f3M)(co),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,h.f3M)(h.sBO),this.attachDomPortal=T=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(T);return this._contentAttached(),S},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(r)}_focusByCssSelector(t,r){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const s=uP(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=uP();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=uP()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(gk),h.Y36(ge,8),h.Y36(IS),h.Y36(hP),h.Y36(h.R0b),h.Y36(bS),h.Y36(fP))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(1&r&&h.Gf(wP,7),2&r){let c;h.iGM(c=h.CRH())&&(s._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){2&r&&h.uIk("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[h.qOj,h.jDz],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){1&r&&h.YNc(0,aL,0,0,"ng-template",0)},dependencies:[wP],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class CP{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Wt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!ak(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const r1=new h.OlP("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,h.f3M)(qu);return()=>n.scrollStrategies.block()}}),cL=new h.OlP("DialogData"),lL=new h.OlP("DefaultDialogConfig");let dL=0,o1=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,s,c,u,g){this._overlay=t,this._injector=r,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Wt.x,this._afterOpenedAtThisLevel=new Wt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=To(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ki(void 0))),this._scrollStrategy=g}open(t,r){(r={...this._defaultOptions||new IS,...r}).id=r.id||"cdk-dialog-"+dL++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),u=this._overlay.create(c),g=new CP(u,r),y=this._attachContainer(u,g,r);return g.containerInstance=y,this._attachDialogContent(t,g,y,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){DP(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){DP(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),DP(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new Yk({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,s){const c=s.injector||s.viewContainerRef?.injector,u=[{provide:IS,useValue:s},{provide:CP,useValue:r},{provide:bS,useValue:t}];let g;s.container?"function"==typeof s.container?g=s.container:(g=s.container.type,u.push(...s.container.providers(s))):g=n1;const y=new IP(g,s.viewContainerRef,h.zs3.create({parent:c||this._injector,providers:u}),s.componentFactoryResolver);return t.attach(y).instance}_attachDialogContent(t,r,s,c){if(t instanceof h.Rgc){const u=this._createInjector(c,r,s,void 0);let g={$implicit:c.data,dialogRef:r};c.templateContext&&(g={...g,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),s.attachTemplatePortal(new Gk(t,null,g,u))}else{const u=this._createInjector(c,r,s,this._injector),g=s.attachComponentPortal(new IP(t,c.viewContainerRef,u,c.componentFactoryResolver));r.componentRef=g,r.componentInstance=g.instance}}_createInjector(t,r,s,c){const u=t.injector||t.viewContainerRef?.injector,g=[{provide:cL,useValue:t.data},{provide:CP,useValue:r}];return t.providers&&("function"==typeof t.providers?g.push(...t.providers(r,t,s)):g.push(...t.providers)),t.direction&&(!u||!u.get(mP,null,{optional:!0}))&&g.push({provide:mP,useValue:{value:t.direction,change:Ke()}}),h.zs3.create({parent:u||c,providers:g})}_removeOpenDialog(t,r){const s=this.openDialogs.indexOf(t);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,u)=>{c?u.setAttribute("aria-hidden",c):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let s=r.length-1;s>-1;s--){const c=r[s];c!==t&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(qu),h.LFG(h.zs3),h.LFG(lL,8),h.LFG(n,12),h.LFG(yS),h.LFG(r1))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DP(n,e){let t=n.length;for(;t--;)e(n[t])}let hL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[o1],imports:[t1,vS,UN,vS]})}return n})();function fL(n,e){}ee(825);class AP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const SP="mdc-dialog--open",s1="mdc-dialog--opening",a1="mdc-dialog--closing";let c1=(()=>{class n extends n1{constructor(t,r,s,c,u,g,y,w,T){super(t,r,s,c,u,g,y,T),this._animationMode=w,this._animationStateChanged=new h.vpe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?u1(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?u1(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(l1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(s1,SP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(SP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(SP),this._animationsEnabled?(this._hostElement.style.setProperty(l1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(a1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(s1,a1)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const r=super.attachComponentPortal(t);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(h.SBq),h.Y36(gk),h.Y36(ge,8),h.Y36(AP),h.Y36(hP),h.Y36(h.R0b),h.Y36(bS),h.Y36(h.QbO,8),h.Y36(fP))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(r,s){2&r&&(h.Ikx("id",s._config.id),h.uIk("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),h.ekj("_mat-animation-noopable",!s._animationsEnabled))},standalone:!0,features:[h.qOj,h.jDz],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,fL,0,0,"ng-template",2),h.qZA()())},dependencies:[wP],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();const l1="--mat-dialog-transition-duration";function u1(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?lk(n.substring(0,n.length-2)):n.endsWith("s")?1e3*lk(n.substring(0,n.length-1)):"0"===n?0:null}var ES=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(ES||{});class xP{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Wt.x,this._beforeClosed=new Wt.x,this._state=ES.OPEN,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Ln(s=>"opened"===s.state),ri(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ln(s=>"closed"===s.state),ri(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ql(this.backdropClick(),this.keydownEvents().pipe(Ln(s=>27===s.keyCode&&!this.disableClose&&!ak(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),d1(this,"keydown"===s.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ln(t=>"closing"===t.state),ri(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=ES.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=ES.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function d1(n,e,t){return n._closeInteractionType=e,n.close(t)}const gL=new h.OlP("MatMdcDialogData"),_L=new h.OlP("mat-mdc-dialog-default-options"),h1=new h.OlP("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,h.f3M)(qu);return()=>n.scrollStrategies.block()}});let yL=0,wS=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,s,c,u,g,y,w){this._overlay=t,this._defaultOptions=c,this._scrollStrategy=u,this._parentDialog=g,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Wt.x,this._afterOpenedAtThisLevel=new Wt.x,this.dialogConfigClass=AP,this.afterAllClosed=To(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ki(void 0))),this._dialog=r.get(o1),this._dialogRefConstructor=xP,this._dialogContainerType=c1,this._dialogDataToken=gL}open(t,r){let s;(r={...this._defaultOptions||new AP,...r}).id=r.id||"mat-mdc-dialog-"+yL++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:IS,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(u,g,y)=>(s=new this._dialogRefConstructor(u,r,y),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:y},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentRef=c.componentRef,s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(s);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static#e=this.\u0275fac=function(r){return new(r||n)(h.LFG(qu),h.LFG(h.zs3),h.LFG(ze,8),h.LFG(_L,8),h.LFG(h1),h.LFG(n,12),h.LFG(yS),h.LFG(h.QbO,8))};static#t=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bL=0,f1=(()=>{class n{constructor(t,r,s){this.dialogRef=t,this._elementRef=r,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=_1(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){d1(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(xP,8),h.Y36(h.SBq),h.Y36(wS))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,s){1&r&&h.NdJ("click",function(u){return s._onButtonClick(u)}),2&r&&h.uIk("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[h.TTD]})}return n})(),p1=(()=>{class n{constructor(t,r,s){this._dialogRef=t,this._elementRef=r,this._dialog=s,this.id="mat-mdc-dialog-title-"+bL++}ngOnInit(){this._dialogRef||(this._dialogRef=_1(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance;t&&Promise.resolve().then(()=>{t._removeAriaLabelledBy?.(this.id)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(xP,8),h.Y36(h.SBq),h.Y36(wS))};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,s){2&r&&h.Ikx("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0})}return n})(),m1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return n})(),g1=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=h.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(r,s){2&r&&h.ekj("mat-mdc-dialog-actions-align-center","center"===s.align)("mat-mdc-dialog-actions-align-end","end"===s.align)},inputs:{align:"align"},standalone:!0})}return n})();function _1(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let IL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n});static#n=this.\u0275inj=h.cJS({providers:[wS],imports:[hL,t1,vS,zy,zy]})}return n})(),EL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-disclaimer-dialog"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""]],template:function(r,s){1&r&&(h.TgZ(0,"h2",0),h._uU(1,"Disclaimer"),h.qZA(),h.TgZ(2,"mat-dialog-content"),h._uU(3,"SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti."),h.qZA(),h.TgZ(4,"mat-dialog-actions")(5,"button",1),h._uU(6,"Chiudi"),h.qZA()())},dependencies:[f1,p1,g1,m1,Vk]})}return n})(),wL=(()=>{class n{constructor(t){this.dialog=t}openDialog(){this.dialog.open(EL)}disclaimer(){window.alert("SpotiRFI \xe8 un sito indipendente e non \xe8 affiliato, sponsorizzato o approvato da Spotify o RFI. Non abbiamo l\u2019intenzione di ledere in alcun modo la loro immagine o reputazione. Il nostro obiettivo \xe8 fornire un servizio utile e di qualit\xe0 per i nostri utenti, nel rispetto dei diritti di propriet\xe0 intellettuale e delle normative vigenti.")}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(wS))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer"]],decls:66,vars:0,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary","bg-dark","border-bottom","border-body"],[1,"layout"],[1,"footer-wrapper","clearfix"],[1,"grid-3","footer-logo"],["href","#"],["alt","html layout logo","src","assets/logo.png"],[1,"footer-text"],["mat-button","",3,"click"],[1,"material-symbols-outlined"],[1,"grid-3"],[1,"footer-heading"],[1,"footermenu"],["routerLink","tratte"],["routerLink","chisono"],["href","https://www.rfi.it/it.html","target","_blank"],["href","https://open.spotify.com/intl-it","target","_blank"],[1,"footer-contact"],["href","./tratta/PalermoMessina"],["href","./tratta/AnelloPalermo"],["href","./tratta/AgrigentoPalermo"],["href","./tratta/SiracusaCaltanissetta"],["href","./tratta/CataniaGela"],[1,"footerblog"],["href","https://www.fsitaliane.it/content/dam/fsitaliane/Documents/impegno/per-lambiente/progetti/Atlante%20delle%20linee%20ferroviarie%20dismesse.pdf","target","_blank"],["href","https://epodweb.rfi.it/Download.ashx?q=lTmHEqG6%2FeC61zq42ZZheV8ouJSzS%2B5udsN2POFdeD4hdoONi5u5MvreFVXiIbvj","target","_blank"],["href","https://www.rfi.it/it/chi-siamo/Il-rapporto-con-lo-Stato-e-con-gli-stakeholder/il-piano-commerciale.html","target","_blank"]],template:function(r,s){1&r&&(h._UZ(0,"link",0),h.TgZ(1,"footer",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),h._UZ(6,"img",6),h.qZA(),h.TgZ(7,"p",7),h._uU(8," SpotiRFI: Un viaggio musicale unico attraverso le linee ferroviarie della Sicilia. Ogni stazione, una nuova canzone. "),h.qZA(),h.TgZ(9,"button",8),h.NdJ("click",function(){return s.openDialog()}),h.TgZ(10,"span",9),h._uU(11," info "),h.qZA()()(),h.TgZ(12,"div",10)(13,"p",11),h._uU(14,"pagine"),h.qZA(),h.TgZ(15,"ul",12)(16,"li")(17,"a",13),h._uU(18,"Le tratte"),h.qZA()(),h.TgZ(19,"li")(20,"a",14),h._uU(21,"Chi sono"),h.qZA()(),h.TgZ(22,"li")(23,"a",15),h._uU(24,"RFI"),h.qZA()(),h.TgZ(25,"li")(26,"a",16),h._uU(27,"Spotify"),h.qZA()()()(),h.TgZ(28,"div",10)(29,"p",11),h._uU(30,"link"),h.qZA(),h.TgZ(31,"ul",17)(32,"li")(33,"a",18),h._uU(34,"Palermo - Messina"),h.qZA()(),h.TgZ(35,"li")(36,"a",19),h._uU(37,"Anello Ferroviario Palermo"),h.qZA()(),h.TgZ(38,"li")(39,"a",20),h._uU(40,"Agrigento - Palermo"),h.qZA()(),h.TgZ(41,"li")(42,"a",21),h._uU(43,"Siracusa - Caltanissetta"),h.qZA()(),h.TgZ(44,"li")(45,"a",22),h._uU(46,"Catania - Gela"),h.qZA()()()(),h.TgZ(47,"div",10)(48,"p",11),h._uU(49,"link utili"),h.qZA(),h.TgZ(50,"ul",23)(51,"li")(52,"a",24),h._uU(53,"Linee dismesse"),h.qZA(),h.TgZ(54,"p"),h._uU(55,"FS Italiane"),h.qZA()(),h.TgZ(56,"li")(57,"a",25),h._uU(58,"Regolamento Circolazione Treni"),h.qZA(),h.TgZ(59,"p"),h._uU(60,"RFI"),h.qZA()(),h.TgZ(61,"li")(62,"a",26),h._uU(63,"Piano Commerciale"),h.qZA(),h.TgZ(64,"p"),h._uU(65,"RFI"),h.qZA()()()()()()())},dependencies:[Bl,Vk],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}*[_ngcontent-%COMP%]{list-style:none;text-decoration:none;margin:0}img[_ngcontent-%COMP%]{height:3.7em}html[_ngcontent-%COMP%]{overflow-y:scroll}body[_ngcontent-%COMP%]{background:#b7b7b7 none repeat scroll 0 0;font-family:Open Sans,sans-serif}ul[_ngcontent-%COMP%]{padding:0}.clearfix[_ngcontent-%COMP%]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.clearfix[_ngcontent-%COMP%]{display:inline-block}*[_ngcontent-%COMP%]   html[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{height:1%}.clearfix[_ngcontent-%COMP%]{display:block}.layout[_ngcontent-%COMP%]{margin:0 auto;max-width:1170px;width:100%;padding:0 15px}.grid-3[_ngcontent-%COMP%]{width:25%;float:left;min-height:1px;padding-left:15px;padding-right:15px;position:relative}.footer-wrapper[_ngcontent-%COMP%]{padding:100px 0}.footer-text[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;margin:40px 0 0;text-align:justify}footer[_ngcontent-%COMP%]   .footer-heading[_ngcontent-%COMP%]{color:#e1e1e1;font:18px/19px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]{margin-top:32px}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{line-height:25px}.footer-wrapper[_ngcontent-%COMP%]   ul.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"-";margin:0 5px 0 0}.footermenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#dcdcdc;font-size:14px;line-height:34px;text-transform:capitalize}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin:0 8px 0 0;color:#fff}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:14px}.footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footer-contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c7c7c7;font:13px/28px Open Sans,sans-serif;letter-spacing:1.2px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b4b4b4;font:13px/18px Open Sans,sans-serif;letter-spacing:1.2px;padding-bottom:10px}.footerblog[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c7c7c7;font:italic 12px/18px Open Sans,sans-serif}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#22c489}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 200,"GRAD" 200,"opsz" 24;color:#fff}button[_ngcontent-%COMP%]{background-color:transparent;border:none;margin:1em}@media (max-width:980px){.layout[_ngcontent-%COMP%]{width:767px}.grid-3[_ngcontent-%COMP%]{width:50%}.footer-heading[_ngcontent-%COMP%]{margin-top:18px}}@media (max-width:640px){.layout[_ngcontent-%COMP%]{width:300px}.grid-3[_ngcontent-%COMP%]{width:100%}.footermenu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;float:none;line-height:25px}}']})}return n})(),TL=(()=>{class n{constructor(t){this.router=t,this.title="SpotiRFI",this.router.events.subscribe(r=>{r instanceof Ji&&window.scrollTo(0,0)})}static#e=this.\u0275fac=function(r){return new(r||n)(h.Y36(Ro))};static#t=this.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,s){1&r&&h._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[v,IF,wL]})}return n})();const CL_firebaseConfig={apiKey:"AIzaSyBhT4vrImMOpXLps9RtD_GROoPflfGtM4U",authDomain:"spotirfi-cd7a9.firebaseapp.com",databaseURL:"https://spotirfi-cd7a9-default-rtdb.firebaseio.com",projectId:"spotirfi-cd7a9",storageBucket:"spotirfi-cd7a9.appspot.com",messagingSenderId:"207743558815",appId:"1:207743558815:web:1d28c36da0a303fca7eeaa",measurementId:"G-8Z6DVSWE34"};class AL{constructor(e,t,r,s,c){this.doc=e,this.delegate=t,this.zone=r,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??ee.e(108).then(ee.bind(ee,108))).catch(t=>{throw new h.vHH(5300,!1)}).then(({\u0275createEngine:t,\u0275AnimationRendererFactory:r})=>{const s=t(this.animationType,this.doc),c=new r(this.delegate,s,this.zone);return this.delegate=c,c})}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(0===r.\u0275type)return r;"boolean"==typeof r.throwOnSyntheticProps&&(r.throwOnSyntheticProps=!1);const s=new SL(r);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{const u=c.createRenderer(e,t);s.use(u)}).catch(c=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}}class SL{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,null!==this.replay){for(const t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,s){this.delegate.insertBefore(e,t,r,s)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return null!==this.replay&&e.startsWith("@")}}function xL(n="animations"){return(0,h.MR2)([{provide:h.FYo,useFactory:(e,t,r)=>new AL(e,t,r,n),deps:[ge,rc,h.R0b]},{provide:h.QbO,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}let RL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=h.oAB({type:n,bootstrap:[TL]});static#n=this.\u0275inj=h.cJS({providers:[aP,xL()],imports:[Og,bF,TT.initializeApp(CL_firebaseConfig),j1,IL,hF]})}return n})();aa().bootstrapModule(RL).catch(n=>console.error(n))},619:(on,Xe,ee)=>{ee.d(Xe,{X:()=>fe});var h=ee(645);class fe extends h.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const Me=super._subscribe(be);return!Me.closed&&be.next(this._value),Me}getValue(){const{hasError:be,thrownError:Me,_value:ge}=this;if(be)throw Me;return this._throwIfClosed(),ge}next(be){super.next(this._value=be)}}},592:(on,Xe,ee)=>{ee.d(Xe,{y:()=>Pt});var h=ee(305),fe=ee(394),H=ee(850),be=ee(407),Me=ee(653),ge=ee(674),dt=ee(441);let Pt=(()=>{class ie{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const pt=new ie;return pt.source=this,pt.operator=ke,pt}subscribe(ke,pt,xt){const ze=function j(ie){return ie&&ie instanceof h.Lv||function q(ie){return ie&&(0,ge.m)(ie.next)&&(0,ge.m)(ie.error)&&(0,ge.m)(ie.complete)}(ie)&&(0,fe.Nn)(ie)}(ke)?ke:new h.Hp(ke,pt,xt);return(0,dt.x)(()=>{const{operator:it,source:Jt}=this;ze.add(it?it.call(ze,Jt):Jt?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(ke){try{return this._subscribe(ke)}catch(pt){ke.error(pt)}}forEach(ke,pt){return new(pt=He(pt))((xt,ze)=>{const it=new h.Hp({next:Jt=>{try{ke(Jt)}catch(kn){ze(kn),it.unsubscribe()}},error:ze,complete:xt});this.subscribe(it)})}_subscribe(ke){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(ke)}[H.L](){return this}pipe(...ke){return(0,be.U)(ke)(this)}toPromise(ke){return new(ke=He(ke))((pt,xt)=>{let ze;this.subscribe(it=>ze=it,it=>xt(it),()=>pt(ze))})}}return ie.create=Ge=>new ie(Ge),ie})();function He(ie){var Ge;return null!==(Ge=ie??Me.config.Promise)&&void 0!==Ge?Ge:Promise}},645:(on,Xe,ee)=>{ee.d(Xe,{x:()=>dt});var h=ee(592),fe=ee(394);const be=(0,ee(306).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=ee(39),ge=ee(441);let dt=(()=>{class He extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ie=new Pt(this,this);return ie.operator=j,ie}_throwIfClosed(){if(this.closed)throw new be}next(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(j)}})}error(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ie}=this;for(;ie.length;)ie.shift().error(j)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ie,isStopped:Ge,observers:ke}=this;return ie||Ge?fe.Lc:(this.currentObservers=null,ke.push(j),new fe.w0(()=>{this.currentObservers=null,(0,Me.P)(ke,j)}))}_checkFinalizedStatuses(j){const{hasError:ie,thrownError:Ge,isStopped:ke}=this;ie?j.error(Ge):ke&&j.complete()}asObservable(){const j=new h.y;return j.source=this,j}}return He.create=(q,j)=>new Pt(q,j),He})();class Pt extends dt{constructor(q,j){super(),this.destination=q,this.source=j}next(q){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ie||ie.call(j,q)}error(q){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ie||ie.call(j,q)}complete(){var q,j;null===(j=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===j||j.call(q)}_subscribe(q){var j,ie;return null!==(ie=null===(j=this.source)||void 0===j?void 0:j.subscribe(q))&&void 0!==ie?ie:fe.Lc}}},305:(on,Xe,ee)=>{ee.d(Xe,{Hp:()=>xt,Lv:()=>ie});var h=ee(674),fe=ee(394),H=ee(653),be=ee(894),Me=ee(420);const ge=He("C",void 0,void 0);function He(mt,Ae,tt){return{kind:mt,value:Ae,error:tt}}var q=ee(599),j=ee(441);class ie extends fe.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,fe.Nn)(Ae)&&Ae.add(this)):this.destination=kn}static create(Ae,tt,Gt){return new xt(Ae,tt,Gt)}next(Ae){this.isStopped?Jt(function Pt(mt){return He("N",mt,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Jt(function dt(mt){return He("E",void 0,mt)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Jt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ke(mt,Ae){return Ge.call(mt,Ae)}class pt{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:tt}=this;if(tt.next)try{tt.next(Ae)}catch(Gt){ze(Gt)}}error(Ae){const{partialObserver:tt}=this;if(tt.error)try{tt.error(Ae)}catch(Gt){ze(Gt)}else ze(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(tt){ze(tt)}}}class xt extends ie{constructor(Ae,tt,Gt){let Ye;if(super(),(0,h.m)(Ae)||!Ae)Ye={next:Ae??void 0,error:tt??void 0,complete:Gt??void 0};else{let Ee;this&&H.config.useDeprecatedNextContext?(Ee=Object.create(Ae),Ee.unsubscribe=()=>this.unsubscribe(),Ye={next:Ae.next&&ke(Ae.next,Ee),error:Ae.error&&ke(Ae.error,Ee),complete:Ae.complete&&ke(Ae.complete,Ee)}):Ye=Ae}this.destination=new pt(Ye)}}function ze(mt){H.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(mt):(0,be.h)(mt)}function Jt(mt,Ae){const{onStoppedNotification:tt}=H.config;tt&&q.z.setTimeout(()=>tt(mt,Ae))}const kn={closed:!0,next:Me.Z,error:function it(mt){throw mt},complete:Me.Z}},394:(on,Xe,ee)=>{ee.d(Xe,{Lc:()=>ge,w0:()=>Me,Nn:()=>dt});var h=ee(674);const H=(0,ee(306).d)(He=>function(j){He(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ie,Ge)=>`${Ge+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var be=ee(39);class Me{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ke of j)ke.remove(this);else j.remove(this);const{initialTeardown:ie}=this;if((0,h.m)(ie))try{ie()}catch(ke){q=ke instanceof H?ke.errors:[ke]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const ke of Ge)try{Pt(ke)}catch(pt){q=q??[],pt instanceof H?q=[...q,...pt.errors]:q.push(pt)}}if(q)throw new H(q)}}add(q){var j;if(q&&q!==this)if(this.closed)Pt(q);else{if(q instanceof Me){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(q)}}_hasParent(q){const{_parentage:j}=this;return j===q||Array.isArray(j)&&j.includes(q)}_addParent(q){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(q),j):j?[j,q]:q}_removeParent(q){const{_parentage:j}=this;j===q?this._parentage=null:Array.isArray(j)&&(0,be.P)(j,q)}remove(q){const{_finalizers:j}=this;j&&(0,be.P)(j,q),q instanceof Me&&q._removeParent(this)}}Me.EMPTY=(()=>{const He=new Me;return He.closed=!0,He})();const ge=Me.EMPTY;function dt(He){return He instanceof Me||He&&"closed"in He&&(0,h.m)(He.remove)&&(0,h.m)(He.add)&&(0,h.m)(He.unsubscribe)}function Pt(He){(0,h.m)(He)?He():He.unsubscribe()}},653:(on,Xe,ee)=>{ee.d(Xe,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},251:(on,Xe,ee)=>{ee.d(Xe,{x:()=>fe});var h=ee(305);function fe(be,Me,ge,dt,Pt){return new H(be,Me,ge,dt,Pt)}class H extends h.Lv{constructor(Me,ge,dt,Pt,He,q){super(Me),this.onFinalize=He,this.shouldUnsubscribe=q,this._next=ge?function(j){try{ge(j)}catch(ie){Me.error(ie)}}:super._next,this._error=Pt?function(j){try{Pt(j)}catch(ie){Me.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=dt?function(){try{dt()}catch(j){Me.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},398:(on,Xe,ee)=>{ee.d(Xe,{U:()=>H});var h=ee(360),fe=ee(251);function H(be,Me){return(0,h.e)((ge,dt)=>{let Pt=0;ge.subscribe((0,fe.x)(dt,He=>{dt.next(be.call(Me,He,Pt++))}))})}},599:(on,Xe,ee)=>{ee.d(Xe,{z:()=>h});const h={setTimeout(fe,H,...be){const{delegate:Me}=h;return Me?.setTimeout?Me.setTimeout(fe,H,...be):setTimeout(fe,H,...be)},clearTimeout(fe){const{delegate:H}=h;return(H?.clearTimeout||clearTimeout)(fe)},delegate:void 0}},850:(on,Xe,ee)=>{ee.d(Xe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},39:(on,Xe,ee)=>{function h(fe,H){if(fe){const be=fe.indexOf(H);0<=be&&fe.splice(be,1)}}ee.d(Xe,{P:()=>h})},306:(on,Xe,ee)=>{function h(fe){const be=fe(Me=>{Error.call(Me),Me.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}ee.d(Xe,{d:()=>h})},441:(on,Xe,ee)=>{ee.d(Xe,{O:()=>be,x:()=>H});var h=ee(653);let fe=null;function H(Me){if(h.config.useDeprecatedSynchronousErrorHandling){const ge=!fe;if(ge&&(fe={errorThrown:!1,error:null}),Me(),ge){const{errorThrown:dt,error:Pt}=fe;if(fe=null,dt)throw Pt}}else Me()}function be(Me){h.config.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=Me)}},737:(on,Xe,ee)=>{function h(fe){return fe}ee.d(Xe,{y:()=>h})},674:(on,Xe,ee)=>{function h(fe){return"function"==typeof fe}ee.d(Xe,{m:()=>h})},360:(on,Xe,ee)=>{ee.d(Xe,{A:()=>fe,e:()=>H});var h=ee(674);function fe(be){return(0,h.m)(be?.lift)}function H(be){return Me=>{if(fe(Me))return Me.lift(function(ge){try{return be(ge,this)}catch(dt){this.error(dt)}});throw new TypeError("Unable to lift unknown Observable type")}}},420:(on,Xe,ee)=>{function h(){}ee.d(Xe,{Z:()=>h})},407:(on,Xe,ee)=>{ee.d(Xe,{U:()=>H,z:()=>fe});var h=ee(737);function fe(...be){return H(be)}function H(be){return 0===be.length?h.y:1===be.length?be[0]:function(ge){return be.reduce((dt,Pt)=>Pt(dt),ge)}}},894:(on,Xe,ee)=>{ee.d(Xe,{h:()=>H});var h=ee(653),fe=ee(599);function H(be){fe.z.setTimeout(()=>{const{onUnhandledError:Me}=h.config;if(!Me)throw be;Me(be)})}},825:(on,Xe,ee)=>{ee.d(Xe,{IO:()=>Ge,SB:()=>dt,X$:()=>fe,ZE:()=>Gt,ZN:()=>tt,eR:()=>He,jt:()=>H,k1:()=>Ye,l3:()=>h,oB:()=>ge,pV:()=>j,ru:()=>be,vP:()=>Me});const h="*";function fe(Ee,F){return{type:7,name:Ee,definitions:F,options:{}}}function H(Ee,F=null){return{type:4,styles:F,timings:Ee}}function be(Ee,F=null){return{type:3,steps:Ee,options:F}}function Me(Ee,F=null){return{type:2,steps:Ee,options:F}}function ge(Ee){return{type:6,styles:Ee,offset:null}}function dt(Ee,F,Re){return{type:0,name:Ee,styles:F,options:Re}}function He(Ee,F,Re=null){return{type:1,expr:Ee,animation:F,options:Re}}function j(Ee=null){return{type:9,options:Ee}}function Ge(Ee,F,Re=null){return{type:11,selector:Ee,animation:F,options:Re}}class tt{constructor(F=0,Re=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=F+Re}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(F=>F()),this._onDoneFns=[])}onStart(F){this._originalOnStartFns.push(F),this._onStartFns.push(F)}onDone(F){this._originalOnDoneFns.push(F),this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(F=>F()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(F){this._position=this.totalTime?F*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(F){const Re="start"==F?this._onStartFns:this._onDoneFns;Re.forEach(Tt=>Tt()),Re.length=0}}class Gt{constructor(F){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=F;let Re=0,Tt=0,Nn=0;const Jr=this.players.length;0==Jr?queueMicrotask(()=>this._onFinish()):this.players.forEach(Tr=>{Tr.onDone(()=>{++Re==Jr&&this._onFinish()}),Tr.onDestroy(()=>{++Tt==Jr&&this._onDestroy()}),Tr.onStart(()=>{++Nn==Jr&&this._onStart()})}),this.totalTime=this.players.reduce((Tr,Cr)=>Math.max(Tr,Cr.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(F=>F()),this._onDoneFns=[])}init(){this.players.forEach(F=>F.init())}onStart(F){this._onStartFns.push(F)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(F=>F()),this._onStartFns=[])}onDone(F){this._onDoneFns.push(F)}onDestroy(F){this._onDestroyFns.push(F)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(F=>F.play())}pause(){this.players.forEach(F=>F.pause())}restart(){this.players.forEach(F=>F.restart())}finish(){this._onFinish(),this.players.forEach(F=>F.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(F=>F.destroy()),this._onDestroyFns.forEach(F=>F()),this._onDestroyFns=[])}reset(){this.players.forEach(F=>F.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(F){const Re=F*this.totalTime;this.players.forEach(Tt=>{const Nn=Tt.totalTime?Math.min(1,Re/Tt.totalTime):1;Tt.setPosition(Nn)})}getPosition(){const F=this.players.reduce((Re,Tt)=>null===Re||Tt.totalTime>Re.totalTime?Tt:Re,null);return null!=F?F.getPosition():0}beforeDestroy(){this.players.forEach(F=>{F.beforeDestroy&&F.beforeDestroy()})}triggerCallback(F){const Re="start"==F?this._onStartFns:this._onDoneFns;Re.forEach(Tt=>Tt()),Re.length=0}}const Ye="!"},212:(on,Xe,ee)=>{ee.d(Xe,{QbO:()=>op,tb:()=>Iy,AFp:()=>Ol,ip1:()=>by,hGG:()=>NM,z2F:()=>za,Ojb:()=>sp,sBO:()=>kp,Sil:()=>UE,_Vd:()=>vp,EJc:()=>xM,Xts:()=>Ds,SBq:()=>ql,lqb:()=>qr,qLn:()=>Wr,vpe:()=>Ns,XFs:()=>Mt,OlP:()=>Vt,zs3:()=>bi,ZZ4:()=>yt,aQg:()=>u0,soG:()=>Ey,YKP:()=>XD,h0i:()=>Su,R0b:()=>qn,FiY:()=>_a,Lbi:()=>Ta,g9A:()=>ip,Qsj:()=>Cx,FYo:()=>a0,JOm:()=>u_,q3G:()=>jl,tp0:()=>Cl,Rgc:()=>Ru,dDg:()=>EM,eoX:()=>NA,q4F:()=>LE,GfV:()=>xA,s_b:()=>gv,ifc:()=>cs,T8G:()=>N0,VuI:()=>rS,MMx:()=>Jv,Lck:()=>tE,eFA:()=>jt,f3M:()=>Lt,X6Q:()=>qs,$WT:()=>gi,MR2:()=>Ed,Cb_:()=>QM,_c5:()=>Xm,qFp:()=>JM,r_H:()=>Sb,rg0:()=>ST,c2e:()=>py,zSh:()=>Sl,wAp:()=>Hs,I6F:()=>Zh,vHH:()=>Se,lri:()=>OA,rWj:()=>kA,JZr:()=>pi,EiD:()=>dx,mCW:()=>C_,qzn:()=>Ei,JVY:()=>LP,pB0:()=>hT,eBb:()=>UP,L6k:()=>VP,LAX:()=>dT,cg1:()=>Mn,kuF:()=>Sr,kL8:()=>mm,dqk:()=>tr,Z0I:()=>kt,eJc:()=>$o,QGY:()=>VI,F4k:()=>UI,RDi:()=>Go,AaK:()=>jn,z3N:()=>Os,qOj:()=>nu,Xq5:()=>B0,TTD:()=>sa,jDz:()=>zh,xp6:()=>GT,uIk:()=>oh,Tol:()=>yr,ekj:()=>K0,Suo:()=>ly,Xpm:()=>Ja,lG2:()=>ec,Yz7:()=>z,cJS:()=>Ue,oAB:()=>ni,Yjl:()=>mf,Y36:()=>Qd,_UZ:()=>fm,BQk:()=>Nv,ynx:()=>kv,qZA:()=>Pv,TgZ:()=>Dt,EpF:()=>Bc,n5z:()=>vd,Ikx:()=>Fv,LFG:()=>lr,$8M:()=>Ki,$Z:()=>qT,NdJ:()=>BI,CRH:()=>fA,oxw:()=>jI,Hsn:()=>BD,F$t:()=>zI,Q6J:()=>RC,kEZ:()=>iy,l5B:()=>km,iGM:()=>cy,KtG:()=>kg,CHM:()=>lb,uOi:()=>Ec,P3R:()=>yT,Udp:()=>Y0,YNc:()=>Ko,_uU:()=>WI,Oqu:()=>Yv,hij:()=>Kv,AsE:()=>Vh,lnq:()=>Qv,Gf:()=>hA});let fe=null,be=1;function ge(i){const o=fe;return fe=i,o}function Ge(i){if((!tt(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==be)){if(!i.producerMustRecompute(i)&&!Jt(i))return i.dirty=!1,void(i.lastCleanEpoch=be);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=be}}function Jt(i){Gt(i);for(let o=0;o<i.producerNode.length;o++){const a=i.producerNode[o],l=i.producerLastReadVersion[o];if(l!==a.version||(Ge(a),l!==a.version))return!0}return!1}function Ae(i,o){if(function Ye(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Gt(i),1===i.liveConsumerNode.length)for(let l=0;l<i.producerNode.length;l++)Ae(i.producerNode[l],i.producerIndexOfThis[l]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const l=i.liveConsumerIndexOfThis[o],d=i.liveConsumerNode[o];Gt(d),d.producerIndexOfThis[l]=o}}function tt(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Gt(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Tr=null;var Dn=ee(645),Dr=ee(394),Ar=ee(619),pn=ee(398);function Ct(i){for(let o in i)if(i[o]===Ct)return o;throw Error("Could not find renamed property on target object.")}function Hr(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function jn(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(jn).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function lo(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const uo=Ct({__forward_ref__:Ct});function Qs(i){return i.__forward_ref__=Qs,i.toString=function(){return jn(this())},i}function Ve(i){return Ot(i)?i():i}function Ot(i){return"function"==typeof i&&i.hasOwnProperty(uo)&&i.__forward_ref__===Qs}function gt(i){return i&&!!i.\u0275providers}const pi="https://g.co/ng/security#xss";class Se extends Error{constructor(o,a){super(Sr(o,a)),this.code=o}}function Sr(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}const zn=Ct({\u0275cmp:Ct}),ns=Ct({\u0275dir:Ct}),en=Ct({\u0275pipe:Ct}),rs=Ct({\u0275mod:Ct}),_t=Ct({\u0275fac:Ct}),xr=Ct({__NG_ELEMENT_ID__:Ct}),ho=Ct({__NG_ENV_ID__:Ct});function st(i){return"string"==typeof i?i:null==i?"":String(i)}function Wa(i,o){throw new Se(-201,!1)}function rt(i,o){null==i&&function Ze(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function z(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ue(i){return{providers:i.providers||[],imports:i.imports||[]}}function ut(i){return Ht(i,Zi)||Ht(i,Wu)}function kt(i){return null!==ut(i)}function Ht(i,o){return i.hasOwnProperty(o)?i[o]:null}function _n(i){return i&&(i.hasOwnProperty(os)||i.hasOwnProperty(fg))?i[os]:null}const Zi=Ct({\u0275prov:Ct}),os=Ct({\u0275inj:Ct}),Wu=Ct({ngInjectableDef:Ct}),fg=Ct({ngInjectorDef:Ct});var Mt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Mt||{});let ef;function tf(){return ef}function ei(i){const o=ef;return ef=i,o}function sn(i,o,a){const l=ut(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Mt.Optional?null:void 0!==o?o:void Wa()}const tr=globalThis;class Vt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=z({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rl={},ti="__NG_DI_FLAG__",Ku="ngTempTokenPath",Zy=/\n/gm,sf="__source";let ss;function go(i){const o=ss;return ss=i,o}function Yy(i,o=Mt.Default){if(void 0===ss)throw new Se(-203,!1);return null===ss?sn(i,void 0,o):ss.get(i,o&Mt.Optional?null:void 0,o)}function lr(i,o=Mt.Default){return(tf()||Yy)(Ve(i),o)}function Lt(i,o=Mt.Default){return lr(i,Qu(o))}function Qu(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function il(i){const o=[];for(let a=0;a<i.length;a++){const l=Ve(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Se(900,!1);let d,p=Mt.Default;for(let _=0;_<l.length;_++){const b=l[_],E=af(b);"number"==typeof E?-1===E?d=b.token:p|=E:d=b}o.push(lr(d,p))}else o.push(lr(l))}return o}function as(i,o){return i[ti]=o,i.prototype[ti]=o,i}function af(i){return i[ti]}function No(i){return{toString:i}.toString()}var Js=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Js||{}),cs=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(cs||{});const Ri={},Zt=[];function Qa(i,o,a){let l=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||i.charCodeAt(d+p)<=32)return d}a=d+1}}function ol(i,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],_=a[l++],b=a[l++];i.setAttribute(o,_,b,p)}else{const p=d,_=a[++l];Qy(p)?i.setProperty(o,p,_):i.setAttribute(o,p,_),l++}}return l}function lf(i){return 3===i||4===i||6===i}function Qy(i){return 64===i.charCodeAt(0)}function ea(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||ta(i,a,d,null,-1===a||2===a?o[++l]:null)}}return i}function ta(i,o,a,l,d){let p=0,_=i.length;if(-1===o)_=-1;else for(;p<i.length;){const b=i[p++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=p-1;break}}}for(;p<i.length;){const b=i[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==d&&(i[p+1]=d));if(l===i[p+1])return void(i[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,o),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==d&&i.splice(p++,0,d)}const _o="ng-template";function uf(i,o,a){let l=0,d=!0;for(;l<i.length;){let p=i[l++];if("string"==typeof p&&d){const _=i[l++];if(a&&"class"===p&&-1!==Qa(_.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<i.length&&"string"==typeof(p=i[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function _g(i){return 4===i.type&&i.value!==_o}function Wi(i,o,a){return o===(4!==i.type||a?i.value:_o)}function Xu(i,o,a){let l=4;const d=i.attrs||[],p=function hf(i){for(let o=0;o<i.length;o++)if(lf(i[o]))return o;return i.length}(d);let _=!1;for(let b=0;b<o.length;b++){const E=o[b];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!Wi(i,E,a)||""===E&&1===o.length){if(Mi(l))return!1;_=!0}}else{const C=8&l?E:o[++b];if(8&l&&null!==i.attrs){if(!uf(i.attrs,C,a)){if(Mi(l))return!1;_=!0}continue}const M=Rw(8&l?"class":E,d,_g(i),a);if(-1===M){if(Mi(l))return!1;_=!0;continue}if(""!==C){let N;N=M>p?"":d[M+1].toLowerCase();const U=8&l?N:null;if(U&&-1!==Qa(U,C,0)||2&l&&C!==N){if(Mi(l))return!1;_=!0}}}}else{if(!_&&!Mi(l)&&!Mi(E))return!1;if(_&&Mi(E))continue;_=!1,l=E|1&l}}return Mi(l)||_}function Mi(i){return 0==(1&i)}function Rw(i,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const _=o[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function Jy(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function df(i,o,a=!1){for(let l=0;l<o.length;l++)if(Xu(i,o[l],a))return!0;return!1}function eb(i,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function Ju(i,o){return i?":not("+o.trim()+")":o}function Xa(i){let o=i[0],a=1,l=2,d="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const b=i[++a];d+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!Mi(_)&&(o+=Ju(p,d),d=""),l=_,p=p||!Mi(l);a++}return""!==d&&(o+=Ju(p,d)),o}function Ja(i){return No(()=>{const o=sl(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Js.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||cs.Emulated,styles:i.styles||Zt,_:null,schemas:i.schemas||null,tView:null,id:""};vg(a);const l=i.dependencies;return a.directiveDefs=ed(l,!1),a.pipeDefs=ed(l,!0),a.id=function Pi(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Pw(i){return Rt(i)||nr(i)}function pf(i){return null!==i}function ni(i){return No(()=>({type:i.type,bootstrap:i.bootstrap||Zt,declarations:i.declarations||Zt,imports:i.imports||Zt,exports:i.exports||Zt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function na(i,o){if(null==i)return Ri;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}function ec(i){return No(()=>{const o=sl(i);return vg(o),o})}function mf(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Rt(i){return i[zn]||null}function nr(i){return i[ns]||null}function Rr(i){return i[en]||null}function gi(i){const o=Rt(i)||nr(i)||Rr(i);return null!==o&&o.standalone}function Mr(i,o){const a=i[rs]||null;if(!a&&!0===o)throw new Error(`Type ${jn(i)} does not have '\u0275mod' property.`);return a}function sl(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Ri,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Zt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:na(i.inputs,o),outputs:na(i.outputs),debugInfo:null}}function vg(i){i.features?.forEach(o=>o(i))}function ed(i,o){if(!i)return null;const a=o?Rr:Pw;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(pf)}const Fn=0,we=1,nt=2,An=3,Oi=4,mr=5,vo=6,ra=7,at=8,Pr=9,ki=10,vt=11,al=12,_f=13,tc=14,Sn=15,ls=16,ia=17,yo=18,nc=19,td=20,bo=21,nd=22,Yi=23,ct=25,rd=1,_i=7,ds=9,$n=10;var cl=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(cl||{});function $r(i){return Array.isArray(i)&&"object"==typeof i[rd]}function gr(i){return Array.isArray(i)&&!0===i[rd]}function yg(i){return 0!=(4&i.flags)}function hs(i){return i.componentOffset>-1}function vf(i){return 1==(1&i.flags)}function Ni(i){return!!i.template}function yf(i){return 0!=(512&i[nt])}function ps(i,o){return i.hasOwnProperty(_t)?i[_t]:null}class If{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function sa(){return Ef}function Ef(i){return i.type.prototype.ngOnChanges&&(i.setInput=id),ms}function ms(){const i=xg(this),o=i?.current;if(o){const a=i.previous;if(a===Ri)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function id(i,o,a,l){const d=this.declaredInputs[a],p=xg(i)||function ib(i,o){return i[wf]=o}(i,{previous:Ri,current:null}),_=p.current||(p.current={}),b=p.previous,E=b[d];_[d]=new If(E&&E.currentValue,o,b===Ri),i[l]=o}sa.ngInherit=!0;const wf="__ngSimpleChanges__";function xg(i){return i[wf]||null}const Fo=function(i,o,a){};let rc=!1;function xn(i){for(;Array.isArray(i);)i=i[Fn];return i}function od(i,o){return xn(o[i])}function Or(i,o){return xn(o[i.index])}function sd(i,o){return i.data[o]}function rr(i,o){const a=o[i];return $r(a)?a:a[Fn]}function Sf(i){return 128==(128&i[nt])}function Vo(i,o){return null==o?null:i[o]}function Mg(i){i[ia]=0}function Lw(i){1024&i[nt]||(i[nt]|=1024,Sf(i)&&ic(i))}function ad(i){return 9216&i[nt]||i[Yi]?.dirty}function dl(i){ad(i)?ic(i):64&i[nt]&&(function Cf(){return rc}()?(i[nt]|=1024,ic(i)):i[ki].changeDetectionScheduler?.notify())}function ic(i){i[ki].changeDetectionScheduler?.notify();let o=gs(i);for(;null!==o&&!(8192&o[nt])&&(o[nt]|=8192,Sf(o));)o=gs(o)}function aa(i,o){if(256==(256&i[nt]))throw new Se(911,!1);null===i[bo]&&(i[bo]=[]),i[bo].push(o)}function gs(i){const o=i[An];return gr(o)?o[An]:o}const lt={lFrame:gl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xf(){return lt.bindingsEnabled}function ca(){return null!==lt.skipHydrationRootTNode}function oe(){return lt.lFrame.lView}function Ut(){return lt.lFrame.tView}function lb(i){return lt.lFrame.contextLView=i,i[at]}function kg(i){return lt.lFrame.contextLView=null,i}function an(){let i=ub();for(;null!==i&&64===i.type;)i=i.parent;return i}function ub(){return lt.lFrame.currentTNode}function Io(i,o){const a=lt.lFrame;a.currentTNode=i,a.isParent=o}function oc(){return lt.lFrame.isParent}function hl(){lt.lFrame.isParent=!1}function ur(){const i=lt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function vs(){return lt.lFrame.bindingIndex}function Eo(){return lt.lFrame.bindingIndex++}function ys(i){const o=lt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function fl(i,o){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,vn(o)}function vn(i){lt.lFrame.currentDirectiveIndex=i}function ua(){return lt.lFrame.currentQueryIndex}function pl(i){lt.lFrame.currentQueryIndex=i}function ml(i){const o=i[we];return 2===o.type?o.declTNode:1===o.type?i[mr]:null}function Of(i,o,a){if(a&Mt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&Mt.Host||(d=ml(p),null===d||(p=p[tc],10&d.type))););if(null===d)return!1;o=d,i=p}const l=lt.lFrame=kf();return l.currentTNode=o,l.lView=i,!0}function hd(i){const o=kf(),a=i[we];lt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function kf(){const i=lt.lFrame,o=null===i?null:i.child;return null===o?gl(i):o}function gl(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Lg(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Nf=Lg;function fd(){const i=Lg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function _r(){return lt.lFrame.selectedIndex}function bs(i){lt.lFrame.selectedIndex=i}function Nt(){const i=lt.lFrame;return sd(i.tView,i.selectedIndex)}let Ug=!0;function sc(){return Ug}function kr(i){Ug=i}function cn(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:C,ngOnDestroy:x}=p;_&&(i.contentHooks??=[]).push(-a,_),b&&((i.contentHooks??=[]).push(a,b),(i.contentCheckHooks??=[]).push(a,b)),E&&(i.viewHooks??=[]).push(-a,E),C&&((i.viewHooks??=[]).push(a,C),(i.viewCheckHooks??=[]).push(a,C)),null!=x&&(i.destroyHooks??=[]).push(a,x)}}function Li(i,o,a){ac(i,o,3,a)}function Uo(i,o,a,l){(3&i[nt])===a&&ac(i,o,a,l)}function vl(i,o){let a=i[nt];(3&a)===o&&(a&=16383,a+=1,i[nt]=a)}function ac(i,o,a,l){const p=l??-1,_=o.length-1;let b=0;for(let E=void 0!==l?65535&i[ia]:0;E<_;E++)if("number"==typeof o[E+1]){if(b=o[E],null!=l&&b>=l)break}else o[E]<0&&(i[ia]+=65536),(b<p||-1==p)&&(Lf(i,a,o,E),i[ia]=(4294901760&i[ia])+E+2),E++}function Is(i,o){Fo(4,i,o);const a=ge(null);try{o.call(i)}finally{ge(a),Fo(5,i,o)}}function Lf(i,o,a,l){const d=a[l]<0,p=a[l+1],b=i[d?-a[l]:a[l]];d?i[nt]>>14<i[ia]>>16&&(3&i[nt])===o&&(i[nt]+=16384,Is(b,p)):Is(b,p)}const da=-1;class yl{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ke(i){return i!==da}function Nr(i){return 32767&i}function ha(i,o){let a=function Bf(i){return i>>16}(i),l=o;for(;a>0;)l=l[tc],a--;return l}let jf=!0;function Es(i){const o=jf;return jf=i,o}const Bg=255,wo=5;let It=0;const Vi={};function fa(i,o){const a=lc(i,o);if(-1!==a)return a;const l=o[we];l.firstCreatePass&&(i.injectorIndex=o.length,pd(l.data,i),pd(o,null),pd(l.blueprint,null));const d=md(i,o),p=i.injectorIndex;if(Ke(d)){const _=Nr(d),b=ha(d,o),E=b[we].data;for(let C=0;C<8;C++)o[p+C]=b[_+C]|E[_+C]}return o[p+8]=d,p}function pd(i,o){i.push(0,0,0,0,0,0,0,0,o)}function lc(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function md(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=ri(d),null===l)return da;if(a++,d=d[tc],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return da}function gd(i,o,a){!function gb(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(xr)&&(l=a[xr]),null==l&&(l=a[xr]=It++);const d=l&Bg;o.data[i+(d>>wo)]|=1<<d}(i,o,a)}function bl(i,o,a){if(a&Mt.Optional||void 0!==i)return i;Wa()}function jg(i,o,a,l){if(a&Mt.Optional&&void 0===l&&(l=null),!(a&(Mt.Self|Mt.Host))){const d=i[Pr],p=ei(void 0);try{return d?d.get(o,l,a&Mt.Optional):sn(o,l,a&Mt.Optional)}finally{ei(p)}}return bl(l,0,a)}function Kn(i,o,a,l=Mt.Default,d){if(null!==i){if(2048&o[nt]&&!(l&Mt.Self)){const _=function dr(i,o,a,l,d){let p=i,_=o;for(;null!==p&&null!==_&&2048&_[nt]&&!(512&_[nt]);){const b=pa(p,_,a,l|Mt.Self,Vi);if(b!==Vi)return b;let E=p.parent;if(!E){const C=_[td];if(C){const x=C.get(a,Vi,l);if(x!==Vi)return x}E=ri(_),_=_[tc]}p=E}return d}(i,o,a,l,Vi);if(_!==Vi)return _}const p=pa(i,o,a,l,Vi);if(p!==Vi)return p}return jg(o,a,l,d)}function pa(i,o,a,l,d){const p=function Hf(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(xr)?i[xr]:void 0;return"number"==typeof o?o>=0?o&Bg:_d:o}(a);if("function"==typeof p){if(!Of(o,i,l))return l&Mt.Host?bl(d,0,l):jg(o,a,l,d);try{let _;if(_=p(l),null!=_||l&Mt.Optional)return _;Wa()}finally{Nf()}}else if("number"==typeof p){let _=null,b=lc(i,o),E=da,C=l&Mt.Host?o[Sn][mr]:null;for((-1===b||l&Mt.SkipSelf)&&(E=-1===b?md(i,o):o[b+8],E!==da&&vi(l,!1)?(_=o[we],b=Nr(E),o=ha(E,o)):b=-1);-1!==b;){const x=o[we];if(ws(p,b,x.data)){const M=_b(b,o,a,_,l,C);if(M!==Vi)return M}E=o[b+8],E!==da&&vi(l,o[we].data[b+8]===C)&&ws(p,b,o)?(_=x,b=Nr(E),o=ha(E,o)):b=-1}}return d}function _b(i,o,a,l,d,p){const _=o[we],b=_.data[i+8],x=Bo(b,_,a,null==l?hs(b)&&jf:l!=_&&0!=(3&b.type),d&Mt.Host&&p===b);return null!==x?To(o,_,x,b):Vi}function Bo(i,o,a,l,d){const p=i.providerIndexes,_=o.data,b=1048575&p,E=i.directiveStart,x=p>>20,N=d?b+x:i.directiveEnd;for(let U=l?b:b+x;U<N;U++){const K=_[U];if(U<E&&a===K||U>=E&&K.type===a)return U}if(d){const U=_[E];if(U&&Ni(U)&&U.type===a)return E}return null}function To(i,o,a,l){let d=i[a];const p=o.data;if(function pb(i){return i instanceof yl}(d)){const _=d;_.resolving&&function qi(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Se(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ft(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():st(i)}(p[a]));const b=Es(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?ei(_.injectImpl):null;Of(i,l,Mt.Default);try{d=i[a]=_.factory(void 0,p,i,l),o.firstCreatePass&&a>=l.directiveStart&&function Rn(i,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const _=Ef(o);(a.preOrderHooks??=[]).push(i,_),(a.preOrderCheckHooks??=[]).push(i,_)}d&&(a.preOrderHooks??=[]).push(0-i,d),p&&((a.preOrderHooks??=[]).push(i,p),(a.preOrderCheckHooks??=[]).push(i,p))}(a,p[a],o)}finally{null!==C&&ei(C),Es(b),_.resolving=!1,Nf()}}return d}function ws(i,o,a){return!!(a[o+(i>>wo)]&1<<i)}function vi(i,o){return!(i&Mt.Self||i&Mt.Host&&o)}class yn{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Kn(this._tNode,this._lView,o,Qu(l),a)}}function _d(){return new yn(an(),oe())}function vd(i){return No(()=>{const o=i.prototype.constructor,a=o[_t]||Wt(o),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const p=d[_t]||Wt(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Wt(i){return Ot(i)?()=>{const o=Wt(Ve(i));return o&&o()}:ps(i)}function ri(i){const o=i[we],a=o.type;return 2===a?o.declTNode:1===a?i[mr]:null}function Ki(i){return function zf(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(lf(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(an(),i)}const jo="__parameters__";function Do(i,o,a){return No(()=>{const l=function Co(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return b.annotation=_,b;function b(E,C,x){const M=E.hasOwnProperty(jo)?E[jo]:Object.defineProperty(E,jo,{value:[]})[jo];for(;M.length<=x;)M.push(null);return(M[x]=M[x]||[]).push(_),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function Gr(i,o){i.forEach(a=>Array.isArray(a)?Gr(a,o):o(a))}function Il(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function El(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Fr(i,o,a){let l=zo(i,o);return l>=0?i[1|l]=a:(l=~l,function Zf(i,o,a,l){let d=i.length;if(d==o)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Wf(i,o){const a=zo(i,o);if(a>=0)return i[1|a]}function zo(i,o){return function fc(i,o,a){let l=0,d=i.length>>a;for(;d!==l;){const p=l+(d-l>>1),_=i[p<<a];if(o===_)return p<<a;_>o?d=p:l=p+1}return~(d<<a)}(i,o,1)}const _a=as(Do("Optional"),8),Cl=as(Do("SkipSelf"),4),Ds=new Vt("ENVIRONMENT_INITIALIZER"),Qf=new Vt("INJECTOR",-1),Xf=new Vt("INJECTOR_DEF_TYPES");class So{get(o,a=rl){if(a===rl){const l=new Error(`NullInjectorError: No provider for ${jn(o)}!`);throw l.name="NullInjectorError",l}return a}}function Ed(i){return{\u0275providers:i}}function Jf(...i){return{\u0275providers:Dl(0,i),\u0275fromNgModule:!0}}function Dl(i,...o){const a=[],l=new Set;let d;const p=_=>{a.push(_)};return Gr(o,_=>{const b=_;As(b,p,[],l)&&(d||=[],d.push(b))}),void 0!==d&&Al(d,p),a}function Al(i,o){for(let a=0;a<i.length;a++){const{ngModule:l,providers:d}=i[a];_c(d,p=>{o(p,l)})}}function As(i,o,a,l){if(!(i=Ve(i)))return!1;let d=null,p=_n(i);const _=!p&&Rt(i);if(p||_){if(_&&!_.standalone)return!1;d=i}else{const E=i.ngModule;if(p=_n(E),!p)return!1;d=E}const b=l.has(d);if(_){if(b)return!1;if(l.add(d),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const C of E)As(C,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let C;l.add(d);try{Gr(p.imports,x=>{As(x,o,a,l)&&(C||=[],C.push(x))})}finally{}void 0!==C&&Al(C,o)}if(!b){const C=ps(d)||(()=>new d);o({provide:d,useFactory:C,deps:Zt},d),o({provide:Xf,useValue:d,multi:!0},d),o({provide:Ds,useValue:()=>lr(d),multi:!0},d)}const E=p.providers;if(null!=E&&!b){const C=i;_c(E,x=>{o(x,C)})}}}return d!==i&&void 0!==i.providers}function _c(i,o){for(let a of i)gt(a)&&(a=a.\u0275providers),Array.isArray(a)?_c(a,o):o(a)}const Xg=Ct({provide:String,useValue:Ct});function ep(i){return null!==i&&"object"==typeof i&&Xg in i}function ba(i){return"function"==typeof i}const Sl=new Vt("Set Injector scope."),xs={},Ab={};let xl;function Td(){return void 0===xl&&(xl=new So),xl}class qr{}class Ia extends qr{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ad(o,_=>this.processProvider(_)),this.records.set(Qf,eo(void 0,this)),d.has("environment")&&this.records.set(qr,eo(void 0,this));const p=this.records.get(Sl);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Xf,Zt,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=go(this),l=ei(void 0);try{return o()}finally{go(a),ei(l)}}get(o,a=rl,l=Mt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ho))return o[ho](this);l=Qu(l);const p=go(this),_=ei(void 0);try{if(!(l&Mt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function Dd(i){return"function"==typeof i||"object"==typeof i&&i instanceof Vt}(o)&&ut(o);E=C&&this.injectableDefInScope(C)?eo(Rs(o),xs):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&Mt.Self?Td():this.parent).get(o,a=l&Mt.Optional&&a===rl?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[Ku]=b[Ku]||[]).unshift(jn(o)),p)throw b;return function Ky(i,o,a,l){const d=i[Ku];throw o[sf]&&d.unshift(o[sf]),i.message=function cf(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=jn(o);if(Array.isArray(o))d=o.map(jn).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];p.push(_+":"+("string"==typeof b?JSON.stringify(b):jn(b)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Zy,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Ku]=null,i}(b,o,"R3InjectorError",this.source)}throw b}finally{ei(_),go(p)}}resolveInjectorInitializers(){const o=go(this),a=ei(void 0);try{const d=this.get(Ds,Zt,Mt.Self);for(const p of d)p()}finally{go(o),ei(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(jn(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(o){let a=ba(o=Ve(o))?o:Ve(o&&o.provide);const l=function Cd(i){return ep(i)?eo(void 0,i.useValue):eo(function Ji(i,o,a){let l;if(ba(i)){const d=Ve(i);return ps(d)||Rs(d)}if(ep(i))l=()=>Ve(i.useValue);else if(function Jg(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...il(i.deps||[]));else if(function Ss(i){return!(!i||!i.useExisting)}(i))l=()=>lr(Ve(i.useExisting));else{const d=Ve(i&&(i.useClass||i.provide));if(!function Ea(i){return!!i.deps}(i))return ps(d)||Rs(d);l=()=>new d(...il(i.deps))}return l}(i),xs)}(o);if(!ba(o)&&!0===o.multi){let d=this.records.get(a);d||(d=eo(void 0,xs,!0),d.factory=()=>il(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===xs&&(a.value=Ab,a.value=a.factory()),"object"==typeof a.value&&a.value&&function vc(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Ve(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Rs(i){const o=ut(i),a=null!==o?o.factory:ps(i);if(null!==a)return a;if(i instanceof Vt)throw new Se(204,!1);if(i instanceof Function)return function xo(i){if(i.length>0)throw new Se(204,!1);const a=function Wn(i){return i&&(i[Zi]||i[Wu])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Se(204,!1)}function eo(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function Ad(i,o){for(const a of i)Array.isArray(a)?Ad(a,o):a&&gt(a)?Ad(a.\u0275providers,o):o(a)}function Sb(i,o){i instanceof Ia&&i.assertNotDestroyed();const l=go(i),d=ei(void 0);try{return o()}finally{go(l),ei(d)}}function xd(i,o=null,a=null,l){const d=Ms(i,o,a,l);return d.resolveInjectorInitializers(),d}function Ms(i,o=null,a=null,l,d=new Set){const p=[a||Zt,Jf(i)];return l=l||("object"==typeof i?void 0:jn(i)),new Ia(p,o||Td(),l||null,d)}let Md,bi=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=rl;static#t=this.NULL=new So;static create(a,l){if(Array.isArray(a))return xd({name:""},l,a,"");{const d=a.name??"";return xd({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=z({token:i,providedIn:"any",factory:()=>lr(Qf)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function $o(i){return!!Mr(i)}function Go(i){Md=i}const Ol=new Vt("AppId",{providedIn:"root",factory:()=>Pd}),Pd="ng",ip=new Vt("Platform Initializer"),Ta=new Vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),op=new Vt("AnimationModuleType"),sp=new Vt("CSP nonce",{providedIn:"root",factory:()=>function hr(){if(void 0!==Md)return Md;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function R(i){return i instanceof Function?i():i}function c_(i){return 128==(128&i.flags)}var u_=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(u_||{});const kS=/^>|^->|<!--|-->|--!>|<!-$/g,NS=/(<|>)/g,FS="\u200b$1\u200b";const kb=new Map;let Zw=0;const Fb="__ngContext__";function oi(i,o){$r(o)?(i[Fb]=o[nc],function Ud(i){kb.set(i[nc],i)}(o)):i[Fb]=o}let Bb;function dp(i,o){return Bb(i,o)}function Fl(i,o,a,l,d){if(null!=l){let p,_=!1;gr(l)?p=l:$r(l)&&(_=!0,l=l[Fn]);const b=xn(l);0===i&&null!==a?null==d?Hb(o,a,b):Ll(o,a,b,d||null,!0):1===i&&null!==a?Ll(o,a,b,d||null,!0):2===i?function pp(i,o,a){const l=jd(i,o);l&&function YS(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,b,_):3===i&&o.destroyNode(b),null!=p&&function KS(i,o,a,l,d){const p=a[_i];p!==xn(a)&&Fl(o,i,l,p,d);for(let b=$n;b<a.length;b++){const E=a[b];b_(E[we],E,i,o,l,p)}}(o,i,p,a,d)}}function jb(i,o){return i.createComment(function LS(i){return i.replace(kS,o=>o.replace(NS,FS))}(o))}function p_(i,o,a){return i.createElement(o,a)}function Jw(i,o){o[ki].changeDetectionScheduler?.notify(),b_(i,o,o[vt],2,null,null)}function eT(i,o){const a=i[ds],l=a.indexOf(o);a.splice(l,1)}function hp(i,o){if(i.length<=$n)return;const a=$n+o,l=i[a];if(l){const d=l[ls];null!==d&&d!==i&&eT(d,l),o>0&&(i[a-1][Oi]=l[Oi]);const p=El(i,$n+o);!function m_(i,o){Jw(i,o),o[Fn]=null,o[mr]=null}(l[we],l);const _=p[yo];null!==_&&_.detachView(p[we]),l[An]=null,l[Oi]=null,l[nt]&=-129}return l}function g_(i,o){if(!(256&o[nt])){const a=o[vt];a.destroyNode&&b_(i,o,a,3,null,null),function GS(i){let o=i[al];if(!o)return __(i[we],i);for(;o;){let a=null;if($r(o))a=o[al];else{const l=o[$n];l&&(a=l)}if(!a){for(;o&&!o[Oi]&&o!==i;)$r(o)&&__(o[we],o),o=o[An];null===o&&(o=i),$r(o)&&__(o[we],o),a=o&&o[Oi]}o=a}}(o)}}function __(i,o){if(!(256&o[nt])){o[nt]&=-129,o[nt]|=256,o[Yi]&&function kn(i){if(Gt(i),tt(i))for(let o=0;o<i.producerNode.length;o++)Ae(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}(o[Yi]),function WS(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof yl)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const b=d[p[_]],E=p[_+1];Fo(4,b,E);try{E.call(b)}finally{Fo(5,b,E)}}else{Fo(4,d,p);try{p.call(d)}finally{Fo(5,d,p)}}}}}(i,o),function OP(i,o){const a=i.cleanup,l=o[ra];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+3];_>=0?l[_]():l[-_].unsubscribe(),p+=2}else a[p].call(l[a[p+1]]);null!==l&&(o[ra]=null);const d=o[bo];if(null!==d){o[bo]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(i,o),1===o[we].type&&o[vt].destroy();const a=o[ls];if(null!==a&&gr(o[An])){a!==o[An]&&eT(a,o);const l=o[yo];null!==l&&l.detachView(i)}!function VS(i){kb.delete(i[nc])}(o)}}function zb(i,o,a){return function tT(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[Fn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=i.data[l.directiveStart+d];if(p===cs.None||p===cs.Emulated)return null}return Or(l,a)}}(i,o.parent,a)}function Ll(i,o,a,l,d){i.insertBefore(o,a,l,d)}function Hb(i,o,a){i.appendChild(o,a)}function nT(i,o,a,l,d){null!==l?Ll(i,o,a,l,d):Hb(i,o,a)}function jd(i,o){return i.parentNode(o)}function iT(i,o,a){return Ul(i,o,a)}let fp,bc,w_,Ul=function Vl(i,o,a){return 40&i.type?Or(i,a):null};function v_(i,o,a,l){const d=zb(i,l,o),p=o[vt],b=iT(l.parent||o[mr],l,o);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)nT(p,d,a[E],b,!1);else nT(p,d,a,b,!1);void 0!==fp&&fp(p,l,o,a,d)}function zd(i,o){if(null!==o){const a=o.type;if(3&a)return Or(o,i);if(4&a)return $b(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return zd(i,l);{const d=i[o.index];return gr(d)?$b(-1,d):xn(d)}}if(32&a)return dp(o,i)()||xn(i[o.index]);{const l=y_(i,o);return null!==l?Array.isArray(l)?l[0]:zd(gs(i[Sn]),l):zd(i,o.next)}}return null}function y_(i,o){return null!==o?i[Sn][mr].projection[o.projection]:null}function $b(i,o){const a=$n+i+1;if(a<o.length){const l=o[a],d=l[we].firstChild;if(null!==d)return zd(l,d)}return o[_i]}function qb(i,o,a,l,d,p,_){for(;null!=a;){const b=l[a.index],E=a.type;if(_&&0===o&&(b&&oi(xn(b),l),a.flags|=2),32!=(32&a.flags))if(8&E)qb(i,o,a.child,l,d,p,!1),Fl(o,i,d,b,p);else if(32&E){const C=dp(a,l);let x;for(;x=C();)Fl(o,i,d,x,p);Fl(o,i,d,b,p)}else 16&E?sT(i,o,l,a,d,p):Fl(o,i,d,b,p);a=_?a.projectionNext:a.next}}function b_(i,o,a,l,d,p){qb(a,l,i.firstChild,o,d,p,!1)}function sT(i,o,a,l,d,p){const _=a[Sn],E=_[mr].projection[l.projection];if(Array.isArray(E))for(let C=0;C<E.length;C++)Fl(o,i,d,E[C],p);else{let C=E;const x=_[An];c_(l)&&(C.flags|=128),qb(i,o,C,x,d,p,!0)}}function Zb(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function aT(i,o,a){const{mergedAttrs:l,classes:d,styles:p}=a;null!==l&&ol(i,o,l),null!==d&&Zb(i,o,d),null!==p&&function XS(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function Hd(i){return function E_(){if(void 0===bc&&(bc=null,tr.trustedTypes))try{bc=tr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return bc}()?.createHTML(i)||i}function Wb(i){return function Bl(){if(void 0===w_&&(w_=null,tr.trustedTypes))try{w_=tr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return w_}()?.createScriptURL(i)||i}class $d{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pi})`}}class NP extends $d{getTypeName(){return"HTML"}}class nx extends $d{getTypeName(){return"Style"}}class Yb extends $d{getTypeName(){return"Script"}}class uT extends $d{getTypeName(){return"URL"}}class FP extends $d{getTypeName(){return"ResourceURL"}}function Os(i){return i instanceof $d?i.changingThisBreaksApplicationSecurity:i}function Ei(i,o){const a=function rx(i){return i instanceof $d&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${pi})`)}return a===o}function LP(i){return new NP(i)}function VP(i){return new nx(i)}function UP(i){return new Yb(i)}function dT(i){return new uT(i)}function hT(i){return new FP(i)}class ix{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Hd(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class ox{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=Hd(o),a}}const fT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function C_(i){return(i=String(i)).match(fT)?i:"unsafe:"+i}function Ic(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function D_(...i){const o={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const sx=Ic("area,br,col,hr,img,wbr"),pT=Ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mT=Ic("rp,rt"),A_=D_(sx,D_(pT,Ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),D_(mT,Ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),D_(mT,pT)),Kb=Ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gT=D_(Kb,Ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cx=Ic("script,style,template");class _T{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!A_.hasOwnProperty(a))return this.sanitizedSomething=!0,!cx.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let d=0;d<l.length;d++){const p=l.item(d),_=p.name,b=_.toLowerCase();if(!gT.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let E=p.value;Kb[b]&&(E=C_(E)),this.buf.push(" ",_,'="',ux(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();A_.hasOwnProperty(a)&&!sx.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(ux(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const lx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$P=/([^\#-~ |!])/g;function ux(i){return i.replace(/&/g,"&amp;").replace(lx,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace($P,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qb;function dx(i,o){let a=null;try{Qb=Qb||function T_(i){const o=new ox(i);return function BP(){try{return!!(new window.DOMParser).parseFromString(Hd(""),"text/html")}catch{return!1}}()?new ix(o):o}(i);let l=o?String(o):"";a=Qb.getInertBodyElement(l);let d=5,p=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=p,p=a.innerHTML,a=Qb.getInertBodyElement(l)}while(l!==p);return Hd((new _T).sanitizeChildren(vT(a)||a))}finally{if(a){const l=vT(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function vT(i){return"content"in i&&function GP(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var jl=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(jl||{});function Xb(i){const o=zl();return o?o.sanitize(jl.URL,i)||"":Ei(i,"URL")?Os(i):C_(st(i))}function Ec(i){const o=zl();if(o)return Wb(o.sanitize(jl.RESOURCE_URL,i)||"");if(Ei(i,"ResourceURL"))return Wb(Os(i));throw new Se(904,!1)}function yT(i,o,a){return function S_(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Ec:Xb}(o,a)(i)}function zl(){const i=oe();return i&&i[ki].sanitizer}class Gd{}let vx=()=>null;function n0(i,o,a=!1){return vx(i,o,a)}class s0{}class wT{}class wx{resolveComponentFactory(o){throw function Ix(i){const o=Error(`No component factory found for ${jn(i)}.`);return o.ngComponent=i,o}(o)}}let vp=(()=>{class i{static#e=this.NULL=new wx}return i})();function CT(){return yp(an(),oe())}function yp(i,o){return new ql(Or(i,o))}let ql=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=CT}return i})();function Tx(i){return i instanceof ql?i.nativeElement:i}class a0{}let Cx=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function c0(){const i=oe(),a=rr(an().index,i);return($r(a)?a:i)[vt]}()}return i})(),DT=(()=>{class i{static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:()=>null})}return i})();const O_={};function ST(i){const o=ge(null);try{return i()}finally{ge(o)}}function bp(i){return!!MT(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function MT(i){return null!==i&&("function"==typeof i||"object"==typeof i)}class k_{constructor(){}supports(o){return bp(o)}create(o){return new xx(o)}}const PT=(i,o)=>o;class xx{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||PT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<mn(l,d,p)?a:l,b=mn(_,d,p),E=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const C=b-d,x=E-d;if(C!=x){for(let N=0;N<C;N++){const U=N<p.length?p[N]:p[N]=0,K=U+N;x<=K&&K<C&&(p[N]=U+1)}p[_.previousIndex]=x-C}}b!==E&&o(_,b,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!bp(o))throw new Se(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],_=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,b),l=!0),a=a._next}else d=0,function RT(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{_=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new he(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new qo),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qo),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class he{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class qo{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new OT,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mn(i,o,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class kT{constructor(){}supports(o){return o instanceof Map||MT(o)}create(){return new Zo}}class Zo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||MT(o)))throw new Se(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new Ne(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Ne{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N_(){return new yt([new k_])}let yt=(()=>{class i{static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:N_});constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||N_()),deps:[[i,new Cl,new _a]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Se(901,!1)}}return i})();function Wd(){return new u0([new kT])}let u0=(()=>{class i{static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:Wd});constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Wd()),deps:[[i,new Cl,new _a]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Se(901,!1)}}return i})();function Ip(i,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];null!==p&&l.push(xn(p)),gr(p)&&NT(p,l);const _=a.type;if(8&_)Ip(i,o,a.child,l);else if(32&_){const b=dp(a,o);let E;for(;E=b();)l.push(E)}else if(16&_){const b=y_(o,a);if(Array.isArray(b))l.push(...b);else{const E=gs(o[Sn]);Ip(E[we],E,b,l,!0)}}a=d?a.projectionNext:a.next}return l}function NT(i,o){for(let a=$n;a<i.length;a++){const l=i[a],d=l[we].firstChild;null!==d&&Ip(l[we],l,d,o)}i[_i]!==i[Fn]&&o.push(i[_i])}let FT=[];const Ac={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{ic(i.lView)},consumerOnSignalRead(){this.lView[Yi]=this}};function L_(i){return Zr(i[al])}function h0(i){return Zr(i[Oi])}function Zr(i){for(;null!==i&&!gr(i);)i=i[Oi];return i}function Yd(i){return i.ngOriginalError}class Wr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Yd(o);for(;a&&Yd(a);)a=Yd(a);return a||null}}const U_=new Vt("",{providedIn:"root",factory:()=>Lt(Wr).handleError.bind(void 0)}),Zl=new Vt("",{providedIn:"root",factory:()=>!1}),ft={};function GT(i=1){Kd(Ut(),oe(),_r()+i,!1)}function Kd(i,o,a,l){if(!l)if(3==(3&o[nt])){const p=i.preOrderCheckHooks;null!==p&&Li(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Uo(o,p,0,a)}bs(a)}function Qd(i,o=Mt.Default){const a=oe();return null===a?lr(i,o):Kn(an(),a,Ve(i),o)}function qT(){throw new Error("invalid")}function Xd(i,o,a,l,d,p,_,b,E,C,x){const M=o.blueprint.slice();return M[Fn]=d,M[nt]=204|l,(null!==C||i&&2048&i[nt])&&(M[nt]|=2048),Mg(M),M[An]=M[tc]=i,M[at]=a,M[ki]=_||i&&i[ki],M[vt]=b||i&&i[vt],M[Pr]=E||i&&i[Pr]||null,M[mr]=p,M[nc]=function d_(){return Zw++}(),M[vo]=x,M[td]=C,M[Sn]=2==o.type?i[Sn]:M,M}function Jd(i,o,a,l,d){let p=i.data[o];if(null===p)p=function H_(i,o,a,l,d){const p=ub(),_=oc(),E=i.data[o]=function Ox(i,o,a,l,d,p){let _=o?o.injectorIndex:-1,b=0;return ca()&&(b|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,d);return null===i.firstChild&&(i.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E,E.prev=p)),E}(i,o,a,l,d),function Vw(){return lt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const _=function la(){const i=lt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Io(p,!0),p}function eh(i,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),i.blueprint.push(l),i.data.push(null);return d}function _0(i,o,a,l,d){const p=_r(),_=2&l;try{bs(-1),_&&o.length>ct&&Kd(i,o,ct,!1),Fo(_?2:0,d),a(l,d)}finally{bs(p),Fo(_?3:1,d)}}function th(i,o,a){if(yg(o)){const l=ge(null);try{const p=o.directiveEnd;for(let _=o.directiveStart;_<p;_++){const b=i.data[_];b.contentQueries&&b.contentQueries(1,a[_],_)}}finally{ge(l)}}}function Ep(i,o,a){xf()&&(function Nx(i,o,a,l){const d=a.directiveStart,p=a.directiveEnd;hs(a)&&function T0(i,o,a){const l=Or(o,i),d=$_(a);let _=16;a.signals?_=4096:a.onPush&&(_=64);const b=Y_(i,Xd(i,d,null,_,l,o,null,i[ki].rendererFactory.createRenderer(l,a),null,null,null));i[o.index]=b}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||fa(a,o),oi(l,o);const _=a.initialInputs;for(let b=d;b<p;b++){const E=i.data[b],C=To(o,i,b,a);oi(C,o),null!==_&&Sp(0,b-d,C,E,0,_),Ni(E)&&(rr(a.index,o)[at]=To(o,i,b,a))}}(i,o,a,Or(a,o)),64==(64&a.flags)&&JT(i,o,a))}function wp(i,o,a=Or){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],b=-1===_?a(o,i):i[_];i[d++]=b}}}function $_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Tp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Tp(i,o,a,l,d,p,_,b,E,C,x){const M=ct+l,N=M+d,U=function ZT(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:ft);return a}(M,N),K="function"==typeof C?C():C;return U[we]={type:i,blueprint:U,template:a,queries:null,viewQuery:b,declTNode:o,data:U.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:K,incompleteFirstPass:!1,ssrId:x}}let v0=()=>null;function G_(i,o,a,l){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===l?q_(a,o,d,p):l.hasOwnProperty(d)&&q_(a,o,l[d],p)}return a}function q_(i,o,a,l){i.hasOwnProperty(a)?i[a].push(o,l):i[a]=[o,l]}function fn(i,o,a,l,d,p,_,b){const E=Or(o,a);let x,C=o.inputs;!b&&null!=C&&(x=C[l])?(nh(i,a,x,l,d),hs(o)&&function Z_(i,o){const a=rr(o,i);16&a[nt]||(a[nt]|=64)}(a,o.index)):3&o.type&&(l=function Vr(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,o.value||"",l):d,p.setProperty(E,l,d))}function E0(i,o,a,l){if(xf()){const d=null===l?null:{"":-1},p=function Dp(i,o){const a=i.directiveRegistry;let l=null,d=null;if(a)for(let p=0;p<a.length;p++){const _=a[p];if(df(o,_.selectors,!1))if(l||(l=[]),Ni(_))if(null!==_.findHostDirectiveDefs){const b=[];d=d||new Map,_.findHostDirectiveDefs(_,b,d),l.unshift(...b,_),Ap(i,o,b.length)}else l.unshift(_),Ap(i,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,l,d),l.push(_)}return null===l?null:[l,d]}(i,a);let _,b;null===p?_=b=null:[_,b]=p,null!==_&&QT(i,o,a,_,d,b),d&&function eC(i,o,a){if(o){const l=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new Se(-301,!1);l.push(o[d],p)}}}(a,l,d)}a.mergedAttrs=ea(a.mergedAttrs,a.attrs)}function QT(i,o,a,l,d,p){for(let C=0;C<l.length;C++)gd(fa(a,o),i,l[C].type);!function W_(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let C=0;C<l.length;C++){const x=l[C];x.providersResolver&&x.providersResolver(x)}let _=!1,b=!1,E=eh(i,o,l.length,null);for(let C=0;C<l.length;C++){const x=l[C];a.mergedAttrs=ea(a.mergedAttrs,x.hostAttrs),w0(i,a,o,E,x),Fx(E,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const M=x.type.prototype;!_&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),_=!0),!b&&(M.ngOnChanges||M.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),b=!0),E++}!function b0(i,o,a){const d=o.directiveEnd,p=i.data,_=o.attrs,b=[];let E=null,C=null;for(let x=o.directiveStart;x<d;x++){const M=p[x],N=a?a.get(M):null,K=N?N.outputs:null;E=G_(M.inputs,x,E,N?N.inputs:null),C=G_(M.outputs,x,C,K);const ve=null===E||null===_||_g(o)?null:tC(E,x,_);b.push(ve)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=8),E.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=E,o.outputs=C}(i,a,p)}function JT(i,o,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,_=function Gn(){return lt.lFrame.currentDirectiveIndex}();try{bs(p);for(let b=l;b<d;b++){const E=i.data[b],C=o[b];vn(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Cp(E,C)}}finally{bs(-1),vn(_)}}function Cp(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Ap(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function Fx(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Ni(o)&&(a[""]=i)}}function w0(i,o,a,l,d){i.data[l]=d;const p=d.factory||(d.factory=ps(d.type)),_=new yl(p,Ni(d),Qd);i.blueprint[l]=_,a[l]=_,function XT(i,o,a,l,d){const p=d.hostBindings;if(p){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const b=~o.index;(function kx(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=b&&_.push(b),_.push(a,l,p)}}(i,o,l,eh(i,a,d.hostVars,ft),d)}function Wo(i,o,a,l,d,p){const _=Or(i,o);!function C0(i,o,a,l,d,p,_){if(null==p)i.removeAttribute(o,d,a);else{const b=null==_?st(p):_(p,l||"",d);i.setAttribute(o,d,b,a)}}(o[vt],_,p,i.value,a,l,d)}function Sp(i,o,a,l,d,p){const _=p[o];if(null!==_)for(let b=0;b<_.length;)D0(l,a,_[b++],_[b++],_[b++])}function D0(i,o,a,l,d){const p=ge(null);try{const _=i.inputTransforms;null!==_&&_.hasOwnProperty(l)&&(d=_[l].call(o,d)),null!==i.setInput?i.setInput(o,d,a,l):o[l]=d}finally{ge(p)}}function tC(i,o,a){let l=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const _=i[p];for(let b=0;b<_.length;b+=2)if(_[b]===o){l.push(p,_[b+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function A0(i,o,a,l){return[i,!0,0,o,null,l,null,a,null,null]}function xp(i,o){const a=i.contentQueries;if(null!==a){const l=ge(null);try{for(let d=0;d<a.length;d+=2){const _=a[d+1];if(-1!==_){const b=i.data[_];pl(a[d]),b.contentQueries(2,o[_],_)}}}finally{ge(l)}}}function Y_(i,o){return i[al]?i[_f][Oi]=o:i[al]=o,i[_f]=o,o}function S0(i,o,a){pl(0);const l=ge(null);try{o(i,a)}finally{ge(l)}}function nC(i){return i[ra]||(i[ra]=[])}function rC(i){return i.cleanup||(i.cleanup=[])}function Mp(i,o){const a=i[Pr],l=a?a.get(Wr,null):null;l&&l.handleError(o)}function nh(i,o,a,l,d){for(let p=0;p<a.length;){const _=a[p++],b=a[p++];D0(i.data[_],o[_],l,b,d)}}function ks(i,o,a){const l=od(o,i);!function Xw(i,o,a){i.setValue(o,a)}(i[vt],l,a)}function Op(i,o,a,l){const d=o[nt];if(256==(256&d))return;o[ki].inlineEffectRunner?.flush(),hd(o);let _=null,b=null;(function Q_(i){return 2!==i.type})(i)&&(b=function si(i){return i[Yi]??function F_(i){const o=FT.pop()??Object.create(Ac);return o.lView=i,o}(i)}(o),_=function ze(i){return i&&(i.nextProducerIndex=0),ge(i)}(b));try{Mg(o),function Mf(i){return lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&_0(i,o,a,2,l);const E=3==(3&d);if(E){const M=i.preOrderCheckHooks;null!==M&&Li(o,M,null)}else{const M=i.preOrderHooks;null!==M&&Uo(o,M,0,null),vl(o,0)}if(function R0(i){for(let o=L_(i);null!==o;o=h0(o)){if(!(o[nt]&cl.HasTransplantedViews))continue;const a=o[ds];for(let l=0;l<a.length;l++){Lw(a[l])}}}(o),x0(o,0),null!==i.contentQueries&&xp(i,o),E){const M=i.contentCheckHooks;null!==M&&Li(o,M)}else{const M=i.contentHooks;null!==M&&Uo(o,M,1),vl(o,1)}!function z_(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)bs(~d);else{const p=d,_=a[++l],b=a[++l];fl(_,p),b(2,o[p])}}}finally{bs(-1)}}(i,o);const C=i.components;null!==C&&X_(o,C,0);const x=i.viewQuery;if(null!==x&&S0(2,x,l),E){const M=i.viewCheckHooks;null!==M&&Li(o,M)}else{const M=i.viewHooks;null!==M&&Uo(o,M,2),vl(o,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[nd]){for(const M of o[nd])M();o[nd]=null}o[nt]&=-73}catch(E){throw ic(o),E}finally{null!==b&&(function it(i,o){if(ge(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(tt(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Ae(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}(b,_),function Lr(i){i.lView[Yi]!==i&&(i.lView=null,FT.push(i))}(b)),fd()}}function x0(i,o){for(let a=L_(i);null!==a;a=h0(a))for(let l=$n;l<a.length;l++)M0(a[l],o)}function iC(i,o,a){M0(rr(o,i),a)}function M0(i,o){Sf(i)&&Wl(i,o)}function Wl(i,o){const l=i[we],d=i[nt],p=i[Yi];let _=!!(0===o&&16&d);if(_||=!!(64&d&&0===o),_||=!!(1024&d),_||=!(!p?.dirty||!Jt(p)),p&&(p.dirty=!1),i[nt]&=-9217,_)Op(l,i,l.template,i[at]);else if(8192&d){x0(i,1);const b=l.components;null!==b&&X_(i,b,1)}}function X_(i,o,a){for(let l=0;l<o.length;l++)iC(i,o[l],a)}function Yl(i){for(i[ki].changeDetectionScheduler?.notify();i;){i[nt]|=64;const o=gs(i);if(yf(i)&&!o)return i;i=o}return null}class Kl{get rootNodes(){const o=this._lView,a=o[we];return Ip(a,o,a.firstChild,[])}constructor(o,a,l=!0){this._lView=o,this._cdRefInjectingView=a,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[at]}set context(o){this._lView[at]=o}get destroyed(){return 256==(256&this._lView[nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[An];if(gr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(hp(o,l),El(a,l))}this._attachedToViewContainer=!1}g_(this._lView[we],this._lView)}onDestroy(o){aa(this._lView,o)}markForCheck(){Yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[nt]&=-129}reattach(){dl(this._lView),this._lView[nt]|=128}detectChanges(){this._lView[nt]|=1024,function K_(i,o=!0){const a=i[ki],l=a.rendererFactory;l.begin?.();try{!function wi(i){Wl(i,0);let o=0;for(;ad(i);){if(100===o)throw new Se(103,!1);o++,Wl(i,1)}}(i)}catch(p){throw o&&Mp(i,p),p}finally{l.end?.(),a.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Jw(this._lView[we],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=o,dl(this._lView)}}let kp=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Np}return i})();function Np(i){return function oC(i,o,a){if(hs(i)&&!a){const l=rr(i.index,o);return new Kl(l,l)}return 47&i.type?new Kl(o[Sn],o):null}(an(),oe(),16==(16&i))}let Fp=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=uC;static#t=this.__NG_ENV_ID__=a=>a}return i})();class lC extends Fp{constructor(o){super(),this._lView=o}onDestroy(o){return aa(this._lView,o),()=>function cd(i,o){if(null===i[bo])return;const a=i[bo].indexOf(o);-1!==a&&i[bo].splice(a,1)}(this._lView,o)}}function uC(){return new lC(oe())}const hC=new Set;function Xl(i){hC.has(i)||(hC.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function ev(i){return o=>{setTimeout(i,void 0,o)}}const Ns=class fC extends Dn.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,p=a||(()=>null),_=l;if(o&&"object"==typeof o){const E=o;d=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=ev(p),d&&(d=ev(d)),_&&(_=ev(_)));const b=super.subscribe({next:d,error:p,complete:_});return o instanceof Dr.w0&&o.add(b),b}};function xc(...i){}class qn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ca(){const i="function"==typeof tr.requestAnimationFrame;let o=tr[i?"requestAnimationFrame":"setTimeout"],a=tr[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Up(i){const o=()=>{!function tv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(tr,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Jl(i),i.isCheckStableRunning=!0,In(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Jl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,_,b)=>{if(function Ux(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(b))return a.invokeTask(d,p,_,b);try{return mC(i),a.invokeTask(d,p,_,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),k0(i)}},onInvoke:(a,l,d,p,_,b,E)=>{try{return mC(i),a.invoke(d,p,_,b,E)}finally{i.shouldCoalesceRunChangeDetection&&o(),k0(i)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Jl(i),In(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qn.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(qn.isInAngularZone())throw new Se(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,pC,xc,xc);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const pC={};function In(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Jl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function mC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function k0(i){i._nesting--,In(i)}class gC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ns,this.onMicrotaskEmpty=new Ns,this.onStable=new Ns,this.onError=new Ns}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}var eu=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(eu||{});const rh={destroy(){}};function N0(i,o){!o&&function Rl(i){if(!tf()&&!function Wy(){return ss}())throw new Se(-203,!1)}();const a=o?.injector??Lt(bi);if(!function O(i){return"browser"===(i??Lt(bi)).get(Ta)}(a))return rh;Xl("NgAfterNextRender");const l=a.get(Bp),d=l.handler??=new tu,p=o?.phase??eu.MixedReadWrite,_=()=>{d.unregister(E),b()},b=a.get(Fp).onDestroy(_),E=new F0(a,p,()=>{_(),i()});return d.register(E),{destroy:_}}class F0{constructor(o,a,l){this.phase=a,this.callbackFn=l,this.zone=o.get(qn),this.errorHandler=o.get(Wr,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){this.errorHandler?.handleError(o)}}}class tu{constructor(){this.executingCallbacks=!1,this.buckets={[eu.EarlyRead]:new Set,[eu.Write]:new Set,[eu.MixedReadWrite]:new Set,[eu.Read]:new Set},this.deferredCallbacks=new Set}register(o){(this.executingCallbacks?this.deferredCallbacks:this.buckets[o.phase]).add(o)}unregister(o){this.buckets[o.phase].delete(o),this.deferredCallbacks.delete(o)}execute(){let o=!1;this.executingCallbacks=!0;for(const a of Object.values(this.buckets))for(const l of a)o=!0,l.invoke();this.executingCallbacks=!1;for(const a of this.deferredCallbacks)this.buckets[a.phase].add(a);return this.deferredCallbacks.clear(),o}destroy(){for(const o of Object.values(this.buckets))o.clear();this.deferredCallbacks.clear()}}let Bp=(()=>{class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const d of a)d();return!!this.handler?.execute()||a.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=z({token:i,providedIn:"root",factory:()=>new i})}return i})();function jx(i,o){const a=rr(o,i),l=a[we];!function vC(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(l,a);const d=a[Fn];null!==d&&null===a[vo]&&(a[vo]=n0(d,a[Pr])),L0(l,a,a[at])}function L0(i,o,a){hd(o);try{const l=i.viewQuery;null!==l&&S0(1,l,a);const d=i.template;null!==d&&_0(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&xp(i,o),i.staticViewQueries&&S0(2,i.viewQuery,a);const p=i.components;null!==p&&function yC(i,o){for(let a=0;a<o.length;a++)jx(i,o[a])}(o,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[nt]&=-5,fd()}}function jp(i,o,a){let l=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?p=b:1==p?d=lo(d,b):2==p&&(l=lo(l,b+": "+o[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}class nv extends vp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Rt(o);return new zp(a,this.ngModule)}}function rv(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class IC{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=Qu(l);const d=this.injector.get(o,O_,l);return d!==O_||a===O_?d:this.parentInjector.get(o,a,l)}}class zp extends wT{get inputs(){const o=this.componentDef,a=o.inputTransforms,l=rv(o.inputs);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return rv(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ff(i){return i.map(Xa).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let p=(d=d||this.ngModule)instanceof qr?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new IC(o,p):o,b=_.get(a0,null);if(null===b)throw new Se(407,!1);const M={rendererFactory:b,sanitizer:_.get(DT,null),inlineEffectRunner:null,afterRenderEventManager:_.get(Bp,null),changeDetectionScheduler:_.get(Gd,null)},N=b.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",K=l?function WT(i,o,a,l){const p=l.get(Zl,!1)||a===cs.ShadowDom,_=i.selectRootElement(o,p);return function Px(i){v0(i)}(_),_}(N,l,this.componentDef.encapsulation,_):p_(N,U,function bC(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(U));let ve=512;this.componentDef.signals?ve|=4096:this.componentDef.onPush||(ve|=16);let De=null;null!==K&&(De=n0(K,_,!0));const qe=Tp(0,null,null,1,0,null,null,null,null,null,null),me=Xd(null,qe,null,ve,null,null,M,N,_,null,De);let bt,$t;hd(me);try{const Kt=this.componentDef;let Si,Iw=null;Kt.findHostDirectiveDefs?(Si=[],Iw=new Map,Kt.findHostDirectiveDefs(Kt,Si,Iw),Si.push(Kt)):Si=[Kt];const jO=function Hx(i,o){const a=i[we],l=ct;return i[l]=o,Jd(a,l,2,"#host",null)}(me,K),iS=function $x(i,o,a,l,d,p,_){const b=d[we];!function iv(i,o,a,l){for(const d of i)o.mergedAttrs=ea(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(jp(o,o.mergedAttrs,!0),null!==a&&aT(l,a,o))}(l,i,o,_);let E=null;null!==o&&(E=n0(o,d[Pr]));const C=p.rendererFactory.createRenderer(o,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const M=Xd(d,$_(a),null,x,d[i.index],i,p,C,null,null,E);return b.firstCreatePass&&Ap(b,i,l.length-1),Y_(d,M),d[i.index]=M}(jO,K,Kt,Si,me,M,N);$t=sd(qe,ct),K&&function ov(i,o,a,l){if(l)ol(i,a,["ng-version","17.0.9"]);else{const{attrs:d,classes:p}=function Mw(i){const o=[],a=[];let l=1,d=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++l]):8===d&&a.push(p);else{if(!Mi(d))break;d=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ol(i,a,d),p&&p.length>0&&Zb(i,a,p.join(" "))}}(N,Kt,K,l),void 0!==a&&function V0(i,o,a){const l=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];l.push(null!=p?Array.from(p):null)}}($t,this.ngContentSelectors,a),bt=function Hp(i,o,a,l,d,p){const _=an(),b=d[we],E=Or(_,d);QT(b,d,_,a,null,l);for(let x=0;x<a.length;x++)oi(To(d,b,_.directiveStart+x,_),d);JT(b,d,_),E&&oi(E,d);const C=To(d,b,_.directiveStart+_.componentOffset,_);if(i[at]=d[at]=C,null!==p)for(const x of p)x(C,o);return th(b,_,i),C}(iS,Kt,Si,Iw,me,[EC]),L0(qe,me,null)}finally{fd()}return new zx(this.componentType,bt,yp($t,me),me,$t)}}class zx extends s0{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Kl(d,void 0,!1),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const p=this._rootLView;nh(p[we],p,d,o,a),this.previousInputValues.set(o,a),Yl(rr(this._tNode.index,p))}}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function EC(){const i=an();cn(oe()[we],i)}function nu(i){let o=function ih(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let d;if(Ni(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Se(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=Vn(i.inputs),_.inputTransforms=Vn(i.inputTransforms),_.declaredInputs=Vn(i.declaredInputs),_.outputs=Vn(i.outputs);const b=d.hostBindings;b&&Zx(i,b);const E=d.viewQuery,C=d.contentQueries;if(E&&wC(i,E),C&&qx(i,C),Hr(i.inputs,d.inputs),Hr(i.declaredInputs,d.declaredInputs),Hr(i.outputs,d.outputs),null!==d.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),Hr(_.inputTransforms,d.inputTransforms)),Ni(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const b=p[_];b&&b.ngInherit&&b(i),b===nu&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Gx(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=o+=d.hostVars,d.hostAttrs=ea(d.hostAttrs,a=ea(a,d.hostAttrs))}}(l)}function Vn(i){return i===Ri?{}:i===Zt?[]:i}function wC(i,o){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function qx(i,o){const a=i.contentQueries;i.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function Zx(i,o){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function B0(i){const o=i.inputConfig,a={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[2]&&(a[l]=d[2])}i.inputTransforms=a}function Mo(i,o,a){return i[o]=a}function ir(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Sa(i,o,a,l){const d=ir(i,o,a);return ir(i,o+1,l)||d}function ru(i,o,a,l,d){const p=Sa(i,o,a,l);return ir(i,o+2,d)||p}function oh(i,o,a,l){const d=oe();return ir(d,Eo(),o)&&(Ut(),Wo(Nt(),d,i,o,a,l)),oh}function qp(i,o){return i<<17|o<<2}function Ra(i){return i>>17&32767}function ro(i){return 2|i}function Ma(i){return(131068&i)>>2}function nn(i,o){return-131069&i|o<<2}function Zp(i){return 1|i}function sv(i,o,a,l){const d=i[a+1],p=null===o;let _=l?Ra(d):Ma(d),b=!1;for(;0!==_&&(!1===b||p);){const C=i[_+1];SC(i[_],o)&&(b=!0,i[_+1]=l?Zp(C):ro(C)),_=l?Ra(C):Ma(C)}b&&(i[a+1]=l?ro(d):Zp(d))}function SC(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&zo(i,o)>=0}const En={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function io(i){return i.substring(En.key,En.keyEnd)}function Wp(i,o){const a=En.textEnd;return a===o?-1:(o=En.keyEnd=function Jx(i,o,a){for(;o<a&&i.charCodeAt(o)>32;)o++;return o}(i,En.key=o,a),Yo(i,o,a))}function Yo(i,o,a){for(;o<a&&i.charCodeAt(o)<=32;)o++;return o}function RC(i,o,a){const l=oe();return ir(l,Eo(),o)&&fn(Ut(),Nt(),l,i,o,l[vt],a,!1),RC}function lh(i,o,a,l,d){const _=d?"class":"style";nh(i,a,o.inputs[_],_,l)}function Y0(i,o,a){return Ur(i,o,a,!1),Y0}function K0(i,o){return Ur(i,o,null,!0),K0}function yr(i){!function ai(i,o,a,l){const d=Ut(),p=ys(2);d.firstUpdatePass&&ye(d,null,p,l);const _=oe();if(a!==ft&&ir(_,p,a)){const b=d.data[_r()];if(kC(b,l)&&!PC(d,p)){let E=l?b.classesWithoutHost:b.stylesWithoutHost;null!==E&&(a=lo(E,a||"")),lh(d,b,_,a,l)}else!function br(i,o,a,l,d,p,_,b){d===ft&&(d=Zt);let E=0,C=0,x=0<d.length?d[0]:null,M=0<p.length?p[0]:null;for(;null!==x||null!==M;){const N=E<d.length?d[E+1]:void 0,U=C<p.length?p[C+1]:void 0;let ve,K=null;x===M?(E+=2,C+=2,N!==U&&(K=M,ve=U)):null===M||null!==x&&x<M?(E+=2,K=x):(C+=2,K=M,ve=U),null!==K&&X0(i,o,a,l,K,ve,_,b),x=E<d.length?d[E]:null,M=C<p.length?p[C]:null}}(d,b,_,_[vt],_[p+1],_[p+1]=function Pe(i,o,a){if(null==a||""===a)return Zt;const l=[],d=Os(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)i(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&i(l,p,d[p]);else"string"==typeof d&&o(l,d);return l}(i,o,a),l,p)}}(_e,Ci,i,!0)}function Ci(i,o){for(let a=function av(i){return function W0(i){En.key=0,En.keyEnd=0,En.value=0,En.valueEnd=0,En.textEnd=i.length}(i),Wp(i,Yo(i,0,En.textEnd))}(o);a>=0;a=Wp(o,a))Fr(i,io(o),!0)}function Ur(i,o,a,l){const d=oe(),p=Ut(),_=ys(2);p.firstUpdatePass&&ye(p,i,_,l),o!==ft&&ir(d,_,o)&&X0(p,p.data[_r()],d,d[vt],i,d[_+1]=function rR(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=jn(Os(i)))),i}(o,a),l,_)}function PC(i,o){return o>=i.expandoStartIndex}function ye(i,o,a,l){const d=i.data;if(null===d[a+1]){const p=d[_r()],_=PC(i,a);kC(p,l)&&null===o&&!_&&(o=!1),o=function or(i,o,a,l){const d=function Pf(i){const o=lt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Qp(a=We(null,i,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==d)if(a=We(d,i,o,a,l),null===p){let E=function zi(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Ma(l))return i[Ra(l)]}(i,o,l);void 0!==E&&Array.isArray(E)&&(E=We(null,i,o,E[1],l),E=Qp(E,o.attrs,l),function Q0(i,o,a,l){i[Ra(a?o.classBindings:o.styleBindings)]=l}(i,o,l,E))}else p=function Be(i,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=Qp(l,i[p].hostAttrs,a);return Qp(l,o.attrs,a)}(i,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function Z0(i,o,a,l,d,p){let _=p?o.classBindings:o.styleBindings,b=Ra(_),E=Ma(_);i[l]=a;let x,C=!1;if(Array.isArray(a)?(x=a[1],(null===x||zo(a,x)>0)&&(C=!0)):x=a,d)if(0!==E){const N=Ra(i[b+1]);i[l+1]=qp(N,b),0!==N&&(i[N+1]=nn(i[N+1],l)),i[b+1]=function Kx(i,o){return 131071&i|o<<17}(i[b+1],l)}else i[l+1]=qp(b,0),0!==b&&(i[b+1]=nn(i[b+1],l)),b=l;else i[l+1]=qp(E,0),0===b?b=l:i[E+1]=nn(i[E+1],l),E=l;C&&(i[l+1]=ro(i[l+1])),sv(i,x,l,!0),sv(i,x,l,!1),function ch(i,o,a,l,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&zo(p,o)>=0&&(a[l+1]=Zp(a[l+1]))}(o,x,i,l,p),_=qp(b,E),p?o.classBindings=_:o.styleBindings=_}(d,p,o,a,_,l)}}function We(i,o,a,l,d){let p=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(p=o[b],l=Qp(l,p.hostAttrs,d),p!==i);)b++;return null!==i&&(a.directiveStylingLast=b),l}function Qp(i,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Fr(i,_,!!a||o[++p]))}return void 0===i?null:i}function _e(i,o,a){const l=String(o);""!==l&&!l.includes(" ")&&Fr(i,l,a)}function X0(i,o,a,l,d,p,_,b){if(!(3&o.type))return;const E=i.data,C=E[b+1],x=function Qx(i){return 1==(1&i)}(C)?OC(E,o,a,d,Ma(C),_):void 0;lv(x)||(lv(p)||function ah(i){return 2==(2&i)}(C)&&(p=OC(E,null,a,d,b,_)),function QS(i,o,a,l,d){if(o)d?i.addClass(a,l):i.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:u_.DashCase;null==d?i.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=u_.Important),i.setStyle(a,l,d,p))}}(l,_,od(_r(),a),d,p))}function OC(i,o,a,l,d,p){const _=null===o;let b;for(;d>0;){const E=i[d],C=Array.isArray(E),x=C?E[1]:E,M=null===x;let N=a[d+1];N===ft&&(N=M?Zt:void 0);let U=M?Wf(N,l):x===l?N:void 0;if(C&&!lv(U)&&(U=Wf(E,l)),lv(U)&&(b=U,_))return b;const K=i[d+1];d=_?Ra(K):Ma(K)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(b=Wf(E,l))}return b}function lv(i){return void 0!==i}function kC(i,o){return 0!=(i.flags&(o?8:16))}function mh(i,o){return!o||null===o.firstChild||c_(i)}function sm(i,o,a,l=!0){const d=o[we];if(function qS(i,o,a,l){const d=$n+l,p=a.length;l>0&&(a[d-1][Oi]=o),l<p-$n?(o[Oi]=a[d],Il(a,$n+l,o)):(a.push(o),o[Oi]=null),o[An]=a;const _=o[ls];null!==_&&a!==_&&function ZS(i,o){const a=i[ds];o[Sn]!==o[An][An][Sn]&&(i[nt]|=cl.HasTransplantedViews),null===a?i[ds]=[o]:a.push(o)}(_,o);const b=o[yo];null!==b&&b.insertView(i),dl(o),o[nt]|=128}(d,o,i,a),l){const _=$b(a,i),b=o[vt],E=jd(b,i[_i]);null!==E&&function $S(i,o,a,l,d,p){l[Fn]=d,l[mr]=o,b_(i,l,a,1,d,p)}(d,i[mr],b,o,E,_)}const p=o[vo];null!==p&&null!==p.firstChild&&(p.firstChild=null)}let gv=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=qC}return i})();function qC(){return _v(an(),oe())}const pR=gv,oI=class extends pR{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return yp(this._hostTNode,this._hostLView)}get injector(){return new yn(this._hostTNode,this._hostLView)}get parentInjector(){const o=md(this._hostTNode,this._hostLView);if(Ke(o)){const a=ha(o,this._hostLView),l=Nr(o);return new yn(a[we].data[l+8],a)}return new yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=sI(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(o,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const b=o.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(b,d,mh(this._hostTNode,null)),b}createComponent(o,a,l,d,p){const _=o&&!function Ao(i){return"function"==typeof i}(o);let b;if(_)b=a;else{const K=a||{};b=K.index,l=K.injector,d=K.projectableNodes,p=K.environmentInjector||K.ngModuleRef}const E=_?o:new zp(Rt(o)),C=l||this.parentInjector;if(!p&&null==E.ngModule){const ve=(_?C:this.parentInjector).get(qr,null);ve&&(p=ve)}Rt(E.componentType??{});const U=E.create(C,d,null,p);return this.insertImpl(U.hostView,b,mh(this._hostTNode,null)),U}insert(o,a){return this.insertImpl(o,a,!0)}insertImpl(o,a,l){const d=o._lView;if(function Fw(i){return gr(i[An])}(d)){const b=this.indexOf(o);if(-1!==b)this.detach(b);else{const E=d[An],C=new oI(E,E[mr],E[An]);C.detach(C.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;return sm(_,d,p,l),o.attachToViewContainerRef(),Il(aI(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=sI(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=hp(this._lContainer,a);l&&(El(aI(this._lContainer),a),g_(l[we],l))}detach(o){const a=this._adjustIndex(o,-1),l=hp(this._lContainer,a);return l&&null!=El(aI(this._lContainer),a)?new Kl(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function sI(i){return i[8]}function aI(i){return i[8]||(i[8]=[])}function _v(i,o){let a;const l=o[i.index];return gr(l)?a=l:(a=A0(l,o,null,i),o[i.index]=a,Y_(o,a)),cI(a,o,i,l),new oI(a,i,o)}let cI=function wn(i,o,a,l){if(i[_i])return;let d;d=8&a.type?xn(l):function jr(i,o){const a=i[vt],l=a.createComment(""),d=Or(o,i);return Ll(a,jd(a,d),l,function rT(i,o){return i.nextSibling(o)}(a,d),!1),l}(o,a),i[_i]=d},Us=()=>!1;function Ko(i,o,a,l,d,p,_,b){const E=oe(),C=Ut(),x=i+ct,M=C.firstCreatePass?function ZC(i,o,a,l,d,p,_,b,E){const C=o.consts,x=Jd(o,i,4,_||null,Vo(C,b));E0(o,a,x,Vo(C,E)),cn(o,x);const M=x.tView=Tp(2,x,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C,null);return null!==o.queries&&(o.queries.template(o,x),M.queries=o.queries.embeddedTView(x)),x}(x,C,E,o,a,l,d,p,_):C.data[x];Io(M,!1);const N=Di(C,E,M,i);sc()&&v_(C,E,N,M),oi(N,E);const U=A0(N,E,N,M);return E[x]=U,Y_(E,U),function lI(i,o,a){return Us(i,o,a)}(U,M,E),vf(M)&&Ep(C,E,M),null!=_&&wp(E,M,b),Ko}let Di=function uI(i,o,a,l){return kr(!0),o[vt].createComment("")};function Dt(i,o,a,l){const d=oe(),p=Ut(),_=ct+i,b=d[vt],E=p.firstCreatePass?function wR(i,o,a,l,d,p){const _=o.consts,E=Jd(o,i,2,l,Vo(_,d));return E0(o,a,E,Vo(_,p)),null!==E.attrs&&jp(E,E.attrs,!1),null!==E.mergedAttrs&&jp(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(_,p,d,o,a,l):p.data[_],C=II(p,d,E,b,o,i);d[_]=C;const x=vf(E);return Io(E,!0),aT(b,C,E),32!=(32&E.flags)&&sc()&&v_(p,d,C,E),0===function ld(){return lt.lFrame.elementDepthCount}()&&oi(C,d),function PS(){lt.lFrame.elementDepthCount++}(),x&&(Ep(p,d,E),th(p,E,d)),null!==l&&wp(d,E),Dt}function Pv(){let i=an();oc()?hl():(i=i.parent,Io(i,!1));const o=i;(function Fi(i){return lt.skipHydrationRootTNode===i})(o)&&function ud(){lt.skipHydrationRootTNode=null}(),function _s(){lt.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(cn(a,i),yg(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Uf(i){return 0!=(8&i.flags)}(o)&&lh(a,o,oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function mb(i){return 0!=(16&i.flags)}(o)&&lh(a,o,oe(),o.stylesWithoutHost,!1),Pv}function fm(i,o,a,l){return Dt(i,o,a,l),Pv(),fm}let II=(i,o,a,l,d,p)=>(kr(!0),p_(l,d,function _l(){return lt.lFrame.currentNamespace}()));function kv(i,o,a){const l=oe(),d=Ut(),p=i+ct,_=d.firstCreatePass?function Ov(i,o,a,l,d){const p=o.consts,_=Vo(p,l),b=Jd(o,i,8,"ng-container",_);return null!==_&&jp(b,_,!0),E0(o,a,b,Vo(p,d)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,d,l,o,a):d.data[p];Io(_,!0);const b=yu(d,l,_,i);return l[p]=b,sc()&&v_(d,l,b,_),oi(b,l),vf(_)&&(Ep(d,l,_),th(d,_,l)),null!=a&&wp(l,_),kv}function Nv(){let i=an();const o=Ut();return oc()?hl():(i=i.parent,Io(i,!1)),o.firstCreatePass&&(cn(o,i),yg(i)&&o.queries.elementEnd(i)),Nv}let yu=(i,o,a,l)=>(kr(!0),jb(o[vt],""));function Bc(){return oe()}function Fv(i,o,a){const l=oe();return ir(l,Eo(),o)&&fn(Ut(),Nt(),l,i,o,l[vt],a,!0),Fv}const jc=void 0;var pm=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hD(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Dh={};function Mn(i){const o=function TR(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=TI(o);if(a)return a;const l=o.split("-")[0];if(a=TI(l),a)return a;if("en"===l)return pm;throw new Se(701,!1)}function mm(i){return Mn(i)[Hs.PluralCase]}function TI(i){return i in Dh||(Dh[i]=tr.ng&&tr.ng.common&&tr.ng.common.locales&&tr.ng.common.locales[i]),Dh[i]}var Hs=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Hs||{});const $i="en-US";let Lv=$i;function VI(i){return!!i&&"function"==typeof i.then}function UI(i){return!!i&&"function"==typeof i.subscribe}function BI(i,o,a,l){const d=oe(),p=Ut(),_=an();return function Nh(i,o,a,l,d,p,_){const b=vf(l),C=i.firstCreatePass&&rC(i),x=o[at],M=nC(o);let N=!0;if(3&l.type||_){const ve=Or(l,o),De=_?_(ve):ve,qe=M.length,me=_?$t=>_(xn($t[l.index])):l.index;let bt=null;if(!_&&b&&(bt=function NR(i,o,a,l){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===l){const b=o[ra],E=d[p+2];return b.length>E?b[E]:null}"string"==typeof _&&(p+=2)}return null}(i,o,d,l.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=p,bt.__ngLastListenerFn__=p,N=!1;else{p=La(l,o,x,p,!1);const $t=a.listen(De,d,p);M.push(p,$t),C&&C.push(d,me,qe,qe+1)}}else p=La(l,o,x,p,!1);const U=l.outputs;let K;if(N&&null!==U&&(K=U[d])){const ve=K.length;if(ve)for(let De=0;De<ve;De+=2){const Kt=o[K[De]][K[De+1]].subscribe(p),Si=M.length;M.push(p,Kt),C&&C.push(d,l.index,Si,-(Si+1))}}}(p,d,d[vt],_,i,o,l),BI}function $c(i,o,a,l){try{return Fo(6,o,a),!1!==a(l)}catch(d){return Mp(i,d),!1}finally{Fo(7,o,a)}}function La(i,o,a,l,d){return function p(_){if(_===Function)return l;Yl(i.componentOffset>-1?rr(i.index,o):o);let E=$c(o,a,l,_),C=p.__ngNextListenerFn__;for(;C;)E=$c(o,a,C,_)&&E,C=C.__ngNextListenerFn__;return d&&!1===E&&_.preventDefault(),E}}function jI(i=1){return function Vg(i){return(lt.lFrame.contextLView=function Pg(i,o){for(;i>0;)o=o[tc],i--;return o}(i,lt.lFrame.contextLView))[at]}(i)}function UD(i,o){let a=null;const l=function Xy(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(i);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===l?df(i,p,!0):eb(l,p))return d}else a=d}return a}function zI(i){const o=oe()[Sn][mr];if(!o.projection){const l=o.projection=function Qi(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(i?i.length:1,null),d=l.slice();let p=o.child;for(;null!==p;){const _=i?UD(p,i):0;null!==_&&(d[_]?d[_].projectionNext=p:l[_]=p,d[_]=p),p=p.next}}}function BD(i,o=0,a){const l=oe(),d=Ut(),p=Jd(d,ct+i,16,null,a||null);null===p.projection&&(p.projection=o),hl(),(!l[vo]||ca())&&32!=(32&p.flags)&&function I_(i,o,a){sT(o[vt],0,o,a,zb(i,a,o),iT(a.parent||o[mr],a,o))}(d,l,p)}function WI(i,o=""){const a=oe(),l=Ut(),d=i+ct,p=l.firstCreatePass?Jd(l,d,1,o,null):l.data[d],_=ZD(l,a,p,o,i);a[d]=_,sc()&&v_(l,a,_,p),Io(p,!1)}let ZD=(i,o,a,l,d)=>(kr(!0),function f_(i,o){return i.createText(o)}(o[vt],l));function Yv(i){return Kv("",i,""),Yv}function Kv(i,o,a){const l=oe(),d=function iu(i,o,a,l){return ir(i,Eo(),a)?o+st(a)+l:ft}(l,i,o,a);return d!==ft&&ks(l,_r(),d),Kv}function Vh(i,o,a,l,d){const p=oe(),_=function Ls(i,o,a,l,d,p){const b=Sa(i,vs(),a,d);return ys(2),b?o+st(a)+l+st(d)+p:ft}(p,i,o,a,l,d);return _!==ft&&ks(p,_r(),_),Vh}function Qv(i,o,a,l,d,p,_){const b=oe(),E=function ou(i,o,a,l,d,p,_,b){const C=ru(i,vs(),a,d,_);return ys(3),C?o+st(a)+l+st(d)+p+st(_)+b:ft}(b,i,o,a,l,d,p,_);return E!==ft&&ks(b,_r(),E),Qv}class Su{}class XD{}function tE(i,o){return new Bh(i,o??null,[])}class Bh extends Su{constructor(o,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nv(this);const d=Mr(o);this._bootstrapComponents=R(d.bootstrap),this._r3Injector=Ms(o,a,[{provide:Su,useValue:this},{provide:vp,useValue:this.componentFactoryResolver},...l],jn(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class jh extends XD{constructor(o){super(),this.moduleType=o}create(o){return new Bh(this.moduleType,o,[])}}class nE extends Su{constructor(o){super(),this.componentFactoryResolver=new nv(this),this.instance=null;const a=new Ia([...o.providers,{provide:Su,useValue:this},{provide:vp,useValue:this.componentFactoryResolver}],o.parent||Td(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Jv(i,o,a=null){return new nE({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let rE=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=Dl(0,a.type),d=l.length>0?Jv([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:i,providedIn:"environment",factory:()=>new i(lr(qr))})}return i})();function zh(i){Xl("NgStandalone"),i.getStandaloneInjector=o=>o.get(rE).getOrCreateStandaloneInjector(i)}function iy(i,o,a,l,d,p){return function Fm(i,o,a,l,d,p,_,b){const E=o+a;return ru(i,E,d,p,_)?Mo(i,E+3,b?l.call(b,d,p,_):l(d,p,_)):$h(i,E+3)}(oe(),ur(),i,o,a,l,d,p)}function km(i,o,a,l,d,p,_){return function sy(i,o,a,l,d,p,_,b,E){const C=o+a;return function no(i,o,a,l,d,p){const _=Sa(i,o,a,l);return Sa(i,o+2,d,p)||_}(i,C,d,p,_,b)?Mo(i,C+4,E?l.call(E,d,p,_,b):l(d,p,_,b)):$h(i,C+4)}(oe(),ur(),i,o,a,l,d,p,_)}function $h(i,o){const a=i[o];return a===ft?void 0:a}function YR(){return this._results[Symbol.iterator]()}class pE{static#e=Symbol.iterator;get changes(){return this._changes??=new Ns}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=pE.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=YR)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){this.dirty=!1;const l=function ii(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function yb(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(this._results,l,a))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ru=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Um}return i})();const KR=Ru,QR=class extends KR{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a)}createEmbeddedViewImpl(o,a,l){const d=function om(i,o,a,l){const d=o.tView,b=Xd(i,d,a,4096&i[nt]?4096:16,null,o,null,null,null,l?.injector??null,l?.dehydratedView??null);b[ls]=i[o.index];const C=i[yo];return null!==C&&(b[yo]=C.createEmbeddedView(d)),L0(d,b,a),b}(this._declarationLView,this._declarationTContainer,o,{injector:a,dehydratedView:l});return new Kl(d)}};function Um(){return Gh(an(),oe())}function Gh(i,o){return 4&i.type?new QR(o,i,yp(i,o)):null}class Zc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Zc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new Bm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Pu(o,a).matches&&this.queries[a].setDirty()}}class jm{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Mu{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Mu(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class zm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new zm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,dA(a,p)),this.matchTNodeWithReadOption(o,a,Bo(a,o,p,!1,!1))}else l===Ru?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Bo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ql||d===gv||d===Ru&&4&a.type)this.addMatch(a.index,-2);else{const p=Bo(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function dA(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function gE(i,o,a,l){return-1===a?function mE(i,o){return 11&i.type?yp(i,o):4&i.type?Gh(i,o):null}(o,i):-2===a?function Wc(i,o,a){return a===ql?yp(o,i):a===Ru?Gh(o,i):a===gv?_v(o,i):void 0}(i,o,l):To(i,i[we],a,o)}function _E(i,o,a,l){const d=o[yo].queries[l];if(null===d.matches){const p=i.data,_=a.matches,b=[];for(let E=0;E<_.length;E+=2){const C=_[E];b.push(C<0?null:gE(o,p[C],_[E+1],a.metadata.read))}d.matches=b}return d.matches}function vE(i,o,a,l){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const _=_E(i,o,d,a);for(let b=0;b<p.length;b+=2){const E=p[b];if(E>0)l.push(_[b/2]);else{const C=p[b+1],x=o[-E];for(let M=$n;M<x.length;M++){const N=x[M];N[ls]===N[An]&&vE(N[we],N,C,l)}if(null!==x[ds]){const M=x[ds];for(let N=0;N<M.length;N++){const U=M[N];vE(U[we],U,C,l)}}}}}return l}function cy(i){const o=oe(),a=Ut(),l=ua();pl(l+1);const d=Pu(a,l);if(i.dirty&&function Af(i){return 4==(4&i[nt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?vE(a,o,l,[]):_E(a,o,d,l);i.reset(p,Tx),i.notifyOnChanges()}return!0}return!1}function hA(i,o,a){const l=Ut();l.firstCreatePass&&(uy(l,new jm(i,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),Hm(l,oe(),o)}function ly(i,o,a,l){const d=Ut();if(d.firstCreatePass){const p=an();uy(d,new jm(o,a,l),p.index),function pA(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Hm(d,oe(),a)}function fA(){return function yE(i,o){return i[yo].queries[o].queryList}(oe(),ua())}function Hm(i,o,a){const l=new pE(4==(4&a));(function KT(i,o,a,l){const d=nC(o);d.push(a),i.firstCreatePass&&rC(i).push(l,d.length-1)})(i,o,l,l.destroy),null===o[yo]&&(o[yo]=new Bm),o[yo].queries.push(new Zc(l))}function uy(i,o,a){null===i.queries&&(i.queries=new Mu),i.queries.track(new zm(o,a))}function Pu(i,o){return i.queries.getByIndex(o)}class xA{constructor(o){this.full=o;const a=o.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}const LE=new xA("17.0.9");let py=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();class VE{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let UE=(()=>{class i{compileModuleSync(a){return new jh(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=R(Mr(a).declarations).reduce((_,b)=>{const E=Rt(b);return E&&_.push(new zp(E)),_},[]);return new VE(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Zh=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ar.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const OA=new Vt(""),kA=new Vt("");let Zm,EM=(()=>{class i{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zm||(function yy(i){Zm=i}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}static#e=this.\u0275fac=function(l){return new(l||i)(lr(qn),lr(NA),lr(kA))};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac})}return i})(),NA=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Zm?.findTestabilityInTree(this,a,l)??null}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const by=new Vt("Application Initializer");let Wm=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=Lt(by,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const p=d();if(VI(p))a.push(p);else if(UI(p)){const _=new Promise((b,E)=>{p.subscribe({complete:b,error:E})});a.push(_)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Iy=new Vt("appBootstrapListener");function XE(i,o){return Array.isArray(o)?o.reduce(XE,i):{...i,...o}}let za=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(U_),this.afterRenderEffectManager=Lt(Bp),this.componentTypes=[],this.components=[],this.isStable=Lt(Zh).hasPendingTasks.pipe((0,pn.U)(a=>!a)),this._injector=Lt(qr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof wT;if(!this._injector.get(Wm).done)throw!d&&gi(a),new Se(405,!1);let _;_=d?a:this._injector.get(vp).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const b=function QE(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Su),C=_.create(bi.NULL,[],l||_.selector,b),x=C.location.nativeElement,M=C.injector.get(OA,null);return M?.registerApplication(x),C.onDestroy(()=>{this.detachView(C.hostView),Km(this.components,C),M?.unregisterApplication(x)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{try{this.afterRenderEffectManager.execute()}catch(a){this.internalErrorHandler(a)}this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Km(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Iy,[]);[...this._bootstrapListeners,...l].forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Km(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Km(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let CM=(()=>{class i{constructor(){this.zone=Lt(qn),this.applicationRef=Lt(za)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function DM(){const i=Lt(qn),o=Lt(Wr);return a=>i.runOutsideAngular(()=>o.handleError(a))}let AM=(()=>{class i{constructor(){this.subscription=new Dr.w0,this.initialized=!1,this.zone=Lt(qn),this.pendingTasks=Lt(Zh)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qn.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qn.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Ey=new Vt("LocaleId",{providedIn:"root",factory:()=>Lt(Ey,Mt.Optional|Mt.SkipSelf)||function SM(){return typeof $localize<"u"&&$localize.locale||$i}()}),xM=new Vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Qm=new Vt("PlatformDestroyListeners");let ew=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function Bx(i="zone.js",o){return"noop"===i?new gC:"zone.js"===i?new qn(o):i}(l?.ngZone,function VA(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return d.run(()=>{const p=function jR(i,o,a){return new Bh(i,o,a)}(a.moduleType,this.injector,function JE(i){return[{provide:qn,useFactory:i},{provide:Ds,multi:!0,useFactory:()=>{const o=Lt(CM,{optional:!0});return()=>o.initialize()}},{provide:Ds,multi:!0,useFactory:()=>{const o=Lt(AM);return()=>{o.initialize()}}},{provide:U_,useFactory:DM}]}(()=>d)),_=p.injector.get(Wr,null);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:E=>{_.handleError(E)}});p.onDestroy(()=>{Km(this._modules,p),b.unsubscribe()})}),function Lu(i,o,a){try{const l=a();return VI(l)?l.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(_,d,()=>{const b=p.injector.get(Wm);return b.runInitializers(),b.donePromise.then(()=>(function Vv(i){rt(i,"Expected localeId to be defined"),"string"==typeof i&&(Lv=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ey,$i)||$i),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,l=[]){const d=XE({},l);return function KE(i,o,a){const l=new jh(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(za);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Se(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Qm,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||i)(lr(bi))};static#t=this.\u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),Ha=null;const tw=new Vt("AllowMultipleToken");function jt(i,o,a=[]){const l=`Platform: ${o}`,d=new Vt(l);return(p=[])=>{let _=Uu();if(!_||_.injector.get(tw,!1)){const b=[...a,...p,{provide:d,useValue:!0}];i?i(b):function wy(i){if(Ha&&!Ha.get(tw,!1))throw new Se(400,!1);(function Ym(){!function qa(i){Tr=i}(()=>{throw new Se(600,!1)})})(),Ha=i;const o=i.get(ew);(function Pn(i){i.get(ip,null)?.forEach(a=>a())})(i)}(function nw(i=[],o){return bi.create({name:o,providers:[{provide:Sl,useValue:"platform"},{provide:Qm,useValue:new Set([()=>Ha=null])},...i]})}(b,l))}return function BA(i){const o=Uu();if(!o)throw new Se(401,!1);return o}()}}function Uu(){return Ha?.get(ew)??null}function qs(){return!1}const Xm=jt(null,"core",[]);let NM=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(l){return new(l||i)(lr(za))};static#t=this.\u0275mod=ni({type:i});static#n=this.\u0275inj=Ue({})}return i})();function rS(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function QM(i,o=NaN){return isNaN(parseFloat(i))||isNaN(Number(i))?o:Number(i)}function JM(i){const o=Rt(i);if(!o)return null;const a=new zp(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},106:(on,Xe,ee)=>{ee.d(Xe,{Z:()=>pt});var h=ee(58),fe=ee(537),H=ee(534),be=ee(879);class Me{constructor(ze,it){this._delegate=ze,this.firebase=it,(0,H._addComponent)(ze,new fe.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(ze,it=H._DEFAULT_ENTRY_NAME){var Jt;this._delegate.checkDestroyed();const kn=this._delegate.container.getProvider(ze);return!kn.isInitialized()&&"EXPLICIT"===(null===(Jt=kn.getComponent())||void 0===Jt?void 0:Jt.instantiationMode)&&kn.initialize(),kn.getImmediate({identifier:it})}_removeServiceInstance(ze,it=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(it)}_addComponent(ze){(0,H._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,H._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const dt=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function He(){const xt=function Pt(xt){const ze={},it={__esModule:!0,initializeApp:function mt(Ye,Ee={}){const F=H.initializeApp(Ye,Ee);if((0,h.r3)(ze,F.name))return ze[F.name];const Re=new xt(F,it);return ze[F.name]=Re,Re},app:kn,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function tt(Ye){const Ee=Ye.name,F=Ee.replace("-compat","");if(H._registerComponent(Ye)&&"PUBLIC"===Ye.type){const Re=(Tt=kn())=>{if("function"!=typeof Tt[F])throw dt.create("invalid-app-argument",{appName:Ee});return Tt[F]()};void 0!==Ye.serviceProps&&(0,h.ZB)(Re,Ye.serviceProps),it[F]=Re,xt.prototype[F]=function(...Tt){return this._getService.bind(this,Ee).apply(this,Ye.multipleInstances?Tt:[])}}return"PUBLIC"===Ye.type?it[F]:null},removeApp:function Jt(Ye){delete ze[Ye]},useAsService:function Gt(Ye,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:H}};function kn(Ye){if(!(0,h.r3)(ze,Ye=Ye||H._DEFAULT_ENTRY_NAME))throw dt.create("no-app",{appName:Ye});return ze[Ye]}return it.default=it,Object.defineProperty(it,"apps",{get:function Ae(){return Object.keys(ze).map(Ye=>ze[Ye])}}),kn.App=xt,it}(Me);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function ze(it){(0,h.ZB)(xt,it)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),xt}(),j=new be.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pt=q;!function ke(xt){(0,H.registerVersion)("@firebase/app-compat","0.2.25",xt)}()},534:(on,Xe,ee)=>{ee.r(Xe),ee.d(Xe,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>ho,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>pi,_addOrOverwriteComponent:()=>Se,_apps:()=>gt,_clearComponents:()=>en,_components:()=>ts,_getProvider:()=>zn,_registerComponent:()=>Sr,_removeServiceInstance:()=>ns,deleteApp:()=>fo,getApp:()=>Ft,getApps:()=>Jc,initializeApp:()=>st,onLog:()=>is,registerVersion:()=>po,setLogLevel:()=>Wa});var h=ee(861),fe=ee(537),H=ee(879),be=ee(58);const Me=(re,z)=>z.some(Ie=>re instanceof Ie);let ge,dt;const q=new WeakMap,j=new WeakMap,ie=new WeakMap,Ge=new WeakMap,ke=new WeakMap;let ze={get(re,z,Ie){if(re instanceof IDBTransaction){if("done"===z)return j.get(re);if("objectStoreNames"===z)return re.objectStoreNames||ie.get(re);if("store"===z)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return mt(re[z])},set:(re,z,Ie)=>(re[z]=Ie,!0),has:(re,z)=>re instanceof IDBTransaction&&("done"===z||"store"===z)||z in re};function kn(re){return"function"==typeof re?function Jt(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return dt||(dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...z){return re.apply(Ae(this),z),mt(q.get(this))}:function(...z){return mt(re.apply(Ae(this),z))}:function(z,...Ie){const Ue=re.call(Ae(this),z,...Ie);return ie.set(Ue,z.sort?z.sort():[z]),mt(Ue)}}(re):(re instanceof IDBTransaction&&function xt(re){if(j.has(re))return;const z=new Promise((Ie,Ue)=>{const ut=()=>{re.removeEventListener("complete",kt),re.removeEventListener("error",Ht),re.removeEventListener("abort",Ht)},kt=()=>{Ie(),ut()},Ht=()=>{Ue(re.error||new DOMException("AbortError","AbortError")),ut()};re.addEventListener("complete",kt),re.addEventListener("error",Ht),re.addEventListener("abort",Ht)});j.set(re,z)}(re),Me(re,function Pt(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,ze):re)}function mt(re){if(re instanceof IDBRequest)return function pt(re){const z=new Promise((Ie,Ue)=>{const ut=()=>{re.removeEventListener("success",kt),re.removeEventListener("error",Ht)},kt=()=>{Ie(mt(re.result)),ut()},Ht=()=>{Ue(re.error),ut()};re.addEventListener("success",kt),re.addEventListener("error",Ht)});return z.then(Ie=>{Ie instanceof IDBCursor&&q.set(Ie,re)}).catch(()=>{}),ke.set(z,re),z}(re);if(Ge.has(re))return Ge.get(re);const z=kn(re);return z!==re&&(Ge.set(re,z),ke.set(z,re)),z}const Ae=re=>ke.get(re),Ye=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],F=new Map;function Re(re,z){if(!(re instanceof IDBDatabase)||z in re||"string"!=typeof z)return;if(F.get(z))return F.get(z);const Ie=z.replace(/FromIndex$/,""),Ue=z!==Ie,ut=Ee.includes(Ie);if(!(Ie in(Ue?IDBIndex:IDBObjectStore).prototype)||!ut&&!Ye.includes(Ie))return;const kt=function(){var Ht=(0,h.Z)(function*(Wn,..._n){const Zi=this.transaction(Wn,ut?"readwrite":"readonly");let os=Zi.store;return Ue&&(os=os.index(_n.shift())),(yield Promise.all([os[Ie](..._n),ut&&Zi.done]))[0]});return function(_n){return Ht.apply(this,arguments)}}();return F.set(z,kt),kt}!function it(re){ze=re(ze)}(re=>({...re,get:(z,Ie,Ue)=>Re(z,Ie)||re.get(z,Ie,Ue),has:(z,Ie)=>!!Re(z,Ie)||re.has(z,Ie)}));class Tt{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(Ie=>{if(function Nn(re){const z=re.getComponent();return"VERSION"===z?.type}(Ie)){const Ue=Ie.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(Ie=>Ie).join(" ")}}const Jr="@firebase/app",Cr=new H.Yd("@firebase/app"),Ve="[DEFAULT]",Ot={[Jr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,ts=new Map;function pi(re,z){try{re.container.addComponent(z)}catch(Ie){Cr.debug(`Component ${z.name} failed to register with FirebaseApp ${re.name}`,Ie)}}function Se(re,z){re.container.addOrOverwriteComponent(z)}function Sr(re){const z=re.name;if(ts.has(z))return Cr.debug(`There were multiple attempts to register component ${z}.`),!1;ts.set(z,re);for(const Ie of gt.values())pi(Ie,re);return!0}function zn(re,z){const Ie=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Ie&&Ie.triggerHeartbeat(),re.container.getProvider(z)}function ns(re,z,Ie=Ve){zn(re,z).clearInstance(Ie)}function en(){ts.clear()}const _t=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xr{constructor(z,Ie,Ue){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},Ie),this._name=Ie.name,this._automaticDataCollectionEnabled=Ie.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const ho="10.7.1";function st(re,z={}){let Ie=re;"object"!=typeof z&&(z={name:z});const Ue=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},z),ut=Ue.name;if("string"!=typeof ut||!ut)throw _t.create("bad-app-name",{appName:String(ut)});if(Ie||(Ie=(0,be.aH)()),!Ie)throw _t.create("no-options");const kt=gt.get(ut);if(kt){if((0,be.vZ)(Ie,kt.options)&&(0,be.vZ)(Ue,kt.config))return kt;throw _t.create("duplicate-app",{appName:ut})}const Ht=new fe.H0(ut);for(const _n of ts.values())Ht.addComponent(_n);const Wn=new xr(Ie,Ue,Ht);return gt.set(ut,Wn),Wn}function Ft(re=Ve){const z=gt.get(re);if(!z&&re===Ve&&(0,be.aH)())return st();if(!z)throw _t.create("no-app",{appName:re});return z}function Jc(){return Array.from(gt.values())}function fo(re){return qi.apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(re){const z=re.name;gt.has(z)&&(gt.delete(z),yield Promise.all(re.container.getProviders().map(Ie=>Ie.delete())),re.isDeleted=!0)})).apply(this,arguments)}function po(re,z,Ie){var Ue;let ut=null!==(Ue=Ot[re])&&void 0!==Ue?Ue:re;Ie&&(ut+=`-${Ie}`);const kt=ut.match(/\s|\//),Ht=z.match(/\s|\//);if(kt||Ht){const Wn=[`Unable to register library "${ut}" with version "${z}":`];return kt&&Wn.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),kt&&Ht&&Wn.push("and"),Ht&&Wn.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void Cr.warn(Wn.join(" "))}Sr(new fe.wA(`${ut}-version`,()=>({library:ut,version:z}),"VERSION"))}function is(re,z){if(null!==re&&"function"!=typeof re)throw _t.create("invalid-log-argument");(0,H.Am)(re,z)}function Wa(re){(0,H.Ub)(re)}const cr="firebase-heartbeat-database",Zu=1,L="firebase-heartbeat-store";let k=null;function B(){return k||(k=function tt(re,z,{blocked:Ie,upgrade:Ue,blocking:ut,terminated:kt}={}){const Ht=indexedDB.open(re,z),Wn=mt(Ht);return Ue&&Ht.addEventListener("upgradeneeded",_n=>{Ue(mt(Ht.result),_n.oldVersion,_n.newVersion,mt(Ht.transaction),_n)}),Ie&&Ht.addEventListener("blocked",_n=>Ie(_n.oldVersion,_n.newVersion,_n)),Wn.then(_n=>{kt&&_n.addEventListener("close",()=>kt()),ut&&_n.addEventListener("versionchange",Zi=>ut(Zi.oldVersion,Zi.newVersion,Zi))}).catch(()=>{}),Wn}(cr,Zu,{upgrade:(re,z)=>{0===z&&re.createObjectStore(L)}}).catch(re=>{throw _t.create("idb-open",{originalErrorMessage:re.message})})),k}function Y(){return(Y=(0,h.Z)(function*(re){try{return yield(yield B()).transaction(L).objectStore(L).get(At(re))}catch(z){if(z instanceof be.ZR)Cr.warn(z.message);else{const Ie=_t.create("idb-get",{originalErrorMessage:z?.message});Cr.warn(Ie.message)}}})).apply(this,arguments)}function Le(re,z){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(re,z){try{const Ue=(yield B()).transaction(L,"readwrite");yield Ue.objectStore(L).put(z,At(re)),yield Ue.done}catch(Ie){if(Ie instanceof be.ZR)Cr.warn(Ie.message);else{const Ue=_t.create("idb-set",{originalErrorMessage:Ie?.message});Cr.warn(Ue.message)}}})).apply(this,arguments)}function At(re){return`${re.name}!${re.options.appId}`}class er{constructor(z){this.container=z,this._heartbeatsCache=null;const Ie=this.container.getProvider("app").getImmediate();this._storage=new mo(Ie),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var z=this;return(0,h.Z)(function*(){var Ie,Ue;const kt=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=rt();if((null!=(null===(Ie=z._heartbeatsCache)||void 0===Ie?void 0:Ie.heartbeats)||(z._heartbeatsCache=yield z._heartbeatsCachePromise,null!=(null===(Ue=z._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)))&&z._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!z._heartbeatsCache.heartbeats.some(Wn=>Wn.date===Ht))return z._heartbeatsCache.heartbeats.push({date:Ht,agent:kt}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(Wn=>{const _n=new Date(Wn.date).valueOf();return Date.now()-_n<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,h.Z)(function*(){var Ie;if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null==(null===(Ie=z._heartbeatsCache)||void 0===Ie?void 0:Ie.heartbeats)||0===z._heartbeatsCache.heartbeats.length)return"";const Ue=rt(),{heartbeatsToSend:ut,unsentEntries:kt}=function Ze(re,z=1024){const Ie=[];let Ue=re.slice();for(const ut of re){const kt=Ie.find(Ht=>Ht.agent===ut.agent);if(kt){if(kt.dates.push(ut.date),Xs(Ie)>z){kt.dates.pop();break}}else if(Ie.push({agent:ut.agent,dates:[ut.date]}),Xs(Ie)>z){Ie.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:Ie,unsentEntries:Ue}}(z._heartbeatsCache.heartbeats),Ht=(0,be.L)(JSON.stringify({version:2,heartbeats:ut}));return z._heartbeatsCache.lastSentHeartbeatDate=Ue,kt.length>0?(z._heartbeatsCache.heartbeats=kt,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),Ht})()}}function rt(){return(new Date).toISOString().substring(0,10)}class mo{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,be.hl)()&&(0,be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,h.Z)(function*(){if(yield z._canUseIndexedDBPromise){const Ue=yield function de(re){return Y.apply(this,arguments)}(z.app);return Ue?.heartbeats?Ue:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(z){var Ie=this;return(0,h.Z)(function*(){var Ue;if(yield Ie._canUseIndexedDBPromise){const kt=yield Ie.read();return Le(Ie.app,{lastSentHeartbeatDate:null!==(Ue=z.lastSentHeartbeatDate)&&void 0!==Ue?Ue:kt.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var Ie=this;return(0,h.Z)(function*(){var Ue;if(yield Ie._canUseIndexedDBPromise){const kt=yield Ie.read();return Le(Ie.app,{lastSentHeartbeatDate:null!==(Ue=z.lastSentHeartbeatDate)&&void 0!==Ue?Ue:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...z.heartbeats]})}})()}}function Xs(re){return(0,be.L)(JSON.stringify({version:2,heartbeats:re})).length}!function Jh(re){Sr(new fe.wA("platform-logger",z=>new Tt(z),"PRIVATE")),Sr(new fe.wA("heartbeat",z=>new er(z),"PRIVATE")),po(Jr,"0.9.25",re),po(Jr,"0.9.25","esm2017"),po("fire-js","")}("")},537:(on,Xe,ee)=>{ee.d(Xe,{H0:()=>Pt,wA:()=>H});var h=ee(861),fe=ee(58);class H{constructor(q,j,ie){this.name=q,this.instanceFactory=j,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const be="[DEFAULT]";class Me{constructor(q,j){this.name=q,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const j=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(j)){const ie=new fe.BH;if(this.instancesDeferred.set(j,ie),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:j});Ge&&ie.resolve(Ge)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(q){var j;const ie=this.normalizeInstanceIdentifier(q?.identifier),Ge=null!==(j=q?.optional)&&void 0!==j&&j;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ke){if(Ge)return null;throw ke}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function dt(He){return"EAGER"===He.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[j,ie]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(j);try{const ke=this.getOrInitializeService({instanceIdentifier:Ge});ie.resolve(ke)}catch{}}}}clearInstance(q=be){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,h.Z)(function*(){const j=Array.from(q.instances.values());yield Promise.all([...j.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...j.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=be){return this.instances.has(q)}getOptions(q=be){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:j={}}=q,ie=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ie,options:j});for(const[ke,pt]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(ke)&&pt.resolve(Ge);return Ge}onInit(q,j){var ie;const Ge=this.normalizeInstanceIdentifier(j),ke=null!==(ie=this.onInitCallbacks.get(Ge))&&void 0!==ie?ie:new Set;ke.add(q),this.onInitCallbacks.set(Ge,ke);const pt=this.instances.get(Ge);return pt&&q(pt,Ge),()=>{ke.delete(q)}}invokeOnInitCallbacks(q,j){const ie=this.onInitCallbacks.get(j);if(ie)for(const Ge of ie)try{Ge(q,j)}catch{}}getOrInitializeService({instanceIdentifier:q,options:j={}}){let ie=this.instances.get(q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(He=q,He===be?void 0:He),options:j}),this.instances.set(q,ie),this.instancesOptions.set(q,j),this.invokeOnInitCallbacks(ie,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ie)}catch{}var He;return ie||null}normalizeInstanceIdentifier(q=be){return this.component?this.component.multipleInstances?q:be:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pt{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const j=this.getProvider(q.name);if(j.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);j.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const j=new Me(q,this);return this.providers.set(q,j),j}getProviders(){return Array.from(this.providers.values())}}},879:(on,Xe,ee)=>{ee.d(Xe,{Am:()=>He,Ub:()=>Pt,Yd:()=>dt,in:()=>fe});const h=[];var fe=function(q){return q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q}(fe||{});const H={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},be=fe.INFO,Me={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ge=(q,j,...ie)=>{if(j<q.logLevel)return;const Ge=(new Date).toISOString(),ke=Me[j];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ke](`[${Ge}]  ${q.name}:`,...ie)};class dt{constructor(j){this.name=j,this._logLevel=be,this._logHandler=ge,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in fe))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?H[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...j),this._logHandler(this,fe.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...j),this._logHandler(this,fe.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...j),this._logHandler(this,fe.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...j),this._logHandler(this,fe.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...j),this._logHandler(this,fe.ERROR,...j)}}function Pt(q){h.forEach(j=>{j.setLogLevel(q)})}function He(q,j){for(const ie of h){let Ge=null;j&&j.level&&(Ge=H[j.level]),ie.userLogHandler=null===q?null:(ke,pt,...xt)=>{const ze=xt.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");pt>=(Ge??ke.logLevel)&&q({level:fe[pt].toLowerCase(),message:ze,args:xt,type:ke.name})}}}},230:(on,Xe,ee)=>{ee.r(Xe);var h=ee(861),fe=ee(106),H=ee(58),be=ee(534),Me=ee(879),ge=ee(582),dt=ee(537);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const pt=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},xt=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jt=new Me.Yd("@firebase/auth");function mt(v,...f){Jt.logLevel<=Me.in.ERROR&&Jt.error(`Auth (${be.SDK_VERSION}): ${v}`,...f)}function Ae(v,...f){throw Ee(v,...f)}function tt(v,...f){return Ee(v,...f)}function Gt(v,f,m){const I=Object.assign(Object.assign({},xt()),{[f]:m});return new H.LL("auth","Firebase",I).create(f,{appName:v.name})}function Ye(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(v,"argument-error"),Gt(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ee(v,...f){if("string"!=typeof v){const m=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return ze.create(v,...f)}function F(v,f,...m){if(!v)throw Ee(f,...m)}function Re(v){const f="INTERNAL ASSERTION FAILED: "+v;throw mt(f),new Error(f)}function Tt(v,f){v||Re(f)}function Nn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Jr(){return"http:"===Tr()||"https:"===Tr()}function Tr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Gi{constructor(f,m){this.shortDelay=f,this.longDelay=m,Tt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Cr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jr()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function J(v,f){Tt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class te{static initialize(f,m,I){this.fetchImpl=f,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ae=new Gi(3e4,6e4);function ue(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function pe(v,f,m,I){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(v,f,m,I,D={}){return zt(v,D,(0,h.Z)(function*(){let R={},O={};I&&("GET"===f?O=I:R={body:JSON.stringify(I)});const G=(0,H.xO)(Object.assign({key:v.config.apiKey},O)).slice(1),se=yield v._getAdditionalHeaders();return se["Content-Type"]="application/json",v.languageCode&&(se["X-Firebase-Locale"]=v.languageCode),te.fetch()(Bn(v,v.config.apiHost,m,G),Object.assign({method:f,headers:se,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function zt(v,f,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(v,f,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},le),f);try{const D=new Dr(v),R=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const O=yield R.json();if("needConfirmation"in O)throw Ar(v,"account-exists-with-different-credential",O);if(R.ok&&!("errorMessage"in O))return O;{const G=R.ok?O.errorMessage:O.error.message,[se,Ce]=G.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===se)throw Ar(v,"credential-already-in-use",O);if("EMAIL_EXISTS"===se)throw Ar(v,"email-already-in-use",O);if("USER_DISABLED"===se)throw Ar(v,"user-disabled",O);const Fe=I[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(Ce)throw Gt(v,Fe,Ce);Ae(v,Fe)}}catch(D){if(D instanceof H.ZR)throw D;Ae(v,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function Je(v,f,m,I){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(v,f,m,I,D={}){const R=yield pe(v,f,m,I,D);return"mfaPendingCredential"in R&&Ae(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Bn(v,f,m,I){const D=`${f}${m}?${I}`;return v.config.emulator?J(v.config,D):`${v.config.apiScheme}://${D}`}function Dn(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(tt(this.auth,"network-request-failed")),ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(v,f,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const D=tt(v,f,I);return D.customData._tokenResponse=m,D}function pn(v){return void 0!==v&&void 0!==v.getResponse}function Ct(v){return void 0!==v&&void 0!==v.enterprise}class Hr{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return Dn(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function lo(){return(lo=(0,h.Z)(function*(v){return(yield pe(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Za(v,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(v,f){return pe(v,"GET","/v2/recaptchaConfig",ue(v,f))})).apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function gt(){return(gt=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Se(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ns(){return(ns=(0,h.Z)(function*(v,f=!1){const m=(0,H.m9)(v),I=yield m.getIdToken(f),D=rs(I);F(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const R="object"==typeof D.firebase?D.firebase:void 0,O=R?.sign_in_provider;return{claims:D,token:I,authTime:Se(en(D.auth_time)),issuedAtTime:Se(en(D.iat)),expirationTime:Se(en(D.exp)),signInProvider:O||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function en(v){return 1e3*Number(v)}function rs(v){const[f,m,I]=v.split(".");if(void 0===f||void 0===m||void 0===I)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,H.tV)(m);return D?JSON.parse(D):(mt("Failed to decode base64 JWT payload"),null)}catch(D){return mt("Caught error parsing JWT payload as JSON",D?.toString()),null}}function xr(v,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(I){throw I instanceof H.ZR&&function st({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Ft{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),I)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class Jc{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Se(this.lastLoginAt),this.creationTime=Se(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fo(v){return qi.apply(this,arguments)}function qi(){return qi=(0,h.Z)(function*(v){var f;const m=v.auth,I=yield v.getIdToken(),D=yield xr(v,function ts(v,f){return pi.apply(this,arguments)}(m,{idToken:I}));F(D?.users.length,m,"internal-error");const R=D.users[0];v._notifyReloadListener(R);const O=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?function cr(v){return v.map(f=>{var{providerId:m}=f,I=(0,ge._T)(f,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(R.providerUserInfo):[],G=function Wa(v,f){return[...v.filter(I=>!f.some(D=>D.providerId===I.providerId)),...f]}(v.providerData,O),Fe=!!v.isAnonymous&&!(v.email&&R.passwordHash||G?.length),$e={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:G,metadata:new Jc(R.createdAt,R.lastLoginAt),isAnonymous:Fe};Object.assign(v,$e)}),qi.apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(v){const f=(0,H.m9)(v);yield fo(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function L(){return(L=(0,h.Z)(function*(v,f){const m=yield zt(v,{},(0,h.Z)(function*(){const I=(0,H.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:R}=v.config,O=Bn(v,D,"/v1/token",`key=${R}`),G=yield v._getAdditionalHeaders();return G["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(O,{method:"POST",headers:G,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(v,f){return pe(v,"POST","/v2/accounts:revokeToken",ue(v,f))})).apply(this,arguments)}class de{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){F(f.idToken,"internal-error"),F(typeof f.idToken<"u","internal-error"),F(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function _t(v){const f=rs(v);return F(f,"internal-error"),F(typeof f.exp<"u","internal-error"),F(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var I=this;return(0,h.Z)(function*(){return F(!I.accessToken||I.refreshToken,f,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var I=this;return(0,h.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:O}=yield function Zu(v,f){return L.apply(this,arguments)}(f,m);I.updateTokensAndExpiration(D,R,Number(O))})()}updateTokensAndExpiration(f,m,I){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,m){const{refreshToken:I,accessToken:D,expirationTime:R}=m,O=new de;return I&&(F("string"==typeof I,"internal-error",{appName:f}),O.refreshToken=I),D&&(F("string"==typeof D,"internal-error",{appName:f}),O.accessToken=D),R&&(F("number"==typeof R,"internal-error",{appName:f}),O.expirationTime=R),O}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new de,this.toJSON())}_performRefresh(){return Re("not implemented")}}function Y(v,f){F("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Le{constructor(f){var{uid:m,auth:I,stsTokenManager:D}=f,R=(0,ge._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Jc(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const I=yield xr(m,m.stsTokenManager.getToken(m.auth,f));return F(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(f){return function zn(v){return ns.apply(this,arguments)}(this,f)}reload(){return function po(v){return is.apply(this,arguments)}(this)}_assign(f){this!==f&&(F(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new Le(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var I=this;return(0,h.Z)(function*(){let D=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),D=!0),m&&(yield fo(I)),yield I.auth._persistUserIfCurrent(I),D&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield xr(f,function Qs(v,f){return Ve.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var I,D,R,O,G,se,Ce,Fe;const $e=null!==(I=m.displayName)&&void 0!==I?I:void 0,hn=null!==(D=m.email)&&void 0!==D?D:void 0,Ii=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Od=null!==(O=m.photoURL)&&void 0!==O?O:void 0,r_=null!==(G=m.tenantId)&&void 0!==G?G:void 0,Mb=null!==(se=m._redirectEventId)&&void 0!==se?se:void 0,i_=null!==(Ce=m.createdAt)&&void 0!==Ce?Ce:void 0,Gw=null!==(Fe=m.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:ap,emailVerified:Pb,isAnonymous:kd,providerData:o_,stsTokenManager:cp}=m;F(ap&&cp,f,"internal-error");const Ui=de.fromJSON(this.name,cp);F("string"==typeof ap,f,"internal-error"),Y($e,f.name),Y(hn,f.name),F("boolean"==typeof Pb,f,"internal-error"),F("boolean"==typeof kd,f,"internal-error"),Y(Ii,f.name),Y(Od,f.name),Y(r_,f.name),Y(Mb,f.name),Y(i_,f.name),Y(Gw,f.name);const s_=new Le({uid:ap,auth:f,email:hn,emailVerified:Pb,displayName:$e,isAnonymous:kd,photoURL:Od,phoneNumber:Ii,tenantId:r_,stsTokenManager:Ui,createdAt:i_,lastLoginAt:Gw});return o_&&Array.isArray(o_)&&(s_.providerData=o_.map(Nd=>Object.assign({},Nd))),Mb&&(s_._redirectEventId=Mb),s_}static _fromIdTokenResponse(f,m,I=!1){return(0,h.Z)(function*(){const D=new de;D.updateFromServerResponse(m);const R=new Le({uid:m.localId,auth:f,stsTokenManager:D,isAnonymous:I});return yield fo(R),R})()}}const ht=new Map;function At(v){Tt(v instanceof Function,"Expected a class definition");let f=ht.get(v);return f?(Tt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,ht.set(v,f),f)}const Hn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,I){var D=this;return(0,h.Z)(function*(){D.storage[m]=I})()}_get(m){var I=this;return(0,h.Z)(function*(){const D=I.storage[m];return void 0===D?null:D})()}_remove(m){var I=this;return(0,h.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function er(v,f,m){return`firebase:${v}:${f}:${m}`}class rt{constructor(f,m,I){this.persistence=f,this.auth=m,this.userKey=I;const{config:D,name:R}=this.auth;this.fullUserKey=er(this.userKey,D.apiKey,R),this.fullPersistenceKey=er("persistence",D.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Le._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,I="authUser"){return(0,h.Z)(function*(){if(!m.length)return new rt(At(Hn),f,I);const D=(yield Promise.all(m.map(function(){var Ce=(0,h.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return Ce.apply(this,arguments)}}()))).filter(Ce=>Ce);let R=D[0]||At(Hn);const O=er(I,f.config.apiKey,f.name);let G=null;for(const Ce of m)try{const Fe=yield Ce._get(O);if(Fe){const $e=Le._fromJSON(f,Fe);Ce!==R&&(G=$e),R=Ce;break}}catch{}const se=D.filter(Ce=>Ce._shouldAllowMigration);return R._shouldAllowMigration&&se.length?(R=se[0],G&&(yield R._set(O,G.toJSON())),yield Promise.all(m.map(function(){var Ce=(0,h.Z)(function*(Fe){if(Fe!==R)try{yield Fe._remove(O)}catch{}});return function(Fe){return Ce.apply(this,arguments)}}())),new rt(R,f,I)):new rt(R,f,I)})()}}function Ze(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(re(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(mo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ie(f))return"Blackberry";if(Ue(f))return"Webos";if(Xs(f))return"Safari";if((f.includes("chrome/")||Jh(f))&&!f.includes("edge/"))return"Chrome";if(z(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function mo(v=(0,H.z$)()){return/firefox\//i.test(v)}function Xs(v=(0,H.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Jh(v=(0,H.z$)()){return/crios\//i.test(v)}function re(v=(0,H.z$)()){return/iemobile/i.test(v)}function z(v=(0,H.z$)()){return/android/i.test(v)}function Ie(v=(0,H.z$)()){return/blackberry/i.test(v)}function Ue(v=(0,H.z$)()){return/webos/i.test(v)}function ut(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function _n(v=(0,H.z$)()){return ut(v)||z(v)||Ue(v)||Ie(v)||/windows phone/i.test(v)||re(v)}function os(v,f=[]){let m;switch(v){case"Browser":m=Ze((0,H.z$)());break;case"Worker":m=`${Ze((0,H.z$)())}-${v}`;break;default:m=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${be.SDK_VERSION}/${I}`}class Wu{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const I=R=>new Promise((O,G)=>{try{O(f(R))}catch(se){G(se)}});I.onAbort=m,this.queue.push(I);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===f)return;const I=[];try{for(const D of m.queue)yield D(f),D.onAbort&&I.push(D.onAbort)}catch(D){I.reverse();for(const R of I)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}function Mt(){return(Mt=(0,h.Z)(function*(v,f={}){return pe(v,"GET","/v2/passwordPolicy",ue(v,f))})).apply(this,arguments)}class tf{constructor(f){var m,I,D,R;const O=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=O.minPasswordLength)&&void 0!==m?m:6,O.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=O.maxPasswordLength),void 0!==O.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=O.containsLowercaseCharacter),void 0!==O.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=O.containsUppercaseCharacter),void 0!==O.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=O.containsNumericCharacter),void 0!==O.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=O.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(D=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==D?D:"",this.forceUpgradeOnSignin=null!==(R=f.forceUpgradeOnSignin)&&void 0!==R&&R,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,I,D,R,O,G;const se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,se),this.validatePasswordCharacterOptions(f,se),se.isValid&&(se.isValid=null===(m=se.meetsMinPasswordLength)||void 0===m||m),se.isValid&&(se.isValid=null===(I=se.meetsMaxPasswordLength)||void 0===I||I),se.isValid&&(se.isValid=null===(D=se.containsLowercaseLetter)||void 0===D||D),se.isValid&&(se.isValid=null===(R=se.containsUppercaseLetter)||void 0===R||R),se.isValid&&(se.isValid=null===(O=se.containsNumericCharacter)||void 0===O||O),se.isValid&&(se.isValid=null===(G=se.containsNonAlphanumericCharacter)||void 0===G||G),se}validatePasswordLengthOptions(f,m){const I=this.customStrengthOptions.minPasswordLength,D=this.customStrengthOptions.maxPasswordLength;I&&(m.meetsMinPasswordLength=f.length>=I),D&&(m.meetsMaxPasswordLength=f.length<=D)}validatePasswordCharacterOptions(f,m){let I;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let D=0;D<f.length;D++)I=f.charAt(D),this.updatePasswordCharacterOptionsStatuses(m,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,m,I,D,R){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=D)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=R))}}class ei{constructor(f,m,I,D){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pg(this),this.idTokenSubscription=new pg(this),this.beforeStateQueue=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(f,m){var I=this;return m&&(this._popupRedirectResolver=At(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var D,R;if(!I._deleted&&(I.persistenceManager=yield rt.create(I,f),!I._deleted)){if(null!==(D=I._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(R=I.currentUser)||void 0===R?void 0:R.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var I;const D=yield m.assertedPersistence.getCurrentUser();let R=D,O=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const G=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,se=R?._redirectEventId,Ce=yield m.tryRedirectSignIn(f);(!G||G===se)&&Ce?.user&&(R=Ce.user,O=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(O)try{yield m.beforeStateQueue.runMiddleware(R)}catch(G){R=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(G))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return F(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield fo(f)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function qa(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const I=f?(0,H.m9)(f):null;return I&&F(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(f,m=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return f&&F(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(At(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,h.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const I=m._getPasswordPolicyInternal();return I.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,h.Z)(function*(){const m=yield function fg(v){return Mt.apply(this,arguments)}(f),I=new tf(m);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new H.LL("auth","Firebase",f())}onAuthStateChanged(f,m,I){return this.registerStateListener(this.authStateSubscription,f,m,I)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,I){return this.registerStateListener(this.idTokenSubscription,f,m,I)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,h.Z)(function*(){if(m.currentUser){const I=yield m.currentUser.getIdToken(),D={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=m.tenantId&&(D.tenantId=m.tenantId),yield function k(v,f){return B.apply(this,arguments)}(m,D)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var I=this;return(0,h.Z)(function*(){const D=yield I.getOrInitRedirectPersistenceManager(m);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const I=f&&At(f)||m._popupRedirectResolver;F(I,m,"argument-error"),m.redirectPersistenceManager=yield rt.create(m,[At(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var I,D;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===f?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,I,D){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m);let O=!1;const G=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(G,this,"internal-error"),G.then(()=>{O||R(this.currentUser)}),"function"==typeof m){const se=f.addObserver(m,I,D);return()=>{O=!0,se()}}{const se=f.addObserver(m);return()=>{O=!0,se()}}}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=os(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const D=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();D&&(I["X-Firebase-Client"]=D);const R=yield f._getAppCheckToken();return R&&(I["X-Firebase-AppCheck"]=R),I})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var m;const I=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function kn(v,...f){Jt.logLevel<=Me.in.WARN&&Jt.warn(`Auth (${be.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function sn(v){return(0,H.m9)(v)}class pg{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function el(v){return new Promise((f,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=D=>{const R=tt("internal-error");R.customData=D,m(R)},I.type="text/javascript",I.charset="UTF-8",function tr(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)})}function Hy(v){return`__${v}${Math.floor(1e6*Math.random())}`}class nl{constructor(f){this.type="recaptcha-enterprise",this.auth=sn(f)}verify(f="verify",m=!1){var I=this;return(0,h.Z)(function*(){function R(){return R=(0,h.Z)(function*(G){if(!m){if(null==G.tenantId&&null!=G._agentRecaptchaConfig)return G._agentRecaptchaConfig.siteKey;if(null!=G.tenantId&&void 0!==G._tenantRecaptchaConfigs[G.tenantId])return G._tenantRecaptchaConfigs[G.tenantId].siteKey}return new Promise(function(){var se=(0,h.Z)(function*(Ce,Fe){Za(G,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($e=>{if(void 0!==$e.recaptchaKey){const hn=new Hr($e);return null==G.tenantId?G._agentRecaptchaConfig=hn:G._tenantRecaptchaConfigs[G.tenantId]=hn,Ce(hn.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch($e=>{Fe($e)})});return function(Ce,Fe){return se.apply(this,arguments)}}())}),R.apply(this,arguments)}function O(G,se,Ce){const Fe=window.grecaptcha;Ct(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute(G,{action:f}).then($e=>{se($e)}).catch(()=>{se("NO_RECAPTCHA")})}):Ce(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((G,se)=>{(function D(G){return R.apply(this,arguments)})(I.auth).then(Ce=>{if(!m&&Ct(window.grecaptcha))O(Ce,G,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));el("https://www.google.com/recaptcha/enterprise.js?render="+Ce).then(()=>{O(Ce,G,se)}).catch(Fe=>{se(Fe)})}}).catch(Ce=>{se(Ce)})})})()}}function Yu(v,f,m){return rf.apply(this,arguments)}function rf(){return(rf=(0,h.Z)(function*(v,f,m,I=!1){const D=new nl(v);let R;try{R=yield D.verify(m)}catch{R=yield D.verify(m,!0)}const O=Object.assign({},f);return Object.assign(O,I?{captchaResp:R}:{captchaResponse:R}),Object.assign(O,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(O,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),O})).apply(this,arguments)}function Ya(v,f,m,I){return $y.apply(this,arguments)}function $y(){return $y=(0,h.Z)(function*(v,f,m,I){var D;if(null!==(D=v._getRecaptchaConfig())&&void 0!==D&&D.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const R=yield Yu(v,f,m,"getOobCode"===m);return I(v,R)}return I(v,f).catch(function(){var R=(0,h.Z)(function*(O){if("auth/missing-recaptcha-token"===O.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const G=yield Yu(v,f,m,"getOobCode"===m);return I(v,G)}return Promise.reject(O)});return function(O){return R.apply(this,arguments)}}())}),$y.apply(this,arguments)}function ti(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function mg(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Ka{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Re("not implemented")}_getIdTokenResponse(f){return Re("not implemented")}_linkToIdToken(f,m){return Re("not implemented")}_getReauthenticationResolver(f){return Re("not implemented")}}function sf(v,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:resetPassword",ue(v,f))})).apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Yy(v,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",ue(v,f))})).apply(this,arguments)}function Qu(v,f){return il.apply(this,arguments)}function il(){return(il=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithPassword",ue(v,f))})).apply(this,arguments)}function as(v,f){return af.apply(this,arguments)}function af(){return(af=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:sendOobCode",ue(v,f))})).apply(this,arguments)}function cf(){return(cf=(0,h.Z)(function*(v,f){return as(v,f)})).apply(this,arguments)}function No(v,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(v,f){return as(v,f)})).apply(this,arguments)}function cs(v,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(v,f){return as(v,f)})).apply(this,arguments)}function Qa(){return(Qa=(0,h.Z)(function*(v,f){return as(v,f)})).apply(this,arguments)}function lf(){return(lf=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithEmailLink",ue(v,f))})).apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithEmailLink",ue(v,f))})).apply(this,arguments)}class ta extends Ka{constructor(f,m,I,D=null){super("password",I),this._email=f,this._password=m,this._tenantId=D}static _fromEmailAndPassword(f,m){return new ta(f,m,"password")}static _fromEmailAndCode(f,m,I=null){return new ta(f,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return Ya(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qu);case"emailLink":return function ol(v,f){return lf.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return Ya(f,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yy);case"emailLink":return function Qy(v,f){return ea.apply(this,arguments)}(f,{idToken:m,email:I._email,oobCode:I._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _o(v,f){return uf.apply(this,arguments)}function uf(){return(uf=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithIdp",ue(v,f))})).apply(this,arguments)}class Wi extends Ka{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Wi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:D}=m,R=(0,ge._T)(m,["providerId","signInMethod"]);if(!I||!D)return null;const O=new Wi(I,D);return O.idToken=R.idToken||void 0,O.accessToken=R.accessToken||void 0,O.secret=R.secret,O.nonce=R.nonce,O.pendingToken=R.pendingToken||null,O}_getIdTokenResponse(f){return _o(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,_o(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,_o(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,H.xO)(m)}return f}}function Mi(){return(Mi=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:sendVerificationCode",ue(v,f))})).apply(this,arguments)}function df(){return(df=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,f))})).apply(this,arguments)}function hf(){return(hf=(0,h.Z)(function*(v,f){const m=yield Je(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,f));if(m.temporaryProof)throw Ar(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Jy={USER_NOT_FOUND:"user-not-found"};function Ju(){return(Ju=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Jy)})).apply(this,arguments)}class Xa extends Ka{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Xa({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Xa({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Rw(v,f){return df.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Xy(v,f){return hf.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function eb(v,f){return Ju.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:I,verificationCode:D}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:I,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:I,phoneNumber:D,temporaryProof:R}=f;return I||m||D||R?new Xa({verificationId:m,verificationCode:I,phoneNumber:D,temporaryProof:R}):null}}class Ja{constructor(f){var m,I,D,R,O,G;const se=(0,H.zd)((0,H.pd)(f)),Ce=null!==(m=se.apiKey)&&void 0!==m?m:null,Fe=null!==(I=se.oobCode)&&void 0!==I?I:null,$e=function ff(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=se.mode)&&void 0!==D?D:null);F(Ce&&Fe&&$e,"argument-error"),this.apiKey=Ce,this.operation=$e,this.code=Fe,this.continueUrl=null!==(R=se.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(O=se.languageCode)&&void 0!==O?O:null,this.tenantId=null!==(G=se.tenantId)&&void 0!==G?G:null}static parseLink(f){const m=function Mw(v){const f=(0,H.zd)((0,H.pd)(v)).link,m=f?(0,H.zd)((0,H.pd)(f)).deep_link_id:null,I=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(I?(0,H.zd)((0,H.pd)(I)).link:null)||I||m||f||v}(f);try{return new Ja(m)}catch{return null}}}let pf=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return ta._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const D=Ja.parseLink(I);return F(D,"argument-error"),ta._fromEmailAndCode(m,D.code,D.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ni{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class na extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ec extends na{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return F("providerId"in m&&"signInMethod"in m,"argument-error"),Wi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return F(f.idToken||f.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ec.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ec.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:D,pendingToken:R,nonce:O,providerId:G}=f;if(!I&&!D&&!m&&!R||!G)return null;try{return new ec(G)._credential({idToken:m,accessToken:I,nonce:O,pendingToken:R})}catch{return null}}}let mf=(()=>{class v extends na{constructor(){super("facebook.com")}static credential(m){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Rt=(()=>{class v extends na{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:D}=m;if(!I&&!D)return null;try{return v.credential(I,D)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),nr=(()=>{class v extends na{constructor(){super("github.com")}static credential(m){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class gi extends Ka{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return _o(f,this.buildRequest())}_linkToIdToken(f,m){const I=this.buildRequest();return I.idToken=m,_o(f,I)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,_o(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:D,pendingToken:R}=m;return I&&D&&R&&I===D?new gi(I,R):null}static _create(f,m){return new gi(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sl extends ni{constructor(f){F(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return sl.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return sl.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=gi.fromJSON(f);return F(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:I}=f;if(!m||!I)return null;try{return gi._create(I,m)}catch{return null}}}let vg=(()=>{class v extends na{constructor(){super("twitter.com")}static credential(m,I){return Wi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:D}=m;if(!I||!D)return null;try{return v.credential(I,D)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ed(v,f){return gf.apply(this,arguments)}function gf(){return(gf=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signUp",ue(v,f))})).apply(this,arguments)}class Pi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,I,D=!1){return(0,h.Z)(function*(){const R=yield Le._fromIdTokenResponse(f,I,D),O=Fn(I);return new Pi({user:R,providerId:O,_tokenResponse:I,operationType:m})})()}static _forOperation(f,m,I){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(I,!0);const D=Fn(I);return new Pi({user:f,providerId:D,_tokenResponse:I,operationType:m})})()}}function Fn(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function nt(){return(nt=(0,h.Z)(function*(v){var f;const m=sn(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Pi({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield ed(m,{returnSecureToken:!0}),D=yield Pi._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class An extends H.ZR{constructor(f,m,I,D){var R;super(m.code,m.message),this.operationType=I,this.user=D,Object.setPrototypeOf(this,An.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,m,I,D){return new An(f,m,I,D)}}function Oi(v,f,m,I){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?An._fromErrorAndOperation(v,R,f,I):R})}function mr(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function ra(){return ra=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v);yield ki(!0,m,f);const{providerUserInfo:I}=yield function Ot(v,f){return gt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),D=mr(I||[]);return m.providerData=m.providerData.filter(R=>D.has(R.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ra.apply(this,arguments)}function at(v,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,h.Z)(function*(v,f,m=!1){const I=yield xr(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return Pi._forOperation(v,"link",I)})).apply(this,arguments)}function ki(v,f,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(v,f,m){yield fo(f);const D=!1===v?"provider-already-linked":"no-such-provider";F(mr(f.providerData).has(m)===v,f.auth,D)})).apply(this,arguments)}function al(v,f){return _f.apply(this,arguments)}function _f(){return(_f=(0,h.Z)(function*(v,f,m=!1){const{auth:I}=v,D="reauthenticate";try{const R=yield xr(v,Oi(I,D,f,v),m);F(R.idToken,I,"internal-error");const O=rs(R.idToken);F(O,I,"internal-error");const{sub:G}=O;return F(v.uid===G,I,"user-mismatch"),Pi._forOperation(v,D,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ae(I,"user-mismatch"),R}})).apply(this,arguments)}function tc(v,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(v,f,m=!1){const I="signIn",D=yield Oi(v,I,f),R=yield Pi._fromIdTokenResponse(v,I,D);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function ls(v,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(v,f){return tc(sn(v),f)})).apply(this,arguments)}function yo(v,f){return nc.apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v);return yield ki(!1,m,f.providerId),at(m,f)})).apply(this,arguments)}function td(v,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(v,f){return al((0,H.m9)(v),f)})).apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(v,f){return Je(v,"POST","/v1/accounts:signInWithCustomToken",ue(v,f))})).apply(this,arguments)}function rd(){return rd=(0,h.Z)(function*(v,f){const m=sn(v),I=yield function nd(v,f){return Yi.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),D=yield Pi._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(D.user),D}),rd.apply(this,arguments)}class us{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?_i._fromServerResponse(f,m):"totpInfo"in m?oa._fromServerResponse(f,m):Ae(f,"internal-error")}}class _i extends us{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new _i(m)}}class oa extends us{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new oa(m)}}function ds(v,f,m){var I;F((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),F(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(F(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(F(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function $n(v){return cl.apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(v){const f=sn(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(v,f,m){const I=sn(v),D={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&ds(I,D,m),yield Ya(I,D,"getOobCode",No)})).apply(this,arguments)}function hs(){return hs=(0,h.Z)(function*(v,f,m){yield sf((0,H.m9)(v),{oobCode:f,newPassword:m}).catch(function(){var I=(0,h.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&$n(v),D});return function(D){return I.apply(this,arguments)}}())}),hs.apply(this,arguments)}function Ni(){return Ni=(0,h.Z)(function*(v,f){yield function gg(v,f){return Lt.apply(this,arguments)}((0,H.m9)(v),{oobCode:f})}),Ni.apply(this,arguments)}function yf(v,f){return bf.apply(this,arguments)}function bf(){return(bf=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v),I=yield sf(m,{oobCode:f}),D=I.requestType;switch(F(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":F(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":F(I.mfaInfo,m,"internal-error");default:F(I.email,m,"internal-error")}let R=null;return I.mfaInfo&&(R=us._fromServerResponse(sn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:R},operation:D}})).apply(this,arguments)}function ll(){return(ll=(0,h.Z)(function*(v,f){const{data:m}=yield yf((0,H.m9)(v),f);return m.email})).apply(this,arguments)}function Ig(){return(Ig=(0,h.Z)(function*(v,f,m){const I=sn(v),O=yield Ya(I,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ed).catch(se=>{throw"auth/password-does-not-meet-requirements"===se.code&&$n(v),se}),G=yield Pi._fromIdTokenResponse(I,"signIn",O);return yield I._updateCurrentUser(G.user),G})).apply(this,arguments)}function tb(){return(tb=(0,h.Z)(function*(v,f,m){const I=sn(v),D={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function R(O,G){F(G.handleCodeInApp,I,"argument-error"),G&&ds(I,O,G)})(D,m),yield Ya(I,D,"getOobCode",cs)})).apply(this,arguments)}function nb(){return(nb=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v),D=pf.credentialWithLink(f,m||Nn());return F(D._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ls(I,D)})).apply(this,arguments)}function rb(){return(rb=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:createAuthUri",ue(v,f))})).apply(this,arguments)}function ul(){return ul=(0,h.Z)(function*(v,f){const I={identifier:f,continueUri:Jr()?Nn():"http://localhost"},{signinMethods:D}=yield function xS(v,f){return rb.apply(this,arguments)}((0,H.m9)(v),I);return D||[]}),ul.apply(this,arguments)}function wg(){return wg=(0,h.Z)(function*(v,f){const m=(0,H.m9)(v),D={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&ds(m.auth,D,f);const{email:R}=yield function Ky(v,f){return cf.apply(this,arguments)}(m.auth,D);R!==v.email&&(yield v.reload())}),wg.apply(this,arguments)}function fs(){return fs=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&ds(I.auth,R,m);const{email:O}=yield function Zt(v,f){return Qa.apply(this,arguments)}(I.auth,R);O!==v.email&&(yield v.reload())}),fs.apply(this,arguments)}function Dg(){return(Dg=(0,h.Z)(function*(v,f){return pe(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ag(){return Ag=(0,h.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const I=(0,H.m9)(v),R={idToken:yield I.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},O=yield xr(I,function Cg(v,f){return Dg.apply(this,arguments)}(I.auth,R));I.displayName=O.displayName||null,I.photoURL=O.photoUrl||null;const G=I.providerData.find(({providerId:se})=>"password"===se);G&&(G.displayName=I.displayName,G.photoURL=I.photoURL),yield I._updateTokensIfNecessary(O)}),Ag.apply(this,arguments)}function If(v,f,m){return sa.apply(this,arguments)}function sa(){return sa=(0,h.Z)(function*(v,f,m){const{auth:I}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(R.email=f),m&&(R.password=m);const O=yield xr(v,function Wy(v,f){return go.apply(this,arguments)}(I,R));yield v._updateTokensIfNecessary(O,!0)}),sa.apply(this,arguments)}class ms{constructor(f,m,I={}){this.isNewUser=f,this.providerId=m,this.profile=I}}class id extends ms{constructor(f,m,I,D){super(f,m,I),this.username=D}}class wf extends ms{constructor(f,m){super(f,"facebook.com",m)}}class xg extends id{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ib extends ms{constructor(f,m){super(f,"google.com",m)}}class Tf extends id{constructor(f,m,I){super(f,"twitter.com",m,I)}}function ob(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ef(v){var f,m;if(!v)return null;const{providerId:I}=v,D=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const O=null===(m=null===(f=rs(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(O)return new ms(R,"anonymous"!==O&&"custom"!==O?O:null)}if(!I)return null;switch(I){case"facebook.com":return new wf(R,D);case"github.com":return new xg(R,D);case"google.com":return new ib(R,D);case"twitter.com":return new Tf(R,D,v.screenName||null);case"custom":case"anonymous":return new ms(R,null);default:return new ms(R,I,D)}}(m)}class rr{constructor(f,m,I){this.type=f,this.credential=m,this.user=I}static _fromIdtoken(f,m){return new rr("enroll",f,m)}static _fromMfaPendingCredential(f){return new rr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,I;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return rr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return rr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Af{constructor(f,m,I){this.session=f,this.hints=m,this.signInResolver=I}static _fromError(f,m){const I=sn(f),D=m.customData._serverResponse,R=(D.mfaInfo||[]).map(G=>us._fromServerResponse(I,G));F(D.mfaPendingCredential,I,"internal-error");const O=rr._fromMfaPendingCredential(D.mfaPendingCredential);return new Af(O,R,function(){var G=(0,h.Z)(function*(se){const Ce=yield se._process(I,O);delete D.mfaInfo,delete D.mfaPendingCredential;const Fe=Object.assign(Object.assign({},D),{idToken:Ce.idToken,refreshToken:Ce.refreshToken});switch(m.operationType){case"signIn":const $e=yield Pi._fromIdTokenResponse(I,m.operationType,Fe);return yield I._updateCurrentUser($e.user),$e;case"reauthenticate":return F(m.user,I,"internal-error"),Pi._forOperation(m.user,m.operationType,Fe);default:Ae(I,"internal-error")}});return function(se){return G.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}class ad{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>us._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new ad(f)}getSession(){var f=this;return(0,h.Z)(function*(){return rr._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var I=this;return(0,h.Z)(function*(){const D=f,R=yield I.getSession(),O=yield xr(I.user,D._process(I.user.auth,R,m));return yield I.user._updateTokensIfNecessary(O),I.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const I="string"==typeof f?f:f.uid,D=yield m.user.getIdToken();try{const R=yield xr(m.user,function Pg(v,f){return pe(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ue(v,f))}(m.user.auth,{idToken:D,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:O})=>O!==I),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const dl=new WeakMap,aa="__sak";class cd{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(aa,"1"),this.storage.removeItem(aa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ld=(()=>{class v extends cd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gs(){const v=(0,H.z$)();return Xs(v)||ut(v)}()&&function Zi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const D=this.storage.getItem(I),R=this.localCache[I];D!==R&&m(I,R,D)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((G,se,Ce)=>{this.notifyListeners(G,Ce)});const D=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const G=this.storage.getItem(D);if(m.newValue!==G)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!I)return}const R=()=>{const G=this.storage.getItem(D);!I&&this.localCache[D]===G||this.notifyListeners(D,G)},O=this.storage.getItem(D);!function Wn(){return(0,H.w1)()&&10===document.documentMode}()||O===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,I){this.localCache[m]=I;const D=this.listeners[m];if(D)for(const R of Array.from(D))R(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var D=()=>super._set,R=this;return(0,h.Z)(function*(){yield D().call(R,m,I),R.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,D=this;return(0,h.Z)(function*(){const R=yield I().call(D,m);return D.localCache[m]=JSON.stringify(R),R})()}_remove(m){var I=()=>super._remove,D=this;return(0,h.Z)(function*(){yield I().call(D,m),delete D.localCache[m]})()}}return v.type="LOCAL",v})(),_s=(()=>{class v extends cd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let ca=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(R=>R.isListeningto(m));if(I)return I;const D=new v(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,h.Z)(function*(){const D=m,{eventId:R,eventType:O,data:G}=D.data,se=I.handlersMap[O];if(!se?.size)return;D.ports[0].postMessage({status:"ack",eventId:R,eventType:O});const Ce=Array.from(se).map(function(){var $e=(0,h.Z)(function*(hn){return hn(D.origin,G)});return function(hn){return $e.apply(this,arguments)}}()),Fe=yield function xf(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return f.apply(this,arguments)}}()))}(Ce);D.ports[0].postMessage({status:"done",eventId:R,eventType:O,response:Fe})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Fi(v="",f=10){let m="";for(let I=0;I<f;I++)m+=Math.floor(10*Math.random());return v+m}class cb{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,I=50){var D=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let O,G;return new Promise((se,Ce)=>{const Fe=Fi("",20);R.port1.start();const $e=setTimeout(()=>{Ce(new Error("unsupported_event"))},I);G={messageChannel:R,onMessage(hn){const Ii=hn;if(Ii.data.eventId===Fe)switch(Ii.data.status){case"ack":clearTimeout($e),O=setTimeout(()=>{Ce(new Error("timeout"))},3e3);break;case"done":clearTimeout(O),se(Ii.data.response);break;default:clearTimeout($e),clearTimeout(O),Ce(new Error("invalid_response"))}}},D.handlers.add(G),R.port1.addEventListener("message",G.onMessage),D.target.postMessage({eventType:f,eventId:Fe,data:m},[R.port2])}).finally(()=>{G&&D.removeMessageHandler(G)})})()}}function Yn(){return window}function ud(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function Ut(){return(Ut=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const an="firebaseLocalStorageDb",la="firebaseLocalStorage",Io="fbase_key";class oc{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function hl(v,f){return v.transaction([la],f?"readwrite":"readonly").objectStore(la)}function Fg(){const v=indexedDB.open(an,1);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(la,{keyPath:Io})}catch(D){m(D)}}),v.addEventListener("success",(0,h.Z)(function*(){const I=v.result;I.objectStoreNames.contains(la)?f(I):(I.close(),yield function Ng(){const v=indexedDB.deleteDatabase(an);return new oc(v).toPromise()}(),f(yield Fg()))}))})}function dd(v,f,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(v,f,m){const I=hl(v,!0).put({[Io]:f,value:m});return new oc(I).toPromise()})).apply(this,arguments)}function Mf(){return(Mf=(0,h.Z)(function*(v,f){const m=hl(v,!1).get(f),I=yield new oc(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Eo(v,f){const m=hl(v,!0).delete(f);return new oc(m).toPromise()}const fl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Fg()),m.db})()}_withRetries(m){var I=this;return(0,h.Z)(function*(){let D=0;for(;;)try{const R=yield I._openDb();return yield m(R)}catch(R){if(D++>3)throw R;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return ud()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=ca._getInstance(function kg(){return ud()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(D,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(D,R){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(D,R){return["keyChanged"]});return function(D,R){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var I,D;if(m.activeServiceWorker=yield function oe(){return Ut.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new cb(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);R&&null!==(I=R[0])&&void 0!==I&&I.fulfilled&&null!==(D=R[0])&&void 0!==D&&D.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function lb(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Fg();return yield dd(m,aa,"1"),yield Eo(m,aa),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(R=>dd(R,m,I)),D.localCache[m]=I,D.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,h.Z)(function*(){const D=yield I._withRetries(R=>function vs(v,f){return Mf.apply(this,arguments)}(R,m));return I.localCache[m]=D,D})()}_remove(m){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(D=>Eo(D,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const I=yield m._withRetries(O=>{const G=hl(O,!1).getAll();return new oc(G).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const D=[],R=new Set;if(0!==I.length)for(const{fbase_key:O,value:G}of I)R.add(O),JSON.stringify(m.localCache[O])!==JSON.stringify(G)&&(m.notifyListeners(O,G),D.push(O));for(const O of Object.keys(m.localCache))m.localCache[O]&&!R.has(O)&&(m.notifyListeners(O,null),D.push(O));return D})()}notifyListeners(m,I){this.localCache[m]=I;const D=this.listeners[m];if(D)for(const R of Array.from(D))R(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ml=1e12;class Of{constructor(f){this.auth=f,this.counter=ml,this._widgets=new Map}render(f,m){const I=this.counter;return this._widgets.set(I,new hd(f,this.auth.name,m||{})),this.counter++,I}reset(f){var m;const I=f||ml;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ml))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var I;return null===(I=m._widgets.get(f||ml))||void 0===I||I.execute(),""})()}}class hd{constructor(f,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;F(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kf(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gl=Hy("rcb"),Lg=new Gi(3e4,6e4);class fd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Yn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return F(function Vg(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&pn(Yn().grecaptcha)?Promise.resolve(Yn().grecaptcha):new Promise((I,D)=>{const R=Yn().setTimeout(()=>{D(tt(f,"network-request-failed"))},Lg.get());Yn()[gl]=()=>{Yn().clearTimeout(R),delete Yn()[gl];const G=Yn().grecaptcha;if(!G||!pn(G))return void D(tt(f,"internal-error"));const se=G.render;G.render=(Ce,Fe)=>{const $e=se(Ce,Fe);return this.counter++,$e},this.hostLanguage=m,I(G)},el(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:gl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),D(tt(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Yn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _r{load(f){return(0,h.Z)(function*(){return new Of(f)})()}clearedOneInstance(){}}const bs="recaptcha",Nt={theme:"light",type:"image"};class db{constructor(f,m,I=Object.assign({},Nt)){this.parameters=I,this.type=bs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sn(f),this.isInvisible="invisible"===this.parameters.size,F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof m?document.getElementById(m):m;F(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _r:new fd,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(m)||new Promise(R=>{const O=G=>{G&&(f.tokenChangeListeners.delete(O),R(G))};f.tokenChangeListeners.add(O),f.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof f)f(m);else if("string"==typeof f){const I=Yn()[f];"function"==typeof I&&I(m)}}}assertNotDestroyed(){F(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){F(Jr()&&!ud(),f.auth,"internal-error"),yield function hb(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function jn(v){return lo.apply(this,arguments)}(f.auth);F(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ff{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Xa._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function _l(){return(_l=(0,h.Z)(function*(v,f,m){const I=sn(v),D=yield cn(I,f,(0,H.m9)(m));return new Ff(D,R=>ls(I,R))})).apply(this,arguments)}function sc(){return(sc=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);yield ki(!1,I,"phone");const D=yield cn(I.auth,f,(0,H.m9)(m));return new Ff(D,R=>yo(I,R))})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v),D=yield cn(I.auth,f,(0,H.m9)(m));return new Ff(D,R=>td(I,R))})).apply(this,arguments)}function cn(v,f,m){return Li.apply(this,arguments)}function Li(){return Li=(0,h.Z)(function*(v,f,m){var I;const D=yield m.verify();try{let R;if(F("string"==typeof D,v,"argument-error"),F(m.type===bs,v,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const O=R.session;if("phoneNumber"in R)return F("enroll"===O.type,v,"internal-error"),(yield function Fw(v,f){return pe(v,"POST","/v2/accounts/mfaEnrollment:start",ue(v,f))}(v,{idToken:O.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{F("signin"===O.type,v,"internal-error");const G=(null===(I=R.multiFactorHint)||void 0===I?void 0:I.uid)||R.multiFactorUid;return F(G,v,"missing-multi-factor-info"),(yield function Gn(v,f){return pe(v,"POST","/v2/accounts/mfaSignIn:start",ue(v,f))}(v,{mfaPendingCredential:O.credential,mfaEnrollmentId:G,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:O}=yield function Xu(v,f){return Mi.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:D});return O}}finally{m._reset()}}),Li.apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(v,f){yield at((0,H.m9)(v),f)})).apply(this,arguments)}let ac=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=sn(m)}verifyPhoneNumber(m,I){return cn(this.auth,m,(0,H.m9)(I))}static credential(m,I){return Xa._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:D}=m;return I&&D?Xa._fromTokenResponse(I,D):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Is(v,f){return f?At(f):(F(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Lf extends Ka{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _o(f,this._buildIdpRequest())}_linkToIdToken(f,m){return _o(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return _o(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function da(v){return tc(v.auth,new Lf(v),v.bypassAuthState)}function yl(v){const{auth:f,user:m}=v;return F(m,f,"internal-error"),al(m,new Lf(v),v.bypassAuthState)}function pb(v){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(v){const{auth:f,user:m}=v;return F(m,f,"internal-error"),at(m,new Lf(v),v.bypassAuthState)})).apply(this,arguments)}class Vf{constructor(f,m,I,D,R=!1){this.auth=f,this.resolver=I,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(I,D){f.pendingPromise={resolve:I,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(I,D){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:D,postBody:R,tenantId:O,error:G,type:se}=f;if(G)return void m.reject(G);const Ce={auth:m.auth,requestUri:I,sessionId:D,tenantId:O||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(se)(Ce))}catch(Fe){m.reject(Fe)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return da;case"linkViaPopup":case"linkViaRedirect":return pb;case"reauthViaPopup":case"reauthViaRedirect":return yl;default:Ae(this.auth,"internal-error")}}resolve(f){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uf=new Gi(2e3,1e4);function cc(){return(cc=(0,h.Z)(function*(v,f,m){const I=sn(v);Ye(v,f,ni);const D=Is(I,m);return new ha(I,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);Ye(I.auth,f,ni);const D=Is(I.auth,m);return new ha(I.auth,"reauthViaPopup",f,D,I).executeNotNull()})).apply(this,arguments)}function Bf(){return(Bf=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);Ye(I.auth,f,ni);const D=Is(I.auth,m);return new ha(I.auth,"linkViaPopup",f,D,I).executeNotNull()})).apply(this,arguments)}let ha=(()=>{class v extends Vf{constructor(m,I,D,R,O){super(m,I,R,O),this.provider=D,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const I=yield m.execute();return F(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,h.Z)(function*(){Tt(1===m.filter.length,"Popup operations only handle one event");const I=Fi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(tt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,D;this.pollId=null!==(D=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Uf.get())};m()}}return v.currentPopupAction=null,v})();const jf="pendingRedirect",Es=new Map;class jw extends Vf{constructor(f,m,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let I=Es.get(m.auth._key());if(!I){try{const R=(yield function Bg(v,f){return wo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;I=()=>Promise.resolve(R)}catch(D){I=()=>Promise.reject(D)}Es.set(m.auth._key(),I)}return m.bypassAuthState||Es.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(I,f);if("unknown"!==f.type){if(f.eventId){const D=yield I.auth._redirectUserForId(f.eventId);if(D)return I.user=D,m().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function wo(){return(wo=(0,h.Z)(function*(v,f){const m=lc(f),I=pd(v);if(!(yield I._isAvailable()))return!1;const D="true"===(yield I._get(m));return yield I._remove(m),D})).apply(this,arguments)}function It(v,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(v,f){return pd(v)._set(lc(f),"true")})).apply(this,arguments)}function fa(v,f){Es.set(v._key(),f)}function pd(v){return At(v._redirectPersistence)}function lc(v){return er(jf,v.config.apiKey,v.name)}function md(v,f,m){return function gd(v,f,m){return zf.apply(this,arguments)}(v,f,m)}function zf(){return(zf=(0,h.Z)(function*(v,f,m){const I=sn(v);Ye(v,f,ni),yield I._initializationPromise;const D=Is(I,m);return yield It(D,I),D._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function bl(v,f,m){return function jg(v,f,m){return Kn.apply(this,arguments)}(v,f,m)}function Kn(){return(Kn=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);Ye(I.auth,f,ni),yield I.auth._initializationPromise;const D=Is(I.auth,m);yield It(D,I.auth);const R=yield uc(I);return D._openRedirect(I.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function pa(v,f,m){return function _b(v,f,m){return Bo.apply(this,arguments)}(v,f,m)}function Bo(){return(Bo=(0,h.Z)(function*(v,f,m){const I=(0,H.m9)(v);Ye(I.auth,f,ni),yield I.auth._initializationPromise;const D=Is(I.auth,m);yield ki(!1,I,f.providerId),yield It(D,I.auth);const R=yield uc(I);return D._openRedirect(I.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Hf(){return(Hf=(0,h.Z)(function*(v,f){return yield sn(v)._initializationPromise,ws(v,f,!1)})).apply(this,arguments)}function ws(v,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(v,f,m=!1){const I=sn(v),D=Is(I,f),O=yield new jw(I,D,m).execute();return O&&!m&&(delete O.user._redirectEventId,yield I._persistUserIfCurrent(O.user),yield I._setRedirectUser(null,f)),O})).apply(this,arguments)}function uc(v){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(v){const f=Fi(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class _d{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(m=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function dr(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wt(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var I;if(f.error&&!Wt(f)){const D=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(tt(this.auth,D))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const I=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vd(f))}saveEventToCache(f){this.cachedEventUids.add(vd(f)),this.lastProcessedEventTime=Date.now()}}function vd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Wt({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function ri(v){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(v,f={}){return pe(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Ln=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jo=/^https?/;function yd(){return(yd=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield ri(v);for(const m of f)try{if(Co(m))return}catch{}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function Co(v){const f=Nn(),{protocol:m,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const O=new URL(v);return""===O.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&O.hostname===I}if(!jo.test(m))return!1;if(Ln.test(v))return I===v;const D=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(I)}const Do=new Gi(3e4,6e4);function vr(){const v=Yn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let $f=null;const zg=new Gi(5e3,15e3),zw="__/auth/iframe",Hw="emulator/auth/iframe",Hg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bd(v){const f=v.config;F(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?J(f,Hw):`https://${v.config.authDomain}/${zw}`,I={apiKey:f.apiKey,appName:v.name,v:be.SDK_VERSION},D=hc.get(v.config.apiHost);D&&(I.eid=D);const R=v._getFrameworks();return R.length&&(I.fw=R.join(",")),`${m}?${(0,H.xO)(I).slice(1)}`}function bn(){return bn=(0,h.Z)(function*(v){const f=yield function Gf(v){return $f=$f||function dc(v){return new Promise((f,m)=>{var I,D,R;function O(){vr(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{vr(),m(tt(v,"network-request-failed"))},timeout:Do.get()})}if(null!==(D=null===(I=Yn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(R=Yn().gapi)||void 0===R||!R.load){const G=Hy("iframefcb");return Yn()[G]=()=>{gapi.load?O():m(tt(v,"network-request-failed"))},el(`https://apis.google.com/js/api.js?onload=${G}`).catch(se=>m(se))}O()}}).catch(f=>{throw $f=null,f})}(v),$f}(v),m=Yn().gapi;return F(m,v,"internal-error"),f.open({where:document.body,url:bd(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hg,dontclear:!0},I=>new Promise(function(){var D=(0,h.Z)(function*(R,O){yield I.restyle({setHideOnLeave:!1});const G=tt(v,"network-request-failed"),se=Yn().setTimeout(()=>{O(G)},zg.get());function Ce(){Yn().clearTimeout(se),R(I)}I.ping(Ce).then(Ce,()=>{O(G)})});return function(R,O){return D.apply(this,arguments)}}()))}),bn.apply(this,arguments)}const vb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Il{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qf="__/auth/handler",bb="emulator/auth/handler",Zf=encodeURIComponent("fac");function $g(v,f,m,I,D,R){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(v,f,m,I,D,R){F(v.config.authDomain,v,"auth-domain-config-required"),F(v.config.apiKey,v,"invalid-api-key");const O={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:be.SDK_VERSION,eventId:D};if(f instanceof ni){f.setDefaultLanguage(v.languageCode),O.providerId=f.providerId||"",(0,H.xb)(f.getCustomParameters())||(O.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fe,$e]of Object.entries(R||{}))O[Fe]=$e}if(f instanceof na){const Fe=f.getScopes().filter($e=>""!==$e);Fe.length>0&&(O.scopes=Fe.join(","))}v.tenantId&&(O.tid=v.tenantId);const G=O;for(const Fe of Object.keys(G))void 0===G[Fe]&&delete G[Fe];const se=yield v._getAppCheckToken(),Ce=se?`#${Zf}=${encodeURIComponent(se)}`:"";return`${function Wf({config:v}){return v.emulator?J(v,bb):`https://${v.authDomain}/${qf}`}(v)}?${(0,H.xO)(G).slice(1)}${Ce}`})).apply(this,arguments)}const zo="webStorageSupport",fc=class Ib{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=ws,this._overrideRedirectResult=fa}_openPopup(f,m,I,D){var R=this;return(0,h.Z)(function*(){var O;Tt(null===(O=R.eventManagers[f._key()])||void 0===O?void 0:O.manager,"_initialize() not called before _openPopup()");const G=yield $g(f,m,I,Nn(),D);return function El(v,f,m,I=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),O=Math.max((window.screen.availWidth-I)/2,0).toString();let G="";const se=Object.assign(Object.assign({},vb),{width:I.toString(),height:D.toString(),top:R,left:O}),Ce=(0,H.z$)().toLowerCase();m&&(G=Jh(Ce)?"_blank":m),mo(Ce)&&(f=f||"http://localhost",se.scrollbars="yes");const Fe=Object.entries(se).reduce((hn,[Ii,Od])=>`${hn}${Ii}=${Od},`,"");if(function Ht(v=(0,H.z$)()){var f;return ut(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ce)&&"_self"!==G)return function Qi(v,f){const m=document.createElement("a");m.href=v,m.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(f||"",G),new Il(null);const $e=window.open(f||"",G,Fe);F($e,v,"popup-blocked");try{$e.focus()}catch{}return new Il($e)}(f,G,Fi())})()}_openRedirect(f,m,I,D){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),function Rf(v){Yn().location.href=v}(yield $g(f,m,I,Nn(),D)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:D,promise:R}=this.eventManagers[m];return D?Promise.resolve(D):(Tt(R,"If manager is not set, promise should be"),R)}const I=this.initAndGetManager(f);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const I=yield function St(v){return bn.apply(this,arguments)}(f),D=new _d(f);return I.register("authEvent",R=>(F(R?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:D},m.iframes[f._key()]=I,D})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(zo,{type:zo},D=>{var R;const O=null===(R=D?.[0])||void 0===R?void 0:R[zo];void 0!==O&&m(!!O),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ma(v){return yd.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return _n()||Xs()||ut()}};class pc{constructor(f){this.factorId=f}_process(f,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,I);case"signin":return this._finalizeSignIn(f,m.credential);default:return Re("unexpected MultiFactorSessionType")}}}class tn extends pc{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new tn(f)}_finalizeEnroll(f,m,I){return function Vo(v,f){return pe(v,"POST","/v2/accounts/mfaEnrollment:finalize",ue(v,f))}(f,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function vn(v,f){return pe(v,"POST","/v2/accounts/mfaSignIn:finalize",ue(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wl=(()=>{class v{constructor(){}static assertion(m){return tn._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var ga="@firebase/auth";class _a{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(I=>{f(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cs(){return window}(0,H.Pz)("authIdTokenMaxAge"),function Cl(v){(0,be._registerComponent)(new dt.wA("auth",(f,{options:m})=>{const I=f.getProvider("app").getImmediate(),D=f.getProvider("heartbeat"),R=f.getProvider("app-check-internal"),{apiKey:O,authDomain:G}=I.options;F(O&&!O.includes(":"),"invalid-api-key",{appName:I.name});const se={apiKey:O,authDomain:G,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:os(v)},Ce=new ei(I,D,R,se);return function CS(v,f){const m=f?.persistence||[],I=(Array.isArray(m)?m:[m]).map(At);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,f?.popupRedirectResolver)}(Ce,m),Ce},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,I)=>{f.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new dt.wA("auth-internal",f=>{const m=sn(f.getProvider("auth").getImmediate());return new _a(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(ga,"1.5.1",function Tl(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,be.registerVersion)(ga,"1.5.1","esm2017")}("Browser");function ya(){return ya=(0,h.Z)(function*(v,f,m){var I;const{BuildInfo:D}=Cs();Tt(f.sessionId,"AuthEvent did not contain a session ID");const R=yield function Cb(v){return Kf.apply(this,arguments)}(f.sessionId),O={};return ut()?O.ibi=D.packageName:z()?O.apn=D.packageName:Ae(v,"operation-not-supported-in-this-environment"),D.displayName&&(O.appDisplayName=D.displayName),O.sessionId=R,$g(v,m,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,O)}),ya.apply(this,arguments)}function Yg(){return(Yg=(0,h.Z)(function*(v){const{BuildInfo:f}=Cs(),m={};ut()?m.iosBundleId=f.packageName:z()?m.androidPackageName=f.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield ri(v,m)})).apply(this,arguments)}function Qg(){return(Qg=(0,h.Z)(function*(v,f,m){const{cordova:I}=Cs();let D=()=>{};try{yield new Promise((R,O)=>{let G=null;function se(){var $e;R();const hn=null===($e=I.plugins.browsertab)||void 0===$e?void 0:$e.close;"function"==typeof hn&&hn(),"function"==typeof m?.close&&m.close()}function Ce(){G||(G=window.setTimeout(()=>{O(tt(v,"redirect-cancelled-by-user"))},2e3))}function Fe(){"visible"===document?.visibilityState&&Ce()}f.addPassiveListener(se),document.addEventListener("resume",Ce,!1),z()&&document.addEventListener("visibilitychange",Fe,!1),D=()=>{f.removePassiveListener(se),document.removeEventListener("resume",Ce,!1),document.removeEventListener("visibilitychange",Fe,!1),G&&window.clearTimeout(G)}})}finally{D()}})).apply(this,arguments)}function Kf(){return(Kf=(0,h.Z)(function*(v){const f=function Ds(v){if(Tt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),m=new Uint8Array(f);for(let I=0;I<v.length;I++)m[I]=v.charCodeAt(I);return m}(v),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Xf extends _d{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Jf(v){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,h.Z)(function*(v){const f=yield wd()._get(_c(v));return f&&(yield wd()._remove(_c(v))),f})).apply(this,arguments)}function As(){const v=[];for(let m=0;m<20;m++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function wd(){return At(ld)}function _c(v){return er("authEvent",v.config.apiKey,v.name)}function Ss(v){if(!v?.includes("?"))return{};const[f,...m]=v.split("?");return(0,H.zd)(m.join("?"))}const Db=class ba{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ws,this._overrideRedirectResult=fa}_initialize(f){var m=this;return(0,h.Z)(function*(){const I=f._key();let D=m.eventManagers.get(I);return D||(D=new Xf(f),m.eventManagers.set(I,D),m.attachCallbackListeners(f,D)),D})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,I,D){var R=this;return(0,h.Z)(function*(){!function Tb(v){var f,m,I,D,R,O,G,se,Ce,Fe;const $e=Cs();F("function"==typeof(null===(f=$e?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),F(typeof(null===(m=$e?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),F("function"==typeof(null===(R=null===(D=null===(I=$e?.cordova)||void 0===I?void 0:I.plugins)||void 0===D?void 0:D.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(se=null===(G=null===(O=$e?.cordova)||void 0===O?void 0:O.plugins)||void 0===G?void 0:G.browsertab)||void 0===se?void 0:se.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(Fe=null===(Ce=$e?.cordova)||void 0===Ce?void 0:Ce.InAppBrowser)||void 0===Fe?void 0:Fe.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const O=yield R._initialize(f);yield O.initialized(),O.resetRedirect(),function gb(){Es.clear()}(),yield R._originValidation(f);const G=function So(v,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:As(),postBody:null,tenantId:v.tenantId,error:tt(v,"no-auth-event")}}(f,I,D);yield function Ed(v,f){return wd()._set(_c(v),f)}(f,G);const se=yield function gc(v,f,m){return ya.apply(this,arguments)}(f,G,m),Ce=yield function Kg(v){const{cordova:f}=Cs();return new Promise(m=>{f.plugins.browsertab.isAvailable(I=>{let D=null;I?f.plugins.browsertab.openUrl(v):D=f.InAppBrowser.open(v,function kt(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(D)})})}(se);return function wb(v,f,m){return Qg.apply(this,arguments)}(f,O,Ce)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yf(v){return Yg.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:I,handleOpenURL:D,BuildInfo:R}=Cs(),O=setTimeout((0,h.Z)(function*(){yield Jf(f),m.onEvent(Sl())}),500),G=function(){var Fe=(0,h.Z)(function*($e){clearTimeout(O);const hn=yield Jf(f);let Ii=null;hn&&$e?.url&&(Ii=function Al(v,f){var m,I;const D=function ep(v){const f=Ss(v),m=f.link?decodeURIComponent(f.link):void 0,I=Ss(m).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ss(D).link||D||I||m||v}(f);if(D.includes("/__/auth/callback")){const R=Ss(D),O=R.firebaseError?function Xg(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,G=null===(I=null===(m=O?.code)||void 0===m?void 0:m.split("auth/"))||void 0===I?void 0:I[1],se=G?tt(G):null;return se?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:se,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:D,postBody:null}}return null}(hn,$e.url)),m.onEvent(Ii||Sl())});return function(hn){return Fe.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,G);const se=D,Ce=`${R.packageName.toLowerCase()}://`;Cs().handleOpenURL=function(){var Fe=(0,h.Z)(function*($e){if($e.toLowerCase().startsWith(Ce)&&G({url:$e}),"function"==typeof se)try{se($e)}catch(hn){console.error(hn)}});return function($e){return Fe.apply(this,arguments)}}()}};function Sl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tt("no-auth-event")}}function qr(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Rs(v=(0,H.z$)()){return!("file:"!==qr()&&"ionic:"!==qr()&&"capacitor:"!==qr()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ea(){try{const v=self.localStorage,f=Fi();if(v)return v.setItem(f,"1"),v.removeItem(f),!function eo(v=(0,H.z$)()){return function Cd(){return(0,H.w1)()&&11===document?.documentMode}()||function Ji(v=(0,H.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,H.hl)()}catch{return vc()&&(0,H.hl)()}return!1}function vc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dd(){return(function Ia(){return"http:"===qr()||"https:"===qr()}()||(0,H.ru)()||Rs())&&!function xo(){return(0,H.b$)()||(0,H.UG)()}()&&Ea()&&!vc()}function Ad(){return Rs()&&typeof document<"u"}function Rl(){return(Rl=(0,h.Z)(function*(){return!!Ad()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const yi={LOCAL:"local",NONE:"none",SESSION:"session"},Ml=F,tp="persistence";function Sd(v){return np.apply(this,arguments)}function np(){return(np=(0,h.Z)(function*(v){yield v._initializationPromise;const f=rp(),m=er(tp,v.config.apiKey,v.name);f&&f.setItem(m,v._getPersistence())})).apply(this,arguments)}function rp(){var v;try{return(null===(v=function e_(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const xd=F;class Ms{constructor(){this.browserResolver=At(fc),this.cordovaResolver=At(Db),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=ws,this._overrideRedirectResult=fa}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,I,D){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,m,I,D)})()}_openRedirect(f,m,I,D){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,m,I,D)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ad()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Sb(){return Rl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function bi(v){return v.unwrap()}function $o(v){return Pl(v)}function Pl(v){const{_tokenResponse:f}=v instanceof H.ZR?v.customData:v;if(!f)return null;if(!(v instanceof H.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ac.credentialFromResult(v);const m=f.providerId;if(!m||m===He.PASSWORD)return null;let I;switch(m){case He.GOOGLE:I=Rt;break;case He.FACEBOOK:I=mf;break;case He.GITHUB:I=nr;break;case He.TWITTER:I=vg;break;default:const{oauthIdToken:D,oauthAccessToken:R,oauthTokenSecret:O,pendingToken:G,nonce:se}=f;return R||O||D||G?G?m.startsWith("saml.")?gi._create(m,G):Wi._fromParams({providerId:m,signInMethod:m,pendingToken:G,idToken:D,accessToken:R}):new ec(m).credential({idToken:D,accessToken:R,rawNonce:se}):null}return v instanceof H.ZR?I.credentialFromError(v):I.credentialFromResult(v)}function un(v,f){return f.catch(m=>{throw m instanceof H.ZR&&function yc(v,f){var m;const I=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Md(v,function Sf(v,f){var m;const I=(0,H.m9)(v),D=f;return F(f.customData.operationType,I,"argument-error"),F(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),Af._fromError(I,D)}(v,f));else if(I){const D=Pl(f),R=f;D&&(R.credential=D,R.tenantId=I.tenantId||void 0,R.email=I.email||void 0,R.phoneNumber=I.phoneNumber||void 0)}}(v,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:$o(m),additionalUserInfo:ob(m),user:Go.getOrCreate(D)}})}function Ps(v,f){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,h.Z)(function*(v,f){const m=yield f;return{verificationId:m.verificationId,confirm:I=>un(v,m.confirm(I))}})).apply(this,arguments)}class Md{constructor(f,m){this.resolver=m,this.auth=function wa(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return un(bi(this.auth),this.resolver.resolveSignIn(f))}}class Go{constructor(f){this._delegate=f,this.multiFactor=function ic(v){const f=(0,H.m9)(v);return dl.has(f)||dl.set(f,ad._fromUser(f)),dl.get(f)}(f)}static getOrCreate(f){return Go.USER_MAP.has(f)||Go.USER_MAP.set(f,new Go(f)),Go.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return un(m.auth,yo(m._delegate,f))})()}linkWithPhoneNumber(f,m){var I=this;return(0,h.Z)(function*(){return Ps(I.auth,function Ug(v,f,m){return sc.apply(this,arguments)}(I._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return un(m.auth,function Nr(v,f,m){return Bf.apply(this,arguments)}(m._delegate,f,Ms))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Sd(sn(m.auth)),pa(m._delegate,f,Ms)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return un(m.auth,td(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Ps(this.auth,function kr(v,f,m){return Rn.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return un(this.auth,function Bw(v,f,m){return Ke.apply(this,arguments)}(this._delegate,f,Ms))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Sd(sn(m.auth)),bl(m._delegate,f,Ms)})()}sendEmailVerification(f){return function MS(v,f){return wg.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function vo(v,f){return ra.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Sg(v,f){return If((0,H.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function ps(v,f){return If((0,H.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Uo(v,f){return vl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function kw(v,f){return Ag.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Tg(v,f,m){return fs.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Go.USER_MAP=new WeakMap;const hr=F;let Ol=(()=>{class v{constructor(m,I){if(this.app=m,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;hr(D,"invalid-api-key",{appName:m.name}),hr(D,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?Ms:void 0;this._delegate=I.initialize({options:{persistence:ip(D,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(pt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Go.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,I){!function rl(v,f,m){const I=sn(v);F(I._canInitEmulator,I,"emulator-config-failed"),F(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const D=!!m?.disableWarnings,R=ti(f),{host:O,port:G}=function Ku(v){const f=ti(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(I);if(D){const R=D[1];return{host:R,port:mg(I.substr(R.length+1))}}{const[R,O]=I.split(":");return{host:R,port:mg(O)}}}(f);I.config.emulator={url:`${R}//${O}${null===G?"":`:${G}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:O,port:G,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Zy(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,I)}applyActionCode(m){return function vf(v,f){return Ni.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return yf(this._delegate,m)}confirmPasswordReset(m,I){return function yg(v,f,m){return hs.apply(this,arguments)}(this._delegate,m,I)}createUserWithEmailAndPassword(m,I){var D=this;return(0,h.Z)(function*(){return un(D._delegate,function bg(v,f,m){return Ig.apply(this,arguments)}(D._delegate,m,I))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function RS(v,f){return ul.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function AS(v,f){const m=Ja.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){hr(Dd(),m._delegate,"operation-not-supported-in-this-environment");const I=yield function To(v,f){return Hf.apply(this,arguments)}(m._delegate,Ms);return I?un(m._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function xs(v,f){sn(v)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,I,D){const{next:R,error:O,complete:G}=Pd(m,I,D);return this._delegate.onAuthStateChanged(R,O,G)}onIdTokenChanged(m,I,D){const{next:R,error:O,complete:G}=Pd(m,I,D);return this._delegate.onIdTokenChanged(R,O,G)}sendSignInLinkToEmail(m,I){return function DS(v,f,m){return tb.apply(this,arguments)}(this._delegate,m,I)}sendPasswordResetEmail(m,I){return function $r(v,f,m){return gr.apply(this,arguments)}(this._delegate,m,I||void 0)}setPersistence(m){var I=this;return(0,h.Z)(function*(){let D;switch(function xb(v,f){Ml(Object.values(yi).includes(f),v,"invalid-persistence-type"),(0,H.b$)()?Ml(f!==yi.SESSION,v,"unsupported-persistence-type"):(0,H.UG)()?Ml(f===yi.NONE,v,"unsupported-persistence-type"):vc()?Ml(f===yi.NONE||f===yi.LOCAL&&(0,H.hl)(),v,"unsupported-persistence-type"):Ml(f===yi.NONE||Ea(),v,"unsupported-persistence-type")}(I._delegate,m),m){case yi.SESSION:D=_s;break;case yi.LOCAL:D=(yield At(fl)._isAvailable())?fl:ld;break;case yi.NONE:D=Hn;break;default:return Ae("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return un(this._delegate,function we(v){return nt.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return un(this._delegate,ls(this._delegate,m))}signInWithCustomToken(m){return un(this._delegate,function ct(v,f){return rd.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,I){return un(this._delegate,function Eg(v,f,m){return ls((0,H.m9)(v),pf.credential(f,m)).catch(function(){var I=(0,h.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&$n(v),D});return function(D){return I.apply(this,arguments)}}())}(this._delegate,m,I))}signInWithEmailLink(m,I){return un(this._delegate,function SS(v,f,m){return nb.apply(this,arguments)}(this._delegate,m,I))}signInWithPhoneNumber(m,I){return Ps(this._delegate,function fb(v,f,m){return _l.apply(this,arguments)}(this._delegate,m,I))}signInWithPopup(m){var I=this;return(0,h.Z)(function*(){return hr(Dd(),I._delegate,"operation-not-supported-in-this-environment"),un(I._delegate,function mb(v,f,m){return cc.apply(this,arguments)}(I._delegate,m,Ms))})()}signInWithRedirect(m){var I=this;return(0,h.Z)(function*(){return hr(Dd(),I._delegate,"operation-not-supported-in-this-environment"),yield Sd(I._delegate),md(I._delegate,m,Ms)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ow(v,f){return ll.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=yi,v})();function Pd(v,f,m){let I=v;"function"!=typeof v&&({next:I,error:f,complete:m}=v);const D=I;return{next:O=>D(O&&Go.getOrCreate(O)),error:f,complete:m}}function ip(v,f){const m=function t_(v,f){const m=rp();if(!m)return[];const I=er(tp,v,f);switch(m.getItem(I)){case yi.NONE:return[Hn];case yi.LOCAL:return[fl,_s];case yi.SESSION:return[_s];default:return[]}}(v,f);if(typeof self<"u"&&!m.includes(fl)&&m.push(fl),typeof window<"u")for(const I of[ld,_s])m.includes(I)||m.push(I);return m.includes(Hn)||m.push(Hn),m}class Ta{constructor(){this.providerId="phone",this._delegate=new ac(bi(fe.Z.auth()))}static credential(f,m){return ac.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ta.PHONE_SIGN_IN_METHOD=ac.PHONE_SIGN_IN_METHOD,Ta.PROVIDER_ID=ac.PROVIDER_ID;const Rb=F;class op{constructor(f,m,I=fe.Z.app()){var D;Rb(null===(D=I.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new db(I.auth(),f,m),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function n_(v){v.INTERNAL.registerComponent(new dt.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Ol(m,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:pf,FacebookAuthProvider:mf,GithubAuthProvider:nr,GoogleAuthProvider:Rt,OAuthProvider:ec,SAMLAuthProvider:sl,PhoneAuthProvider:Ta,PhoneMultiFactorGenerator:wl,RecaptchaVerifier:op,TwitterAuthProvider:vg,Auth:Ol,AuthCredential:Ka,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.1")}(fe.Z)},861:(on,Xe,ee)=>{function h(H,be,Me,ge,dt,Pt,He){try{var q=H[Pt](He),j=q.value}catch(ie){return void Me(ie)}q.done?be(j):Promise.resolve(j).then(ge,dt)}function fe(H){return function(){var be=this,Me=arguments;return new Promise(function(ge,dt){var Pt=H.apply(be,Me);function He(j){h(Pt,ge,dt,He,q,"next",j)}function q(j){h(Pt,ge,dt,He,q,"throw",j)}He(void 0)})}}ee.d(Xe,{Z:()=>fe})},582:(on,Xe,ee)=>{function be(J,te){var le={};for(var ae in J)Object.prototype.hasOwnProperty.call(J,ae)&&te.indexOf(ae)<0&&(le[ae]=J[ae]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ae=Object.getOwnPropertySymbols(J);ue<ae.length;ue++)te.indexOf(ae[ue])<0&&Object.prototype.propertyIsEnumerable.call(J,ae[ue])&&(le[ae[ue]]=J[ae[ue]])}return le}function ie(J,te,le,ae){return new(le||(le=Promise))(function(pe,ot){function zt(qt){try{Je(ae.next(qt))}catch(Bn){ot(Bn)}}function Jn(qt){try{Je(ae.throw(qt))}catch(Bn){ot(Bn)}}function Je(qt){qt.done?pe(qt.value):function ue(pe){return pe instanceof le?pe:new le(function(ot){ot(pe)})}(qt.value).then(zt,Jn)}Je((ae=ae.apply(J,te||[])).next())})}function mt(J){return this instanceof mt?(this.v=J,this):new mt(J)}function Ae(J,te,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=le.apply(J,te||[]),pe=[];return ue={},ot("next"),ot("throw"),ot("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function ot(Dn){ae[Dn]&&(ue[Dn]=function(Dr){return new Promise(function(Ar,pn){pe.push([Dn,Dr,Ar,pn])>1||zt(Dn,Dr)})})}function zt(Dn,Dr){try{!function Jn(Dn){Dn.value instanceof mt?Promise.resolve(Dn.value.v).then(Je,qt):Bn(pe[0][2],Dn)}(ae[Dn](Dr))}catch(Ar){Bn(pe[0][3],Ar)}}function Je(Dn){zt("next",Dn)}function qt(Dn){zt("throw",Dn)}function Bn(Dn,Dr){Dn(Dr),pe.shift(),pe.length&&zt(pe[0][0],pe[0][1])}}function Gt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,te=J[Symbol.asyncIterator];return te?te.call(J):(J=function xt(J){var te="function"==typeof Symbol&&Symbol.iterator,le=te&&J[te],ae=0;if(le)return le.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ae>=J.length&&(J=void 0),{value:J&&J[ae++],done:!J}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),le={},ae("next"),ae("throw"),ae("return"),le[Symbol.asyncIterator]=function(){return this},le);function ae(pe){le[pe]=J[pe]&&function(ot){return new Promise(function(zt,Jn){!function ue(pe,ot,zt,Jn){Promise.resolve(Jn).then(function(Je){pe({value:Je,done:zt})},ot)}(zt,Jn,(ot=J[pe](ot)).done,ot.value)})}}}ee.d(Xe,{FC:()=>Ae,KL:()=>Gt,_T:()=>be,mG:()=>ie,qq:()=>mt}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=428)}]);